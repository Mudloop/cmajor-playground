var uw=Object.create;var{getPrototypeOf:hw,defineProperty:U0,getOwnPropertyNames:pw}=Object;var fw=Object.prototype.hasOwnProperty;var Ky=(Ti,vr,ct)=>{ct=Ti!=null?uw(hw(Ti)):{};const ao=vr||!Ti||!Ti.__esModule?U0(ct,"default",{value:Ti,enumerable:!0}):ct;for(let dt of pw(Ti))if(!fw.call(ao,dt))U0(ao,dt,{get:()=>Ti[dt],enumerable:!0});return ao};var mw=(Ti,vr)=>()=>(vr||Ti((vr={exports:{}}).exports,vr),vr.exports);var gw=(Ti,vr)=>{for(var ct in vr)U0(Ti,ct,{get:vr[ct],enumerable:!0,configurable:!0,set:(ao)=>vr[ct]=()=>ao})};var e2=(Ti,vr)=>()=>(Ti&&(vr=Ti(Ti=0)),vr);var V0=mw((to,B0)=>{/*! For license information please see index.js.LICENSE.txt */(function(Ti,vr){typeof to=="object"&&typeof B0=="object"?B0.exports=vr():typeof define=="function"&&define.amd?define([],vr):typeof to=="object"?to["monaco-bundle"]=vr():Ti["monaco-bundle"]=vr()})(self,()=>(()=>{var Ti={5893:(dt,pe,h)=>{h.d(pe,{Dy:()=>T,H8:()=>w,Qu:()=>_,Tc:()=>E,c8:()=>d,gm:()=>v,m0:()=>f,nr:()=>C,pR:()=>J});var s=h(8877);class I{constructor(){this.mapWindowIdToZoomFactor=new Map}static{this.INSTANCE=new I}getZoomFactor(m){return this.mapWindowIdToZoomFactor.get(this.getWindowId(m))??1}getWindowId(m){return m.vscodeWindowId}}function T(m,b,x){typeof b=="string"&&(b=m.matchMedia(b)),b.addEventListener("change",x)}function J(m){return I.INSTANCE.getZoomFactor(m)}const M=navigator.userAgent,v=M.indexOf("Firefox")>=0,E=M.indexOf("AppleWebKit")>=0,w=M.indexOf("Chrome")>=0,C=!w&&M.indexOf("Safari")>=0,d=!w&&!C&&E,f=(M.indexOf("Electron/"),M.indexOf("Android")>=0);let p=!1;if(typeof s.G.matchMedia=="function"){const m=s.G.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),b=s.G.matchMedia("(display-mode: fullscreen)");p=m.matches,T(s.G,m,({matches:x})=>{p&&b.matches||(p=x)})}function _(){return p}},1577:(dt,pe,h)=>{h.d(pe,{e:()=>J});var s=h(5893),I=h(8877),T=h(3339);const J={clipboard:{writeText:T.ib||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:T.ib||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:T.ib||s.Qu()?0:navigator.keyboard||s.nr?1:2,touch:"ontouchstart"in I.G||navigator.maxTouchPoints>0,pointerEvents:I.G.PointerEvent&&(("ontouchstart"in I.G)||navigator.maxTouchPoints>0)}},9587:(dt,pe,h)=>{h.d(pe,{t:()=>s});const s={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:h(3720).K.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}},4333:(dt,pe,h)=>{h.d(pe,{$:()=>un,BC:()=>Ii,BK:()=>Se,Be:()=>Te,Bx:()=>En,CE:()=>Hn,Cl:()=>ae,Di:()=>Xi,Ej:()=>Je,Er:()=>Mi,Fv:()=>B,H4:()=>g,Hs:()=>er,Ij:()=>V,Iv:()=>L,L9:()=>Be,Ln:()=>Zi,Mc:()=>or,OK:()=>ge,Oq:()=>Y,PG:()=>ve,Pl:()=>Ni,Q2:()=>P,QX:()=>We,TT:()=>Ui,Tf:()=>pi,Tr:()=>Le,U2:()=>rn,U3:()=>H,WU:()=>Yn,Wt:()=>pn,X7:()=>Ye,XD:()=>de,Xc:()=>ne,ZF:()=>z,a:()=>oe,a4:()=>dr,b2:()=>ee,bo:()=>ft,bq:()=>Ue,cL:()=>re,fg:()=>Q,fs:()=>si,fz:()=>rt,gI:()=>Gi,h:()=>Hi,i0:()=>Xt,jD:()=>Nt,jG:()=>O,jh:()=>ye,ko:()=>G,kx:()=>Oi,li:()=>Mt,mU:()=>Pe,nR:()=>Fe,nY:()=>Bn,pN:()=>Pi,q3:()=>W,sb:()=>Mn,sd:()=>li,tG:()=>Ie,vT:()=>Ci,w5:()=>xi,w_:()=>U,wk:()=>Ln,xZ:()=>wi,y6:()=>Ve,yt:()=>Ji,zK:()=>ti,zk:()=>b});var s=h(5893),I=h(1577),T=h(7594),J=h(9715),M=h(5958),v=h(4327),E=h(2106),w=h(2542),C=h(998),d=h(3072),f=h(3339),p=h(2344),_=h(8877);const{registerWindow:m,getWindow:b,getDocument:x,getWindows:k,getWindowsCount:R,getWindowId:P,getWindowById:z,hasWindow:te,onDidRegisterWindow:L,onWillUnregisterWindow:W,onDidUnregisterWindow:B}=function(){const _t=new Map;_.y(_.G,1);const Kt={window:_.G,disposables:new C.Cm};_t.set(_.G.vscodeWindowId,Kt);const tn=new E.vl,In=new E.vl,mn=new E.vl;return{onDidRegisterWindow:tn.event,onWillUnregisterWindow:mn.event,onDidUnregisterWindow:In.event,registerWindow(wn){if(_t.has(wn.vscodeWindowId))return C.jG.None;const An=new C.Cm,fi={window:wn,disposables:An.add(new C.Cm)};return _t.set(wn.vscodeWindowId,fi),An.add(C.s(()=>{_t.delete(wn.vscodeWindowId),In.fire(wn)})),An.add(G(wn,En.BEFORE_UNLOAD,()=>{mn.fire(wn)})),tn.fire(fi),An},getWindows:()=>_t.values(),getWindowsCount:()=>_t.size,getWindowId:(wn)=>wn.vscodeWindowId,hasWindow:(wn)=>_t.has(wn),getWindowById:function(wn,An){return(typeof wn=="number"?_t.get(wn):void 0)??(An?Kt:void 0)},getWindow(wn){const An=wn;if(An?.ownerDocument?.defaultView)return An.ownerDocument.defaultView.window;const fi=wn;return fi?.view?fi.view.window:_.G},getDocument:(wn)=>b(wn).document}}();function U(_t){for(;_t.firstChild;)_t.firstChild.remove()}class ${constructor(_t,Kt,tn,In){this._node=_t,this._type=Kt,this._handler=tn,this._options=In||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function G(_t,Kt,tn,In){return new $(_t,Kt,tn,In)}function ie(_t,Kt){return function(tn){return Kt(new J.P(_t,tn))}}const ee=function(_t,Kt,tn,In){let mn=tn;return Kt==="click"||Kt==="mousedown"||Kt==="contextmenu"?mn=ie(b(_t),tn):Kt!=="keydown"&&Kt!=="keypress"&&Kt!=="keyup"||(mn=function(wn){return function(An){return wn(new T.Z(An))}}(tn)),G(_t,Kt,mn,In)},ne=function(_t,Kt,tn){return function(In,mn,wn){return G(In,f.un&&I.e.pointerEvents?En.POINTER_DOWN:En.MOUSE_DOWN,mn,wn)}(_t,ie(b(_t),Kt),tn)};function H(_t,Kt,tn){return M.b7(_t,Kt,tn)}class V extends M.A0{constructor(_t,Kt){super(_t,Kt)}}let Y,ve;class Te extends M.vb{constructor(_t){super(),this.defaultTarget=_t&&b(_t)}cancelAndSet(_t,Kt,tn){return super.cancelAndSet(_t,Kt,tn??this.defaultTarget)}}class xe{constructor(_t,Kt=0){this._runner=_t,this.priority=Kt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(_t){v.dz(_t)}}static sort(_t,Kt){return Kt.priority-_t.priority}}function Be(_t){return b(_t).getComputedStyle(_t,null)}function Ie(_t,Kt){const tn=b(_t),In=tn.document;if(_t!==In.body)return new Q(_t.clientWidth,_t.clientHeight);if(f.un&&tn?.visualViewport)return new Q(tn.visualViewport.width,tn.visualViewport.height);if(tn?.innerWidth&&tn.innerHeight)return new Q(tn.innerWidth,tn.innerHeight);if(In.body&&In.body.clientWidth&&In.body.clientHeight)return new Q(In.body.clientWidth,In.body.clientHeight);if(In.documentElement&&In.documentElement.clientWidth&&In.documentElement.clientHeight)return new Q(In.documentElement.clientWidth,In.documentElement.clientHeight);if(Kt)return Ie(Kt);throw new Error("Unable to figure out browser width and height")}(function(){const _t=new Map,Kt=new Map,tn=new Map,In=new Map;ve=(mn,wn,An=0)=>{const fi=P(mn),qn=new xe(wn,An);let oi=_t.get(fi);return oi||(oi=[],_t.set(fi,oi)),oi.push(qn),tn.get(fi)||(tn.set(fi,!0),mn.requestAnimationFrame(()=>((Ai)=>{tn.set(Ai,!1);const nr=_t.get(Ai)??[];for(Kt.set(Ai,nr),_t.set(Ai,[]),In.set(Ai,!0);nr.length>0;)nr.sort(xe.sort),nr.shift().execute();In.set(Ai,!1)})(fi))),qn},Y=(mn,wn,An)=>{const fi=P(mn);if(In.get(fi)){const qn=new xe(wn,An);let oi=Kt.get(fi);return oi||(oi=[],Kt.set(fi,oi)),oi.push(qn),qn}return ve(mn,wn,An)}})();class he{static convertToPixels(_t,Kt){return parseFloat(Kt)||0}static getDimension(_t,Kt,tn){const In=Be(_t),mn=In?In.getPropertyValue(Kt):"0";return he.convertToPixels(_t,mn)}static getBorderLeftWidth(_t){return he.getDimension(_t,"border-left-width","borderLeftWidth")}static getBorderRightWidth(_t){return he.getDimension(_t,"border-right-width","borderRightWidth")}static getBorderTopWidth(_t){return he.getDimension(_t,"border-top-width","borderTopWidth")}static getBorderBottomWidth(_t){return he.getDimension(_t,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(_t){return he.getDimension(_t,"padding-left","paddingLeft")}static getPaddingRight(_t){return he.getDimension(_t,"padding-right","paddingRight")}static getPaddingTop(_t){return he.getDimension(_t,"padding-top","paddingTop")}static getPaddingBottom(_t){return he.getDimension(_t,"padding-bottom","paddingBottom")}static getMarginLeft(_t){return he.getDimension(_t,"margin-left","marginLeft")}static getMarginTop(_t){return he.getDimension(_t,"margin-top","marginTop")}static getMarginRight(_t){return he.getDimension(_t,"margin-right","marginRight")}static getMarginBottom(_t){return he.getDimension(_t,"margin-bottom","marginBottom")}}class Q{static{this.None=new Q(0,0)}constructor(_t,Kt){this.width=_t,this.height=Kt}with(_t=this.width,Kt=this.height){return _t!==this.width||Kt!==this.height?new Q(_t,Kt):this}static is(_t){return typeof _t=="object"&&typeof _t.height=="number"&&typeof _t.width=="number"}static lift(_t){return _t instanceof Q?_t:new Q(_t.width,_t.height)}static equals(_t,Kt){return _t===Kt||!(!_t||!Kt)&&_t.width===Kt.width&&_t.height===Kt.height}}function re(_t){let{offsetParent:Kt,offsetTop:tn,offsetLeft:In}=_t;for(;(_t=_t.parentNode)!==null&&_t!==_t.ownerDocument.body&&_t!==_t.ownerDocument.documentElement;){tn-=_t.scrollTop;const mn=be(_t)?null:Be(_t);mn&&(In-=mn.direction!=="rtl"?_t.scrollLeft:-_t.scrollLeft),_t===Kt&&(In+=he.getBorderLeftWidth(_t),tn+=he.getBorderTopWidth(_t),tn+=_t.offsetTop,In+=_t.offsetLeft,Kt=_t.offsetParent)}return{left:In,top:tn}}function Je(_t,Kt,tn){typeof Kt=="number"&&(_t.style.width=`${Kt}px`),typeof tn=="number"&&(_t.style.height=`${tn}px`)}function Se(_t){const Kt=_t.getBoundingClientRect(),tn=b(_t);return{left:Kt.left+tn.scrollX,top:Kt.top+tn.scrollY,width:Kt.width,height:Kt.height}}function Pe(_t){let Kt=_t,tn=1;do{const In=Be(Kt).zoom;In!=null&&In!=="1"&&(tn*=In),Kt=Kt.parentElement}while(Kt!==null&&Kt!==Kt.ownerDocument.documentElement);return tn}function Le(_t){const Kt=he.getMarginLeft(_t)+he.getMarginRight(_t);return _t.offsetWidth+Kt}function Ve(_t){const Kt=he.getBorderLeftWidth(_t)+he.getBorderRightWidth(_t),tn=he.getPaddingLeft(_t)+he.getPaddingRight(_t);return _t.offsetWidth-Kt-tn}function g(_t){const Kt=he.getBorderTopWidth(_t)+he.getBorderBottomWidth(_t),tn=he.getPaddingTop(_t)+he.getPaddingBottom(_t);return _t.offsetHeight-Kt-tn}function ge(_t){const Kt=he.getMarginTop(_t)+he.getMarginBottom(_t);return _t.offsetHeight+Kt}function We(_t,Kt){return Boolean(Kt?.contains(_t))}function de(_t,Kt,tn){return!!function(In,mn,wn){for(;In&&In.nodeType===In.ELEMENT_NODE;){if(In.classList.contains(mn))return In;if(wn){if(typeof wn=="string"){if(In.classList.contains(wn))return null}else if(In===wn)return null}In=In.parentNode}return null}(_t,Kt,tn)}function be(_t){return _t&&!!_t.host&&!!_t.mode}function ae(_t){return!!O(_t)}function O(_t){for(;_t.parentNode;){if(_t===_t.ownerDocument?.body)return null;_t=_t.parentNode}return be(_t)?_t:null}function Ue(){let _t=oe().activeElement;for(;_t?.shadowRoot;)_t=_t.shadowRoot.activeElement;return _t}function Ye(_t){return Ue()===_t}function Fe(_t){return We(Ue(),_t)}function oe(){return R()<=1?_.G.document:Array.from(k()).map(({window:_t})=>_t.document).find((_t)=>_t.hasFocus())??_.G.document}function rt(){return oe().defaultView?.window??_.G}const lt=new Map;function ye(){return new pt}class pt{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle(_t){_t!==this._currentCssStyle&&(this._currentCssStyle=_t,this._styleSheet?this._styleSheet.innerText=_t:this._styleSheet=Mt(_.G.document.head,(Kt)=>Kt.innerText=_t))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function Mt(_t=_.G.document.head,Kt,tn){const In=document.createElement("style");if(In.type="text/css",In.media="screen",Kt?.(In),_t.appendChild(In),tn&&tn.add(C.s(()=>In.remove())),_t===_.G.document.head){const mn=new Set;lt.set(In,mn);for(let{window:wn,disposables:An}of k()){if(wn===_.G)continue;const fi=An.add(Zt(In,mn,wn));tn?.add(fi)}}return In}function Zt(_t,Kt,tn){const In=new C.Cm,mn=_t.cloneNode(!0);tn.document.head.appendChild(mn),In.add(C.s(()=>mn.remove()));for(let wn of gn(_t))mn.sheet?.insertRule(wn.cssText,mn.sheet?.cssRules.length);return In.add(jt.observe(_t,In,{childList:!0})(()=>{mn.textContent=_t.textContent})),Kt.add(mn),In.add(C.s(()=>Kt.delete(mn))),In}const jt=new class{constructor(){this.mutationObservers=new Map}observe(_t,Kt,tn){let In=this.mutationObservers.get(_t);In||(In=new Map,this.mutationObservers.set(_t,In));const mn=p.tW(tn);let wn=In.get(mn);if(wn)wn.users+=1;else{const An=new E.vl,fi=new MutationObserver((oi)=>An.fire(oi));fi.observe(_t,tn);const qn=wn={users:1,observer:fi,onDidMutate:An.event};Kt.add(C.s(()=>{qn.users-=1,qn.users===0&&(An.dispose(),fi.disconnect(),In?.delete(mn),In?.size===0&&this.mutationObservers.delete(_t))})),In.set(mn,wn)}return wn.onDidMutate}};let xn=null;function nn(){return xn||(xn=Mt()),xn}function gn(_t){return _t?.sheet?.rules?_t.sheet.rules:_t?.sheet?.cssRules?_t.sheet.cssRules:[]}function pn(_t,Kt,tn=nn()){if(tn&&Kt){tn.sheet?.insertRule(`${_t} {${Kt}}`,0);for(let In of lt.get(tn)??[])pn(_t,Kt,In)}}function rn(_t,Kt=nn()){if(!Kt)return;const tn=gn(Kt),In=[];for(let mn=0;mn<tn.length;mn++){const wn=tn[mn];Sn(wn)&&wn.selectorText.indexOf(_t)!==-1&&In.push(mn)}for(let mn=In.length-1;mn>=0;mn--)Kt.sheet?.deleteRule(In[mn]);for(let mn of lt.get(Kt)??[])rn(_t,mn)}function Sn(_t){return typeof _t.selectorText=="string"}function Mn(_t){return _t instanceof HTMLElement||_t instanceof b(_t).HTMLElement}function Bn(_t){return _t instanceof HTMLAnchorElement||_t instanceof b(_t).HTMLAnchorElement}function wi(_t){return _t instanceof SVGElement||_t instanceof b(_t).SVGElement}function Mi(_t){return _t instanceof MouseEvent||_t instanceof b(_t).MouseEvent}function Oi(_t){return _t instanceof KeyboardEvent||_t instanceof b(_t).KeyboardEvent}const En={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:s.Tc?"webkitAnimationStart":"animationstart",ANIMATION_END:s.Tc?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:s.Tc?"webkitAnimationIteration":"animationiteration"};function li(_t){const Kt=_t;return!(!Kt||typeof Kt.preventDefault!="function"||typeof Kt.stopPropagation!="function")}const si={stop:(_t,Kt)=>(_t.preventDefault(),Kt&&_t.stopPropagation(),_t)};function ti(_t){const Kt=[];for(let tn=0;_t&&_t.nodeType===_t.ELEMENT_NODE;tn++)Kt[tn]=_t.scrollTop,_t=_t.parentNode;return Kt}function Ln(_t,Kt){for(let tn=0;_t&&_t.nodeType===_t.ELEMENT_NODE;tn++)_t.scrollTop!==Kt[tn]&&(_t.scrollTop=Kt[tn]),_t=_t.parentNode}class Xn extends C.jG{static hasFocusWithin(_t){if(Mn(_t)){const Kt=O(_t);return We(Kt?Kt.activeElement:_t.ownerDocument.activeElement,_t)}{const Kt=_t;return We(Kt.document.activeElement,Kt.document)}}constructor(_t){super(),this._onDidFocus=this._register(new E.vl),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new E.vl),this.onDidBlur=this._onDidBlur.event;let Kt=Xn.hasFocusWithin(_t),tn=!1;const In=()=>{tn=!1,Kt||(Kt=!0,this._onDidFocus.fire())},mn=()=>{Kt&&(tn=!0,(Mn(_t)?b(_t):_t).setTimeout(()=>{tn&&(tn=!1,Kt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Xn.hasFocusWithin(_t)!==Kt&&(Kt?mn():In())},this._register(G(_t,En.FOCUS,In,!0)),this._register(G(_t,En.BLUR,mn,!0)),Mn(_t)&&(this._register(G(_t,En.FOCUS_IN,()=>this._refreshStateHandler())),this._register(G(_t,En.FOCUS_OUT,()=>this._refreshStateHandler())))}}function xi(_t){return new Xn(_t)}function Ni(_t,Kt){return _t.after(Kt),Kt}function Ii(_t,...Kt){if(_t.append(...Kt),Kt.length===1&&typeof Kt[0]!="string")return Kt[0]}function er(_t,Kt){return _t.insertBefore(Kt,_t.firstChild),Kt}function Zi(_t,...Kt){_t.innerText="",Ii(_t,...Kt)}const tr=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var rr;function yi(_t,Kt,tn,...In){const mn=tr.exec(Kt);if(!mn)throw new Error("Bad use of emmet");const wn=mn[1]||"div";let An;return An=_t!==rr.HTML?document.createElementNS(_t,wn):document.createElement(wn),mn[3]&&(An.id=mn[3]),mn[4]&&(An.className=mn[4].replace(/\./g," ").trim()),tn&&Object.entries(tn).forEach(([fi,qn])=>{qn!==void 0&&(/^on\w+$/.test(fi)?An[fi]=qn:fi==="selected"?qn&&An.setAttribute(fi,"true"):An.setAttribute(fi,qn))}),An.append(...In),An}function un(_t,Kt,...tn){return yi(rr.HTML,_t,Kt,...tn)}function ft(_t,...Kt){_t?Yn(...Kt):Nt(...Kt)}function Yn(..._t){for(let Kt of _t)Kt.style.display="",Kt.removeAttribute("aria-hidden")}function Nt(..._t){for(let Kt of _t)Kt.style.display="none",Kt.setAttribute("aria-hidden","true")}function Ci(_t,Kt){const tn=_t.devicePixelRatio*Kt;return Math.max(1,Math.floor(tn))/_t.devicePixelRatio}function Hn(_t){_.G.open(_t,"_blank","noopener")}function Xt(_t,Kt){const tn=()=>{Kt(),In=ve(_t,tn)};let In=ve(_t,tn);return C.s(()=>In.dispose())}function pi(_t){return _t?`url('${d.zl.uriToBrowserUri(_t).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Ji(_t){return`'${_t.replace(/'/g,"%27")}'`}function Gi(_t,Kt){if(_t!==void 0){const tn=_t.match(/^\s*var\((.+)\)$/);if(tn){const In=tn[1].split(",",2);return In.length===2&&(Kt=Gi(In[1].trim(),Kt)),`var(${In[0]}, ${Kt})`}return _t}return Kt}function dr(_t,Kt=!1){const tn=document.createElement("a");return w.$w("afterSanitizeAttributes",(In)=>{for(let mn of["href","src"])if(In.hasAttribute(mn)){const wn=In.getAttribute(mn);if(mn==="href"&&wn.startsWith("#"))continue;if(tn.href=wn,!_t.includes(tn.protocol.replace(/:$/,""))){if(Kt&&mn==="src"&&tn.href.startsWith("data:"))continue;In.removeAttribute(mn)}}}),C.s(()=>{w.SV("afterSanitizeAttributes")})}(function(_t){_t.HTML="http://www.w3.org/1999/xhtml",_t.SVG="http://www.w3.org/2000/svg"})(rr||(rr={})),un.SVG=function(_t,Kt,...tn){return yi(rr.SVG,_t,Kt,...tn)},d.Ez.setPreferredWebSchema(/^https:/.test(_.G.location.href)?"https":"http");const Ui=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Xi extends E.vl{constructor(){super(),this._subscriptions=new C.Cm,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(E.Jh.runAndSubscribe(L,({window:_t,disposables:Kt})=>this.registerListeners(_t,Kt),{window:_.G,disposables:this._subscriptions}))}registerListeners(_t,Kt){Kt.add(G(_t,"keydown",(tn)=>{if(tn.defaultPrevented)return;const In=new T.Z(tn);if(In.keyCode!==6||!tn.repeat){if(tn.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(tn.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(tn.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(tn.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(In.keyCode===6)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=tn.altKey,this._keyStatus.ctrlKey=tn.ctrlKey,this._keyStatus.metaKey=tn.metaKey,this._keyStatus.shiftKey=tn.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=tn,this.fire(this._keyStatus))}},!0)),Kt.add(G(_t,"keyup",(tn)=>{tn.defaultPrevented||(!tn.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!tn.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!tn.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!tn.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=tn.altKey,this._keyStatus.ctrlKey=tn.ctrlKey,this._keyStatus.metaKey=tn.metaKey,this._keyStatus.shiftKey=tn.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=tn,this.fire(this._keyStatus)))},!0)),Kt.add(G(_t.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Kt.add(G(_t.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Kt.add(G(_t.document.body,"mousemove",(tn)=>{tn.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),Kt.add(G(_t,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Xi.instance||(Xi.instance=new Xi),Xi.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Pi extends C.jG{constructor(_t,Kt){super(),this.element=_t,this.callbacks=Kt,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(G(this.element,En.DRAG_START,(_t)=>{this.callbacks.onDragStart?.(_t)})),this.callbacks.onDrag&&this._register(G(this.element,En.DRAG,(_t)=>{this.callbacks.onDrag?.(_t)})),this._register(G(this.element,En.DRAG_ENTER,(_t)=>{this.counter++,this.dragStartTime=_t.timeStamp,this.callbacks.onDragEnter?.(_t)})),this._register(G(this.element,En.DRAG_OVER,(_t)=>{_t.preventDefault(),this.callbacks.onDragOver?.(_t,_t.timeStamp-this.dragStartTime)})),this._register(G(this.element,En.DRAG_LEAVE,(_t)=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave?.(_t))})),this._register(G(this.element,En.DRAG_END,(_t)=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd?.(_t)})),this._register(G(this.element,En.DROP,(_t)=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop?.(_t)}))}}const ar=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function Hi(_t,...Kt){let tn,In;Array.isArray(Kt[0])?(tn={},In=Kt[0]):(tn=Kt[0]||{},In=Kt[1]);const mn=ar.exec(_t);if(!mn||!mn.groups)throw new Error("Bad use of h");const wn=mn.groups.tag||"div",An=document.createElement(wn);mn.groups.id&&(An.id=mn.groups.id);const fi=[];if(mn.groups.class)for(let oi of mn.groups.class.split("."))oi!==""&&fi.push(oi);if(tn.className!==void 0)for(let oi of tn.className.split("."))oi!==""&&fi.push(oi);fi.length>0&&(An.className=fi.join(" "));const qn={};if(mn.groups.name&&(qn[mn.groups.name]=An),In)for(let oi of In)Mn(oi)?An.appendChild(oi):typeof oi=="string"?An.append(oi):("root"in oi)&&(Object.assign(qn,oi),An.appendChild(oi.root));for(let[oi,Ai]of Object.entries(tn))if(oi!=="className")if(oi==="style")for(let[nr,$i]of Object.entries(Ai))An.style.setProperty(Yi(nr),typeof $i=="number"?$i+"px":""+$i);else oi==="tabIndex"?An.tabIndex=Ai:An.setAttribute(Yi(oi),Ai.toString());return qn.root=An,qn}function or(_t,...Kt){let tn,In;Array.isArray(Kt[0])?(tn={},In=Kt[0]):(tn=Kt[0]||{},In=Kt[1]);const mn=ar.exec(_t);if(!mn||!mn.groups)throw new Error("Bad use of h");const wn=mn.groups.tag||"div",An=document.createElementNS("http://www.w3.org/2000/svg",wn);mn.groups.id&&(An.id=mn.groups.id);const fi=[];if(mn.groups.class)for(let oi of mn.groups.class.split("."))oi!==""&&fi.push(oi);if(tn.className!==void 0)for(let oi of tn.className.split("."))oi!==""&&fi.push(oi);fi.length>0&&(An.className=fi.join(" "));const qn={};if(mn.groups.name&&(qn[mn.groups.name]=An),In)for(let oi of In)Mn(oi)?An.appendChild(oi):typeof oi=="string"?An.append(oi):("root"in oi)&&(Object.assign(qn,oi),An.appendChild(oi.root));for(let[oi,Ai]of Object.entries(tn))if(oi!=="className")if(oi==="style")for(let[nr,$i]of Object.entries(Ai))An.style.setProperty(Yi(nr),typeof $i=="number"?$i+"px":""+$i);else oi==="tabIndex"?An.tabIndex=Ai:An.setAttribute(Yi(oi),Ai.toString());return qn.root=An,qn}function Yi(_t){return _t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},2542:(dt,pe,h)=>{h.d(pe,{$w:()=>be,SV:()=>ae,aj:()=>de});const{entries:s,setPrototypeOf:I,isFrozen:T,getPrototypeOf:J,getOwnPropertyDescriptor:M}=Object;let{freeze:v,seal:E,create:w}=Object,{apply:C,construct:d}=typeof Reflect!="undefined"&&Reflect;C||(C=function(O,Ue,Ye){return O.apply(Ue,Ye)}),v||(v=function(O){return O}),E||(E=function(O){return O}),d||(d=function(O,Ue){return new O(...Ue)});const f=W(Array.prototype.forEach),p=W(Array.prototype.pop),_=W(Array.prototype.push),m=W(String.prototype.toLowerCase),b=W(String.prototype.toString),x=W(String.prototype.match),k=W(String.prototype.replace),R=W(String.prototype.indexOf),P=W(String.prototype.trim),z=W(RegExp.prototype.test),te=(L=TypeError,function(){for(var O=arguments.length,Ue=new Array(O),Ye=0;Ye<O;Ye++)Ue[Ye]=arguments[Ye];return d(L,Ue)});var L;function W(O){return function(Ue){for(var Ye=arguments.length,Fe=new Array(Ye>1?Ye-1:0),oe=1;oe<Ye;oe++)Fe[oe-1]=arguments[oe];return C(O,Ue,Fe)}}function B(O,Ue,Ye){var Fe;Ye=(Fe=Ye)!==null&&Fe!==void 0?Fe:m,I&&I(O,null);let oe=Ue.length;for(;oe--;){let rt=Ue[oe];if(typeof rt=="string"){const lt=Ye(rt);lt!==rt&&(T(Ue)||(Ue[oe]=lt),rt=lt)}O[rt]=!0}return O}function U(O){const Ue=w(null);for(let[Ye,Fe]of s(O))Ue[Ye]=Fe;return Ue}function $(O,Ue){for(;O!==null;){const Ye=M(O,Ue);if(Ye){if(Ye.get)return W(Ye.get);if(typeof Ye.value=="function")return W(Ye.value)}O=J(O)}return function(Ye){return console.warn("fallback value for",Ye),null}}const G=v(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ie=v(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ee=v(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ne=v(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),H=v(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),V=v(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Y=v(["#text"]),ve=v(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Te=v(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xe=v(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Be=v(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ie=E(/\{\{[\w\W]*|[\w\W]*\}\}/gm),he=E(/<%[\w\W]*|[\w\W]*%>/gm),Q=E(/\${[\w\W]*}/gm),re=E(/^data-[\-\w.\u00B7-\uFFFF]/),Je=E(/^aria-[\-\w]+$/),Se=E(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pe=E(/^(?:\w+script|data):/i),Le=E(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ve=E(/^html$/i);var g=Object.freeze({__proto__:null,MUSTACHE_EXPR:Ie,ERB_EXPR:he,TMPLIT_EXPR:Q,DATA_ATTR:re,ARIA_ATTR:Je,IS_ALLOWED_URI:Se,IS_SCRIPT_OR_DATA:Pe,ATTR_WHITESPACE:Le,DOCTYPE_NAME:Ve});const ge=()=>typeof window=="undefined"?null:window;var We=function O(){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ge();const Ye=(St)=>O(St);if(Ye.version="3.0.5",Ye.removed=[],!Ue||!Ue.document||Ue.document.nodeType!==9)return Ye.isSupported=!1,Ye;const Fe=Ue.document,oe=Fe.currentScript;let{document:rt}=Ue;const{DocumentFragment:lt,HTMLTemplateElement:ye,Node:pt,Element:Mt,NodeFilter:Zt,NamedNodeMap:jt=Ue.NamedNodeMap||Ue.MozNamedAttrMap,HTMLFormElement:xn,DOMParser:nn,trustedTypes:gn}=Ue,pn=Mt.prototype,rn=$(pn,"cloneNode"),Sn=$(pn,"nextSibling"),Mn=$(pn,"childNodes"),Bn=$(pn,"parentNode");if(typeof ye=="function"){const St=rt.createElement("template");St.content&&St.content.ownerDocument&&(rt=St.content.ownerDocument)}let wi,Mi="";const{implementation:Oi,createNodeIterator:En,createDocumentFragment:li,getElementsByTagName:si}=rt,{importNode:ti}=Fe;let Ln={};Ye.isSupported=typeof s=="function"&&typeof Bn=="function"&&Oi&&Oi.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Xn,ERB_EXPR:xi,TMPLIT_EXPR:Ni,DATA_ATTR:Ii,ARIA_ATTR:er,IS_SCRIPT_OR_DATA:Zi,ATTR_WHITESPACE:tr}=g;let{IS_ALLOWED_URI:rr}=g,yi=null;const un=B({},[...G,...ie,...ee,...H,...Y]);let ft=null;const Yn=B({},[...ve,...Te,...xe,...Be]);let Nt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ci=null,Hn=null,Xt=!0,pi=!0,Ji=!1,Gi=!0,dr=!1,Ui=!1,Xi=!1,Pi=!1,ar=!1,Hi=!1,or=!1,Yi=!0,_t=!1,Kt=!0,tn=!1,In={},mn=null;const wn=B({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let An=null;const fi=B({},["audio","video","img","source","image","track"]);let qn=null;const oi=B({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ai="http://www.w3.org/1998/Math/MathML",nr="http://www.w3.org/2000/svg",$i="http://www.w3.org/1999/xhtml";let ji=$i,di=!1,Qi=null;const wr=B({},[Ai,nr,$i],b);let ht;const xt=["application/xhtml+xml","text/html"];let se,Ae=null;const He=rt.createElement("form"),mt=function(St){return St instanceof RegExp||St instanceof Function},At=function(St){if(!Ae||Ae!==St){if(St&&typeof St=="object"||(St={}),St=U(St),ht=ht=xt.indexOf(St.PARSER_MEDIA_TYPE)===-1?"text/html":St.PARSER_MEDIA_TYPE,se=ht==="application/xhtml+xml"?b:m,yi="ALLOWED_TAGS"in St?B({},St.ALLOWED_TAGS,se):un,ft="ALLOWED_ATTR"in St?B({},St.ALLOWED_ATTR,se):Yn,Qi="ALLOWED_NAMESPACES"in St?B({},St.ALLOWED_NAMESPACES,b):wr,qn="ADD_URI_SAFE_ATTR"in St?B(U(oi),St.ADD_URI_SAFE_ATTR,se):oi,An="ADD_DATA_URI_TAGS"in St?B(U(fi),St.ADD_DATA_URI_TAGS,se):fi,mn="FORBID_CONTENTS"in St?B({},St.FORBID_CONTENTS,se):wn,Ci="FORBID_TAGS"in St?B({},St.FORBID_TAGS,se):{},Hn="FORBID_ATTR"in St?B({},St.FORBID_ATTR,se):{},In="USE_PROFILES"in St&&St.USE_PROFILES,Xt=St.ALLOW_ARIA_ATTR!==!1,pi=St.ALLOW_DATA_ATTR!==!1,Ji=St.ALLOW_UNKNOWN_PROTOCOLS||!1,Gi=St.ALLOW_SELF_CLOSE_IN_ATTR!==!1,dr=St.SAFE_FOR_TEMPLATES||!1,Ui=St.WHOLE_DOCUMENT||!1,ar=St.RETURN_DOM||!1,Hi=St.RETURN_DOM_FRAGMENT||!1,or=St.RETURN_TRUSTED_TYPE||!1,Pi=St.FORCE_BODY||!1,Yi=St.SANITIZE_DOM!==!1,_t=St.SANITIZE_NAMED_PROPS||!1,Kt=St.KEEP_CONTENT!==!1,tn=St.IN_PLACE||!1,rr=St.ALLOWED_URI_REGEXP||Se,ji=St.NAMESPACE||$i,Nt=St.CUSTOM_ELEMENT_HANDLING||{},St.CUSTOM_ELEMENT_HANDLING&&mt(St.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Nt.tagNameCheck=St.CUSTOM_ELEMENT_HANDLING.tagNameCheck),St.CUSTOM_ELEMENT_HANDLING&&mt(St.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Nt.attributeNameCheck=St.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),St.CUSTOM_ELEMENT_HANDLING&&typeof St.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Nt.allowCustomizedBuiltInElements=St.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),dr&&(pi=!1),Hi&&(ar=!0),In&&(yi=B({},[...Y]),ft=[],In.html===!0&&(B(yi,G),B(ft,ve)),In.svg===!0&&(B(yi,ie),B(ft,Te),B(ft,Be)),In.svgFilters===!0&&(B(yi,ee),B(ft,Te),B(ft,Be)),In.mathMl===!0&&(B(yi,H),B(ft,xe),B(ft,Be))),St.ADD_TAGS&&(yi===un&&(yi=U(yi)),B(yi,St.ADD_TAGS,se)),St.ADD_ATTR&&(ft===Yn&&(ft=U(ft)),B(ft,St.ADD_ATTR,se)),St.ADD_URI_SAFE_ATTR&&B(qn,St.ADD_URI_SAFE_ATTR,se),St.FORBID_CONTENTS&&(mn===wn&&(mn=U(mn)),B(mn,St.FORBID_CONTENTS,se)),Kt&&(yi["#text"]=!0),Ui&&B(yi,["html","head","body"]),yi.table&&(B(yi,["tbody"]),delete Ci.tbody),St.TRUSTED_TYPES_POLICY){if(typeof St.TRUSTED_TYPES_POLICY.createHTML!="function")throw te('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof St.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw te('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');wi=St.TRUSTED_TYPES_POLICY,Mi=wi.createHTML("")}else wi===void 0&&(wi=function(Lt,on){if(typeof Lt!="object"||typeof Lt.createPolicy!="function")return null;let ln=null;const Dn="data-tt-policy-suffix";on&&on.hasAttribute(Dn)&&(ln=on.getAttribute(Dn));const vn="dompurify"+(ln?"#"+ln:"");try{return Lt.createPolicy(vn,{createHTML:($n)=>$n,createScriptURL:($n)=>$n})}catch($n){return console.warn("TrustedTypes policy "+vn+" could not be created."),null}}(gn,oe)),wi!==null&&typeof Mi=="string"&&(Mi=wi.createHTML(""));v&&v(St),Ae=St}},zt=B({},["mi","mo","mn","ms","mtext"]),Pt=B({},["foreignobject","desc","title","annotation-xml"]),Wt=B({},["title","style","font","a","script"]),Nn=B({},ie);B(Nn,ee),B(Nn,ne);const bn=B({},H);B(bn,V);const Jn=function(St){_(Ye.removed,{element:St});try{St.parentNode.removeChild(St)}catch(Lt){St.remove()}},$e=function(St,Lt){try{_(Ye.removed,{attribute:Lt.getAttributeNode(St),from:Lt})}catch(on){_(Ye.removed,{attribute:null,from:Lt})}if(Lt.removeAttribute(St),St==="is"&&!ft[St])if(ar||Hi)try{Jn(Lt)}catch(on){}else try{Lt.setAttribute(St,"")}catch(on){}},tt=function(St){let Lt,on;if(Pi)St="<remove></remove>"+St;else{const vn=x(St,/^[\r\n\t ]+/);on=vn&&vn[0]}ht==="application/xhtml+xml"&&ji===$i&&(St='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+St+"</body></html>");const ln=wi?wi.createHTML(St):St;if(ji===$i)try{Lt=new nn().parseFromString(ln,ht)}catch(vn){}if(!Lt||!Lt.documentElement){Lt=Oi.createDocument(ji,"template",null);try{Lt.documentElement.innerHTML=di?Mi:ln}catch(vn){}}const Dn=Lt.body||Lt.documentElement;return St&&on&&Dn.insertBefore(rt.createTextNode(on),Dn.childNodes[0]||null),ji===$i?si.call(Lt,Ui?"html":"body")[0]:Ui?Lt.documentElement:Dn},gt=function(St){return En.call(St.ownerDocument||St,St,Zt.SHOW_ELEMENT|Zt.SHOW_COMMENT|Zt.SHOW_TEXT,null,!1)},bt=function(St){return typeof pt=="object"?St instanceof pt:St&&typeof St=="object"&&typeof St.nodeType=="number"&&typeof St.nodeName=="string"},ke=function(St,Lt,on){Ln[St]&&f(Ln[St],(ln)=>{ln.call(Ye,Lt,on,Ae)})},qt=function(St){let Lt;if(ke("beforeSanitizeElements",St,null),(on=St)instanceof xn&&(typeof on.nodeName!="string"||typeof on.textContent!="string"||typeof on.removeChild!="function"||!(on.attributes instanceof jt)||typeof on.removeAttribute!="function"||typeof on.setAttribute!="function"||typeof on.namespaceURI!="string"||typeof on.insertBefore!="function"||typeof on.hasChildNodes!="function"))return Jn(St),!0;var on;const ln=se(St.nodeName);if(ke("uponSanitizeElement",St,{tagName:ln,allowedTags:yi}),St.hasChildNodes()&&!bt(St.firstElementChild)&&(!bt(St.content)||!bt(St.content.firstElementChild))&&z(/<[/\w]/g,St.innerHTML)&&z(/<[/\w]/g,St.textContent))return Jn(St),!0;if(!yi[ln]||Ci[ln]){if(!Ci[ln]&&Vt(ln)){if(Nt.tagNameCheck instanceof RegExp&&z(Nt.tagNameCheck,ln))return!1;if(Nt.tagNameCheck instanceof Function&&Nt.tagNameCheck(ln))return!1}if(Kt&&!mn[ln]){const Dn=Bn(St)||St.parentNode,vn=Mn(St)||St.childNodes;if(vn&&Dn)for(let $n=vn.length-1;$n>=0;--$n)Dn.insertBefore(rn(vn[$n],!0),Sn(St))}return Jn(St),!0}return St instanceof Mt&&!function(Dn){let vn=Bn(Dn);vn&&vn.tagName||(vn={namespaceURI:ji,tagName:"template"});const $n=m(Dn.tagName),Un=m(vn.tagName);return!!Qi[Dn.namespaceURI]&&(Dn.namespaceURI===nr?vn.namespaceURI===$i?$n==="svg":vn.namespaceURI===Ai?$n==="svg"&&(Un==="annotation-xml"||zt[Un]):Boolean(Nn[$n]):Dn.namespaceURI===Ai?vn.namespaceURI===$i?$n==="math":vn.namespaceURI===nr?$n==="math"&&Pt[Un]:Boolean(bn[$n]):Dn.namespaceURI===$i?!(vn.namespaceURI===nr&&!Pt[Un])&&!(vn.namespaceURI===Ai&&!zt[Un])&&!bn[$n]&&(Wt[$n]||!Nn[$n]):!(ht!=="application/xhtml+xml"||!Qi[Dn.namespaceURI]))}(St)?(Jn(St),!0):ln!=="noscript"&&ln!=="noembed"&&ln!=="noframes"||!z(/<\/no(script|embed|frames)/i,St.innerHTML)?(dr&&St.nodeType===3&&(Lt=St.textContent,Lt=k(Lt,Xn," "),Lt=k(Lt,xi," "),Lt=k(Lt,Ni," "),St.textContent!==Lt&&(_(Ye.removed,{element:St.cloneNode()}),St.textContent=Lt)),ke("afterSanitizeElements",St,null),!1):(Jn(St),!0)},Ot=function(St,Lt,on){if(Yi&&(Lt==="id"||Lt==="name")&&((on in rt)||(on in He)))return!1;if(pi&&!Hn[Lt]&&z(Ii,Lt));else if(Xt&&z(er,Lt));else if(!ft[Lt]||Hn[Lt]){if(!(Vt(St)&&(Nt.tagNameCheck instanceof RegExp&&z(Nt.tagNameCheck,St)||Nt.tagNameCheck instanceof Function&&Nt.tagNameCheck(St))&&(Nt.attributeNameCheck instanceof RegExp&&z(Nt.attributeNameCheck,Lt)||Nt.attributeNameCheck instanceof Function&&Nt.attributeNameCheck(Lt))||Lt==="is"&&Nt.allowCustomizedBuiltInElements&&(Nt.tagNameCheck instanceof RegExp&&z(Nt.tagNameCheck,on)||Nt.tagNameCheck instanceof Function&&Nt.tagNameCheck(on))))return!1}else if(qn[Lt]);else if(z(rr,k(on,tr,"")));else if(Lt!=="src"&&Lt!=="xlink:href"&&Lt!=="href"||St==="script"||R(on,"data:")!==0||!An[St]){if(Ji&&!z(Zi,k(on,tr,"")));else if(on)return!1}return!0},Vt=function(St){return St.indexOf("-")>0},Cn=function(St){let Lt,on,ln,Dn;ke("beforeSanitizeAttributes",St,null);const{attributes:vn}=St;if(!vn)return;const $n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ft};for(Dn=vn.length;Dn--;){Lt=vn[Dn];const{name:Un,namespaceURI:Fn}=Lt;if(on=Un==="value"?Lt.value:P(Lt.value),ln=se(Un),$n.attrName=ln,$n.attrValue=on,$n.keepAttr=!0,$n.forceKeepAttr=void 0,ke("uponSanitizeAttribute",St,$n),on=$n.attrValue,$n.forceKeepAttr)continue;if($e(Un,St),!$n.keepAttr)continue;if(!Gi&&z(/\/>/i,on)){$e(Un,St);continue}dr&&(on=k(on,Xn," "),on=k(on,xi," "),on=k(on,Ni," "));const fn=se(St.nodeName);if(Ot(fn,ln,on)){if(!_t||ln!=="id"&&ln!=="name"||($e(Un,St),on="user-content-"+on),wi&&typeof gn=="object"&&typeof gn.getAttributeType=="function")if(Fn);else switch(gn.getAttributeType(fn,ln)){case"TrustedHTML":on=wi.createHTML(on);break;case"TrustedScriptURL":on=wi.createScriptURL(on)}try{Fn?St.setAttributeNS(Fn,Un,on):St.setAttribute(Un,on),p(Ye.removed)}catch(Qn){}}}ke("afterSanitizeAttributes",St,null)},dn=function St(Lt){let on;const ln=gt(Lt);for(ke("beforeSanitizeShadowDOM",Lt,null);on=ln.nextNode();)ke("uponSanitizeShadowNode",on,null),qt(on)||(on.content instanceof lt&&St(on.content),Cn(on));ke("afterSanitizeShadowDOM",Lt,null)};return Ye.sanitize=function(St){let Lt,on,ln,Dn,vn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(di=!St,di&&(St="<!-->"),typeof St!="string"&&!bt(St)){if(typeof St.toString!="function")throw te("toString is not a function");if(typeof(St=St.toString())!="string")throw te("dirty is not a string, aborting")}if(!Ye.isSupported)return St;if(Xi||At(vn),Ye.removed=[],typeof St=="string"&&(tn=!1),tn){if(St.nodeName){const Fn=se(St.nodeName);if(!yi[Fn]||Ci[Fn])throw te("root node is forbidden and cannot be sanitized in-place")}}else if(St instanceof pt)Lt=tt("<!---->"),on=Lt.ownerDocument.importNode(St,!0),on.nodeType===1&&on.nodeName==="BODY"||on.nodeName==="HTML"?Lt=on:Lt.appendChild(on);else{if(!ar&&!dr&&!Ui&&St.indexOf("<")===-1)return wi&&or?wi.createHTML(St):St;if(Lt=tt(St),!Lt)return ar?null:or?Mi:""}Lt&&Pi&&Jn(Lt.firstChild);const $n=gt(tn?St:Lt);for(;ln=$n.nextNode();)qt(ln)||(ln.content instanceof lt&&dn(ln.content),Cn(ln));if(tn)return St;if(ar){if(Hi)for(Dn=li.call(Lt.ownerDocument);Lt.firstChild;)Dn.appendChild(Lt.firstChild);else Dn=Lt;return(ft.shadowroot||ft.shadowrootmode)&&(Dn=ti.call(Fe,Dn,!0)),Dn}let Un=Ui?Lt.outerHTML:Lt.innerHTML;return Ui&&yi["!doctype"]&&Lt.ownerDocument&&Lt.ownerDocument.doctype&&Lt.ownerDocument.doctype.name&&z(Ve,Lt.ownerDocument.doctype.name)&&(Un="<!DOCTYPE "+Lt.ownerDocument.doctype.name+">\n"+Un),dr&&(Un=k(Un,Xn," "),Un=k(Un,xi," "),Un=k(Un,Ni," ")),wi&&or?wi.createHTML(Un):Un},Ye.setConfig=function(St){At(St),Xi=!0},Ye.clearConfig=function(){Ae=null,Xi=!1},Ye.isValidAttribute=function(St,Lt,on){Ae||At({});const ln=se(St),Dn=se(Lt);return Ot(ln,Dn,on)},Ye.addHook=function(St,Lt){typeof Lt=="function"&&(Ln[St]=Ln[St]||[],_(Ln[St],Lt))},Ye.removeHook=function(St){if(Ln[St])return p(Ln[St])},Ye.removeHooks=function(St){Ln[St]&&(Ln[St]=[])},Ye.removeAllHooks=function(){Ln={}},Ye}();We.version,We.isSupported;const de=We.sanitize,be=(We.setConfig,We.clearConfig,We.isValidAttribute,We.addHook),ae=We.removeHook;We.removeHooks,We.removeAllHooks},4061:(dt,pe,h)=>{h.d(pe,{f:()=>I});var s=h(2106);class I{get event(){return this.emitter.event}constructor(T,J,M){const v=(E)=>this.emitter.fire(E);this.emitter=new s.vl({onWillAddFirstListener:()=>T.addEventListener(J,v,M),onDidRemoveLastListener:()=>T.removeEventListener(J,v,M)})}dispose(){this.emitter.dispose()}}},5043:(dt,pe,h)=>{h.d(pe,{D:()=>s,Z:()=>T});class s{constructor(J){this.domNode=J,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(J){const M=I(J);this._maxWidth!==M&&(this._maxWidth=M,this.domNode.style.maxWidth=this._maxWidth)}setWidth(J){const M=I(J);this._width!==M&&(this._width=M,this.domNode.style.width=this._width)}setHeight(J){const M=I(J);this._height!==M&&(this._height=M,this.domNode.style.height=this._height)}setTop(J){const M=I(J);this._top!==M&&(this._top=M,this.domNode.style.top=this._top)}setLeft(J){const M=I(J);this._left!==M&&(this._left=M,this.domNode.style.left=this._left)}setBottom(J){const M=I(J);this._bottom!==M&&(this._bottom=M,this.domNode.style.bottom=this._bottom)}setRight(J){const M=I(J);this._right!==M&&(this._right=M,this.domNode.style.right=this._right)}setPaddingLeft(J){const M=I(J);this._paddingLeft!==M&&(this._paddingLeft=M,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(J){this._fontFamily!==J&&(this._fontFamily=J,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(J){this._fontWeight!==J&&(this._fontWeight=J,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(J){const M=I(J);this._fontSize!==M&&(this._fontSize=M,this.domNode.style.fontSize=this._fontSize)}setFontStyle(J){this._fontStyle!==J&&(this._fontStyle=J,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(J){this._fontFeatureSettings!==J&&(this._fontFeatureSettings=J,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(J){this._fontVariationSettings!==J&&(this._fontVariationSettings=J,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(J){this._textDecoration!==J&&(this._textDecoration=J,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(J){const M=I(J);this._lineHeight!==M&&(this._lineHeight=M,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(J){const M=I(J);this._letterSpacing!==M&&(this._letterSpacing=M,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(J){this._className!==J&&(this._className=J,this.domNode.className=this._className)}toggleClassName(J,M){this.domNode.classList.toggle(J,M),this._className=this.domNode.className}setDisplay(J){this._display!==J&&(this._display=J,this.domNode.style.display=this._display)}setPosition(J){this._position!==J&&(this._position=J,this.domNode.style.position=this._position)}setVisibility(J){this._visibility!==J&&(this._visibility=J,this.domNode.style.visibility=this._visibility)}setColor(J){this._color!==J&&(this._color=J,this.domNode.style.color=this._color)}setBackgroundColor(J){this._backgroundColor!==J&&(this._backgroundColor=J,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(J){this._layerHint!==J&&(this._layerHint=J,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(J){this._boxShadow!==J&&(this._boxShadow=J,this.domNode.style.boxShadow=J)}setContain(J){this._contain!==J&&(this._contain=J,this.domNode.style.contain=this._contain)}setAttribute(J,M){this.domNode.setAttribute(J,M)}removeAttribute(J){this.domNode.removeAttribute(J)}appendChild(J){this.domNode.appendChild(J.domNode)}removeChild(J){this.domNode.removeChild(J.domNode)}}function I(J){return typeof J=="number"?`${J}px`:J}function T(J){return new s(J)}},9827:(dt,pe,h)=>{h.d(pe,{z:()=>I});var s=h(3339);const I=s.uF?'"Segoe WPC", "Segoe UI", sans-serif':s.zx?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif'},8213:(dt,pe,h)=>{h.d(pe,{S5:()=>I,n:()=>J,yk:()=>T});var s=h(4333);function I(w,C={}){const d=J(C);return d.textContent=w,d}function T(w,C={}){const d=J(C);return v(d,function(f,p){const _={type:1,children:[]};let m=0,b=_;const x=[],k=new M(f);for(;!k.eos();){let R=k.next();const P=R==="\\"&&E(k.peek(),p)!==0;if(P&&(R=k.next()),P||E(R,p)===0||R!==k.peek())if(R==="\n")b.type===2&&(b=x.pop()),b.children.push({type:8});else if(b.type!==2){const z={type:2,content:R};b.children.push(z),x.push(b),b=z}else b.content+=R;else{k.advance(),b.type===2&&(b=x.pop());const z=E(R,p);if(b.type===z||b.type===5&&z===6)b=x.pop();else{const te={type:z,children:[]};z===5&&(te.index=m,m++),b.children.push(te),x.push(b),b=te}}}return b.type===2&&(b=x.pop()),x.length,_}(w,!!C.renderCodeSegments),C.actionHandler,C.renderCodeSegments),d}function J(w){const C=w.inline?"span":"div",d=document.createElement(C);return w.className&&(d.className=w.className),d}class M{constructor(w){this.source=w,this.index=0}eos(){return this.index>=this.source.length}next(){const w=this.peek();return this.advance(),w}peek(){return this.source[this.index]}advance(){this.index++}}function v(w,C,d,f){let p;if(C.type===2)p=document.createTextNode(C.content||"");else if(C.type===3)p=document.createElement("b");else if(C.type===4)p=document.createElement("i");else if(C.type===7&&f)p=document.createElement("code");else if(C.type===5&&d){const _=document.createElement("a");d.disposables.add(s.b2(_,"click",(m)=>{d.callback(String(C.index),m)})),p=_}else C.type===8?p=document.createElement("br"):C.type===1&&(p=w);p&&w!==p&&w.appendChild(p),p&&Array.isArray(C.children)&&C.children.forEach((_)=>{v(p,_,d,f)})}function E(w,C){switch(w){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return C?7:0;default:return 0}}},176:(dt,pe,h)=>{h.d(pe,{_:()=>T});var s=h(4333),I=h(998);class T{constructor(){this._hooks=new I.Cm,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(J,M){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const v=this._onStopCallback;this._onStopCallback=null,J&&v&&v(M)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(J,M,v,E,w){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=E,this._onStopCallback=w;let C=J;try{J.setPointerCapture(M),this._hooks.add(I.s(()=>{try{J.releasePointerCapture(M)}catch(d){}}))}catch(d){C=s.zk(J)}this._hooks.add(s.ko(C,s.Bx.POINTER_MOVE,(d)=>{d.buttons===v?(d.preventDefault(),this._pointerMoveCallback(d)):this.stopMonitoring(!0)})),this._hooks.add(s.ko(C,s.Bx.POINTER_UP,(d)=>this.stopMonitoring(!0)))}}},7594:(dt,pe,h)=>{h.d(pe,{Z:()=>E});var s=h(5893),I=h(8387),T=h(9619),J=h(3339);const M=J.zx?256:2048,v=J.zx?2048:256;class E{constructor(w){this._standardKeyboardEventBrand=!0;const C=w;this.browserEvent=C,this.target=C.target,this.ctrlKey=C.ctrlKey,this.shiftKey=C.shiftKey,this.altKey=C.altKey,this.metaKey=C.metaKey,this.altGraphKey=C.getModifierState?.("AltGraph"),this.keyCode=function(d){if(d.charCode){const p=String.fromCharCode(d.charCode).toUpperCase();return I.YM.fromString(p)}const f=d.keyCode;if(f===3)return 7;if(s.gm)switch(f){case 59:return 85;case 60:if(J.j9)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(J.zx)return 57}else if(s.Tc){if(J.zx&&f===93)return 57;if(!J.zx&&f===92)return 57}return I.uw[f]||0}(C),this.code=C.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(w){return this._asKeybinding===w}_computeKeybinding(){let w=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(w=this.keyCode);let C=0;return this.ctrlKey&&(C|=M),this.altKey&&(C|=512),this.shiftKey&&(C|=1024),this.metaKey&&(C|=v),C|=w,C}_computeKeyCodeChord(){let w=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(w=this.keyCode),new T.dG(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,w)}}},6930:(dt,pe,h)=>{h.d(pe,{Gc:()=>ie,R9:()=>ve});var s=h(4333),I=h(2542),T=h(4061),J=h(8213),M=h(7594),v=h(9715),E=h(1818),w=h(4327),C=h(2106),d=h(28),f=h(4594),p=h(4664),_=h(3946),m=h(998);let b={};(function(){function ae(Ye,Fe){Fe(b)}var O,Ue;ae.amd=!0,O=this,Ue=function(Ye){function Fe(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function oe(ht){Ye.defaults=ht}Ye.defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};const rt=/[&<>"']/,lt=new RegExp(rt.source,"g"),ye=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,pt=new RegExp(ye.source,"g"),Mt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zt=(ht)=>Mt[ht];function jt(ht,xt){if(xt){if(rt.test(ht))return ht.replace(lt,Zt)}else if(ye.test(ht))return ht.replace(pt,Zt);return ht}const xn=/(^|[^\[])\^/g;function nn(ht,xt){let se=typeof ht=="string"?ht:ht.source;xt=xt||"";const Ae={replace:(He,mt)=>{let At=typeof mt=="string"?mt:mt.source;return At=At.replace(xn,"$1"),se=se.replace(He,At),Ae},getRegex:()=>new RegExp(se,xt)};return Ae}function gn(ht){try{ht=encodeURI(ht).replace(/%25/g,"%")}catch{return null}return ht}const pn={exec:()=>null};function rn(ht,xt){const se=ht.replace(/\|/g,(He,mt,At)=>{let zt=!1,Pt=mt;for(;--Pt>=0&&At[Pt]==="\\";)zt=!zt;return zt?"|":" |"}).split(/ \|/);let Ae=0;if(se[0].trim()||se.shift(),se.length>0&&!se[se.length-1].trim()&&se.pop(),xt)if(se.length>xt)se.splice(xt);else for(;se.length<xt;)se.push("");for(;Ae<se.length;Ae++)se[Ae]=se[Ae].trim().replace(/\\\|/g,"|");return se}function Sn(ht,xt,se){const Ae=ht.length;if(Ae===0)return"";let He=0;for(;He<Ae;){const mt=ht.charAt(Ae-He-1);if(mt!==xt||se){if(mt===xt||!se)break;He++}else He++}return ht.slice(0,Ae-He)}function Mn(ht,xt,se,Ae){const He=xt.href,mt=xt.title?jt(xt.title):null,At=ht[1].replace(/\\([\[\]])/g,"$1");if(ht[0].charAt(0)!=="!"){Ae.state.inLink=!0;const zt={type:"link",raw:se,href:He,title:mt,text:At,tokens:Ae.inlineTokens(At)};return Ae.state.inLink=!1,zt}return{type:"image",raw:se,href:He,title:mt,text:jt(At)}}class Bn{options;rules;lexer;constructor(ht){this.options=ht||Ye.defaults}space(ht){const xt=this.rules.block.newline.exec(ht);if(xt&&xt[0].length>0)return{type:"space",raw:xt[0]}}code(ht){const xt=this.rules.block.code.exec(ht);if(xt){const se=xt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:xt[0],codeBlockStyle:"indented",text:this.options.pedantic?se:Sn(se,"\n")}}}fences(ht){const xt=this.rules.block.fences.exec(ht);if(xt){const se=xt[0],Ae=function(He,mt){const At=He.match(/^(\s+)(?:```)/);if(At===null)return mt;const zt=At[1];return mt.split("\n").map((Pt)=>{const Wt=Pt.match(/^\s+/);if(Wt===null)return Pt;const[Nn]=Wt;return Nn.length>=zt.length?Pt.slice(zt.length):Pt}).join("\n")}(se,xt[3]||"");return{type:"code",raw:se,lang:xt[2]?xt[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):xt[2],text:Ae}}}heading(ht){const xt=this.rules.block.heading.exec(ht);if(xt){let se=xt[2].trim();if(/#$/.test(se)){const Ae=Sn(se,"#");this.options.pedantic?se=Ae.trim():Ae&&!/ $/.test(Ae)||(se=Ae.trim())}return{type:"heading",raw:xt[0],depth:xt[1].length,text:se,tokens:this.lexer.inline(se)}}}hr(ht){const xt=this.rules.block.hr.exec(ht);if(xt)return{type:"hr",raw:Sn(xt[0],"\n")}}blockquote(ht){const xt=this.rules.block.blockquote.exec(ht);if(xt){let se=Sn(xt[0],"\n").split("\n"),Ae="",He="";const mt=[];for(;se.length>0;){let At=!1;const zt=[];let Pt;for(Pt=0;Pt<se.length;Pt++)if(/^ {0,3}>/.test(se[Pt]))zt.push(se[Pt]),At=!0;else{if(At)break;zt.push(se[Pt])}se=se.slice(Pt);const Wt=zt.join("\n"),Nn=Wt.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");Ae=Ae?`${Ae}\n${Wt}`:Wt,He=He?`${He}\n${Nn}`:Nn;const bn=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(Nn,mt,!0),this.lexer.state.top=bn,se.length===0)break;const Jn=mt[mt.length-1];if(Jn?.type==="code")break;if(Jn?.type==="blockquote"){const $e=Jn,tt=$e.raw+"\n"+se.join("\n"),gt=this.blockquote(tt);mt[mt.length-1]=gt,Ae=Ae.substring(0,Ae.length-$e.raw.length)+gt.raw,He=He.substring(0,He.length-$e.text.length)+gt.text;break}if(Jn?.type!=="list");else{const $e=Jn,tt=$e.raw+"\n"+se.join("\n"),gt=this.list(tt);mt[mt.length-1]=gt,Ae=Ae.substring(0,Ae.length-Jn.raw.length)+gt.raw,He=He.substring(0,He.length-$e.raw.length)+gt.raw,se=tt.substring(mt[mt.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:Ae,tokens:mt,text:He}}}list(ht){let xt=this.rules.block.list.exec(ht);if(xt){let se=xt[1].trim();const Ae=se.length>1,He={type:"list",raw:"",ordered:Ae,start:Ae?+se.slice(0,-1):"",loose:!1,items:[]};se=Ae?`\\d{1,9}\\${se.slice(-1)}`:`\\${se}`,this.options.pedantic&&(se=Ae?se:"[*+-]");const mt=new RegExp(`^( {0,3}${se})((?:[\t ][^\\n]*)?(?:\\n|\$))`);let At=!1;for(;ht;){let zt=!1,Pt="",Wt="";if(!(xt=mt.exec(ht)))break;if(this.rules.block.hr.test(ht))break;Pt=xt[0],ht=ht.substring(Pt.length);let Nn=xt[2].split("\n",1)[0].replace(/^\t+/,(bt)=>" ".repeat(3*bt.length)),bn=ht.split("\n",1)[0],Jn=!Nn.trim(),$e=0;if(this.options.pedantic?($e=2,Wt=Nn.trimStart()):Jn?$e=xt[1].length+1:($e=xt[2].search(/[^ ]/),$e=$e>4?1:$e,Wt=Nn.slice($e),$e+=xt[1].length),Jn&&/^ *$/.test(bn)&&(Pt+=bn+"\n",ht=ht.substring(bn.length+1),zt=!0),!zt){const bt=new RegExp(`^ {0,${Math.min(3,$e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|\$))`),ke=new RegExp(`^ {0,${Math.min(3,$e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|\$)`),qt=new RegExp(`^ {0,${Math.min(3,$e-1)}}(?:\`\`\`|~~~)`),Ot=new RegExp(`^ {0,${Math.min(3,$e-1)}}#`);for(;ht;){const Vt=ht.split("\n",1)[0];if(bn=Vt,this.options.pedantic&&(bn=bn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),qt.test(bn))break;if(Ot.test(bn))break;if(bt.test(bn))break;if(ke.test(ht))break;if(bn.search(/[^ ]/)>=$e||!bn.trim())Wt+="\n"+bn.slice($e);else{if(Jn)break;if(Nn.search(/[^ ]/)>=4)break;if(qt.test(Nn))break;if(Ot.test(Nn))break;if(ke.test(Nn))break;Wt+="\n"+bn}Jn||bn.trim()||(Jn=!0),Pt+=Vt+"\n",ht=ht.substring(Vt.length+1),Nn=bn.slice($e)}}He.loose||(At?He.loose=!0:/\n *\n *$/.test(Pt)&&(At=!0));let tt,gt=null;this.options.gfm&&(gt=/^\[[ xX]\] /.exec(Wt),gt&&(tt=gt[0]!=="[ ] ",Wt=Wt.replace(/^\[[ xX]\] +/,""))),He.items.push({type:"list_item",raw:Pt,task:!!gt,checked:tt,loose:!1,text:Wt,tokens:[]}),He.raw+=Pt}He.items[He.items.length-1].raw=He.items[He.items.length-1].raw.trimEnd(),He.items[He.items.length-1].text=He.items[He.items.length-1].text.trimEnd(),He.raw=He.raw.trimEnd();for(let zt=0;zt<He.items.length;zt++)if(this.lexer.state.top=!1,He.items[zt].tokens=this.lexer.blockTokens(He.items[zt].text,[]),!He.loose){const Pt=He.items[zt].tokens.filter((Nn)=>Nn.type==="space"),Wt=Pt.length>0&&Pt.some((Nn)=>/\n.*\n/.test(Nn.raw));He.loose=Wt}if(He.loose)for(let zt=0;zt<He.items.length;zt++)He.items[zt].loose=!0;return He}}html(ht){const xt=this.rules.block.html.exec(ht);if(xt)return{type:"html",block:!0,raw:xt[0],pre:xt[1]==="pre"||xt[1]==="script"||xt[1]==="style",text:xt[0]}}def(ht){const xt=this.rules.block.def.exec(ht);if(xt){const se=xt[1].toLowerCase().replace(/\s+/g," "),Ae=xt[2]?xt[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",He=xt[3]?xt[3].substring(1,xt[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):xt[3];return{type:"def",tag:se,raw:xt[0],href:Ae,title:He}}}table(ht){const xt=this.rules.block.table.exec(ht);if(!xt)return;if(!/[:|]/.test(xt[2]))return;const se=rn(xt[1]),Ae=xt[2].replace(/^\||\| *$/g,"").split("|"),He=xt[3]&&xt[3].trim()?xt[3].replace(/\n[ \t]*$/,"").split("\n"):[],mt={type:"table",raw:xt[0],header:[],align:[],rows:[]};if(se.length===Ae.length){for(let At of Ae)/^ *-+: *$/.test(At)?mt.align.push("right"):/^ *:-+: *$/.test(At)?mt.align.push("center"):/^ *:-+ *$/.test(At)?mt.align.push("left"):mt.align.push(null);for(let At=0;At<se.length;At++)mt.header.push({text:se[At],tokens:this.lexer.inline(se[At]),header:!0,align:mt.align[At]});for(let At of He)mt.rows.push(rn(At,mt.header.length).map((zt,Pt)=>({text:zt,tokens:this.lexer.inline(zt),header:!1,align:mt.align[Pt]})));return mt}}lheading(ht){const xt=this.rules.block.lheading.exec(ht);if(xt)return{type:"heading",raw:xt[0],depth:xt[2].charAt(0)==="="?1:2,text:xt[1],tokens:this.lexer.inline(xt[1])}}paragraph(ht){const xt=this.rules.block.paragraph.exec(ht);if(xt){const se=xt[1].charAt(xt[1].length-1)==="\n"?xt[1].slice(0,-1):xt[1];return{type:"paragraph",raw:xt[0],text:se,tokens:this.lexer.inline(se)}}}text(ht){const xt=this.rules.block.text.exec(ht);if(xt)return{type:"text",raw:xt[0],text:xt[0],tokens:this.lexer.inline(xt[0])}}escape(ht){const xt=this.rules.inline.escape.exec(ht);if(xt)return{type:"escape",raw:xt[0],text:jt(xt[1])}}tag(ht){const xt=this.rules.inline.tag.exec(ht);if(xt)return!this.lexer.state.inLink&&/^<a /i.test(xt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(xt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(xt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(xt[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:xt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:xt[0]}}link(ht){const xt=this.rules.inline.link.exec(ht);if(xt){const se=xt[2].trim();if(!this.options.pedantic&&/^</.test(se)){if(!/>$/.test(se))return;const mt=Sn(se.slice(0,-1),"\\");if((se.length-mt.length)%2==0)return}else{const mt=function(At,zt){if(At.indexOf(zt[1])===-1)return-1;let Pt=0;for(let Wt=0;Wt<At.length;Wt++)if(At[Wt]==="\\")Wt++;else if(At[Wt]===zt[0])Pt++;else if(At[Wt]===zt[1]&&(Pt--,Pt<0))return Wt;return-1}(xt[2],"()");if(mt>-1){const At=(xt[0].indexOf("!")===0?5:4)+xt[1].length+mt;xt[2]=xt[2].substring(0,mt),xt[0]=xt[0].substring(0,At).trim(),xt[3]=""}}let Ae=xt[2],He="";if(this.options.pedantic){const mt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ae);mt&&(Ae=mt[1],He=mt[3])}else He=xt[3]?xt[3].slice(1,-1):"";return Ae=Ae.trim(),/^</.test(Ae)&&(Ae=this.options.pedantic&&!/>$/.test(se)?Ae.slice(1):Ae.slice(1,-1)),Mn(xt,{href:Ae?Ae.replace(this.rules.inline.anyPunctuation,"$1"):Ae,title:He?He.replace(this.rules.inline.anyPunctuation,"$1"):He},xt[0],this.lexer)}}reflink(ht,xt){let se;if((se=this.rules.inline.reflink.exec(ht))||(se=this.rules.inline.nolink.exec(ht))){const Ae=xt[(se[2]||se[1]).replace(/\s+/g," ").toLowerCase()];if(!Ae){const He=se[0].charAt(0);return{type:"text",raw:He,text:He}}return Mn(se,Ae,se[0],this.lexer)}}emStrong(ht,xt,se=""){let Ae=this.rules.inline.emStrongLDelim.exec(ht);if(Ae&&(!Ae[3]||!se.match(/[\p{L}\p{N}]/u))&&(!Ae[1]&&!Ae[2]||!se||this.rules.inline.punctuation.exec(se))){const He=[...Ae[0]].length-1;let mt,At,zt=He,Pt=0;const Wt=Ae[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Wt.lastIndex=0,xt=xt.slice(-1*ht.length+He);(Ae=Wt.exec(xt))!=null;){if(mt=Ae[1]||Ae[2]||Ae[3]||Ae[4]||Ae[5]||Ae[6],!mt)continue;if(At=[...mt].length,Ae[3]||Ae[4]){zt+=At;continue}if((Ae[5]||Ae[6])&&He%3&&!((He+At)%3)){Pt+=At;continue}if(zt-=At,zt>0)continue;At=Math.min(At,At+zt+Pt);const Nn=[...Ae[0]][0].length,bn=ht.slice(0,He+Ae.index+Nn+At);if(Math.min(He,At)%2){const $e=bn.slice(1,-1);return{type:"em",raw:bn,text:$e,tokens:this.lexer.inlineTokens($e)}}const Jn=bn.slice(2,-2);return{type:"strong",raw:bn,text:Jn,tokens:this.lexer.inlineTokens(Jn)}}}}codespan(ht){const xt=this.rules.inline.code.exec(ht);if(xt){let se=xt[2].replace(/\n/g," ");const Ae=/[^ ]/.test(se),He=/^ /.test(se)&&/ $/.test(se);return Ae&&He&&(se=se.substring(1,se.length-1)),se=jt(se,!0),{type:"codespan",raw:xt[0],text:se}}}br(ht){const xt=this.rules.inline.br.exec(ht);if(xt)return{type:"br",raw:xt[0]}}del(ht){const xt=this.rules.inline.del.exec(ht);if(xt)return{type:"del",raw:xt[0],text:xt[2],tokens:this.lexer.inlineTokens(xt[2])}}autolink(ht){const xt=this.rules.inline.autolink.exec(ht);if(xt){let se,Ae;return xt[2]==="@"?(se=jt(xt[1]),Ae="mailto:"+se):(se=jt(xt[1]),Ae=se),{type:"link",raw:xt[0],text:se,href:Ae,tokens:[{type:"text",raw:se,text:se}]}}}url(ht){let xt;if(xt=this.rules.inline.url.exec(ht)){let se,Ae;if(xt[2]==="@")se=jt(xt[0]),Ae="mailto:"+se;else{let He;do He=xt[0],xt[0]=this.rules.inline._backpedal.exec(xt[0])?.[0]??"";while(He!==xt[0]);se=jt(xt[0]),Ae=xt[1]==="www."?"http://"+xt[0]:xt[0]}return{type:"link",raw:xt[0],text:se,href:Ae,tokens:[{type:"text",raw:se,text:se}]}}}inlineText(ht){const xt=this.rules.inline.text.exec(ht);if(xt){let se;return se=this.lexer.state.inRawBlock?xt[0]:jt(xt[0]),{type:"text",raw:xt[0],text:se}}}}const wi=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Mi=/(?:[*+-]|\d{1,9}[.)])/,Oi=nn(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Mi).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),En=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,li=/(?!\s*\])(?:\\.|[^\[\]\\])+/,si=nn(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",li).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ti=nn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Mi).getRegex(),Ln="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Xn=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,xi=nn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Xn).replace("tag",Ln).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ni=nn(En).replace("hr",wi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln).getRegex(),Ii={blockquote:nn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ni).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:si,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:wi,html:xi,lheading:Oi,list:ti,newline:/^(?: *(?:\n|$))+/,paragraph:Ni,table:pn,text:/^[^\n]+/},er=nn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",wi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln).getRegex(),Zi={...Ii,table:er,paragraph:nn(En).replace("hr",wi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",er).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln).getRegex()},tr={...Ii,html:nn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Xn).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:pn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:nn(En).replace("hr",wi).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Oi).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},rr=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,yi=/^( {2,}|\\)\n(?!\s*$)/,un="\\p{P}\\p{S}",ft=nn(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,un).getRegex(),Yn=nn(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,un).getRegex(),Nt=nn("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,un).getRegex(),Ci=nn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,un).getRegex(),Hn=nn(/\\([punct])/,"gu").replace(/punct/g,un).getRegex(),Xt=nn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),pi=nn(Xn).replace("(?:-->|$)","-->").getRegex(),Ji=nn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",pi).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Gi=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,dr=nn(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Gi).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ui=nn(/^!?\[(label)\]\[(ref)\]/).replace("label",Gi).replace("ref",li).getRegex(),Xi=nn(/^!?\[(ref)\](?:\[\])?/).replace("ref",li).getRegex(),Pi={_backpedal:pn,anyPunctuation:Hn,autolink:Xt,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:yi,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:pn,emStrongLDelim:Yn,emStrongRDelimAst:Nt,emStrongRDelimUnd:Ci,escape:rr,link:dr,nolink:Xi,punctuation:ft,reflink:Ui,reflinkSearch:nn("reflink|nolink(?!\\()","g").replace("reflink",Ui).replace("nolink",Xi).getRegex(),tag:Ji,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:pn},ar={...Pi,link:nn(/^!?\[(label)\]\((.*?)\)/).replace("label",Gi).getRegex(),reflink:nn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Gi).getRegex()},Hi={...Pi,escape:nn(rr).replace("])","~|])").getRegex(),url:nn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},or={...Hi,br:nn(yi).replace("{2,}","*").getRegex(),text:nn(Hi.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Yi={normal:Ii,gfm:Zi,pedantic:tr},_t={normal:Pi,gfm:Hi,breaks:or,pedantic:ar};class Kt{tokens;options;state;tokenizer;inlineQueue;constructor(ht){this.tokens=[],this.tokens.links=Object.create(null),this.options=ht||Ye.defaults,this.options.tokenizer=this.options.tokenizer||new Bn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const xt={block:Yi.normal,inline:_t.normal};this.options.pedantic?(xt.block=Yi.pedantic,xt.inline=_t.pedantic):this.options.gfm&&(xt.block=Yi.gfm,this.options.breaks?xt.inline=_t.breaks:xt.inline=_t.gfm),this.tokenizer.rules=xt}static get rules(){return{block:Yi,inline:_t}}static lex(ht,xt){return new Kt(xt).lex(ht)}static lexInline(ht,xt){return new Kt(xt).inlineTokens(ht)}lex(ht){ht=ht.replace(/\r\n|\r/g,"\n"),this.blockTokens(ht,this.tokens);for(let xt=0;xt<this.inlineQueue.length;xt++){const se=this.inlineQueue[xt];this.inlineTokens(se.src,se.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(ht,xt=[],se=!1){let Ae,He,mt;for(ht=this.options.pedantic?ht.replace(/\t/g,"    ").replace(/^ +$/gm,""):ht.replace(/^( *)(\t+)/gm,(At,zt,Pt)=>zt+"    ".repeat(Pt.length));ht;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((At)=>!!(Ae=At.call({lexer:this},ht,xt))&&(ht=ht.substring(Ae.raw.length),xt.push(Ae),!0))))if(Ae=this.tokenizer.space(ht))ht=ht.substring(Ae.raw.length),Ae.raw.length===1&&xt.length>0?xt[xt.length-1].raw+="\n":xt.push(Ae);else if(Ae=this.tokenizer.code(ht))ht=ht.substring(Ae.raw.length),He=xt[xt.length-1],!He||He.type!=="paragraph"&&He.type!=="text"?xt.push(Ae):(He.raw+="\n"+Ae.raw,He.text+="\n"+Ae.text,this.inlineQueue[this.inlineQueue.length-1].src=He.text);else if(Ae=this.tokenizer.fences(ht))ht=ht.substring(Ae.raw.length),xt.push(Ae);else if(Ae=this.tokenizer.heading(ht))ht=ht.substring(Ae.raw.length),xt.push(Ae);else if(Ae=this.tokenizer.hr(ht))ht=ht.substring(Ae.raw.length),xt.push(Ae);else if(Ae=this.tokenizer.blockquote(ht))ht=ht.substring(Ae.raw.length),xt.push(Ae);else if(Ae=this.tokenizer.list(ht))ht=ht.substring(Ae.raw.length),xt.push(Ae);else if(Ae=this.tokenizer.html(ht))ht=ht.substring(Ae.raw.length),xt.push(Ae);else if(Ae=this.tokenizer.def(ht))ht=ht.substring(Ae.raw.length),He=xt[xt.length-1],!He||He.type!=="paragraph"&&He.type!=="text"?this.tokens.links[Ae.tag]||(this.tokens.links[Ae.tag]={href:Ae.href,title:Ae.title}):(He.raw+="\n"+Ae.raw,He.text+="\n"+Ae.raw,this.inlineQueue[this.inlineQueue.length-1].src=He.text);else if(Ae=this.tokenizer.table(ht))ht=ht.substring(Ae.raw.length),xt.push(Ae);else if(Ae=this.tokenizer.lheading(ht))ht=ht.substring(Ae.raw.length),xt.push(Ae);else{if(mt=ht,this.options.extensions&&this.options.extensions.startBlock){let At=1/0;const zt=ht.slice(1);let Pt;this.options.extensions.startBlock.forEach((Wt)=>{Pt=Wt.call({lexer:this},zt),typeof Pt=="number"&&Pt>=0&&(At=Math.min(At,Pt))}),At<1/0&&At>=0&&(mt=ht.substring(0,At+1))}if(this.state.top&&(Ae=this.tokenizer.paragraph(mt)))He=xt[xt.length-1],se&&He?.type==="paragraph"?(He.raw+="\n"+Ae.raw,He.text+="\n"+Ae.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=He.text):xt.push(Ae),se=mt.length!==ht.length,ht=ht.substring(Ae.raw.length);else if(Ae=this.tokenizer.text(ht))ht=ht.substring(Ae.raw.length),He=xt[xt.length-1],He&&He.type==="text"?(He.raw+="\n"+Ae.raw,He.text+="\n"+Ae.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=He.text):xt.push(Ae);else if(ht){const At="Infinite loop on byte: "+ht.charCodeAt(0);if(this.options.silent){console.error(At);break}throw new Error(At)}}return this.state.top=!0,xt}inline(ht,xt=[]){return this.inlineQueue.push({src:ht,tokens:xt}),xt}inlineTokens(ht,xt=[]){let se,Ae,He,mt,At,zt,Pt=ht;if(this.tokens.links){const Wt=Object.keys(this.tokens.links);if(Wt.length>0)for(;(mt=this.tokenizer.rules.inline.reflinkSearch.exec(Pt))!=null;)Wt.includes(mt[0].slice(mt[0].lastIndexOf("[")+1,-1))&&(Pt=Pt.slice(0,mt.index)+"["+"a".repeat(mt[0].length-2)+"]"+Pt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(mt=this.tokenizer.rules.inline.blockSkip.exec(Pt))!=null;)Pt=Pt.slice(0,mt.index)+"["+"a".repeat(mt[0].length-2)+"]"+Pt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(mt=this.tokenizer.rules.inline.anyPunctuation.exec(Pt))!=null;)Pt=Pt.slice(0,mt.index)+"++"+Pt.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;ht;)if(At||(zt=""),At=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((Wt)=>!!(se=Wt.call({lexer:this},ht,xt))&&(ht=ht.substring(se.raw.length),xt.push(se),!0))))if(se=this.tokenizer.escape(ht))ht=ht.substring(se.raw.length),xt.push(se);else if(se=this.tokenizer.tag(ht))ht=ht.substring(se.raw.length),Ae=xt[xt.length-1],Ae&&se.type==="text"&&Ae.type==="text"?(Ae.raw+=se.raw,Ae.text+=se.text):xt.push(se);else if(se=this.tokenizer.link(ht))ht=ht.substring(se.raw.length),xt.push(se);else if(se=this.tokenizer.reflink(ht,this.tokens.links))ht=ht.substring(se.raw.length),Ae=xt[xt.length-1],Ae&&se.type==="text"&&Ae.type==="text"?(Ae.raw+=se.raw,Ae.text+=se.text):xt.push(se);else if(se=this.tokenizer.emStrong(ht,Pt,zt))ht=ht.substring(se.raw.length),xt.push(se);else if(se=this.tokenizer.codespan(ht))ht=ht.substring(se.raw.length),xt.push(se);else if(se=this.tokenizer.br(ht))ht=ht.substring(se.raw.length),xt.push(se);else if(se=this.tokenizer.del(ht))ht=ht.substring(se.raw.length),xt.push(se);else if(se=this.tokenizer.autolink(ht))ht=ht.substring(se.raw.length),xt.push(se);else if(this.state.inLink||!(se=this.tokenizer.url(ht))){if(He=ht,this.options.extensions&&this.options.extensions.startInline){let Wt=1/0;const Nn=ht.slice(1);let bn;this.options.extensions.startInline.forEach((Jn)=>{bn=Jn.call({lexer:this},Nn),typeof bn=="number"&&bn>=0&&(Wt=Math.min(Wt,bn))}),Wt<1/0&&Wt>=0&&(He=ht.substring(0,Wt+1))}if(se=this.tokenizer.inlineText(He))ht=ht.substring(se.raw.length),se.raw.slice(-1)!=="_"&&(zt=se.raw.slice(-1)),At=!0,Ae=xt[xt.length-1],Ae&&Ae.type==="text"?(Ae.raw+=se.raw,Ae.text+=se.text):xt.push(se);else if(ht){const Wt="Infinite loop on byte: "+ht.charCodeAt(0);if(this.options.silent){console.error(Wt);break}throw new Error(Wt)}}else ht=ht.substring(se.raw.length),xt.push(se);return xt}}class tn{options;parser;constructor(ht){this.options=ht||Ye.defaults}space(ht){return""}code({text:ht,lang:xt,escaped:se}){const Ae=(xt||"").match(/^\S*/)?.[0],He=ht.replace(/\n$/,"")+"\n";return Ae?'<pre><code class="language-'+jt(Ae)+'">'+(se?He:jt(He,!0))+"</code></pre>\n":"<pre><code>"+(se?He:jt(He,!0))+"</code></pre>\n"}blockquote({tokens:ht}){return`<blockquote>\n${this.parser.parse(ht)}</blockquote>\n`}html({text:ht}){return ht}heading({tokens:ht,depth:xt}){return`<h${xt}>${this.parser.parseInline(ht)}</h${xt}>\n`}hr(ht){return"<hr>\n"}list(ht){const{ordered:xt,start:se}=ht;let Ae="";for(let mt=0;mt<ht.items.length;mt++){const At=ht.items[mt];Ae+=this.listitem(At)}const He=xt?"ol":"ul";return"<"+He+(xt&&se!==1?' start="'+se+'"':"")+">\n"+Ae+"</"+He+">\n"}listitem(ht){let xt="";if(ht.task){const se=this.checkbox({checked:!!ht.checked});ht.loose?ht.tokens.length>0&&ht.tokens[0].type==="paragraph"?(ht.tokens[0].text=se+" "+ht.tokens[0].text,ht.tokens[0].tokens&&ht.tokens[0].tokens.length>0&&ht.tokens[0].tokens[0].type==="text"&&(ht.tokens[0].tokens[0].text=se+" "+ht.tokens[0].tokens[0].text)):ht.tokens.unshift({type:"text",raw:se+" ",text:se+" "}):xt+=se+" "}return xt+=this.parser.parse(ht.tokens,!!ht.loose),`<li>${xt}</li>\n`}checkbox({checked:ht}){return"<input "+(ht?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:ht}){return`<p>${this.parser.parseInline(ht)}</p>\n`}table(ht){let xt="",se="";for(let He=0;He<ht.header.length;He++)se+=this.tablecell(ht.header[He]);xt+=this.tablerow({text:se});let Ae="";for(let He=0;He<ht.rows.length;He++){const mt=ht.rows[He];se="";for(let At=0;At<mt.length;At++)se+=this.tablecell(mt[At]);Ae+=this.tablerow({text:se})}return Ae&&(Ae=`<tbody>${Ae}</tbody>`),"<table>\n<thead>\n"+xt+"</thead>\n"+Ae+"</table>\n"}tablerow({text:ht}){return`<tr>\n${ht}</tr>\n`}tablecell(ht){const xt=this.parser.parseInline(ht.tokens),se=ht.header?"th":"td";return(ht.align?`<${se} align="${ht.align}">`:`<${se}>`)+xt+`</${se}>\n`}strong({tokens:ht}){return`<strong>${this.parser.parseInline(ht)}</strong>`}em({tokens:ht}){return`<em>${this.parser.parseInline(ht)}</em>`}codespan({text:ht}){return`<code>${ht}</code>`}br(ht){return"<br>"}del({tokens:ht}){return`<del>${this.parser.parseInline(ht)}</del>`}link({href:ht,title:xt,tokens:se}){const Ae=this.parser.parseInline(se),He=gn(ht);if(He===null)return Ae;let mt='<a href="'+(ht=He)+'"';return xt&&(mt+=' title="'+xt+'"'),mt+=">"+Ae+"</a>",mt}image({href:ht,title:xt,text:se}){const Ae=gn(ht);if(Ae===null)return se;let He=`<img src="${ht=Ae}" alt="${se}"`;return xt&&(He+=` title="${xt}"`),He+=">",He}text(ht){return"tokens"in ht&&ht.tokens?this.parser.parseInline(ht.tokens):ht.text}}class In{strong({text:ht}){return ht}em({text:ht}){return ht}codespan({text:ht}){return ht}del({text:ht}){return ht}html({text:ht}){return ht}text({text:ht}){return ht}link({text:ht}){return""+ht}image({text:ht}){return""+ht}br(){return""}}class mn{options;renderer;textRenderer;constructor(ht){this.options=ht||Ye.defaults,this.options.renderer=this.options.renderer||new tn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new In}static parse(ht,xt){return new mn(xt).parse(ht)}static parseInline(ht,xt){return new mn(xt).parseInline(ht)}parse(ht,xt=!0){let se="";for(let Ae=0;Ae<ht.length;Ae++){const He=ht[Ae];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[He.type]){const At=He,zt=this.options.extensions.renderers[At.type].call({parser:this},At);if(zt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(At.type)){se+=zt||"";continue}}const mt=He;switch(mt.type){case"space":se+=this.renderer.space(mt);continue;case"hr":se+=this.renderer.hr(mt);continue;case"heading":se+=this.renderer.heading(mt);continue;case"code":se+=this.renderer.code(mt);continue;case"table":se+=this.renderer.table(mt);continue;case"blockquote":se+=this.renderer.blockquote(mt);continue;case"list":se+=this.renderer.list(mt);continue;case"html":se+=this.renderer.html(mt);continue;case"paragraph":se+=this.renderer.paragraph(mt);continue;case"text":{let At=mt,zt=this.renderer.text(At);for(;Ae+1<ht.length&&ht[Ae+1].type==="text";)At=ht[++Ae],zt+="\n"+this.renderer.text(At);se+=xt?this.renderer.paragraph({type:"paragraph",raw:zt,text:zt,tokens:[{type:"text",raw:zt,text:zt}]}):zt;continue}default:{const At='Token with "'+mt.type+'" type was not found.';if(this.options.silent)return console.error(At),"";throw new Error(At)}}}return se}parseInline(ht,xt){xt=xt||this.renderer;let se="";for(let Ae=0;Ae<ht.length;Ae++){const He=ht[Ae];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[He.type]){const At=this.options.extensions.renderers[He.type].call({parser:this},He);if(At!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(He.type)){se+=At||"";continue}}const mt=He;switch(mt.type){case"escape":case"text":se+=xt.text(mt);break;case"html":se+=xt.html(mt);break;case"link":se+=xt.link(mt);break;case"image":se+=xt.image(mt);break;case"strong":se+=xt.strong(mt);break;case"em":se+=xt.em(mt);break;case"codespan":se+=xt.codespan(mt);break;case"br":se+=xt.br(mt);break;case"del":se+=xt.del(mt);break;default:{const At='Token with "'+mt.type+'" type was not found.';if(this.options.silent)return console.error(At),"";throw new Error(At)}}}return se}}class wn{options;constructor(ht){this.options=ht||Ye.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(ht){return ht}postprocess(ht){return ht}processAllTokens(ht){return ht}}class An{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(Kt.lex,mn.parse);parseInline=this.parseMarkdown(Kt.lexInline,mn.parseInline);Parser=mn;Renderer=tn;TextRenderer=In;Lexer=Kt;Tokenizer=Bn;Hooks=wn;constructor(...ht){this.use(...ht)}walkTokens(ht,xt){let se=[];for(let Ae of ht)switch(se=se.concat(xt.call(this,Ae)),Ae.type){case"table":{const He=Ae;for(let mt of He.header)se=se.concat(this.walkTokens(mt.tokens,xt));for(let mt of He.rows)for(let At of mt)se=se.concat(this.walkTokens(At.tokens,xt));break}case"list":{const He=Ae;se=se.concat(this.walkTokens(He.items,xt));break}default:{const He=Ae;this.defaults.extensions?.childTokens?.[He.type]?this.defaults.extensions.childTokens[He.type].forEach((mt)=>{const At=He[mt].flat(1/0);se=se.concat(this.walkTokens(At,xt))}):He.tokens&&(se=se.concat(this.walkTokens(He.tokens,xt)))}}return se}use(...ht){const xt=this.defaults.extensions||{renderers:{},childTokens:{}};return ht.forEach((se)=>{const Ae={...se};if(Ae.async=this.defaults.async||Ae.async||!1,se.extensions&&(se.extensions.forEach((He)=>{if(!He.name)throw new Error("extension name required");if("renderer"in He){const mt=xt.renderers[He.name];xt.renderers[He.name]=mt?function(...At){let zt=He.renderer.apply(this,At);return zt===!1&&(zt=mt.apply(this,At)),zt}:He.renderer}if("tokenizer"in He){if(!He.level||He.level!=="block"&&He.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const mt=xt[He.level];mt?mt.unshift(He.tokenizer):xt[He.level]=[He.tokenizer],He.start&&(He.level==="block"?xt.startBlock?xt.startBlock.push(He.start):xt.startBlock=[He.start]:He.level==="inline"&&(xt.startInline?xt.startInline.push(He.start):xt.startInline=[He.start]))}"childTokens"in He&&He.childTokens&&(xt.childTokens[He.name]=He.childTokens)}),Ae.extensions=xt),se.renderer){const He=this.defaults.renderer||new tn(this.defaults);for(let mt in se.renderer){if(!(mt in He))throw new Error(`renderer '${mt}' does not exist`);if(["options","parser"].includes(mt))continue;const At=mt,zt=se.renderer[At],Pt=He[At];He[At]=(...Wt)=>{let Nn=zt.apply(He,Wt);return Nn===!1&&(Nn=Pt.apply(He,Wt)),Nn||""}}Ae.renderer=He}if(se.tokenizer){const He=this.defaults.tokenizer||new Bn(this.defaults);for(let mt in se.tokenizer){if(!(mt in He))throw new Error(`tokenizer '${mt}' does not exist`);if(["options","rules","lexer"].includes(mt))continue;const At=mt,zt=se.tokenizer[At],Pt=He[At];He[At]=(...Wt)=>{let Nn=zt.apply(He,Wt);return Nn===!1&&(Nn=Pt.apply(He,Wt)),Nn}}Ae.tokenizer=He}if(se.hooks){const He=this.defaults.hooks||new wn;for(let mt in se.hooks){if(!(mt in He))throw new Error(`hook '${mt}' does not exist`);if(mt==="options")continue;const At=mt,zt=se.hooks[At],Pt=He[At];wn.passThroughHooks.has(mt)?He[At]=(Wt)=>{if(this.defaults.async)return Promise.resolve(zt.call(He,Wt)).then((bn)=>Pt.call(He,bn));const Nn=zt.call(He,Wt);return Pt.call(He,Nn)}:He[At]=(...Wt)=>{let Nn=zt.apply(He,Wt);return Nn===!1&&(Nn=Pt.apply(He,Wt)),Nn}}Ae.hooks=He}if(se.walkTokens){const He=this.defaults.walkTokens,mt=se.walkTokens;Ae.walkTokens=function(At){let zt=[];return zt.push(mt.call(this,At)),He&&(zt=zt.concat(He.call(this,At))),zt}}this.defaults={...this.defaults,...Ae}}),this}setOptions(ht){return this.defaults={...this.defaults,...ht},this}lexer(ht,xt){return Kt.lex(ht,xt??this.defaults)}parser(ht,xt){return mn.parse(ht,xt??this.defaults)}parseMarkdown(ht,xt){return(se,Ae)=>{const He={...Ae},mt={...this.defaults,...He},At=this.onError(!!mt.silent,!!mt.async);if(this.defaults.async===!0&&He.async===!1)return At(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(se==null)return At(new Error("marked(): input parameter is undefined or null"));if(typeof se!="string")return At(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(se)+", string expected"));if(mt.hooks&&(mt.hooks.options=mt),mt.async)return Promise.resolve(mt.hooks?mt.hooks.preprocess(se):se).then((zt)=>ht(zt,mt)).then((zt)=>mt.hooks?mt.hooks.processAllTokens(zt):zt).then((zt)=>mt.walkTokens?Promise.all(this.walkTokens(zt,mt.walkTokens)).then(()=>zt):zt).then((zt)=>xt(zt,mt)).then((zt)=>mt.hooks?mt.hooks.postprocess(zt):zt).catch(At);try{mt.hooks&&(se=mt.hooks.preprocess(se));let zt=ht(se,mt);mt.hooks&&(zt=mt.hooks.processAllTokens(zt)),mt.walkTokens&&this.walkTokens(zt,mt.walkTokens);let Pt=xt(zt,mt);return mt.hooks&&(Pt=mt.hooks.postprocess(Pt)),Pt}catch(zt){return At(zt)}}}onError(ht,xt){return(se)=>{if(se.message+="\nPlease report this to https://github.com/markedjs/marked.",ht){const Ae="<p>An error occurred:</p><pre>"+jt(se.message+"",!0)+"</pre>";return xt?Promise.resolve(Ae):Ae}if(xt)return Promise.reject(se);throw se}}}const fi=new An;function qn(ht,xt){return fi.parse(ht,xt)}qn.options=qn.setOptions=function(ht){return fi.setOptions(ht),qn.defaults=fi.defaults,oe(qn.defaults),qn},qn.getDefaults=Fe,qn.defaults=Ye.defaults,qn.use=function(...ht){return fi.use(...ht),qn.defaults=fi.defaults,oe(qn.defaults),qn},qn.walkTokens=function(ht,xt){return fi.walkTokens(ht,xt)},qn.parseInline=fi.parseInline,qn.Parser=mn,qn.parser=mn.parse,qn.Renderer=tn,qn.TextRenderer=In,qn.Lexer=Kt,qn.lexer=Kt.lex,qn.Tokenizer=Bn,qn.Hooks=wn,qn.parse=qn;const{options:oi,setOptions:Ai,use:nr,walkTokens:$i,parseInline:ji}=qn,di=qn,Qi=mn.parse,wr=Kt.lex;Ye.Hooks=wn,Ye.Lexer=Kt,Ye.Marked=An,Ye.Parser=mn,Ye.Renderer=tn,Ye.TextRenderer=In,Ye.Tokenizer=Bn,Ye.getDefaults=Fe,Ye.lexer=wr,Ye.marked=qn,Ye.options=oi,Ye.parse=di,Ye.parseInline=ji,Ye.parser=Qi,Ye.setOptions=Ai,Ye.use=nr,Ye.walkTokens=$i},ae.amd?ae(0,Ue):typeof to=="object"?Ue(to):Ue((O=typeof globalThis!="undefined"?globalThis:O||self).marked={})})(),b.Hooks||to.Hooks,b.Lexer||to.Lexer,b.Marked||to.Marked,b.Parser||to.Parser;var x=b.Renderer||to.Renderer,k=(b.TextRenderer||to.TextRenderer,b.Tokenizer||to.Tokenizer,b.defaults||to.defaults),R=(b.getDefaults||to.getDefaults,b.lexer||to.lexer),P=(b.marked||to.marked,b.options||to.options,b.parse||to.parse),z=(b.parseInline||to.parseInline,b.parser||to.parser),te=(b.setOptions||to.setOptions,b.use||to.use,b.walkTokens||to.walkTokens,h(180)),L=h(3072),W=h(1386),B=h(2467),U=h(6844),$=h(7264);const G=Object.freeze({image:({href:ae,title:O,text:Ue})=>{let Ye=[],Fe=[];return ae&&({href:ae,dimensions:Ye}=d.nI(ae),Fe.push(`src="${d.oO(ae)}"`)),Ue&&Fe.push(`alt="${d.oO(Ue)}"`),O&&Fe.push(`title="${d.oO(O)}"`),Ye.length&&(Fe=Fe.concat(Ye)),"<img "+Fe.join(" ")+">"},paragraph({tokens:ae}){return`<p>${this.parser.parseInline(ae)}</p>`},link({href:ae,title:O,tokens:Ue}){let Ye=this.parser.parseInline(Ue);return typeof ae!="string"?"":(ae===Ye&&(Ye=d._W(Ye)),O=typeof O=="string"?d.oO(d._W(O)):"",`<a href="${ae=(ae=d._W(ae)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${O||ae}" draggable="false">${Ye}</a>`)}});function ie(ae,O={},Ue={}){const Ye=new m.Cm;let Fe=!1;const oe=J.n(O),rt=function(nn){let gn;try{gn=te.qg(decodeURIComponent(nn))}catch(pn){}return gn?(gn=W.PI(gn,(pn)=>ae.uris&&ae.uris[pn]?$.r.revive(ae.uris[pn]):void 0),encodeURIComponent(JSON.stringify(gn))):nn},lt=function(nn,gn){const pn=ae.uris&&ae.uris[nn];let rn=$.r.revive(pn);return gn?nn.startsWith(L.ny.data+":")?nn:(rn||(rn=$.r.parse(nn)),L.zl.uriToBrowserUri(rn).toString(!0)):rn?$.r.parse(nn).toString()===rn.toString()?nn:(rn.query&&(rn=rn.with({query:rt(rn.query)})),rn.toString()):nn},ye=new x;ye.image=G.image,ye.link=G.link,ye.paragraph=G.paragraph;const pt=[],Mt=[];if(O.codeBlockRendererSync?ye.code=({text:nn,lang:gn})=>{const pn=p.r.nextId(),rn=O.codeBlockRendererSync(ee(gn),nn);return Mt.push([pn,rn]),`<div class="code" data-code="${pn}">${U.ih(nn)}</div>`}:O.codeBlockRenderer&&(ye.code=({text:nn,lang:gn})=>{const pn=p.r.nextId(),rn=O.codeBlockRenderer(ee(gn),nn);return pt.push(rn.then((Sn)=>[pn,Sn])),`<div class="code" data-code="${pn}">${U.ih(nn)}</div>`}),O.actionHandler){const nn=function(rn){let Sn=rn.target;if(Sn.tagName==="A"||(Sn=Sn.parentElement,Sn&&Sn.tagName==="A"))try{let Mn=Sn.dataset.href;Mn&&(ae.baseUri&&(Mn=ne($.r.from(ae.baseUri),Mn)),O.actionHandler.callback(Mn,rn))}catch(Mn){w.dz(Mn)}finally{rn.preventDefault()}},gn=O.actionHandler.disposables.add(new T.f(oe,"click")),pn=O.actionHandler.disposables.add(new T.f(oe,"auxclick"));O.actionHandler.disposables.add(C.Jh.any(gn.event,pn.event)((rn)=>{const Sn=new v.P(s.zk(oe),rn);(Sn.leftButton||Sn.middleButton)&&nn(Sn)})),O.actionHandler.disposables.add(s.ko(oe,"keydown",(rn)=>{const Sn=new M.Z(rn);(Sn.equals(10)||Sn.equals(3))&&nn(Sn)}))}ae.supportHtml||(ye.html=({text:nn})=>O.sanitizerOptions?.replaceWithPlaintext?U.ih(nn):(ae.isTrusted?nn.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?nn:""),Ue.renderer=ye;let Zt,jt=ae.value??"";if(jt.length>1e5&&(jt=`${jt.substr(0,1e5)}\u2026`),ae.supportThemeIcons&&(jt=f.sA(jt)),O.fillInIncompleteTokens){const nn={...k,...Ue},gn=function(pn){for(let rn=0;rn<re;rn++){const Sn=Je(pn);if(!Sn)break;pn=Sn}return pn}(R(jt,nn));Zt=z(gn,nn)}else Zt=P(jt,{...Ue,async:!1});ae.supportThemeIcons&&(Zt=E.n(Zt).map((nn)=>typeof nn=="string"?nn:nn.outerHTML).join(""));const xn=new DOMParser().parseFromString(V({isTrusted:ae.isTrusted,...O.sanitizerOptions},Zt),"text/html");if(xn.body.querySelectorAll("img, audio, video, source").forEach((nn)=>{const gn=nn.getAttribute("src");if(gn){let pn=gn;try{ae.baseUri&&(pn=ne($.r.from(ae.baseUri),pn))}catch(rn){}if(nn.setAttribute("src",lt(pn,!0)),O.remoteImageIsAllowed){const rn=$.r.parse(pn);rn.scheme===L.ny.file||rn.scheme===L.ny.data||O.remoteImageIsAllowed(rn)||nn.replaceWith(s.$("",void 0,nn.outerHTML))}}}),xn.body.querySelectorAll("a").forEach((nn)=>{const gn=nn.getAttribute("href");if(nn.setAttribute("href",""),!gn||/^data:|javascript:/i.test(gn)||/^command:/i.test(gn)&&!ae.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(gn))nn.replaceWith(...nn.childNodes);else{let pn=lt(gn,!1);ae.baseUri&&(pn=ne($.r.from(ae.baseUri),gn)),nn.dataset.href=pn}}),oe.innerHTML=V({isTrusted:ae.isTrusted,...O.sanitizerOptions},xn.body.innerHTML),pt.length>0)Promise.all(pt).then((nn)=>{if(Fe)return;const gn=new Map(nn),pn=oe.querySelectorAll("div[data-code]");for(let rn of pn){const Sn=gn.get(rn.dataset.code??"");Sn&&s.Ln(rn,Sn)}O.asyncRenderCallback?.()});else if(Mt.length>0){const nn=new Map(Mt),gn=oe.querySelectorAll("div[data-code]");for(let pn of gn){const rn=nn.get(pn.dataset.code??"");rn&&s.Ln(pn,rn)}}if(O.asyncRenderCallback)for(let nn of oe.getElementsByTagName("img")){const gn=Ye.add(s.ko(nn,"load",()=>{gn.dispose(),O.asyncRenderCallback()}))}return{element:oe,dispose:()=>{Fe=!0,Ye.dispose()}}}function ee(ae){if(!ae)return"";const O=ae.split(/[\s+|:|,|\{|\?]/,1);return O.length?O[0]:ae}function ne(ae,O){return/^\w[\w\d+.-]*:/.test(O)?O:ae.path.endsWith("/")?B.o1(ae,O).toString():B.o1(B.pD(ae),O).toString()}const H=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function V(ae,O){const{config:Ue,allowedSchemes:Ye}=function(oe){const rt=[L.ny.http,L.ny.https,L.ny.mailto,L.ny.data,L.ny.file,L.ny.vscodeFileResource,L.ny.vscodeRemote,L.ny.vscodeRemoteResource];return oe.isTrusted&&rt.push(L.ny.command),{config:{ALLOWED_TAGS:oe.allowedTags??[...s.TT],ALLOWED_ATTR:Y,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:rt}}(ae),Fe=new m.Cm;Fe.add(be("uponSanitizeAttribute",(oe,rt)=>{if(rt.attrName!=="style"&&rt.attrName!=="class"){if(oe.tagName==="INPUT"&&oe.attributes.getNamedItem("type")?.value==="checkbox"){if(rt.attrName==="type"&&rt.attrValue==="checkbox"||rt.attrName==="disabled"||rt.attrName==="checked")return void(rt.keepAttr=!0);rt.keepAttr=!1}}else{if(oe.tagName==="SPAN"){if(rt.attrName==="style")return void(rt.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(border-radius:[0-9]+px;)?$/.test(rt.attrValue));if(rt.attrName==="class")return void(rt.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(rt.attrValue))}rt.keepAttr=!1}})),Fe.add(be("uponSanitizeElement",(oe,rt)=>{if(rt.tagName==="input"&&(oe.attributes.getNamedItem("type")?.value==="checkbox"?oe.setAttribute("disabled",""):ae.replaceWithPlaintext||oe.remove()),ae.replaceWithPlaintext&&!rt.allowedTags[rt.tagName]&&rt.tagName!=="body"&&oe.parentElement){let lt,ye;if(rt.tagName==="#comment")lt=`<!--${oe.textContent}-->`;else{const jt=H.includes(rt.tagName),xn=oe.attributes.length?" "+Array.from(oe.attributes).map((nn)=>`${nn.name}="${nn.value}"`).join(" "):"";lt=`<${rt.tagName}${xn}>`,jt||(ye=`</${rt.tagName}>`)}const pt=document.createDocumentFragment(),Mt=oe.parentElement.ownerDocument.createTextNode(lt);pt.appendChild(Mt);const Zt=ye?oe.parentElement.ownerDocument.createTextNode(ye):void 0;for(;oe.firstChild;)pt.appendChild(oe.firstChild);Zt&&pt.appendChild(Zt),oe.parentElement.replaceChild(pt,oe)}})),Fe.add(s.a4(Ye));try{return I.aj(O,{...Ue,RETURN_TRUSTED_TYPE:!0})}finally{Fe.dispose()}}const Y=["align","autoplay","alt","checked","class","colspan","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","rowspan","src","style","target","title","type","width","start"];function ve(ae){return typeof ae=="string"?ae:function(O){let Ue=O.value??"";return Ue.length>1e5&&(Ue=`${Ue.substr(0,1e5)}\u2026`),V({isTrusted:!1},P(Ue,{async:!1,renderer:Be.value}).replace(/&(#\d+|[a-zA-Z]+);/g,(Ye)=>Te.get(Ye)??Ye)).toString()}(ae)}const Te=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function xe(){const ae=new x;return ae.code=({text:O})=>O,ae.blockquote=({text:O})=>O+"\n",ae.html=(O)=>"",ae.heading=function({tokens:O}){return this.parser.parseInline(O)+"\n"},ae.hr=()=>"",ae.list=function({items:O}){return O.map((Ue)=>this.listitem(Ue)).join("\n")+"\n"},ae.listitem=({text:O})=>O+"\n",ae.paragraph=function({tokens:O}){return this.parser.parseInline(O)+"\n"},ae.table=function({header:O,rows:Ue}){return O.map((Ye)=>this.tablecell(Ye)).join(" ")+"\n"+Ue.map((Ye)=>Ye.map((Fe)=>this.tablecell(Fe)).join(" ")).join("\n")+"\n"},ae.tablerow=({text:O})=>O,ae.tablecell=function({tokens:O}){return this.parser.parseInline(O)},ae.strong=({text:O})=>O,ae.em=({text:O})=>O,ae.codespan=({text:O})=>O,ae.br=(O)=>"\n",ae.del=({text:O})=>O,ae.image=(O)=>"",ae.text=({text:O})=>O,ae.link=({text:O})=>O,ae}const Be=new _.d((ae)=>xe());new _.d(()=>{const ae=xe();return ae.code=({text:O})=>`\n\`\`\`\n${O}\n\`\`\`\n`,ae});function Ie(ae){let O="";return ae.forEach((Ue)=>{O+=Ue.raw}),O}function he(ae){if(ae.tokens)for(let O=ae.tokens.length-1;O>=0;O--){const Ue=ae.tokens[O];if(Ue.type==="text"){const Ye=Ue.raw.split("\n"),Fe=Ye[Ye.length-1];if(Fe.includes("`"))return Se(ae);if(Fe.includes("**"))return We(ae,"**");if(Fe.match(/\*\w/))return We(ae,"*");if(Fe.match(/(^|\s)__\w/))return ge(ae);if(Fe.match(/(^|\s)_\w/))return Pe(ae);if(Fe.match(/(^|\s)\[.*\]\(\w*/)||Fe.match(/^[^\[]*\]\([^\)]*$/)&&ae.tokens.slice(0,O).some((oe)=>oe.type==="text"&&oe.raw.match(/\[[^\]]*$/))){const oe=ae.tokens.slice(O+1);return oe[0]?.type==="link"&&oe[1]?.type==="text"&&oe[1].raw.match(/^ *"[^"]*$/)||Fe.match(/^[^"]* +"[^"]*$/)?Ve(ae):Le(ae)}if(Fe.match(/(^|\s)\[\w*/))return g(ae)}}}function Q(ae){const O=ae.items[ae.items.length-1],Ue=O.tokens?O.tokens[O.tokens.length-1]:void 0;let Ye;if(Ue?.type!=="text"||"inRawBlock"in O||(Ye=he(Ue)),!Ye||Ye.type!=="paragraph")return;const Fe=Ie(ae.items.slice(0,-1)),oe=O.raw.match(/^(\s*(-|\d+\.|\*) +)/)?.[0];if(!oe)return;const rt=oe+Ie(O.tokens.slice(0,-1))+Ye.raw,lt=R(Fe+rt)[0];return lt.type==="list"?lt:void 0}const re=3;function Je(ae){let O,Ue;for(O=0;O<ae.length;O++){const Ye=ae[O];if(Ye.type==="paragraph"&&Ye.raw.match(/(\n|^)\|/)){Ue=de(ae.slice(O));break}if(O===ae.length-1&&Ye.type==="list"){const Fe=Q(Ye);if(Fe){Ue=[Fe];break}}if(O===ae.length-1&&Ye.type==="paragraph"){const Fe=he(Ye);if(Fe){Ue=[Fe];break}}}if(Ue){const Ye=[...ae.slice(0,O),...Ue];return Ye.links=ae.links,Ye}return null}function Se(ae){return We(ae,"`")}function Pe(ae){return We(ae,"_")}function Le(ae){return We(ae,")")}function Ve(ae){return We(ae,'")')}function g(ae){return We(ae,"](https://microsoft.com)")}function ge(ae){return We(ae,"__")}function We(ae,O){const Ue=Ie(Array.isArray(ae)?ae:[ae]);return R(Ue+O)[0]}function de(ae){const O=Ie(ae),Ue=O.split("\n");let Ye,Fe=!1;for(let oe=0;oe<Ue.length;oe++){const rt=Ue[oe].trim();if(Ye===void 0&&rt.match(/^\s*\|/)){const lt=rt.match(/(\|[^\|]+)(?=\||$)/g);lt&&(Ye=lt.length)}else if(typeof Ye=="number"){if(!rt.match(/^\s*\|/))return;if(oe!==Ue.length-1)return;Fe=!0}}if(typeof Ye=="number"&&Ye>0){const oe=Fe?Ue.slice(0,-1).join("\n"):O,rt=!!oe.match(/\|\s*$/),lt=oe+(rt?"":"|")+`\n|${" --- |".repeat(Ye)}`;return R(lt)}}function be(ae,O){return I.$w(ae,O),m.s(()=>I.SV(ae))}},9715:(dt,pe,h)=>{h.d(pe,{P:()=>v,$:()=>E});var s=h(5893);const I=new WeakMap;function T(w){if(!w.parent||w.parent===w)return null;try{const C=w.location,d=w.parent.location;if(C.origin!=="null"&&d.origin!=="null"&&C.origin!==d.origin)return null}catch(C){return null}return w.parent}class J{static getSameOriginWindowChain(w){let C=I.get(w);if(!C){C=[],I.set(w,C);let d,f=w;do d=T(f),d?C.push({window:new WeakRef(f),iframeElement:f.frameElement||null}):C.push({window:new WeakRef(f),iframeElement:null}),f=d;while(f)}return C.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(w,C){if(!C||w===C)return{top:0,left:0};let d=0,f=0;const p=this.getSameOriginWindowChain(w);for(let _ of p){const m=_.window.deref();if(d+=m?.scrollY??0,f+=m?.scrollX??0,m===C)break;if(!_.iframeElement)break;const b=_.iframeElement.getBoundingClientRect();d+=b.top,f+=b.left}return{top:d,left:f}}}var M=h(3339);class v{constructor(w,C){this.timestamp=Date.now(),this.browserEvent=C,this.leftButton=C.button===0,this.middleButton=C.button===1,this.rightButton=C.button===2,this.buttons=C.buttons,this.target=C.target,this.detail=C.detail||1,C.type==="dblclick"&&(this.detail=2),this.ctrlKey=C.ctrlKey,this.shiftKey=C.shiftKey,this.altKey=C.altKey,this.metaKey=C.metaKey,typeof C.pageX=="number"?(this.posx=C.pageX,this.posy=C.pageY):(this.posx=C.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=C.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const d=J.getPositionOfChildWindowRelativeToAncestorWindow(w,C.view);this.posx-=d.left,this.posy-=d.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class E{constructor(w,C=0,d=0){this.browserEvent=w||null,this.target=w?w.target||w.targetNode||w.srcElement:null,this.deltaY=d,this.deltaX=C;let f=!1;if(s.H8){const p=navigator.userAgent.match(/Chrome\/(\d+)/);f=(p?parseInt(p[1]):123)<=122}if(w){const p=w,_=w,m=w.view?.devicePixelRatio||1;if(p.wheelDeltaY!==void 0)this.deltaY=f?p.wheelDeltaY/(120*m):p.wheelDeltaY/120;else if(_.VERTICAL_AXIS!==void 0&&_.axis===_.VERTICAL_AXIS)this.deltaY=-_.detail/3;else if(w.type==="wheel"){const b=w;b.deltaMode===b.DOM_DELTA_LINE?s.gm&&!M.zx?this.deltaY=-w.deltaY/3:this.deltaY=-w.deltaY:this.deltaY=-w.deltaY/40}if(p.wheelDeltaX!==void 0)s.nr&&M.uF?this.deltaX=-p.wheelDeltaX/120:this.deltaX=f?p.wheelDeltaX/(120*m):p.wheelDeltaX/120;else if(_.HORIZONTAL_AXIS!==void 0&&_.axis===_.HORIZONTAL_AXIS)this.deltaX=-w.detail/3;else if(w.type==="wheel"){const b=w;b.deltaMode===b.DOM_DELTA_LINE?s.gm&&!M.zx?this.deltaX=-w.deltaX/3:this.deltaX=-w.deltaX:this.deltaX=-w.deltaX/40}this.deltaY===0&&this.deltaX===0&&w.wheelDelta&&(this.deltaY=f?w.wheelDelta/(120*m):w.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}}},2863:(dt,pe,h)=>{var s;h.d(pe,{p:()=>s}),function(I){const T={total:0,min:Number.MAX_VALUE,max:0},J={...T},M={...T},v={...T};let E=0;const w={keydown:0,input:0,render:0};function C(){w.keydown===1&&(performance.mark("keydown/end"),w.keydown=2)}function d(){performance.mark("input/start"),w.input=1,_()}function f(){w.input===1&&(performance.mark("input/end"),w.input=2)}function p(){w.render===1&&(performance.mark("render/end"),w.render=2)}function _(){setTimeout(m)}function m(){w.keydown===2&&w.input===2&&w.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),b("keydown",T),b("input",J),b("render",M),b("inputlatency",v),E++,performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),w.keydown=0,w.input=0,w.render=0)}function b(R,P){const z=performance.getEntriesByName(R)[0].duration;P.total+=z,P.min=Math.min(P.min,z),P.max=Math.max(P.max,z)}function x(R){return{average:R.total/E,max:R.max,min:R.min}}function k(R){R.total=0,R.min=Number.MAX_VALUE,R.max=0}I.onKeyDown=function(){m(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),w.keydown=1,queueMicrotask(C)},I.onBeforeInput=d,I.onInput=function(){w.input===0&&d(),queueMicrotask(f)},I.onKeyUp=function(){m()},I.onSelectionChange=function(){m()},I.onRenderStart=function(){w.keydown===2&&w.input===2&&w.render===0&&(performance.mark("render/start"),w.render=1,queueMicrotask(p),_())},I.getAndClearMeasurements=function(){if(E===0)return;const R={keydown:x(T),input:x(J),render:x(M),total:x(v),sampleCount:E};return k(T),k(J),k(M),k(v),E=0,R}}(s||(s={}))},4770:(dt,pe,h)=>{h.d(pe,{c:()=>v});var s=h(4333),I=h(2106),T=h(998);class J extends T.jG{constructor(E){super(),this._onDidChange=this._register(new I.vl),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(E,!0),this._mediaQueryList=null,this._handleChange(E,!1)}_handleChange(E,w){this._mediaQueryList?.removeEventListener("change",this._listener),this._mediaQueryList=E.matchMedia(`(resolution: ${E.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),w&&this._onDidChange.fire()}}class M extends T.jG{get value(){return this._value}constructor(E){super(),this._onDidChange=this._register(new I.vl),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(E);const w=this._register(new J(E));this._register(w.onDidChange(()=>{this._value=this._getPixelRatio(E),this._onDidChange.fire(this._value)}))}_getPixelRatio(E){const w=document.createElement("canvas").getContext("2d");return(E.devicePixelRatio||1)/(w.webkitBackingStorePixelRatio||w.mozBackingStorePixelRatio||w.msBackingStorePixelRatio||w.oBackingStorePixelRatio||w.backingStorePixelRatio||1)}}const v=new class{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(E){const w=s.Q2(E);let C=this.mapWindowIdToPixelRatioMonitor.get(w);return C||(C=T.lC(new M(E)),this.mapWindowIdToPixelRatioMonitor.set(w,C),T.lC(I.Jh.once(s.Fv)(({vscodeWindowId:d})=>{d===w&&(C?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(w))}))),C}getInstance(E){return this._getOrCreatePixelRatioMonitor(E)}}},474:(dt,pe,h)=>{h.d(pe,{B:()=>s,q:()=>C});var s,I=h(4333),T=h(8877),J=h(3338),M=h(8846),v=h(2106),E=h(998),w=h(5525);(function(d){d.Tap="-monaco-gesturetap",d.Change="-monaco-gesturechange",d.Start="-monaco-gesturestart",d.End="-monaco-gesturesend",d.Contextmenu="-monaco-gesturecontextmenu"})(s||(s={}));class C extends E.jG{static{this.SCROLL_FRICTION=-0.005}static{this.HOLD_DELAY=700}static{this.CLEAR_TAP_COUNT_TIME=400}constructor(){super(),this.dispatched=!1,this.targets=new w.w,this.ignoreTargets=new w.w,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(v.Jh.runAndSubscribe(I.Iv,({window:d,disposables:f})=>{f.add(I.ko(d.document,"touchstart",(p)=>this.onTouchStart(p),{passive:!1})),f.add(I.ko(d.document,"touchend",(p)=>this.onTouchEnd(d,p))),f.add(I.ko(d.document,"touchmove",(p)=>this.onTouchMove(p),{passive:!1}))},{window:T.G,disposables:this._store}))}static addTarget(d){if(!C.isTouchDevice())return E.jG.None;C.INSTANCE||(C.INSTANCE=E.lC(new C));const f=C.INSTANCE.targets.push(d);return E.s(f)}static ignoreTarget(d){if(!C.isTouchDevice())return E.jG.None;C.INSTANCE||(C.INSTANCE=E.lC(new C));const f=C.INSTANCE.ignoreTargets.push(d);return E.s(f)}static isTouchDevice(){return"ontouchstart"in T.G||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(d){const f=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let p=0,_=d.targetTouches.length;p<_;p++){const m=d.targetTouches.item(p);this.activeTouches[m.identifier]={id:m.identifier,initialTarget:m.target,initialTimeStamp:f,initialPageX:m.pageX,initialPageY:m.pageY,rollingTimestamps:[f],rollingPageX:[m.pageX],rollingPageY:[m.pageY]};const b=this.newGestureEvent(s.Start,m.target);b.pageX=m.pageX,b.pageY=m.pageY,this.dispatchEvent(b)}this.dispatched&&(d.preventDefault(),d.stopPropagation(),this.dispatched=!1)}onTouchEnd(d,f){const p=Date.now(),_=Object.keys(this.activeTouches).length;for(let m=0,b=f.changedTouches.length;m<b;m++){const x=f.changedTouches.item(m);if(!this.activeTouches.hasOwnProperty(String(x.identifier))){console.warn("move of an UNKNOWN touch",x);continue}const k=this.activeTouches[x.identifier],R=Date.now()-k.initialTimeStamp;if(R<C.HOLD_DELAY&&Math.abs(k.initialPageX-J.RT(k.rollingPageX))<30&&Math.abs(k.initialPageY-J.RT(k.rollingPageY))<30){const P=this.newGestureEvent(s.Tap,k.initialTarget);P.pageX=J.RT(k.rollingPageX),P.pageY=J.RT(k.rollingPageY),this.dispatchEvent(P)}else if(R>=C.HOLD_DELAY&&Math.abs(k.initialPageX-J.RT(k.rollingPageX))<30&&Math.abs(k.initialPageY-J.RT(k.rollingPageY))<30){const P=this.newGestureEvent(s.Contextmenu,k.initialTarget);P.pageX=J.RT(k.rollingPageX),P.pageY=J.RT(k.rollingPageY),this.dispatchEvent(P)}else if(_===1){const P=J.RT(k.rollingPageX),z=J.RT(k.rollingPageY),te=J.RT(k.rollingTimestamps)-k.rollingTimestamps[0],L=P-k.rollingPageX[0],W=z-k.rollingPageY[0],B=[...this.targets].filter((U)=>k.initialTarget instanceof Node&&U.contains(k.initialTarget));this.inertia(d,B,p,Math.abs(L)/te,L>0?1:-1,P,Math.abs(W)/te,W>0?1:-1,z)}this.dispatchEvent(this.newGestureEvent(s.End,k.initialTarget)),delete this.activeTouches[x.identifier]}this.dispatched&&(f.preventDefault(),f.stopPropagation(),this.dispatched=!1)}newGestureEvent(d,f){const p=document.createEvent("CustomEvent");return p.initEvent(d,!1,!0),p.initialTarget=f,p.tapCount=0,p}dispatchEvent(d){if(d.type===s.Tap){const f=new Date().getTime();let p=0;p=f-this._lastSetTapCountTime>C.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=f,d.tapCount=p}else d.type!==s.Change&&d.type!==s.Contextmenu||(this._lastSetTapCountTime=0);if(d.initialTarget instanceof Node){for(let p of this.ignoreTargets)if(p.contains(d.initialTarget))return;const f=[];for(let p of this.targets)if(p.contains(d.initialTarget)){let _=0,m=d.initialTarget;for(;m&&m!==p;)_++,m=m.parentElement;f.push([_,p])}f.sort((p,_)=>p[0]-_[0]);for(let[p,_]of f)_.dispatchEvent(d),this.dispatched=!0}}inertia(d,f,p,_,m,b,x,k,R){this.handle=I.PG(d,()=>{const P=Date.now(),z=P-p;let te=0,L=0,W=!0;_+=C.SCROLL_FRICTION*z,x+=C.SCROLL_FRICTION*z,_>0&&(W=!1,te=m*_*z),x>0&&(W=!1,L=k*x*z);const B=this.newGestureEvent(s.Change);B.translationX=te,B.translationY=L,f.forEach((U)=>U.dispatchEvent(B)),W||this.inertia(d,f,P,_,m,b+te,x,k,R+L)})}onTouchMove(d){const f=Date.now();for(let p=0,_=d.changedTouches.length;p<_;p++){const m=d.changedTouches.item(p);if(!this.activeTouches.hasOwnProperty(String(m.identifier))){console.warn("end of an UNKNOWN touch",m);continue}const b=this.activeTouches[m.identifier],x=this.newGestureEvent(s.Change,b.initialTarget);x.translationX=m.pageX-J.RT(b.rollingPageX),x.translationY=m.pageY-J.RT(b.rollingPageY),x.pageX=m.pageX,x.pageY=m.pageY,this.dispatchEvent(x),b.rollingPageX.length>3&&(b.rollingPageX.shift(),b.rollingPageY.shift(),b.rollingTimestamps.shift()),b.rollingPageX.push(m.pageX),b.rollingPageY.push(m.pageY),b.rollingTimestamps.push(f)}this.dispatched&&(d.preventDefault(),d.stopPropagation(),this.dispatched=!1)}}(function(d,f,p,_){var m,b=arguments.length,x=b<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,p):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,f,p,_);else for(var k=d.length-1;k>=0;k--)(m=d[k])&&(x=(b<3?m(x):b>3?m(f,p,x):m(f,p))||x);b>3&&x&&Object.defineProperty(f,p,x)})([M.B],C,"isTouchDevice",null)},3021:(dt,pe,h)=>{h.d(pe,{H:()=>I});var s=h(4327);function I(T,J){const M=globalThis.MonacoEnvironment;if(M?.createTrustedTypesPolicy)try{return M.createTrustedTypesPolicy(T,J)}catch(v){return void s.dz(v)}try{return globalThis.trustedTypes?.createPolicy(T,J)}catch(v){return void s.dz(v)}}},7598:(dt,pe,h)=>{h.d(pe,{Z4:()=>G,EH:()=>$,XF:()=>ie});var s=h(5893),I=h(9587),T=h(4333),J=h(474),M=h(5568),v=h(4061),E=h(7594),w=h(6930),C=h(396),d=h(5573),f=h(3338),p=h(2106),_=h(8387),m=h(998),b=h(3339),x=h(9746);const k=T.$,R="selectOption.entry.template";class P{get templateId(){return R}renderTemplate(ee){const ne=Object.create(null);return ne.root=ee,ne.text=T.BC(ee,k(".option-text")),ne.detail=T.BC(ee,k(".option-detail")),ne.decoratorRight=T.BC(ee,k(".option-decorator-right")),ne}renderElement(ee,ne,H){const V=H,Y=ee.text,ve=ee.detail,Te=ee.decoratorRight,xe=ee.isDisabled;V.text.textContent=Y,V.detail.textContent=ve||"",V.decoratorRight.innerText=Te||"",xe?V.root.classList.add("option-disabled"):V.root.classList.remove("option-disabled")}disposeTemplate(ee){}}class z extends m.jG{static{this.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32}static{this.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2}static{this.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}constructor(ee,ne,H,V,Y){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=V,this.selectBoxOptions=Y||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=z.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new p.vl,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(H),this.selected=ne||0,ee&&this.setOptions(ee,ne),this.initStyleSheet()}setTitle(ee){!this._hover&&ee?this._hover=this._register(C.i().setupManagedHover(M.nZ("mouse"),this.selectElement,ee)):this._hover&&this._hover.update(ee)}getHeight(){return 22}getTemplateId(){return R}constructSelectDropDown(ee){this.contextViewProvider=ee,this.selectDropDownContainer=T.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=T.BC(this.selectDropDownContainer,k(".select-box-details-pane"));const ne=T.BC(this.selectDropDownContainer,k(".select-box-dropdown-container-width-control")),H=T.BC(ne,k(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",T.BC(H,this.widthControlElement),this._dropDownPosition=0,this.styleElement=T.li(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(T.ko(this.selectDropDownContainer,T.Bx.DRAG_START,(V)=>{T.fs.stop(V,!0)}))}registerListeners(){let ee;this._register(T.b2(this.selectElement,"change",(ne)=>{this.selected=ne.target.selectedIndex,this._onDidSelect.fire({index:ne.target.selectedIndex,selected:ne.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(T.ko(this.selectElement,T.Bx.CLICK,(ne)=>{T.fs.stop(ne),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(T.ko(this.selectElement,T.Bx.MOUSE_DOWN,(ne)=>{T.fs.stop(ne)})),this._register(T.ko(this.selectElement,"touchstart",(ne)=>{ee=this._isVisible})),this._register(T.ko(this.selectElement,"touchend",(ne)=>{T.fs.stop(ne),ee?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(T.ko(this.selectElement,T.Bx.KEY_DOWN,(ne)=>{const H=new E.Z(ne);let V=!1;b.zx?H.keyCode!==18&&H.keyCode!==16&&H.keyCode!==10&&H.keyCode!==3||(V=!0):(H.keyCode===18&&H.altKey||H.keyCode===16&&H.altKey||H.keyCode===10||H.keyCode===3)&&(V=!0),V&&(this.showSelectDropDown(),T.fs.stop(ne,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(ee,ne){f.aI(this.options,ee)||(this.options=ee,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((H,V)=>{this.selectElement.add(this.createOption(H.text,V,H.isDisabled)),typeof H.description=="string"&&(this._hasDetails=!0)})),ne!==void 0&&(this.select(ne),this._currentSelection=this.selected)}setOptionsList(){this.selectList?.splice(0,this.selectList.length,this.options)}select(ee){ee>=0&&ee<this.options.length?this.selected=ee:ee>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(ee){this.selectElement.tabIndex=ee?0:-1}render(ee){this.container=ee,ee.classList.add("select-container"),ee.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const ee=[];this.styles.listFocusBackground&&ee.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&ee.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&ee.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(ee.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),ee.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),ee.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(ee.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),ee.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&ee.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&ee.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&ee.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&ee.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),ee.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),ee.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=ee.join("\n")}styleSelectElement(){const ee=this.styles.selectBackground??"",ne=this.styles.selectForeground??"",H=this.styles.selectBorder??"";this.selectElement.style.backgroundColor=ee,this.selectElement.style.color=ne,this.selectElement.style.borderColor=H}styleList(){const ee=this.styles.selectBackground??"",ne=T.gI(this.styles.selectListBackground,ee);this.selectDropDownListContainer.style.backgroundColor=ne,this.selectionDetailsPane.style.backgroundColor=ne;const H=this.styles.focusBorder??"";this.selectDropDownContainer.style.outlineColor=H,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(ee,ne,H){const V=document.createElement("option");return V.value=ee,V.text=ee,V.disabled=!!H,V}showSelectDropDown(){this.selectionDetailsPane.innerText="",this.contextViewProvider&&!this._isVisible&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:(ee)=>this.renderSelectDropDown(ee,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:(ee)=>this.renderSelectDropDown(ee),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(ee){this.contextViewProvider&&this._isVisible&&(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),ee&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(ee,ne){return ee.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(ne),{dispose:()=>{this.selectDropDownContainer.remove()}}}measureMaxDetailsHeight(){let ee=0;return this.options.forEach((ne,H)=>{this.updateDetail(H),this.selectionDetailsPane.offsetHeight>ee&&(ee=this.selectionDetailsPane.offsetHeight)}),ee}layoutSelectDropDown(ee){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const ne=T.zk(this.selectElement),H=T.BK(this.selectElement),V=T.zk(this.selectElement).getComputedStyle(this.selectElement),Y=parseFloat(V.getPropertyValue("--dropdown-padding-top"))+parseFloat(V.getPropertyValue("--dropdown-padding-bottom")),ve=ne.innerHeight-H.top-H.height-(this.selectBoxOptions.minBottomMargin||0),Te=H.top-z.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,xe=this.selectElement.offsetWidth,Be=this.setWidthControlElement(this.widthControlElement),Ie=Math.max(Be,Math.round(xe)).toString()+"px";this.selectDropDownContainer.style.width=Ie,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let he=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const Q=this._hasDetails?this._cachedMaxDetailsHeight:0,re=he+Y+Q,Je=Math.floor((ve-Y-Q)/this.getHeight()),Se=Math.floor((Te-Y-Q)/this.getHeight());if(ee)return!(H.top+H.height>ne.innerHeight-22||H.top<z.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||Je<1&&Se<1||(Je<z.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&Se>Je&&this.options.length>Je?(this._dropDownPosition=1,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),0));if(H.top+H.height>ne.innerHeight-22||H.top<z.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&Je<1||this._dropDownPosition===1&&Se<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&Je+Se<1)return this.hideSelectDropDown(!0),!1;re>ve&&(he=Je*this.getHeight())}else re>Te&&(he=Se*this.getHeight());return this.selectList.layout(he),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=he+Y+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=he+Y+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=Ie,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}return!1}setWidthControlElement(ee){let ne=0;if(ee){let H=0,V=0;this.options.forEach((Y,ve)=>{const Te=Y.detail?Y.detail.length:0,xe=Y.decoratorRight?Y.decoratorRight.length:0,Be=Y.text.length+Te+xe;Be>V&&(H=ve,V=Be)}),ee.textContent=this.options[H].text+(this.options[H].decoratorRight?this.options[H].decoratorRight+" ":""),ne=T.Tr(ee)}return ne}createSelectList(ee){if(this.selectList)return;this.selectDropDownListContainer=T.BC(ee,k(".select-box-dropdown-list-container")),this.listRenderer=new P,this.selectList=this._register(new d.B8("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:(V)=>{let Y=V.text;return V.detail&&(Y+=`. ${V.detail}`),V.decoratorRight&&(Y+=`. ${V.decoratorRight}`),V.description&&(Y+=`. ${V.description}`),Y},getWidgetAriaLabel:()=>x.kg({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>b.zx?"":"option",getWidgetRole:()=>"listbox"}})),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const ne=this._register(new v.f(this.selectDropDownListContainer,"keydown")),H=p.Jh.chain(ne.event,(V)=>V.filter(()=>this.selectList.length>0).map((Y)=>new E.Z(Y)));this._register(p.Jh.chain(H,(V)=>V.filter((Y)=>Y.keyCode===3))(this.onEnter,this)),this._register(p.Jh.chain(H,(V)=>V.filter((Y)=>Y.keyCode===2))(this.onEnter,this)),this._register(p.Jh.chain(H,(V)=>V.filter((Y)=>Y.keyCode===9))(this.onEscape,this)),this._register(p.Jh.chain(H,(V)=>V.filter((Y)=>Y.keyCode===16))(this.onUpArrow,this)),this._register(p.Jh.chain(H,(V)=>V.filter((Y)=>Y.keyCode===18))(this.onDownArrow,this)),this._register(p.Jh.chain(H,(V)=>V.filter((Y)=>Y.keyCode===12))(this.onPageDown,this)),this._register(p.Jh.chain(H,(V)=>V.filter((Y)=>Y.keyCode===11))(this.onPageUp,this)),this._register(p.Jh.chain(H,(V)=>V.filter((Y)=>Y.keyCode===14))(this.onHome,this)),this._register(p.Jh.chain(H,(V)=>V.filter((Y)=>Y.keyCode===13))(this.onEnd,this)),this._register(p.Jh.chain(H,(V)=>V.filter((Y)=>Y.keyCode>=21&&Y.keyCode<=56||Y.keyCode>=85&&Y.keyCode<=113))(this.onCharacter,this)),this._register(T.ko(this.selectList.getHTMLElement(),T.Bx.POINTER_UP,(V)=>this.onPointerUp(V))),this._register(this.selectList.onMouseOver((V)=>V.index!==void 0&&this.selectList.setFocus([V.index]))),this._register(this.selectList.onDidChangeFocus((V)=>this.onListFocus(V))),this._register(T.ko(this.selectDropDownContainer,T.Bx.FOCUS_OUT,(V)=>{this._isVisible&&!T.QX(V.relatedTarget,this.selectDropDownContainer)&&this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(ee){if(!this.selectList.length)return;T.fs.stop(ee);const ne=ee.target;if(!ne)return;if(ne.classList.contains("slider"))return;const H=ne.closest(".monaco-list-row");if(!H)return;const V=Number(H.getAttribute("data-index")),Y=H.classList.contains("option-disabled");V>=0&&V<this.options.length&&!Y&&(this.selected=V,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(ee,ne){const H=(Y)=>{for(let ve=0;ve<Y.childNodes.length;ve++){const Te=Y.childNodes.item(ve);(Te.tagName&&Te.tagName.toLowerCase())==="img"?Te.remove():H(Te)}},V=w.Gc({value:ee,supportThemeIcons:!0},{actionHandler:ne});return V.element.classList.add("select-box-description-markdown"),H(V.element),V.element}onListFocus(ee){this._isVisible&&this._hasDetails&&this.updateDetail(ee.indexes[0])}updateDetail(ee){this.selectionDetailsPane.innerText="";const ne=this.options[ee],H=ne?.description??"";if(H){if(ne?.descriptionIsMarkdown){const V=ne.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(H,V))}else this.selectionDetailsPane.innerText=H;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(ee){T.fs.stop(ee),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(ee){T.fs.stop(ee),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(ee){if(this.selected<this.options.length-1){T.fs.stop(ee,!0);const ne=this.options[this.selected+1].isDisabled;if(ne&&this.options.length>this.selected+2)this.selected+=2;else{if(ne)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(ee){this.selected>0&&(T.fs.stop(ee,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(ee){T.fs.stop(ee),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(ee){T.fs.stop(ee),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(ee){T.fs.stop(ee),this.options.length<2||(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(ee){T.fs.stop(ee),this.options.length<2||(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(ee){const ne=_.YM.toString(ee.keyCode);let H=-1;for(let V=0;V<this.options.length-1;V++)if(H=(V+this.selected+1)%this.options.length,this.options[H].text.charAt(0).toUpperCase()===ne&&!this.options[H].isDisabled){this.select(H),this.selectList.setFocus([H]),this.selectList.reveal(this.selectList.getFocus()[0]),T.fs.stop(ee);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}class te extends m.jG{constructor(ee,ne,H,V){super(),this.selected=0,this.selectBoxOptions=V||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new p.vl),this.styles=H,this.registerListeners(),this.setOptions(ee,ne)}registerListeners(){this._register(J.q.addTarget(this.selectElement)),[J.B.Tap].forEach((ee)=>{this._register(T.ko(this.selectElement,ee,(ne)=>{this.selectElement.focus()}))}),this._register(T.b2(this.selectElement,"click",(ee)=>{T.fs.stop(ee,!0)})),this._register(T.b2(this.selectElement,"change",(ee)=>{this.selectElement.title=ee.target.value,this._onDidSelect.fire({index:ee.target.selectedIndex,selected:ee.target.value})})),this._register(T.b2(this.selectElement,"keydown",(ee)=>{let ne=!1;b.zx?ee.keyCode!==18&&ee.keyCode!==16&&ee.keyCode!==10||(ne=!0):(ee.keyCode===18&&ee.altKey||ee.keyCode===10||ee.keyCode===3)&&(ne=!0),ne&&ee.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(ee,ne){this.options&&f.aI(this.options,ee)||(this.options=ee,this.selectElement.options.length=0,this.options.forEach((H,V)=>{this.selectElement.add(this.createOption(H.text,V,H.isDisabled))})),ne!==void 0&&this.select(ne)}select(ee){this.options.length===0?this.selected=0:ee>=0&&ee<this.options.length?this.selected=ee:ee>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(ee){this.selectElement.tabIndex=ee?0:-1}render(ee){ee.classList.add("select-container"),ee.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){this.selectElement&&(this.selectElement.style.backgroundColor=this.styles.selectBackground??"",this.selectElement.style.color=this.styles.selectForeground??"",this.selectElement.style.borderColor=this.styles.selectBorder??"")}createOption(ee,ne,H){const V=document.createElement("option");return V.value=ee,V.text=ee,V.disabled=!!H,V}}var L=h(5222);class W extends L.x{constructor(ee,ne,H,V,Y){super(),b.zx&&!Y?.useCustomDrawn?this.selectBoxDelegate=new te(ee,ne,V,Y):this.selectBoxDelegate=new z(ee,ne,H,V,Y),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(ee,ne){this.selectBoxDelegate.setOptions(ee,ne)}select(ee){this.selectBoxDelegate.select(ee)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(ee){this.selectBoxDelegate.setFocusable(ee)}render(ee){this.selectBoxDelegate.render(ee)}}var B=h(7969),U=h(9359);class $ extends m.jG{get action(){return this._action}constructor(ee,ne,H={}){super(),this.options=H,this._context=ee||this,this._action=ne,ne instanceof B.rc&&this._register(ne.onDidChange((V)=>{this.element&&this.handleActionChangeEvent(V)}))}handleActionChangeEvent(ee){ee.enabled!==void 0&&this.updateEnabled(),ee.checked!==void 0&&this.updateChecked(),ee.class!==void 0&&this.updateClass(),ee.label!==void 0&&(this.updateLabel(),this.updateTooltip()),ee.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new B.LN)),this._actionRunner}set actionRunner(ee){this._actionRunner=ee}isEnabled(){return this._action.enabled}setActionContext(ee){this._context=ee}render(ee){const ne=this.element=ee;this._register(J.q.addTarget(ee));const H=this.options&&this.options.draggable;H&&(ee.draggable=!0,s.gm&&this._register(T.ko(ee,T.Bx.DRAG_START,(V)=>V.dataTransfer?.setData(I.t.TEXT,this._action.label)))),this._register(T.ko(ne,J.B.Tap,(V)=>this.onClick(V,!0))),this._register(T.ko(ne,T.Bx.MOUSE_DOWN,(V)=>{H||T.fs.stop(V,!0),this._action.enabled&&V.button===0&&ne.classList.add("active")})),b.zx&&this._register(T.ko(ne,T.Bx.CONTEXT_MENU,(V)=>{V.button===0&&V.ctrlKey===!0&&this.onClick(V)})),this._register(T.ko(ne,T.Bx.CLICK,(V)=>{T.fs.stop(V,!0),this.options&&this.options.isMenu||this.onClick(V)})),this._register(T.ko(ne,T.Bx.DBLCLICK,(V)=>{T.fs.stop(V,!0)})),[T.Bx.MOUSE_UP,T.Bx.MOUSE_OUT].forEach((V)=>{this._register(T.ko(ne,V,(Y)=>{T.fs.stop(Y),ne.classList.remove("active")}))})}onClick(ee,ne=!1){T.fs.stop(ee,!0);const H=U.z(this._context)?this.options?.useEventAsContext?ee:{preserveFocus:ne}:this._context;this.actionRunner.run(this._action,H)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(ee){this.element&&(this.element.tabIndex=ee?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){if(!this.element)return;const ee=this.getTooltip()??"";if(this.updateAriaLabel(),this.options.hoverDelegate?.showNativeHover)this.element.title=ee;else if(this.customHover||ee==="")this.customHover&&this.customHover.update(ee);else{const ne=this.options.hoverDelegate??M.nZ("element");this.customHover=this._store.add(C.i().setupManagedHover(ne,this.element,ee))}}updateAriaLabel(){if(this.element){const ee=this.getTooltip()??"";this.element.setAttribute("aria-label",ee)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class G extends ${constructor(ee,ne,H){super(ee,ne,H),this.options=H,this.options.icon=H.icon!==void 0&&H.icon,this.options.label=H.label===void 0||H.label,this.cssClass=""}render(ee){super.render(ee),U.j(this.element);const ne=document.createElement("a");if(ne.classList.add("action-label"),ne.setAttribute("role",this.getDefaultAriaRole()),this.label=ne,this.element.appendChild(ne),this.options.label&&this.options.keybinding){const H=document.createElement("span");H.classList.add("keybinding"),H.textContent=this.options.keybinding,this.element.appendChild(H)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===B.wv.ID?"presentation":this.options.isMenu?"menuitem":this.options.isTabList?"tab":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(ee){this.label&&(this.label.tabIndex=ee?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let ee=null;return this.action.tooltip?ee=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(ee=this.action.label,this.options.keybinding&&(ee=x.kg({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",ee,this.options.keybinding))),ee??void 0}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label?.classList.remove("codicon")}updateEnabled(){this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element?.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element?.classList.add("disabled"))}updateAriaLabel(){if(this.label){const ee=this.getTooltip()??"";this.label.setAttribute("aria-label",ee)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.options.isTabList?this.label.setAttribute("aria-selected",this.action.checked?"true":"false"):(this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox"))):(this.label.classList.remove("checked"),this.label.removeAttribute(this.options.isTabList?"aria-selected":"aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class ie extends ${constructor(ee,ne,H,V,Y,ve,Te){super(ee,ne),this.selectBox=new W(H,V,Y,ve,Te),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(ee){this.selectBox.select(ee)}registerListeners(){this._register(this.selectBox.onDidSelect((ee)=>this.runAction(ee.selected,ee.index)))}runAction(ee,ne){this.actionRunner.run(this._action,this.getActionContext(ee,ne))}getActionContext(ee,ne){return ee}setFocusable(ee){this.selectBox.setFocusable(ee)}focus(){this.selectBox?.focus()}blur(){this.selectBox?.blur()}render(ee){this.selectBox.render(ee)}}},7439:(dt,pe,h)=>{h.d(pe,{E:()=>C});var s=h(4333),I=h(7594),T=h(7598),J=h(5568),M=h(7969),v=h(2106),E=h(998),w=h(9359);class C extends E.jG{constructor(d,f={}){let p,_;switch(super(),this._actionRunnerDisposables=this._register(new E.Cm),this.viewItemDisposables=this._register(new E.$w),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new v.vl),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new v.vl({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new v.vl),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new v.vl),this.onWillRun=this._onWillRun.event,this.options=f,this._context=f.context??null,this._orientation=this.options.orientation??0,this._triggerKeys={keyDown:this.options.triggerKeys?.keyDown??!1,keys:this.options.triggerKeys?.keys??[3,10]},this._hoverDelegate=f.hoverDelegate??this._register(J.bW()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new M.LN,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun((m)=>this._onDidRun.fire(m))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun((m)=>this._onWillRun.fire(m))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",this._orientation){case 0:p=[15],_=[17];break;case 1:p=[16],_=[18],this.domNode.className+=" vertical"}this._register(s.ko(this.domNode,s.Bx.KEY_DOWN,(m)=>{const b=new I.Z(m);let x=!0;const k=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;p&&(b.equals(p[0])||b.equals(p[1]))?x=this.focusPrevious():_&&(b.equals(_[0])||b.equals(_[1]))?x=this.focusNext():b.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():b.equals(14)?x=this.focusFirst():b.equals(13)?x=this.focusLast():b.equals(2)&&k instanceof T.EH&&k.trapsArrowNavigation?x=this.focusNext(void 0,!0):this.isTriggerKeyEvent(b)?this._triggerKeys.keyDown?this.doTrigger(b):this.triggerKeyDown=!0:x=!1,x&&(b.preventDefault(),b.stopPropagation())})),this._register(s.ko(this.domNode,s.Bx.KEY_UP,(m)=>{const b=new I.Z(m);this.isTriggerKeyEvent(b)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(b)),b.preventDefault(),b.stopPropagation()):(b.equals(2)||b.equals(1026)||b.equals(16)||b.equals(18)||b.equals(15)||b.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(s.w5(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{s.bq()!==this.domNode&&s.QX(s.bq(),this.domNode)||(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),d.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(d){if(this.focusable=d,this.focusable){const f=this.viewItems.find((p)=>p instanceof T.EH&&p.isEnabled());f instanceof T.EH&&f.setFocusable(!0)}else this.viewItems.forEach((f)=>{f instanceof T.EH&&f.setFocusable(!1)})}isTriggerKeyEvent(d){let f=!1;return this._triggerKeys.keys.forEach((p)=>{f=f||d.equals(p)}),f}updateFocusedItem(){for(let d=0;d<this.actionsList.children.length;d++){const f=this.actionsList.children[d];if(s.QX(s.bq(),f)){this.focusedItem=d,this.viewItems[this.focusedItem]?.showHover?.();break}}}get context(){return this._context}set context(d){this._context=d,this.viewItems.forEach((f)=>f.setActionContext(d))}get actionRunner(){return this._actionRunner}set actionRunner(d){this._actionRunner=d,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun((f)=>this._onDidRun.fire(f))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun((f)=>this._onWillRun.fire(f))),this.viewItems.forEach((f)=>f.actionRunner=d)}getContainer(){return this.domNode}getAction(d){if(typeof d=="number")return this.viewItems[d]?.action;if(s.sb(d)){for(;d.parentElement!==this.actionsList;){if(!d.parentElement)return;d=d.parentElement}for(let f=0;f<this.actionsList.childNodes.length;f++)if(this.actionsList.childNodes[f]===d)return this.viewItems[f].action}}push(d,f={}){const p=Array.isArray(d)?d:[d];let _=w.Et(f.index)?f.index:null;p.forEach((m)=>{const b=document.createElement("li");let x;b.className="action-item",b.setAttribute("role","presentation");const k={hoverDelegate:this._hoverDelegate,...f,isTabList:this.options.ariaRole==="tablist"};this.options.actionViewItemProvider&&(x=this.options.actionViewItemProvider(m,k)),x||(x=new T.Z4(this.context,m,k)),this.options.allowContextMenu||this.viewItemDisposables.set(x,s.ko(b,s.Bx.CONTEXT_MENU,(R)=>{s.fs.stop(R,!0)})),x.actionRunner=this._actionRunner,x.setActionContext(this.context),x.render(b),this.focusable&&x instanceof T.EH&&this.viewItems.length===0&&x.setFocusable(!0),_===null||_<0||_>=this.actionsList.children.length?(this.actionsList.appendChild(b),this.viewItems.push(x)):(this.actionsList.insertBefore(b,this.actionsList.children[_]),this.viewItems.splice(_,0,x),_++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=E.AS(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),s.w_(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(d){let f,p=!1;if(d===void 0?p=!0:typeof d=="number"?f=d:typeof d=="boolean"&&(p=d),p&&this.focusedItem===void 0){const _=this.viewItems.findIndex((m)=>m.isEnabled());this.focusedItem=_===-1?void 0:_,this.updateFocus(void 0,void 0,!0)}else f!==void 0&&(this.focusedItem=f),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(d,f){if(this.focusedItem===void 0)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const p=this.focusedItem;let _;do{if(!d&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=p,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,_=this.viewItems[this.focusedItem]}while(this.focusedItem!==p&&(this.options.focusOnlyEnabledItems&&!_.isEnabled()||_.action.id===M.wv.ID));return this.updateFocus(void 0,void 0,f),!0}focusPrevious(d){if(this.focusedItem===void 0)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const f=this.focusedItem;let p;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!d&&this.options.preventLoopNavigation)return this.focusedItem=f,!1;this.focusedItem=this.viewItems.length-1}p=this.viewItems[this.focusedItem]}while(this.focusedItem!==f&&(this.options.focusOnlyEnabledItems&&!p.isEnabled()||p.action.id===M.wv.ID));return this.updateFocus(!0),!0}updateFocus(d,f,p=!1){this.focusedItem===void 0&&this.actionsList.focus({preventScroll:f}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&this.viewItems[this.previouslyFocusedItem]?.blur();const _=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(_){let m=!0;w.Tn(_.focus)||(m=!1),this.options.focusOnlyEnabledItems&&w.Tn(_.isEnabled)&&!_.isEnabled()&&(m=!1),_.action.id===M.wv.ID&&(m=!1),m?(p||this.previouslyFocusedItem!==this.focusedItem)&&(_.focus(d),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:f}),this.previouslyFocusedItem=void 0),m&&_.showHover?.()}}doTrigger(d){if(this.focusedItem===void 0)return;const f=this.viewItems[this.focusedItem];if(f instanceof T.EH){const p=f._context===null||f._context===void 0?d:f._context;this.run(f._action,p)}}async run(d,f){await this._actionRunner.run(d,f)}dispose(){this._context=void 0,this.viewItems=E.AS(this.viewItems),this.getContainer().remove(),super.dispose()}}},9407:(dt,pe,h)=>{h.d(pe,{h5:()=>d,vr:()=>w,xE:()=>C});var s=h(4333);const I=20000;let T,J,M,v,E;function w(p){T=document.createElement("div"),T.className="monaco-aria-container";const _=()=>{const b=document.createElement("div");return b.className="monaco-alert",b.setAttribute("role","alert"),b.setAttribute("aria-atomic","true"),T.appendChild(b),b};J=_(),M=_();const m=()=>{const b=document.createElement("div");return b.className="monaco-status",b.setAttribute("aria-live","polite"),b.setAttribute("aria-atomic","true"),T.appendChild(b),b};v=m(),E=m(),p.appendChild(T)}function C(p){T&&(J.textContent!==p?(s.w_(M),f(J,p)):(s.w_(J),f(M,p)))}function d(p){T&&(v.textContent!==p?(s.w_(E),f(v,p)):(s.w_(v),f(E,p)))}function f(p,_){s.w_(p),_.length>I&&(_=_.substr(0,I)),p.textContent=_,p.style.visibility="hidden",p.style.visibility="visible"}},1373:(dt,pe,h)=>{h.d(pe,{$:()=>m});var s=h(4333),I=h(2542),T=h(7594),J=h(6930),M=h(474),v=h(5568),E=h(1818),w=h(4901),C=h(2106),d=h(28),f=h(998),p=h(8881),_=h(396);w.Q1.white.toString(),w.Q1.white.toString();class m extends f.jG{get onDidClick(){return this._onDidClick.event}constructor(b,x){super(),this._label="",this._onDidClick=this._register(new C.vl),this._onDidEscape=this._register(new C.vl),this.options=x,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!x.secondary);const k=x.secondary?x.buttonSecondaryBackground:x.buttonBackground,R=x.secondary?x.buttonSecondaryForeground:x.buttonForeground;this._element.style.color=R||"",this._element.style.backgroundColor=k||"",x.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof x.title=="string"&&this.setTitle(x.title),typeof x.ariaLabel=="string"&&this._element.setAttribute("aria-label",x.ariaLabel),b.appendChild(this._element),this._register(M.q.addTarget(this._element)),[s.Bx.CLICK,M.B.Tap].forEach((P)=>{this._register(s.ko(this._element,P,(z)=>{this.enabled?this._onDidClick.fire(z):s.fs.stop(z)}))}),this._register(s.ko(this._element,s.Bx.KEY_DOWN,(P)=>{const z=new T.Z(P);let te=!1;this.enabled&&(z.equals(3)||z.equals(10))?(this._onDidClick.fire(P),te=!0):z.equals(9)&&(this._onDidEscape.fire(P),this._element.blur(),te=!0),te&&s.fs.stop(z,!0)})),this._register(s.ko(this._element,s.Bx.MOUSE_OVER,(P)=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register(s.ko(this._element,s.Bx.MOUSE_OUT,(P)=>{this.updateBackground(!1)})),this.focusTracker=this._register(s.w5(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(b){const x=[];for(let k of E.n(b))if(typeof k=="string"){if(k=k.trim(),k==="")continue;const R=document.createElement("span");R.textContent=k,x.push(R)}else x.push(k);return x}updateBackground(b){let x;x=this.options.secondary?b?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:b?this.options.buttonHoverBackground:this.options.buttonBackground,x&&(this._element.style.backgroundColor=x)}get element(){return this._element}set label(b){if(this._label===b)return;if(d.VS(this._label)&&d.VS(b)&&d.nK(this._label,b))return;this._element.classList.add("monaco-text-button");const x=this.options.supportShortLabel?this._labelElement:this._element;if(d.VS(b)){const R=J.Gc(b,{inline:!0});R.dispose();const P=R.element.querySelector("p")?.innerHTML;if(P){const z=I.aj(P,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});x.innerHTML=z}else s.Ln(x)}else this.options.supportIcons?s.Ln(x,...this.getContentElements(b)):x.textContent=b;let k="";typeof this.options.title=="string"?k=this.options.title:this.options.title&&(k=J.R9(b)),this.setTitle(k),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",k),this._label=b}get label(){return this._label}set icon(b){this._element.classList.add(...p.L.asClassNameArray(b))}set enabled(b){b?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(b){this._hover||b===""?this._hover&&this._hover.update(b):this._hover=this._register(_.i().setupManagedHover(this.options.hoverDelegate??v.nZ("mouse"),this._element,b))}}},9233:(dt,pe,h)=>{h.d(pe,{x:()=>T});var s=h(4333),I=h(6844);class T{constructor(J,M,v){this.options=M,this.styles=v,this.count=0,this.element=s.BC(J,s.$(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(J){this.count=J,this.render()}setTitleFormat(J){this.titleFormat=J,this.render()}render(){this.element.textContent=I.GP(this.countFormat,this.count),this.element.title=I.GP(this.titleFormat,this.count),this.element.style.backgroundColor=this.styles.badgeBackground??"",this.element.style.color=this.styles.badgeForeground??"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}},1277:(dt,pe,h)=>{h.d(pe,{d:()=>f});var s=h(4333),I=h(7598),T=h(7594),J=h(474),M=h(7969),v=h(2106);class E extends M.LN{constructor(p,_){super(),this._onDidChangeVisibility=this._register(new v.vl),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=s.BC(p,s.$(".monaco-dropdown")),this._label=s.BC(this._element,s.$(".dropdown-label"));let m=_.labelRenderer;m||(m=(x)=>(x.textContent=_.label||"",null));for(let x of[s.Bx.CLICK,s.Bx.MOUSE_DOWN,J.B.Tap])this._register(s.ko(this.element,x,(k)=>s.fs.stop(k,!0)));for(let x of[s.Bx.MOUSE_DOWN,J.B.Tap])this._register(s.ko(this._label,x,(k)=>{s.Er(k)&&(k.detail>1||k.button!==0)||(this.visible?this.hide():this.show())}));this._register(s.ko(this._label,s.Bx.KEY_UP,(x)=>{const k=new T.Z(x);(k.equals(3)||k.equals(10))&&(s.fs.stop(x,!0),this.visible?this.hide():this.show())}));const b=m(this._label);b&&this._register(b),this._register(J.q.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class w extends E{constructor(p,_){super(p,_),this._options=_,this._actions=[],this.actions=_.actions||[]}set menuOptions(p){this._menuOptions=p}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(p){this._actions=p}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(p,_)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(p,_):void 0,getKeyBinding:(p)=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(p):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}var C=h(5568),d=h(396);class f extends I.EH{constructor(p,_,m,b=Object.create(null)){super(null,p,b),this.actionItem=null,this._onDidChangeVisibility=this._register(new v.vl),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=_,this.contextMenuProvider=m,this.options=b,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(p){this.actionItem=p;const _=Array.isArray(this.menuActionsOrProvider),m={contextMenuProvider:this.contextMenuProvider,labelRenderer:(b)=>{this.element=s.BC(b,s.$("a.action-label"));let x=[];return typeof this.options.classNames=="string"?x=this.options.classNames.split(/\s+/g).filter((k)=>!!k):this.options.classNames&&(x=this.options.classNames),x.find((k)=>k==="icon")||x.push("codicon"),this.element.classList.add(...x),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register(d.i().setupManagedHover(this.options.hoverDelegate??C.nZ("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:_?this.menuActionsOrProvider:void 0,actionProvider:_?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new w(p,m)),this._register(this.dropdownMenu.onDidChangeVisibility((b)=>{this.element?.setAttribute("aria-expanded",`${b}`),this._onDidChangeVisibility.fire(b)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const b=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return b.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let p=null;return this.action.tooltip?p=this.action.tooltip:this.action.label&&(p=this.action.label),p??void 0}setActionContext(p){super.setActionContext(p),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=p:this.dropdownMenu.menuOptions={context:p})}show(){this.dropdownMenu?.show()}updateEnabled(){const p=!this.action.enabled;this.actionItem?.classList.toggle("disabled",p),this.element?.classList.toggle("disabled",p)}}},6595:(dt,pe,h)=>{h.d(pe,{c:()=>d});var s=h(4333),I=h(5906),T=h(9004),J=h(5222),M=h(2106),v=h(9746),E=h(998),w=h(5568);const C=v.kg("defaultLabel","input");class d extends J.x{constructor(f,p,_){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new E.HE),this.additionalToggles=[],this._onDidOptionChange=this._register(new M.vl),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new M.vl),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new M.vl),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new M.vl),this._onKeyUp=this._register(new M.vl),this._onCaseSensitiveKeyDown=this._register(new M.vl),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new M.vl),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=_.placeholder||"",this.validation=_.validation,this.label=_.label||C,this.showCommonFindToggles=!!_.showCommonFindToggles;const m=_.appendCaseSensitiveLabel||"",b=_.appendWholeWordsLabel||"",x=_.appendRegexLabel||"",k=_.history||[],R=!!_.flexibleHeight,P=!!_.flexibleWidth,z=_.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new T.mJ(this.domNode,p,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:k,showHistoryHint:_.showHistoryHint,flexibleHeight:R,flexibleWidth:P,flexibleMaxHeight:z,inputBoxStyles:_.inputBoxStyles}));const te=this._register(w.bW());if(this.showCommonFindToggles){this.regex=this._register(new I.Ix({appendTitle:x,isChecked:!1,hoverDelegate:te,..._.toggleStyles})),this._register(this.regex.onChange((W)=>{this._onDidOptionChange.fire(W),!W&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown((W)=>{this._onRegexKeyDown.fire(W)})),this.wholeWords=this._register(new I.nV({appendTitle:b,isChecked:!1,hoverDelegate:te,..._.toggleStyles})),this._register(this.wholeWords.onChange((W)=>{this._onDidOptionChange.fire(W),!W&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new I.bc({appendTitle:m,isChecked:!1,hoverDelegate:te,..._.toggleStyles})),this._register(this.caseSensitive.onChange((W)=>{this._onDidOptionChange.fire(W),!W&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown((W)=>{this._onCaseSensitiveKeyDown.fire(W)}));const L=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(W)=>{if(W.equals(15)||W.equals(17)||W.equals(9)){const B=L.indexOf(this.domNode.ownerDocument.activeElement);if(B>=0){let U=-1;W.equals(17)?U=(B+1)%L.length:W.equals(15)&&(U=B===0?L.length-1:B-1),W.equals(9)?(L[B].blur(),this.inputBox.focus()):U>=0&&L[U].focus(),s.fs.stop(W,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(_?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),f?.appendChild(this.domNode),this._register(s.ko(this.inputBox.inputElement,"compositionstart",(L)=>{this.imeSessionInProgress=!0})),this._register(s.ko(this.inputBox.inputElement,"compositionend",(L)=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,(L)=>this._onKeyDown.fire(L)),this.onkeyup(this.inputBox.inputElement,(L)=>this._onKeyUp.fire(L)),this.oninput(this.inputBox.inputElement,(L)=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,(L)=>this._onMouseDown.fire(L))}get onDidChange(){return this.inputBox.onDidChange}layout(f){this.inputBox.layout(),this.updateInputBoxPadding(f.collapsedFindWidget)}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex?.enable(),this.wholeWords?.enable(),this.caseSensitive?.enable();for(let f of this.additionalToggles)f.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex?.disable(),this.wholeWords?.disable(),this.caseSensitive?.disable();for(let f of this.additionalToggles)f.disable()}setFocusInputOnOptionClick(f){this.fixFocusOnOptionClickEnabled=f}setEnabled(f){f?this.enable():this.disable()}setAdditionalToggles(f){for(let p of this.additionalToggles)p.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new E.Cm;for(let p of f??[])this.additionalTogglesDisposables.value.add(p),this.controls.appendChild(p.domNode),this.additionalTogglesDisposables.value.add(p.onChange((_)=>{this._onDidOptionChange.fire(_),!_&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(p);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(f=!1){this.inputBox.paddingRight=f?0:(this.caseSensitive?.width()??0)+(this.wholeWords?.width()??0)+(this.regex?.width()??0)+this.additionalToggles.reduce((p,_)=>p+_.width(),0)}getValue(){return this.inputBox.value}setValue(f){this.inputBox.value!==f&&(this.inputBox.value=f)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive?.checked??!1}setCaseSensitive(f){this.caseSensitive&&(this.caseSensitive.checked=f)}getWholeWords(){return this.wholeWords?.checked??!1}setWholeWords(f){this.wholeWords&&(this.wholeWords.checked=f)}getRegex(){return this.regex?.checked??!1}setRegex(f){this.regex&&(this.regex.checked=f,this.validate())}focusOnCaseSensitive(){this.caseSensitive?.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(f){this.inputBox.showMessage(f)}clearMessage(){this.inputBox.hideMessage()}}},5906:(dt,pe,h)=>{h.d(pe,{Ix:()=>d,bc:()=>w,nV:()=>C});var s=h(5568),I=h(585),T=h(5915),J=h(9746);const M=J.kg("caseDescription","Match Case"),v=J.kg("wordsDescription","Match Whole Word"),E=J.kg("regexDescription","Use Regular Expression");class w extends I.l{constructor(f){super({icon:T.W.caseSensitive,title:M+f.appendTitle,isChecked:f.isChecked,hoverDelegate:f.hoverDelegate??s.nZ("element"),inputActiveOptionBorder:f.inputActiveOptionBorder,inputActiveOptionForeground:f.inputActiveOptionForeground,inputActiveOptionBackground:f.inputActiveOptionBackground})}}class C extends I.l{constructor(f){super({icon:T.W.wholeWord,title:v+f.appendTitle,isChecked:f.isChecked,hoverDelegate:f.hoverDelegate??s.nZ("element"),inputActiveOptionBorder:f.inputActiveOptionBorder,inputActiveOptionForeground:f.inputActiveOptionForeground,inputActiveOptionBackground:f.inputActiveOptionBackground})}}class d extends I.l{constructor(f){super({icon:T.W.regex,title:E+f.appendTitle,isChecked:f.isChecked,hoverDelegate:f.hoverDelegate??s.nZ("element"),inputActiveOptionBorder:f.inputActiveOptionBorder,inputActiveOptionForeground:f.inputActiveOptionForeground,inputActiveOptionBackground:f.inputActiveOptionBackground})}}},8431:(dt,pe,h)=>{h.d(pe,{_:()=>E});var s=h(4333),I=h(396),T=h(5568),J=h(1818),M=h(998),v=h(1386);class E extends M.jG{constructor(w,C){super(),this.options=C,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=C?.supportIcons??!1,this.domNode=s.BC(w,s.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(w,C=[],d="",f){w||(w=""),f&&(w=E.escapeNewLines(w,C)),this.didEverRender&&this.text===w&&this.title===d&&v.aI(this.highlights,C)||(this.text=w,this.title=d,this.highlights=C,this.render())}render(){const w=[];let C=0;for(let d of this.highlights){if(d.end===d.start)continue;if(C<d.start){const _=this.text.substring(C,d.start);this.supportIcons?w.push(...J.n(_)):w.push(_),C=d.start}const f=this.text.substring(C,d.end),p=s.$("span.highlight",void 0,...this.supportIcons?J.n(f):[f]);d.extraClasses&&p.classList.add(...d.extraClasses),w.push(p),C=d.end}if(C<this.text.length){const d=this.text.substring(C);this.supportIcons?w.push(...J.n(d)):w.push(d)}if(s.Ln(this.domNode,...w),this.options?.hoverDelegate?.showNativeHover)this.domNode.title=this.title;else if(this.customHover||this.title==="")this.customHover&&this.customHover.update(this.title);else{const d=this.options?.hoverDelegate??T.nZ("mouse");this.customHover=this._register(I.i().setupManagedHover(d,this.domNode,this.title))}this.didEverRender=!0}static escapeNewLines(w,C){let d=0,f=0;return w.replace(/\r\n|\r|\n/g,(p,_)=>{f=p==="\r\n"?-1:0,_+=d;for(let m of C)m.end<=_||(m.start>=_&&(m.start+=f),m.end>=_&&(m.end+=f));return d+=f,"\u23CE"})}}},396:(dt,pe,h)=>{h.d(pe,{e:()=>I,i:()=>T});let s={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupManagedHover:()=>null,showManagedHover:()=>{}};function I(J){s=J}function T(){return s}},5568:(dt,pe,h)=>{h.d(pe,{MW:()=>M,bW:()=>E,nZ:()=>v});var s=h(3946);let I=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});const T=new s.d(()=>I("mouse",!1)),J=new s.d(()=>I("element",!1));function M(w){I=w}function v(w){return w==="element"?J.value:T.value}function E(){return I("element",!0)}},9179:(dt,pe,h)=>{h.d(pe,{M4:()=>f,N4:()=>E,jQ:()=>w,vV:()=>d,vr:()=>C});var s=h(4333),I=h(7594),T=h(8354),J=h(998),M=h(9746);const v=s.$;class E extends J.jG{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new T.MU(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class w extends J.jG{static render(p,_,m){return new w(p,_,m)}constructor(p,_,m){super(),this.actionLabel=_.label,this.actionKeybindingLabel=m,this.actionContainer=s.BC(p,v("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=s.BC(this.actionContainer,v("a.action")),this.action.setAttribute("role","button"),_.iconClass&&s.BC(this.action,v(`span.icon.${_.iconClass}`)),s.BC(this.action,v("span")).textContent=m?`${_.label} (${m})`:_.label,this._store.add(new d(this.actionContainer,_.run)),this._store.add(new f(this.actionContainer,_.run,[3,10])),this.setEnabled(!0)}setEnabled(p){p?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function C(p,_){return p&&_?M.kg("acessibleViewHint","Inspect this in the accessible view with {0}.",_):p?M.kg("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}class d extends J.jG{constructor(p,_){super(),this._register(s.ko(p,s.Bx.CLICK,(m)=>{m.stopPropagation(),m.preventDefault(),_(p)}))}}class f extends J.jG{constructor(p,_,m){super(),this._register(s.ko(p,s.Bx.KEY_DOWN,(b)=>{const x=new I.Z(b);m.some((k)=>x.equals(k))&&(b.stopPropagation(),b.preventDefault(),_(p))}))}}},4431:(dt,pe,h)=>{h.d(pe,{s:()=>f});var s=h(4333),I=h(8431),T=h(998),J=h(1386),M=h(2199),v=h(5568),E=h(396),w=h(9359),C=h(4594);class d{constructor(m){this._element=m}get element(){return this._element}set textContent(m){this.disposed||m===this._textContent||(this._textContent=m,this._element.textContent=m)}set classNames(m){this.disposed||J.aI(m,this._classNames)||(this._classNames=m,this._element.classList.value="",this._element.classList.add(...m))}set empty(m){this.disposed||m===this._empty||(this._empty=m,this._element.style.marginLeft=m?"0":"")}dispose(){this.disposed=!0}}class f extends T.jG{constructor(m,b){super(),this.customHovers=new Map,this.creationOptions=b,this.domNode=this._register(new d(s.BC(m,s.$(".monaco-icon-label")))),this.labelContainer=s.BC(this.domNode.element,s.$(".monaco-icon-label-container")),this.nameContainer=s.BC(this.labelContainer,s.$("span.monaco-icon-name-container")),this.nameNode=b?.supportHighlights||b?.supportIcons?this._register(new _(this.nameContainer,!!b.supportIcons)):new p(this.nameContainer),this.hoverDelegate=b?.hoverDelegate??v.nZ("mouse")}get element(){return this.domNode.element}setLabel(m,b,x){const k=["monaco-icon-label"],R=["monaco-icon-label-container"];let P="";x&&(x.extraClasses&&k.push(...x.extraClasses),x.italic&&k.push("italic"),x.strikethrough&&k.push("strikethrough"),x.disabledCommand&&R.push("disabled"),x.title&&(typeof x.title=="string"?P+=x.title:P+=m));const z=this.domNode.element.querySelector(".monaco-icon-label-iconpath");if(x?.iconPath){let te;z&&s.sb(z)?te=z:(te=s.$(".monaco-icon-label-iconpath"),this.domNode.element.prepend(te)),te.style.backgroundImage=s.Tf(x?.iconPath)}else z&&z.remove();if(this.domNode.classNames=k,this.domNode.element.setAttribute("aria-label",P),this.labelContainer.classList.value="",this.labelContainer.classList.add(...R),this.setupHover(x?.descriptionTitle?this.labelContainer:this.element,x?.title),this.nameNode.setLabel(m,x),b||this.descriptionNode){const te=this.getOrCreateDescriptionNode();te instanceof I._?(te.set(b||"",x?x.descriptionMatches:void 0,void 0,x?.labelEscapeNewLines),this.setupHover(te.element,x?.descriptionTitle)):(te.textContent=b&&x?.labelEscapeNewLines?I._.escapeNewLines(b,[]):b||"",this.setupHover(te.element,x?.descriptionTitle||""),te.empty=!b)}(x?.suffix||this.suffixNode)&&(this.getOrCreateSuffixNode().textContent=x?.suffix??"")}setupHover(m,b){const x=this.customHovers.get(m);if(x&&(x.dispose(),this.customHovers.delete(m)),b)if(this.hoverDelegate.showNativeHover)(function(R,P){w.Kg(P)?R.title=C.pS(P):P?.markdownNotSupportedFallback?R.title=P.markdownNotSupportedFallback:R.removeAttribute("title")})(m,b);else{const k=E.i().setupManagedHover(this.hoverDelegate,m,b);k&&this.customHovers.set(m,k)}else m.removeAttribute("title")}dispose(){super.dispose();for(let m of this.customHovers.values())m.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const m=this._register(new d(s.Pl(this.nameContainer,s.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new d(s.BC(m.element,s.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){if(!this.descriptionNode){const m=this._register(new d(s.BC(this.labelContainer,s.$("span.monaco-icon-description-container"))));this.creationOptions?.supportDescriptionHighlights?this.descriptionNode=this._register(new I._(s.BC(m.element,s.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new d(s.BC(m.element,s.$("span.label-description"))))}return this.descriptionNode}}class p{constructor(m){this.container=m,this.label=void 0,this.singleLabel=void 0}setLabel(m,b){if(this.label!==m||!J.aI(this.options,b))if(this.label=m,this.options=b,typeof m=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=s.BC(this.container,s.$("a.label-name",{id:b?.domId}))),this.singleLabel.textContent=m;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let x=0;x<m.length;x++){const k=m[x],R=b?.domId&&`${b?.domId}_${x}`;s.BC(this.container,s.$("a.label-name",{id:R,"data-icon-label-count":m.length,"data-icon-label-index":x,role:"treeitem"},k)),x<m.length-1&&s.BC(this.container,s.$("span.label-separator",void 0,b?.separator||"/"))}}}}class _ extends T.jG{constructor(m,b){super(),this.container=m,this.supportIcons=b,this.label=void 0,this.singleLabel=void 0}setLabel(m,b){if(this.label!==m||!J.aI(this.options,b))if(this.label=m,this.options=b,typeof m=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new I._(s.BC(this.container,s.$("a.label-name",{id:b?.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(m,b?.matches,void 0,b?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const x=b?.separator||"/",k=function(R,P,z){if(!z)return;let te=0;return R.map((L)=>{const W={start:te,end:te+L.length},B=z.map((U)=>M.Q.intersect(W,U)).filter((U)=>!M.Q.isEmpty(U)).map(({start:U,end:$})=>({start:U-te,end:$-te}));return te=W.end+P.length,B})}(m,x,b?.matches);for(let R=0;R<m.length;R++){const P=m[R],z=k?k[R]:void 0,te=b?.domId&&`${b?.domId}_${R}`,L=s.$("a.label-name",{id:te,"data-icon-label-count":m.length,"data-icon-label-index":R,role:"treeitem"});this._register(new I._(s.BC(this.container,L),{supportIcons:this.supportIcons})).set(P,z,void 0,b?.labelEscapeNewLines),R<m.length-1&&s.BC(L,s.$("span.label-separator",void 0,x))}}}}},1818:(dt,pe,h)=>{h.d(pe,{n:()=>J,s:()=>M});var s=h(4333),I=h(8881);const T=new RegExp(`(\\\\)?\\\$\\((${I.L.iconNameExpression}(?:${I.L.iconModifierExpression})?)\\)`,"g");function J(v){const E=new Array;let w,C=0,d=0;for(;(w=T.exec(v))!==null;){d=w.index||0,C<d&&E.push(v.substring(C,d)),C=(w.index||0)+w[0].length;const[,f,p]=w;E.push(f?`\$(${p})`:M({id:p}))}return C<v.length&&E.push(v.substring(C)),E}function M(v){const E=s.$("span");return E.classList.add(...I.L.asClassNameArray(v)),E}},9004:(dt,pe,h)=>{h.d(pe,{mJ:()=>R,x8:()=>x});var s=h(4333),I=h(4061),T=h(8213),J=h(7439),M=h(9407),v=h(396),E=h(5568),w=h(8354),C=h(5222),d=h(2106);class f{constructor(P,z=0,te=P.length,L=z-1){this.items=P,this.start=z,this.end=te,this.index=L}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class p{constructor(P=[],z=10){this._initialize(P),this._limit=z,this._onChange()}getHistory(){return this._elements}add(P){this._history.delete(P),this._history.add(P),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(P){return this._history.has(P)}_onChange(){this._reduceToLimit();const P=this._elements;this._navigator=new f(P,0,P.length,P.length)}_reduceToLimit(){const P=this._elements;P.length>this._limit&&this._initialize(P.slice(P.length-this._limit))}_currentPosition(){const P=this._navigator.current();return P?this._elements.indexOf(P):-1}_initialize(P){this._history=new Set;for(let z of P)this._history.add(z)}get _elements(){const P=[];return this._history.forEach((z)=>P.push(z)),P}}var _=h(1386),m=h(9746);const b=s.$,x={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class k extends C.x{constructor(P,z,te){super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new d.vl),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new d.vl),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=z,this.options=te,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=this.options.tooltip??(this.placeholder||""),this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=s.BC(P,b(".monaco-inputbox.idle"));const L=this.options.flexibleHeight?"textarea":"input",W=s.BC(this.element,b(".ibwrapper"));if(this.input=s.BC(W,b(L+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=s.BC(W,b("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new w.Se(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),s.BC(P,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(($)=>this.input.scrollTop=$.scrollTop));const B=this._register(new I.f(P.ownerDocument,"selectionchange")),U=d.Jh.filter(B.event,()=>{return P.ownerDocument.getSelection()?.anchorNode===W});this._register(U(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new J.E(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(P){this.placeholder=P,this.input.setAttribute("placeholder",P)}setTooltip(P){this.tooltip=P,this.hover?this.hover.update(P):this.hover=this._register(v.i().setupManagedHover(E.nZ("mouse"),this.input,P))}get inputElement(){return this.input}get value(){return this.input.value}set value(P){this.input.value!==P&&(this.input.value=P,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:s.OK(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return s.X7(this.input)}select(P=null){this.input.select(),P&&(this.input.setSelectionRange(P.start,P.end),P.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){const P=this.input.selectionStart;return P===null?null:{start:P,end:this.input.selectionEnd??P}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(P){this.input.style.width=`calc(100% - ${P}px)`,this.mirror&&(this.mirror.style.paddingRight=P+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const P=this.cachedContentHeight,z=this.cachedHeight,te=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:P,height:z}),this.scrollableElement.setScrollPosition({scrollTop:te})}showMessage(P,z){if(this.state==="open"&&_.aI(this.message,P))return;this.message=P,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(P.type));const te=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${s.gI(te.border,"transparent")}`,this.message.content&&(this.hasFocus()||z)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let P=null;return this.validation&&(P=this.validation(this.value),P?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(P)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),P?.type}stylesForType(P){const z=this.options.inputBoxStyles;switch(P){case 1:return{border:z.inputValidationInfoBorder,background:z.inputValidationInfoBackground,foreground:z.inputValidationInfoForeground};case 2:return{border:z.inputValidationWarningBorder,background:z.inputValidationWarningBackground,foreground:z.inputValidationWarningForeground};default:return{border:z.inputValidationErrorBorder,background:z.inputValidationErrorBackground,foreground:z.inputValidationErrorForeground}}}classForType(P){switch(P){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let P;const z=()=>P.style.width=s.Tr(this.element)+"px";let te;this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:(L)=>{if(!this.message)return null;P=s.BC(L,b(".monaco-inputbox-container")),z();const W={inline:!0,className:"monaco-inputbox-message"},B=this.message.formatContent?T.yk(this.message.content,W):T.S5(this.message.content,W);B.classList.add(this.classForType(this.message.type));const U=this.stylesForType(this.message.type);return B.style.backgroundColor=U.background??"",B.style.color=U.foreground??"",B.style.border=U.border?`1px solid ${U.border}`:"",s.BC(P,B),null},onHide:()=>{this.state="closed"},layout:z}),te=this.message.type===3?m.kg("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?m.kg("alertWarningMessage","Warning: {0}",this.message.content):m.kg("alertInfoMessage","Info: {0}",this.message.content),M.xE(te),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const P=this.value,z=P.charCodeAt(P.length-1)===10?" ":"";(P+z).replace(/\u000c/g,"")?this.mirror.textContent=P+z:this.mirror.innerText="\xA0",this.layout()}applyStyles(){const P=this.options.inputBoxStyles,z=P.inputBackground??"",te=P.inputForeground??"",L=P.inputBorder??"";this.element.style.backgroundColor=z,this.element.style.color=te,this.input.style.backgroundColor="inherit",this.input.style.color=te,this.element.style.border=`1px solid ${s.gI(L,"transparent")}`}layout(){if(!this.mirror)return;const P=this.cachedContentHeight;this.cachedContentHeight=s.OK(this.mirror),P!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(P){const z=this.inputElement,te=z.selectionStart,L=z.selectionEnd,W=z.value;te!==null&&L!==null&&(this.value=W.substr(0,te)+P+W.substr(L),z.setSelectionRange(te+1,te+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar?.dispose(),super.dispose()}}class R extends k{constructor(P,z,te){const L=m.kg({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," or {0} for history","\u21C5"),W=m.kg({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," ({0} for history)","\u21C5");super(P,z,te),this._onDidFocus=this._register(new d.vl),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new d.vl),this.onDidBlur=this._onDidBlur.event,this.history=new p(te.history,100);const B=()=>{if(te.showHistoryHint&&te.showHistoryHint()&&!this.placeholder.endsWith(L)&&!this.placeholder.endsWith(W)&&this.history.getHistory().length){const U=this.placeholder.endsWith(")")?L:W,$=this.placeholder+U;te.showPlaceholderOnFocus&&!s.X7(this.input)?this.placeholder=$:this.setPlaceHolder($)}};this.observer=new MutationObserver((U,$)=>{U.forEach((G)=>{G.target.textContent||B()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>B()),this.onblur(this.input,()=>{const U=($)=>{if(this.placeholder.endsWith($)){const G=this.placeholder.slice(0,this.placeholder.length-$.length);return te.showPlaceholderOnFocus?this.placeholder=G:this.setPlaceHolder(G),!0}return!1};U(W)||U(L)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(P){this.value&&(P||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let P=this.getNextValue();P&&(P=P===this.value?this.getNextValue():P),this.value=P??"",M.h5(this.value?this.value:m.kg("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let P=this.getPreviousValue();P&&(P=P===this.value?this.getPreviousValue():P),P&&(this.value=P,M.h5(this.value))}setPlaceHolder(P){super.setPlaceHolder(P),this.setTooltip(P)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let P=this.history.current();return P||(P=this.history.last(),this.history.next()),P}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}},5095:(dt,pe,h)=>{h.d(pe,{l:()=>C,x:()=>d});var s=h(4333),I=h(396),T=h(5568),J=h(8315),M=h(998),v=h(1386),E=h(9746);const w=s.$,C={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class d extends M.jG{constructor(f,p,_){super(),this.os=p,this.keyElements=new Set,this.options=_||Object.create(null);const m=this.options.keybindingLabelForeground;this.domNode=s.BC(f,w(".monaco-keybinding")),m&&(this.domNode.style.color=m),this.hover=this._register(I.i().setupManagedHover(T.nZ("mouse"),this.domNode,"")),this.didEverRender=!1,f.appendChild(this.domNode)}get element(){return this.domNode}set(f,p){this.didEverRender&&this.keybinding===f&&d.areSame(this.matches,p)||(this.keybinding=f,this.matches=p,this.render())}render(){if(this.clear(),this.keybinding){const f=this.keybinding.getChords();f[0]&&this.renderChord(this.domNode,f[0],this.matches?this.matches.firstPart:null);for(let _=1;_<f.length;_++)s.BC(this.domNode,w("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,f[_],this.matches?this.matches.chordPart:null);const p=this.options.disableTitle?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(p),this.domNode.setAttribute("aria-label",p||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){s.w_(this.domNode),this.keyElements.clear()}renderChord(f,p,_){const m=J.Of.modifierLabels[this.os];p.ctrlKey&&this.renderKey(f,m.ctrlKey,Boolean(_?.ctrlKey),m.separator),p.shiftKey&&this.renderKey(f,m.shiftKey,Boolean(_?.shiftKey),m.separator),p.altKey&&this.renderKey(f,m.altKey,Boolean(_?.altKey),m.separator),p.metaKey&&this.renderKey(f,m.metaKey,Boolean(_?.metaKey),m.separator);const b=p.keyLabel;b&&this.renderKey(f,b,Boolean(_?.keyCode),"")}renderKey(f,p,_,m){s.BC(f,this.createKeyElement(p,_?".highlight":"")),m&&s.BC(f,w("span.monaco-keybinding-key-separator",void 0,m))}renderUnbound(f){s.BC(f,this.createKeyElement(E.kg("unbound","Unbound")))}createKeyElement(f,p=""){const _=w("span.monaco-keybinding-key"+p,void 0,f);return this.keyElements.add(_),this.options.keybindingLabelBackground&&(_.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(_.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(_.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(_.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),_}static areSame(f,p){return f===p||!f&&!p||!!f&&!!p&&v.aI(f.firstPart,p.firstPart)&&v.aI(f.chordPart,p.chordPart)}}},3022:(dt,pe,h)=>{h.d(pe,{ur:()=>L,uO:()=>$});var s=h(9587),I=h(4333),T=h(4061),J=h(474),M=h(8354),v=h(3338),E=h(5958),w=h(8846),C=h(2106),d=h(998),f=h(2199),p=h(4513);function _(G,ie){const ee=[];for(let ne of ie){if(G.start>=ne.range.end)continue;if(G.end<ne.range.start)break;const H=f.Q.intersect(G,ne.range);f.Q.isEmpty(H)||ee.push({range:H,size:ne.size})}return ee}function m({start:G,end:ie},ee){return{start:G+ee,end:ie+ee}}class b{get paddingTop(){return this._paddingTop}set paddingTop(G){this._size=this._size+G-this._paddingTop,this._paddingTop=G}constructor(G){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=G??0,this._size=this._paddingTop}splice(G,ie,ee=[]){const ne=ee.length-ie,H=_({start:0,end:G},this.groups),V=_({start:G+ie,end:Number.POSITIVE_INFINITY},this.groups).map((ve)=>({range:m(ve.range,ne),size:ve.size})),Y=ee.map((ve,Te)=>({range:{start:G+Te,end:G+Te+1},size:ve.size}));this.groups=function(...ve){return function(Te){const xe=[];let Be=null;for(let Ie of Te){const he=Ie.range.start,Q=Ie.range.end,re=Ie.size;Be&&re===Be.size?Be.range.end=Q:(Be={range:{start:he,end:Q},size:re},xe.push(Be))}return xe}(ve.reduce((Te,xe)=>Te.concat(xe),[]))}(H,Y,V),this._size=this._paddingTop+this.groups.reduce((ve,Te)=>ve+Te.size*(Te.range.end-Te.range.start),0)}get count(){const G=this.groups.length;return G?this.groups[G-1].range.end:0}get size(){return this._size}indexAt(G){if(G<0)return-1;if(G<this._paddingTop)return 0;let ie=0,ee=this._paddingTop;for(let ne of this.groups){const H=ne.range.end-ne.range.start,V=ee+H*ne.size;if(G<V)return ie+Math.floor((G-ee)/ne.size);ie+=H,ee=V}return ie}indexAfter(G){return Math.min(this.indexAt(G)+1,this.count)}positionAt(G){if(G<0)return-1;let ie=0,ee=0;for(let ne of this.groups){const H=ne.range.end-ne.range.start,V=ee+H;if(G<V)return this._paddingTop+ie+(G-ee)*ne.size;ie+=H*ne.size,ee=V}return-1}}class x{constructor(G){this.renderers=G,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(G){let ie=this.getTemplateCache(G).pop(),ee=!1;if(ie)ee=this.transactionNodesPendingRemoval.has(ie.domNode),ee&&this.transactionNodesPendingRemoval.delete(ie.domNode);else{const ne=I.$(".monaco-list-row");ie={domNode:ne,templateId:G,templateData:this.getRenderer(G).renderTemplate(ne)}}return{row:ie,isReusingConnectedDomNode:ee}}release(G){G&&this.releaseRow(G)}transact(G){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{G()}finally{for(let ie of this.transactionNodesPendingRemoval)this.doRemoveNode(ie);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(G){const{domNode:ie,templateId:ee}=G;ie&&(this.inTransaction?this.transactionNodesPendingRemoval.add(ie):this.doRemoveNode(ie)),this.getTemplateCache(ee).push(G)}doRemoveNode(G){G.classList.remove("scrolling"),G.remove()}getTemplateCache(G){let ie=this.cache.get(G);return ie||(ie=[],this.cache.set(G,ie)),ie}dispose(){this.cache.forEach((G,ie)=>{for(let ee of G)this.getRenderer(ie).disposeTemplate(ee.templateData),ee.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(G){const ie=this.renderers.get(G);if(!ie)throw new Error(`No renderer found for ${G}`);return ie}}var k=h(4327),R=h(2992),P=function(G,ie,ee,ne){var H,V=arguments.length,Y=V<3?ie:ne===null?ne=Object.getOwnPropertyDescriptor(ie,ee):ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(G,ie,ee,ne);else for(var ve=G.length-1;ve>=0;ve--)(H=G[ve])&&(Y=(V<3?H(Y):V>3?H(ie,ee,Y):H(ie,ee))||Y);return V>3&&Y&&Object.defineProperty(ie,ee,Y),Y};const z={CurrentDragAndDropData:void 0},te={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:(G)=>[G],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class L{constructor(G){this.elements=G}update(){}getData(){return this.elements}}class W{constructor(G){this.elements=G}update(){}getData(){return this.elements}}class B{constructor(){this.types=[],this.files=[]}update(G){if(G.types&&this.types.splice(0,this.types.length,...G.types),G.files){this.files.splice(0,this.files.length);for(let ie=0;ie<G.files.length;ie++){const ee=G.files.item(ie);ee&&(ee.size||ee.type)&&this.files.push(ee)}}}getData(){return{types:this.types,files:this.files}}}class U{constructor(G){this.getSetSize=G?.getSetSize?G.getSetSize.bind(G):(ie,ee,ne)=>ne,this.getPosInSet=G?.getPosInSet?G.getPosInSet.bind(G):(ie,ee)=>ee+1,this.getRole=G?.getRole?G.getRole.bind(G):(ie)=>"listitem",this.isChecked=G?.isChecked?G.isChecked.bind(G):(ie)=>{}}}class ${static{this.InstanceCount=0}get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(G){if(G!==this._horizontalScrolling){if(G&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=G,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let ie of this.items)this.measureItemWidth(ie);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:I.y6(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(G,ie,ee,ne=te){if(this.virtualDelegate=ie,this.domId="list_id_"+ ++$.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new E.ve(50),this.splicing=!1,this.dragOverAnimationStopDisposable=d.jG.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=d.jG.None,this.onDragLeaveTimeout=d.jG.None,this.disposables=new d.Cm,this._onDidChangeContentHeight=new C.vl,this._onDidChangeContentWidth=new C.vl,this.onDidChangeContentHeight=C.Jh.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,ne.horizontalScrolling&&ne.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(ne.paddingTop??0);for(let H of ee)this.renderers.set(H.templateId,H);this.cache=this.disposables.add(new x(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof ne.mouseSupport!="boolean"||ne.mouseSupport),this._horizontalScrolling=ne.horizontalScrolling??te.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=ne.paddingBottom===void 0?0:ne.paddingBottom,this.accessibilityProvider=new U(ne.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(ne.transformOptimization??te.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(J.q.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new p.yE({forceIntegerValues:!0,smoothScrollDuration:ne.smoothScrolling?125:0,scheduleAtNextAnimationFrame:(H)=>I.PG(I.zk(this.domNode),H)})),this.scrollableElement=this.disposables.add(new M.oO(this.rowsContainer,{alwaysConsumeMouseWheel:ne.alwaysConsumeMouseWheel??te.alwaysConsumeMouseWheel,horizontal:1,vertical:ne.verticalScrollMode??te.verticalScrollMode,useShadows:ne.useShadows??te.useShadows,mouseWheelScrollSensitivity:ne.mouseWheelScrollSensitivity,fastScrollSensitivity:ne.fastScrollSensitivity,scrollByPage:ne.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),G.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(I.ko(this.rowsContainer,J.B.Change,(H)=>this.onTouchChange(H))),this.disposables.add(I.ko(this.scrollableElement.getDomNode(),"scroll",(H)=>H.target.scrollTop=0)),this.disposables.add(I.ko(this.domNode,"dragover",(H)=>this.onDragOver(this.toDragEvent(H)))),this.disposables.add(I.ko(this.domNode,"drop",(H)=>this.onDrop(this.toDragEvent(H)))),this.disposables.add(I.ko(this.domNode,"dragleave",(H)=>this.onDragLeave(this.toDragEvent(H)))),this.disposables.add(I.ko(this.domNode,"dragend",(H)=>this.onDragEnd(H))),this.setRowLineHeight=ne.setRowLineHeight??te.setRowLineHeight,this.setRowHeight=ne.setRowHeight??te.setRowHeight,this.supportDynamicHeights=ne.supportDynamicHeights??te.supportDynamicHeights,this.dnd=ne.dnd??this.disposables.add(te.dnd),this.layout(ne.initialSize?.height,ne.initialSize?.width)}updateOptions(G){let ie;if(G.paddingBottom!==void 0&&(this.paddingBottom=G.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),G.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(G.smoothScrolling?125:0),G.horizontalScrolling!==void 0&&(this.horizontalScrolling=G.horizontalScrolling),G.scrollByPage!==void 0&&(ie={...ie??{},scrollByPage:G.scrollByPage}),G.mouseWheelScrollSensitivity!==void 0&&(ie={...ie??{},mouseWheelScrollSensitivity:G.mouseWheelScrollSensitivity}),G.fastScrollSensitivity!==void 0&&(ie={...ie??{},fastScrollSensitivity:G.fastScrollSensitivity}),ie&&this.scrollableElement.updateOptions(ie),G.paddingTop!==void 0&&G.paddingTop!==this.rangeMap.paddingTop){const ee=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),ne=G.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=G.paddingTop,this.render(ee,Math.max(0,this.lastRenderTop+ne),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(G){return new b(G)}splice(G,ie,ee=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(G,ie,ee)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(G,ie,ee=[]){const ne=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),H={start:G,end:G+ie},V=f.Q.intersect(ne,H),Y=new Map;for(let Ve=V.end-1;Ve>=V.start;Ve--){const g=this.items[Ve];if(g.dragStartDisposable.dispose(),g.checkedDisposable.dispose(),g.row){let ge=Y.get(g.templateId);ge||(ge=[],Y.set(g.templateId,ge));const We=this.renderers.get(g.templateId);We&&We.disposeElement&&We.disposeElement(g.element,Ve,g.row.templateData,g.size),ge.unshift(g.row)}g.row=null,g.stale=!0}const ve={start:G+ie,end:this.items.length},Te=f.Q.intersect(ve,ne),xe=f.Q.relativeComplement(ve,ne),Be=ee.map((Ve)=>({id:String(this.itemId++),element:Ve,templateId:this.virtualDelegate.getTemplateId(Ve),size:this.virtualDelegate.getHeight(Ve),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Ve),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:d.jG.None,checkedDisposable:d.jG.None,stale:!1}));let Ie;G===0&&ie>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,Be),Ie=this.items,this.items=Be):(this.rangeMap.splice(G,ie,Be),Ie=this.items.splice(G,ie,...Be));const he=ee.length-ie,Q=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),re=m(Te,he),Je=f.Q.intersect(Q,re);for(let Ve=Je.start;Ve<Je.end;Ve++)this.updateItemInDOM(this.items[Ve],Ve);const Se=f.Q.relativeComplement(re,Q);for(let Ve of Se)for(let g=Ve.start;g<Ve.end;g++)this.removeItemFromDOM(g);const Pe=xe.map((Ve)=>m(Ve,he)),Le=[{start:G,end:G+ee.length},...Pe].map((Ve)=>f.Q.intersect(Q,Ve)).reverse();for(let Ve of Le)for(let g=Ve.end-1;g>=Ve.start;g--){const ge=this.items[g],We=Y.get(ge.templateId),de=We?.pop();this.insertItemInDOM(g,de)}for(let Ve of Y.values())for(let g of Ve)this.cache.release(g);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),Ie.map((Ve)=>Ve.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=I.PG(I.zk(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let G=0;for(let ie of this.items)ie.width!==void 0&&(G=Math.max(G,ie.width));this.scrollWidth=G,this.scrollableElement.setScrollDimensions({scrollWidth:G===0?0:G+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(let G of this.items)G.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(G){return this.items[G].element}indexOf(G){return this.items.findIndex((ie)=>ie.element===G)}domElement(G){const ie=this.items[G].row;return ie&&ie.domNode}elementHeight(G){return this.items[G].size}elementTop(G){return this.rangeMap.positionAt(G)}indexAt(G){return this.rangeMap.indexAt(G)}indexAfter(G){return this.rangeMap.indexAfter(G)}layout(G,ie){const ee={height:typeof G=="number"?G:I.H4(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,ee.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(ee),ie!==void 0&&(this.renderWidth=ie,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof ie=="number"?ie:I.y6(this.domNode)})}render(G,ie,ee,ne,H,V=!1){const Y=this.getRenderRange(ie,ee),ve=f.Q.relativeComplement(Y,G).reverse(),Te=f.Q.relativeComplement(G,Y);if(V){const xe=f.Q.intersect(G,Y);for(let Be=xe.start;Be<xe.end;Be++)this.updateItemInDOM(this.items[Be],Be)}this.cache.transact(()=>{for(let xe of Te)for(let Be=xe.start;Be<xe.end;Be++)this.removeItemFromDOM(Be);for(let xe of ve)for(let Be=xe.end-1;Be>=xe.start;Be--)this.insertItemInDOM(Be)}),ne!==void 0&&(this.rowsContainer.style.left=`-${ne}px`),this.rowsContainer.style.top=`-${ie}px`,this.horizontalScrolling&&H!==void 0&&(this.rowsContainer.style.width=`${Math.max(H,this.renderWidth)}px`),this.lastRenderTop=ie,this.lastRenderHeight=ee}insertItemInDOM(G,ie){const ee=this.items[G];if(!ee.row)if(ie)ee.row=ie,ee.stale=!0;else{const ve=this.cache.alloc(ee.templateId);ee.row=ve.row,ee.stale||=ve.isReusingConnectedDomNode}const ne=this.accessibilityProvider.getRole(ee.element)||"listitem";ee.row.domNode.setAttribute("role",ne);const H=this.accessibilityProvider.isChecked(ee.element);if(typeof H=="boolean")ee.row.domNode.setAttribute("aria-checked",String(!!H));else if(H){const ve=(Te)=>ee.row.domNode.setAttribute("aria-checked",String(!!Te));ve(H.value),ee.checkedDisposable=H.onDidChange(()=>ve(H.value))}if(ee.stale||!ee.row.domNode.parentElement){const ve=this.items.at(G+1)?.row?.domNode??null;ee.row.domNode.parentElement===this.rowsContainer&&ee.row.domNode.nextElementSibling===ve||this.rowsContainer.insertBefore(ee.row.domNode,ve),ee.stale=!1}this.updateItemInDOM(ee,G);const V=this.renderers.get(ee.templateId);if(!V)throw new Error(`No renderer found for template id ${ee.templateId}`);V?.renderElement(ee.element,G,ee.row.templateData,ee.size);const Y=this.dnd.getDragURI(ee.element);ee.dragStartDisposable.dispose(),ee.row.domNode.draggable=!!Y,Y&&(ee.dragStartDisposable=I.ko(ee.row.domNode,"dragstart",(ve)=>this.onDragStart(ee.element,Y,ve))),this.horizontalScrolling&&(this.measureItemWidth(ee),this.eventuallyUpdateScrollWidth())}measureItemWidth(G){if(!G.row||!G.row.domNode)return;G.row.domNode.style.width="fit-content",G.width=I.y6(G.row.domNode);const ie=I.zk(G.row.domNode).getComputedStyle(G.row.domNode);ie.paddingLeft&&(G.width+=parseFloat(ie.paddingLeft)),ie.paddingRight&&(G.width+=parseFloat(ie.paddingRight)),G.row.domNode.style.width=""}updateItemInDOM(G,ie){G.row.domNode.style.top=`${this.elementTop(ie)}px`,this.setRowHeight&&(G.row.domNode.style.height=`${G.size}px`),this.setRowLineHeight&&(G.row.domNode.style.lineHeight=`${G.size}px`),G.row.domNode.setAttribute("data-index",`${ie}`),G.row.domNode.setAttribute("data-last-element",ie===this.length-1?"true":"false"),G.row.domNode.setAttribute("data-parity",ie%2==0?"even":"odd"),G.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(G.element,ie,this.length))),G.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(G.element,ie))),G.row.domNode.setAttribute("id",this.getElementDomId(ie)),G.row.domNode.classList.toggle("drop-target",G.dropTarget)}removeItemFromDOM(G){const ie=this.items[G];if(ie.dragStartDisposable.dispose(),ie.checkedDisposable.dispose(),ie.row){const ee=this.renderers.get(ie.templateId);ee&&ee.disposeElement&&ee.disposeElement(ie.element,G,ie.row.templateData,ie.size),this.cache.release(ie.row),ie.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(G,ie){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:G,reuseAnimation:ie})}get scrollTop(){return this.getScrollTop()}set scrollTop(G){this.setScrollTop(G)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return C.Jh.map(this.disposables.add(new T.f(this.domNode,"click")).event,(G)=>this.toMouseEvent(G),this.disposables)}get onMouseDblClick(){return C.Jh.map(this.disposables.add(new T.f(this.domNode,"dblclick")).event,(G)=>this.toMouseEvent(G),this.disposables)}get onMouseMiddleClick(){return C.Jh.filter(C.Jh.map(this.disposables.add(new T.f(this.domNode,"auxclick")).event,(G)=>this.toMouseEvent(G),this.disposables),(G)=>G.browserEvent.button===1,this.disposables)}get onMouseDown(){return C.Jh.map(this.disposables.add(new T.f(this.domNode,"mousedown")).event,(G)=>this.toMouseEvent(G),this.disposables)}get onMouseOver(){return C.Jh.map(this.disposables.add(new T.f(this.domNode,"mouseover")).event,(G)=>this.toMouseEvent(G),this.disposables)}get onMouseOut(){return C.Jh.map(this.disposables.add(new T.f(this.domNode,"mouseout")).event,(G)=>this.toMouseEvent(G),this.disposables)}get onContextMenu(){return C.Jh.any(C.Jh.map(this.disposables.add(new T.f(this.domNode,"contextmenu")).event,(G)=>this.toMouseEvent(G),this.disposables),C.Jh.map(this.disposables.add(new T.f(this.domNode,J.B.Contextmenu)).event,(G)=>this.toGestureEvent(G),this.disposables))}get onTouchStart(){return C.Jh.map(this.disposables.add(new T.f(this.domNode,"touchstart")).event,(G)=>this.toTouchEvent(G),this.disposables)}get onTap(){return C.Jh.map(this.disposables.add(new T.f(this.rowsContainer,J.B.Tap)).event,(G)=>this.toGestureEvent(G),this.disposables)}toMouseEvent(G){const ie=this.getItemIndexFromEventTarget(G.target||null),ee=ie===void 0?void 0:this.items[ie];return{browserEvent:G,index:ie,element:ee&&ee.element}}toTouchEvent(G){const ie=this.getItemIndexFromEventTarget(G.target||null),ee=ie===void 0?void 0:this.items[ie];return{browserEvent:G,index:ie,element:ee&&ee.element}}toGestureEvent(G){const ie=this.getItemIndexFromEventTarget(G.initialTarget||null),ee=ie===void 0?void 0:this.items[ie];return{browserEvent:G,index:ie,element:ee&&ee.element}}toDragEvent(G){const ie=this.getItemIndexFromEventTarget(G.target||null),ee=ie===void 0?void 0:this.items[ie];return{browserEvent:G,index:ie,element:ee&&ee.element,sector:this.getTargetSector(G,ie)}}onScroll(G){try{const ie=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(ie,G.scrollTop,G.height,G.scrollLeft,G.scrollWidth),this.supportDynamicHeights&&this._rerender(G.scrollTop,G.height,G.inSmoothScrolling)}catch(ie){throw console.error("Got bad scroll event:",G),ie}}onTouchChange(G){G.preventDefault(),G.stopPropagation(),this.scrollTop-=G.translationY}onDragStart(G,ie,ee){if(!ee.dataTransfer)return;const ne=this.dnd.getDragElements(G);if(ee.dataTransfer.effectAllowed="copyMove",ee.dataTransfer.setData(s.t.TEXT,ie),ee.dataTransfer.setDragImage){let H;this.dnd.getDragLabel&&(H=this.dnd.getDragLabel(ne,ee)),H===void 0&&(H=String(ne.length));const V=I.$(".monaco-drag-image");V.textContent=H,((Y)=>{for(;Y&&!Y.classList.contains("monaco-workbench");)Y=Y.parentElement;return Y||this.domNode.ownerDocument})(this.domNode).appendChild(V),ee.dataTransfer.setDragImage(V,-10,-10),setTimeout(()=>V.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new L(ne),z.CurrentDragAndDropData=new W(ne),this.dnd.onDragStart?.(this.currentDragData,ee)}onDragOver(G){if(G.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),z.CurrentDragAndDropData&&z.CurrentDragAndDropData.getData()==="vscode-ui")return!1;if(this.setupDragAndDropScrollTopAnimation(G.browserEvent),!G.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(z.CurrentDragAndDropData)this.currentDragData=z.CurrentDragAndDropData;else{if(!G.browserEvent.dataTransfer.types)return!1;this.currentDragData=new B}const ie=this.dnd.onDragOver(this.currentDragData,G.element,G.index,G.sector,G.browserEvent);if(this.canDrop=typeof ie=="boolean"?ie:ie.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let ee;G.browserEvent.dataTransfer.dropEffect=typeof ie!="boolean"&&ie.effect?.type===0?"copy":"move",ee=typeof ie!="boolean"&&ie.feedback?ie.feedback:G.index===void 0?[-1]:[G.index],ee=v.dM(ee).filter((Y)=>Y>=-1&&Y<this.length).sort((Y,ve)=>Y-ve),ee=ee[0]===-1?[-1]:ee;let ne=typeof ie!="boolean"&&ie.effect&&ie.effect.position?ie.effect.position:"drop-target";if(H=this.currentDragFeedback,V=ee,(Array.isArray(H)&&Array.isArray(V)?v.aI(H,V):H===V)&&this.currentDragFeedbackPosition===ne)return!0;var H,V;if(this.currentDragFeedback=ee,this.currentDragFeedbackPosition=ne,this.currentDragFeedbackDisposable.dispose(),ee[0]===-1)this.domNode.classList.add(ne),this.rowsContainer.classList.add(ne),this.currentDragFeedbackDisposable=d.s(()=>{this.domNode.classList.remove(ne),this.rowsContainer.classList.remove(ne)});else{if(ee.length>1&&ne!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");ne==="drop-target-after"&&ee[0]<this.length-1&&(ee[0]+=1,ne="drop-target-before");for(let Y of ee){const ve=this.items[Y];ve.dropTarget=!0,ve.row?.domNode.classList.add(ne)}this.currentDragFeedbackDisposable=d.s(()=>{for(let Y of ee){const ve=this.items[Y];ve.dropTarget=!1,ve.row?.domNode.classList.remove(ne)}})}return!0}onDragLeave(G){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=E.EQ(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&this.dnd.onDragLeave?.(this.currentDragData,G.element,G.index,G.browserEvent)}onDrop(G){if(!this.canDrop)return;const ie=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,z.CurrentDragAndDropData=void 0,ie&&G.browserEvent.dataTransfer&&(G.browserEvent.preventDefault(),ie.update(G.browserEvent.dataTransfer),this.dnd.drop(ie,G.element,G.index,G.sector,G.browserEvent))}onDragEnd(G){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,z.CurrentDragAndDropData=void 0,this.dnd.onDragEnd?.(G)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=d.jG.None}setupDragAndDropScrollTopAnimation(G){if(!this.dragOverAnimationDisposable){const ie=I.cL(this.domNode).top;this.dragOverAnimationDisposable=I.i0(I.zk(this.domNode),this.animateDragAndDropScrollTop.bind(this,ie))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=E.EQ(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1000,this.disposables),this.dragOverMouseY=G.pageY}animateDragAndDropScrollTop(G){if(this.dragOverMouseY===void 0)return;const ie=this.dragOverMouseY-G,ee=this.renderHeight-35;ie<35?this.scrollTop+=Math.max(-14,Math.floor(0.3*(ie-35))):ie>ee&&(this.scrollTop+=Math.min(14,Math.floor(0.3*(ie-ee))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(G,ie){if(ie===void 0)return;const ee=G.offsetY/this.items[ie].size,ne=Math.floor(ee/0.25);return R.qE(ne,0,3)}getItemIndexFromEventTarget(G){const ie=this.scrollableElement.getDomNode();let ee=G;for(;(I.sb(ee)||I.xZ(ee))&&ee!==this.rowsContainer&&ie.contains(ee);){const ne=ee.getAttribute("data-index");if(ne){const H=Number(ne);if(!isNaN(H))return H}ee=ee.parentElement}}getRenderRange(G,ie){return{start:this.rangeMap.indexAt(G),end:this.rangeMap.indexAfter(G+ie-1)}}_rerender(G,ie,ee){const ne=this.getRenderRange(G,ie);let H,V;G===this.elementTop(ne.start)?(H=ne.start,V=0):ne.end-ne.start>1&&(H=ne.start+1,V=this.elementTop(H)-G);let Y=0;for(;;){const ve=this.getRenderRange(G,ie);let Te=!1;for(let xe=ve.start;xe<ve.end;xe++){const Be=this.probeDynamicHeight(xe);Be!==0&&this.rangeMap.splice(xe,1,[this.items[xe]]),Y+=Be,Te=Te||Be!==0}if(!Te){Y!==0&&this.eventuallyUpdateScrollDimensions();const xe=f.Q.relativeComplement(ne,ve);for(let Ie of xe)for(let he=Ie.start;he<Ie.end;he++)this.items[he].row&&this.removeItemFromDOM(he);const Be=f.Q.relativeComplement(ve,ne).reverse();for(let Ie of Be)for(let he=Ie.end-1;he>=Ie.start;he--)this.insertItemInDOM(he);for(let Ie=ve.start;Ie<ve.end;Ie++)this.items[Ie].row&&this.updateItemInDOM(this.items[Ie],Ie);if(typeof H=="number"){const Ie=this.scrollable.getFutureScrollPosition().scrollTop-G,he=this.elementTop(H)-V+Ie;this.setScrollTop(he,ee)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(G){const ie=this.items[G];if(this.virtualDelegate.getDynamicHeight){const V=this.virtualDelegate.getDynamicHeight(ie.element);if(V!==null){const Y=ie.size;return ie.size=V,ie.lastDynamicHeightWidth=this.renderWidth,V-Y}}if(!ie.hasDynamicHeight||ie.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(ie.element))return 0;const ee=ie.size;if(ie.row)return ie.row.domNode.style.height="",ie.size=ie.row.domNode.offsetHeight,ie.size!==0||I.QX(ie.row.domNode,I.zk(ie.row.domNode).document.body)||console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!",new Error().stack),ie.lastDynamicHeightWidth=this.renderWidth,ie.size-ee;const{row:ne}=this.cache.alloc(ie.templateId);ne.domNode.style.height="",this.rowsContainer.appendChild(ne.domNode);const H=this.renderers.get(ie.templateId);if(!H)throw new k.D7("Missing renderer for templateId: "+ie.templateId);return H.renderElement(ie.element,G,ne.templateData,void 0),ie.size=ne.domNode.offsetHeight,H.disposeElement?.(ie.element,G,ne.templateData,void 0),this.virtualDelegate.setDynamicHeight?.(ie.element,ie.size),ie.lastDynamicHeightWidth=this.renderWidth,ne.domNode.remove(),this.cache.release(ne),ie.size-ee}getElementDomId(G){return`${this.domId}_${G}`}dispose(){for(let G of this.items)if(G.dragStartDisposable.dispose(),G.checkedDisposable.dispose(),G.row){const ie=this.renderers.get(G.row.templateId);ie&&(ie.disposeElement?.(G.element,-1,G.row.templateData,void 0),ie.disposeTemplate(G.row.templateData))}this.items=[],this.domNode?.remove(),this.dragOverAnimationDisposable?.dispose(),this.disposables.dispose()}}P([w.B],$.prototype,"onMouseClick",null),P([w.B],$.prototype,"onMouseDblClick",null),P([w.B],$.prototype,"onMouseMiddleClick",null),P([w.B],$.prototype,"onMouseDown",null),P([w.B],$.prototype,"onMouseOver",null),P([w.B],$.prototype,"onMouseOut",null),P([w.B],$.prototype,"onContextMenu",null),P([w.B],$.prototype,"onTouchStart",null),P([w.B],$.prototype,"onTap",null)},5573:(dt,pe,h)=>{h.d(pe,{hb:()=>Pe,B8:()=>ae,MH:()=>Se,_C:()=>R,W0:()=>V,Bm:()=>Te,B6:()=>ie,b$:()=>H,bm:()=>ne,mh:()=>re,tX:()=>Q,Es:()=>ve,xu:()=>Y,bG:()=>Le});var s=h(4333),I=h(4061),T=h(7594),J=h(474),M=h(9407);class v{constructor(O){this.spliceables=O}splice(O,Ue,Ye){this.spliceables.forEach((Fe)=>Fe.splice(O,Ue,Ye))}}var E=h(3338),w=h(5958),C=h(4901),d=h(8846),f=h(2106),p=h(5637),_=h(998),m=h(2992),b=h(3339),x=h(9359);class k extends Error{constructor(O,Ue){super(`ListError [${O}] ${Ue}`)}}var R,P,z=h(3022),te=h(9715),L=h(6311),W=function(O,Ue,Ye,Fe){var oe,rt=arguments.length,lt=rt<3?Ue:Fe===null?Fe=Object.getOwnPropertyDescriptor(Ue,Ye):Fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(O,Ue,Ye,Fe);else for(var ye=O.length-1;ye>=0;ye--)(oe=O[ye])&&(lt=(rt<3?oe(lt):rt>3?oe(Ue,Ye,lt):oe(Ue,Ye))||lt);return rt>3&&lt&&Object.defineProperty(Ue,Ye,lt),lt};class B{constructor(O){this.trait=O,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(O){return O}renderElement(O,Ue,Ye){const Fe=this.renderedElements.findIndex((oe)=>oe.templateData===Ye);if(Fe>=0){const oe=this.renderedElements[Fe];this.trait.unrender(Ye),oe.index=Ue}else{const oe={index:Ue,templateData:Ye};this.renderedElements.push(oe)}this.trait.renderIndex(Ue,Ye)}splice(O,Ue,Ye){const Fe=[];for(let oe of this.renderedElements)oe.index<O?Fe.push(oe):oe.index>=O+Ue&&Fe.push({index:oe.index+Ye-Ue,templateData:oe.templateData});this.renderedElements=Fe}renderIndexes(O){for(let{index:Ue,templateData:Ye}of this.renderedElements)O.indexOf(Ue)>-1&&this.trait.renderIndex(Ue,Ye)}disposeTemplate(O){const Ue=this.renderedElements.findIndex((Ye)=>Ye.templateData===O);Ue<0||this.renderedElements.splice(Ue,1)}}class U{get name(){return this._trait}get renderer(){return new B(this)}constructor(O){this._trait=O,this.indexes=[],this.sortedIndexes=[],this._onChange=new f.vl,this.onChange=this._onChange.event}splice(O,Ue,Ye){const Fe=Ye.length-Ue,oe=O+Ue,rt=[];let lt=0;for(;lt<this.sortedIndexes.length&&this.sortedIndexes[lt]<O;)rt.push(this.sortedIndexes[lt++]);for(let ye=0;ye<Ye.length;ye++)Ye[ye]&&rt.push(ye+O);for(;lt<this.sortedIndexes.length&&this.sortedIndexes[lt]>=oe;)rt.push(this.sortedIndexes[lt++]+Fe);this.renderer.splice(O,Ue,Ye.length),this._set(rt,rt)}renderIndex(O,Ue){Ue.classList.toggle(this._trait,this.contains(O))}unrender(O){O.classList.remove(this._trait)}set(O,Ue){return this._set(O,[...O].sort(ge),Ue)}_set(O,Ue,Ye){const Fe=this.indexes,oe=this.sortedIndexes;this.indexes=O,this.sortedIndexes=Ue;const rt=g(oe,O);return this.renderer.renderIndexes(rt),this._onChange.fire({indexes:O,browserEvent:Ye}),Fe}get(){return this.indexes}contains(O){return E.El(this.sortedIndexes,O,ge)>=0}dispose(){_.AS(this._onChange)}}W([d.B],U.prototype,"renderer",null);class $ extends U{constructor(O){super("selected"),this.setAriaSelected=O}renderIndex(O,Ue){super.renderIndex(O,Ue),this.setAriaSelected&&(this.contains(O)?Ue.setAttribute("aria-selected","true"):Ue.setAttribute("aria-selected","false"))}}class G{constructor(O,Ue,Ye){this.trait=O,this.view=Ue,this.identityProvider=Ye}splice(O,Ue,Ye){if(!this.identityProvider)return this.trait.splice(O,Ue,new Array(Ye.length).fill(!1));const Fe=this.trait.get().map((lt)=>this.identityProvider.getId(this.view.element(lt)).toString());if(Fe.length===0)return this.trait.splice(O,Ue,new Array(Ye.length).fill(!1));const oe=new Set(Fe),rt=Ye.map((lt)=>oe.has(this.identityProvider.getId(lt).toString()));this.trait.splice(O,Ue,rt)}}function ie(O){return O.tagName==="INPUT"||O.tagName==="TEXTAREA"}function ee(O,Ue){return!!O.classList.contains(Ue)||!O.classList.contains("monaco-list")&&!!O.parentElement&&ee(O.parentElement,Ue)}function ne(O){return ee(O,"monaco-editor")}function H(O){return ee(O,"monaco-custom-toggle")}function V(O){return ee(O,"action-item")}function Y(O){return ee(O,"monaco-tree-sticky-row")}function ve(O){return O.classList.contains("monaco-tree-sticky-container")}function Te(O){return!!(O.tagName==="A"&&O.classList.contains("monaco-button")||O.tagName==="DIV"&&O.classList.contains("monaco-button-dropdown"))||!O.classList.contains("monaco-list")&&!!O.parentElement&&Te(O.parentElement)}class xe{get onKeyDown(){return f.Jh.chain(this.disposables.add(new I.f(this.view.domNode,"keydown")).event,(O)=>O.filter((Ue)=>!ie(Ue.target)).map((Ue)=>new T.Z(Ue)))}constructor(O,Ue,Ye){this.list=O,this.view=Ue,this.disposables=new _.Cm,this.multipleSelectionDisposables=new _.Cm,this.multipleSelectionSupport=Ye.multipleSelectionSupport,this.disposables.add(this.onKeyDown((Fe)=>{switch(Fe.keyCode){case 3:return this.onEnter(Fe);case 16:return this.onUpArrow(Fe);case 18:return this.onDownArrow(Fe);case 11:return this.onPageUpArrow(Fe);case 12:return this.onPageDownArrow(Fe);case 9:return this.onEscape(Fe);case 31:this.multipleSelectionSupport&&(b.zx?Fe.metaKey:Fe.ctrlKey)&&this.onCtrlA(Fe)}}))}updateOptions(O){O.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=O.multipleSelectionSupport)}onEnter(O){O.preventDefault(),O.stopPropagation(),this.list.setSelection(this.list.getFocus(),O.browserEvent)}onUpArrow(O){O.preventDefault(),O.stopPropagation(),this.list.focusPrevious(1,!1,O.browserEvent);const Ue=this.list.getFocus()[0];this.list.setAnchor(Ue),this.list.reveal(Ue),this.view.domNode.focus()}onDownArrow(O){O.preventDefault(),O.stopPropagation(),this.list.focusNext(1,!1,O.browserEvent);const Ue=this.list.getFocus()[0];this.list.setAnchor(Ue),this.list.reveal(Ue),this.view.domNode.focus()}onPageUpArrow(O){O.preventDefault(),O.stopPropagation(),this.list.focusPreviousPage(O.browserEvent);const Ue=this.list.getFocus()[0];this.list.setAnchor(Ue),this.list.reveal(Ue),this.view.domNode.focus()}onPageDownArrow(O){O.preventDefault(),O.stopPropagation(),this.list.focusNextPage(O.browserEvent);const Ue=this.list.getFocus()[0];this.list.setAnchor(Ue),this.list.reveal(Ue),this.view.domNode.focus()}onCtrlA(O){O.preventDefault(),O.stopPropagation(),this.list.setSelection(E.y1(this.list.length),O.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(O){this.list.getSelection().length&&(O.preventDefault(),O.stopPropagation(),this.list.setSelection([],O.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}W([d.B],xe.prototype,"onKeyDown",null),function(O){O[O.Automatic=0]="Automatic",O[O.Trigger=1]="Trigger"}(R||(R={})),function(O){O[O.Idle=0]="Idle",O[O.Typing=1]="Typing"}(P||(P={}));const Be=new class{mightProducePrintableCharacter(O){return!(O.ctrlKey||O.metaKey||O.altKey)&&(O.keyCode>=31&&O.keyCode<=56||O.keyCode>=21&&O.keyCode<=30||O.keyCode>=98&&O.keyCode<=107||O.keyCode>=85&&O.keyCode<=95)}};class Ie{constructor(O,Ue,Ye,Fe,oe){this.list=O,this.view=Ue,this.keyboardNavigationLabelProvider=Ye,this.keyboardNavigationEventFilter=Fe,this.delegate=oe,this.enabled=!1,this.state=P.Idle,this.mode=R.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new _.Cm,this.disposables=new _.Cm,this.updateOptions(O.options)}updateOptions(O){O.typeNavigationEnabled??1?this.enable():this.disable(),this.mode=O.typeNavigationMode??R.Automatic}enable(){if(this.enabled)return;let O=!1;const Ue=f.Jh.chain(this.enabledDisposables.add(new I.f(this.view.domNode,"keydown")).event,(Fe)=>Fe.filter((oe)=>!ie(oe.target)).filter(()=>this.mode===R.Automatic||this.triggered).map((oe)=>new T.Z(oe)).filter((oe)=>O||this.keyboardNavigationEventFilter(oe)).filter((oe)=>this.delegate.mightProducePrintableCharacter(oe)).forEach((oe)=>s.fs.stop(oe,!0)).map((oe)=>oe.browserEvent.key)),Ye=f.Jh.debounce(Ue,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);f.Jh.reduce(f.Jh.any(Ue,Ye),(Fe,oe)=>oe===null?null:(Fe||"")+oe,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Ye(this.onClear,this,this.enabledDisposables),Ue(()=>O=!0,void 0,this.enabledDisposables),Ye(()=>O=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){const O=this.list.getFocus();if(O.length>0&&O[0]===this.previouslyFocused){const Ue=this.list.options.accessibilityProvider?.getAriaLabel(this.list.element(O[0]));typeof Ue=="string"?M.xE(Ue):Ue&&M.xE(Ue.get())}this.previouslyFocused=-1}onInput(O){if(!O)return this.state=P.Idle,void(this.triggered=!1);const Ue=this.list.getFocus(),Ye=Ue.length>0?Ue[0]:0,Fe=this.state===P.Idle?1:0;this.state=P.Typing;for(let oe=0;oe<this.list.length;oe++){const rt=(Ye+oe+Fe)%this.list.length,lt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(rt)),ye=lt&&lt.toString();if(this.list.options.typeNavigationEnabled){if(ye!==void 0){if(p.WP(O,ye))return this.previouslyFocused=Ye,this.list.setFocus([rt]),void this.list.reveal(rt);const pt=p.O(O,ye);if(pt&&pt[0].end-pt[0].start>1&&pt.length===1)return this.previouslyFocused=Ye,this.list.setFocus([rt]),void this.list.reveal(rt)}}else if(ye===void 0||p.WP(O,ye))return this.previouslyFocused=Ye,this.list.setFocus([rt]),void this.list.reveal(rt)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class he{constructor(O,Ue){this.list=O,this.view=Ue,this.disposables=new _.Cm;const Ye=f.Jh.chain(this.disposables.add(new I.f(Ue.domNode,"keydown")).event,(Fe)=>Fe.filter((oe)=>!ie(oe.target)).map((oe)=>new T.Z(oe)));f.Jh.chain(Ye,(Fe)=>Fe.filter((oe)=>!(oe.keyCode!==2||oe.ctrlKey||oe.metaKey||oe.shiftKey||oe.altKey)))(this.onTab,this,this.disposables)}onTab(O){if(O.target!==this.view.domNode)return;const Ue=this.list.getFocus();if(Ue.length===0)return;const Ye=this.view.domElement(Ue[0]);if(!Ye)return;const Fe=Ye.querySelector("[tabIndex]");if(!Fe||!s.sb(Fe)||Fe.tabIndex===-1)return;const oe=s.zk(Fe).getComputedStyle(Fe);oe.visibility!=="hidden"&&oe.display!=="none"&&(O.preventDefault(),O.stopPropagation(),Fe.focus())}dispose(){this.disposables.dispose()}}function Q(O){return b.zx?O.browserEvent.metaKey:O.browserEvent.ctrlKey}function re(O){return O.browserEvent.shiftKey}const Je={isSelectionSingleChangeEvent:Q,isSelectionRangeChangeEvent:re};class Se{constructor(O){this.list=O,this.disposables=new _.Cm,this._onPointer=new f.vl,this.onPointer=this._onPointer.event,O.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Je),this.mouseSupport=O.options.mouseSupport===void 0||!!O.options.mouseSupport,this.mouseSupport&&(O.onMouseDown(this.onMouseDown,this,this.disposables),O.onContextMenu(this.onContextMenu,this,this.disposables),O.onMouseDblClick(this.onDoubleClick,this,this.disposables),O.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(J.q.addTarget(O.getHTMLElement()))),f.Jh.any(O.onMouseClick,O.onMouseMiddleClick,O.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(O){O.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,O.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Je))}isSelectionSingleChangeEvent(O){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(O)}isSelectionRangeChangeEvent(O){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(O)}isSelectionChangeEvent(O){return this.isSelectionSingleChangeEvent(O)||this.isSelectionRangeChangeEvent(O)}onMouseDown(O){ne(O.browserEvent.target)||s.bq()!==O.browserEvent.target&&this.list.domFocus()}onContextMenu(O){if(ie(O.browserEvent.target)||ne(O.browserEvent.target))return;const Ue=O.index===void 0?[]:[O.index];this.list.setFocus(Ue,O.browserEvent)}onViewPointer(O){if(!this.mouseSupport)return;if(ie(O.browserEvent.target)||ne(O.browserEvent.target))return;if(O.browserEvent.isHandledByList)return;O.browserEvent.isHandledByList=!0;const Ue=O.index;return Ue===void 0?(this.list.setFocus([],O.browserEvent),this.list.setSelection([],O.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionChangeEvent(O)?this.changeSelection(O):(this.list.setFocus([Ue],O.browserEvent),this.list.setAnchor(Ue),Ye=O.browserEvent,s.Er(Ye)&&Ye.button===2||this.list.setSelection([Ue],O.browserEvent),void this._onPointer.fire(O));var Ye}onDoubleClick(O){if(ie(O.browserEvent.target)||ne(O.browserEvent.target))return;if(this.isSelectionChangeEvent(O))return;if(O.browserEvent.isHandledByList)return;O.browserEvent.isHandledByList=!0;const Ue=this.list.getFocus();this.list.setSelection(Ue,O.browserEvent)}changeSelection(O){const Ue=O.index;let Ye=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(O)){Ye===void 0&&(Ye=this.list.getFocus()[0]??Ue,this.list.setAnchor(Ye));const Fe=Math.min(Ye,Ue),oe=Math.max(Ye,Ue),rt=E.y1(Fe,oe+1),lt=this.list.getSelection(),ye=function(Mt,Zt){const jt=Mt.indexOf(Zt);if(jt===-1)return[];const xn=[];let nn=jt-1;for(;nn>=0&&Mt[nn]===Zt-(jt-nn);)xn.push(Mt[nn--]);for(xn.reverse(),nn=jt;nn<Mt.length&&Mt[nn]===Zt+(nn-jt);)xn.push(Mt[nn++]);return xn}(g(lt,[Ye]),Ye);if(ye.length===0)return;const pt=g(rt,function(Mt,Zt){const jt=[];let xn=0,nn=0;for(;xn<Mt.length||nn<Zt.length;)if(xn>=Mt.length)jt.push(Zt[nn++]);else if(nn>=Zt.length)jt.push(Mt[xn++]);else{if(Mt[xn]===Zt[nn]){xn++,nn++;continue}Mt[xn]<Zt[nn]?jt.push(Mt[xn++]):nn++}return jt}(lt,ye));this.list.setSelection(pt,O.browserEvent),this.list.setFocus([Ue],O.browserEvent)}else if(this.isSelectionSingleChangeEvent(O)){const Fe=this.list.getSelection(),oe=Fe.filter((rt)=>rt!==Ue);this.list.setFocus([Ue]),this.list.setAnchor(Ue),Fe.length===oe.length?this.list.setSelection([...oe,Ue],O.browserEvent):this.list.setSelection(oe,O.browserEvent)}}dispose(){this.disposables.dispose()}}class Pe{constructor(O,Ue){this.styleElement=O,this.selectorSuffix=Ue}style(O){const Ue=this.selectorSuffix&&`.${this.selectorSuffix}`,Ye=[];O.listBackground&&Ye.push(`.monaco-list${Ue} .monaco-list-rows { background: ${O.listBackground}; }`),O.listFocusBackground&&(Ye.push(`.monaco-list${Ue}:focus .monaco-list-row.focused { background-color: ${O.listFocusBackground}; }`),Ye.push(`.monaco-list${Ue}:focus .monaco-list-row.focused:hover { background-color: ${O.listFocusBackground}; }`)),O.listFocusForeground&&Ye.push(`.monaco-list${Ue}:focus .monaco-list-row.focused { color: ${O.listFocusForeground}; }`),O.listActiveSelectionBackground&&(Ye.push(`.monaco-list${Ue}:focus .monaco-list-row.selected { background-color: ${O.listActiveSelectionBackground}; }`),Ye.push(`.monaco-list${Ue}:focus .monaco-list-row.selected:hover { background-color: ${O.listActiveSelectionBackground}; }`)),O.listActiveSelectionForeground&&Ye.push(`.monaco-list${Ue}:focus .monaco-list-row.selected { color: ${O.listActiveSelectionForeground}; }`),O.listActiveSelectionIconForeground&&Ye.push(`.monaco-list${Ue}:focus .monaco-list-row.selected .codicon { color: ${O.listActiveSelectionIconForeground}; }`),O.listFocusAndSelectionBackground&&Ye.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ue}:focus .monaco-list-row.selected.focused { background-color: ${O.listFocusAndSelectionBackground}; }\n\t\t\t`),O.listFocusAndSelectionForeground&&Ye.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ue}:focus .monaco-list-row.selected.focused { color: ${O.listFocusAndSelectionForeground}; }\n\t\t\t`),O.listInactiveFocusForeground&&(Ye.push(`.monaco-list${Ue} .monaco-list-row.focused { color:  ${O.listInactiveFocusForeground}; }`),Ye.push(`.monaco-list${Ue} .monaco-list-row.focused:hover { color:  ${O.listInactiveFocusForeground}; }`)),O.listInactiveSelectionIconForeground&&Ye.push(`.monaco-list${Ue} .monaco-list-row.focused .codicon { color:  ${O.listInactiveSelectionIconForeground}; }`),O.listInactiveFocusBackground&&(Ye.push(`.monaco-list${Ue} .monaco-list-row.focused { background-color:  ${O.listInactiveFocusBackground}; }`),Ye.push(`.monaco-list${Ue} .monaco-list-row.focused:hover { background-color:  ${O.listInactiveFocusBackground}; }`)),O.listInactiveSelectionBackground&&(Ye.push(`.monaco-list${Ue} .monaco-list-row.selected { background-color:  ${O.listInactiveSelectionBackground}; }`),Ye.push(`.monaco-list${Ue} .monaco-list-row.selected:hover { background-color:  ${O.listInactiveSelectionBackground}; }`)),O.listInactiveSelectionForeground&&Ye.push(`.monaco-list${Ue} .monaco-list-row.selected { color: ${O.listInactiveSelectionForeground}; }`),O.listHoverBackground&&Ye.push(`.monaco-list${Ue}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${O.listHoverBackground}; }`),O.listHoverForeground&&Ye.push(`.monaco-list${Ue}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${O.listHoverForeground}; }`);const Fe=s.gI(O.listFocusAndSelectionOutline,s.gI(O.listSelectionOutline,O.listFocusOutline??""));Fe&&Ye.push(`.monaco-list${Ue}:focus .monaco-list-row.focused.selected { outline: 1px solid ${Fe}; outline-offset: -1px;}`),O.listFocusOutline&&Ye.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ue}:focus .monaco-list-row.focused { outline: 1px solid ${O.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${Ue}.last-focused .monaco-list-row.focused { outline: 1px solid ${O.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`);const oe=s.gI(O.listSelectionOutline,O.listInactiveFocusOutline??"");oe&&Ye.push(`.monaco-list${Ue} .monaco-list-row.focused.selected { outline: 1px dotted ${oe}; outline-offset: -1px; }`),O.listSelectionOutline&&Ye.push(`.monaco-list${Ue} .monaco-list-row.selected { outline: 1px dotted ${O.listSelectionOutline}; outline-offset: -1px; }`),O.listInactiveFocusOutline&&Ye.push(`.monaco-list${Ue} .monaco-list-row.focused { outline: 1px dotted ${O.listInactiveFocusOutline}; outline-offset: -1px; }`),O.listHoverOutline&&Ye.push(`.monaco-list${Ue} .monaco-list-row:hover { outline: 1px dashed ${O.listHoverOutline}; outline-offset: -1px; }`),O.listDropOverBackground&&Ye.push(`\n\t\t\t\t.monaco-list${Ue}.drop-target,\n\t\t\t\t.monaco-list${Ue} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${Ue} .monaco-list-row.drop-target { background-color: ${O.listDropOverBackground} !important; color: inherit !important; }\n\t\t\t`),O.listDropBetweenBackground&&(Ye.push(`\n\t\t\t.monaco-list${Ue} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,\n\t\t\t.monaco-list${Ue} .monaco-list-row.drop-target-before::before {\n\t\t\t\tcontent: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;\n\t\t\t\tbackground-color: ${O.listDropBetweenBackground};\n\t\t\t}`),Ye.push(`\n\t\t\t.monaco-list${Ue} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,\n\t\t\t.monaco-list${Ue} .monaco-list-row.drop-target-after::after {\n\t\t\t\tcontent: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;\n\t\t\t\tbackground-color: ${O.listDropBetweenBackground};\n\t\t\t}`)),O.tableColumnsBorder&&Ye.push(`\n\t\t\t\t.monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${O.tableColumnsBorder};\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: transparent;\n\t\t\t\t}\n\t\t\t`),O.tableOddRowsBackgroundColor&&Ye.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${O.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=Ye.join("\n")}}const Le={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:C.Q1.fromHex("#a9a9a9").transparent(0.4).toString(),tableColumnsBorder:C.Q1.fromHex("#cccccc").transparent(0.2).toString(),tableOddRowsBackgroundColor:C.Q1.fromHex("#cccccc").transparent(0.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},Ve={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){},dispose(){}}};function g(O,Ue){const Ye=[];let Fe=0,oe=0;for(;Fe<O.length||oe<Ue.length;)if(Fe>=O.length)Ye.push(Ue[oe++]);else if(oe>=Ue.length)Ye.push(O[Fe++]);else{if(O[Fe]===Ue[oe]){Ye.push(O[Fe]),Fe++,oe++;continue}O[Fe]<Ue[oe]?Ye.push(O[Fe++]):Ye.push(Ue[oe++])}return Ye}const ge=(O,Ue)=>O-Ue;class We{constructor(O,Ue){this._templateId=O,this.renderers=Ue}get templateId(){return this._templateId}renderTemplate(O){return this.renderers.map((Ue)=>Ue.renderTemplate(O))}renderElement(O,Ue,Ye,Fe){let oe=0;for(let rt of this.renderers)rt.renderElement(O,Ue,Ye[oe++],Fe)}disposeElement(O,Ue,Ye,Fe){let oe=0;for(let rt of this.renderers)rt.disposeElement?.(O,Ue,Ye[oe],Fe),oe+=1}disposeTemplate(O){let Ue=0;for(let Ye of this.renderers)Ye.disposeTemplate(O[Ue++])}}class de{constructor(O){this.accessibilityProvider=O,this.templateId="a18n"}renderTemplate(O){return{container:O,disposables:new _.Cm}}renderElement(O,Ue,Ye){const Fe=this.accessibilityProvider.getAriaLabel(O),oe=Fe&&typeof Fe!="string"?Fe:L.lk(Fe);Ye.disposables.add(L.fm((lt)=>{this.setAriaLabel(lt.readObservable(oe),Ye.container)}));const rt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(O);typeof rt=="number"?Ye.container.setAttribute("aria-level",`${rt}`):Ye.container.removeAttribute("aria-level")}setAriaLabel(O,Ue){O?Ue.setAttribute("aria-label",O):Ue.removeAttribute("aria-label")}disposeElement(O,Ue,Ye,Fe){Ye.disposables.clear()}disposeTemplate(O){O.disposables.dispose()}}class be{constructor(O,Ue){this.list=O,this.dnd=Ue}getDragElements(O){const Ue=this.list.getSelectedElements();return Ue.indexOf(O)>-1?Ue:[O]}getDragURI(O){return this.dnd.getDragURI(O)}getDragLabel(O,Ue){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(O,Ue)}onDragStart(O,Ue){this.dnd.onDragStart?.(O,Ue)}onDragOver(O,Ue,Ye,Fe,oe){return this.dnd.onDragOver(O,Ue,Ye,Fe,oe)}onDragLeave(O,Ue,Ye,Fe){this.dnd.onDragLeave?.(O,Ue,Ye,Fe)}onDragEnd(O){this.dnd.onDragEnd?.(O)}drop(O,Ue,Ye,Fe,oe){this.dnd.drop(O,Ue,Ye,Fe,oe)}dispose(){this.dnd.dispose()}}class ae{get onDidChangeFocus(){return f.Jh.map(this.eventBufferer.wrapEvent(this.focus.onChange),(O)=>this.toListEvent(O),this.disposables)}get onDidChangeSelection(){return f.Jh.map(this.eventBufferer.wrapEvent(this.selection.onChange),(O)=>this.toListEvent(O),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let O=!1;const Ue=f.Jh.chain(this.disposables.add(new I.f(this.view.domNode,"keydown")).event,(oe)=>oe.map((rt)=>new T.Z(rt)).filter((rt)=>O=rt.keyCode===58||rt.shiftKey&&rt.keyCode===68).map((rt)=>s.fs.stop(rt,!0)).filter(()=>!1)),Ye=f.Jh.chain(this.disposables.add(new I.f(this.view.domNode,"keyup")).event,(oe)=>oe.forEach(()=>O=!1).map((rt)=>new T.Z(rt)).filter((rt)=>rt.keyCode===58||rt.shiftKey&&rt.keyCode===68).map((rt)=>s.fs.stop(rt,!0)).map(({browserEvent:rt})=>{const lt=this.getFocus(),ye=lt.length?lt[0]:void 0;return{index:ye,element:ye!==void 0?this.view.element(ye):void 0,anchor:ye!==void 0?this.view.domElement(ye):this.view.domNode,browserEvent:rt}})),Fe=f.Jh.chain(this.view.onContextMenu,(oe)=>oe.filter((rt)=>!O).map(({element:rt,index:lt,browserEvent:ye})=>({element:rt,index:lt,anchor:new te.P(s.zk(this.view.domNode),ye),browserEvent:ye})));return f.Jh.any(Ue,Ye,Fe)}get onKeyDown(){return this.disposables.add(new I.f(this.view.domNode,"keydown")).event}get onDidFocus(){return f.Jh.signal(this.disposables.add(new I.f(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return f.Jh.signal(this.disposables.add(new I.f(this.view.domNode,"blur",!0)).event)}constructor(O,Ue,Ye,Fe,oe=Ve){this.user=O,this._options=oe,this.focus=new U("focused"),this.anchor=new U("anchor"),this.eventBufferer=new f.at,this._ariaLabel="",this.disposables=new _.Cm,this._onDidDispose=new f.vl,this.onDidDispose=this._onDidDispose.event;const rt=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?this._options.accessibilityProvider?.getWidgetRole():"list";this.selection=new $(rt!=="listbox");const lt=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=oe.accessibilityProvider,this.accessibilityProvider&&(lt.push(new de(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant?.(this.onDidChangeActiveDescendant,this,this.disposables)),Fe=Fe.map((pt)=>new We(pt.templateId,[...lt,pt]));const ye={...oe,dnd:oe.dnd&&new be(this,oe.dnd)};if(this.view=this.createListView(Ue,Ye,Fe,ye),this.view.domNode.setAttribute("role",rt),oe.styleController)this.styleController=oe.styleController(this.view.domId);else{const pt=s.li(this.view.domNode);this.styleController=new Pe(pt,this.view.domId)}if(this.spliceable=new v([new G(this.focus,this.view,oe.identityProvider),new G(this.selection,this.view,oe.identityProvider),new G(this.anchor,this.view,oe.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new he(this,this.view)),(typeof oe.keyboardSupport!="boolean"||oe.keyboardSupport)&&(this.keyboardController=new xe(this,this.view,oe),this.disposables.add(this.keyboardController)),oe.keyboardNavigationLabelProvider){const pt=oe.keyboardNavigationDelegate||Be;this.typeNavigationController=new Ie(this,this.view,oe.keyboardNavigationLabelProvider,oe.keyboardNavigationEventFilter??(()=>!0),pt),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(oe),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(O,Ue,Ye,Fe){return new z.uO(O,Ue,Ye,Fe)}createMouseController(O){return new Se(this)}updateOptions(O={}){this._options={...this._options,...O},this.typeNavigationController?.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(O),this.keyboardController?.updateOptions(O),this.view.updateOptions(O)}get options(){return this._options}splice(O,Ue,Ye=[]){if(O<0||O>this.view.length)throw new k(this.user,`Invalid start index: ${O}`);if(Ue<0)throw new k(this.user,`Invalid delete count: ${Ue}`);Ue===0&&Ye.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(O,Ue,Ye))}rerender(){this.view.rerender()}element(O){return this.view.element(O)}indexOf(O){return this.view.indexOf(O)}indexAt(O){return this.view.indexAt(O)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(O){this.view.setScrollTop(O)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(O){this._ariaLabel=O,this.view.domNode.setAttribute("aria-label",O)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(O,Ue){this.view.layout(O,Ue)}setSelection(O,Ue){for(let Ye of O)if(Ye<0||Ye>=this.length)throw new k(this.user,`Invalid index ${Ye}`);this.selection.set(O,Ue)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((O)=>this.view.element(O))}setAnchor(O){if(O!==void 0){if(O<0||O>=this.length)throw new k(this.user,`Invalid index ${O}`);this.anchor.set([O])}else this.anchor.set([])}getAnchor(){return E.Fy(this.anchor.get(),void 0)}getAnchorElement(){const O=this.getAnchor();return O===void 0?void 0:this.element(O)}setFocus(O,Ue){for(let Ye of O)if(Ye<0||Ye>=this.length)throw new k(this.user,`Invalid index ${Ye}`);this.focus.set(O,Ue)}focusNext(O=1,Ue=!1,Ye,Fe){if(this.length===0)return;const oe=this.focus.get(),rt=this.findNextIndex(oe.length>0?oe[0]+O:0,Ue,Fe);rt>-1&&this.setFocus([rt],Ye)}focusPrevious(O=1,Ue=!1,Ye,Fe){if(this.length===0)return;const oe=this.focus.get(),rt=this.findPreviousIndex(oe.length>0?oe[0]-O:0,Ue,Fe);rt>-1&&this.setFocus([rt],Ye)}async focusNextPage(O,Ue){let Ye=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Ye=Ye===0?0:Ye-1;const Fe=this.getFocus()[0];if(Fe!==Ye&&(Fe===void 0||Ye>Fe)){const oe=this.findPreviousIndex(Ye,!1,Ue);oe>-1&&Fe!==oe?this.setFocus([oe],O):this.setFocus([Ye],O)}else{const oe=this.view.getScrollTop();let rt=oe+this.view.renderHeight;Ye>Fe&&(rt-=this.view.elementHeight(Ye)),this.view.setScrollTop(rt),this.view.getScrollTop()!==oe&&(this.setFocus([]),await w.wR(0),await this.focusNextPage(O,Ue))}}async focusPreviousPage(O,Ue,Ye=()=>0){let Fe;const oe=Ye(),rt=this.view.getScrollTop()+oe;Fe=rt===0?this.view.indexAt(rt):this.view.indexAfter(rt-1);const lt=this.getFocus()[0];if(lt!==Fe&&(lt===void 0||lt>=Fe)){const ye=this.findNextIndex(Fe,!1,Ue);ye>-1&&lt!==ye?this.setFocus([ye],O):this.setFocus([Fe],O)}else{const ye=rt;this.view.setScrollTop(rt-this.view.renderHeight-oe),this.view.getScrollTop()+Ye()!==ye&&(this.setFocus([]),await w.wR(0),await this.focusPreviousPage(O,Ue,Ye))}}focusLast(O,Ue){if(this.length===0)return;const Ye=this.findPreviousIndex(this.length-1,!1,Ue);Ye>-1&&this.setFocus([Ye],O)}focusFirst(O,Ue){this.focusNth(0,O,Ue)}focusNth(O,Ue,Ye){if(this.length===0)return;const Fe=this.findNextIndex(O,!1,Ye);Fe>-1&&this.setFocus([Fe],Ue)}findNextIndex(O,Ue=!1,Ye){for(let Fe=0;Fe<this.length;Fe++){if(O>=this.length&&!Ue)return-1;if(O%=this.length,!Ye||Ye(this.element(O)))return O;O++}return-1}findPreviousIndex(O,Ue=!1,Ye){for(let Fe=0;Fe<this.length;Fe++){if(O<0&&!Ue)return-1;if(O=(this.length+O%this.length)%this.length,!Ye||Ye(this.element(O)))return O;O--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((O)=>this.view.element(O))}reveal(O,Ue,Ye=0){if(O<0||O>=this.length)throw new k(this.user,`Invalid index ${O}`);const Fe=this.view.getScrollTop(),oe=this.view.elementTop(O),rt=this.view.elementHeight(O);if(x.Et(Ue)){const lt=rt-this.view.renderHeight+Ye;this.view.setScrollTop(lt*m.qE(Ue,0,1)+oe-Ye)}else{const lt=oe+rt,ye=Fe+this.view.renderHeight;oe<Fe+Ye&&lt>=ye||(oe<Fe+Ye||lt>=ye&&rt>=this.view.renderHeight?this.view.setScrollTop(oe-Ye):lt>=ye&&this.view.setScrollTop(lt-this.view.renderHeight))}}getRelativeTop(O,Ue=0){if(O<0||O>=this.length)throw new k(this.user,`Invalid index ${O}`);const Ye=this.view.getScrollTop(),Fe=this.view.elementTop(O),oe=this.view.elementHeight(O);if(Fe<Ye+Ue||Fe+oe>Ye+this.view.renderHeight)return null;const rt=oe-this.view.renderHeight+Ue;return Math.abs((Ye+Ue-Fe)/rt)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(O){return this.view.getElementDomId(O)}getElementTop(O){return this.view.elementTop(O)}style(O){this.styleController.style(O)}toListEvent({indexes:O,browserEvent:Ue}){return{indexes:O,elements:O.map((Ye)=>this.view.element(Ye)),browserEvent:Ue}}_onFocusChange(){const O=this.focus.get();this.view.domNode.classList.toggle("element-focused",O.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){const O=this.focus.get();if(O.length>0){let Ue;this.accessibilityProvider?.getActiveDescendantId&&(Ue=this.accessibilityProvider.getActiveDescendantId(this.view.element(O[0]))),this.view.domNode.setAttribute("aria-activedescendant",Ue||this.view.getElementDomId(O[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const O=this.selection.get();this.view.domNode.classList.toggle("selection-none",O.length===0),this.view.domNode.classList.toggle("selection-single",O.length===1),this.view.domNode.classList.toggle("selection-multiple",O.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}W([d.B],ae.prototype,"onDidChangeFocus",null),W([d.B],ae.prototype,"onDidChangeSelection",null),W([d.B],ae.prototype,"onContextMenu",null),W([d.B],ae.prototype,"onKeyDown",null),W([d.B],ae.prototype,"onDidFocus",null),W([d.B],ae.prototype,"onDidBlur",null)},6843:(dt,pe,h)=>{h.d(pe,{B:()=>s,m:()=>k});var s,I=h(4333),T=h(4061),J=h(474),M=h(5958),v=h(8846),E=h(2106),w=h(998),C=h(3339),d=function(R,P,z,te){var L,W=arguments.length,B=W<3?P:te===null?te=Object.getOwnPropertyDescriptor(P,z):te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(R,P,z,te);else for(var U=R.length-1;U>=0;U--)(L=R[U])&&(B=(W<3?L(B):W>3?L(P,z,B):L(P,z))||B);return W>3&&B&&Object.defineProperty(P,z,B),B};(function(R){R.North="north",R.South="south",R.East="east",R.West="west"})(s||(s={}));const f=new E.vl,p=new E.vl;class _{constructor(R){this.el=R,this.disposables=new w.Cm}get onPointerMove(){return this.disposables.add(new T.f(I.zk(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new T.f(I.zk(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}d([v.B],_.prototype,"onPointerMove",null),d([v.B],_.prototype,"onPointerUp",null);class m{get onPointerMove(){return this.disposables.add(new T.f(this.el,J.B.Change)).event}get onPointerUp(){return this.disposables.add(new T.f(this.el,J.B.End)).event}constructor(R){this.el=R,this.disposables=new w.Cm}dispose(){this.disposables.dispose()}}d([v.B],m.prototype,"onPointerMove",null),d([v.B],m.prototype,"onPointerUp",null);class b{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(R){this.factory=R}dispose(){}}d([v.B],b.prototype,"onPointerMove",null),d([v.B],b.prototype,"onPointerUp",null);const x="pointer-events-disabled";class k extends w.jG{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(R){this._state!==R&&(this.el.classList.toggle("disabled",R===0),this.el.classList.toggle("minimum",R===1),this.el.classList.toggle("maximum",R===2),this._state=R,this.onDidEnablementChange.fire(R))}set orthogonalStartSash(R){if(this._orthogonalStartSash!==R){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),R){const P=(z)=>{this.orthogonalStartDragHandleDisposables.clear(),z!==0&&(this._orthogonalStartDragHandle=I.BC(this.el,I.$(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(w.s(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new T.f(this._orthogonalStartDragHandle,"mouseenter")).event(()=>k.onMouseEnter(R),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new T.f(this._orthogonalStartDragHandle,"mouseleave")).event(()=>k.onMouseLeave(R),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(R.onDidEnablementChange.event(P,this)),P(R.state)}this._orthogonalStartSash=R}}set orthogonalEndSash(R){if(this._orthogonalEndSash!==R){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),R){const P=(z)=>{this.orthogonalEndDragHandleDisposables.clear(),z!==0&&(this._orthogonalEndDragHandle=I.BC(this.el,I.$(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(w.s(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new T.f(this._orthogonalEndDragHandle,"mouseenter")).event(()=>k.onMouseEnter(R),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new T.f(this._orthogonalEndDragHandle,"mouseleave")).event(()=>k.onMouseLeave(R),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(R.onDidEnablementChange.event(P,this)),P(R.state)}this._orthogonalEndSash=R}}constructor(R,P,z){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new M.ve(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new E.vl),this._onDidStart=this._register(new E.vl),this._onDidChange=this._register(new E.vl),this._onDidReset=this._register(new E.vl),this._onDidEnd=this._register(new E.vl),this.orthogonalStartSashDisposables=this._register(new w.Cm),this.orthogonalStartDragHandleDisposables=this._register(new w.Cm),this.orthogonalEndSashDisposables=this._register(new w.Cm),this.orthogonalEndDragHandleDisposables=this._register(new w.Cm),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=I.BC(R,I.$(".monaco-sash")),z.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${z.orthogonalEdge}`),C.zx&&this.el.classList.add("mac");const te=this._register(new T.f(this.el,"mousedown")).event;this._register(te((ie)=>this.onPointerStart(ie,new _(R)),this));const L=this._register(new T.f(this.el,"dblclick")).event;this._register(L(this.onPointerDoublePress,this));const W=this._register(new T.f(this.el,"mouseenter")).event;this._register(W(()=>k.onMouseEnter(this)));const B=this._register(new T.f(this.el,"mouseleave")).event;this._register(B(()=>k.onMouseLeave(this))),this._register(J.q.addTarget(this.el));const U=this._register(new T.f(this.el,J.B.Start)).event;this._register(U((ie)=>this.onPointerStart(ie,new m(this.el)),this));const $=this._register(new T.f(this.el,J.B.Tap)).event;let G;this._register($((ie)=>{if(G)return clearTimeout(G),G=void 0,void this.onPointerDoublePress(ie);clearTimeout(G),G=setTimeout(()=>G=void 0,250)},this)),typeof z.size=="number"?(this.size=z.size,z.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(f.event((ie)=>{this.size=ie,this.layout()}))),this._register(p.event((ie)=>this.hoverDelay=ie)),this.layoutProvider=P,this.orthogonalStartSash=z.orthogonalStartSash,this.orthogonalEndSash=z.orthogonalEndSash,this.orientation=z.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}onPointerStart(R,P){I.fs.stop(R);let z=!1;if(!R.__orthogonalSashEvent){const ee=this.getOrthogonalSash(R);ee&&(z=!0,R.__orthogonalSashEvent=!0,ee.onPointerStart(R,new b(P)))}if(this.linkedSash&&!R.__linkedSashEvent&&(R.__linkedSashEvent=!0,this.linkedSash.onPointerStart(R,new b(P))),!this.state)return;const te=this.el.ownerDocument.getElementsByTagName("iframe");for(let ee of te)ee.classList.add(x);const{pageX:L,pageY:W,altKey:B}=R,U={startX:L,currentX:L,startY:W,currentY:W,altKey:B};this.el.classList.add("active"),this._onDidStart.fire(U);const $=I.li(this.el),G=()=>{let ee="";ee=z?"all-scroll":this.orientation===1?this.state===1?"s-resize":this.state===2?"n-resize":C.zx?"row-resize":"ns-resize":this.state===1?"e-resize":this.state===2?"w-resize":C.zx?"col-resize":"ew-resize",$.textContent=`* { cursor: ${ee} !important; }`},ie=new w.Cm;G(),z||this.onDidEnablementChange.event(G,null,ie),P.onPointerMove((ee)=>{I.fs.stop(ee,!1);const ne={startX:L,currentX:ee.pageX,startY:W,currentY:ee.pageY,altKey:B};this._onDidChange.fire(ne)},null,ie),P.onPointerUp((ee)=>{I.fs.stop(ee,!1),$.remove(),this.el.classList.remove("active"),this._onDidEnd.fire(),ie.dispose();for(let ne of te)ne.classList.remove(x)},null,ie),ie.add(P)}onPointerDoublePress(R){const P=this.getOrthogonalSash(R);P&&P._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(R,P=!1){R.el.classList.contains("active")?(R.hoverDelayer.cancel(),R.el.classList.add("hover")):R.hoverDelayer.trigger(()=>R.el.classList.add("hover"),R.hoverDelay).then(void 0,()=>{}),!P&&R.linkedSash&&k.onMouseEnter(R.linkedSash,!0)}static onMouseLeave(R,P=!1){R.hoverDelayer.cancel(),R.el.classList.remove("hover"),!P&&R.linkedSash&&k.onMouseLeave(R.linkedSash,!0)}clearSashHoverState(){k.onMouseLeave(this)}layout(){if(this.orientation===0){const R=this.layoutProvider;this.el.style.left=R.getVerticalSashLeft(this)-this.size/2+"px",R.getVerticalSashTop&&(this.el.style.top=R.getVerticalSashTop(this)+"px"),R.getVerticalSashHeight&&(this.el.style.height=R.getVerticalSashHeight(this)+"px")}else{const R=this.layoutProvider;this.el.style.top=R.getHorizontalSashTop(this)-this.size/2+"px",R.getHorizontalSashLeft&&(this.el.style.left=R.getHorizontalSashLeft(this)+"px"),R.getHorizontalSashWidth&&(this.el.style.width=R.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(R){const P=R.initialTarget??R.target;if(P&&I.sb(P))return P.classList.contains("orthogonal-drag-handle")?P.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}},8354:(dt,pe,h)=>{h.d(pe,{MU:()=>U,QC:()=>te,Se:()=>W,oO:()=>B});var s=h(5893),I=h(4333),T=h(5043),J=h(9715),M=h(176),v=h(5222),E=h(5958),w=h(8881);class C extends v.x{constructor($){super(),this._onActivate=$.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=$.bgWidth+"px",this.bgDomNode.style.height=$.bgHeight+"px",$.top!==void 0&&(this.bgDomNode.style.top="0px"),$.left!==void 0&&(this.bgDomNode.style.left="0px"),$.bottom!==void 0&&(this.bgDomNode.style.bottom="0px"),$.right!==void 0&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=$.className,this.domNode.classList.add(...w.L.asClassNameArray($.icon)),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",$.top!==void 0&&(this.domNode.style.top=$.top+"px"),$.left!==void 0&&(this.domNode.style.left=$.left+"px"),$.bottom!==void 0&&(this.domNode.style.bottom=$.bottom+"px"),$.right!==void 0&&(this.domNode.style.right=$.right+"px"),this._pointerMoveMonitor=this._register(new M._),this._register(I.b2(this.bgDomNode,I.Bx.POINTER_DOWN,(G)=>this._arrowPointerDown(G))),this._register(I.b2(this.domNode,I.Bx.POINTER_DOWN,(G)=>this._arrowPointerDown(G))),this._pointerdownRepeatTimer=this._register(new I.Be),this._pointerdownScheduleRepeatTimer=this._register(new E.pc)}_arrowPointerDown($){$.target&&$.target instanceof Element&&(this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664,I.zk($))},200),this._pointerMoveMonitor.startMonitoring($.target,$.pointerId,$.buttons,(G)=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),$.preventDefault())}}var d=h(998);class f extends d.jG{constructor($,G,ie){super(),this._visibility=$,this._visibleClassName=G,this._invisibleClassName=ie,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new E.pc)}setVisibility($){this._visibility!==$&&(this._visibility=$,this._updateShouldBeVisible())}setShouldBeVisible($){this._rawShouldBeVisible=$,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility!==2&&(this._visibility===3||this._rawShouldBeVisible)}_updateShouldBeVisible(){const $=this._applyVisibilitySetting();this._shouldBeVisible!==$&&(this._shouldBeVisible=$,this.ensureVisibility())}setIsNeeded($){this._isNeeded!==$&&(this._isNeeded=$,this.ensureVisibility())}setDomNode($){this._domNode=$,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide($){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+($?" fade":"")))}}var p=h(3339);class _ extends v.x{constructor($){super(),this._lazyRender=$.lazyRender,this._host=$.host,this._scrollable=$.scrollable,this._scrollByPage=$.scrollByPage,this._scrollbarState=$.scrollbarState,this._visibilityController=this._register(new f($.visibility,"visible scrollbar "+$.extraScrollbarClassName,"invisible scrollbar "+$.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new M._),this._shouldRender=!0,this.domNode=T.Z(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(I.ko(this.domNode.domNode,I.Bx.POINTER_DOWN,(G)=>this._domNodePointerDown(G)))}_createArrow($){const G=this._register(new C($));this.domNode.domNode.appendChild(G.bgDomNode),this.domNode.domNode.appendChild(G.domNode)}_createSlider($,G,ie,ee){this.slider=T.Z(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop($),this.slider.setLeft(G),typeof ie=="number"&&this.slider.setWidth(ie),typeof ee=="number"&&this.slider.setHeight(ee),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(I.ko(this.slider.domNode,I.Bx.POINTER_DOWN,(ne)=>{ne.button===0&&(ne.preventDefault(),this._sliderPointerDown(ne))})),this.onclick(this.slider.domNode,(ne)=>{ne.leftButton&&ne.stopPropagation()})}_onElementSize($){return this._scrollbarState.setVisibleSize($)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize($){return this._scrollbarState.setScrollSize($)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition($){return this._scrollbarState.setScrollPosition($)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown($){$.target===this.domNode.domNode&&this._onPointerDown($)}delegatePointerDown($){const G=this.domNode.domNode.getClientRects()[0].top,ie=G+this._scrollbarState.getSliderPosition(),ee=G+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),ne=this._sliderPointerPosition($);ie<=ne&&ne<=ee?$.button===0&&($.preventDefault(),this._sliderPointerDown($)):this._onPointerDown($)}_onPointerDown($){let G,ie;if($.target===this.domNode.domNode&&typeof $.offsetX=="number"&&typeof $.offsetY=="number")G=$.offsetX,ie=$.offsetY;else{const ne=I.BK(this.domNode.domNode);G=$.pageX-ne.left,ie=$.pageY-ne.top}const ee=this._pointerDownRelativePosition(G,ie);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(ee):this._scrollbarState.getDesiredScrollPositionFromOffset(ee)),$.button===0&&($.preventDefault(),this._sliderPointerDown($))}_sliderPointerDown($){if(!($.target&&$.target instanceof Element))return;const G=this._sliderPointerPosition($),ie=this._sliderOrthogonalPointerPosition($),ee=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring($.target,$.pointerId,$.buttons,(ne)=>{const H=this._sliderOrthogonalPointerPosition(ne),V=Math.abs(H-ie);if(p.uF&&V>140)return void this._setDesiredScrollPositionNow(ee.getScrollPosition());const Y=this._sliderPointerPosition(ne)-G;this._setDesiredScrollPositionNow(ee.getDesiredScrollPositionFromDelta(Y))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow($){const G={};this.writeScrollPosition(G,$),this._scrollable.setScrollPositionNow(G)}updateScrollbarSize($){this._updateScrollbarSize($),this._scrollbarState.setScrollbarSize($),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}var m=h(8122),b=h(5915);class x extends _{constructor($,G,ie){const ee=$.getScrollDimensions(),ne=$.getCurrentScrollPosition();if(super({lazyRender:G.lazyRender,host:ie,scrollbarState:new m.m(G.horizontalHasArrows?G.arrowSize:0,G.horizontal===2?0:G.horizontalScrollbarSize,G.vertical===2?0:G.verticalScrollbarSize,ee.width,ee.scrollWidth,ne.scrollLeft),visibility:G.horizontal,extraScrollbarClassName:"horizontal",scrollable:$,scrollByPage:G.scrollByPage}),G.horizontalHasArrows){const H=(G.arrowSize-11)/2,V=(G.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:b.W.scrollbarButtonLeft,top:V,left:H,bottom:void 0,right:void 0,bgWidth:G.arrowSize,bgHeight:G.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new J.$(null,1,0))}),this._createArrow({className:"scra",icon:b.W.scrollbarButtonRight,top:V,left:void 0,bottom:void 0,right:H,bgWidth:G.arrowSize,bgHeight:G.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new J.$(null,-1,0))})}this._createSlider(Math.floor((G.horizontalScrollbarSize-G.horizontalSliderSize)/2),0,void 0,G.horizontalSliderSize)}_updateSlider($,G){this.slider.setWidth($),this.slider.setLeft(G)}_renderDomNode($,G){this.domNode.setWidth($),this.domNode.setHeight(G),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll($){return this._shouldRender=this._onElementScrollSize($.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition($.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize($.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition($,G){return $}_sliderPointerPosition($){return $.pageX}_sliderOrthogonalPointerPosition($){return $.pageY}_updateScrollbarSize($){this.slider.setHeight($)}writeScrollPosition($,G){$.scrollLeft=G}updateOptions($){this.updateScrollbarSize($.horizontal===2?0:$.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize($.vertical===2?0:$.verticalScrollbarSize),this._visibilityController.setVisibility($.horizontal),this._scrollByPage=$.scrollByPage}}class k extends _{constructor($,G,ie){const ee=$.getScrollDimensions(),ne=$.getCurrentScrollPosition();if(super({lazyRender:G.lazyRender,host:ie,scrollbarState:new m.m(G.verticalHasArrows?G.arrowSize:0,G.vertical===2?0:G.verticalScrollbarSize,0,ee.height,ee.scrollHeight,ne.scrollTop),visibility:G.vertical,extraScrollbarClassName:"vertical",scrollable:$,scrollByPage:G.scrollByPage}),G.verticalHasArrows){const H=(G.arrowSize-11)/2,V=(G.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:b.W.scrollbarButtonUp,top:H,left:V,bottom:void 0,right:void 0,bgWidth:G.verticalScrollbarSize,bgHeight:G.arrowSize,onActivate:()=>this._host.onMouseWheel(new J.$(null,0,1))}),this._createArrow({className:"scra",icon:b.W.scrollbarButtonDown,top:void 0,left:V,bottom:H,right:void 0,bgWidth:G.verticalScrollbarSize,bgHeight:G.arrowSize,onActivate:()=>this._host.onMouseWheel(new J.$(null,0,-1))})}this._createSlider(0,Math.floor((G.verticalScrollbarSize-G.verticalSliderSize)/2),G.verticalSliderSize,void 0)}_updateSlider($,G){this.slider.setHeight($),this.slider.setTop(G)}_renderDomNode($,G){this.domNode.setWidth(G),this.domNode.setHeight($),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll($){return this._shouldRender=this._onElementScrollSize($.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition($.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize($.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition($,G){return G}_sliderPointerPosition($){return $.pageY}_sliderOrthogonalPointerPosition($){return $.pageX}_updateScrollbarSize($){this.slider.setWidth($)}writeScrollPosition($,G){$.scrollTop=G}updateOptions($){this.updateScrollbarSize($.vertical===2?0:$.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility($.vertical),this._scrollByPage=$.scrollByPage}}var R=h(2106),P=h(4513);class z{constructor($,G,ie){this.timestamp=$,this.deltaX=G,this.deltaY=ie,this.score=0}}class te{static{this.INSTANCE=new te}constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let $=1,G=0,ie=1,ee=this._rear;for(;;){const ne=ee===this._front?$:Math.pow(2,-ie);if($-=ne,G+=this._memory[ee].score*ne,ee===this._front)break;ee=(this._capacity+ee-1)%this._capacity,ie++}return G<=0.5}acceptStandardWheelEvent($){if(s.H8){const G=I.zk($.browserEvent),ie=s.pR(G);this.accept(Date.now(),$.deltaX*ie,$.deltaY*ie)}else this.accept(Date.now(),$.deltaX,$.deltaY)}accept($,G,ie){let ee=null;const ne=new z($,G,ie);this._front===-1&&this._rear===-1?(this._memory[0]=ne,this._front=0,this._rear=0):(ee=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=ne),ne.score=this._computeScore(ne,ee)}_computeScore($,G){if(Math.abs($.deltaX)>0&&Math.abs($.deltaY)>0)return 1;let ie=0.5;if(this._isAlmostInt($.deltaX)&&this._isAlmostInt($.deltaY)||(ie+=0.25),G){const ee=Math.abs($.deltaX),ne=Math.abs($.deltaY),H=Math.abs(G.deltaX),V=Math.abs(G.deltaY),Y=Math.max(Math.min(ee,H),1),ve=Math.max(Math.min(ne,V),1),Te=Math.max(ee,H),xe=Math.max(ne,V);Te%Y==0&&xe%ve==0&&(ie-=0.5)}return Math.min(Math.max(ie,0),1)}_isAlmostInt($){return Math.abs(Math.round($)-$)<0.01}}class L extends v.x{get options(){return this._options}constructor($,G,ie){super(),this._onScroll=this._register(new R.vl),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new R.vl),$.style.overflow="hidden",this._options=function(ne){const H={lazyRender:ne.lazyRender!==void 0&&ne.lazyRender,className:ne.className!==void 0?ne.className:"",useShadows:ne.useShadows===void 0||ne.useShadows,handleMouseWheel:ne.handleMouseWheel===void 0||ne.handleMouseWheel,flipAxes:ne.flipAxes!==void 0&&ne.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:ne.consumeMouseWheelIfScrollbarIsNeeded!==void 0&&ne.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:ne.alwaysConsumeMouseWheel!==void 0&&ne.alwaysConsumeMouseWheel,scrollYToX:ne.scrollYToX!==void 0&&ne.scrollYToX,mouseWheelScrollSensitivity:ne.mouseWheelScrollSensitivity!==void 0?ne.mouseWheelScrollSensitivity:1,fastScrollSensitivity:ne.fastScrollSensitivity!==void 0?ne.fastScrollSensitivity:5,scrollPredominantAxis:ne.scrollPredominantAxis===void 0||ne.scrollPredominantAxis,mouseWheelSmoothScroll:ne.mouseWheelSmoothScroll===void 0||ne.mouseWheelSmoothScroll,arrowSize:ne.arrowSize!==void 0?ne.arrowSize:11,listenOnDomNode:ne.listenOnDomNode!==void 0?ne.listenOnDomNode:null,horizontal:ne.horizontal!==void 0?ne.horizontal:1,horizontalScrollbarSize:ne.horizontalScrollbarSize!==void 0?ne.horizontalScrollbarSize:10,horizontalSliderSize:ne.horizontalSliderSize!==void 0?ne.horizontalSliderSize:0,horizontalHasArrows:ne.horizontalHasArrows!==void 0&&ne.horizontalHasArrows,vertical:ne.vertical!==void 0?ne.vertical:1,verticalScrollbarSize:ne.verticalScrollbarSize!==void 0?ne.verticalScrollbarSize:10,verticalHasArrows:ne.verticalHasArrows!==void 0&&ne.verticalHasArrows,verticalSliderSize:ne.verticalSliderSize!==void 0?ne.verticalSliderSize:0,scrollByPage:ne.scrollByPage!==void 0&&ne.scrollByPage};return H.horizontalSliderSize=ne.horizontalSliderSize!==void 0?ne.horizontalSliderSize:H.horizontalScrollbarSize,H.verticalSliderSize=ne.verticalSliderSize!==void 0?ne.verticalSliderSize:H.verticalScrollbarSize,p.zx&&(H.className+=" mac"),H}(G),this._scrollable=ie,this._register(this._scrollable.onScroll((ne)=>{this._onWillScroll.fire(ne),this._onDidScroll(ne),this._onScroll.fire(ne)}));const ee={onMouseWheel:(ne)=>this._onMouseWheel(ne),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new k(this._scrollable,this._options,ee)),this._horizontalScrollbar=this._register(new x(this._scrollable,this._options,ee)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild($),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=T.Z(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=T.Z(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=T.Z(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(ne)=>this._onMouseOver(ne)),this.onmouseleave(this._listenOnDomNode,(ne)=>this._onMouseLeave(ne)),this._hideTimeout=this._register(new E.pc),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=d.AS(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown($){this._verticalScrollbar.delegatePointerDown($)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions($){this._scrollable.setScrollDimensions($,!1)}updateClassName($){this._options.className=$,p.zx&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions($){$.handleMouseWheel!==void 0&&(this._options.handleMouseWheel=$.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),$.mouseWheelScrollSensitivity!==void 0&&(this._options.mouseWheelScrollSensitivity=$.mouseWheelScrollSensitivity),$.fastScrollSensitivity!==void 0&&(this._options.fastScrollSensitivity=$.fastScrollSensitivity),$.scrollPredominantAxis!==void 0&&(this._options.scrollPredominantAxis=$.scrollPredominantAxis),$.horizontal!==void 0&&(this._options.horizontal=$.horizontal),$.vertical!==void 0&&(this._options.vertical=$.vertical),$.horizontalScrollbarSize!==void 0&&(this._options.horizontalScrollbarSize=$.horizontalScrollbarSize),$.verticalScrollbarSize!==void 0&&(this._options.verticalScrollbarSize=$.verticalScrollbarSize),$.scrollByPage!==void 0&&(this._options.scrollByPage=$.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent($){this._onMouseWheel(new J.$($))}_setListeningToMouseWheel($){if(this._mouseWheelToDispose.length>0!==$&&(this._mouseWheelToDispose=d.AS(this._mouseWheelToDispose),$)){const G=(ie)=>{this._onMouseWheel(new J.$(ie))};this._mouseWheelToDispose.push(I.ko(this._listenOnDomNode,I.Bx.MOUSE_WHEEL,G,{passive:!1}))}}_onMouseWheel($){if($.browserEvent?.defaultPrevented)return;const G=te.INSTANCE;G.acceptStandardWheelEvent($);let ie=!1;if($.deltaY||$.deltaX){let ne=$.deltaY*this._options.mouseWheelScrollSensitivity,H=$.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&H+ne===0?H=ne=0:Math.abs(ne)>=Math.abs(H)?H=0:ne=0),this._options.flipAxes&&([ne,H]=[H,ne]);const V=!p.zx&&$.browserEvent&&$.browserEvent.shiftKey;!this._options.scrollYToX&&!V||H||(H=ne,ne=0),$.browserEvent&&$.browserEvent.altKey&&(H*=this._options.fastScrollSensitivity,ne*=this._options.fastScrollSensitivity);const Y=this._scrollable.getFutureScrollPosition();let ve={};if(ne){const Te=50*ne,xe=Y.scrollTop-(Te<0?Math.floor(Te):Math.ceil(Te));this._verticalScrollbar.writeScrollPosition(ve,xe)}if(H){const Te=50*H,xe=Y.scrollLeft-(Te<0?Math.floor(Te):Math.ceil(Te));this._horizontalScrollbar.writeScrollPosition(ve,xe)}ve=this._scrollable.validateScrollPosition(ve),(Y.scrollLeft!==ve.scrollLeft||Y.scrollTop!==ve.scrollTop)&&(this._options.mouseWheelSmoothScroll&&G.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(ve):this._scrollable.setScrollPositionNow(ve),ie=!0)}let ee=ie;!ee&&this._options.alwaysConsumeMouseWheel&&(ee=!0),!ee&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(ee=!0),ee&&($.preventDefault(),$.stopPropagation())}_onDidScroll($){this._shouldRender=this._horizontalScrollbar.onDidScroll($)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll($)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const $=this._scrollable.getCurrentScrollPosition(),G=$.scrollTop>0,ie=$.scrollLeft>0,ee=ie?" left":"",ne=G?" top":"",H=ie||G?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${ee}`),this._topShadowDomNode.setClassName(`shadow${ne}`),this._topLeftShadowDomNode.setClassName(`shadow${H}${ne}${ee}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave($){this._mouseIsOver=!1,this._hide()}_onMouseOver($){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class W extends L{constructor($,G){(G=G||{}).mouseWheelSmoothScroll=!1;const ie=new P.yE({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:(ee)=>I.PG(I.zk($),ee)});super($,G,ie),this._register(ie)}setScrollPosition($){this._scrollable.setScrollPositionNow($)}}class B extends L{constructor($,G,ie){super($,G,ie)}setScrollPosition($){$.reuseAnimation?this._scrollable.setScrollPositionSmooth($,$.reuseAnimation):this._scrollable.setScrollPositionNow($)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class U extends L{constructor($,G){(G=G||{}).mouseWheelSmoothScroll=!1;const ie=new P.yE({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:(ee)=>I.PG(I.zk($),ee)});super($,G,ie),this._register(ie),this._element=$,this._register(this.onScroll((ee)=>{ee.scrollTopChanged&&(this._element.scrollTop=ee.scrollTop),ee.scrollLeftChanged&&(this._element.scrollLeft=ee.scrollLeft)})),this.scanDomNode()}setScrollPosition($){this._scrollable.setScrollPositionNow($)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},8122:(dt,pe,h)=>{h.d(pe,{m:()=>s});class s{constructor(I,T,J,M,v,E){this._scrollbarSize=Math.round(T),this._oppositeScrollbarSize=Math.round(J),this._arrowSize=Math.round(I),this._visibleSize=M,this._scrollSize=v,this._scrollPosition=E,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new s(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(I){const T=Math.round(I);return this._visibleSize!==T&&(this._visibleSize=T,this._refreshComputedValues(),!0)}setScrollSize(I){const T=Math.round(I);return this._scrollSize!==T&&(this._scrollSize=T,this._refreshComputedValues(),!0)}setScrollPosition(I){const T=Math.round(I);return this._scrollPosition!==T&&(this._scrollPosition=T,this._refreshComputedValues(),!0)}setScrollbarSize(I){this._scrollbarSize=Math.round(I)}setOppositeScrollbarSize(I){this._oppositeScrollbarSize=Math.round(I)}static _computeValues(I,T,J,M,v){const E=Math.max(0,J-I),w=Math.max(0,E-2*T),C=M>0&&M>J;if(!C)return{computedAvailableSize:Math.round(E),computedIsNeeded:C,computedSliderSize:Math.round(w),computedSliderRatio:0,computedSliderPosition:0};const d=Math.round(Math.max(20,Math.floor(J*w/M))),f=(w-d)/(M-J),p=v*f;return{computedAvailableSize:Math.round(E),computedIsNeeded:C,computedSliderSize:Math.round(d),computedSliderRatio:f,computedSliderPosition:Math.round(p)}}_refreshComputedValues(){const I=s._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=I.computedAvailableSize,this._computedIsNeeded=I.computedIsNeeded,this._computedSliderSize=I.computedSliderSize,this._computedSliderRatio=I.computedSliderRatio,this._computedSliderPosition=I.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(I){if(!this._computedIsNeeded)return 0;const T=I-this._arrowSize-this._computedSliderSize/2;return Math.round(T/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(I){if(!this._computedIsNeeded)return 0;const T=I-this._arrowSize;let J=this._scrollPosition;return T<this._computedSliderPosition?J-=this._visibleSize:J+=this._visibleSize,J}getDesiredScrollPositionFromDelta(I){if(!this._computedIsNeeded)return 0;const T=this._computedSliderPosition+I;return Math.round(T/this._computedSliderRatio)}}},7003:(dt,pe,h)=>{h.d(pe,{U:()=>R,X:()=>k});var s=h(4333),I=h(4061),T=h(6843),J=h(8354),M=h(3338),v=h(4901),E=h(2106),w=h(998),C=h(2992),d=h(4513),f=h(9359);const p={separatorBorder:v.Q1.transparent};class _{set size(P){this._size=P}get size(){return this._size}get visible(){return this._cachedVisibleSize===void 0}setVisible(P,z){if(P!==this.visible){P?(this.size=C.qE(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof z=="number"?z:this.size,this.size=0),this.container.classList.toggle("visible",P);try{this.view.setVisible?.(P)}catch(te){console.error("Splitview: Failed to set visible view"),console.error(te)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){return this.view.proportionalLayout??!0}get snap(){return!!this.view.snap}set enabled(P){this.container.style.pointerEvents=P?"":"none"}constructor(P,z,te,L){this.container=P,this.view=z,this.disposable=L,this._cachedVisibleSize=void 0,typeof te=="number"?(this._size=te,this._cachedVisibleSize=void 0,P.classList.add("visible")):(this._size=0,this._cachedVisibleSize=te.cachedVisibleSize)}layout(P,z){this.layoutContainer(P);try{this.view.layout(this.size,P,z)}catch(te){console.error("Splitview: Failed to layout view"),console.error(te)}}dispose(){this.disposable.dispose()}}class m extends _{layoutContainer(P){this.container.style.top=`${P}px`,this.container.style.height=`${this.size}px`}}class b extends _{layoutContainer(P){this.container.style.left=`${P}px`,this.container.style.width=`${this.size}px`}}var x,k;(function(P){P[P.Idle=0]="Idle",P[P.Busy=1]="Busy"})(x||(x={})),function(P){P.Distribute={type:"distribute"},P.Split=function(z){return{type:"split",index:z}},P.Auto=function(z){return{type:"auto",index:z}},P.Invisible=function(z){return{type:"invisible",cachedVisibleSize:z}}}(k||(k={}));class R extends w.jG{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(P){for(let z of this.sashItems)z.sash.orthogonalStartSash=P;this._orthogonalStartSash=P}set orthogonalEndSash(P){for(let z of this.sashItems)z.sash.orthogonalEndSash=P;this._orthogonalEndSash=P}set startSnappingEnabled(P){this._startSnappingEnabled!==P&&(this._startSnappingEnabled=P,this.updateSashEnablement())}set endSnappingEnabled(P){this._endSnappingEnabled!==P&&(this._endSnappingEnabled=P,this.updateSashEnablement())}constructor(P,z={}){super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=x.Idle,this._onDidSashChange=this._register(new E.vl),this._onDidSashReset=this._register(new E.vl),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=z.orientation??0,this.inverseAltBehavior=z.inverseAltBehavior??!1,this.proportionalLayout=z.proportionalLayout??!0,this.getSashOrthogonalSize=z.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),P.appendChild(this.el),this.sashContainer=s.BC(this.el,s.$(".sash-container")),this.viewContainer=s.$(".split-view-container"),this.scrollable=this._register(new d.yE({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:(L)=>s.PG(s.zk(this.el),L)})),this.scrollableElement=this._register(new J.oO(this.viewContainer,{vertical:this.orientation===0?z.scrollbarVisibility??1:2,horizontal:this.orientation===1?z.scrollbarVisibility??1:2},this.scrollable));const te=this._register(new I.f(this.viewContainer,"scroll")).event;this._register(te((L)=>{const W=this.scrollableElement.getScrollPosition(),B=Math.abs(this.viewContainer.scrollLeft-W.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,U=Math.abs(this.viewContainer.scrollTop-W.scrollTop)<=1?void 0:this.viewContainer.scrollTop;B===void 0&&U===void 0||this.scrollableElement.setScrollPosition({scrollLeft:B,scrollTop:U})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((L)=>{L.scrollTopChanged&&(this.viewContainer.scrollTop=L.scrollTop),L.scrollLeftChanged&&(this.viewContainer.scrollLeft=L.scrollLeft)})),s.BC(this.el,this.scrollableElement.getDomNode()),this.style(z.styles||p),z.descriptor&&(this.size=z.descriptor.size,z.descriptor.views.forEach((L,W)=>{const B=f.b0(L.visible)||L.visible?L.size:{type:"invisible",cachedVisibleSize:L.size},U=L.view;this.doAddView(U,B,W,!0)}),this._contentSize=this.viewItems.reduce((L,W)=>L+W.size,0),this.saveProportions())}style(P){P.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",P.separatorBorder.toString()))}addView(P,z,te=this.viewItems.length,L){this.doAddView(P,z,te,L)}layout(P,z){const te=Math.max(this.size,this._contentSize);if(this.size=P,this.layoutContext=z,this.proportions){let L=0;for(let W=0;W<this.viewItems.length;W++){const B=this.viewItems[W],U=this.proportions[W];typeof U=="number"?L+=U:P-=B.size}for(let W=0;W<this.viewItems.length;W++){const B=this.viewItems[W],U=this.proportions[W];typeof U=="number"&&L>0&&(B.size=C.qE(Math.round(U*P/L),B.minimumSize,B.maximumSize))}}else{const L=M.y1(this.viewItems.length),W=L.filter((U)=>this.viewItems[U].priority===1),B=L.filter((U)=>this.viewItems[U].priority===2);this.resize(this.viewItems.length-1,P-te,void 0,W,B)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map((P)=>P.proportionalLayout&&P.visible?P.size/this._contentSize:void 0))}onSashStart({sash:P,start:z,alt:te}){for(let U of this.viewItems)U.enabled=!1;const L=this.sashItems.findIndex((U)=>U.sash===P),W=w.qE(s.ko(this.el.ownerDocument.body,"keydown",(U)=>B(this.sashDragState.current,U.altKey)),s.ko(this.el.ownerDocument.body,"keyup",()=>B(this.sashDragState.current,!1))),B=(U,$)=>{const G=this.viewItems.map((V)=>V.size);let ie,ee,ne=Number.NEGATIVE_INFINITY,H=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&($=!$),$)if(L===this.sashItems.length-1){const V=this.viewItems[L];ne=(V.minimumSize-V.size)/2,H=(V.maximumSize-V.size)/2}else{const V=this.viewItems[L+1];ne=(V.size-V.maximumSize)/2,H=(V.size-V.minimumSize)/2}if(!$){const V=M.y1(L,-1),Y=M.y1(L+1,this.viewItems.length),ve=V.reduce((Je,Se)=>Je+(this.viewItems[Se].minimumSize-G[Se]),0),Te=V.reduce((Je,Se)=>Je+(this.viewItems[Se].viewMaximumSize-G[Se]),0),xe=Y.length===0?Number.POSITIVE_INFINITY:Y.reduce((Je,Se)=>Je+(G[Se]-this.viewItems[Se].minimumSize),0),Be=Y.length===0?Number.NEGATIVE_INFINITY:Y.reduce((Je,Se)=>Je+(G[Se]-this.viewItems[Se].viewMaximumSize),0),Ie=Math.max(ve,Be),he=Math.min(xe,Te),Q=this.findFirstSnapIndex(V),re=this.findFirstSnapIndex(Y);if(typeof Q=="number"){const Je=this.viewItems[Q],Se=Math.floor(Je.viewMinimumSize/2);ie={index:Q,limitDelta:Je.visible?Ie-Se:Ie+Se,size:Je.size}}if(typeof re=="number"){const Je=this.viewItems[re],Se=Math.floor(Je.viewMinimumSize/2);ee={index:re,limitDelta:Je.visible?he+Se:he-Se,size:Je.size}}}this.sashDragState={start:U,current:U,index:L,sizes:G,minDelta:ne,maxDelta:H,alt:$,snapBefore:ie,snapAfter:ee,disposable:W}};B(z,te)}onSashChange({current:P}){const{index:z,start:te,sizes:L,alt:W,minDelta:B,maxDelta:U,snapBefore:$,snapAfter:G}=this.sashDragState;this.sashDragState.current=P;const ie=P-te,ee=this.resize(z,ie,L,void 0,void 0,B,U,$,G);if(W){const ne=z===this.sashItems.length-1,H=this.viewItems.map((Be)=>Be.size),V=ne?z:z+1,Y=this.viewItems[V],ve=Y.size-Y.maximumSize,Te=Y.size-Y.minimumSize,xe=ne?z-1:z+1;this.resize(xe,-ee,H,void 0,void 0,ve,Te)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(P){this._onDidSashChange.fire(P),this.sashDragState.disposable.dispose(),this.saveProportions();for(let z of this.viewItems)z.enabled=!0}onViewChange(P,z){const te=this.viewItems.indexOf(P);te<0||te>=this.viewItems.length||(z=typeof z=="number"?z:P.size,z=C.qE(z,P.minimumSize,P.maximumSize),this.inverseAltBehavior&&te>0?(this.resize(te-1,Math.floor((P.size-z)/2)),this.distributeEmptySpace(),this.layoutViews()):(P.size=z,this.relayout([te],void 0)))}resizeView(P,z){if(!(P<0||P>=this.viewItems.length)){if(this.state!==x.Idle)throw new Error("Cant modify splitview");this.state=x.Busy;try{const te=M.y1(this.viewItems.length).filter((U)=>U!==P),L=[...te.filter((U)=>this.viewItems[U].priority===1),P],W=te.filter((U)=>this.viewItems[U].priority===2),B=this.viewItems[P];z=Math.round(z),z=C.qE(z,B.minimumSize,Math.min(B.maximumSize,this.size)),B.size=z,this.relayout(L,W)}finally{this.state=x.Idle}}}distributeViewSizes(){const P=[];let z=0;for(let U of this.viewItems)U.maximumSize-U.minimumSize>0&&(P.push(U),z+=U.size);const te=Math.floor(z/P.length);for(let U of P)U.size=C.qE(te,U.minimumSize,U.maximumSize);const L=M.y1(this.viewItems.length),W=L.filter((U)=>this.viewItems[U].priority===1),B=L.filter((U)=>this.viewItems[U].priority===2);this.relayout(W,B)}getViewSize(P){return P<0||P>=this.viewItems.length?-1:this.viewItems[P].size}doAddView(P,z,te=this.viewItems.length,L){if(this.state!==x.Idle)throw new Error("Cant modify splitview");this.state=x.Busy;try{const W=s.$(".split-view-view");te===this.viewItems.length?this.viewContainer.appendChild(W):this.viewContainer.insertBefore(W,this.viewContainer.children.item(te));const B=P.onDidChange((ne)=>this.onViewChange(ie,ne)),U=w.s(()=>W.remove()),$=w.qE(B,U);let G;typeof z=="number"?G=z:(z.type==="auto"&&(z=this.areViewsDistributed()?{type:"distribute"}:{type:"split",index:z.index}),G=z.type==="split"?this.getViewSize(z.index)/2:z.type==="invisible"?{cachedVisibleSize:z.cachedVisibleSize}:P.minimumSize);const ie=this.orientation===0?new m(W,P,G,$):new b(W,P,G,$);if(this.viewItems.splice(te,0,ie),this.viewItems.length>1){const ne={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},H=this.orientation===0?new T.m(this.sashContainer,{getHorizontalSashTop:(Q)=>this.getSashPosition(Q),getHorizontalSashWidth:this.getSashOrthogonalSize},{...ne,orientation:1}):new T.m(this.sashContainer,{getVerticalSashLeft:(Q)=>this.getSashPosition(Q),getVerticalSashHeight:this.getSashOrthogonalSize},{...ne,orientation:0}),V=this.orientation===0?(Q)=>({sash:H,start:Q.startY,current:Q.currentY,alt:Q.altKey}):(Q)=>({sash:H,start:Q.startX,current:Q.currentX,alt:Q.altKey}),Y=E.Jh.map(H.onDidStart,V)(this.onSashStart,this),ve=E.Jh.map(H.onDidChange,V)(this.onSashChange,this),Te=E.Jh.map(H.onDidEnd,()=>this.sashItems.findIndex((Q)=>Q.sash===H)),xe=Te(this.onSashEnd,this),Be=H.onDidReset(()=>{const Q=this.sashItems.findIndex((Le)=>Le.sash===H),re=M.y1(Q,-1),Je=M.y1(Q+1,this.viewItems.length),Se=this.findFirstSnapIndex(re),Pe=this.findFirstSnapIndex(Je);(typeof Se!="number"||this.viewItems[Se].visible)&&(typeof Pe!="number"||this.viewItems[Pe].visible)&&this._onDidSashReset.fire(Q)}),Ie=w.qE(Y,ve,xe,Be,H),he={sash:H,disposable:Ie};this.sashItems.splice(te-1,0,he)}let ee;W.appendChild(P.element),typeof z!="number"&&z.type==="split"&&(ee=[z.index]),L||this.relayout([te],ee),L||typeof z=="number"||z.type!=="distribute"||this.distributeViewSizes()}finally{this.state=x.Idle}}relayout(P,z){const te=this.viewItems.reduce((L,W)=>L+W.size,0);this.resize(this.viewItems.length-1,this.size-te,void 0,P,z),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(P,z,te=this.viewItems.map((ie)=>ie.size),L,W,B=Number.NEGATIVE_INFINITY,U=Number.POSITIVE_INFINITY,$,G){if(P<0||P>=this.viewItems.length)return 0;const ie=M.y1(P,-1),ee=M.y1(P+1,this.viewItems.length);if(W)for(let re of W)M._A(ie,re),M._A(ee,re);if(L)for(let re of L)M.r7(ie,re),M.r7(ee,re);const ne=ie.map((re)=>this.viewItems[re]),H=ie.map((re)=>te[re]),V=ee.map((re)=>this.viewItems[re]),Y=ee.map((re)=>te[re]),ve=ie.reduce((re,Je)=>re+(this.viewItems[Je].minimumSize-te[Je]),0),Te=ie.reduce((re,Je)=>re+(this.viewItems[Je].maximumSize-te[Je]),0),xe=ee.length===0?Number.POSITIVE_INFINITY:ee.reduce((re,Je)=>re+(te[Je]-this.viewItems[Je].minimumSize),0),Be=ee.length===0?Number.NEGATIVE_INFINITY:ee.reduce((re,Je)=>re+(te[Je]-this.viewItems[Je].maximumSize),0),Ie=Math.max(ve,Be,B),he=Math.min(xe,Te,U);let Q=!1;if($){const re=this.viewItems[$.index],Je=z>=$.limitDelta;Q=Je!==re.visible,re.setVisible(Je,$.size)}if(!Q&&G){const re=this.viewItems[G.index],Je=z<G.limitDelta;Q=Je!==re.visible,re.setVisible(Je,G.size)}if(Q)return this.resize(P,z,te,L,W,B,U);for(let re=0,Je=z=C.qE(z,Ie,he);re<ne.length;re++){const Se=ne[re],Pe=C.qE(H[re]+Je,Se.minimumSize,Se.maximumSize);Je-=Pe-H[re],Se.size=Pe}for(let re=0,Je=z;re<V.length;re++){const Se=V[re],Pe=C.qE(Y[re]-Je,Se.minimumSize,Se.maximumSize);Je+=Pe-Y[re],Se.size=Pe}return z}distributeEmptySpace(P){const z=this.viewItems.reduce((U,$)=>U+$.size,0);let te=this.size-z;const L=M.y1(this.viewItems.length-1,-1),W=L.filter((U)=>this.viewItems[U].priority===1),B=L.filter((U)=>this.viewItems[U].priority===2);for(let U of B)M._A(L,U);for(let U of W)M.r7(L,U);typeof P=="number"&&M.r7(L,P);for(let U=0;te!==0&&U<L.length;U++){const $=this.viewItems[L[U]],G=C.qE($.size+te,$.minimumSize,$.maximumSize);te-=G-$.size,$.size=G}}layoutViews(){this._contentSize=this.viewItems.reduce((z,te)=>z+te.size,0);let P=0;for(let z of this.viewItems)z.layout(P,this.layoutContext),P+=z.size;this.sashItems.forEach((z)=>z.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let P=!1;const z=this.viewItems.map(($)=>P=$.size-$.minimumSize>0||P);P=!1;const te=this.viewItems.map(($)=>P=$.maximumSize-$.size>0||P),L=[...this.viewItems].reverse();P=!1;const W=L.map(($)=>P=$.size-$.minimumSize>0||P).reverse();P=!1;const B=L.map(($)=>P=$.maximumSize-$.size>0||P).reverse();let U=0;for(let $=0;$<this.sashItems.length;$++){const{sash:G}=this.sashItems[$];U+=this.viewItems[$].size;const ie=!(z[$]&&B[$+1]),ee=!(te[$]&&W[$+1]);if(ie&&ee){const ne=M.y1($,-1),H=M.y1($+1,this.viewItems.length),V=this.findFirstSnapIndex(ne),Y=this.findFirstSnapIndex(H),ve=typeof V=="number"&&!this.viewItems[V].visible,Te=typeof Y=="number"&&!this.viewItems[Y].visible;ve&&W[$]&&(U>0||this.startSnappingEnabled)?G.state=1:Te&&z[$]&&(U<this._contentSize||this.endSnappingEnabled)?G.state=2:G.state=0}else G.state=ie&&!ee?1:!ie&&ee?2:3}}getSashPosition(P){let z=0;for(let te=0;te<this.sashItems.length;te++)if(z+=this.viewItems[te].size,this.sashItems[te].sash===P)return z;return 0}findFirstSnapIndex(P){for(let z of P){const te=this.viewItems[z];if(te.visible&&te.snap)return z}for(let z of P){const te=this.viewItems[z];if(te.visible&&te.maximumSize-te.minimumSize>0)return;if(!te.visible&&te.snap)return z}}areViewsDistributed(){let P,z;for(let te of this.viewItems)if(P=P===void 0?te.size:Math.min(P,te.size),z=z===void 0?te.size:Math.max(z,te.size),z-P>2)return!1;return!0}dispose(){this.sashDragState?.disposable.dispose(),w.AS(this.viewItems),this.viewItems=[],this.sashItems.forEach((P)=>P.disposable.dispose()),this.sashItems=[],super.dispose()}}},585:(dt,pe,h)=>{h.d(pe,{F:()=>v,l:()=>E});var s=h(5222),I=h(8881),T=h(2106),J=h(5568),M=h(396);const v={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class E extends s.x{constructor(w){super(),this._onChange=this._register(new T.vl),this.onChange=this._onChange.event,this._onKeyDown=this._register(new T.vl),this.onKeyDown=this._onKeyDown.event,this._opts=w,this._checked=this._opts.isChecked;const C=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,C.push(...I.L.asClassNameArray(this._icon))),this._opts.actionClassName&&C.push(...this._opts.actionClassName.split(" ")),this._checked&&C.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register(M.i().setupManagedHover(w.hoverDelegate??J.nZ("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...C),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(d)=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),d.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,(d)=>{if(d.keyCode===10||d.keyCode===3)return this.checked=!this._checked,this._onChange.fire(!0),d.preventDefault(),void d.stopPropagation();this._onKeyDown.fire(d)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(w){this._checked=w,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},3043:(dt,pe,h)=>{h.d(pe,{DO:()=>Ve,KP:()=>s,RD:()=>T,vD:()=>I,w0:()=>ie});var s,I,T,J=h(4333),M=(h(4061),h(7594)),v=(h(7439),h(6595),h(9004)),E=h(3022),w=h(5573),C=h(585),d=h(1272),f=h(7757),p=(h(7969),h(3338)),_=h(5958),m=h(5915),b=h(8881),x=h(7992),k=h(2106),R=h(5637),P=h(998),z=h(2992),te=h(9359),L=h(9746),W=(h(5568),h(6311)),B=h(9407);class U extends E.ur{constructor(g){super(g.elements.map((ge)=>ge.element)),this.data=g}}function $(g){return g instanceof E.ur?new U(g):g}class G{constructor(g,ge){this.modelProvider=g,this.dnd=ge,this.autoExpandDisposable=P.jG.None,this.disposables=new P.Cm}getDragURI(g){return this.dnd.getDragURI(g.element)}getDragLabel(g,ge){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(g.map((We)=>We.element),ge)}onDragStart(g,ge){this.dnd.onDragStart?.($(g),ge)}onDragOver(g,ge,We,de,be,ae=!0){const O=this.dnd.onDragOver($(g),ge&&ge.element,We,de,be),Ue=this.autoExpandNode!==ge;if(Ue&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=ge),ge===void 0)return O;if(Ue&&typeof O!="boolean"&&O.autoExpand&&(this.autoExpandDisposable=_.EQ(()=>{const lt=this.modelProvider(),ye=lt.getNodeLocation(ge);lt.isCollapsed(ye)&&lt.setCollapsed(ye,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof O=="boolean"||!O.accept||O.bubble===void 0||O.feedback)return ae?O:{accept:typeof O=="boolean"?O:O.accept,effect:typeof O=="boolean"?void 0:O.effect,feedback:[We]};if(O.bubble===1){const lt=this.modelProvider(),ye=lt.getNodeLocation(ge),pt=lt.getParentNodeLocation(ye),Mt=lt.getNode(pt),Zt=pt&&lt.getListIndex(pt);return this.onDragOver(g,Mt,Zt,de,be,!1)}const Ye=this.modelProvider(),Fe=Ye.getNodeLocation(ge),oe=Ye.getListIndex(Fe),rt=Ye.getListRenderCount(Fe);return{...O,feedback:p.y1(oe,oe+rt)}}drop(g,ge,We,de,be){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop($(g),ge&&ge.element,We,de,be)}onDragEnd(g){this.dnd.onDragEnd?.(g)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}class ie{constructor(g){this.delegate=g}getHeight(g){return this.delegate.getHeight(g.element)}getTemplateId(g){return this.delegate.getTemplateId(g.element)}hasDynamicHeight(g){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(g.element)}setDynamicHeight(g,ge){this.delegate.setDynamicHeight?.(g.element,ge)}}(function(g){g.None="none",g.OnHover="onHover",g.Always="always"})(s||(s={}));class ee{get elements(){return this._elements}constructor(g,ge=[]){this._elements=ge,this.disposables=new P.Cm,this.onDidChange=k.Jh.forEach(g,(We)=>this._elements=We,this.disposables)}dispose(){this.disposables.dispose()}}class ne{static{this.DefaultIndent=8}constructor(g,ge,We,de,be,ae={}){this.renderer=g,this.modelProvider=ge,this.activeNodes=de,this.renderedIndentGuides=be,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=ne.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=P.jG.None,this.disposables=new P.Cm,this.templateId=g.templateId,this.updateOptions(ae),k.Jh.map(We,(O)=>O.node)(this.onDidChangeNodeTwistieState,this,this.disposables),g.onDidChangeTwistieState?.(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(g={}){if(g.indent!==void 0){const ge=z.qE(g.indent,0,40);if(ge!==this.indent){this.indent=ge;for(let[We,de]of this.renderedNodes)this.renderTreeElement(We,de)}}if(g.renderIndentGuides!==void 0){const ge=g.renderIndentGuides!==s.None;if(ge!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=ge;for(let[We,de]of this.renderedNodes)this._renderIndentGuides(We,de);if(this.indentGuidesDisposable.dispose(),ge){const We=new P.Cm;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,We),this.indentGuidesDisposable=We,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}g.hideTwistiesOfChildlessElements!==void 0&&(this.hideTwistiesOfChildlessElements=g.hideTwistiesOfChildlessElements)}renderTemplate(g){const ge=J.BC(g,J.$(".monaco-tl-row")),We=J.BC(ge,J.$(".monaco-tl-indent")),de=J.BC(ge,J.$(".monaco-tl-twistie")),be=J.BC(ge,J.$(".monaco-tl-contents")),ae=this.renderer.renderTemplate(be);return{container:g,indent:We,twistie:de,indentGuidesDisposable:P.jG.None,templateData:ae}}renderElement(g,ge,We,de){this.renderedNodes.set(g,We),this.renderedElements.set(g.element,g),this.renderTreeElement(g,We),this.renderer.renderElement(g,ge,We.templateData,de)}disposeElement(g,ge,We,de){We.indentGuidesDisposable.dispose(),this.renderer.disposeElement?.(g,ge,We.templateData,de),typeof de=="number"&&(this.renderedNodes.delete(g),this.renderedElements.delete(g.element))}disposeTemplate(g){this.renderer.disposeTemplate(g.templateData)}onDidChangeTwistieState(g){const ge=this.renderedElements.get(g);ge&&this.onDidChangeNodeTwistieState(ge)}onDidChangeNodeTwistieState(g){const ge=this.renderedNodes.get(g);ge&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(g,ge))}renderTreeElement(g,ge){const We=ne.DefaultIndent+(g.depth-1)*this.indent;ge.twistie.style.paddingLeft=`${We}px`,ge.indent.style.width=We+this.indent-16+"px",g.collapsible?ge.container.setAttribute("aria-expanded",String(!g.collapsed)):ge.container.removeAttribute("aria-expanded"),ge.twistie.classList.remove(...b.L.asClassNameArray(m.W.treeItemExpanded));let de=!1;this.renderer.renderTwistie&&(de=this.renderer.renderTwistie(g.element,ge.twistie)),g.collapsible&&(!this.hideTwistiesOfChildlessElements||g.visibleChildrenCount>0)?(de||ge.twistie.classList.add(...b.L.asClassNameArray(m.W.treeItemExpanded)),ge.twistie.classList.add("collapsible"),ge.twistie.classList.toggle("collapsed",g.collapsed)):ge.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(g,ge)}_renderIndentGuides(g,ge){if(J.w_(ge.indent),ge.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const We=new P.Cm,de=this.modelProvider();for(;;){const be=de.getNodeLocation(g),ae=de.getParentNodeLocation(be);if(!ae)break;const O=de.getNode(ae),Ue=J.$(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(O)&&Ue.classList.add("active"),ge.indent.childElementCount===0?ge.indent.appendChild(Ue):ge.indent.insertBefore(Ue,ge.indent.firstElementChild),this.renderedIndentGuides.add(O,Ue),We.add(P.s(()=>this.renderedIndentGuides.delete(O,Ue))),g=O}ge.indentGuidesDisposable=We}_onDidChangeActiveNodes(g){if(!this.shouldRenderIndentGuides)return;const ge=new Set,We=this.modelProvider();g.forEach((de)=>{const be=We.getNodeLocation(de);try{const ae=We.getParentNodeLocation(be);de.collapsible&&de.children.length>0&&!de.collapsed?ge.add(de):ae&&ge.add(We.getNode(ae))}catch{}}),this.activeIndentNodes.forEach((de)=>{ge.has(de)||this.renderedIndentGuides.forEach(de,(be)=>be.classList.remove("active"))}),ge.forEach((de)=>{this.activeIndentNodes.has(de)||this.renderedIndentGuides.forEach(de,(be)=>be.classList.add("active"))}),this.activeIndentNodes=ge}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),P.AS(this.disposables)}}class H{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(g,ge,We){this.tree=g,this.keyboardNavigationLabelProvider=ge,this._filter=We,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new P.Cm,g.onWillRefilter(this.reset,this,this.disposables)}filter(g,ge){let We=1;if(this._filter){const ae=this._filter.filter(g,ge);if(We=typeof ae=="boolean"?ae?1:0:d.iZ(ae)?d.Mn(ae.visibility):ae,We===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:R.ne.Default,visibility:We};const de=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(g),be=Array.isArray(de)?de:[de];for(let ae of be){const O=ae&&ae.toString();if(O===void 0)return{data:R.ne.Default,visibility:We};let Ue;if(this.tree.findMatchType===T.Contiguous){const Ye=O.toLowerCase().indexOf(this._lowercasePattern);if(Ye>-1){Ue=[Number.MAX_SAFE_INTEGER,0];for(let Fe=this._lowercasePattern.length;Fe>0;Fe--)Ue.push(Ye+Fe-1)}}else Ue=R.dt(this._pattern,this._lowercasePattern,0,O,O.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Ue)return this._matchCount++,be.length===1?{data:Ue,visibility:We}:{data:{label:O,score:Ue},visibility:We}}return this.tree.findMode===I.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(g):2:{data:R.ne.Default,visibility:We}}reset(){this._totalCount=0,this._matchCount=0}dispose(){P.AS(this.disposables)}}C.l,C.l,v.x8,C.F,function(g){g[g.Highlight=0]="Highlight",g[g.Filter=1]="Filter"}(I||(I={})),function(g){g[g.Fuzzy=0]="Fuzzy",g[g.Contiguous=1]="Contiguous"}(T||(T={})),P.jG;class V{get pattern(){return this._pattern}get mode(){return this._mode}set mode(g){g!==this._mode&&(this._mode=g,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(g))}get matchType(){return this._matchType}set matchType(g){g!==this._matchType&&(this._matchType=g,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(g))}constructor(g,ge,We,de,be,ae={}){this.tree=g,this.view=We,this.filter=de,this.contextViewProvider=be,this.options=ae,this._pattern="",this.width=0,this._onDidChangeMode=new k.vl,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new k.vl,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new k.vl,this._onDidChangeOpenState=new k.vl,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new P.Cm,this.disposables=new P.Cm,this._mode=g.options.defaultFindMode??I.Highlight,this._matchType=g.options.defaultFindMatchType??T.Fuzzy,ge.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(g={}){g.defaultFindMode!==void 0&&(this.mode=g.defaultFindMode),g.defaultFindMatchType!==void 0&&(this.matchType=g.defaultFindMatchType)}onDidSpliceModel(){this.widget&&this.pattern.length!==0&&(this.tree.refilter(),this.render())}render(){const g=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&g?(B.xE(L.kg("replFindNoResults","No results")),this.tree.options.showNotFoundMessage??1?this.widget?.showMessage({type:2,content:L.kg("not found","No elements found.")}):this.widget?.showMessage({type:2})):(this.widget?.clearMessage(),this.pattern&&B.xE(L.kg("replFindResults","{0} results",this.filter.matchCount)))}shouldAllowFocus(g){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1||!R.ne.isDefault(g.filterData)}layout(g){this.width=g,this.widget?.layout(g)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function Y(g,ge){return g.position===ge.position&&ve(g,ge)}function ve(g,ge){return g.node.element===ge.node.element&&g.startIndex===ge.startIndex&&g.height===ge.height&&g.endIndex===ge.endIndex}class Te{constructor(g=[]){this.stickyNodes=g}get count(){return this.stickyNodes.length}equal(g){return p.aI(this.stickyNodes,g.stickyNodes,Y)}lastNodePartiallyVisible(){if(this.count===0)return!1;const g=this.stickyNodes[this.count-1];if(this.count===1)return g.position!==0;const ge=this.stickyNodes[this.count-2];return ge.position+ge.height!==g.position}animationStateChanged(g){if(!p.aI(this.stickyNodes,g.stickyNodes,ve))return!1;if(this.count===0)return!1;const ge=this.stickyNodes[this.count-1],We=g.stickyNodes[g.count-1];return ge.position!==We.position}}class xe{constrainStickyScrollNodes(g,ge,We){for(let de=0;de<g.length;de++){const be=g[de];if(be.position+be.height>We||de>=ge)return g.slice(0,de)}return g}}class Be extends P.jG{constructor(g,ge,We,de,be,ae={}){super(),this.tree=g,this.model=ge,this.view=We,this.treeDelegate=be,this.maxWidgetViewRatio=0.4;const O=this.validateStickySettings(ae);this.stickyScrollMaxItemCount=O.stickyScrollMaxItemCount,this.stickyScrollDelegate=ae.stickyScrollDelegate??new xe,this._widget=this._register(new Ie(We.getScrollableElement(),We,g,de,be,ae.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(We.onDidScroll(()=>this.update())),this._register(We.onDidChangeContentHeight(()=>this.update())),this._register(g.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(g){let ge;if(ge=g===0?this.view.firstVisibleIndex:this.view.indexAt(g+this.view.scrollTop),!(ge<0||ge>=this.view.length))return this.view.element(ge)}update(){const g=this.getNodeAtHeight(0);if(!g||this.tree.scrollTop===0)return void this._widget.setState(void 0);const ge=this.findStickyState(g);this._widget.setState(ge)}findStickyState(g){const ge=[];let We=g,de=0,be=this.getNextStickyNode(We,void 0,de);for(;be&&(ge.push(be),de+=be.height,!(ge.length<=this.stickyScrollMaxItemCount)||(We=this.getNextVisibleNode(be),We));)be=this.getNextStickyNode(We,be.node,de);const ae=this.constrainStickyNodes(ge);return ae.length?new Te(ae):void 0}getNextVisibleNode(g){return this.getNodeAtHeight(g.position+g.height)}getNextStickyNode(g,ge,We){const de=this.getAncestorUnderPrevious(g,ge);if(de){if(de===g){if(!this.nodeIsUncollapsedParent(g))return;if(this.nodeTopAlignsWithStickyNodesBottom(g,We))return}return this.createStickyScrollNode(de,We)}}nodeTopAlignsWithStickyNodesBottom(g,ge){const We=this.getNodeIndex(g),de=this.view.getElementTop(We),be=ge;return this.view.scrollTop===de-be}createStickyScrollNode(g,ge){const We=this.treeDelegate.getHeight(g),{startIndex:de,endIndex:be}=this.getNodeRange(g);return{node:g,position:this.calculateStickyNodePosition(be,ge,We),height:We,startIndex:de,endIndex:be}}getAncestorUnderPrevious(g,ge=void 0){let We=g,de=this.getParentNode(We);for(;de;){if(de===ge)return We;We=de,de=this.getParentNode(We)}if(ge===void 0)return We}calculateStickyNodePosition(g,ge,We){let de=this.view.getRelativeTop(g);if(de===null&&this.view.firstVisibleIndex===g&&g+1<this.view.length){const Ue=this.treeDelegate.getHeight(this.view.element(g)),Ye=this.view.getRelativeTop(g+1);de=Ye?Ye-Ue/this.view.renderHeight:null}if(de===null)return ge;const be=this.view.element(g),ae=this.treeDelegate.getHeight(be),O=de*this.view.renderHeight+ae;return ge+We>O&&ge<=O?O-We:ge}constrainStickyNodes(g){if(g.length===0)return[];const ge=this.view.renderHeight*this.maxWidgetViewRatio,We=g[g.length-1];if(g.length<=this.stickyScrollMaxItemCount&&We.position+We.height<=ge)return g;const de=this.stickyScrollDelegate.constrainStickyScrollNodes(g,this.stickyScrollMaxItemCount,ge);if(!de.length)return[];const be=de[de.length-1];if(de.length>this.stickyScrollMaxItemCount||be.position+be.height>ge)throw new Error("stickyScrollDelegate violates constraints");return de}getParentNode(g){const ge=this.model.getNodeLocation(g),We=this.model.getParentNodeLocation(ge);return We?this.model.getNode(We):void 0}nodeIsUncollapsedParent(g){const ge=this.model.getNodeLocation(g);return this.model.getListRenderCount(ge)>1}getNodeIndex(g){const ge=this.model.getNodeLocation(g);return this.model.getListIndex(ge)}getNodeRange(g){const ge=this.model.getNodeLocation(g),We=this.model.getListIndex(ge);if(We<0)throw new Error("Node not found in tree");return{startIndex:We,endIndex:We+this.model.getListRenderCount(ge)-1}}nodePositionTopBelowWidget(g){const ge=[];let We=this.getParentNode(g);for(;We;)ge.push(We),We=this.getParentNode(We);let de=0;for(let be=0;be<ge.length&&be<this.stickyScrollMaxItemCount;be++)de+=this.treeDelegate.getHeight(ge[be]);return de}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(g={}){if(!g.stickyScrollMaxItemCount)return;const ge=this.validateStickySettings(g);this.stickyScrollMaxItemCount!==ge.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=ge.stickyScrollMaxItemCount,this.update())}validateStickySettings(g){let ge=7;return typeof g.stickyScrollMaxItemCount=="number"&&(ge=Math.max(g.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:ge}}}class Ie{constructor(g,ge,We,de,be,ae){this.view=ge,this.tree=We,this.treeRenderers=de,this.treeDelegate=be,this.accessibilityProvider=ae,this._previousElements=[],this._previousStateDisposables=new P.Cm,this._rootDomNode=J.$(".monaco-tree-sticky-container.empty"),g.appendChild(this._rootDomNode);const O=J.$(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(O),this.stickyScrollFocus=new he(this._rootDomNode,ge),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const g=this._previousState.stickyNodes[this._previousState.count-1];return g.position+g.height}setState(g){const ge=!!this._previousState&&this._previousState.count>0,We=!!g&&g.count>0;if(!ge&&!We||ge&&We&&this._previousState.equal(g))return;if(ge!==We&&this.setVisible(We),!We)return this._previousState=void 0,this._previousElements=[],void this._previousStateDisposables.clear();const de=g.stickyNodes[g.count-1];if(this._previousState&&g.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${de.position}px`;else{this._previousStateDisposables.clear();const be=Array(g.count);for(let ae=g.count-1;ae>=0;ae--){const O=g.stickyNodes[ae],{element:Ue,disposable:Ye}=this.createElement(O,ae,g.count);be[ae]=Ue,this._rootDomNode.appendChild(Ue),this._previousStateDisposables.add(Ye)}this.stickyScrollFocus.updateElements(be,g),this._previousElements=be}this._previousState=g,this._rootDomNode.style.height=`${de.position+de.height}px`}createElement(g,ge,We){const de=g.startIndex,be=document.createElement("div");be.style.top=`${g.position}px`,this.tree.options.setRowHeight!==!1&&(be.style.height=`${g.height}px`),this.tree.options.setRowLineHeight!==!1&&(be.style.lineHeight=`${g.height}px`),be.classList.add("monaco-tree-sticky-row"),be.classList.add("monaco-list-row"),be.setAttribute("data-index",`${de}`),be.setAttribute("data-parity",de%2==0?"even":"odd"),be.setAttribute("id",this.view.getElementID(de));const ae=this.setAccessibilityAttributes(be,g.node.element,ge,We),O=this.treeDelegate.getTemplateId(g.node),Ue=this.treeRenderers.find((rt)=>rt.templateId===O);if(!Ue)throw new Error(`No renderer found for template id ${O}`);let Ye=g.node;Ye===this.tree.getNode(this.tree.getNodeLocation(g.node))&&(Ye=new Proxy(g.node,{}));const Fe=Ue.renderTemplate(be);Ue.renderElement(Ye,g.startIndex,Fe,g.height);const oe=P.s(()=>{ae.dispose(),Ue.disposeElement(Ye,g.startIndex,Fe,g.height),Ue.disposeTemplate(Fe),be.remove()});return{element:be,disposable:oe}}setAccessibilityAttributes(g,ge,We,de){if(!this.accessibilityProvider)return P.jG.None;this.accessibilityProvider.getSetSize&&g.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(ge,We,de))),this.accessibilityProvider.getPosInSet&&g.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(ge,We))),this.accessibilityProvider.getRole&&g.setAttribute("role",this.accessibilityProvider.getRole(ge)??"treeitem");const be=this.accessibilityProvider.getAriaLabel(ge),ae=be&&typeof be!="string"?be:W.lk(be),O=W.fm((Ye)=>{const Fe=Ye.readObservable(ae);Fe?g.setAttribute("aria-label",Fe):g.removeAttribute("aria-label")});typeof be=="string"||be&&g.setAttribute("aria-label",be.get());const Ue=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ge);return typeof Ue=="number"&&g.setAttribute("aria-level",`${Ue}`),g.setAttribute("aria-selected",String(!1)),O}setVisible(g){this._rootDomNode.classList.toggle("empty",!g),g||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class he extends P.jG{get domHasFocus(){return this._domHasFocus}set domHasFocus(g){g!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(g),this._domHasFocus=g)}constructor(g,ge){super(),this.container=g,this.view=ge,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new k.vl,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new k.vl,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this._register(J.ko(this.container,"focus",()=>this.onFocus())),this._register(J.ko(this.container,"blur",()=>this.onBlur())),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown((We)=>this.onKeyDown(We))),this._register(this.view.onMouseDown((We)=>this.onMouseDown(We))),this._register(this.view.onContextMenu((We)=>this.handleContextMenu(We)))}handleContextMenu(g){const ge=g.browserEvent.target;if(!w.Es(ge)&&!w.xu(ge))return void(this.focusedLast()&&this.view.domFocus());if(!J.kx(g.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const be=this.state.stickyNodes.findIndex((ae)=>ae.node.element===g.element?.element);if(be===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");return this.container.focus(),void this.setFocus(be)}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const We=this.state.stickyNodes[this.focusedIndex].node.element,de=this.elements[this.focusedIndex];this._onContextMenu.fire({element:We,anchor:de,browserEvent:g.browserEvent,isStickyScroll:!0})}onKeyDown(g){if(this.domHasFocus&&this.state){if(g.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),g.preventDefault(),g.stopPropagation();else if(g.key==="ArrowDown"||g.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const ge=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([ge]),this.scrollNodeUnderWidget(ge,this.state)}else this.setFocusedElement(this.focusedIndex+1);g.preventDefault(),g.stopPropagation()}}}onMouseDown(g){const ge=g.browserEvent.target;(w.Es(ge)||w.xu(ge))&&(g.browserEvent.preventDefault(),g.browserEvent.stopPropagation())}updateElements(g,ge){if(ge&&ge.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(ge&&ge.count!==g.length)throw new Error("Sticky scroll focus received illigel state");const We=this.focusedIndex;if(this.removeFocus(),this.elements=g,this.state=ge,ge){const de=z.qE(We,0,ge.count-1);this.setFocus(de)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=ge?0:-1}setFocusedElement(g){const ge=this.state;if(!ge)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(g),!(g<ge.count-1)&&ge.lastNodePartiallyVisible()){const We=ge.stickyNodes[g];this.scrollNodeUnderWidget(We.endIndex+1,ge)}}scrollNodeUnderWidget(g,ge){const We=ge.stickyNodes[ge.count-1],de=ge.count>1?ge.stickyNodes[ge.count-2]:void 0,be=this.view.getElementTop(g),ae=de?de.position+de.height+We.height:We.height;this.view.scrollTop=be-ae}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return!!this.state&&this.view.getHTMLElement().classList.contains("sticky-scroll-focused")}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(g){if(0>g)throw new Error("addFocus() can not remove focus");if(!this.state&&g>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&g>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const ge=this.focusedIndex;ge>=0&&this.toggleElementFocus(this.elements[ge],!1),g>=0&&this.toggleElementFocus(this.elements[g],!0),this.focusedIndex=g}toggleElementFocus(g,ge){this.toggleElementActiveFocus(g,ge&&this.domHasFocus),this.toggleElementPassiveFocus(g,ge)}toggleCurrentElementActiveFocus(g){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],g)}toggleElementActiveFocus(g,ge){g.classList.toggle("focused",ge)}toggleElementPassiveFocus(g,ge){g.classList.toggle("passive-focused",ge)}toggleStickyScrollFocused(g){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",g)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function Q(g){let ge=f.Lx.Unknown;return J.XD(g.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?ge=f.Lx.Twistie:J.XD(g.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?ge=f.Lx.Element:J.XD(g.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(ge=f.Lx.Filter),{browserEvent:g.browserEvent,element:g.element?g.element.element:null,target:ge}}function re(g){const ge=w.Es(g.browserEvent.target);return{element:g.element?g.element.element:null,browserEvent:g.browserEvent,anchor:g.anchor,isStickyScroll:ge}}function Je(g,ge){ge(g),g.children.forEach((We)=>Je(We,ge))}class Se{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(g,ge){this.getFirstViewElementWithTrait=g,this.identityProvider=ge,this.nodes=[],this._onDidChange=new k.vl,this.onDidChange=this._onDidChange.event}set(g,ge){!ge?.__forceEvent&&p.aI(this.nodes,g)||this._set(g,!1,ge)}_set(g,ge,We){if(this.nodes=[...g],this.elements=void 0,this._nodeSet=void 0,!ge){const de=this;this._onDidChange.fire({get elements(){return de.get()},browserEvent:We})}}get(){return this.elements||(this.elements=this.nodes.map((g)=>g.element)),[...this.elements]}getNodes(){return this.nodes}has(g){return this.nodeSet.has(g)}onDidModelSplice({insertedNodes:g,deletedNodes:ge}){if(!this.identityProvider){const Ue=this.createNodeSet(),Ye=(Fe)=>Ue.delete(Fe);return ge.forEach((Fe)=>Je(Fe,Ye)),void this.set([...Ue.values()])}const We=new Set,de=(Ue)=>We.add(this.identityProvider.getId(Ue.element).toString());ge.forEach((Ue)=>Je(Ue,de));const be=new Map,ae=(Ue)=>be.set(this.identityProvider.getId(Ue.element).toString(),Ue);g.forEach((Ue)=>Je(Ue,ae));const O=[];for(let Ue of this.nodes){const Ye=this.identityProvider.getId(Ue.element).toString();if(We.has(Ye)){const Fe=be.get(Ye);Fe&&Fe.visible&&O.push(Fe)}else O.push(Ue)}if(this.nodes.length>0&&O.length===0){const Ue=this.getFirstViewElementWithTrait();Ue&&O.push(Ue)}this._set(O,!0)}createNodeSet(){const g=new Set;for(let ge of this.nodes)g.add(ge);return g}}class Pe extends w.MH{constructor(g,ge,We){super(g),this.tree=ge,this.stickyScrollProvider=We}onViewPointer(g){if(w.Bm(g.browserEvent.target)||w.B6(g.browserEvent.target)||w.bm(g.browserEvent.target))return;if(g.browserEvent.isHandledByList)return;const ge=g.element;if(!ge)return super.onViewPointer(g);if(this.isSelectionRangeChangeEvent(g)||this.isSelectionSingleChangeEvent(g))return super.onViewPointer(g);const We=g.browserEvent.target,de=We.classList.contains("monaco-tl-twistie")||We.classList.contains("monaco-icon-label")&&We.classList.contains("folder-icon")&&g.browserEvent.offsetX<16,be=w.xu(g.browserEvent.target);let ae=!1;if(ae=!!be||(typeof this.tree.expandOnlyOnTwistieClick=="function"?this.tree.expandOnlyOnTwistieClick(ge.element):!!this.tree.expandOnlyOnTwistieClick),be)this.handleStickyScrollMouseEvent(g,ge);else{if(ae&&!de&&g.browserEvent.detail!==2)return super.onViewPointer(g);if(!this.tree.expandOnDoubleClick&&g.browserEvent.detail===2)return super.onViewPointer(g)}if(ge.collapsible&&(!be||de)){const O=this.tree.getNodeLocation(ge),Ue=g.browserEvent.altKey;if(this.tree.setFocus([O]),this.tree.toggleCollapsed(O,Ue),de)return void(g.browserEvent.isHandledByList=!0)}be||super.onViewPointer(g)}handleStickyScrollMouseEvent(g,ge){if(w.b$(g.browserEvent.target)||w.W0(g.browserEvent.target))return;const We=this.stickyScrollProvider();if(!We)throw new Error("Sticky scroll controller not found");const de=this.list.indexOf(ge),be=this.list.getElementTop(de),ae=We.nodePositionTopBelowWidget(ge);this.tree.scrollTop=be-ae,this.list.domFocus(),this.list.setFocus([de]),this.list.setSelection([de])}onDoubleClick(g){!g.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&(g.browserEvent.isHandledByList||super.onDoubleClick(g))}onMouseDown(g){const ge=g.browserEvent.target;w.Es(ge)||w.xu(ge)||super.onMouseDown(g)}onContextMenu(g){const ge=g.browserEvent.target;w.Es(ge)||w.xu(ge)||super.onContextMenu(g)}}class Le extends w.B8{constructor(g,ge,We,de,be,ae,O,Ue){super(g,ge,We,de,Ue),this.focusTrait=be,this.selectionTrait=ae,this.anchorTrait=O}createMouseController(g){return new Pe(this,g.tree,g.stickyScrollProvider)}splice(g,ge,We=[]){if(super.splice(g,ge,We),We.length===0)return;const de=[],be=[];let ae;We.forEach((O,Ue)=>{this.focusTrait.has(O)&&de.push(g+Ue),this.selectionTrait.has(O)&&be.push(g+Ue),this.anchorTrait.has(O)&&(ae=g+Ue)}),de.length>0&&super.setFocus(p.dM([...super.getFocus(),...de])),be.length>0&&super.setSelection(p.dM([...super.getSelection(),...be])),typeof ae=="number"&&super.setAnchor(ae)}setFocus(g,ge,We=!1){super.setFocus(g,ge),We||this.focusTrait.set(g.map((de)=>this.element(de)),ge)}setSelection(g,ge,We=!1){super.setSelection(g,ge),We||this.selectionTrait.set(g.map((de)=>this.element(de)),ge)}setAnchor(g,ge=!1){super.setAnchor(g),ge||(g===void 0?this.anchorTrait.set([]):this.anchorTrait.set([this.element(g)]))}}class Ve{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return k.Jh.filter(k.Jh.map(this.view.onMouseDblClick,Q),(g)=>g.target!==f.Lx.Filter)}get onMouseOver(){return k.Jh.map(this.view.onMouseOver,Q)}get onMouseOut(){return k.Jh.map(this.view.onMouseOut,Q)}get onContextMenu(){return k.Jh.any(k.Jh.filter(k.Jh.map(this.view.onContextMenu,re),(g)=>!g.isStickyScroll),this.stickyScrollController?.onContextMenu??k.Jh.None)}get onPointer(){return k.Jh.map(this.view.onPointer,Q)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return k.Jh.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){return this.findController?.mode??I.Highlight}set findMode(g){this.findController&&(this.findController.mode=g)}get findMatchType(){return this.findController?.matchType??T.Fuzzy}set findMatchType(g){this.findController&&(this.findController.matchType=g)}get expandOnDoubleClick(){return this._options.expandOnDoubleClick===void 0||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return this._options.expandOnlyOnTwistieClick===void 0||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(g,ge,We,de,be={}){this._user=g,this._options=be,this.eventBufferer=new k.at,this.onDidChangeFindOpenState=k.Jh.None,this.onDidChangeStickyScrollFocused=k.Jh.None,this.disposables=new P.Cm,this._onWillRefilter=new k.vl,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new k.vl,this.treeDelegate=new ie(We);const ae=new k.Wj,O=new k.Wj,Ue=this.disposables.add(new ee(O.event)),Ye=new x.db;this.renderers=de.map((Mt)=>new ne(Mt,()=>this.model,ae.event,Ue,Ye,be));for(let Mt of this.renderers)this.disposables.add(Mt);let Fe;var oe,rt;be.keyboardNavigationLabelProvider&&(Fe=new H(this,be.keyboardNavigationLabelProvider,be.filter),be={...be,filter:Fe},this.disposables.add(Fe)),this.focus=new Se(()=>this.view.getFocusedElements()[0],be.identityProvider),this.selection=new Se(()=>this.view.getSelectedElements()[0],be.identityProvider),this.anchor=new Se(()=>this.view.getAnchorElement(),be.identityProvider),this.view=new Le(g,ge,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...(oe=()=>this.model,rt=be,rt&&{...rt,identityProvider:rt.identityProvider&&{getId:(Mt)=>rt.identityProvider.getId(Mt.element)},dnd:rt.dnd&&new G(oe,rt.dnd),multipleSelectionController:rt.multipleSelectionController&&{isSelectionSingleChangeEvent:(Mt)=>rt.multipleSelectionController.isSelectionSingleChangeEvent({...Mt,element:Mt.element}),isSelectionRangeChangeEvent:(Mt)=>rt.multipleSelectionController.isSelectionRangeChangeEvent({...Mt,element:Mt.element})},accessibilityProvider:rt.accessibilityProvider&&{...rt.accessibilityProvider,getSetSize(Mt){const Zt=oe(),jt=Zt.getNodeLocation(Mt),xn=Zt.getParentNodeLocation(jt);return Zt.getNode(xn).visibleChildrenCount},getPosInSet:(Mt)=>Mt.visibleChildIndex+1,isChecked:rt.accessibilityProvider&&rt.accessibilityProvider.isChecked?(Mt)=>rt.accessibilityProvider.isChecked(Mt.element):void 0,getRole:rt.accessibilityProvider&&rt.accessibilityProvider.getRole?(Mt)=>rt.accessibilityProvider.getRole(Mt.element):()=>"treeitem",getAriaLabel:(Mt)=>rt.accessibilityProvider.getAriaLabel(Mt.element),getWidgetAriaLabel:()=>rt.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:rt.accessibilityProvider&&rt.accessibilityProvider.getWidgetRole?()=>rt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:rt.accessibilityProvider&&rt.accessibilityProvider.getAriaLevel?(Mt)=>rt.accessibilityProvider.getAriaLevel(Mt.element):(Mt)=>Mt.depth,getActiveDescendantId:rt.accessibilityProvider.getActiveDescendantId&&((Mt)=>rt.accessibilityProvider.getActiveDescendantId(Mt.element))},keyboardNavigationLabelProvider:rt.keyboardNavigationLabelProvider&&{...rt.keyboardNavigationLabelProvider,getKeyboardNavigationLabel:(Mt)=>rt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Mt.element)}}),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(g,this.view,be),ae.input=this.model.onDidChangeCollapseState;const lt=k.Jh.forEach(this.model.onDidSplice,(Mt)=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Mt),this.selection.onDidModelSplice(Mt)})},this.disposables);lt(()=>null,null,this.disposables);const ye=this.disposables.add(new k.vl),pt=this.disposables.add(new _.ve(0));if(this.disposables.add(k.Jh.any(lt,this.focus.onDidChange,this.selection.onDidChange)(()=>{pt.trigger(()=>{const Mt=new Set;for(let Zt of this.focus.getNodes())Mt.add(Zt);for(let Zt of this.selection.getNodes())Mt.add(Zt);ye.fire([...Mt.values()])})})),O.input=ye.event,be.keyboardSupport!==!1){const Mt=k.Jh.chain(this.view.onKeyDown,(Zt)=>Zt.filter((jt)=>!w.B6(jt.target)).map((jt)=>new M.Z(jt)));k.Jh.chain(Mt,(Zt)=>Zt.filter((jt)=>jt.keyCode===15))(this.onLeftArrow,this,this.disposables),k.Jh.chain(Mt,(Zt)=>Zt.filter((jt)=>jt.keyCode===17))(this.onRightArrow,this,this.disposables),k.Jh.chain(Mt,(Zt)=>Zt.filter((jt)=>jt.keyCode===10))(this.onSpace,this,this.disposables)}if((be.findWidgetEnabled??1)&&be.keyboardNavigationLabelProvider&&be.contextViewProvider){const Mt=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new V(this,this.model,this.view,Fe,be.contextViewProvider,Mt),this.focusNavigationFilter=(Zt)=>this.findController.shouldAllowFocus(Zt),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=k.Jh.None,this.onDidChangeFindMatchType=k.Jh.None;be.enableStickyScroll&&(this.stickyScrollController=new Be(this,this.model,this.view,this.renderers,this.treeDelegate,be),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=J.li(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===s.Always)}updateOptions(g={}){this._options={...this._options,...g};for(let ge of this.renderers)ge.updateOptions(g);this.view.updateOptions(this._options),this.findController?.updateOptions(g),this.updateStickyScroll(g),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===s.Always)}get options(){return this._options}updateStickyScroll(g){!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new Be(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=k.Jh.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),this.stickyScrollController?.updateOptions(g)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(g){this.view.scrollTop=g}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(g){this.view.ariaLabel=g}domFocus(){this.stickyScrollController?.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(g,ge){this.view.layout(g,ge),te.Et(ge)&&this.findController?.layout(ge)}style(g){const ge=`.${this.view.domId}`,We=[];g.treeIndentGuidesStroke&&(We.push(`.monaco-list${ge}:hover .monaco-tl-indent > .indent-guide, .monaco-list${ge}.always .monaco-tl-indent > .indent-guide  { border-color: ${g.treeInactiveIndentGuidesStroke}; }`),We.push(`.monaco-list${ge} .monaco-tl-indent > .indent-guide.active { border-color: ${g.treeIndentGuidesStroke}; }`));const de=g.treeStickyScrollBackground??g.listBackground;de&&(We.push(`.monaco-list${ge} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${de}; }`),We.push(`.monaco-list${ge} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${de}; }`)),g.treeStickyScrollBorder&&We.push(`.monaco-list${ge} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${g.treeStickyScrollBorder}; }`),g.treeStickyScrollShadow&&We.push(`.monaco-list${ge} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${g.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),g.listFocusForeground&&(We.push(`.monaco-list${ge}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${g.listFocusForeground}; }`),We.push(`.monaco-list${ge}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const be=J.gI(g.listFocusAndSelectionOutline,J.gI(g.listSelectionOutline,g.listFocusOutline??""));be&&(We.push(`.monaco-list${ge}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${be}; outline-offset: -1px;}`),We.push(`.monaco-list${ge}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),g.listFocusOutline&&(We.push(`.monaco-list${ge}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${g.listFocusOutline}; outline-offset: -1px; }`),We.push(`.monaco-list${ge}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),We.push(`.monaco-workbench.context-menu-visible .monaco-list${ge}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${g.listFocusOutline}; outline-offset: -1px; }`),We.push(`.monaco-workbench.context-menu-visible .monaco-list${ge}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),We.push(`.monaco-workbench.context-menu-visible .monaco-list${ge}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=We.join("\n"),this.view.style(g)}getParentElement(g){const ge=this.model.getParentNodeLocation(g);return this.model.getNode(ge).element}getFirstElementChild(g){return this.model.getFirstElementChild(g)}getNode(g){return this.model.getNode(g)}getNodeLocation(g){return this.model.getNodeLocation(g)}collapse(g,ge=!1){return this.model.setCollapsed(g,!0,ge)}expand(g,ge=!1){return this.model.setCollapsed(g,!1,ge)}toggleCollapsed(g,ge=!1){return this.model.setCollapsed(g,void 0,ge)}isCollapsible(g){return this.model.isCollapsible(g)}setCollapsible(g,ge){return this.model.setCollapsible(g,ge)}isCollapsed(g){return this.model.isCollapsed(g)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(g,ge){this.eventBufferer.bufferEvents(()=>{const We=g.map((be)=>this.model.getNode(be));this.selection.set(We,ge);const de=g.map((be)=>this.model.getListIndex(be)).filter((be)=>be>-1);this.view.setSelection(de,ge,!0)})}getSelection(){return this.selection.get()}setFocus(g,ge){this.eventBufferer.bufferEvents(()=>{const We=g.map((be)=>this.model.getNode(be));this.focus.set(We,ge);const de=g.map((be)=>this.model.getListIndex(be)).filter((be)=>be>-1);this.view.setFocus(de,ge,!0)})}focusNext(g=1,ge=!1,We,de=J.kx(We)&&We.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(g,ge,We,de)}focusPrevious(g=1,ge=!1,We,de=J.kx(We)&&We.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(g,ge,We,de)}focusNextPage(g,ge=J.kx(g)&&g.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(g,ge)}focusPreviousPage(g,ge=J.kx(g)&&g.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(g,ge,()=>this.stickyScrollController?.height??0)}focusLast(g,ge=J.kx(g)&&g.altKey?void 0:this.focusNavigationFilter){this.view.focusLast(g,ge)}focusFirst(g,ge=J.kx(g)&&g.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(g,ge)}getFocus(){return this.focus.get()}reveal(g,ge){this.model.expandTo(g);const We=this.model.getListIndex(g);if(We!==-1)if(this.stickyScrollController){const de=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(g));this.view.reveal(We,ge,de)}else this.view.reveal(We,ge)}onLeftArrow(g){g.preventDefault(),g.stopPropagation();const ge=this.view.getFocusedElements();if(ge.length===0)return;const We=ge[0],de=this.model.getNodeLocation(We);if(!this.model.setCollapsed(de,!0)){const be=this.model.getParentNodeLocation(de);if(!be)return;const ae=this.model.getListIndex(be);this.view.reveal(ae),this.view.setFocus([ae])}}onRightArrow(g){g.preventDefault(),g.stopPropagation();const ge=this.view.getFocusedElements();if(ge.length===0)return;const We=ge[0],de=this.model.getNodeLocation(We);if(!this.model.setCollapsed(de,!1)){if(!We.children.some((O)=>O.visible))return;const[be]=this.view.getFocus(),ae=be+1;this.view.reveal(ae),this.view.setFocus([ae])}}onSpace(g){g.preventDefault(),g.stopPropagation();const ge=this.view.getFocusedElements();if(ge.length===0)return;const We=ge[0],de=this.model.getNodeLocation(We),be=g.browserEvent.altKey;this.model.setCollapsed(de,void 0,be)}dispose(){P.AS(this.disposables),this.stickyScrollController?.dispose(),this.view.dispose()}}},1272:(dt,pe,h)=>{h.d(pe,{G6:()=>f,Mn:()=>C,iZ:()=>w});var s=h(7757),I=h(3338),T=h(5958),J=h(1055),M=h(2111),v=h(2106),E=h(7954);function w(p){return typeof p=="object"&&"visibility"in p&&"data"in p}function C(p){switch(p){case!0:return 1;case!1:return 0;default:return p}}function d(p){return typeof p.collapsible=="boolean"}class f{constructor(p,_,m,b={}){this.user=p,this.list=_,this.rootRef=[],this.eventBufferer=new v.at,this._onDidChangeCollapseState=new v.vl,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new v.vl,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new v.vl,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new T.ve(J.h),this.collapseByDefault=b.collapseByDefault!==void 0&&b.collapseByDefault,this.allowNonCollapsibleParents=b.allowNonCollapsibleParents??!1,this.filter=b.filter,this.autoExpandSingleChildren=b.autoExpandSingleChildren!==void 0&&b.autoExpandSingleChildren,this.root={parent:void 0,element:m,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(p,_,m=E.f.empty(),b={}){if(p.length===0)throw new s.jh(this.user,"Invalid tree location");b.diffIdentityProvider?this.spliceSmart(b.diffIdentityProvider,p,_,m,b):this.spliceSimple(p,_,m,b)}spliceSmart(p,_,m,b=E.f.empty(),x,k=x.diffDepth??0){const{parentNode:R}=this.getParentNodeWithListIndex(_);if(!R.lastDiffIds)return this.spliceSimple(_,m,b,x);const P=[...b],z=_[_.length-1],te=new M.uP({getElements:()=>R.lastDiffIds},{getElements:()=>[...R.children.slice(0,z),...P,...R.children.slice(z+m)].map(($)=>p.getId($.element).toString())}).ComputeDiff(!1);if(te.quitEarly)return R.lastDiffIds=void 0,this.spliceSimple(_,m,P,x);const L=_.slice(0,-1),W=($,G,ie)=>{if(k>0)for(let ee=0;ee<ie;ee++)$--,G--,this.spliceSmart(p,[...L,$,0],Number.MAX_SAFE_INTEGER,P[G].children,x,k-1)};let B=Math.min(R.children.length,z+m),U=P.length;for(let $ of te.changes.sort((G,ie)=>ie.originalStart-G.originalStart))W(B,U,B-($.originalStart+$.originalLength)),B=$.originalStart,U=$.modifiedStart-z,this.spliceSimple([...L,B],$.originalLength,E.f.slice(P,U,U+$.modifiedLength),x);W(B,U,B)}spliceSimple(p,_,m=E.f.empty(),{onDidCreateNode:b,onDidDeleteNode:x,diffIdentityProvider:k}){const{parentNode:R,listIndex:P,revealed:z,visible:te}=this.getParentNodeWithListIndex(p),L=[],W=E.f.map(m,(V)=>this.createTreeNode(V,R,R.visible?1:0,z,L,b)),B=p[p.length-1];let U=0;for(let V=B;V>=0&&V<R.children.length;V--){const Y=R.children[V];if(Y.visible){U=Y.visibleChildIndex;break}}const $=[];let G=0,ie=0;for(let V of W)$.push(V),ie+=V.renderNodeCount,V.visible&&(V.visibleChildIndex=U+G++);const ee=I.V4(R.children,B,_,$);k?R.lastDiffIds?I.V4(R.lastDiffIds,B,_,$.map((V)=>k.getId(V.element).toString())):R.lastDiffIds=R.children.map((V)=>k.getId(V.element).toString()):R.lastDiffIds=void 0;let ne=0;for(let V of ee)V.visible&&ne++;if(ne!==0)for(let V=B+$.length;V<R.children.length;V++){const Y=R.children[V];Y.visible&&(Y.visibleChildIndex-=ne)}if(R.visibleChildrenCount+=G-ne,z&&te){const V=ee.reduce((Y,ve)=>Y+(ve.visible?ve.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(R,ie-V),this.list.splice(P,V,L)}if(ee.length>0&&x){const V=(Y)=>{x(Y),Y.children.forEach(V)};ee.forEach(V)}this._onDidSplice.fire({insertedNodes:$,deletedNodes:ee});let H=R;for(;H;){if(H.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}H=H.parent}}rerender(p){if(p.length===0)throw new s.jh(this.user,"Invalid tree location");const{node:_,listIndex:m,revealed:b}=this.getTreeNodeWithListIndex(p);_.visible&&b&&this.list.splice(m,1,[_])}has(p){return this.hasTreeNode(p)}getListIndex(p){const{listIndex:_,visible:m,revealed:b}=this.getTreeNodeWithListIndex(p);return m&&b?_:-1}getListRenderCount(p){return this.getTreeNode(p).renderNodeCount}isCollapsible(p){return this.getTreeNode(p).collapsible}setCollapsible(p,_){const m=this.getTreeNode(p);_===void 0&&(_=!m.collapsible);const b={collapsible:_};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(p,b))}isCollapsed(p){return this.getTreeNode(p).collapsed}setCollapsed(p,_,m){const b=this.getTreeNode(p);_===void 0&&(_=!b.collapsed);const x={collapsed:_,recursive:m||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(p,x))}_setCollapseState(p,_){const{node:m,listIndex:b,revealed:x}=this.getTreeNodeWithListIndex(p),k=this._setListNodeCollapseState(m,b,x,_);if(m!==this.root&&this.autoExpandSingleChildren&&k&&!d(_)&&m.collapsible&&!m.collapsed&&!_.recursive){let R=-1;for(let P=0;P<m.children.length;P++)if(m.children[P].visible){if(R>-1){R=-1;break}R=P}R>-1&&this._setCollapseState([...p,R],_)}return k}_setListNodeCollapseState(p,_,m,b){const x=this._setNodeCollapseState(p,b,!1);if(!m||!p.visible||!x)return x;const k=p.renderNodeCount,R=this.updateNodeAfterCollapseChange(p),P=k-(_===-1?0:1);return this.list.splice(_+1,P,R.slice(1)),x}_setNodeCollapseState(p,_,m){let b;if(p===this.root?b=!1:(d(_)?(b=p.collapsible!==_.collapsible,p.collapsible=_.collapsible):p.collapsible?(b=p.collapsed!==_.collapsed,p.collapsed=_.collapsed):b=!1,b&&this._onDidChangeCollapseState.fire({node:p,deep:m})),!d(_)&&_.recursive)for(let x of p.children)b=this._setNodeCollapseState(x,_,!0)||b;return b}expandTo(p){this.eventBufferer.bufferEvents(()=>{let _=this.getTreeNode(p);for(;_.parent;)_=_.parent,p=p.slice(0,p.length-1),_.collapsed&&this._setCollapseState(p,{collapsed:!1,recursive:!1})})}refilter(){const p=this.root.renderNodeCount,_=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,p,_),this.refilterDelayer.cancel()}createTreeNode(p,_,m,b,x,k){const R={parent:_,element:p.element,children:[],depth:_.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof p.collapsible=="boolean"?p.collapsible:p.collapsed!==void 0,collapsed:p.collapsed===void 0?this.collapseByDefault:p.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},P=this._filterNode(R,m);R.visibility=P,b&&x.push(R);const z=p.children||E.f.empty(),te=b&&P!==0&&!R.collapsed;let L=0,W=1;for(let B of z){const U=this.createTreeNode(B,R,P,te,x,k);R.children.push(U),W+=U.renderNodeCount,U.visible&&(U.visibleChildIndex=L++)}return this.allowNonCollapsibleParents||(R.collapsible=R.collapsible||R.children.length>0),R.visibleChildrenCount=L,R.visible=P===2?L>0:P===1,R.visible?R.collapsed||(R.renderNodeCount=W):(R.renderNodeCount=0,b&&x.pop()),k?.(R),R}updateNodeAfterCollapseChange(p){const _=p.renderNodeCount,m=[];return this._updateNodeAfterCollapseChange(p,m),this._updateAncestorsRenderNodeCount(p.parent,m.length-_),m}_updateNodeAfterCollapseChange(p,_){if(p.visible===!1)return 0;if(_.push(p),p.renderNodeCount=1,!p.collapsed)for(let m of p.children)p.renderNodeCount+=this._updateNodeAfterCollapseChange(m,_);return this._onDidChangeRenderNodeCount.fire(p),p.renderNodeCount}updateNodeAfterFilterChange(p){const _=p.renderNodeCount,m=[];return this._updateNodeAfterFilterChange(p,p.visible?1:0,m),this._updateAncestorsRenderNodeCount(p.parent,m.length-_),m}_updateNodeAfterFilterChange(p,_,m,b=!0){let x;if(p!==this.root){if(x=this._filterNode(p,_),x===0)return p.visible=!1,p.renderNodeCount=0,!1;b&&m.push(p)}const k=m.length;p.renderNodeCount=p===this.root?0:1;let R=!1;if(p.collapsed&&x===0)p.visibleChildrenCount=0;else{let P=0;for(let z of p.children)R=this._updateNodeAfterFilterChange(z,x,m,b&&!p.collapsed)||R,z.visible&&(z.visibleChildIndex=P++);p.visibleChildrenCount=P}return p!==this.root&&(p.visible=x===2?R:x===1,p.visibility=x),p.visible?p.collapsed||(p.renderNodeCount+=m.length-k):(p.renderNodeCount=0,b&&m.pop()),this._onDidChangeRenderNodeCount.fire(p),p.visible}_updateAncestorsRenderNodeCount(p,_){if(_!==0)for(;p;)p.renderNodeCount+=_,this._onDidChangeRenderNodeCount.fire(p),p=p.parent}_filterNode(p,_){const m=this.filter?this.filter.filter(p.element,_):1;return typeof m=="boolean"?(p.filterData=void 0,m?1:0):w(m)?(p.filterData=m.data,C(m.visibility)):(p.filterData=void 0,C(m))}hasTreeNode(p,_=this.root){if(!p||p.length===0)return!0;const[m,...b]=p;return!(m<0||m>_.children.length)&&this.hasTreeNode(b,_.children[m])}getTreeNode(p,_=this.root){if(!p||p.length===0)return _;const[m,...b]=p;if(m<0||m>_.children.length)throw new s.jh(this.user,"Invalid tree location");return this.getTreeNode(b,_.children[m])}getTreeNodeWithListIndex(p){if(p.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:_,listIndex:m,revealed:b,visible:x}=this.getParentNodeWithListIndex(p),k=p[p.length-1];if(k<0||k>_.children.length)throw new s.jh(this.user,"Invalid tree location");const R=_.children[k];return{node:R,listIndex:m,revealed:b,visible:x&&R.visible}}getParentNodeWithListIndex(p,_=this.root,m=0,b=!0,x=!0){const[k,...R]=p;if(k<0||k>_.children.length)throw new s.jh(this.user,"Invalid tree location");for(let P=0;P<k;P++)m+=_.children[P].renderNodeCount;return b=b&&!_.collapsed,x=x&&_.visible,R.length===0?{parentNode:_,listIndex:m,revealed:b,visible:x}:this.getParentNodeWithListIndex(R,_.children[k],m+1,b,x)}getNode(p=[]){return this.getTreeNode(p)}getNodeLocation(p){const _=[];let m=p;for(;m.parent;)_.push(m.parent.children.indexOf(m)),m=m.parent;return _.reverse()}getParentNodeLocation(p){return p.length===0?void 0:p.length===1?[]:I.bS(p)[0]}getFirstElementChild(p){const _=this.getTreeNode(p);if(_.children.length!==0)return _.children[0].element}}},7757:(dt,pe,h)=>{var s,I;h.d(pe,{Lx:()=>I,Yo:()=>s,jh:()=>T,y2:()=>J}),function(M){M[M.Expanded=0]="Expanded",M[M.Collapsed=1]="Collapsed",M[M.PreserveOrExpanded=2]="PreserveOrExpanded",M[M.PreserveOrCollapsed=3]="PreserveOrCollapsed"}(s||(s={})),function(M){M[M.Unknown=0]="Unknown",M[M.Twistie=1]="Twistie",M[M.Element=2]="Element",M[M.Filter=3]="Filter"}(I||(I={}));class T extends Error{constructor(M,v){super(`TreeError [${M}] ${v}`)}}class J{constructor(M){this.fn=M,this._map=new WeakMap}map(M){let v=this._map.get(M);return v||(v=this.fn(M),this._map.set(M,v)),v}}},5222:(dt,pe,h)=>{h.d(pe,{x:()=>v});var s=h(4333),I=h(7594),T=h(9715),J=h(474),M=h(998);class v extends M.jG{onclick(E,w){this._register(s.ko(E,s.Bx.CLICK,(C)=>w(new T.P(s.zk(E),C))))}onmousedown(E,w){this._register(s.ko(E,s.Bx.MOUSE_DOWN,(C)=>w(new T.P(s.zk(E),C))))}onmouseover(E,w){this._register(s.ko(E,s.Bx.MOUSE_OVER,(C)=>w(new T.P(s.zk(E),C))))}onmouseleave(E,w){this._register(s.ko(E,s.Bx.MOUSE_LEAVE,(C)=>w(new T.P(s.zk(E),C))))}onkeydown(E,w){this._register(s.ko(E,s.Bx.KEY_DOWN,(C)=>w(new I.Z(C))))}onkeyup(E,w){this._register(s.ko(E,s.Bx.KEY_UP,(C)=>w(new I.Z(C))))}oninput(E,w){this._register(s.ko(E,s.Bx.INPUT,w))}onblur(E,w){this._register(s.ko(E,s.Bx.BLUR,w))}onfocus(E,w){this._register(s.ko(E,s.Bx.FOCUS,w))}ignoreGesture(E){return J.q.ignoreTarget(E)}}},8877:(dt,pe,h)=>{function s(T,J){const M=T;typeof M.vscodeWindowId!="number"&&Object.defineProperty(M,"vscodeWindowId",{get:()=>J})}h.d(pe,{G:()=>I,y:()=>s});const I=window},7969:(dt,pe,h)=>{h.d(pe,{HJ:()=>w,LN:()=>M,YH:()=>E,ih:()=>C,rc:()=>J,wv:()=>v});var s=h(2106),I=h(998),T=h(9746);class J extends I.jG{constructor(d,f="",p="",_=!0,m){super(),this._onDidChange=this._register(new s.vl),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=d,this._label=f,this._cssClass=p,this._enabled=_,this._actionCallback=m}get id(){return this._id}get label(){return this._label}set label(d){this._setLabel(d)}_setLabel(d){this._label!==d&&(this._label=d,this._onDidChange.fire({label:d}))}get tooltip(){return this._tooltip||""}set tooltip(d){this._setTooltip(d)}_setTooltip(d){this._tooltip!==d&&(this._tooltip=d,this._onDidChange.fire({tooltip:d}))}get class(){return this._cssClass}set class(d){this._setClass(d)}_setClass(d){this._cssClass!==d&&(this._cssClass=d,this._onDidChange.fire({class:d}))}get enabled(){return this._enabled}set enabled(d){this._setEnabled(d)}_setEnabled(d){this._enabled!==d&&(this._enabled=d,this._onDidChange.fire({enabled:d}))}get checked(){return this._checked}set checked(d){this._setChecked(d)}_setChecked(d){this._checked!==d&&(this._checked=d,this._onDidChange.fire({checked:d}))}async run(d,f){this._actionCallback&&await this._actionCallback(d)}}class M extends I.jG{constructor(){super(...arguments),this._onWillRun=this._register(new s.vl),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new s.vl),this.onDidRun=this._onDidRun.event}async run(d,f){if(!d.enabled)return;let p;this._onWillRun.fire({action:d});try{await this.runAction(d,f)}catch(_){p=_}this._onDidRun.fire({action:d,error:p})}async runAction(d,f){await d.run(f)}}class v{constructor(){this.id=v.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...d){let f=[];for(let p of d)p.length&&(f=f.length?[...f,new v,...p]:p);return f}static{this.ID="vs.actions.separator"}async run(){}}class E{get actions(){return this._actions}constructor(d,f,p,_){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=d,this.label=f,this.class=_,this._actions=p}async run(){}}class w extends J{static{this.ID="vs.actions.empty"}constructor(){super(w.ID,T.kg("submenu.empty","(empty)"),void 0,!1)}}function C(d){return{id:d.id,label:d.label,tooltip:d.tooltip??d.label,class:d.class,enabled:d.enabled??!0,checked:d.checked,run:async(...f)=>d.run(...f)}}},3338:(dt,pe,h)=>{function s(ve,Te=0){return ve[ve.length-(1+Te)]}function I(ve){if(ve.length===0)throw new Error("Invalid tail call");return[ve.slice(0,ve.length-1),ve[ve.length-1]]}function T(ve,Te,xe=(Be,Ie)=>Be===Ie){if(ve===Te)return!0;if(!ve||!Te)return!1;if(ve.length!==Te.length)return!1;for(let Be=0,Ie=ve.length;Be<Ie;Be++)if(!xe(ve[Be],Te[Be]))return!1;return!0}function J(ve,Te){const xe=ve.length-1;Te<xe&&(ve[Te]=ve[xe]),ve.pop()}function M(ve,Te,xe){return function(Be){let Ie=0,he=Be-1;for(;Ie<=he;){const Q=(Ie+he)/2|0,re=xe(ve[Q],Te);if(re<0)Ie=Q+1;else{if(!(re>0))return Q;he=Q-1}}return-(Ie+1)}(ve.length)}function v(ve,Te,xe){if((ve|=0)>=Te.length)throw new TypeError("invalid index");const Be=Te[Math.floor(Te.length*Math.random())],Ie=[],he=[],Q=[];for(let re of Te){const Je=xe(re,Be);Je<0?Ie.push(re):Je>0?he.push(re):Q.push(re)}return ve<Ie.length?v(ve,Ie,xe):ve<Ie.length+Q.length?Q[0]:v(ve-(Ie.length+Q.length),he,xe)}function E(ve,Te){const xe=[];let Be;for(let Ie of ve.slice(0).sort(Te))Be&&Te(Be[0],Ie)===0?Be.push(Ie):(Be=[Ie],xe.push(Be));return xe}function*w(ve,Te){let xe,Be;for(let Ie of ve)Be!==void 0&&Te(Be,Ie)?xe.push(Ie):(xe&&(yield xe),xe=[Ie]),Be=Ie;xe&&(yield xe)}function C(ve,Te){for(let xe=0;xe<=ve.length;xe++)Te(xe===0?void 0:ve[xe-1],xe===ve.length?void 0:ve[xe])}function d(ve,Te){for(let xe=0;xe<ve.length;xe++)Te(xe===0?void 0:ve[xe-1],ve[xe],xe+1===ve.length?void 0:ve[xe+1])}function f(ve){return ve.filter((Te)=>!!Te)}function p(ve){let Te=0;for(let xe=0;xe<ve.length;xe++)ve[xe]&&(ve[Te]=ve[xe],Te+=1);ve.length=Te}function _(ve){return!Array.isArray(ve)||ve.length===0}function m(ve){return Array.isArray(ve)&&ve.length>0}function b(ve,Te=(xe)=>xe){const xe=new Set;return ve.filter((Be)=>{const Ie=Te(Be);return!xe.has(Ie)&&(xe.add(Ie),!0)})}function x(ve,Te){return ve.length>0?ve[0]:Te}function k(ve,Te){let xe=typeof Te=="number"?ve:0;typeof Te=="number"?xe=ve:(xe=0,Te=ve);const Be=[];if(xe<=Te)for(let Ie=xe;Ie<Te;Ie++)Be.push(Ie);else for(let Ie=xe;Ie>Te;Ie--)Be.push(Ie);return Be}function R(ve,Te,xe){const Be=ve.slice(0,Te),Ie=ve.slice(Te);return Be.concat(xe,Ie)}function P(ve,Te){const xe=ve.indexOf(Te);xe>-1&&(ve.splice(xe,1),ve.unshift(Te))}function z(ve,Te){const xe=ve.indexOf(Te);xe>-1&&(ve.splice(xe,1),ve.push(Te))}function te(ve,Te){for(let xe of Te)ve.push(xe)}function L(ve){return Array.isArray(ve)?ve:[ve]}function W(ve,Te,xe,Be){const Ie=B(ve,Te);let he=ve.splice(Ie,xe);return he===void 0&&(he=[]),function(Q,re,Je){const Se=B(Q,re),Pe=Q.length,Le=Je.length;Q.length=Pe+Le;for(let Ve=Pe-1;Ve>=Se;Ve--)Q[Ve+Le]=Q[Ve];for(let Ve=0;Ve<Le;Ve++)Q[Ve+Se]=Je[Ve]}(ve,Ie,Be),he}function B(ve,Te){return Te<0?Math.max(Te+ve.length,0):Math.min(Te,ve.length)}var U;function $(ve,Te){return(xe,Be)=>Te(ve(xe),ve(Be))}function G(...ve){return(Te,xe)=>{for(let Be of ve){const Ie=Be(Te,xe);if(!U.isNeitherLessOrGreaterThan(Ie))return Ie}return U.neitherLessOrGreaterThan}}h.d(pe,{$z:()=>E,Ct:()=>_,E4:()=>te,EI:()=>m,El:()=>M,Fy:()=>x,Hw:()=>ne,RT:()=>s,SK:()=>p,SO:()=>v,TS:()=>ee,U9:()=>ie,UH:()=>J,V4:()=>W,VE:()=>$,Yc:()=>f,_A:()=>P,_j:()=>L,aI:()=>T,bS:()=>I,c1:()=>V,dM:()=>b,j3:()=>H,kj:()=>d,n:()=>w,nH:()=>G,nK:()=>R,pN:()=>C,r7:()=>z,t9:()=>Y,y1:()=>k}),function(ve){ve.isLessThan=function(Te){return Te<0},ve.isLessThanOrEqual=function(Te){return Te<=0},ve.isGreaterThan=function(Te){return Te>0},ve.isNeitherLessOrGreaterThan=function(Te){return Te===0},ve.greaterThan=1,ve.lessThan=-1,ve.neitherLessOrGreaterThan=0}(U||(U={}));const ie=(ve,Te)=>ve-Te,ee=(ve,Te)=>ie(ve?1:0,Te?1:0);function ne(ve){return(Te,xe)=>-ve(Te,xe)}class H{constructor(ve){this.items=ve,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(ve){let Te=this.firstIdx;for(;Te<this.items.length&&ve(this.items[Te]);)Te++;const xe=Te===this.firstIdx?null:this.items.slice(this.firstIdx,Te);return this.firstIdx=Te,xe}takeFromEndWhile(ve){let Te=this.lastIdx;for(;Te>=0&&ve(this.items[Te]);)Te--;const xe=Te===this.lastIdx?null:this.items.slice(Te+1,this.lastIdx+1);return this.lastIdx=Te,xe}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const ve=this.items[this.firstIdx];return this.firstIdx++,ve}takeCount(ve){const Te=this.items.slice(this.firstIdx,this.firstIdx+ve);return this.firstIdx+=ve,Te}}class V{static{this.empty=new V((ve)=>{})}constructor(ve){this.iterate=ve}toArray(){const ve=[];return this.iterate((Te)=>(ve.push(Te),!0)),ve}filter(ve){return new V((Te)=>this.iterate((xe)=>!ve(xe)||Te(xe)))}map(ve){return new V((Te)=>this.iterate((xe)=>Te(ve(xe))))}findLast(ve){let Te;return this.iterate((xe)=>(ve(xe)&&(Te=xe),!0)),Te}findLastMaxBy(ve){let Te,xe=!0;return this.iterate((Be)=>((xe||U.isGreaterThan(ve(Be,Te)))&&(xe=!1,Te=Be),!0)),Te}}class Y{constructor(ve){this._indexMap=ve}static createSortPermutation(ve,Te){const xe=Array.from(ve.keys()).sort((Be,Ie)=>Te(ve[Be],ve[Ie]));return new Y(xe)}apply(ve){return ve.map((Te,xe)=>ve[this._indexMap[xe]])}inverse(){const ve=this._indexMap.slice();for(let Te=0;Te<this._indexMap.length;Te++)ve[this._indexMap[Te]]=Te;return new Y(ve)}}},7393:(dt,pe,h)=>{function s(p,_){const m=function(b,x,k=b.length-1){for(let R=k;R>=0;R--)if(x(b[R]))return R;return-1}(p,_);if(m!==-1)return p[m]}function I(p,_){const m=T(p,_);return m===-1?void 0:p[m]}function T(p,_,m=0,b=p.length){let x=m,k=b;for(;x<k;){const R=Math.floor((x+k)/2);_(p[R])?x=R+1:k=R}return x-1}function J(p,_){const m=M(p,_);return m===p.length?void 0:p[m]}function M(p,_,m=0,b=p.length){let x=m,k=b;for(;x<k;){const R=Math.floor((x+k)/2);_(p[R])?k=R:x=R+1}return x}h.d(pe,{Cn:()=>E,TM:()=>d,Uk:()=>s,XP:()=>J,hw:()=>M,iM:()=>T,kh:()=>C,lx:()=>I,oH:()=>f,ot:()=>w,vJ:()=>v});class v{static{this.assertInvariants=!1}constructor(p){this._array=p,this._findLastMonotonousLastIdx=0}findLastMonotonous(p){if(v.assertInvariants){if(this._prevFindLastPredicate){for(let m of this._array)if(this._prevFindLastPredicate(m)&&!p(m))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=p}const _=T(this._array,p,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=_+1,_===-1?void 0:this._array[_]}}function E(p,_){if(p.length===0)return;let m=p[0];for(let b=1;b<p.length;b++){const x=p[b];_(x,m)>0&&(m=x)}return m}function w(p,_){if(p.length===0)return;let m=p[0];for(let b=1;b<p.length;b++){const x=p[b];_(x,m)>=0&&(m=x)}return m}function C(p,_){return E(p,(m,b)=>-_(m,b))}function d(p,_){if(p.length===0)return-1;let m=0;for(let b=1;b<p.length;b++)_(p[b],p[m])>0&&(m=b);return m}function f(p,_){for(let m of p){const b=_(m);if(b!==void 0)return b}}},7110:(dt,pe,h)=>{h.d(pe,{Ft:()=>M,V7:()=>J,Xo:()=>v,ok:()=>I,xb:()=>T});var s=h(4327);function I(E,w){if(!E)throw new Error(w?`Assertion failed (${w})`:"Assertion Failed")}function T(E,w="Unreachable"){throw new Error(w)}function J(E){E||s.dz(new s.D7("Soft Assertion Failed"))}function M(E){E()||(E(),s.dz(new s.D7("Assertion Failed")))}function v(E,w){let C=0;for(;C<E.length-1;){if(!w(E[C],E[C+1]))return!1;C++}return!0}},5958:(dt,pe,h)=>{h.d(pe,{$1:()=>b,$6:()=>P,A0:()=>te,AE:()=>U,EQ:()=>m,F6:()=>L,HC:()=>B,PK:()=>C,Qg:()=>E,SS:()=>w,Th:()=>p,Zv:()=>W,b7:()=>z,bI:()=>G,pc:()=>x,uC:()=>R,vb:()=>k,ve:()=>f,wR:()=>_});var s=h(8903),I=h(4327),T=h(2106),J=h(998),M=h(3339),v=h(1055);function E(ie){return!!ie&&typeof ie.then=="function"}function w(ie){const ee=new s.Qi,ne=ie(ee.token),H=new Promise((V,Y)=>{const ve=ee.token.onCancellationRequested(()=>{ve.dispose(),Y(new I.AL)});Promise.resolve(ne).then((Te)=>{ve.dispose(),ee.dispose(),V(Te)},(Te)=>{ve.dispose(),ee.dispose(),Y(Te)})});return new class{cancel(){ee.cancel(),ee.dispose()}then(V,Y){return H.then(V,Y)}catch(V){return this.then(void 0,V)}finally(V){return H.finally(V)}}}function C(ie,ee,ne){return new Promise((H,V)=>{const Y=ee.onCancellationRequested(()=>{Y.dispose(),H(ne)});ie.then(H,V).finally(()=>Y.dispose())})}class d{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(ie){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=ie,!this.queuedPromise){const ee=()=>{if(this.queuedPromise=null,this.isDisposed)return;const ne=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,ne};this.queuedPromise=new Promise((ne)=>{this.activePromise.then(ee,ee).then(ne)})}return new Promise((ee,ne)=>{this.queuedPromise.then(ee,ne)})}return this.activePromise=ie(),new Promise((ee,ne)=>{this.activePromise.then((H)=>{this.activePromise=null,ee(H)},(H)=>{this.activePromise=null,ne(H)})})}dispose(){this.isDisposed=!0}}class f{constructor(ie){this.defaultDelay=ie,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(ie,ee=this.defaultDelay){this.task=ie,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((H,V)=>{this.doResolve=H,this.doReject=V}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const H=this.task;return this.task=null,H()}}));const ne=()=>{this.deferred=null,this.doResolve?.(null)};return this.deferred=ee===v.h?((H)=>{let V=!0;return queueMicrotask(()=>{V&&(V=!1,H())}),{isTriggered:()=>V,dispose:()=>{V=!1}}})(ne):((H,V)=>{let Y=!0;const ve=setTimeout(()=>{Y=!1,V()},H);return{isTriggered:()=>Y,dispose:()=>{clearTimeout(ve),Y=!1}}})(ee,ne),this.completionPromise}isTriggered(){return!!this.deferred?.isTriggered()}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject?.(new I.AL),this.completionPromise=null)}cancelTimeout(){this.deferred?.dispose(),this.deferred=null}dispose(){this.cancel()}}class p{constructor(ie){this.delayer=new f(ie),this.throttler=new d}trigger(ie,ee){return this.delayer.trigger(()=>this.throttler.queue(ie),ee)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function _(ie,ee){return ee?new Promise((ne,H)=>{const V=setTimeout(()=>{Y.dispose(),ne()},ie),Y=ee.onCancellationRequested(()=>{clearTimeout(V),Y.dispose(),H(new I.AL)})}):w((ne)=>_(ie,ne))}function m(ie,ee=0,ne){const H=setTimeout(()=>{ie(),ne&&V.dispose()},ee),V=J.s(()=>{clearTimeout(H),ne?.deleteAndLeak(V)});return ne?.add(V),V}function b(ie,ee=(H)=>!!H,ne=null){let H=0;const V=ie.length,Y=()=>{if(H>=V)return Promise.resolve(ne);const ve=ie[H++];return Promise.resolve(ve()).then((Te)=>ee(Te)?Promise.resolve(Te):Y())};return Y()}class x{constructor(ie,ee){this._isDisposed=!1,this._token=-1,typeof ie=="function"&&typeof ee=="number"&&this.setIfNotSet(ie,ee)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(ie,ee){if(this._isDisposed)throw new I.D7("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,ie()},ee)}setIfNotSet(ie,ee){if(this._isDisposed)throw new I.D7("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,ie()},ee))}}class k{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(ie,ee,ne=globalThis){if(this.isDisposed)throw new I.D7("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const H=ne.setInterval(()=>{ie()},ee);this.disposable=J.s(()=>{ne.clearInterval(H),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}class R{constructor(ie,ee){this.timeoutToken=-1,this.runner=ie,this.timeout=ee,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(ie=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,ie)}get delay(){return this.timeout}set delay(ie){this.timeout=ie}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}}let P,z;z=typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?(ie,ee)=>{M._p(()=>{if(ne)return;const H=Date.now()+15;ee(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,H-Date.now())}))});let ne=!1;return{dispose(){ne||(ne=!0)}}}:(ie,ee,ne)=>{const H=ie.requestIdleCallback(ee,typeof ne=="number"?{timeout:ne}:void 0);let V=!1;return{dispose(){V||(V=!0,ie.cancelIdleCallback(H))}}},P=(ie)=>z(globalThis,ie);class te{constructor(ie,ee){this._didRun=!1,this._executor=()=>{try{this._value=ee()}catch(ne){this._error=ne}finally{this._didRun=!0}},this._handle=z(ie,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class L extends te{constructor(ie){super(globalThis,ie)}}class W{get isRejected(){return this.outcome?.outcome===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((ie,ee)=>{this.completeCallback=ie,this.errorCallback=ee})}complete(ie){return new Promise((ee)=>{this.completeCallback(ie),this.outcome={outcome:0,value:ie},ee()})}error(ie){return new Promise((ee)=>{this.errorCallback(ie),this.outcome={outcome:1,value:ie},ee()})}cancel(){return this.error(new I.AL)}}var B;(function(ie){ie.settled=async function(ee){let ne;const H=await Promise.all(ee.map((V)=>V.then((Y)=>Y,(Y)=>{ne||(ne=Y)})));if(ne!==void 0)throw ne;return H},ie.withAsyncBody=function(ee){return new Promise(async(ne,H)=>{try{await ee(ne,H)}catch(V){H(V)}})}})(B||(B={}));class U{static fromArray(ie){return new U((ee)=>{ee.emitMany(ie)})}static fromPromise(ie){return new U(async(ee)=>{ee.emitMany(await ie)})}static fromPromises(ie){return new U(async(ee)=>{await Promise.all(ie.map(async(ne)=>ee.emitOne(await ne)))})}static merge(ie){return new U(async(ee)=>{await Promise.all(ie.map(async(ne)=>{for await(let H of ne)ee.emitOne(H)}))})}static{this.EMPTY=U.fromArray([])}constructor(ie,ee){this._state=0,this._results=[],this._error=null,this._onReturn=ee,this._onStateChanged=new T.vl,queueMicrotask(async()=>{const ne={emitOne:(H)=>this.emitOne(H),emitMany:(H)=>this.emitMany(H),reject:(H)=>this.reject(H)};try{await Promise.resolve(ie(ne)),this.resolve()}catch(H){this.reject(H)}finally{ne.emitOne=void 0,ne.emitMany=void 0,ne.reject=void 0}})}[Symbol.asyncIterator](){let ie=0;return{next:async()=>{for(;;){if(this._state===2)throw this._error;if(ie<this._results.length)return{done:!1,value:this._results[ie++]};if(this._state===1)return{done:!0,value:void 0};await T.Jh.toPromise(this._onStateChanged.event)}},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(ie,ee){return new U(async(ne)=>{for await(let H of ie)ne.emitOne(ee(H))})}map(ie){return U.map(this,ie)}static filter(ie,ee){return new U(async(ne)=>{for await(let H of ie)ee(H)&&ne.emitOne(H)})}filter(ie){return U.filter(this,ie)}static coalesce(ie){return U.filter(ie,(ee)=>!!ee)}coalesce(){return U.coalesce(this)}static async toPromise(ie){const ee=[];for await(let ne of ie)ee.push(ne);return ee}toPromise(){return U.toPromise(this)}emitOne(ie){this._state===0&&(this._results.push(ie),this._onStateChanged.fire())}emitMany(ie){this._state===0&&(this._results=this._results.concat(ie),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(ie){this._state===0&&(this._state=2,this._error=ie,this._onStateChanged.fire())}}class $ extends U{constructor(ie,ee){super(ee),this._source=ie}cancel(){this._source.cancel()}}function G(ie){const ee=new s.Qi,ne=ie(ee.token);return new $(ee,async(H)=>{const V=ee.token.onCancellationRequested(()=>{V.dispose(),ee.dispose(),H.reject(new I.AL)});try{for await(let Y of ne){if(ee.token.isCancellationRequested)return;H.emitOne(Y)}V.dispose(),ee.dispose()}catch(Y){V.dispose(),ee.dispose(),H.reject(Y)}})}},2802:(dt,pe,h)=>{h.d(pe,{$l:()=>M,Gs:()=>d,MB:()=>J,Sw:()=>w,bb:()=>E,gN:()=>v,pJ:()=>C});var s=h(3946);const I=typeof Buffer!="undefined";let T;new s.d(()=>new Uint8Array(256));class J{static wrap(f){return I&&!Buffer.isBuffer(f)&&(f=Buffer.from(f.buffer,f.byteOffset,f.byteLength)),new J(f)}constructor(f){this.buffer=f,this.byteLength=this.buffer.byteLength}toString(){return I?this.buffer.toString():(T||(T=new TextDecoder),T.decode(this.buffer))}}function M(f,p){return(0|f[p+0])>>>0|f[p+1]<<8>>>0}function v(f,p,_){f[_+0]=255&p,p>>>=8,f[_+1]=255&p}function E(f,p){return f[p]*16777216+65536*f[p+1]+256*f[p+2]+f[p+3]}function w(f,p,_){f[_+3]=p,p>>>=8,f[_+2]=p,p>>>=8,f[_+1]=p,p>>>=8,f[_]=p}function C(f,p){return f[p]}function d(f,p,_){f[_]=p}},6260:(dt,pe,h)=>{function s(J){return J}h.d(pe,{VV:()=>T,o5:()=>I});class I{constructor(J,M){this.lastCache=void 0,this.lastArgKey=void 0,typeof J=="function"?(this._fn=J,this._computeKey=s):(this._fn=M,this._computeKey=J.getCacheKey)}get(J){const M=this._computeKey(J);return this.lastArgKey!==M&&(this.lastArgKey=M,this.lastCache=this._fn(J)),this.lastCache}}class T{get cachedValues(){return this._map}constructor(J,M){this._map=new Map,this._map2=new Map,typeof J=="function"?(this._fn=J,this._computeKey=s):(this._fn=M,this._computeKey=J.getCacheKey)}get(J){const M=this._computeKey(J);if(this._map2.has(M))return this._map2.get(M);const v=this._fn(J);return this._map.set(J,v),this._map2.set(M,v),v}}},8903:(dt,pe,h)=>{h.d(pe,{Qi:()=>M,XO:()=>T,bs:()=>v});var s=h(2106);const I=Object.freeze(function(E,w){const C=setTimeout(E.bind(w),0);return{dispose(){clearTimeout(C)}}});var T;(function(E){E.isCancellationToken=function(w){return w===E.None||w===E.Cancelled||w instanceof J||!(!w||typeof w!="object")&&typeof w.isCancellationRequested=="boolean"&&typeof w.onCancellationRequested=="function"},E.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:s.Jh.None}),E.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:I})})(T||(T={}));class J{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?I:(this._emitter||(this._emitter=new s.vl),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class M{constructor(E){this._token=void 0,this._parentListener=void 0,this._parentListener=E&&E.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new J),this._token}cancel(){this._token?this._token instanceof J&&this._token.cancel():this._token=T.Cancelled}dispose(E=!1){E&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof J&&this._token.dispose():this._token=T.None}}function v(E){const w=new M;return E.add({dispose(){w.cancel()}}),w.token}},5915:(dt,pe,h)=>{h.d(pe,{W:()=>I});var s=h(9892);const I={add:s.k("add",60000),plus:s.k("plus",60000),gistNew:s.k("gist-new",60000),repoCreate:s.k("repo-create",60000),lightbulb:s.k("lightbulb",60001),lightBulb:s.k("light-bulb",60001),repo:s.k("repo",60002),repoDelete:s.k("repo-delete",60002),gistFork:s.k("gist-fork",60003),repoForked:s.k("repo-forked",60003),gitPullRequest:s.k("git-pull-request",60004),gitPullRequestAbandoned:s.k("git-pull-request-abandoned",60004),recordKeys:s.k("record-keys",60005),keyboard:s.k("keyboard",60005),tag:s.k("tag",60006),gitPullRequestLabel:s.k("git-pull-request-label",60006),tagAdd:s.k("tag-add",60006),tagRemove:s.k("tag-remove",60006),person:s.k("person",60007),personFollow:s.k("person-follow",60007),personOutline:s.k("person-outline",60007),personFilled:s.k("person-filled",60007),gitBranch:s.k("git-branch",60008),gitBranchCreate:s.k("git-branch-create",60008),gitBranchDelete:s.k("git-branch-delete",60008),sourceControl:s.k("source-control",60008),mirror:s.k("mirror",60009),mirrorPublic:s.k("mirror-public",60009),star:s.k("star",60010),starAdd:s.k("star-add",60010),starDelete:s.k("star-delete",60010),starEmpty:s.k("star-empty",60010),comment:s.k("comment",60011),commentAdd:s.k("comment-add",60011),alert:s.k("alert",60012),warning:s.k("warning",60012),search:s.k("search",60013),searchSave:s.k("search-save",60013),logOut:s.k("log-out",60014),signOut:s.k("sign-out",60014),logIn:s.k("log-in",60015),signIn:s.k("sign-in",60015),eye:s.k("eye",60016),eyeUnwatch:s.k("eye-unwatch",60016),eyeWatch:s.k("eye-watch",60016),circleFilled:s.k("circle-filled",60017),primitiveDot:s.k("primitive-dot",60017),closeDirty:s.k("close-dirty",60017),debugBreakpoint:s.k("debug-breakpoint",60017),debugBreakpointDisabled:s.k("debug-breakpoint-disabled",60017),debugHint:s.k("debug-hint",60017),terminalDecorationSuccess:s.k("terminal-decoration-success",60017),primitiveSquare:s.k("primitive-square",60018),edit:s.k("edit",60019),pencil:s.k("pencil",60019),info:s.k("info",60020),issueOpened:s.k("issue-opened",60020),gistPrivate:s.k("gist-private",60021),gitForkPrivate:s.k("git-fork-private",60021),lock:s.k("lock",60021),mirrorPrivate:s.k("mirror-private",60021),close:s.k("close",60022),removeClose:s.k("remove-close",60022),x:s.k("x",60022),repoSync:s.k("repo-sync",60023),sync:s.k("sync",60023),clone:s.k("clone",60024),desktopDownload:s.k("desktop-download",60024),beaker:s.k("beaker",60025),microscope:s.k("microscope",60025),vm:s.k("vm",60026),deviceDesktop:s.k("device-desktop",60026),file:s.k("file",60027),fileText:s.k("file-text",60027),more:s.k("more",60028),ellipsis:s.k("ellipsis",60028),kebabHorizontal:s.k("kebab-horizontal",60028),mailReply:s.k("mail-reply",60029),reply:s.k("reply",60029),organization:s.k("organization",60030),organizationFilled:s.k("organization-filled",60030),organizationOutline:s.k("organization-outline",60030),newFile:s.k("new-file",60031),fileAdd:s.k("file-add",60031),newFolder:s.k("new-folder",60032),fileDirectoryCreate:s.k("file-directory-create",60032),trash:s.k("trash",60033),trashcan:s.k("trashcan",60033),history:s.k("history",60034),clock:s.k("clock",60034),folder:s.k("folder",60035),fileDirectory:s.k("file-directory",60035),symbolFolder:s.k("symbol-folder",60035),logoGithub:s.k("logo-github",60036),markGithub:s.k("mark-github",60036),github:s.k("github",60036),terminal:s.k("terminal",60037),console:s.k("console",60037),repl:s.k("repl",60037),zap:s.k("zap",60038),symbolEvent:s.k("symbol-event",60038),error:s.k("error",60039),stop:s.k("stop",60039),variable:s.k("variable",60040),symbolVariable:s.k("symbol-variable",60040),array:s.k("array",60042),symbolArray:s.k("symbol-array",60042),symbolModule:s.k("symbol-module",60043),symbolPackage:s.k("symbol-package",60043),symbolNamespace:s.k("symbol-namespace",60043),symbolObject:s.k("symbol-object",60043),symbolMethod:s.k("symbol-method",60044),symbolFunction:s.k("symbol-function",60044),symbolConstructor:s.k("symbol-constructor",60044),symbolBoolean:s.k("symbol-boolean",60047),symbolNull:s.k("symbol-null",60047),symbolNumeric:s.k("symbol-numeric",60048),symbolNumber:s.k("symbol-number",60048),symbolStructure:s.k("symbol-structure",60049),symbolStruct:s.k("symbol-struct",60049),symbolParameter:s.k("symbol-parameter",60050),symbolTypeParameter:s.k("symbol-type-parameter",60050),symbolKey:s.k("symbol-key",60051),symbolText:s.k("symbol-text",60051),symbolReference:s.k("symbol-reference",60052),goToFile:s.k("go-to-file",60052),symbolEnum:s.k("symbol-enum",60053),symbolValue:s.k("symbol-value",60053),symbolRuler:s.k("symbol-ruler",60054),symbolUnit:s.k("symbol-unit",60054),activateBreakpoints:s.k("activate-breakpoints",60055),archive:s.k("archive",60056),arrowBoth:s.k("arrow-both",60057),arrowDown:s.k("arrow-down",60058),arrowLeft:s.k("arrow-left",60059),arrowRight:s.k("arrow-right",60060),arrowSmallDown:s.k("arrow-small-down",60061),arrowSmallLeft:s.k("arrow-small-left",60062),arrowSmallRight:s.k("arrow-small-right",60063),arrowSmallUp:s.k("arrow-small-up",60064),arrowUp:s.k("arrow-up",60065),bell:s.k("bell",60066),bold:s.k("bold",60067),book:s.k("book",60068),bookmark:s.k("bookmark",60069),debugBreakpointConditionalUnverified:s.k("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:s.k("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:s.k("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:s.k("debug-breakpoint-data-unverified",60072),debugBreakpointData:s.k("debug-breakpoint-data",60073),debugBreakpointDataDisabled:s.k("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:s.k("debug-breakpoint-log-unverified",60074),debugBreakpointLog:s.k("debug-breakpoint-log",60075),debugBreakpointLogDisabled:s.k("debug-breakpoint-log-disabled",60075),briefcase:s.k("briefcase",60076),broadcast:s.k("broadcast",60077),browser:s.k("browser",60078),bug:s.k("bug",60079),calendar:s.k("calendar",60080),caseSensitive:s.k("case-sensitive",60081),check:s.k("check",60082),checklist:s.k("checklist",60083),chevronDown:s.k("chevron-down",60084),chevronLeft:s.k("chevron-left",60085),chevronRight:s.k("chevron-right",60086),chevronUp:s.k("chevron-up",60087),chromeClose:s.k("chrome-close",60088),chromeMaximize:s.k("chrome-maximize",60089),chromeMinimize:s.k("chrome-minimize",60090),chromeRestore:s.k("chrome-restore",60091),circleOutline:s.k("circle-outline",60092),circle:s.k("circle",60092),debugBreakpointUnverified:s.k("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:s.k("terminal-decoration-incomplete",60092),circleSlash:s.k("circle-slash",60093),circuitBoard:s.k("circuit-board",60094),clearAll:s.k("clear-all",60095),clippy:s.k("clippy",60096),closeAll:s.k("close-all",60097),cloudDownload:s.k("cloud-download",60098),cloudUpload:s.k("cloud-upload",60099),code:s.k("code",60100),collapseAll:s.k("collapse-all",60101),colorMode:s.k("color-mode",60102),commentDiscussion:s.k("comment-discussion",60103),creditCard:s.k("credit-card",60105),dash:s.k("dash",60108),dashboard:s.k("dashboard",60109),database:s.k("database",60110),debugContinue:s.k("debug-continue",60111),debugDisconnect:s.k("debug-disconnect",60112),debugPause:s.k("debug-pause",60113),debugRestart:s.k("debug-restart",60114),debugStart:s.k("debug-start",60115),debugStepInto:s.k("debug-step-into",60116),debugStepOut:s.k("debug-step-out",60117),debugStepOver:s.k("debug-step-over",60118),debugStop:s.k("debug-stop",60119),debug:s.k("debug",60120),deviceCameraVideo:s.k("device-camera-video",60121),deviceCamera:s.k("device-camera",60122),deviceMobile:s.k("device-mobile",60123),diffAdded:s.k("diff-added",60124),diffIgnored:s.k("diff-ignored",60125),diffModified:s.k("diff-modified",60126),diffRemoved:s.k("diff-removed",60127),diffRenamed:s.k("diff-renamed",60128),diff:s.k("diff",60129),diffSidebyside:s.k("diff-sidebyside",60129),discard:s.k("discard",60130),editorLayout:s.k("editor-layout",60131),emptyWindow:s.k("empty-window",60132),exclude:s.k("exclude",60133),extensions:s.k("extensions",60134),eyeClosed:s.k("eye-closed",60135),fileBinary:s.k("file-binary",60136),fileCode:s.k("file-code",60137),fileMedia:s.k("file-media",60138),filePdf:s.k("file-pdf",60139),fileSubmodule:s.k("file-submodule",60140),fileSymlinkDirectory:s.k("file-symlink-directory",60141),fileSymlinkFile:s.k("file-symlink-file",60142),fileZip:s.k("file-zip",60143),files:s.k("files",60144),filter:s.k("filter",60145),flame:s.k("flame",60146),foldDown:s.k("fold-down",60147),foldUp:s.k("fold-up",60148),fold:s.k("fold",60149),folderActive:s.k("folder-active",60150),folderOpened:s.k("folder-opened",60151),gear:s.k("gear",60152),gift:s.k("gift",60153),gistSecret:s.k("gist-secret",60154),gist:s.k("gist",60155),gitCommit:s.k("git-commit",60156),gitCompare:s.k("git-compare",60157),compareChanges:s.k("compare-changes",60157),gitMerge:s.k("git-merge",60158),githubAction:s.k("github-action",60159),githubAlt:s.k("github-alt",60160),globe:s.k("globe",60161),grabber:s.k("grabber",60162),graph:s.k("graph",60163),gripper:s.k("gripper",60164),heart:s.k("heart",60165),home:s.k("home",60166),horizontalRule:s.k("horizontal-rule",60167),hubot:s.k("hubot",60168),inbox:s.k("inbox",60169),issueReopened:s.k("issue-reopened",60171),issues:s.k("issues",60172),italic:s.k("italic",60173),jersey:s.k("jersey",60174),json:s.k("json",60175),kebabVertical:s.k("kebab-vertical",60176),key:s.k("key",60177),law:s.k("law",60178),lightbulbAutofix:s.k("lightbulb-autofix",60179),linkExternal:s.k("link-external",60180),link:s.k("link",60181),listOrdered:s.k("list-ordered",60182),listUnordered:s.k("list-unordered",60183),liveShare:s.k("live-share",60184),loading:s.k("loading",60185),location:s.k("location",60186),mailRead:s.k("mail-read",60187),mail:s.k("mail",60188),markdown:s.k("markdown",60189),megaphone:s.k("megaphone",60190),mention:s.k("mention",60191),milestone:s.k("milestone",60192),gitPullRequestMilestone:s.k("git-pull-request-milestone",60192),mortarBoard:s.k("mortar-board",60193),move:s.k("move",60194),multipleWindows:s.k("multiple-windows",60195),mute:s.k("mute",60196),noNewline:s.k("no-newline",60197),note:s.k("note",60198),octoface:s.k("octoface",60199),openPreview:s.k("open-preview",60200),package:s.k("package",60201),paintcan:s.k("paintcan",60202),pin:s.k("pin",60203),play:s.k("play",60204),run:s.k("run",60204),plug:s.k("plug",60205),preserveCase:s.k("preserve-case",60206),preview:s.k("preview",60207),project:s.k("project",60208),pulse:s.k("pulse",60209),question:s.k("question",60210),quote:s.k("quote",60211),radioTower:s.k("radio-tower",60212),reactions:s.k("reactions",60213),references:s.k("references",60214),refresh:s.k("refresh",60215),regex:s.k("regex",60216),remoteExplorer:s.k("remote-explorer",60217),remote:s.k("remote",60218),remove:s.k("remove",60219),replaceAll:s.k("replace-all",60220),replace:s.k("replace",60221),repoClone:s.k("repo-clone",60222),repoForcePush:s.k("repo-force-push",60223),repoPull:s.k("repo-pull",60224),repoPush:s.k("repo-push",60225),report:s.k("report",60226),requestChanges:s.k("request-changes",60227),rocket:s.k("rocket",60228),rootFolderOpened:s.k("root-folder-opened",60229),rootFolder:s.k("root-folder",60230),rss:s.k("rss",60231),ruby:s.k("ruby",60232),saveAll:s.k("save-all",60233),saveAs:s.k("save-as",60234),save:s.k("save",60235),screenFull:s.k("screen-full",60236),screenNormal:s.k("screen-normal",60237),searchStop:s.k("search-stop",60238),server:s.k("server",60240),settingsGear:s.k("settings-gear",60241),settings:s.k("settings",60242),shield:s.k("shield",60243),smiley:s.k("smiley",60244),sortPrecedence:s.k("sort-precedence",60245),splitHorizontal:s.k("split-horizontal",60246),splitVertical:s.k("split-vertical",60247),squirrel:s.k("squirrel",60248),starFull:s.k("star-full",60249),starHalf:s.k("star-half",60250),symbolClass:s.k("symbol-class",60251),symbolColor:s.k("symbol-color",60252),symbolConstant:s.k("symbol-constant",60253),symbolEnumMember:s.k("symbol-enum-member",60254),symbolField:s.k("symbol-field",60255),symbolFile:s.k("symbol-file",60256),symbolInterface:s.k("symbol-interface",60257),symbolKeyword:s.k("symbol-keyword",60258),symbolMisc:s.k("symbol-misc",60259),symbolOperator:s.k("symbol-operator",60260),symbolProperty:s.k("symbol-property",60261),wrench:s.k("wrench",60261),wrenchSubaction:s.k("wrench-subaction",60261),symbolSnippet:s.k("symbol-snippet",60262),tasklist:s.k("tasklist",60263),telescope:s.k("telescope",60264),textSize:s.k("text-size",60265),threeBars:s.k("three-bars",60266),thumbsdown:s.k("thumbsdown",60267),thumbsup:s.k("thumbsup",60268),tools:s.k("tools",60269),triangleDown:s.k("triangle-down",60270),triangleLeft:s.k("triangle-left",60271),triangleRight:s.k("triangle-right",60272),triangleUp:s.k("triangle-up",60273),twitter:s.k("twitter",60274),unfold:s.k("unfold",60275),unlock:s.k("unlock",60276),unmute:s.k("unmute",60277),unverified:s.k("unverified",60278),verified:s.k("verified",60279),versions:s.k("versions",60280),vmActive:s.k("vm-active",60281),vmOutline:s.k("vm-outline",60282),vmRunning:s.k("vm-running",60283),watch:s.k("watch",60284),whitespace:s.k("whitespace",60285),wholeWord:s.k("whole-word",60286),window:s.k("window",60287),wordWrap:s.k("word-wrap",60288),zoomIn:s.k("zoom-in",60289),zoomOut:s.k("zoom-out",60290),listFilter:s.k("list-filter",60291),listFlat:s.k("list-flat",60292),listSelection:s.k("list-selection",60293),selection:s.k("selection",60293),listTree:s.k("list-tree",60294),debugBreakpointFunctionUnverified:s.k("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:s.k("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:s.k("debug-breakpoint-function-disabled",60296),debugStackframeActive:s.k("debug-stackframe-active",60297),circleSmallFilled:s.k("circle-small-filled",60298),debugStackframeDot:s.k("debug-stackframe-dot",60298),terminalDecorationMark:s.k("terminal-decoration-mark",60298),debugStackframe:s.k("debug-stackframe",60299),debugStackframeFocused:s.k("debug-stackframe-focused",60299),debugBreakpointUnsupported:s.k("debug-breakpoint-unsupported",60300),symbolString:s.k("symbol-string",60301),debugReverseContinue:s.k("debug-reverse-continue",60302),debugStepBack:s.k("debug-step-back",60303),debugRestartFrame:s.k("debug-restart-frame",60304),debugAlt:s.k("debug-alt",60305),callIncoming:s.k("call-incoming",60306),callOutgoing:s.k("call-outgoing",60307),menu:s.k("menu",60308),expandAll:s.k("expand-all",60309),feedback:s.k("feedback",60310),gitPullRequestReviewer:s.k("git-pull-request-reviewer",60310),groupByRefType:s.k("group-by-ref-type",60311),ungroupByRefType:s.k("ungroup-by-ref-type",60312),account:s.k("account",60313),gitPullRequestAssignee:s.k("git-pull-request-assignee",60313),bellDot:s.k("bell-dot",60314),debugConsole:s.k("debug-console",60315),library:s.k("library",60316),output:s.k("output",60317),runAll:s.k("run-all",60318),syncIgnored:s.k("sync-ignored",60319),pinned:s.k("pinned",60320),githubInverted:s.k("github-inverted",60321),serverProcess:s.k("server-process",60322),serverEnvironment:s.k("server-environment",60323),pass:s.k("pass",60324),issueClosed:s.k("issue-closed",60324),stopCircle:s.k("stop-circle",60325),playCircle:s.k("play-circle",60326),record:s.k("record",60327),debugAltSmall:s.k("debug-alt-small",60328),vmConnect:s.k("vm-connect",60329),cloud:s.k("cloud",60330),merge:s.k("merge",60331),export:s.k("export",60332),graphLeft:s.k("graph-left",60333),magnet:s.k("magnet",60334),notebook:s.k("notebook",60335),redo:s.k("redo",60336),checkAll:s.k("check-all",60337),pinnedDirty:s.k("pinned-dirty",60338),passFilled:s.k("pass-filled",60339),circleLargeFilled:s.k("circle-large-filled",60340),circleLarge:s.k("circle-large",60341),circleLargeOutline:s.k("circle-large-outline",60341),combine:s.k("combine",60342),gather:s.k("gather",60342),table:s.k("table",60343),variableGroup:s.k("variable-group",60344),typeHierarchy:s.k("type-hierarchy",60345),typeHierarchySub:s.k("type-hierarchy-sub",60346),typeHierarchySuper:s.k("type-hierarchy-super",60347),gitPullRequestCreate:s.k("git-pull-request-create",60348),runAbove:s.k("run-above",60349),runBelow:s.k("run-below",60350),notebookTemplate:s.k("notebook-template",60351),debugRerun:s.k("debug-rerun",60352),workspaceTrusted:s.k("workspace-trusted",60353),workspaceUntrusted:s.k("workspace-untrusted",60354),workspaceUnknown:s.k("workspace-unknown",60355),terminalCmd:s.k("terminal-cmd",60356),terminalDebian:s.k("terminal-debian",60357),terminalLinux:s.k("terminal-linux",60358),terminalPowershell:s.k("terminal-powershell",60359),terminalTmux:s.k("terminal-tmux",60360),terminalUbuntu:s.k("terminal-ubuntu",60361),terminalBash:s.k("terminal-bash",60362),arrowSwap:s.k("arrow-swap",60363),copy:s.k("copy",60364),personAdd:s.k("person-add",60365),filterFilled:s.k("filter-filled",60366),wand:s.k("wand",60367),debugLineByLine:s.k("debug-line-by-line",60368),inspect:s.k("inspect",60369),layers:s.k("layers",60370),layersDot:s.k("layers-dot",60371),layersActive:s.k("layers-active",60372),compass:s.k("compass",60373),compassDot:s.k("compass-dot",60374),compassActive:s.k("compass-active",60375),azure:s.k("azure",60376),issueDraft:s.k("issue-draft",60377),gitPullRequestClosed:s.k("git-pull-request-closed",60378),gitPullRequestDraft:s.k("git-pull-request-draft",60379),debugAll:s.k("debug-all",60380),debugCoverage:s.k("debug-coverage",60381),runErrors:s.k("run-errors",60382),folderLibrary:s.k("folder-library",60383),debugContinueSmall:s.k("debug-continue-small",60384),beakerStop:s.k("beaker-stop",60385),graphLine:s.k("graph-line",60386),graphScatter:s.k("graph-scatter",60387),pieChart:s.k("pie-chart",60388),bracket:s.k("bracket",60175),bracketDot:s.k("bracket-dot",60389),bracketError:s.k("bracket-error",60390),lockSmall:s.k("lock-small",60391),azureDevops:s.k("azure-devops",60392),verifiedFilled:s.k("verified-filled",60393),newline:s.k("newline",60394),layout:s.k("layout",60395),layoutActivitybarLeft:s.k("layout-activitybar-left",60396),layoutActivitybarRight:s.k("layout-activitybar-right",60397),layoutPanelLeft:s.k("layout-panel-left",60398),layoutPanelCenter:s.k("layout-panel-center",60399),layoutPanelJustify:s.k("layout-panel-justify",60400),layoutPanelRight:s.k("layout-panel-right",60401),layoutPanel:s.k("layout-panel",60402),layoutSidebarLeft:s.k("layout-sidebar-left",60403),layoutSidebarRight:s.k("layout-sidebar-right",60404),layoutStatusbar:s.k("layout-statusbar",60405),layoutMenubar:s.k("layout-menubar",60406),layoutCentered:s.k("layout-centered",60407),target:s.k("target",60408),indent:s.k("indent",60409),recordSmall:s.k("record-small",60410),errorSmall:s.k("error-small",60411),terminalDecorationError:s.k("terminal-decoration-error",60411),arrowCircleDown:s.k("arrow-circle-down",60412),arrowCircleLeft:s.k("arrow-circle-left",60413),arrowCircleRight:s.k("arrow-circle-right",60414),arrowCircleUp:s.k("arrow-circle-up",60415),layoutSidebarRightOff:s.k("layout-sidebar-right-off",60416),layoutPanelOff:s.k("layout-panel-off",60417),layoutSidebarLeftOff:s.k("layout-sidebar-left-off",60418),blank:s.k("blank",60419),heartFilled:s.k("heart-filled",60420),map:s.k("map",60421),mapHorizontal:s.k("map-horizontal",60421),foldHorizontal:s.k("fold-horizontal",60421),mapFilled:s.k("map-filled",60422),mapHorizontalFilled:s.k("map-horizontal-filled",60422),foldHorizontalFilled:s.k("fold-horizontal-filled",60422),circleSmall:s.k("circle-small",60423),bellSlash:s.k("bell-slash",60424),bellSlashDot:s.k("bell-slash-dot",60425),commentUnresolved:s.k("comment-unresolved",60426),gitPullRequestGoToChanges:s.k("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:s.k("git-pull-request-new-changes",60428),searchFuzzy:s.k("search-fuzzy",60429),commentDraft:s.k("comment-draft",60430),send:s.k("send",60431),sparkle:s.k("sparkle",60432),insert:s.k("insert",60433),mic:s.k("mic",60434),thumbsdownFilled:s.k("thumbsdown-filled",60435),thumbsupFilled:s.k("thumbsup-filled",60436),coffee:s.k("coffee",60437),snake:s.k("snake",60438),game:s.k("game",60439),vr:s.k("vr",60440),chip:s.k("chip",60441),piano:s.k("piano",60442),music:s.k("music",60443),micFilled:s.k("mic-filled",60444),repoFetch:s.k("repo-fetch",60445),copilot:s.k("copilot",60446),lightbulbSparkle:s.k("lightbulb-sparkle",60447),robot:s.k("robot",60448),sparkleFilled:s.k("sparkle-filled",60449),diffSingle:s.k("diff-single",60450),diffMultiple:s.k("diff-multiple",60451),surroundWith:s.k("surround-with",60452),share:s.k("share",60453),gitStash:s.k("git-stash",60454),gitStashApply:s.k("git-stash-apply",60455),gitStashPop:s.k("git-stash-pop",60456),vscode:s.k("vscode",60457),vscodeInsiders:s.k("vscode-insiders",60458),codeOss:s.k("code-oss",60459),runCoverage:s.k("run-coverage",60460),runAllCoverage:s.k("run-all-coverage",60461),coverage:s.k("coverage",60462),githubProject:s.k("github-project",60463),mapVertical:s.k("map-vertical",60464),foldVertical:s.k("fold-vertical",60464),mapVerticalFilled:s.k("map-vertical-filled",60465),foldVerticalFilled:s.k("fold-vertical-filled",60465),goToSearch:s.k("go-to-search",60466),percentage:s.k("percentage",60467),sortPercentage:s.k("sort-percentage",60467),attach:s.k("attach",60468),dialogError:s.k("dialog-error","error"),dialogWarning:s.k("dialog-warning","warning"),dialogInfo:s.k("dialog-info","info"),dialogClose:s.k("dialog-close","close"),treeItemExpanded:s.k("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:s.k("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:s.k("tree-filter-on-type-off","list-selection"),treeFilterClear:s.k("tree-filter-clear","close"),treeItemLoading:s.k("tree-item-loading","loading"),menuSelection:s.k("menu-selection","check"),menuSubmenu:s.k("menu-submenu","chevron-right"),menuBarMore:s.k("menubar-more","more"),scrollbarButtonLeft:s.k("scrollbar-button-left","triangle-left"),scrollbarButtonRight:s.k("scrollbar-button-right","triangle-right"),scrollbarButtonUp:s.k("scrollbar-button-up","triangle-up"),scrollbarButtonDown:s.k("scrollbar-button-down","triangle-down"),toolBarMore:s.k("toolbar-more","more"),quickInputBack:s.k("quick-input-back","arrow-left"),dropDownButton:s.k("drop-down-button",60084),symbolCustomColor:s.k("symbol-customcolor",60252),exportIcon:s.k("export",60332),workspaceUnspecified:s.k("workspace-unspecified",60355),newLine:s.k("newline",60394),thumbsDownFilled:s.k("thumbsdown-filled",60435),thumbsUpFilled:s.k("thumbsup-filled",60436),gitFetch:s.k("git-fetch",60445),lightbulbSparkleAutofix:s.k("lightbulb-sparkle-autofix",60447),debugBreakpointPending:s.k("debug-breakpoint-pending",60377)}},9892:(dt,pe,h)=>{h.d(pe,{J:()=>J,k:()=>T});var s=h(9359);const I=Object.create(null);function T(M,v){if(s.Kg(v)){const E=I[v];if(E===void 0)throw new Error(`${M} references an unknown codicon: ${v}`);v=E}return I[M]=v,{id:M}}function J(){return I}},8436:(dt,pe,h)=>{function s(T,J){const M=[],v=[];for(let E of T)J.has(E)||M.push(E);for(let E of J)T.has(E)||v.push(E);return{removed:M,added:v}}function I(T,J){const M=new Set;for(let v of J)T.has(v)&&M.add(v);return M}h.d(pe,{E:()=>I,Z:()=>s})},4901:(dt,pe,h)=>{function s(v,E){const w=Math.pow(10,E);return Math.round(v*w)/w}h.d(pe,{$J:()=>J,Q1:()=>M,bU:()=>I,hB:()=>T});class I{constructor(v,E,w,C=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,v)),this.g=0|Math.min(255,Math.max(0,E)),this.b=0|Math.min(255,Math.max(0,w)),this.a=s(Math.max(Math.min(1,C),0),3)}static equals(v,E){return v.r===E.r&&v.g===E.g&&v.b===E.b&&v.a===E.a}}class T{constructor(v,E,w,C){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,v),0),this.s=s(Math.max(Math.min(1,E),0),3),this.l=s(Math.max(Math.min(1,w),0),3),this.a=s(Math.max(Math.min(1,C),0),3)}static equals(v,E){return v.h===E.h&&v.s===E.s&&v.l===E.l&&v.a===E.a}static fromRGBA(v){const E=v.r/255,w=v.g/255,C=v.b/255,d=v.a,f=Math.max(E,w,C),p=Math.min(E,w,C);let _=0,m=0;const b=(p+f)/2,x=f-p;if(x>0){switch(m=Math.min(b<=0.5?x/(2*b):x/(2-2*b),1),f){case E:_=(w-C)/x+(w<C?6:0);break;case w:_=(C-E)/x+2;break;case C:_=(E-w)/x+4}_*=60,_=Math.round(_)}return new T(_,m,b,d)}static _hue2rgb(v,E,w){return w<0&&(w+=1),w>1&&(w-=1),w<0.16666666666666666?v+6*(E-v)*w:w<0.5?E:w<0.6666666666666666?v+(E-v)*(0.6666666666666666-w)*6:v}static toRGBA(v){const E=v.h/360,{s:w,l:C,a:d}=v;let f,p,_;if(w===0)f=p=_=C;else{const m=C<0.5?C*(1+w):C+w-C*w,b=2*C-m;f=T._hue2rgb(b,m,E+0.3333333333333333),p=T._hue2rgb(b,m,E),_=T._hue2rgb(b,m,E-0.3333333333333333)}return new I(Math.round(255*f),Math.round(255*p),Math.round(255*_),d)}}class J{constructor(v,E,w,C){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,v),0),this.s=s(Math.max(Math.min(1,E),0),3),this.v=s(Math.max(Math.min(1,w),0),3),this.a=s(Math.max(Math.min(1,C),0),3)}static equals(v,E){return v.h===E.h&&v.s===E.s&&v.v===E.v&&v.a===E.a}static fromRGBA(v){const E=v.r/255,w=v.g/255,C=v.b/255,d=Math.max(E,w,C),f=d-Math.min(E,w,C),p=d===0?0:f/d;let _;return _=f===0?0:d===E?((w-C)/f%6+6)%6:d===w?(C-E)/f+2:(E-w)/f+4,new J(Math.round(60*_),p,d,v.a)}static toRGBA(v){const{h:E,s:w,v:C,a:d}=v,f=C*w,p=f*(1-Math.abs(E/60%2-1)),_=C-f;let[m,b,x]=[0,0,0];return E<60?(m=f,b=p):E<120?(m=p,b=f):E<180?(b=f,x=p):E<240?(b=p,x=f):E<300?(m=p,x=f):E<=360&&(m=f,x=p),m=Math.round(255*(m+_)),b=Math.round(255*(b+_)),x=Math.round(255*(x+_)),new I(m,b,x,d)}}class M{static fromHex(v){return M.Format.CSS.parseHex(v)||M.red}static equals(v,E){return!v&&!E||!(!v||!E)&&v.equals(E)}get hsla(){return this._hsla?this._hsla:T.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:J.fromRGBA(this.rgba)}constructor(v){if(!v)throw new Error("Color needs a value");if(v instanceof I)this.rgba=v;else if(v instanceof T)this._hsla=v,this.rgba=T.toRGBA(v);else{if(!(v instanceof J))throw new Error("Invalid color ctor argument");this._hsva=v,this.rgba=J.toRGBA(v)}}equals(v){return!!v&&I.equals(this.rgba,v.rgba)&&T.equals(this.hsla,v.hsla)&&J.equals(this.hsva,v.hsva)}getRelativeLuminance(){return s(0.2126*M._relativeLuminanceForComponent(this.rgba.r)+0.7152*M._relativeLuminanceForComponent(this.rgba.g)+0.0722*M._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(v){const E=v/255;return E<=0.03928?E/12.92:Math.pow((E+0.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1000>=128}isLighterThan(v){return this.getRelativeLuminance()>v.getRelativeLuminance()}isDarkerThan(v){return this.getRelativeLuminance()<v.getRelativeLuminance()}lighten(v){return new M(new T(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*v,this.hsla.a))}darken(v){return new M(new T(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*v,this.hsla.a))}transparent(v){const{r:E,g:w,b:C,a:d}=this.rgba;return new M(new I(E,w,C,d*v))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new M(new I(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(v){if(this.isOpaque()||v.rgba.a!==1)return this;const{r:E,g:w,b:C,a:d}=this.rgba;return new M(new I(v.rgba.r-d*(v.rgba.r-E),v.rgba.g-d*(v.rgba.g-w),v.rgba.b-d*(v.rgba.b-C),1))}toString(){return this._toString||(this._toString=M.Format.CSS.format(this)),this._toString}static getLighterColor(v,E,w){if(v.isLighterThan(E))return v;w=w||0.5;const C=v.getRelativeLuminance(),d=E.getRelativeLuminance();return w=w*(d-C)/d,v.lighten(w)}static getDarkerColor(v,E,w){if(v.isDarkerThan(E))return v;w=w||0.5;const C=v.getRelativeLuminance();return w=w*(C-E.getRelativeLuminance())/C,v.darken(w)}static{this.white=new M(new I(255,255,255,1))}static{this.black=new M(new I(0,0,0,1))}static{this.red=new M(new I(255,0,0,1))}static{this.blue=new M(new I(0,0,255,1))}static{this.green=new M(new I(0,255,0,1))}static{this.cyan=new M(new I(0,255,255,1))}static{this.lightgrey=new M(new I(211,211,211,1))}static{this.transparent=new M(new I(0,0,0,0))}}(function(v){let E;(function(w){let C;(function(d){function f(_){const m=_.toString(16);return m.length!==2?"0"+m:m}function p(_){switch(_){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}d.formatRGB=function(_){return _.rgba.a===1?`rgb(${_.rgba.r}, ${_.rgba.g}, ${_.rgba.b})`:v.Format.CSS.formatRGBA(_)},d.formatRGBA=function(_){return`rgba(${_.rgba.r}, ${_.rgba.g}, ${_.rgba.b}, ${+_.rgba.a.toFixed(2)})`},d.formatHSL=function(_){return _.hsla.a===1?`hsl(${_.hsla.h}, ${(100*_.hsla.s).toFixed(2)}%, ${(100*_.hsla.l).toFixed(2)}%)`:v.Format.CSS.formatHSLA(_)},d.formatHSLA=function(_){return`hsla(${_.hsla.h}, ${(100*_.hsla.s).toFixed(2)}%, ${(100*_.hsla.l).toFixed(2)}%, ${_.hsla.a.toFixed(2)})`},d.formatHex=function(_){return`#${f(_.rgba.r)}${f(_.rgba.g)}${f(_.rgba.b)}`},d.formatHexA=function(_,m=!1){return m&&_.rgba.a===1?v.Format.CSS.formatHex(_):`#${f(_.rgba.r)}${f(_.rgba.g)}${f(_.rgba.b)}${f(Math.round(255*_.rgba.a))}`},d.format=function(_){return _.isOpaque()?v.Format.CSS.formatHex(_):v.Format.CSS.formatRGBA(_)},d.parseHex=function(_){const m=_.length;if(m===0)return null;if(_.charCodeAt(0)!==35)return null;if(m===7){const b=16*p(_.charCodeAt(1))+p(_.charCodeAt(2)),x=16*p(_.charCodeAt(3))+p(_.charCodeAt(4)),k=16*p(_.charCodeAt(5))+p(_.charCodeAt(6));return new v(new I(b,x,k,1))}if(m===9){const b=16*p(_.charCodeAt(1))+p(_.charCodeAt(2)),x=16*p(_.charCodeAt(3))+p(_.charCodeAt(4)),k=16*p(_.charCodeAt(5))+p(_.charCodeAt(6)),R=16*p(_.charCodeAt(7))+p(_.charCodeAt(8));return new v(new I(b,x,k,R/255))}if(m===4){const b=p(_.charCodeAt(1)),x=p(_.charCodeAt(2)),k=p(_.charCodeAt(3));return new v(new I(16*b+b,16*x+x,16*k+k))}if(m===5){const b=p(_.charCodeAt(1)),x=p(_.charCodeAt(2)),k=p(_.charCodeAt(3)),R=p(_.charCodeAt(4));return new v(new I(16*b+b,16*x+x,16*k+k,(16*R+R)/255))}return null}})(C=w.CSS||(w.CSS={}))})(E=v.Format||(v.Format={}))})(M||(M={}))},8846:(dt,pe,h)=>{function s(I,T,J){let M=null,v=null;if(typeof J.value=="function"?(M="value",v=J.value,v.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof J.get=="function"&&(M="get",v=J.get),!v)throw new Error("not supported");const E=`\$memoize\$${T}`;J[M]=function(...w){return this.hasOwnProperty(E)||Object.defineProperty(this,E,{configurable:!1,enumerable:!1,writable:!1,value:v.apply(this,w)}),this[E]}}h.d(pe,{B:()=>s})},2111:(dt,pe,h)=>{h.d(pe,{uP:()=>w,F1:()=>J});class s{constructor(C,d,f,p){this.originalStart=C,this.originalLength=d,this.modifiedStart=f,this.modifiedLength=p}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var I=h(2344);class T{constructor(C){this.source=C}getElements(){const C=this.source,d=new Int32Array(C.length);for(let f=0,p=C.length;f<p;f++)d[f]=C.charCodeAt(f);return d}}function J(C,d,f){return new w(new T(C),new T(d)).ComputeDiff(f).changes}class M{static Assert(C,d){if(!C)throw new Error(d)}}class v{static Copy(C,d,f,p,_){for(let m=0;m<_;m++)f[p+m]=C[d+m]}static Copy2(C,d,f,p,_){for(let m=0;m<_;m++)f[p+m]=C[d+m]}}class E{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new s(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(C,d){this.m_originalStart=Math.min(this.m_originalStart,C),this.m_modifiedStart=Math.min(this.m_modifiedStart,d),this.m_originalCount++}AddModifiedElement(C,d){this.m_originalStart=Math.min(this.m_originalStart,C),this.m_modifiedStart=Math.min(this.m_modifiedStart,d),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class w{constructor(C,d,f=null){this.ContinueProcessingPredicate=f,this._originalSequence=C,this._modifiedSequence=d;const[p,_,m]=w._getElements(C),[b,x,k]=w._getElements(d);this._hasStrings=m&&k,this._originalStringElements=p,this._originalElementsOrHash=_,this._modifiedStringElements=b,this._modifiedElementsOrHash=x,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(C){return C.length>0&&typeof C[0]=="string"}static _getElements(C){const d=C.getElements();if(w._isStringArray(d)){const f=new Int32Array(d.length);for(let p=0,_=d.length;p<_;p++)f[p]=I.e2(d[p],0);return[d,f,!0]}return d instanceof Int32Array?[[],d,!1]:[[],new Int32Array(d),!1]}ElementsAreEqual(C,d){return this._originalElementsOrHash[C]===this._modifiedElementsOrHash[d]&&(!this._hasStrings||this._originalStringElements[C]===this._modifiedStringElements[d])}ElementsAreStrictEqual(C,d){return!!this.ElementsAreEqual(C,d)&&w._getStrictElement(this._originalSequence,C)===w._getStrictElement(this._modifiedSequence,d)}static _getStrictElement(C,d){return typeof C.getStrictElement=="function"?C.getStrictElement(d):null}OriginalElementsAreEqual(C,d){return this._originalElementsOrHash[C]===this._originalElementsOrHash[d]&&(!this._hasStrings||this._originalStringElements[C]===this._originalStringElements[d])}ModifiedElementsAreEqual(C,d){return this._modifiedElementsOrHash[C]===this._modifiedElementsOrHash[d]&&(!this._hasStrings||this._modifiedStringElements[C]===this._modifiedStringElements[d])}ComputeDiff(C){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,C)}_ComputeDiff(C,d,f,p,_){const m=[!1];let b=this.ComputeDiffRecursive(C,d,f,p,m);return _&&(b=this.PrettifyChanges(b)),{quitEarly:m[0],changes:b}}ComputeDiffRecursive(C,d,f,p,_){for(_[0]=!1;C<=d&&f<=p&&this.ElementsAreEqual(C,f);)C++,f++;for(;d>=C&&p>=f&&this.ElementsAreEqual(d,p);)d--,p--;if(C>d||f>p){let P;return f<=p?(M.Assert(C===d+1,"originalStart should only be one more than originalEnd"),P=[new s(C,0,f,p-f+1)]):C<=d?(M.Assert(f===p+1,"modifiedStart should only be one more than modifiedEnd"),P=[new s(C,d-C+1,f,0)]):(M.Assert(C===d+1,"originalStart should only be one more than originalEnd"),M.Assert(f===p+1,"modifiedStart should only be one more than modifiedEnd"),P=[]),P}const m=[0],b=[0],x=this.ComputeRecursionPoint(C,d,f,p,m,b,_),k=m[0],R=b[0];if(x!==null)return x;if(!_[0]){const P=this.ComputeDiffRecursive(C,k,f,R,_);let z=[];return z=_[0]?[new s(k+1,d-(k+1)+1,R+1,p-(R+1)+1)]:this.ComputeDiffRecursive(k+1,d,R+1,p,_),this.ConcatenateChanges(P,z)}return[new s(C,d-C+1,f,p-f+1)]}WALKTRACE(C,d,f,p,_,m,b,x,k,R,P,z,te,L,W,B,U,$){let G=null,ie=null,ee=new E,ne=d,H=f,V=te[0]-B[0]-p,Y=-1073741824,ve=this.m_forwardHistory.length-1;do{const Te=V+C;Te===ne||Te<H&&k[Te-1]<k[Te+1]?(L=(P=k[Te+1])-V-p,P<Y&&ee.MarkNextChange(),Y=P,ee.AddModifiedElement(P+1,L),V=Te+1-C):(L=(P=k[Te-1]+1)-V-p,P<Y&&ee.MarkNextChange(),Y=P-1,ee.AddOriginalElement(P,L+1),V=Te-1-C),ve>=0&&(C=(k=this.m_forwardHistory[ve])[0],ne=1,H=k.length-1)}while(--ve>=-1);if(G=ee.getReverseChanges(),$[0]){let Te=te[0]+1,xe=B[0]+1;if(G!==null&&G.length>0){const Be=G[G.length-1];Te=Math.max(Te,Be.getOriginalEnd()),xe=Math.max(xe,Be.getModifiedEnd())}ie=[new s(Te,z-Te+1,xe,W-xe+1)]}else{ee=new E,ne=m,H=b,V=te[0]-B[0]-x,Y=1073741824,ve=U?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const Te=V+_;Te===ne||Te<H&&R[Te-1]>=R[Te+1]?(L=(P=R[Te+1]-1)-V-x,P>Y&&ee.MarkNextChange(),Y=P+1,ee.AddOriginalElement(P+1,L+1),V=Te+1-_):(L=(P=R[Te-1])-V-x,P>Y&&ee.MarkNextChange(),Y=P,ee.AddModifiedElement(P+1,L+1),V=Te-1-_),ve>=0&&(_=(R=this.m_reverseHistory[ve])[0],ne=1,H=R.length-1)}while(--ve>=-1);ie=ee.getChanges()}return this.ConcatenateChanges(G,ie)}ComputeRecursionPoint(C,d,f,p,_,m,b){let x=0,k=0,R=0,P=0,z=0,te=0;C--,f--,_[0]=0,m[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const L=d-C+(p-f),W=L+1,B=new Int32Array(W),U=new Int32Array(W),$=p-f,G=d-C,ie=C-f,ee=d-p,ne=(G-$)%2==0;B[$]=C,U[G]=d,b[0]=!1;for(let H=1;H<=L/2+1;H++){let V=0,Y=0;R=this.ClipDiagonalBound($-H,H,$,W),P=this.ClipDiagonalBound($+H,H,$,W);for(let Te=R;Te<=P;Te+=2){x=Te===R||Te<P&&B[Te-1]<B[Te+1]?B[Te+1]:B[Te-1]+1,k=x-(Te-$)-ie;const xe=x;for(;x<d&&k<p&&this.ElementsAreEqual(x+1,k+1);)x++,k++;if(B[Te]=x,x+k>V+Y&&(V=x,Y=k),!ne&&Math.abs(Te-G)<=H-1&&x>=U[Te])return _[0]=x,m[0]=k,xe<=U[Te]&&H<=1448?this.WALKTRACE($,R,P,ie,G,z,te,ee,B,U,x,d,_,k,p,m,ne,b):null}const ve=(V-C+(Y-f)-H)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(V,ve))return b[0]=!0,_[0]=V,m[0]=Y,ve>0&&H<=1448?this.WALKTRACE($,R,P,ie,G,z,te,ee,B,U,x,d,_,k,p,m,ne,b):(C++,f++,[new s(C,d-C+1,f,p-f+1)]);z=this.ClipDiagonalBound(G-H,H,G,W),te=this.ClipDiagonalBound(G+H,H,G,W);for(let Te=z;Te<=te;Te+=2){x=Te===z||Te<te&&U[Te-1]>=U[Te+1]?U[Te+1]-1:U[Te-1],k=x-(Te-G)-ee;const xe=x;for(;x>C&&k>f&&this.ElementsAreEqual(x,k);)x--,k--;if(U[Te]=x,ne&&Math.abs(Te-$)<=H&&x<=B[Te])return _[0]=x,m[0]=k,xe>=B[Te]&&H<=1448?this.WALKTRACE($,R,P,ie,G,z,te,ee,B,U,x,d,_,k,p,m,ne,b):null}if(H<=1447){let Te=new Int32Array(P-R+2);Te[0]=$-R+1,v.Copy2(B,R,Te,1,P-R+1),this.m_forwardHistory.push(Te),Te=new Int32Array(te-z+2),Te[0]=G-z+1,v.Copy2(U,z,Te,1,te-z+1),this.m_reverseHistory.push(Te)}}return this.WALKTRACE($,R,P,ie,G,z,te,ee,B,U,x,d,_,k,p,m,ne,b)}PrettifyChanges(C){for(let d=0;d<C.length;d++){const f=C[d],p=d<C.length-1?C[d+1].originalStart:this._originalElementsOrHash.length,_=d<C.length-1?C[d+1].modifiedStart:this._modifiedElementsOrHash.length,m=f.originalLength>0,b=f.modifiedLength>0;for(;f.originalStart+f.originalLength<p&&f.modifiedStart+f.modifiedLength<_&&(!m||this.OriginalElementsAreEqual(f.originalStart,f.originalStart+f.originalLength))&&(!b||this.ModifiedElementsAreEqual(f.modifiedStart,f.modifiedStart+f.modifiedLength));){const k=this.ElementsAreStrictEqual(f.originalStart,f.modifiedStart);if(this.ElementsAreStrictEqual(f.originalStart+f.originalLength,f.modifiedStart+f.modifiedLength)&&!k)break;f.originalStart++,f.modifiedStart++}const x=[null];d<C.length-1&&this.ChangesOverlap(C[d],C[d+1],x)&&(C[d]=x[0],C.splice(d+1,1),d--)}for(let d=C.length-1;d>=0;d--){const f=C[d];let p=0,_=0;if(d>0){const P=C[d-1];p=P.originalStart+P.originalLength,_=P.modifiedStart+P.modifiedLength}const m=f.originalLength>0,b=f.modifiedLength>0;let x=0,k=this._boundaryScore(f.originalStart,f.originalLength,f.modifiedStart,f.modifiedLength);for(let P=1;;P++){const z=f.originalStart-P,te=f.modifiedStart-P;if(z<p||te<_)break;if(m&&!this.OriginalElementsAreEqual(z,z+f.originalLength))break;if(b&&!this.ModifiedElementsAreEqual(te,te+f.modifiedLength))break;const L=(z===p&&te===_?5:0)+this._boundaryScore(z,f.originalLength,te,f.modifiedLength);L>k&&(k=L,x=P)}f.originalStart-=x,f.modifiedStart-=x;const R=[null];d>0&&this.ChangesOverlap(C[d-1],C[d],R)&&(C[d-1]=R[0],C.splice(d,1),d++)}if(this._hasStrings)for(let d=1,f=C.length;d<f;d++){const p=C[d-1],_=C[d],m=_.originalStart-p.originalStart-p.originalLength,b=p.originalStart,x=_.originalStart+_.originalLength,k=x-b,R=p.modifiedStart,P=_.modifiedStart+_.modifiedLength,z=P-R;if(m<5&&k<20&&z<20){const te=this._findBetterContiguousSequence(b,k,R,z,m);if(te){const[L,W]=te;L===p.originalStart+p.originalLength&&W===p.modifiedStart+p.modifiedLength||(p.originalLength=L-p.originalStart,p.modifiedLength=W-p.modifiedStart,_.originalStart=L+m,_.modifiedStart=W+m,_.originalLength=x-_.originalStart,_.modifiedLength=P-_.modifiedStart)}}}return C}_findBetterContiguousSequence(C,d,f,p,_){if(d<_||p<_)return null;const m=C+d-_+1,b=f+p-_+1;let x=0,k=0,R=0;for(let P=C;P<m;P++)for(let z=f;z<b;z++){const te=this._contiguousSequenceScore(P,z,_);te>0&&te>x&&(x=te,k=P,R=z)}return x>0?[k,R]:null}_contiguousSequenceScore(C,d,f){let p=0;for(let _=0;_<f;_++){if(!this.ElementsAreEqual(C+_,d+_))return 0;p+=this._originalStringElements[C+_].length}return p}_OriginalIsBoundary(C){return C<=0||C>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[C])}_OriginalRegionIsBoundary(C,d){if(this._OriginalIsBoundary(C)||this._OriginalIsBoundary(C-1))return!0;if(d>0){const f=C+d;if(this._OriginalIsBoundary(f-1)||this._OriginalIsBoundary(f))return!0}return!1}_ModifiedIsBoundary(C){return C<=0||C>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[C])}_ModifiedRegionIsBoundary(C,d){if(this._ModifiedIsBoundary(C)||this._ModifiedIsBoundary(C-1))return!0;if(d>0){const f=C+d;if(this._ModifiedIsBoundary(f-1)||this._ModifiedIsBoundary(f))return!0}return!1}_boundaryScore(C,d,f,p){return(this._OriginalRegionIsBoundary(C,d)?1:0)+(this._ModifiedRegionIsBoundary(f,p)?1:0)}ConcatenateChanges(C,d){const f=[];if(C.length===0||d.length===0)return d.length>0?d:C;if(this.ChangesOverlap(C[C.length-1],d[0],f)){const p=new Array(C.length+d.length-1);return v.Copy(C,0,p,0,C.length-1),p[C.length-1]=f[0],v.Copy(d,1,p,C.length,d.length-1),p}{const p=new Array(C.length+d.length);return v.Copy(C,0,p,0,C.length),v.Copy(d,0,p,C.length,d.length),p}}ChangesOverlap(C,d,f){if(M.Assert(C.originalStart<=d.originalStart,"Left change is not less than or equal to right change"),M.Assert(C.modifiedStart<=d.modifiedStart,"Left change is not less than or equal to right change"),C.originalStart+C.originalLength>=d.originalStart||C.modifiedStart+C.modifiedLength>=d.modifiedStart){const p=C.originalStart;let _=C.originalLength;const m=C.modifiedStart;let b=C.modifiedLength;return C.originalStart+C.originalLength>=d.originalStart&&(_=d.originalStart+d.originalLength-C.originalStart),C.modifiedStart+C.modifiedLength>=d.modifiedStart&&(b=d.modifiedStart+d.modifiedLength-C.modifiedStart),f[0]=new s(p,_,m,b),!0}return f[0]=null,!1}ClipDiagonalBound(C,d,f,p){if(C>=0&&C<p)return C;const _=d%2==0;return C<0?_===(f%2==0)?0:1:_===((p-f-1)%2==0)?p-1:p-2}}},8897:(dt,pe,h)=>{h.d(pe,{KC:()=>M,S3:()=>T,dB:()=>v,nx:()=>I,r:()=>J});var s=h(3338);const I=(E,w)=>E===w;function T(E=I){return(w,C)=>s.aI(w,C,E)}function J(){return(E,w)=>E.equals(w)}function M(E,w,C){if(C!==void 0)return E==null||w==null?w===E:C(E,w);{const d=E;return(f,p)=>f==null||p==null?p===f:d(f,p)}}function v(E,w){if(E===w)return!0;if(Array.isArray(E)&&Array.isArray(w)){if(E.length!==w.length)return!1;for(let C=0;C<E.length;C++)if(!v(E[C],w[C]))return!1;return!0}if(E&&typeof E=="object"&&w&&typeof w=="object"&&Object.getPrototypeOf(E)===Object.prototype&&Object.getPrototypeOf(w)===Object.prototype){const C=E,d=w,f=Object.keys(C),p=Object.keys(d),_=new Set(p);if(f.length!==p.length)return!1;for(let m of f){if(!_.has(m))return!1;if(!v(C[m],d[m]))return!1}return!0}return!1}},4327:(dt,pe,h)=>{h.d(pe,{AL:()=>E,D7:()=>_,EM:()=>f,MB:()=>v,M_:()=>T,Qg:()=>C,aD:()=>w,cU:()=>J,dz:()=>I,iH:()=>d});const s=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(m){setTimeout(()=>{if(m.stack){if(p.isErrorNoTelemetry(m))throw new p(m.message+"\n\n"+m.stack);throw new Error(m.message+"\n\n"+m.stack)}throw m},0)}}emit(m){this.listeners.forEach((b)=>{b(m)})}onUnexpectedError(m){this.unexpectedErrorHandler(m),this.emit(m)}onUnexpectedExternalError(m){this.unexpectedErrorHandler(m)}};function I(m){v(m)||s.onUnexpectedError(m)}function T(m){v(m)||s.onUnexpectedExternalError(m)}function J(m){if(m instanceof Error){const{name:b,message:x}=m;return{$isError:!0,name:b,message:x,stack:m.stacktrace||m.stack,noTelemetry:p.isErrorNoTelemetry(m)}}return m}const M="Canceled";function v(m){return m instanceof E||m instanceof Error&&m.name===M&&m.message===M}class E extends Error{constructor(){super(M),this.name=this.message}}function w(){const m=new Error(M);return m.name=m.message,m}function C(m){return m?new Error(`Illegal argument: ${m}`):new Error("Illegal argument")}function d(m){return m?new Error(`Illegal state: ${m}`):new Error("Illegal state")}class f extends Error{constructor(m){super("NotSupported"),m&&(this.message=m)}}class p extends Error{constructor(m){super(m),this.name="CodeExpectedError"}static fromError(m){if(m instanceof p)return m;const b=new p;return b.message=m.message,b.stack=m.stack,b}static isErrorNoTelemetry(m){return m.name==="CodeExpectedError"}}class _ extends Error{constructor(m){super(m||"An unexpected bug occurred."),Object.setPrototypeOf(this,_.prototype)}}},2106:(dt,pe,h)=>{h.d(pe,{Jh:()=>s,QT:()=>R,Qy:()=>m,Wj:()=>te,_B:()=>P,at:()=>z,fV:()=>x,uI:()=>k,vl:()=>_});var s,I=h(4327),T=h(8289),J=h(998),M=h(5525),v=h(3013);(function(L){function W(H){return(V,Y=null,ve)=>{let Te,xe=!1;return Te=H((Be)=>{if(!xe)return Te?Te.dispose():xe=!0,V.call(Y,Be)},null,ve),xe&&Te.dispose(),Te}}function B(H,V,Y){return $((ve,Te=null,xe)=>H((Be)=>ve.call(Te,V(Be)),null,xe),Y)}function U(H,V,Y){return $((ve,Te=null,xe)=>H((Be)=>V(Be)&&ve.call(Te,Be),null,xe),Y)}function $(H,V){let Y;const ve=new _({onWillAddFirstListener(){Y=H(ve.fire,ve)},onDidRemoveLastListener(){Y?.dispose()}});return V?.add(ve),ve.event}function G(H,V,Y=100,ve=!1,Te=!1,xe,Be){let Ie,he,Q,re,Je=0;const Se=new _({leakWarningThreshold:xe,onWillAddFirstListener(){Ie=H((Pe)=>{Je++,he=V(he,Pe),ve&&!Q&&(Se.fire(he),he=void 0),re=()=>{const Le=he;he=void 0,Q=void 0,(!ve||Je>1)&&Se.fire(Le),Je=0},typeof Y=="number"?(clearTimeout(Q),Q=setTimeout(re,Y)):Q===void 0&&(Q=0,queueMicrotask(re))})},onWillRemoveListener(){Te&&Je>0&&re?.()},onDidRemoveLastListener(){re=void 0,Ie.dispose()}});return Be?.add(Se),Se.event}L.None=()=>J.jG.None,L.defer=function(H,V){return G(H,()=>{},0,void 0,!0,void 0,V)},L.once=W,L.onceIf=function(H,V){return L.once(L.filter(H,V))},L.map=B,L.forEach=function(H,V,Y){return $((ve,Te=null,xe)=>H((Be)=>{V(Be),ve.call(Te,Be)},null,xe),Y)},L.filter=U,L.signal=function(H){return H},L.any=function(...H){return(V,Y=null,ve)=>{return Te=J.qE(...H.map((Be)=>Be((Ie)=>V.call(Y,Ie)))),(xe=ve)instanceof Array?xe.push(Te):xe&&xe.add(Te),Te;var Te,xe}},L.reduce=function(H,V,Y,ve){let Te=Y;return B(H,(xe)=>(Te=V(Te,xe),Te),ve)},L.debounce=G,L.accumulate=function(H,V=0,Y){return L.debounce(H,(ve,Te)=>ve?(ve.push(Te),ve):[Te],V,void 0,!0,void 0,Y)},L.latch=function(H,V=(ve,Te)=>ve===Te,Y){let ve,Te=!0;return U(H,(xe)=>{const Be=Te||!V(xe,ve);return Te=!1,ve=xe,Be},Y)},L.split=function(H,V,Y){return[L.filter(H,V,Y),L.filter(H,(ve)=>!V(ve),Y)]},L.buffer=function(H,V=!1,Y=[],ve){let Te=Y.slice(),xe=H((he)=>{Te?Te.push(he):Ie.fire(he)});ve&&ve.add(xe);const Be=()=>{Te?.forEach((he)=>Ie.fire(he)),Te=null},Ie=new _({onWillAddFirstListener(){xe||(xe=H((he)=>Ie.fire(he)),ve&&ve.add(xe))},onDidAddFirstListener(){Te&&(V?setTimeout(Be):Be())},onDidRemoveLastListener(){xe&&xe.dispose(),xe=null}});return ve&&ve.add(Ie),Ie.event},L.chain=function(H,V){return(Y,ve,Te)=>{const xe=V(new ee);return H(function(Be){const Ie=xe.evaluate(Be);Ie!==ie&&Y.call(ve,Ie)},void 0,Te)}};const ie=Symbol("HaltChainable");class ee{constructor(){this.steps=[]}map(H){return this.steps.push(H),this}forEach(H){return this.steps.push((V)=>(H(V),V)),this}filter(H){return this.steps.push((V)=>H(V)?V:ie),this}reduce(H,V){let Y=V;return this.steps.push((ve)=>(Y=H(Y,ve),Y)),this}latch(H=(V,Y)=>V===Y){let V,Y=!0;return this.steps.push((ve)=>{const Te=Y||!H(ve,V);return Y=!1,V=ve,Te?ve:ie}),this}evaluate(H){for(let V of this.steps)if((H=V(H))===ie)break;return H}}L.fromNodeEventEmitter=function(H,V,Y=(ve)=>ve){const ve=(...xe)=>Te.fire(Y(...xe)),Te=new _({onWillAddFirstListener:()=>H.on(V,ve),onDidRemoveLastListener:()=>H.removeListener(V,ve)});return Te.event},L.fromDOMEventEmitter=function(H,V,Y=(ve)=>ve){const ve=(...xe)=>Te.fire(Y(...xe)),Te=new _({onWillAddFirstListener:()=>H.addEventListener(V,ve),onDidRemoveLastListener:()=>H.removeEventListener(V,ve)});return Te.event},L.toPromise=function(H){return new Promise((V)=>W(H)(V))},L.fromPromise=function(H){const V=new _;return H.then((Y)=>{V.fire(Y)},()=>{V.fire(void 0)}).finally(()=>{V.dispose()}),V.event},L.forward=function(H,V){return H((Y)=>V.fire(Y))},L.runAndSubscribe=function(H,V,Y){return V(Y),H((ve)=>V(ve))};class ne{constructor(H,V){this._observable=H,this._counter=0,this._hasChanged=!1;const Y={onWillAddFirstListener:()=>{H.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{H.removeObserver(this)}};this.emitter=new _(Y),V&&V.add(this.emitter)}beginUpdate(H){this._counter++}handlePossibleChange(H){}handleChange(H,V){this._hasChanged=!0}endUpdate(H){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}L.fromObservable=function(H,V){return new ne(H,V).emitter.event},L.fromObservableLight=function(H){return(V,Y,ve)=>{let Te=0,xe=!1;const Be={beginUpdate(){Te++},endUpdate(){Te--,Te===0&&(H.reportChanges(),xe&&(xe=!1,V.call(Y)))},handlePossibleChange(){},handleChange(){xe=!0}};H.addObserver(Be),H.reportChanges();const Ie={dispose(){H.removeObserver(Be)}};return ve instanceof J.Cm?ve.add(Ie):Array.isArray(ve)&&ve.push(Ie),Ie}}})(s||(s={}));class E{static{this.all=new Set}static{this._idPool=0}constructor(L){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${L}_${E._idPool++}`,E.all.add(this)}start(L){this._stopWatch=new v.W,this.listenerCount=L}stop(){if(this._stopWatch){const L=this._stopWatch.elapsed();this.durations.push(L),this.elapsedOverall+=L,this.invocationCount+=1,this._stopWatch=void 0}}}class w{static{this._idPool=1}constructor(L,W,B=(w._idPool++).toString(16).padStart(3,"0")){this._errorHandler=L,this.threshold=W,this.name=B,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(L,W){const B=this.threshold;if(B<=0||W<B)return;this._stacks||(this._stacks=new Map);const U=this._stacks.get(L.value)||0;if(this._stacks.set(L.value,U+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=0.5*B;const[$,G]=this.getMostFrequentStack(),ie=`[${this.name}] potential listener LEAK detected, having ${W} listeners already. MOST frequent listener (${G}):`;console.warn(ie),console.warn($);const ee=new d(ie,$);this._errorHandler(ee)}return()=>{const $=this._stacks.get(L.value)||0;this._stacks.set(L.value,$-1)}}getMostFrequentStack(){if(!this._stacks)return;let L,W=0;for(let[B,U]of this._stacks)(!L||W<U)&&(L=[B,U],W=U);return L}}class C{static create(){const L=new Error;return new C(L.stack??"")}constructor(L){this.value=L}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class d extends Error{constructor(L,W){super(L),this.name="ListenerLeakError",this.stack=W}}class f extends Error{constructor(L,W){super(L),this.name="ListenerRefusalError",this.stack=W}}class p{constructor(L){this.value=L}}class _{constructor(L){this._size=0,this._options=L,this._leakageMon=this._options?.leakWarningThreshold?new w(L?.onListenerError??I.dz,this._options?.leakWarningThreshold??-1):void 0,this._perfMon=this._options?._profName?new E(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(L,W,B)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const ie=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(ie);const ee=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],ne=new f(`${ie}. HINT: Stack shows most frequent listener (${ee[1]}-times)`,ee[0]);return(this._options?.onListenerError||I.dz)(ne),J.jG.None}if(this._disposed)return J.jG.None;W&&(L=L.bind(W));const U=new p(L);let $;this._leakageMon&&this._size>=Math.ceil(0.2*this._leakageMon.threshold)&&(U.stack=C.create(),$=this._leakageMon.check(U.stack,this._size+1)),this._listeners?this._listeners instanceof p?(this._deliveryQueue??=new b,this._listeners=[this._listeners,U]):this._listeners.push(U):(this._options?.onWillAddFirstListener?.(this),this._listeners=U,this._options?.onDidAddFirstListener?.(this)),this._size++;const G=J.s(()=>{$?.(),this._removeListener(U)});return B instanceof J.Cm?B.add(G):Array.isArray(B)&&B.push(G),G},this._event}_removeListener(L){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1)return this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),void(this._size=0);const W=this._listeners,B=W.indexOf(L);if(B===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,W[B]=void 0;const U=this._deliveryQueue.current===this;if(2*this._size<=W.length){let $=0;for(let G=0;G<W.length;G++)W[G]?W[$++]=W[G]:U&&(this._deliveryQueue.end--,$<this._deliveryQueue.i&&this._deliveryQueue.i--);W.length=$}}_deliver(L,W){if(!L)return;const B=this._options?.onListenerError||I.dz;if(B)try{L.value(W)}catch(U){B(U)}else L.value(W)}_deliverQueue(L){const W=L.current._listeners;for(;L.i<L.end;)this._deliver(W[L.i++],L.value);L.reset()}fire(L){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof p)this._deliver(this._listeners,L);else{const W=this._deliveryQueue;W.enqueue(this,L,this._listeners.length),this._deliverQueue(W)}this._perfMon?.stop()}hasListeners(){return this._size>0}}const m=()=>new b;class b{constructor(){this.i=-1,this.end=0}enqueue(L,W,B){this.i=0,this.end=B,this.current=L,this.value=W}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class x extends _{constructor(L){super(L),this._isPaused=0,this._eventQueue=new M.w,this._mergeFn=L?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){if(this._eventQueue.size>0){const L=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(L))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(L){this._size&&(this._isPaused!==0?this._eventQueue.push(L):super.fire(L))}}class k extends x{constructor(L){super(L),this._delay=L.delay??100}fire(L){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(L)}}class R extends _{constructor(L){super(L),this._queuedEvents=[],this._mergeFn=L?.merge}fire(L){this.hasListeners()&&(this._queuedEvents.push(L),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach((W)=>super.fire(W)),this._queuedEvents=[]}))}}class P{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new _({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(L){const W={event:L,listener:null};return this.events.push(W),this.hasListeners&&this.hook(W),J.s(T.P(()=>{this.hasListeners&&this.unhook(W);const B=this.events.indexOf(W);this.events.splice(B,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach((L)=>this.hook(L))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach((L)=>this.unhook(L))}hook(L){L.listener=L.event((W)=>this.emitter.fire(W))}unhook(L){L.listener?.dispose(),L.listener=null}dispose(){this.emitter.dispose();for(let L of this.events)L.listener?.dispose();this.events=[]}}class z{constructor(){this.data=[]}wrapEvent(L,W,B){return(U,$,G)=>L((ie)=>{const ee=this.data[this.data.length-1];if(!W)return void(ee?ee.buffers.push(()=>U.call($,ie)):U.call($,ie));const ne=ee;ne?(ne.items??=[],ne.items.push(ie),ne.buffers.length===0&&ee.buffers.push(()=>{ne.reducedResult??=B?ne.items.reduce(W,B):ne.items.reduce(W),U.call($,ne.reducedResult)})):U.call($,W(B,ie))},void 0,G)}bufferEvents(L){const W={buffers:new Array};this.data.push(W);const B=L();return this.data.pop(),W.buffers.forEach((U)=>U()),B}}class te{constructor(){this.listening=!1,this.inputEvent=s.None,this.inputEventListener=J.jG.None,this.emitter=new _({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(L){this.inputEvent=L,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=L(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},8518:(dt,pe,h)=>{h.d(pe,{No:()=>d,TH:()=>M,Zn:()=>E,_1:()=>w,kb:()=>v});var s=h(8019),I=h(3339),T=h(6844);function J(f){return f===47||f===92}function M(f){return f.replace(/[\\/]/g,s.SA.sep)}function v(f){return f.indexOf("/")===-1&&(f=M(f)),/^[a-zA-Z]:(\/|$)/.test(f)&&(f="/"+f),f}function E(f,p=s.SA.sep){if(!f)return"";const _=f.length,m=f.charCodeAt(0);if(J(m)){if(J(f.charCodeAt(1))&&!J(f.charCodeAt(2))){let x=3;const k=x;for(;x<_&&!J(f.charCodeAt(x));x++);if(k!==x&&!J(f.charCodeAt(x+1))){for(x+=1;x<_;x++)if(J(f.charCodeAt(x)))return f.slice(0,x+1).replace(/[\\/]/g,p)}}return p}if(C(m)&&f.charCodeAt(1)===58)return J(f.charCodeAt(2))?f.slice(0,2)+p:f.slice(0,2);let b=f.indexOf("://");if(b!==-1){for(b+=3;b<_;b++)if(J(f.charCodeAt(b)))return f.slice(0,b+1)}return""}function w(f,p,_,m=s.Vn){if(f===p)return!0;if(!f||!p)return!1;if(p.length>f.length)return!1;if(_){if(!T.ns(f,p))return!1;if(p.length===f.length)return!0;let b=p.length;return p.charAt(p.length-1)===m&&b--,f.charAt(b)===m}return p.charAt(p.length-1)!==m&&(p+=m),f.indexOf(p)===0}function C(f){return f>=65&&f<=90||f>=97&&f<=122}function d(f,p=I.uF){return!!p&&C(f.charCodeAt(0))&&f.charCodeAt(1)===58}},5637:(dt,pe,h)=>{h.d(pe,{ne:()=>O,Nd:()=>Ue,Jo:()=>Ie,WJ:()=>he,dt:()=>Ye,uU:()=>oe,Tt:()=>_,yr:()=>xe,O:()=>Be,WP:()=>f,dE:()=>m,J1:()=>ne,or:()=>d});var s=h(7992);let I=0;const T=new Uint32Array(10);function J(lt,ye,pt){var Mt;lt>=pt&&lt<pt+ye.length&&((Mt=ye[lt-pt])!==0&&(T[I++]=255&Mt,Mt>>8&&(T[I++]=Mt>>8&255),Mt>>16&&(T[I++]=Mt>>16&255)))}const M=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),v=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),E=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),w=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);var C=h(6844);function d(...lt){return function(ye,pt){for(let Mt=0,Zt=lt.length;Mt<Zt;Mt++){const jt=lt[Mt](ye,pt);if(jt)return jt}return null}}p.bind(void 0,!1);const f=p.bind(void 0,!0);function p(lt,ye,pt){if(!pt||pt.length<ye.length)return null;let Mt;return Mt=lt?C.ns(pt,ye):pt.indexOf(ye)===0,Mt?ye.length>0?[{start:0,end:ye.length}]:[]:null}function _(lt,ye){const pt=ye.toLowerCase().indexOf(lt.toLowerCase());return pt===-1?null:[{start:pt,end:pt+lt.length}]}function m(lt,ye){return b(lt.toLowerCase(),ye.toLowerCase(),0,0)}function b(lt,ye,pt,Mt){if(pt===lt.length)return[];if(Mt===ye.length)return null;if(lt[pt]===ye[Mt]){let Zt=null;return(Zt=b(lt,ye,pt+1,Mt+1))?$({start:Mt,end:Mt+1},Zt):null}return b(lt,ye,pt,Mt+1)}function x(lt){return 97<=lt&&lt<=122}function k(lt){return 65<=lt&&lt<=90}function R(lt){return 48<=lt&&lt<=57}function P(lt){return lt===32||lt===9||lt===10||lt===13}const z=new Set;function te(lt){return P(lt)||z.has(lt)}function L(lt,ye){return lt===ye||te(lt)&&te(ye)}"()[]{}<>`'\"-/;:,.?!".split("").forEach((lt)=>z.add(lt.charCodeAt(0)));const W=new Map;function B(lt){if(W.has(lt))return W.get(lt);let ye;const pt=function(Mt){const Zt=function(jt){if(I=0,J(jt,M,4352),I>0)return T.subarray(0,I);if(J(jt,v,4449),I>0)return T.subarray(0,I);if(J(jt,E,4520),I>0)return T.subarray(0,I);if(J(jt,w,12593),I)return T.subarray(0,I);if(jt>=44032&&jt<=55203){const xn=jt-44032,nn=xn%588,gn=Math.floor(xn/588),pn=Math.floor(nn/28),rn=nn%28-1;if(gn<M.length?J(gn,M,0):4352+gn-12593<w.length&&J(4352+gn,w,12593),pn<v.length?J(pn,v,0):4449+pn-12593<w.length&&J(4449+pn-12593,w,12593),rn>=0&&(rn<E.length?J(rn,E,0):4520+rn-12593<w.length&&J(4520+rn-12593,w,12593)),I>0)return T.subarray(0,I)}}(Mt);if(Zt&&Zt.length>0)return new Uint32Array(Zt)}(lt);return pt&&(ye=pt),W.set(lt,ye),ye}function U(lt){return x(lt)||k(lt)||R(lt)}function $(lt,ye){return ye.length===0?ye=[lt]:lt.end===ye[0].start?ye[0].start=lt.start:ye.unshift(lt),ye}function G(lt,ye){for(let pt=ye;pt<lt.length;pt++){const Mt=lt.charCodeAt(pt);if(k(Mt)||R(Mt)||pt>0&&!U(lt.charCodeAt(pt-1)))return pt}return lt.length}function ie(lt,ye,pt,Mt){if(pt===lt.length)return[];if(Mt===ye.length)return null;if(lt[pt]!==ye[Mt].toLowerCase())return null;{let Zt=null,jt=Mt+1;for(Zt=ie(lt,ye,pt+1,Mt+1);!Zt&&(jt=G(ye,jt))<ye.length;)Zt=ie(lt,ye,pt+1,jt),jt++;return Zt===null?null:$({start:Mt,end:Mt+1},Zt)}}function ee(lt,ye){if(!ye)return null;if((ye=ye.trim()).length===0)return null;if(!function(jt){let xn=0,nn=0,gn=0,pn=0;for(let rn=0;rn<jt.length;rn++)gn=jt.charCodeAt(rn),k(gn)&&xn++,x(gn)&&nn++,P(gn)&&pn++;return xn!==0&&nn!==0||pn!==0?xn<=5:jt.length<=30}(lt))return null;ye.length>60&&(ye=ye.substring(0,60));const pt=function(jt){let xn=0,nn=0,gn=0,pn=0,rn=0;for(let Sn=0;Sn<jt.length;Sn++)rn=jt.charCodeAt(Sn),k(rn)&&xn++,x(rn)&&nn++,U(rn)&&gn++,R(rn)&&pn++;return{upperPercent:xn/jt.length,lowerPercent:nn/jt.length,alphaPercent:gn/jt.length,numericPercent:pn/jt.length}}(ye);if(!function(jt){const{upperPercent:xn,lowerPercent:nn,alphaPercent:gn,numericPercent:pn}=jt;return nn>0.2&&xn<0.8&&gn>0.6&&pn<0.2}(pt)){if(!function(jt){const{upperPercent:xn,lowerPercent:nn}=jt;return nn===0&&xn>0.6}(pt))return null;ye=ye.toLowerCase()}let Mt=null,Zt=0;for(lt=lt.toLowerCase();Zt<ye.length&&(Mt=ie(lt,ye,0,Zt))===null;)Zt=G(ye,Zt+1);return Mt}function ne(lt,ye,pt=!1){if(!ye||ye.length===0)return null;let Mt=null,Zt=0;for(lt=lt.toLowerCase(),ye=ye.toLowerCase();Zt<ye.length&&(Mt=H(lt,ye,0,Zt,pt),Mt===null);)Zt=V(ye,Zt+1);return Mt}function H(lt,ye,pt,Mt,Zt){let jt=0;if(pt===lt.length)return[];if(Mt===ye.length)return null;if(!L(lt.charCodeAt(pt),ye.charCodeAt(Mt))){const gn=B(lt.charCodeAt(pt));if(!gn)return null;for(let pn=0;pn<gn.length;pn++)if(!L(gn[pn],ye.charCodeAt(Mt+pn)))return null;jt+=gn.length-1}let xn=null,nn=Mt+jt+1;if(xn=H(lt,ye,pt+1,nn,Zt),!Zt)for(;!xn&&(nn=V(ye,nn))<ye.length;)xn=H(lt,ye,pt+1,nn,Zt),nn++;if(!xn)return null;if(lt.charCodeAt(pt)!==ye.charCodeAt(Mt)){const gn=B(lt.charCodeAt(pt));if(!gn)return xn;for(let pn=0;pn<gn.length;pn++)if(gn[pn]!==ye.charCodeAt(Mt+pn))return xn}return $({start:Mt,end:Mt+jt+1},xn)}function V(lt,ye){for(let pt=ye;pt<lt.length;pt++)if(te(lt.charCodeAt(pt))||pt>0&&te(lt.charCodeAt(pt-1)))return pt;return lt.length}const Y=d(f,ee,_),ve=d(f,ee,m),Te=new s.qK(1e4);function xe(lt,ye,pt=!1){if(typeof lt!="string"||typeof ye!="string")return null;let Mt=Te.get(lt);Mt||(Mt=new RegExp(C.Bm(lt),"i"),Te.set(lt,Mt));const Zt=Mt.exec(ye);return Zt?[{start:Zt.index,end:Zt.index+Zt[0].length}]:pt?ve(lt,ye):Y(lt,ye)}function Be(lt,ye){const pt=Ye(lt,lt.toLowerCase(),0,ye,ye.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return pt?he(pt):null}function Ie(lt,ye,pt,Mt,Zt,jt){const xn=Math.min(13,lt.length);for(;pt<xn;pt++){const nn=Ye(lt,ye,pt,Mt,Zt,jt,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(nn)return nn}return[0,jt]}function he(lt){if(lt===void 0)return[];const ye=[],pt=lt[1];for(let Mt=lt.length-1;Mt>1;Mt--){const Zt=lt[Mt]+pt,jt=ye[ye.length-1];jt&&jt.end===Zt?jt.end=Zt+1:ye.push({start:Zt,end:Zt+1})}return ye}const Q=128;function re(){const lt=[],ye=[];for(let pt=0;pt<=Q;pt++)ye[pt]=0;for(let pt=0;pt<=Q;pt++)lt.push(ye.slice(0));return lt}function Je(lt){const ye=[];for(let pt=0;pt<=lt;pt++)ye[pt]=0;return ye}const Se=Je(2*Q),Pe=Je(2*Q),Le=re(),Ve=re(),g=re(),ge=!1;function We(lt,ye,pt,Mt,Zt){function jt(nn,gn,pn=" "){for(;nn.length<gn;)nn=pn+nn;return nn}let xn=` |   |${Mt.split("").map((nn)=>jt(nn,3)).join("|")}\n`;for(let nn=0;nn<=pt;nn++)xn+=nn===0?" |":`${ye[nn-1]}|`,xn+=lt[nn].slice(0,Zt+1).map((gn)=>jt(gn.toString(),3)).join("|")+"\n";return xn}function de(lt,ye){if(ye<0||ye>=lt.length)return!1;const pt=lt.codePointAt(ye);switch(pt){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!C.Ss(pt)}}function be(lt,ye){if(ye<0||ye>=lt.length)return!1;switch(lt.charCodeAt(ye)){case 32:case 9:return!0;default:return!1}}function ae(lt,ye,pt){return ye[lt]!==pt[lt]}var O;(function(lt){lt.Default=[-100,0],lt.isDefault=function(ye){return!ye||ye.length===2&&ye[0]===-100&&ye[1]===0}})(O||(O={}));class Ue{static{this.default={boostFullMatch:!0,firstMatchCanBeWeak:!1}}constructor(lt,ye){this.firstMatchCanBeWeak=lt,this.boostFullMatch=ye}}function Ye(lt,ye,pt,Mt,Zt,jt,xn=Ue.default){const nn=lt.length>Q?Q:lt.length,gn=Mt.length>Q?Q:Mt.length;if(pt>=nn||jt>=gn||nn-pt>gn-jt)return;if(!function(li,si,ti,Ln,Xn,xi,Ni=!1){for(;si<ti&&Xn<xi;)li[si]===Ln[Xn]&&(Ni&&(Se[si]=Xn),si+=1),Xn+=1;return si===ti}(ye,pt,nn,Zt,jt,gn,!0))return;(function(li,si,ti,Ln,Xn,xi){let Ni=li-1,Ii=si-1;for(;Ni>=ti&&Ii>=Ln;)Xn[Ni]===xi[Ii]&&(Pe[Ni]=Ii,Ni--),Ii--})(nn,gn,pt,jt,ye,Zt);let pn=1,rn=1,Sn=pt,Mn=jt;const Bn=[!1];for(pn=1,Sn=pt;Sn<nn;pn++,Sn++){const li=Se[Sn],si=Pe[Sn],ti=Sn+1<nn?Pe[Sn+1]:gn;for(rn=li-jt+1,Mn=li;Mn<ti;rn++,Mn++){let Ln=Number.MIN_SAFE_INTEGER,Xn=!1;Mn<=si&&(Ln=Fe(lt,ye,Sn,pt,Mt,Zt,Mn,gn,jt,Le[pn-1][rn-1]===0,Bn));let xi=0;Ln!==Number.MAX_SAFE_INTEGER&&(Xn=!0,xi=Ln+Ve[pn-1][rn-1]);const Ni=Mn>li,Ii=Ni?Ve[pn][rn-1]+(Le[pn][rn-1]>0?-5:0):0,er=Mn>li+1&&Le[pn][rn-1]>0,Zi=er?Ve[pn][rn-2]+(Le[pn][rn-2]>0?-5:0):0;if(er&&(!Ni||Zi>=Ii)&&(!Xn||Zi>=xi))Ve[pn][rn]=Zi,g[pn][rn]=3,Le[pn][rn]=0;else if(Ni&&(!Xn||Ii>=xi))Ve[pn][rn]=Ii,g[pn][rn]=2,Le[pn][rn]=0;else{if(!Xn)throw new Error("not possible");Ve[pn][rn]=xi,g[pn][rn]=1,Le[pn][rn]=Le[pn-1][rn-1]+1}}}if(ge&&function(li,si,ti,Ln){li=li.substr(si),ti=ti.substr(Ln),console.log(We(Ve,li,li.length,ti,ti.length)),console.log(We(g,li,li.length,ti,ti.length)),console.log(We(Le,li,li.length,ti,ti.length))}(lt,pt,Mt,jt),!Bn[0]&&!xn.firstMatchCanBeWeak)return;pn--,rn--;const wi=[Ve[pn][rn],jt];let Mi=0,Oi=0;for(;pn>=1;){let li=rn;do{const si=g[pn][li];if(si===3)li-=2;else{if(si!==2)break;li-=1}}while(li>=1);Mi>1&&ye[pt+pn-1]===Zt[jt+rn-1]&&!ae(li+jt-1,Mt,Zt)&&Mi+1>Le[pn][li]&&(li=rn),li===rn?Mi++:Mi=1,Oi||(Oi=li),pn--,rn=li-1,wi.push(rn)}gn-jt===nn&&xn.boostFullMatch&&(wi[0]+=2);const En=Oi-nn;return wi[0]-=En,wi}function Fe(lt,ye,pt,Mt,Zt,jt,xn,nn,gn,pn,rn){if(ye[pt]!==jt[xn])return Number.MIN_SAFE_INTEGER;let Sn=1,Mn=!1;return xn===pt-Mt?Sn=lt[pt]===Zt[xn]?7:5:!ae(xn,Zt,jt)||xn!==0&&ae(xn-1,Zt,jt)?!de(jt,xn)||xn!==0&&de(jt,xn-1)?(de(jt,xn-1)||be(jt,xn-1))&&(Sn=5,Mn=!0):Sn=5:(Sn=lt[pt]===Zt[xn]?7:5,Mn=!0),Sn>1&&pt===Mt&&(rn[0]=!0),Mn||(Mn=ae(xn,Zt,jt)||de(jt,xn-1)||be(jt,xn-1)),pt===Mt?xn>gn&&(Sn-=Mn?3:5):Sn+=pn?Mn?2:0:Mn?0:1,xn+1===nn&&(Sn-=Mn?3:5),Sn}function oe(lt,ye,pt,Mt,Zt,jt,xn){return function(nn,gn,pn,rn,Sn,Mn,Bn,wi){let Mi=Ye(nn,gn,pn,rn,Sn,Mn,wi);if(nn.length>=3){const Oi=Math.min(7,nn.length-1);for(let En=pn+1;En<Oi;En++){const li=rt(nn,En);if(li){const si=Ye(li,li.toLowerCase(),pn,rn,Sn,Mn,wi);si&&(si[0]-=3,(!Mi||si[0]>Mi[0])&&(Mi=si))}}}return Mi}(lt,ye,pt,Mt,Zt,jt,0,xn)}function rt(lt,ye){if(ye+1>=lt.length)return;const pt=lt[ye],Mt=lt[ye+1];return pt!==Mt?lt.slice(0,ye)+Mt+pt+lt.slice(ye+2):void 0}},8289:(dt,pe,h)=>{function s(I,T){const J=this;let M,v=!1;return function(){if(v)return M;if(v=!0,T)try{M=I.apply(J,arguments)}finally{T()}else M=I.apply(J,arguments);return M}}h.d(pe,{P:()=>s})},3958:(dt,pe,h)=>{h.d(pe,{YW:()=>G,qg:()=>ie});var s=h(5958),I=h(8518),T=h(7992),J=h(8019),M=h(3339),v=h(6844);const E="**",w="/",C="[/\\\\]",d="[^/\\\\]",f=/\//g;function p(ne,H){switch(ne){case 0:return"";case 1:return`${d}*?`;default:return`(?:${C}|${d}+${C}${H?`|${C}${d}+`:""})*?`}}function _(ne,H){if(!ne)return[];const V=[];let Y=!1,ve=!1,Te="";for(let xe of ne){switch(xe){case H:if(!Y&&!ve){V.push(Te),Te="";continue}break;case"{":Y=!0;break;case"}":Y=!1;break;case"[":ve=!0;break;case"]":ve=!1}Te+=xe}return Te&&V.push(Te),V}function m(ne){if(!ne)return"";let H="";const V=_(ne,w);if(V.every((Y)=>Y===E))H=".*";else{let Y=!1;V.forEach((ve,Te)=>{if(ve===E){if(Y)return;H+=p(2,Te===V.length-1)}else{let xe=!1,Be="",Ie=!1,he="";for(let Q of ve)if(Q!=="}"&&xe)Be+=Q;else if(!Ie||Q==="]"&&he)switch(Q){case"{":xe=!0;continue;case"[":Ie=!0;continue;case"}":{const re=`(?:${_(Be,",").map((Je)=>m(Je)).join("|")})`;H+=re,xe=!1,Be="";break}case"]":H+="["+he+"]",Ie=!1,he="";break;case"?":H+=d;continue;case"*":H+=p(1);continue;default:H+=v.bm(Q)}else{let re;re=Q==="-"?Q:Q!=="^"&&Q!=="!"||he?Q===w?"":v.bm(Q):"^",he+=re}Te<V.length-1&&(V[Te+1]!==E||Te+2<V.length)&&(H+=C)}Y=ve===E})}return H}const b=/^\*\*\/\*\.[\w\.-]+$/,x=/^\*\*\/([\w\.-]+)\/?$/,k=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,R=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,P=/^\*\*((\/[\w\.-]+)+)\/?$/,z=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,te=new T.qK(1e4),L=function(){return!1},W=function(){return null};function B(ne,H){if(!ne)return W;let V;V=typeof ne!="string"?ne.pattern:ne,V=V.trim();const Y=`${V}_${!!H.trimForExclusions}`;let ve,Te=te.get(Y);return Te||(Te=b.test(V)?function(xe,Be){return function(Ie,he){return typeof Ie=="string"&&Ie.endsWith(xe)?Be:null}}(V.substr(4),V):(ve=x.exec(U(V,H)))?function(xe,Be){const Ie=`/${xe}`,he=`\\${xe}`,Q=function(Je,Se){return typeof Je!="string"?null:Se?Se===xe?Be:null:Je===xe||Je.endsWith(Ie)||Je.endsWith(he)?Be:null},re=[xe];return Q.basenames=re,Q.patterns=[Be],Q.allBasenames=re,Q}(ve[1],V):(H.trimForExclusions?R:k).test(V)?function(xe,Be){const Ie=ee(xe.slice(1,-1).split(",").map((Se)=>B(Se,Be)).filter((Se)=>Se!==W),xe),he=Ie.length;if(!he)return W;if(he===1)return Ie[0];const Q=function(Se,Pe){for(let Le=0,Ve=Ie.length;Le<Ve;Le++)if(Ie[Le](Se,Pe))return xe;return null},re=Ie.find((Se)=>!!Se.allBasenames);re&&(Q.allBasenames=re.allBasenames);const Je=Ie.reduce((Se,Pe)=>Pe.allPaths?Se.concat(Pe.allPaths):Se,[]);return Je.length&&(Q.allPaths=Je),Q}(V,H):(ve=P.exec(U(V,H)))?$(ve[1].substr(1),V,!0):(ve=z.exec(U(V,H)))?$(ve[1],V,!1):function(xe){try{const Be=new RegExp(`^${m(xe)}\$`);return function(Ie){return Be.lastIndex=0,typeof Ie=="string"&&Be.test(Ie)?xe:null}}catch(Be){return W}}(V),te.set(Y,Te)),function(xe,Be){if(typeof Be=="string")return xe;const Ie=function(he,Q){return I._1(he,Be.base,!M.j9)?xe(v.NB(he.substr(Be.base.length),J.Vn),Q):null};return Ie.allBasenames=xe.allBasenames,Ie.allPaths=xe.allPaths,Ie.basenames=xe.basenames,Ie.patterns=xe.patterns,Ie}(Te,ne)}function U(ne,H){return H.trimForExclusions&&ne.endsWith("/**")?ne.substr(0,ne.length-2):ne}function $(ne,H,V){const Y=J.Vn===J.SA.sep,ve=Y?ne:ne.replace(f,J.Vn),Te=J.Vn+ve,xe=J.SA.sep+ne;let Be;return Be=V?function(Ie,he){return typeof Ie!="string"||Ie!==ve&&!Ie.endsWith(Te)&&(Y||Ie!==ne&&!Ie.endsWith(xe))?null:H}:function(Ie,he){return typeof Ie!="string"||Ie!==ve&&(Y||Ie!==ne)?null:H},Be.allPaths=[(V?"*/":"./")+ne],Be}function G(ne,H,V){return!(!ne||typeof H!="string")&&ie(ne)(H,void 0,V)}function ie(ne,H={}){if(!ne)return L;if(typeof ne=="string"||function(V){const Y=V;return!!Y&&(typeof Y.base=="string"&&typeof Y.pattern=="string")}(ne)){const V=B(ne,H);if(V===W)return L;const Y=function(ve,Te){return!!V(ve,Te)};return V.allBasenames&&(Y.allBasenames=V.allBasenames),V.allPaths&&(Y.allPaths=V.allPaths),Y}return function(V,Y){const ve=ee(Object.getOwnPropertyNames(V).map((he)=>function(Q,re,Je){if(re===!1)return W;const Se=B(Q,Je);if(Se===W)return W;if(typeof re=="boolean")return Se;if(re){const Pe=re.when;if(typeof Pe=="string"){const Le=(Ve,g,ge,We)=>{if(!We||!Se(Ve,g))return null;const de=We(Pe.replace("$(basename)",()=>ge));return s.Qg(de)?de.then((be)=>be?Q:null):de?Q:null};return Le.requiresSiblings=!0,Le}}return Se}(he,V[he],Y)).filter((he)=>he!==W)),Te=ve.length;if(!Te)return W;if(!ve.some((he)=>!!he.requiresSiblings)){if(Te===1)return ve[0];const he=function(Je,Se){let Pe;for(let Le=0,Ve=ve.length;Le<Ve;Le++){const g=ve[Le](Je,Se);if(typeof g=="string")return g;s.Qg(g)&&(Pe||(Pe=[]),Pe.push(g))}return Pe?(async()=>{for(let Le of Pe){const Ve=await Le;if(typeof Ve=="string")return Ve}return null})():null},Q=ve.find((Je)=>!!Je.allBasenames);Q&&(he.allBasenames=Q.allBasenames);const re=ve.reduce((Je,Se)=>Se.allPaths?Je.concat(Se.allPaths):Je,[]);return re.length&&(he.allPaths=re),he}const xe=function(he,Q,re){let Je,Se;for(let Pe=0,Le=ve.length;Pe<Le;Pe++){const Ve=ve[Pe];Ve.requiresSiblings&&re&&(Q||(Q=J.P8(he)),Je||(Je=Q.substr(0,Q.length-J.LC(he).length)));const g=Ve(he,Q,Je,re);if(typeof g=="string")return g;s.Qg(g)&&(Se||(Se=[]),Se.push(g))}return Se?(async()=>{for(let Pe of Se){const Le=await Pe;if(typeof Le=="string")return Le}return null})():null},Be=ve.find((he)=>!!he.allBasenames);Be&&(xe.allBasenames=Be.allBasenames);const Ie=ve.reduce((he,Q)=>Q.allPaths?he.concat(Q.allPaths):he,[]);return Ie.length&&(xe.allPaths=Ie),xe}(ne,H)}function ee(ne,H){const V=ne.filter((Be)=>!!Be.basenames);if(V.length<2)return ne;const Y=V.reduce((Be,Ie)=>{const he=Ie.basenames;return he?Be.concat(he):Be},[]);let ve;if(H){ve=[];for(let Be=0,Ie=Y.length;Be<Ie;Be++)ve.push(H)}else ve=V.reduce((Be,Ie)=>{const he=Ie.patterns;return he?Be.concat(he):Be},[]);const Te=function(Be,Ie){if(typeof Be!="string")return null;if(!Ie){let Q;for(Q=Be.length;Q>0;Q--){const re=Be.charCodeAt(Q-1);if(re===47||re===92)break}Ie=Be.substr(Q)}const he=Y.indexOf(Ie);return he!==-1?ve[he]:null};Te.basenames=Y,Te.patterns=ve,Te.allBasenames=Y;const xe=ne.filter((Be)=>!Be.basenames);return xe.push(Te),xe}},2344:(dt,pe,h)=>{h.d(pe,{e2:()=>M,sN:()=>T,tW:()=>I,v7:()=>C});var s=h(6844);function I(d){return T(d,0)}function T(d,f){switch(typeof d){case"object":return d===null?J(349,f):Array.isArray(d)?(p=d,_=J(104579,_=f),p.reduce((m,b)=>T(b,m),_)):function(m,b){return b=J(181387,b),Object.keys(m).sort().reduce((x,k)=>(x=M(k,x),T(m[k],x)),b)}(d,f);case"string":return M(d,f);case"boolean":return function(m,b){return J(m?433:863,b)}(d,f);case"number":return J(d,f);case"undefined":return J(937,f);default:return J(617,f)}var p,_}function J(d,f){return(f<<5)-f+d|0}function M(d,f){f=J(149417,f);for(let p=0,_=d.length;p<_;p++)f=J(d.charCodeAt(p),f);return f}function v(d,f,p=32){const _=p-f;return(d<<f|(~((1<<_)-1)&d)>>>_)>>>0}function E(d,f=0,p=d.byteLength,_=0){for(let m=0;m<p;m++)d[f+m]=_}function w(d,f=32){return d instanceof ArrayBuffer?Array.from(new Uint8Array(d)).map((p)=>p.toString(16).padStart(2,"0")).join(""):function(p,_,m="0"){for(;p.length<_;)p=m+p;return p}((d>>>0).toString(16),f/4)}class C{static{this._bigBlock32=new DataView(new ArrayBuffer(320))}constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(d){const f=d.length;if(f===0)return;const p=this._buff;let _,m,b=this._buffLen,x=this._leftoverHighSurrogate;for(x!==0?(_=x,m=-1,x=0):(_=d.charCodeAt(0),m=0);;){let k=_;if(s.pc(_)){if(!(m+1<f)){x=_;break}{const R=d.charCodeAt(m+1);s.LJ(R)?(m++,k=s.z_(_,R)):k=65533}}else s.LJ(_)&&(k=65533);if(b=this._push(p,b,k),m++,!(m<f))break;_=d.charCodeAt(m)}this._buffLen=b,this._leftoverHighSurrogate=x}_push(d,f,p){return p<128?d[f++]=p:p<2048?(d[f++]=192|(1984&p)>>>6,d[f++]=128|(63&p)>>>0):p<65536?(d[f++]=224|(61440&p)>>>12,d[f++]=128|(4032&p)>>>6,d[f++]=128|(63&p)>>>0):(d[f++]=240|(1835008&p)>>>18,d[f++]=128|(258048&p)>>>12,d[f++]=128|(4032&p)>>>6,d[f++]=128|(63&p)>>>0),f>=64&&(this._step(),f-=64,this._totalLen+=64,d[0]=d[64],d[1]=d[65],d[2]=d[66]),f}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),w(this._h0)+w(this._h1)+w(this._h2)+w(this._h3)+w(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,E(this._buff,this._buffLen),this._buffLen>56&&(this._step(),E(this._buff));const d=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(d/4294967296),!1),this._buffDV.setUint32(60,d%4294967296,!1),this._step()}_step(){const d=C._bigBlock32,f=this._buffDV;for(let z=0;z<64;z+=4)d.setUint32(z,f.getUint32(z,!1),!1);for(let z=64;z<320;z+=4)d.setUint32(z,v(d.getUint32(z-12,!1)^d.getUint32(z-32,!1)^d.getUint32(z-56,!1)^d.getUint32(z-64,!1),1),!1);let p,_,m,b=this._h0,x=this._h1,k=this._h2,R=this._h3,P=this._h4;for(let z=0;z<80;z++)z<20?(p=x&k|~x&R,_=1518500249):z<40?(p=x^k^R,_=1859775393):z<60?(p=x&k|x&R|k&R,_=2400959708):(p=x^k^R,_=3395469782),m=v(b,5)+p+P+_+d.getUint32(4*z,!1)&4294967295,P=R,R=k,k=v(x,30),x=b,b=m;this._h0=this._h0+b&4294967295,this._h1=this._h1+x&4294967295,this._h2=this._h2+k&4294967295,this._h3=this._h3+R&4294967295,this._h4=this._h4+P&4294967295}}},1940:(dt,pe,h)=>{h.d(pe,{O:()=>T,e:()=>I});var s=h(9871);function I(){return s._K&&!!s._K.VSCODE_DEV}function T(M){if(I()){const v=function(){J||(J=new Set);const E=globalThis;return E.$hotReload_applyNewExports||(E.$hotReload_applyNewExports=(w)=>{const C={config:{mode:void 0},...w},d=[];for(let f of J){const p=f(C);p&&d.push(p)}if(d.length>0)return(f)=>{let p=!1;for(let _ of d)_(f)&&(p=!0);return p}}),J}();return v.add(M),{dispose(){v.delete(M)}}}return{dispose(){}}}let J;I()&&T(({oldExports:M,newSrc:v,config:E})=>{if(E.mode==="patch-prototype")return(w)=>{for(let C in w){const d=w[C];if(console.log(`[hot-reload] Patching prototype methods of '${C}'`,{exportedItem:d}),typeof d=="function"&&d.prototype){const f=M[C];if(f){for(let p of Object.getOwnPropertyNames(d.prototype)){const _=Object.getOwnPropertyDescriptor(d.prototype,p),m=Object.getOwnPropertyDescriptor(f.prototype,p);_?.value?.toString()!==m?.value?.toString()&&console.log(`[hot-reload] Patching prototype method '${C}.${p}'`),Object.defineProperty(f.prototype,p,_)}w[C]=f}}}return!0}})},1807:(dt,pe,h)=>{h.d(pe,{b:()=>T});var s=h(1940),I=h(6311);function T(J,M){return function(v,E){s.e()&&I.yQ("reload",(w)=>s.O(({oldExports:C})=>{if([...Object.values(C)].some((d)=>v.includes(d)))return(d)=>(w(void 0),!0)})).read(E)}([J],M),J}},28:(dt,pe,h)=>{h.d(pe,{Bc:()=>v,VS:()=>w,_W:()=>f,it:()=>E,nI:()=>p,nK:()=>C,oO:()=>d});var s=h(4327),I=h(4594),T=h(2467),J=h(6844),M=h(7264);class v{constructor(_="",m=!1){if(this.value=_,typeof this.value!="string")throw s.Qg("value");typeof m=="boolean"?(this.isTrusted=m,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=m.isTrusted??void 0,this.supportThemeIcons=m.supportThemeIcons??!1,this.supportHtml=m.supportHtml??!1)}appendText(_,m=0){var b;return this.value+=(b=this.supportThemeIcons?I.m2(_):_,b.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")).replace(/([ \t]+)/g,(x,k)=>"&nbsp;".repeat(k.length)).replace(/\>/gm,"\\>").replace(/\n/g,m===1?"\\\n":"\n\n"),this}appendMarkdown(_){return this.value+=_,this}appendCodeblock(_,m){return this.value+=`\n${function(b,x){const k=b.match(/^`+/gm)?.reduce((P,z)=>P.length>z.length?P:z).length??0,R=k>=3?k+1:3;return[`${"`".repeat(R)}${x}`,b,`${"`".repeat(R)}`].join("\n")}(m,_)}\n`,this}appendLink(_,m,b){return this.value+="[",this.value+=this._escape(m,"]"),this.value+="](",this.value+=this._escape(String(_),")"),b&&(this.value+=` "${this._escape(this._escape(b,'"'),")")}"`),this.value+=")",this}_escape(_,m){const b=new RegExp(J.bm(m),"g");return _.replace(b,(x,k)=>_.charAt(k-1)!=="\\"?`\\${x}`:x)}}function E(_){return w(_)?!_.value:!Array.isArray(_)||_.every(E)}function w(_){return _ instanceof v||!(!_||typeof _!="object")&&!(typeof _.value!="string"||typeof _.isTrusted!="boolean"&&typeof _.isTrusted!="object"&&_.isTrusted!==void 0||typeof _.supportThemeIcons!="boolean"&&_.supportThemeIcons!==void 0)}function C(_,m){return _===m||!(!_||!m)&&_.value===m.value&&_.isTrusted===m.isTrusted&&_.supportThemeIcons===m.supportThemeIcons&&_.supportHtml===m.supportHtml&&(_.baseUri===m.baseUri||!!_.baseUri&&!!m.baseUri&&T.n4(M.r.from(_.baseUri),M.r.from(m.baseUri)))}function d(_){return _.replace(/"/g,"&quot;")}function f(_){return _?_.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1"):_}function p(_){const m=[],b=_.split("|").map((k)=>k.trim());_=b[0];const x=b[1];if(x){const k=/height=(\d+)/.exec(x),R=/width=(\d+)/.exec(x),P=k?k[1]:"",z=R?R[1]:"",te=isFinite(parseInt(z)),L=isFinite(parseInt(P));te&&m.push(`width="${z}"`),L&&m.push(`height="${P}"`)}return{href:_,dimensions:m}}},4594:(dt,pe,h)=>{h.d(pe,{R$:()=>p,_k:()=>m,m2:()=>E,pS:()=>f,pz:()=>b,sA:()=>C});var s=h(5637),I=h(6844),T=h(8881);const J="$(",M=new RegExp(`\\\$\\(${T.L.iconNameExpression}(?:${T.L.iconModifierExpression})?\\)`,"g"),v=new RegExp(`(\\\\)?${M.source}`,"g");function E(x){return x.replace(v,(k,R)=>R?k:`\\${k}`)}const w=new RegExp(`\\\\${M.source}`,"g");function C(x){return x.replace(w,(k)=>`\\${k}`)}const d=new RegExp(`(\\s)?(\\\\)?${M.source}(\\s)?`,"g");function f(x){return x.indexOf(J)===-1?x:x.replace(d,(k,R,P,z)=>P?k:R||z||"")}function p(x){return x?x.replace(/\$\((.*?)\)/g,(k,R)=>` ${R} `).trim():""}const _=new RegExp(`\\\$\\(${T.L.iconNameCharacter}+\\)`,"g");function m(x){_.lastIndex=0;let k="";const R=[];let P=0;for(;;){const z=_.lastIndex,te=_.exec(x),L=x.substring(z,te?.index);if(L.length>0){k+=L;for(let W=0;W<L.length;W++)R.push(P)}if(!te)break;P+=te[0].length}return{text:k,iconOffsets:R}}function b(x,k,R=!1){const{text:P,iconOffsets:z}=k;if(!z||z.length===0)return s.yr(x,P,R);const te=I.NB(P," "),L=P.length-te.length,W=s.yr(x,te,R);if(W)for(let B of W){const U=z[B.start+L]+L;B.start+=U,B.end+=U}return W}},4664:(dt,pe,h)=>{h.d(pe,{n:()=>s,r:()=>I});class s{constructor(T){this._prefix=T,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const I=new s("id#")},7043:(dt,pe,h)=>{h.d(pe,{M:()=>I});var s=h(2106);const I=new class{constructor(){this._onDidChange=new s.vl,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}},7954:(dt,pe,h)=>{var s;h.d(pe,{f:()=>s}),function(I){function T(v){return v&&typeof v=="object"&&typeof v[Symbol.iterator]=="function"}I.is=T;const J=Object.freeze([]);function*M(v){yield v}I.empty=function(){return J},I.single=M,I.wrap=function(v){return T(v)?v:M(v)},I.from=function(v){return v||J},I.reverse=function*(v){for(let E=v.length-1;E>=0;E--)yield v[E]},I.isEmpty=function(v){return!v||v[Symbol.iterator]().next().done===!0},I.first=function(v){return v[Symbol.iterator]().next().value},I.some=function(v,E){let w=0;for(let C of v)if(E(C,w++))return!0;return!1},I.find=function(v,E){for(let w of v)if(E(w))return w},I.filter=function*(v,E){for(let w of v)E(w)&&(yield w)},I.map=function*(v,E){let w=0;for(let C of v)yield E(C,w++)},I.flatMap=function*(v,E){let w=0;for(let C of v)yield*E(C,w++)},I.concat=function*(...v){for(let E of v)yield*E},I.reduce=function(v,E,w){let C=w;for(let d of v)C=E(C,d);return C},I.slice=function*(v,E,w=v.length){for(E<0&&(E+=v.length),w<0?w+=v.length:w>v.length&&(w=v.length);E<w;E++)yield v[E]},I.consume=function(v,E=Number.POSITIVE_INFINITY){const w=[];if(E===0)return[w,v];const C=v[Symbol.iterator]();for(let d=0;d<E;d++){const f=C.next();if(f.done)return[w,I.empty()];w.push(f.value)}return[w,{[Symbol.iterator]:()=>C}]},I.asyncToArray=async function(v){const E=[];for await(let w of v)E.push(w);return Promise.resolve(E)}}(s||(s={}))},8387:(dt,pe,h)=>{h.d(pe,{Fo:()=>d,YM:()=>p,m5:()=>_,uw:()=>M});class s{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(m,b){this._keyCodeToStr[m]=b,this._strToKeyCode[b.toLowerCase()]=m}keyCodeToStr(m){return this._keyCodeToStr[m]}strToKeyCode(m){return this._strToKeyCode[m.toLowerCase()]||0}}const I=new s,T=new s,J=new s,M=new Array(230),v={},E=[],w=Object.create(null),C=Object.create(null),d=[],f=[];for(let m=0;m<=193;m++)d[m]=-1;for(let m=0;m<=132;m++)f[m]=-1;var p;function _(m,b){return(m|(65535&b)<<16>>>0)>>>0}(function(){const b=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN","",""],[1,1,"Hyper",0,"",0,"","",""],[1,2,"Super",0,"",0,"","",""],[1,3,"Fn",0,"",0,"","",""],[1,4,"FnLock",0,"",0,"","",""],[1,5,"Suspend",0,"",0,"","",""],[1,6,"Resume",0,"",0,"","",""],[1,7,"Turbo",0,"",0,"","",""],[1,8,"Sleep",0,"",0,"VK_SLEEP","",""],[1,9,"WakeUp",0,"",0,"","",""],[0,10,"KeyA",31,"A",65,"VK_A","",""],[0,11,"KeyB",32,"B",66,"VK_B","",""],[0,12,"KeyC",33,"C",67,"VK_C","",""],[0,13,"KeyD",34,"D",68,"VK_D","",""],[0,14,"KeyE",35,"E",69,"VK_E","",""],[0,15,"KeyF",36,"F",70,"VK_F","",""],[0,16,"KeyG",37,"G",71,"VK_G","",""],[0,17,"KeyH",38,"H",72,"VK_H","",""],[0,18,"KeyI",39,"I",73,"VK_I","",""],[0,19,"KeyJ",40,"J",74,"VK_J","",""],[0,20,"KeyK",41,"K",75,"VK_K","",""],[0,21,"KeyL",42,"L",76,"VK_L","",""],[0,22,"KeyM",43,"M",77,"VK_M","",""],[0,23,"KeyN",44,"N",78,"VK_N","",""],[0,24,"KeyO",45,"O",79,"VK_O","",""],[0,25,"KeyP",46,"P",80,"VK_P","",""],[0,26,"KeyQ",47,"Q",81,"VK_Q","",""],[0,27,"KeyR",48,"R",82,"VK_R","",""],[0,28,"KeyS",49,"S",83,"VK_S","",""],[0,29,"KeyT",50,"T",84,"VK_T","",""],[0,30,"KeyU",51,"U",85,"VK_U","",""],[0,31,"KeyV",52,"V",86,"VK_V","",""],[0,32,"KeyW",53,"W",87,"VK_W","",""],[0,33,"KeyX",54,"X",88,"VK_X","",""],[0,34,"KeyY",55,"Y",89,"VK_Y","",""],[0,35,"KeyZ",56,"Z",90,"VK_Z","",""],[0,36,"Digit1",22,"1",49,"VK_1","",""],[0,37,"Digit2",23,"2",50,"VK_2","",""],[0,38,"Digit3",24,"3",51,"VK_3","",""],[0,39,"Digit4",25,"4",52,"VK_4","",""],[0,40,"Digit5",26,"5",53,"VK_5","",""],[0,41,"Digit6",27,"6",54,"VK_6","",""],[0,42,"Digit7",28,"7",55,"VK_7","",""],[0,43,"Digit8",29,"8",56,"VK_8","",""],[0,44,"Digit9",30,"9",57,"VK_9","",""],[0,45,"Digit0",21,"0",48,"VK_0","",""],[1,46,"Enter",3,"Enter",13,"VK_RETURN","",""],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE","",""],[1,48,"Backspace",1,"Backspace",8,"VK_BACK","",""],[1,49,"Tab",2,"Tab",9,"VK_TAB","",""],[1,50,"Space",10,"Space",32,"VK_SPACE","",""],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,"",0,"","",""],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL","",""],[1,64,"F1",59,"F1",112,"VK_F1","",""],[1,65,"F2",60,"F2",113,"VK_F2","",""],[1,66,"F3",61,"F3",114,"VK_F3","",""],[1,67,"F4",62,"F4",115,"VK_F4","",""],[1,68,"F5",63,"F5",116,"VK_F5","",""],[1,69,"F6",64,"F6",117,"VK_F6","",""],[1,70,"F7",65,"F7",118,"VK_F7","",""],[1,71,"F8",66,"F8",119,"VK_F8","",""],[1,72,"F9",67,"F9",120,"VK_F9","",""],[1,73,"F10",68,"F10",121,"VK_F10","",""],[1,74,"F11",69,"F11",122,"VK_F11","",""],[1,75,"F12",70,"F12",123,"VK_F12","",""],[1,76,"PrintScreen",0,"",0,"","",""],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL","",""],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE","",""],[1,79,"Insert",19,"Insert",45,"VK_INSERT","",""],[1,80,"Home",14,"Home",36,"VK_HOME","",""],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR","",""],[1,82,"Delete",20,"Delete",46,"VK_DELETE","",""],[1,83,"End",13,"End",35,"VK_END","",""],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT","",""],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",""],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",""],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",""],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",""],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK","",""],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE","",""],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY","",""],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT","",""],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD","",""],[1,94,"NumpadEnter",3,"",0,"","",""],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1","",""],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2","",""],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3","",""],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4","",""],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5","",""],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6","",""],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7","",""],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8","",""],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9","",""],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0","",""],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL","",""],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102","",""],[1,107,"ContextMenu",58,"ContextMenu",93,"","",""],[1,108,"Power",0,"",0,"","",""],[1,109,"NumpadEqual",0,"",0,"","",""],[1,110,"F13",71,"F13",124,"VK_F13","",""],[1,111,"F14",72,"F14",125,"VK_F14","",""],[1,112,"F15",73,"F15",126,"VK_F15","",""],[1,113,"F16",74,"F16",127,"VK_F16","",""],[1,114,"F17",75,"F17",128,"VK_F17","",""],[1,115,"F18",76,"F18",129,"VK_F18","",""],[1,116,"F19",77,"F19",130,"VK_F19","",""],[1,117,"F20",78,"F20",131,"VK_F20","",""],[1,118,"F21",79,"F21",132,"VK_F21","",""],[1,119,"F22",80,"F22",133,"VK_F22","",""],[1,120,"F23",81,"F23",134,"VK_F23","",""],[1,121,"F24",82,"F24",135,"VK_F24","",""],[1,122,"Open",0,"",0,"","",""],[1,123,"Help",0,"",0,"","",""],[1,124,"Select",0,"",0,"","",""],[1,125,"Again",0,"",0,"","",""],[1,126,"Undo",0,"",0,"","",""],[1,127,"Cut",0,"",0,"","",""],[1,128,"Copy",0,"",0,"","",""],[1,129,"Paste",0,"",0,"","",""],[1,130,"Find",0,"",0,"","",""],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE","",""],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP","",""],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN","",""],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR","",""],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1","",""],[1,136,"KanaMode",0,"",0,"","",""],[0,137,"IntlYen",0,"",0,"","",""],[1,138,"Convert",0,"",0,"","",""],[1,139,"NonConvert",0,"",0,"","",""],[1,140,"Lang1",0,"",0,"","",""],[1,141,"Lang2",0,"",0,"","",""],[1,142,"Lang3",0,"",0,"","",""],[1,143,"Lang4",0,"",0,"","",""],[1,144,"Lang5",0,"",0,"","",""],[1,145,"Abort",0,"",0,"","",""],[1,146,"Props",0,"",0,"","",""],[1,147,"NumpadParenLeft",0,"",0,"","",""],[1,148,"NumpadParenRight",0,"",0,"","",""],[1,149,"NumpadBackspace",0,"",0,"","",""],[1,150,"NumpadMemoryStore",0,"",0,"","",""],[1,151,"NumpadMemoryRecall",0,"",0,"","",""],[1,152,"NumpadMemoryClear",0,"",0,"","",""],[1,153,"NumpadMemoryAdd",0,"",0,"","",""],[1,154,"NumpadMemorySubtract",0,"",0,"","",""],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR","",""],[1,156,"NumpadClearEntry",0,"",0,"","",""],[1,0,"",5,"Ctrl",17,"VK_CONTROL","",""],[1,0,"",4,"Shift",16,"VK_SHIFT","",""],[1,0,"",6,"Alt",18,"VK_MENU","",""],[1,0,"",57,"Meta",91,"VK_COMMAND","",""],[1,157,"ControlLeft",5,"",0,"VK_LCONTROL","",""],[1,158,"ShiftLeft",4,"",0,"VK_LSHIFT","",""],[1,159,"AltLeft",6,"",0,"VK_LMENU","",""],[1,160,"MetaLeft",57,"",0,"VK_LWIN","",""],[1,161,"ControlRight",5,"",0,"VK_RCONTROL","",""],[1,162,"ShiftRight",4,"",0,"VK_RSHIFT","",""],[1,163,"AltRight",6,"",0,"VK_RMENU","",""],[1,164,"MetaRight",57,"",0,"VK_RWIN","",""],[1,165,"BrightnessUp",0,"",0,"","",""],[1,166,"BrightnessDown",0,"",0,"","",""],[1,167,"MediaPlay",0,"",0,"","",""],[1,168,"MediaRecord",0,"",0,"","",""],[1,169,"MediaFastForward",0,"",0,"","",""],[1,170,"MediaRewind",0,"",0,"","",""],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK","",""],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK","",""],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP","",""],[1,174,"Eject",0,"",0,"","",""],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE","",""],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT","",""],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL","",""],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2","",""],[1,179,"LaunchApp1",0,"",0,"VK_MEDIA_LAUNCH_APP1","",""],[1,180,"SelectTask",0,"",0,"","",""],[1,181,"LaunchScreenSaver",0,"",0,"","",""],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH","",""],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME","",""],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK","",""],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD","",""],[1,186,"BrowserStop",0,"",0,"VK_BROWSER_STOP","",""],[1,187,"BrowserRefresh",0,"",0,"VK_BROWSER_REFRESH","",""],[1,188,"BrowserFavorites",0,"",0,"VK_BROWSER_FAVORITES","",""],[1,189,"ZoomToggle",0,"",0,"","",""],[1,190,"MailReply",0,"",0,"","",""],[1,191,"MailForward",0,"",0,"","",""],[1,192,"MailSend",0,"",0,"","",""],[1,0,"",114,"KeyInComposition",229,"","",""],[1,0,"",116,"ABNT_C2",194,"VK_ABNT_C2","",""],[1,0,"",96,"OEM_8",223,"VK_OEM_8","",""],[1,0,"",0,"",0,"VK_KANA","",""],[1,0,"",0,"",0,"VK_HANGUL","",""],[1,0,"",0,"",0,"VK_JUNJA","",""],[1,0,"",0,"",0,"VK_FINAL","",""],[1,0,"",0,"",0,"VK_HANJA","",""],[1,0,"",0,"",0,"VK_KANJI","",""],[1,0,"",0,"",0,"VK_CONVERT","",""],[1,0,"",0,"",0,"VK_NONCONVERT","",""],[1,0,"",0,"",0,"VK_ACCEPT","",""],[1,0,"",0,"",0,"VK_MODECHANGE","",""],[1,0,"",0,"",0,"VK_SELECT","",""],[1,0,"",0,"",0,"VK_PRINT","",""],[1,0,"",0,"",0,"VK_EXECUTE","",""],[1,0,"",0,"",0,"VK_SNAPSHOT","",""],[1,0,"",0,"",0,"VK_HELP","",""],[1,0,"",0,"",0,"VK_APPS","",""],[1,0,"",0,"",0,"VK_PROCESSKEY","",""],[1,0,"",0,"",0,"VK_PACKET","",""],[1,0,"",0,"",0,"VK_DBE_SBCSCHAR","",""],[1,0,"",0,"",0,"VK_DBE_DBCSCHAR","",""],[1,0,"",0,"",0,"VK_ATTN","",""],[1,0,"",0,"",0,"VK_CRSEL","",""],[1,0,"",0,"",0,"VK_EXSEL","",""],[1,0,"",0,"",0,"VK_EREOF","",""],[1,0,"",0,"",0,"VK_PLAY","",""],[1,0,"",0,"",0,"VK_ZOOM","",""],[1,0,"",0,"",0,"VK_NONAME","",""],[1,0,"",0,"",0,"VK_PA1","",""],[1,0,"",0,"",0,"VK_OEM_CLEAR","",""]],x=[],k=[];for(let R of b){const[P,z,te,L,W,B,U,$,G]=R;if(k[z]||(k[z]=!0,E[z]=te,w[te]=z,C[te.toLowerCase()]=z,P&&(d[z]=L,L!==0&&L!==3&&L!==5&&L!==4&&L!==6&&L!==57&&(f[L]=z))),!x[L]){if(x[L]=!0,!W)throw new Error(`String representation missing for key code ${L} around scan code ${te}`);I.define(L,W),T.define(L,$||W),J.define(L,G||$||W)}B&&(M[B]=L),U&&(v[U]=L)}f[3]=46})(),function(m){m.toString=function(b){return I.keyCodeToStr(b)},m.fromString=function(b){return I.strToKeyCode(b)},m.toUserSettingsUS=function(b){return T.keyCodeToStr(b)},m.toUserSettingsGeneral=function(b){return J.keyCodeToStr(b)},m.fromUserSettings=function(b){return T.strToKeyCode(b)||J.strToKeyCode(b)},m.toElectronAccelerator=function(b){if(b>=98&&b<=113)return null;switch(b){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return I.keyCodeToStr(b)}}(p||(p={}))},8315:(dt,pe,h)=>{h.d(pe,{G$:()=>v,Of:()=>T,r0:()=>J,rr:()=>M});var s=h(9746);class I{constructor(w,C,d=C){this.modifierLabels=[null],this.modifierLabels[2]=w,this.modifierLabels[1]=C,this.modifierLabels[3]=d}toLabel(w,C,d){if(C.length===0)return null;const f=[];for(let p=0,_=C.length;p<_;p++){const m=C[p],b=d(m);if(b===null)return null;f[p]=E(m,b,this.modifierLabels[w])}return f.join(" ")}}const T=new I({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:s.kg({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:s.kg({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:s.kg({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:s.kg({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:s.kg({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:s.kg({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:s.kg({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:s.kg({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),J=new I({ctrlKey:s.kg({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:s.kg({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:s.kg({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:s.kg({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:s.kg({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:s.kg({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:s.kg({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:s.kg({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:s.kg({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:s.kg({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:s.kg({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:s.kg({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),M=new I({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),v=new I({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function E(w,C,d){if(C===null)return"";const f=[];return w.ctrlKey&&f.push(d.ctrlKey),w.shiftKey&&f.push(d.shiftKey),w.altKey&&f.push(d.altKey),w.metaKey&&f.push(d.metaKey),C!==""&&f.push(C),f.join(d.separator)}},9619:(dt,pe,h)=>{h.d(pe,{FW:()=>v,Zv:()=>I,dG:()=>J,z5:()=>E});var s=h(4327);function I(w,C){if(typeof w=="number"){if(w===0)return null;const d=(65535&w)>>>0,f=(4294901760&w)>>>16;return new M(f!==0?[T(d,C),T(f,C)]:[T(d,C)])}{const d=[];for(let f=0;f<w.length;f++)d.push(T(w[f],C));return new M(d)}}function T(w,C){const d=!!(2048&w),f=!!(256&w);return new J(C===2?f:d,!!(1024&w),!!(512&w),C===2?d:f,255&w)}class J{constructor(w,C,d,f,p){this.ctrlKey=w,this.shiftKey=C,this.altKey=d,this.metaKey=f,this.keyCode=p}equals(w){return w instanceof J&&this.ctrlKey===w.ctrlKey&&this.shiftKey===w.shiftKey&&this.altKey===w.altKey&&this.metaKey===w.metaKey&&this.keyCode===w.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class M{constructor(w){if(w.length===0)throw s.Qg("chords");this.chords=w}}class v{constructor(w,C,d,f,p,_){this.ctrlKey=w,this.shiftKey=C,this.altKey=d,this.metaKey=f,this.keyLabel=p,this.keyAriaLabel=_}}class E{}},3946:(dt,pe,h)=>{h.d(pe,{d:()=>s});class s{constructor(I){this.executor=I,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(I){this._error=I}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},998:(dt,pe,h)=>{h.d(pe,{$w:()=>k,AS:()=>C,Ay:()=>J,BO:()=>x,Cm:()=>p,HE:()=>m,VD:()=>M,Xm:()=>w,jG:()=>_,lC:()=>E,mp:()=>b,qE:()=>d,s:()=>f});var s=h(8289),I=h(7954);let T=null;function J(R){return T?.trackDisposable(R),R}function M(R){T?.markAsDisposed(R)}function v(R,P){T?.setParent(R,P)}function E(R){return T?.markAsSingleton(R),R}function w(R){return typeof R=="object"&&R!==null&&typeof R.dispose=="function"&&R.dispose.length===0}function C(R){if(I.f.is(R)){const P=[];for(let z of R)if(z)try{z.dispose()}catch(te){P.push(te)}if(P.length===1)throw P[0];if(P.length>1)throw new AggregateError(P,"Encountered errors while disposing of store");return Array.isArray(R)?[]:R}if(R)return R.dispose(),R}function d(...R){const P=f(()=>C(R));return function(z,te){if(T)for(let L of z)T.setParent(L,te)}(R,P),P}function f(R){const P=J({dispose:s.P(()=>{M(P),R()})});return P}class p{static{this.DISABLE_DISPOSED_WARNING=!1}constructor(){this._toDispose=new Set,this._isDisposed=!1,J(this)}dispose(){this._isDisposed||(M(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{C(this._toDispose)}finally{this._toDispose.clear()}}add(R){if(!R)return R;if(R===this)throw new Error("Cannot register a disposable on itself!");return v(R,this),this._isDisposed?p.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(R),R}deleteAndLeak(R){R&&this._toDispose.has(R)&&(this._toDispose.delete(R),v(R,null))}}class _{static{this.None=Object.freeze({dispose(){}})}constructor(){this._store=new p,J(this),v(this._store,this)}dispose(){M(this),this._store.dispose()}_register(R){if(R===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(R)}}class m{constructor(){this._isDisposed=!1,J(this)}get value(){return this._isDisposed?void 0:this._value}set value(R){this._isDisposed||R===this._value||(this._value?.dispose(),R&&v(R,this),this._value=R)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,M(this),this._value?.dispose(),this._value=void 0}}class b{constructor(R){this._disposable=R,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter==0&&this._disposable.dispose(),this}}class x{constructor(R){this.object=R}dispose(){}}class k{constructor(){this._store=new Map,this._isDisposed=!1,J(this)}dispose(){M(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{C(this._store.values())}finally{this._store.clear()}}get(R){return this._store.get(R)}set(R,P,z=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),z||this._store.get(R)?.dispose(),this._store.set(R,P)}deleteAndDispose(R){this._store.get(R)?.dispose(),this._store.delete(R)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},5525:(dt,pe,h)=>{h.d(pe,{w:()=>I});class s{static{this.Undefined=new s(void 0)}constructor(T){this.element=T,this.next=s.Undefined,this.prev=s.Undefined}}class I{constructor(){this._first=s.Undefined,this._last=s.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===s.Undefined}clear(){let T=this._first;for(;T!==s.Undefined;){const J=T.next;T.prev=s.Undefined,T.next=s.Undefined,T=J}this._first=s.Undefined,this._last=s.Undefined,this._size=0}unshift(T){return this._insert(T,!1)}push(T){return this._insert(T,!0)}_insert(T,J){const M=new s(T);if(this._first===s.Undefined)this._first=M,this._last=M;else if(J){const E=this._last;this._last=M,M.prev=E,E.next=M}else{const E=this._first;this._first=M,M.next=E,E.prev=M}this._size+=1;let v=!1;return()=>{v||(v=!0,this._remove(M))}}shift(){if(this._first!==s.Undefined){const T=this._first.element;return this._remove(this._first),T}}pop(){if(this._last!==s.Undefined){const T=this._last.element;return this._remove(this._last),T}}_remove(T){if(T.prev!==s.Undefined&&T.next!==s.Undefined){const J=T.prev;J.next=T.next,T.next.prev=J}else T.prev===s.Undefined&&T.next===s.Undefined?(this._first=s.Undefined,this._last=s.Undefined):T.next===s.Undefined?(this._last=this._last.prev,this._last.next=s.Undefined):T.prev===s.Undefined&&(this._first=this._first.next,this._first.prev=s.Undefined);this._size-=1}*[Symbol.iterator](){let T=this._first;for(;T!==s.Undefined;)yield T.element,T=T.next}}},7992:(dt,pe,h)=>{var s,I;h.d(pe,{cO:()=>w,db:()=>C,fT:()=>J,qK:()=>E});class T{constructor(d,f){this.uri=d,this.value=f}}class J{static{this.defaultToKey=(d)=>d.toString()}constructor(d,f){if(this[s]="ResourceMap",d instanceof J)this.map=new Map(d.map),this.toKey=f??J.defaultToKey;else if(function(p){return Array.isArray(p)}(d)){this.map=new Map,this.toKey=f??J.defaultToKey;for(let[p,_]of d)this.set(p,_)}else this.map=new Map,this.toKey=d??J.defaultToKey}set(d,f){return this.map.set(this.toKey(d),new T(d,f)),this}get(d){return this.map.get(this.toKey(d))?.value}has(d){return this.map.has(this.toKey(d))}get size(){return this.map.size}clear(){this.map.clear()}delete(d){return this.map.delete(this.toKey(d))}forEach(d,f){f!==void 0&&(d=d.bind(f));for(let[p,_]of this.map)d(_.value,_.uri,this)}*values(){for(let d of this.map.values())yield d.value}*keys(){for(let d of this.map.values())yield d.uri}*entries(){for(let d of this.map.values())yield[d.uri,d.value]}*[(s=Symbol.toStringTag,Symbol.iterator)](){for(let[,d]of this.map)yield[d.uri,d.value]}}class M{constructor(){this[I]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(d){return this._map.has(d)}get(d,f=0){const p=this._map.get(d);if(p)return f!==0&&this.touch(p,f),p.value}set(d,f,p=0){let _=this._map.get(d);if(_)_.value=f,p!==0&&this.touch(_,p);else{switch(_={key:d,value:f,next:void 0,previous:void 0},p){case 0:case 2:default:this.addItemLast(_);break;case 1:this.addItemFirst(_)}this._map.set(d,_),this._size++}return this}delete(d){return!!this.remove(d)}remove(d){const f=this._map.get(d);if(f)return this._map.delete(d),this.removeItem(f),this._size--,f.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const d=this._head;return this._map.delete(d.key),this.removeItem(d),this._size--,d.value}forEach(d,f){const p=this._state;let _=this._head;for(;_;){if(f?d.bind(f)(_.value,_.key,this):d(_.value,_.key,this),this._state!==p)throw new Error("LinkedMap got modified during iteration.");_=_.next}}keys(){const d=this,f=this._state;let p=this._head;const _={[Symbol.iterator]:()=>_,next(){if(d._state!==f)throw new Error("LinkedMap got modified during iteration.");if(p){const m={value:p.key,done:!1};return p=p.next,m}return{value:void 0,done:!0}}};return _}values(){const d=this,f=this._state;let p=this._head;const _={[Symbol.iterator]:()=>_,next(){if(d._state!==f)throw new Error("LinkedMap got modified during iteration.");if(p){const m={value:p.value,done:!1};return p=p.next,m}return{value:void 0,done:!0}}};return _}entries(){const d=this,f=this._state;let p=this._head;const _={[Symbol.iterator]:()=>_,next(){if(d._state!==f)throw new Error("LinkedMap got modified during iteration.");if(p){const m={value:[p.key,p.value],done:!1};return p=p.next,m}return{value:void 0,done:!0}}};return _}[(I=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(d){if(d>=this.size)return;if(d===0)return void this.clear();let f=this._head,p=this.size;for(;f&&p>d;)this._map.delete(f.key),f=f.next,p--;this._head=f,this._size=p,f&&(f.previous=void 0),this._state++}trimNew(d){if(d>=this.size)return;if(d===0)return void this.clear();let f=this._tail,p=this.size;for(;f&&p>d;)this._map.delete(f.key),f=f.previous,p--;this._tail=f,this._size=p,f&&(f.next=void 0),this._state++}addItemFirst(d){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");d.next=this._head,this._head.previous=d}else this._tail=d;this._head=d,this._state++}addItemLast(d){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");d.previous=this._tail,this._tail.next=d}else this._head=d;this._tail=d,this._state++}removeItem(d){if(d===this._head&&d===this._tail)this._head=void 0,this._tail=void 0;else if(d===this._head){if(!d.next)throw new Error("Invalid list");d.next.previous=void 0,this._head=d.next}else if(d===this._tail){if(!d.previous)throw new Error("Invalid list");d.previous.next=void 0,this._tail=d.previous}else{const{next:f,previous:p}=d;if(!f||!p)throw new Error("Invalid list");f.previous=p,p.next=f}d.next=void 0,d.previous=void 0,this._state++}touch(d,f){if(!this._head||!this._tail)throw new Error("Invalid list");if(f===1||f===2){if(f===1){if(d===this._head)return;const{next:p,previous:_}=d;d===this._tail?(_.next=void 0,this._tail=_):(p.previous=_,_.next=p),d.previous=void 0,d.next=this._head,this._head.previous=d,this._head=d,this._state++}else if(f===2){if(d===this._tail)return;const{next:p,previous:_}=d;d===this._head?(p.previous=void 0,this._head=p):(p.previous=_,_.next=p),d.next=void 0,d.previous=this._tail,this._tail.next=d,this._tail=d,this._state++}}}toJSON(){const d=[];return this.forEach((f,p)=>{d.push([p,f])}),d}fromJSON(d){this.clear();for(let[f,p]of d)this.set(f,p)}}class v extends M{constructor(d,f=1){super(),this._limit=d,this._ratio=Math.min(Math.max(0,f),1)}get limit(){return this._limit}set limit(d){this._limit=d,this.checkTrim()}get(d,f=2){return super.get(d,f)}peek(d){return super.get(d,0)}set(d,f){return super.set(d,f,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class E extends v{constructor(d,f=1){super(d,f)}trim(d){this.trimOld(d)}set(d,f){return super.set(d,f),this.checkTrim(),this}}class w{constructor(d){if(this._m1=new Map,this._m2=new Map,d)for(let[f,p]of d)this.set(f,p)}clear(){this._m1.clear(),this._m2.clear()}set(d,f){this._m1.set(d,f),this._m2.set(f,d)}get(d){return this._m1.get(d)}getKey(d){return this._m2.get(d)}delete(d){const f=this._m1.get(d);return f!==void 0&&(this._m1.delete(d),this._m2.delete(f),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class C{constructor(){this.map=new Map}add(d,f){let p=this.map.get(d);p||(p=new Set,this.map.set(d,p)),p.add(f)}delete(d,f){const p=this.map.get(d);p&&(p.delete(f),p.size===0&&this.map.delete(d))}forEach(d,f){const p=this.map.get(d);p&&p.forEach(f)}get(d){return this.map.get(d)||new Set}}},180:(dt,pe,h)=>{h.d(pe,{As:()=>T,qg:()=>J});var s=h(2802),I=h(7264);function T(E){return JSON.stringify(E,M)}function J(E){let w=JSON.parse(E);return w=v(w),w}function M(E,w){return w instanceof RegExp?{$mid:2,source:w.source,flags:w.flags}:w}function v(E,w=0){if(!E||w>200)return E;if(typeof E=="object"){switch(E.$mid){case 1:return I.r.revive(E);case 2:return new RegExp(E.source,E.flags);case 17:return new Date(E.source)}if(E instanceof s.MB||E instanceof Uint8Array)return E;if(Array.isArray(E))for(let C=0;C<E.length;++C)E[C]=v(E[C],w+1);else for(let C in E)Object.hasOwnProperty.call(E,C)&&(E[C]=v(E[C],w+1))}return E}},3720:(dt,pe,h)=>{h.d(pe,{K:()=>s});const s=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},3072:(dt,pe,h)=>{h.d(pe,{Ez:()=>C,SJ:()=>p,fV:()=>w,ny:()=>s,v$:()=>E,zl:()=>f});var s,I=h(4327),T=h(3339),J=h(6844),M=h(7264),v=h(8019);function E(_,m){return M.r.isUri(_)?J.Q_(_.scheme,m):J.ns(_,m+":")}function w(_,...m){return m.some((b)=>E(_,b))}(function(_){_.inMemory="inmemory",_.vscode="vscode",_.internal="private",_.walkThrough="walkThrough",_.walkThroughSnippet="walkThroughSnippet",_.http="http",_.https="https",_.file="file",_.mailto="mailto",_.untitled="untitled",_.data="data",_.command="command",_.vscodeRemote="vscode-remote",_.vscodeRemoteResource="vscode-remote-resource",_.vscodeManagedRemoteResource="vscode-managed-remote-resource",_.vscodeUserData="vscode-userdata",_.vscodeCustomEditor="vscode-custom-editor",_.vscodeNotebookCell="vscode-notebook-cell",_.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",_.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",_.vscodeNotebookCellOutput="vscode-notebook-cell-output",_.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",_.vscodeNotebookMetadata="vscode-notebook-metadata",_.vscodeInteractiveInput="vscode-interactive-input",_.vscodeSettings="vscode-settings",_.vscodeWorkspaceTrust="vscode-workspace-trust",_.vscodeTerminal="vscode-terminal",_.vscodeChatCodeBlock="vscode-chat-code-block",_.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",_.vscodeChatSesssion="vscode-chat-editor",_.webviewPanel="webview-panel",_.vscodeWebview="vscode-webview",_.extension="extension",_.vscodeFileResource="vscode-file",_.tmp="tmp",_.vsls="vsls",_.vscodeSourceControl="vscode-scm",_.commentsInput="comment",_.codeSetting="code-setting",_.outputChannel="output"})(s||(s={}));const C=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(_){this._preferredWebSchema=_}get _remoteResourcesPath(){return v.SA.join(this._serverRootPath,s.vscodeRemoteResource)}rewrite(_){if(this._delegate)try{return this._delegate(_)}catch(P){return I.dz(P),_}const m=_.authority;let b=this._hosts[m];b&&b.indexOf(":")!==-1&&b.indexOf("[")===-1&&(b=`[${b}]`);const x=this._ports[m],k=this._connectionTokens[m];let R=`path=${encodeURIComponent(_.path)}`;return typeof k=="string"&&(R+=`&tkn=${encodeURIComponent(k)}`),M.r.from({scheme:T.HZ?this._preferredWebSchema:s.vscodeRemoteResource,authority:`${b}:${x}`,path:this._remoteResourcesPath,query:R})}};class d{static{this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(_){const m=this.toUri(_);return this.uriToBrowserUri(m)}uriToBrowserUri(_){return _.scheme===s.vscodeRemote?C.rewrite(_):_.scheme!==s.file||!T.ib&&T.lg!==`${s.vscodeFileResource}://${d.FALLBACK_AUTHORITY}`?_:_.with({scheme:s.vscodeFileResource,authority:_.authority||d.FALLBACK_AUTHORITY,query:null,fragment:null})}toUri(_,m){if(M.r.isUri(_))return _;if(globalThis._VSCODE_FILE_ROOT){const b=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(b))return M.r.joinPath(M.r.parse(b,!0),_);const x=v.fj(b,_);return M.r.file(x)}return M.r.parse(m.toUrl(_))}}const f=new d;var p;(function(_){const m=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);_.CoopAndCoep=Object.freeze(m.get("3"));const b="vscode-coi";_.getHeadersFromQuery=function(x){let k;typeof x=="string"?k=new URL(x).searchParams:x instanceof URL?k=x.searchParams:M.r.isUri(x)&&(k=new URL(x.toString(!0)).searchParams);const R=k?.get(b);if(R)return m.get(R)},_.addSearchParam=function(x,k,R){if(!globalThis.crossOriginIsolated)return;const P=k&&R?"3":R?"2":"1";x instanceof URLSearchParams?x.set(b,P):x[b]=P}})(p||(p={}))},2992:(dt,pe,h)=>{function s(J,M,v){return Math.min(Math.max(J,M),v)}h.d(pe,{Uq:()=>I,mu:()=>T,qE:()=>s});class I{constructor(){this._n=1,this._val=0}update(J){return this._val=this._val+(J-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class T{constructor(J){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(J),this._values.fill(0,0,J)}update(J){const M=this._values[this._index];return this._values[this._index]=J,this._index=(this._index+1)%this._values.length,this._sum-=M,this._sum+=J,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},1386:(dt,pe,h)=>{h.d(pe,{Go:()=>I,PI:()=>M,V0:()=>C,aI:()=>w,co:()=>E,kT:()=>d,ol:()=>T});var s=h(9359);function I(f){if(!f||typeof f!="object")return f;if(f instanceof RegExp)return f;const p=Array.isArray(f)?[]:{};return Object.entries(f).forEach(([_,m])=>{p[_]=m&&typeof m=="object"?I(m):m}),p}function T(f){if(!f||typeof f!="object")return f;const p=[f];for(;p.length>0;){const _=p.shift();Object.freeze(_);for(let m in _)if(J.call(_,m)){const b=_[m];typeof b!="object"||Object.isFrozen(b)||s.iu(b)||p.push(b)}}return f}const J=Object.prototype.hasOwnProperty;function M(f,p){return v(f,p,new Set)}function v(f,p,_){if(s.z(f))return f;const m=p(f);if(m!==void 0)return m;if(Array.isArray(f)){const b=[];for(let x of f)b.push(v(x,p,_));return b}if(s.Gv(f)){if(_.has(f))throw new Error("Cannot clone recursive data-structure");_.add(f);const b={};for(let x in f)J.call(f,x)&&(b[x]=v(f[x],p,_));return _.delete(f),b}return f}function E(f,p,_=!0){return s.Gv(f)?(s.Gv(p)&&Object.keys(p).forEach((m)=>{m in f?_&&(s.Gv(f[m])&&s.Gv(p[m])?E(f[m],p[m],_):f[m]=p[m]):f[m]=p[m]}),f):p}function w(f,p){if(f===p)return!0;if(f==null||p==null)return!1;if(typeof f!=typeof p)return!1;if(typeof f!="object")return!1;if(Array.isArray(f)!==Array.isArray(p))return!1;let _,m;if(Array.isArray(f)){if(f.length!==p.length)return!1;for(_=0;_<f.length;_++)if(!w(f[_],p[_]))return!1}else{const b=[];for(m in f)b.push(m);b.sort();const x=[];for(m in p)x.push(m);if(x.sort(),!w(b,x))return!1;for(_=0;_<b.length;_++)if(!w(f[b[_]],p[b[_]]))return!1}return!0}function C(f){const p=[];for(let _ of function(m){let b=[];for(;Object.prototype!==m;)b=b.concat(Object.getOwnPropertyNames(m)),m=Object.getPrototypeOf(m);return b}(f))typeof f[_]=="function"&&p.push(_);return p}function d(f,p){const _=(b)=>function(){const x=Array.prototype.slice.call(arguments,0);return p(b,x)},m={};for(let b of f)m[b]=_(b);return m}},6311:(dt,pe,h)=>{h.d(pe,{BK:()=>b,fm:()=>E,Y:()=>C,zL:()=>w,yC:()=>f,ht:()=>d,lk:()=>_.lk,un:()=>I.un,nb:()=>I.nb,ZX:()=>_.ZX,C:()=>I.C,rm:()=>I.rm,X2:()=>s.X2,y0:()=>_.y0,Yd:()=>_.Yd,yQ:()=>_.yQ,FY:()=>s.FY,Zh:()=>z,OI:()=>_.OI,PO:()=>s.PO,Rn:()=>s.Rn,oJ:()=>k});var s=h(4442),I=h(8366),T=h(7110),J=h(998),M=h(9855),v=h(4950);function E(te){return new p(new M.nA(void 0,void 0,te),te,void 0,void 0)}function w(te,L){return new p(new M.nA(te.owner,te.debugName,te.debugReferenceFn??L),L,void 0,void 0)}function C(te,L){return new p(new M.nA(te.owner,te.debugName,te.debugReferenceFn??L),L,te.createEmptyChangeSummary,te.handleChange)}function d(te,L){const W=new J.Cm,B=C({owner:te.owner,debugName:te.debugName,debugReferenceFn:te.debugReferenceFn??L,createEmptyChangeSummary:te.createEmptyChangeSummary,handleChange:te.handleChange},(U,$)=>{W.clear(),L(U,$,W)});return J.s(()=>{B.dispose(),W.dispose()})}function f(te){const L=new J.Cm,W=w({owner:void 0,debugName:void 0,debugReferenceFn:te},(B)=>{L.clear(),te(B,L)});return J.s(()=>{W.dispose(),L.dispose()})}class p{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(te,L,W,B){this._debugNameData=te,this._runFn=L,this.createChangeSummary=W,this._handleChange=B,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=this.createChangeSummary?.(),v.tZ()?.handleAutorunCreated(this),this._runIfNeeded(),J.Ay(this)}dispose(){this.disposed=!0;for(let te of this.dependencies)te.removeObserver(this);this.dependencies.clear(),J.VD(this)}_runIfNeeded(){if(this.state===3)return;const te=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=te,this.state=3;const L=this.disposed;try{if(!L){v.tZ()?.handleAutorunTriggered(this);const W=this.changeSummary;this.changeSummary=this.createChangeSummary?.(),this._runFn(this,W)}}finally{L||v.tZ()?.handleAutorunFinished(this);for(let W of this.dependenciesToBeRemoved)W.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let te of this.dependencies)if(te.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,T.Ft(()=>this.updateCount>=0)}handlePossibleChange(te){this.state===3&&this.dependencies.has(te)&&!this.dependenciesToBeRemoved.has(te)&&(this.state=1)}handleChange(te,L){this.dependencies.has(te)&&!this.dependenciesToBeRemoved.has(te)&&(!this._handleChange||this._handleChange({changedObservable:te,change:L,didChange:(W)=>W===te},this.changeSummary))&&(this.state=2)}readObservable(te){if(this.disposed)return te.get();te.addObserver(this);const L=te.get();return this.dependencies.add(te),this.dependenciesToBeRemoved.delete(te),L}}(function(te){te.Observer=p})(E||(E={}));var _=h(2146),m=h(4327);class b{static fromFn(te){return new b(te())}constructor(te){this._value=s.FY(this,void 0),this.promiseResult=this._value,this.promise=te.then((L)=>(s.Rn((W)=>{this._value.set(new x(L,void 0),W)}),L),(L)=>{throw s.Rn((W)=>{this._value.set(new x(void 0,L),W)}),L})}}class x{constructor(te,L){this.data=te,this.error=L}}function k(te,L,W,B){return L||(L=(U)=>U!=null),new Promise((U,$)=>{let G=!0,ie=!1;const ee=te.map((H)=>({isFinished:L(H),error:!!W&&W(H),state:H})),ne=E((H)=>{const{isFinished:V,error:Y,state:ve}=ee.read(H);(V||Y)&&(G?ie=!0:ne.dispose(),Y?$(Y===!0?ve:Y):U(ve))});if(B){const H=B.onCancellationRequested(()=>{ne.dispose(),H.dispose(),$(new m.AL)});if(B.isCancellationRequested)return ne.dispose(),H.dispose(),void $(new m.AL)}G=!1,ie&&ne.dispose()})}var R=h(8897);class P extends s.ZK{get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}constructor(te,L,W){super(),this._debugNameData=te,this._equalityComparator=W,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=L}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(let te of this.observers)for(let L of this._deltas)te.handleChange(this,L);this._deltas.length=0}else for(let te of this.observers)te.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(let te of this.observers)te.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();const te=[...this.observers];for(let L of te)L.endUpdate(this)}}addObserver(te){const L=!this.observers.has(te)&&this._updateCounter>0;super.addObserver(te),L&&te.beginUpdate(this)}removeObserver(te){const L=this.observers.has(te)&&this._updateCounter>0;super.removeObserver(te),L&&te.endUpdate(this)}set(te,L,W){if(W===void 0&&this._equalityComparator(this._value,te))return;let B;L||(L=B=new s.XL(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(te),W!==void 0&&this._deltas.push(W),L.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(U,$)=>{},handlePossibleChange:(U)=>{}},this),this._updateCounter>1)for(let U of this.observers)U.handlePossibleChange(this)}finally{B&&B.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(te){this._value=te}}function z(te,L){return te.lazy?new P(new M.nA(te.owner,te.debugName,void 0),L,te.equalsFn??R.nx):new s.Lj(new M.nA(te.owner,te.debugName,void 0),L,te.equalsFn??R.nx)}},4442:(dt,pe,h)=>{h.d(pe,{Bm:()=>w,FB:()=>C,FY:()=>R,Lj:()=>P,N2:()=>d,PO:()=>x,Rn:()=>_,X2:()=>z,XL:()=>k,YY:()=>m,ZK:()=>p,fL:()=>b,zV:()=>f});var s=h(8897),I=h(9855),T=h(4950);let J,M,v,E;function w(L){J=L}function C(L){M=L}function d(L){v=L}class f{get TChange(){return null}reportChanges(){this.get()}read(L){return L?L.readObservable(this):this.get()}map(L,W){const B=W===void 0?void 0:L,U=W===void 0?L:W;return v({owner:B,debugName:()=>{const $=I.qQ(U);if($!==void 0)return $;const G=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(U.toString());return G?`${this.debugName}.${G[2]}`:B?void 0:`${this.debugName} (mapped)`},debugReferenceFn:U},($)=>U(this.read($),$))}flatten(){return v({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},(L)=>this.read(L).read(L))}recomputeInitiallyAndOnChange(L,W){return L.add(J(this,W)),this}keepObserved(L){return L.add(M(this)),this}}class p extends f{constructor(){super(...arguments),this.observers=new Set}addObserver(L){const W=this.observers.size;this.observers.add(L),W===0&&this.onFirstObserverAdded()}removeObserver(L){this.observers.delete(L)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function _(L,W){const B=new k(L,W);try{L(B)}finally{B.finish()}}function m(L){if(E)L(E);else{const W=new k(L,void 0);E=W;try{L(W)}finally{W.finish(),E=void 0}}}async function b(L,W){const B=new k(L,W);try{await L(B)}finally{B.finish()}}function x(L,W,B){L?W(L):_(W,B)}class k{constructor(L,W){this._fn=L,this._getDebugName=W,this.updatingObservers=[],T.tZ()?.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():I.qQ(this._fn)}updateObserver(L,W){this.updatingObservers.push({observer:L,observable:W}),L.beginUpdate(W)}finish(){const L=this.updatingObservers;for(let W=0;W<L.length;W++){const{observer:B,observable:U}=L[W];B.endUpdate(U)}this.updatingObservers=null,T.tZ()?.handleEndTransaction()}}function R(L,W){let B;return B=typeof L=="string"?new I.nA(void 0,L,void 0):new I.nA(L,void 0,void 0),new P(B,W,s.nx)}class P extends p{get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}constructor(L,W,B){super(),this._debugNameData=L,this._equalityComparator=B,this._value=W}get(){return this._value}set(L,W,B){if(B===void 0&&this._equalityComparator(this._value,L))return;let U;W||(W=U=new k(()=>{},()=>`Setting ${this.debugName}`));try{const $=this._value;this._setValue(L),T.tZ()?.handleObservableChanged(this,{oldValue:$,newValue:L,change:B,didChange:!0,hadValue:!0});for(let G of this.observers)W.updateObserver(G,this),G.handleChange(this,B)}finally{U&&U.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(L){this._value=L}}function z(L,W){let B;return B=typeof L=="string"?new I.nA(void 0,L,void 0):new I.nA(L,void 0,void 0),new te(B,W,s.nx)}class te extends P{_setValue(L){this._value!==L&&(this._value&&this._value.dispose(),this._value=L)}dispose(){this._value?.dispose()}}},9855:(dt,pe,h)=>{h.d(pe,{nA:()=>s,qQ:()=>v});class s{constructor(E,w,C){this.owner=E,this.debugNameSource=w,this.referenceFn=C}getDebugName(E){return function(w,C){const d=T.get(w);if(d)return d;const f=function(p,_){const m=T.get(p);if(m)return m;const b=_.owner?function(P){const z=M.get(P);if(z)return z;const te=function(B){const U=B.constructor;return U?U.name:"Object"}(P);let L=J.get(te)??0;L++,J.set(te,L);const W=L===1?te:`${te}#${L}`;return M.set(P,W),W}(_.owner)+".":"";let x;const k=_.debugNameSource;if(k!==void 0){if(typeof k!="function")return b+k;if(x=k(),x!==void 0)return b+x}const R=_.referenceFn;if(R!==void 0&&(x=v(R),x!==void 0))return b+x;if(_.owner!==void 0){const P=function(z,te){for(let L in z)if(z[L]===te)return L}(_.owner,p);if(P!==void 0)return b+P}}(w,C);if(f){let p=I.get(f)??0;p++,I.set(f,p);const _=p===1?f:`${f}#${p}`;return T.set(w,_),_}}(E,this)}}const I=new Map,T=new WeakMap,J=new Map,M=new WeakMap;function v(E){const w=E.toString(),C=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(w);return(C?C[1]:void 0)?.trim()}},8366:(dt,pe,h)=>{h.d(pe,{C:()=>C,a0:()=>p,dQ:()=>w,nb:()=>d,rm:()=>f,un:()=>E});var s=h(7110),I=h(8897),T=h(998),J=h(4442),M=h(9855),v=h(4950);function E(b,x){return x!==void 0?new _(new M.nA(b,void 0,x),x,void 0,void 0,void 0,I.nx):new _(new M.nA(void 0,void 0,b),b,void 0,void 0,void 0,I.nx)}function w(b,x,k){return new m(new M.nA(b,void 0,x),x,void 0,void 0,void 0,I.nx,k)}function C(b,x){return new _(new M.nA(b.owner,b.debugName,b.debugReferenceFn),x,void 0,void 0,b.onLastObserverRemoved,b.equalsFn??I.nx)}function d(b,x){return new _(new M.nA(b.owner,b.debugName,void 0),x,b.createEmptyChangeSummary,b.handleChange,void 0,b.equalityComparer??I.nx)}function f(b,x){let k,R;x===void 0?(k=b,R=void 0):(R=b,k=x);const P=new T.Cm;return new _(new M.nA(R,void 0,k),(z)=>(P.clear(),k(z,P)),void 0,void 0,()=>P.dispose(),I.nx)}function p(b,x){let k,R,P;return x===void 0?(k=b,R=void 0):(R=b,k=x),new _(new M.nA(R,void 0,k),(z)=>{P?P.clear():P=new T.Cm;const te=k(z);return te&&P.add(te),te},void 0,void 0,()=>{P&&(P.dispose(),P=void 0)},I.nx)}J.N2(C);class _ extends J.ZK{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(b,x,k,R,P=void 0,z){super(),this._debugNameData=b,this._computeFn=x,this.createChangeSummary=k,this._handleChange=R,this._handleLastObserverRemoved=P,this._equalityComparator=z,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=this.createChangeSummary?.(),v.tZ()?.handleDerivedCreated(this)}onLastObserverRemoved(){this.state=0,this.value=void 0;for(let b of this.dependencies)b.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){const b=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),b}do{if(this.state===1){for(let b of this.dependencies)if(b.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}_recomputeIfNeeded(){if(this.state===3)return;const b=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=b;const x=this.state!==0,k=this.value;this.state=3;const R=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,R)}finally{for(let z of this.dependenciesToBeRemoved)z.removeObserver(this);this.dependenciesToBeRemoved.clear()}const P=x&&!this._equalityComparator(k,this.value);if(v.tZ()?.handleDerivedRecomputed(this,{oldValue:k,newValue:this.value,change:void 0,didChange:P,hadValue:x}),P)for(let z of this.observers)z.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(b){this.updateCount++;const x=this.updateCount===1;if(this.state===3&&(this.state=1,!x))for(let k of this.observers)k.handlePossibleChange(this);if(x)for(let k of this.observers)k.beginUpdate(this)}endUpdate(b){if(this.updateCount--,this.updateCount===0){const x=[...this.observers];for(let k of x)k.endUpdate(this)}s.Ft(()=>this.updateCount>=0)}handlePossibleChange(b){if(this.state===3&&this.dependencies.has(b)&&!this.dependenciesToBeRemoved.has(b)){this.state=1;for(let x of this.observers)x.handlePossibleChange(this)}}handleChange(b,x){if(this.dependencies.has(b)&&!this.dependenciesToBeRemoved.has(b)){const k=!this._handleChange||this._handleChange({changedObservable:b,change:x,didChange:(P)=>P===b},this.changeSummary),R=this.state===3;if(k&&(this.state===1||R)&&(this.state=2,R))for(let P of this.observers)P.handlePossibleChange(this)}}readObservable(b){b.addObserver(this);const x=b.get();return this.dependencies.add(b),this.dependenciesToBeRemoved.delete(b),x}addObserver(b){const x=!this.observers.has(b)&&this.updateCount>0;super.addObserver(b),x&&b.beginUpdate(this)}removeObserver(b){const x=this.observers.has(b)&&this.updateCount>0;super.removeObserver(b),x&&b.endUpdate(this)}}class m extends _{constructor(b,x,k,R,P=void 0,z,te){super(b,x,k,R,P,z),this.set=te}}},4950:(dt,pe,h)=>{let s;function I(d){s=d}function T(){return s}h.d(pe,{Br:()=>I,jm:()=>J,tZ:()=>T});class J{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(d){return function(f){const p=new Array,_=[];let m="";(function x(k){if("length"in k)for(let R of k)R&&x(R);else"text"in k?(m+=`%c${k.text}`,p.push(k.style),k.data&&_.push(...k.data)):("data"in k)&&_.push(...k.data)})(f);const b=[m,...p];return b.push(..._),b}([M(C("|  ",this.indentation)),d])}formatInfo(d){return d.hadValue?d.didChange?[M(" "),E(w(d.oldValue,70),{color:"red",strikeThrough:!0}),M(" "),E(w(d.newValue,60),{color:"green"})]:[M(" (unchanged)")]:[M(" "),E(w(d.newValue,60),{color:"green"}),M(" (initial)")]}handleObservableChanged(d,f){console.log(...this.textToConsoleArgs([v("observable value changed"),E(d.debugName,{color:"BlueViolet"}),...this.formatInfo(f)]))}formatChanges(d){if(d.size!==0)return E(" (changed deps: "+[...d].map((f)=>f.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(d){const f=d.handleChange;this.changedObservablesSets.set(d,new Set),d.handleChange=(p,_)=>(this.changedObservablesSets.get(d).add(p),f.apply(d,[p,_]))}handleDerivedRecomputed(d,f){const p=this.changedObservablesSets.get(d);console.log(...this.textToConsoleArgs([v("derived recomputed"),E(d.debugName,{color:"BlueViolet"}),...this.formatInfo(f),this.formatChanges(p),{data:[{fn:d._debugNameData.referenceFn??d._computeFn}]}])),p.clear()}handleFromEventObservableTriggered(d,f){console.log(...this.textToConsoleArgs([v("observable from event triggered"),E(d.debugName,{color:"BlueViolet"}),...this.formatInfo(f),{data:[{fn:d._getValue}]}]))}handleAutorunCreated(d){const f=d.handleChange;this.changedObservablesSets.set(d,new Set),d.handleChange=(p,_)=>(this.changedObservablesSets.get(d).add(p),f.apply(d,[p,_]))}handleAutorunTriggered(d){const f=this.changedObservablesSets.get(d);console.log(...this.textToConsoleArgs([v("autorun"),E(d.debugName,{color:"BlueViolet"}),this.formatChanges(f),{data:[{fn:d._debugNameData.referenceFn??d._runFn}]}])),f.clear(),this.indentation++}handleAutorunFinished(d){this.indentation--}handleBeginTransaction(d){let f=d.getDebugName();f===void 0&&(f=""),console.log(...this.textToConsoleArgs([v("transaction"),E(f,{color:"BlueViolet"}),{data:[{fn:d._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function M(d){return E(d,{color:"black"})}function v(d){return E(function(f){for(;f.length<10;)f+=" ";return f}(`${d}: `),{color:"black",bold:!0})}function E(d,f={color:"black"}){const p={color:f.color};return f.strikeThrough&&(p["text-decoration"]="line-through"),f.bold&&(p["font-weight"]="bold"),{text:d,style:(_=p,Object.entries(_).reduce((m,[b,x])=>`${m}${b}:${x};`,""))};var _}function w(d,f){switch(typeof d){case"number":default:return""+d;case"string":return d.length+2<=f?`"${d}"`:`"${d.substr(0,f-7)}"+...`;case"boolean":return d?"true":"false";case"undefined":return"undefined";case"object":return d===null?"null":Array.isArray(d)?function(p,_){let m="[ ",b=!0;for(let x of p){if(b||(m+=", "),m.length-5>_){m+="...";break}b=!1,m+=`${w(x,_-m.length)}`}return m+=" ]",m}(d,f):function(p,_){let m="{ ",b=!0;for(let[x,k]of Object.entries(p)){if(b||(m+=", "),m.length-5>_){m+="...";break}b=!1,m+=`${x}: ${w(k,_-m.length)}`}return m+=" }",m}(d,f);case"symbol":return d.toString();case"function":return`[[Function${d.name?" "+d.name:""}]]`}}function C(d,f){let p="";for(let _=1;_<=f;_++)p+=d;return p}},2146:(dt,pe,h)=>{h.d(pe,{OI:()=>x,Rl:()=>P,Yd:()=>m,ZX:()=>R,eP:()=>d,lk:()=>E,t:()=>te,y0:()=>C,yQ:()=>p}),h(2106);var s=h(998),I=h(4442),T=h(9855),J=h(8366),M=h(4950),v=h(8897);function E(L){return new w(L)}class w extends I.zV{constructor(L){super(),this.value=L}get debugName(){return this.toString()}get(){return this.value}addObserver(L){}removeObserver(L){}toString(){return`Const: ${this.value}`}}function C(...L){let W,B,U;return L.length===3?[W,B,U]=L:[B,U]=L,new f(new T.nA(W,void 0,U),B,U,()=>f.globalTransaction,v.nx)}function d(L,W,B){return new f(new T.nA(L.owner,L.debugName,L.debugReferenceFn??B),W,B,()=>f.globalTransaction,L.equalsFn??v.nx)}class f extends I.ZK{constructor(L,W,B,U,$){super(),this._debugNameData=L,this.event=W,this._getValue=B,this._getTransaction=U,this._equalityComparator=$,this.hasValue=!1,this.handleEvent=(G)=>{const ie=this._getValue(G),ee=this.value,ne=!this.hasValue||!this._equalityComparator(ee,ie);let H=!1;ne&&(this.value=ie,this.hasValue&&(H=!0,I.PO(this._getTransaction(),(V)=>{M.tZ()?.handleFromEventObservableTriggered(this,{oldValue:ee,newValue:ie,change:void 0,didChange:ne,hadValue:this.hasValue});for(let Y of this.observers)V.updateObserver(Y,this),Y.handleChange(this,void 0)},()=>{const V=this.getDebugName();return"Event fired"+(V?`: ${V}`:"")})),this.hasValue=!0),H||M.tZ()?.handleFromEventObservableTriggered(this,{oldValue:ee,newValue:ie,change:void 0,didChange:ne,hadValue:this.hasValue})}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const L=this.getDebugName();return"From Event"+(L?`: ${L}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}function p(L,W){return new _(L,W)}(function(L){L.Observer=f,L.batchEventsGlobally=function(W,B){let U=!1;f.globalTransaction===void 0&&(f.globalTransaction=W,U=!0);try{B()}finally{U&&(f.globalTransaction=void 0)}}})(C||(C={}));class _ extends I.ZK{constructor(L,W){super(),this.debugName=L,this.event=W,this.handleEvent=()=>{I.Rn((B)=>{for(let U of this.observers)B.updateObserver(U,this),U.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function m(L){return typeof L=="string"?new b(L):new b(void 0,L)}class b extends I.ZK{get debugName(){return new T.nA(this._owner,this._debugName,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(L,W){super(),this._debugName=L,this._owner=W}trigger(L,W){if(L)for(let B of this.observers)L.updateObserver(B,this),B.handleChange(this,W);else I.Rn((B)=>{this.trigger(B,W)},()=>`Trigger signal ${this.debugName}`)}get(){}}function x(L,W){const B=new k(!0,W);return L.addObserver(B),W?W(L.get()):L.reportChanges(),s.s(()=>{L.removeObserver(B)})}I.FB(function(L){const W=new k(!1,void 0);return L.addObserver(W),s.s(()=>{L.removeObserver(W)})}),I.Bm(x);class k{constructor(L,W){this._forceRecompute=L,this._handleValue=W,this._counter=0}beginUpdate(L){this._counter++}endUpdate(L){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(L.get()):L.reportChanges())}handlePossibleChange(L){}handleChange(L,W){}}function R(L,W){let B;return J.C({owner:L,debugReferenceFn:W},(U)=>(B=W(U,B),B))}function P(L,W,B,U){let $=new z(B,U);return J.C({debugReferenceFn:B,owner:L,onLastObserverRemoved:()=>{$.dispose(),$=new z(B)}},(G)=>($.setItems(W.read(G)),$.getItems()))}class z{constructor(L,W){this._map=L,this._keySelector=W,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach((L)=>L.store.dispose()),this._cache.clear()}setItems(L){const W=[],B=new Set(this._cache.keys());for(let U of L){const $=this._keySelector?this._keySelector(U):U;let G=this._cache.get($);if(G)B.delete($);else{const ie=new s.Cm;G={out:this._map(U,ie),store:ie},this._cache.set($,G)}W.push(G.out)}for(let U of B)this._cache.get(U).store.dispose(),this._cache.delete(U);this._items=W}getItems(){return this._items}}function te(L,W){return R(L,(B,U)=>U??W(B))}},8019:(dt,pe,h)=>{h.d(pe,{IN:()=>m,LC:()=>W,P8:()=>L,S8:()=>k,SA:()=>x,V8:()=>z,Vn:()=>B,fj:()=>R,hd:()=>P,pD:()=>te});var s=h(9871);const I=46,T=47,J=92,M=58;class v extends Error{constructor(U,$,G){let ie;typeof $=="string"&&$.indexOf("not ")===0?(ie="must not be",$=$.replace(/^not /,"")):ie="must be";const ee=U.indexOf(".")!==-1?"property":"argument";let ne=`The "${U}" ${ee} ${ie} of type ${$}`;ne+=". Received type "+typeof G,super(ne),this.code="ERR_INVALID_ARG_TYPE"}}function E(U,$){if(typeof U!="string")throw new v($,"string",U)}const w=s.iD==="win32";function C(U){return U===T||U===J}function d(U){return U===T}function f(U){return U>=65&&U<=90||U>=97&&U<=122}function p(U,$,G,ie){let ee="",ne=0,H=-1,V=0,Y=0;for(let ve=0;ve<=U.length;++ve){if(ve<U.length)Y=U.charCodeAt(ve);else{if(ie(Y))break;Y=T}if(ie(Y)){if(H===ve-1||V===1);else if(V===2){if(ee.length<2||ne!==2||ee.charCodeAt(ee.length-1)!==I||ee.charCodeAt(ee.length-2)!==I){if(ee.length>2){const Te=ee.lastIndexOf(G);Te===-1?(ee="",ne=0):(ee=ee.slice(0,Te),ne=ee.length-1-ee.lastIndexOf(G)),H=ve,V=0;continue}if(ee.length!==0){ee="",ne=0,H=ve,V=0;continue}}$&&(ee+=ee.length>0?`${G}..`:"..",ne=2)}else ee.length>0?ee+=`${G}${U.slice(H+1,ve)}`:ee=U.slice(H+1,ve),ne=ve-H-1;H=ve,V=0}else Y===I&&V!==-1?++V:V=-1}return ee}function _(U,$){(function(ne){if(ne===null||typeof ne!="object")throw new v("pathObject","Object",ne)})($);const G=$.dir||$.root,ie=$.base||`${$.name||""}${ee=$.ext,ee?`${ee[0]==="."?"":"."}${ee}`:""}`;var ee;return G?G===$.root?`${G}${ie}`:`${G}${U}${ie}`:ie}const m={resolve(...U){let $="",G="",ie=!1;for(let ee=U.length-1;ee>=-1;ee--){let ne;if(ee>=0){if(ne=U[ee],E(ne,`paths[${ee}]`),ne.length===0)continue}else $.length===0?ne=s.bJ():(ne=s._K[`=${$}`]||s.bJ(),(ne===void 0||ne.slice(0,2).toLowerCase()!==$.toLowerCase()&&ne.charCodeAt(2)===J)&&(ne=`${$}\\`));const H=ne.length;let V=0,Y="",ve=!1;const Te=ne.charCodeAt(0);if(H===1)C(Te)&&(V=1,ve=!0);else if(C(Te))if(ve=!0,C(ne.charCodeAt(1))){let xe=2,Be=xe;for(;xe<H&&!C(ne.charCodeAt(xe));)xe++;if(xe<H&&xe!==Be){const Ie=ne.slice(Be,xe);for(Be=xe;xe<H&&C(ne.charCodeAt(xe));)xe++;if(xe<H&&xe!==Be){for(Be=xe;xe<H&&!C(ne.charCodeAt(xe));)xe++;xe!==H&&xe===Be||(Y=`\\\\${Ie}\\${ne.slice(Be,xe)}`,V=xe)}}}else V=1;else f(Te)&&ne.charCodeAt(1)===M&&(Y=ne.slice(0,2),V=2,H>2&&C(ne.charCodeAt(2))&&(ve=!0,V=3));if(Y.length>0)if($.length>0){if(Y.toLowerCase()!==$.toLowerCase())continue}else $=Y;if(ie){if($.length>0)break}else if(G=`${ne.slice(V)}\\${G}`,ie=ve,ve&&$.length>0)break}return G=p(G,!ie,"\\",C),ie?`${$}\\${G}`:`${$}${G}`||"."},normalize(U){E(U,"path");const $=U.length;if($===0)return".";let G,ie=0,ee=!1;const ne=U.charCodeAt(0);if($===1)return d(ne)?"\\":U;if(C(ne))if(ee=!0,C(U.charCodeAt(1))){let V=2,Y=V;for(;V<$&&!C(U.charCodeAt(V));)V++;if(V<$&&V!==Y){const ve=U.slice(Y,V);for(Y=V;V<$&&C(U.charCodeAt(V));)V++;if(V<$&&V!==Y){for(Y=V;V<$&&!C(U.charCodeAt(V));)V++;if(V===$)return`\\\\${ve}\\${U.slice(Y)}\\`;V!==Y&&(G=`\\\\${ve}\\${U.slice(Y,V)}`,ie=V)}}}else ie=1;else f(ne)&&U.charCodeAt(1)===M&&(G=U.slice(0,2),ie=2,$>2&&C(U.charCodeAt(2))&&(ee=!0,ie=3));let H=ie<$?p(U.slice(ie),!ee,"\\",C):"";return H.length!==0||ee||(H="."),H.length>0&&C(U.charCodeAt($-1))&&(H+="\\"),G===void 0?ee?`\\${H}`:H:ee?`${G}\\${H}`:`${G}${H}`},isAbsolute(U){E(U,"path");const $=U.length;if($===0)return!1;const G=U.charCodeAt(0);return C(G)||$>2&&f(G)&&U.charCodeAt(1)===M&&C(U.charCodeAt(2))},join(...U){if(U.length===0)return".";let $,G;for(let ne=0;ne<U.length;++ne){const H=U[ne];E(H,"path"),H.length>0&&($===void 0?$=G=H:$+=`\\${H}`)}if($===void 0)return".";let ie=!0,ee=0;if(typeof G=="string"&&C(G.charCodeAt(0))){++ee;const ne=G.length;ne>1&&C(G.charCodeAt(1))&&(++ee,ne>2&&(C(G.charCodeAt(2))?++ee:ie=!1))}if(ie){for(;ee<$.length&&C($.charCodeAt(ee));)ee++;ee>=2&&($=`\\${$.slice(ee)}`)}return m.normalize($)},relative(U,$){if(E(U,"from"),E($,"to"),U===$)return"";const G=m.resolve(U),ie=m.resolve($);if(G===ie)return"";if((U=G.toLowerCase())===($=ie.toLowerCase()))return"";let ee=0;for(;ee<U.length&&U.charCodeAt(ee)===J;)ee++;let ne=U.length;for(;ne-1>ee&&U.charCodeAt(ne-1)===J;)ne--;const H=ne-ee;let V=0;for(;V<$.length&&$.charCodeAt(V)===J;)V++;let Y=$.length;for(;Y-1>V&&$.charCodeAt(Y-1)===J;)Y--;const ve=Y-V,Te=H<ve?H:ve;let xe=-1,Be=0;for(;Be<Te;Be++){const he=U.charCodeAt(ee+Be);if(he!==$.charCodeAt(V+Be))break;he===J&&(xe=Be)}if(Be!==Te){if(xe===-1)return ie}else{if(ve>Te){if($.charCodeAt(V+Be)===J)return ie.slice(V+Be+1);if(Be===2)return ie.slice(V+Be)}H>Te&&(U.charCodeAt(ee+Be)===J?xe=Be:Be===2&&(xe=3)),xe===-1&&(xe=0)}let Ie="";for(Be=ee+xe+1;Be<=ne;++Be)Be!==ne&&U.charCodeAt(Be)!==J||(Ie+=Ie.length===0?"..":"\\..");return V+=xe,Ie.length>0?`${Ie}${ie.slice(V,Y)}`:(ie.charCodeAt(V)===J&&++V,ie.slice(V,Y))},toNamespacedPath(U){if(typeof U!="string"||U.length===0)return U;const $=m.resolve(U);if($.length<=2)return U;if($.charCodeAt(0)===J){if($.charCodeAt(1)===J){const G=$.charCodeAt(2);if(G!==63&&G!==I)return`\\\\?\\UNC\\${$.slice(2)}`}}else if(f($.charCodeAt(0))&&$.charCodeAt(1)===M&&$.charCodeAt(2)===J)return`\\\\?\\${$}`;return U},dirname(U){E(U,"path");const $=U.length;if($===0)return".";let G=-1,ie=0;const ee=U.charCodeAt(0);if($===1)return C(ee)?U:".";if(C(ee)){if(G=ie=1,C(U.charCodeAt(1))){let V=2,Y=V;for(;V<$&&!C(U.charCodeAt(V));)V++;if(V<$&&V!==Y){for(Y=V;V<$&&C(U.charCodeAt(V));)V++;if(V<$&&V!==Y){for(Y=V;V<$&&!C(U.charCodeAt(V));)V++;if(V===$)return U;V!==Y&&(G=ie=V+1)}}}}else f(ee)&&U.charCodeAt(1)===M&&(G=$>2&&C(U.charCodeAt(2))?3:2,ie=G);let ne=-1,H=!0;for(let V=$-1;V>=ie;--V)if(C(U.charCodeAt(V))){if(!H){ne=V;break}}else H=!1;if(ne===-1){if(G===-1)return".";ne=G}return U.slice(0,ne)},basename(U,$){$!==void 0&&E($,"suffix"),E(U,"path");let G,ie=0,ee=-1,ne=!0;if(U.length>=2&&f(U.charCodeAt(0))&&U.charCodeAt(1)===M&&(ie=2),$!==void 0&&$.length>0&&$.length<=U.length){if($===U)return"";let H=$.length-1,V=-1;for(G=U.length-1;G>=ie;--G){const Y=U.charCodeAt(G);if(C(Y)){if(!ne){ie=G+1;break}}else V===-1&&(ne=!1,V=G+1),H>=0&&(Y===$.charCodeAt(H)?--H==-1&&(ee=G):(H=-1,ee=V))}return ie===ee?ee=V:ee===-1&&(ee=U.length),U.slice(ie,ee)}for(G=U.length-1;G>=ie;--G)if(C(U.charCodeAt(G))){if(!ne){ie=G+1;break}}else ee===-1&&(ne=!1,ee=G+1);return ee===-1?"":U.slice(ie,ee)},extname(U){E(U,"path");let $=0,G=-1,ie=0,ee=-1,ne=!0,H=0;U.length>=2&&U.charCodeAt(1)===M&&f(U.charCodeAt(0))&&($=ie=2);for(let V=U.length-1;V>=$;--V){const Y=U.charCodeAt(V);if(C(Y)){if(!ne){ie=V+1;break}}else ee===-1&&(ne=!1,ee=V+1),Y===I?G===-1?G=V:H!==1&&(H=1):G!==-1&&(H=-1)}return G===-1||ee===-1||H===0||H===1&&G===ee-1&&G===ie+1?"":U.slice(G,ee)},format:_.bind(null,"\\"),parse(U){E(U,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(U.length===0)return $;const G=U.length;let ie=0,ee=U.charCodeAt(0);if(G===1)return C(ee)?($.root=$.dir=U,$):($.base=$.name=U,$);if(C(ee)){if(ie=1,C(U.charCodeAt(1))){let xe=2,Be=xe;for(;xe<G&&!C(U.charCodeAt(xe));)xe++;if(xe<G&&xe!==Be){for(Be=xe;xe<G&&C(U.charCodeAt(xe));)xe++;if(xe<G&&xe!==Be){for(Be=xe;xe<G&&!C(U.charCodeAt(xe));)xe++;xe===G?ie=xe:xe!==Be&&(ie=xe+1)}}}}else if(f(ee)&&U.charCodeAt(1)===M){if(G<=2)return $.root=$.dir=U,$;if(ie=2,C(U.charCodeAt(2))){if(G===3)return $.root=$.dir=U,$;ie=3}}ie>0&&($.root=U.slice(0,ie));let ne=-1,H=ie,V=-1,Y=!0,ve=U.length-1,Te=0;for(;ve>=ie;--ve)if(ee=U.charCodeAt(ve),C(ee)){if(!Y){H=ve+1;break}}else V===-1&&(Y=!1,V=ve+1),ee===I?ne===-1?ne=ve:Te!==1&&(Te=1):ne!==-1&&(Te=-1);return V!==-1&&(ne===-1||Te===0||Te===1&&ne===V-1&&ne===H+1?$.base=$.name=U.slice(H,V):($.name=U.slice(H,ne),$.base=U.slice(H,V),$.ext=U.slice(ne,V))),$.dir=H>0&&H!==ie?U.slice(0,H-1):$.root,$},sep:"\\",delimiter:";",win32:null,posix:null},b=(()=>{if(w){const U=/\\/g;return()=>{const $=s.bJ().replace(U,"/");return $.slice($.indexOf("/"))}}return()=>s.bJ()})(),x={resolve(...U){let $="",G=!1;for(let ie=U.length-1;ie>=-1&&!G;ie--){const ee=ie>=0?U[ie]:b();E(ee,`paths[${ie}]`),ee.length!==0&&($=`${ee}/${$}`,G=ee.charCodeAt(0)===T)}return $=p($,!G,"/",d),G?`/${$}`:$.length>0?$:"."},normalize(U){if(E(U,"path"),U.length===0)return".";const $=U.charCodeAt(0)===T,G=U.charCodeAt(U.length-1)===T;return(U=p(U,!$,"/",d)).length===0?$?"/":G?"./":".":(G&&(U+="/"),$?`/${U}`:U)},isAbsolute:(U)=>(E(U,"path"),U.length>0&&U.charCodeAt(0)===T),join(...U){if(U.length===0)return".";let $;for(let G=0;G<U.length;++G){const ie=U[G];E(ie,"path"),ie.length>0&&($===void 0?$=ie:$+=`/${ie}`)}return $===void 0?".":x.normalize($)},relative(U,$){if(E(U,"from"),E($,"to"),U===$)return"";if((U=x.resolve(U))===($=x.resolve($)))return"";const G=U.length,ie=G-1,ee=$.length-1,ne=ie<ee?ie:ee;let H=-1,V=0;for(;V<ne;V++){const ve=U.charCodeAt(1+V);if(ve!==$.charCodeAt(1+V))break;ve===T&&(H=V)}if(V===ne)if(ee>ne){if($.charCodeAt(1+V)===T)return $.slice(1+V+1);if(V===0)return $.slice(1+V)}else ie>ne&&(U.charCodeAt(1+V)===T?H=V:V===0&&(H=0));let Y="";for(V=1+H+1;V<=G;++V)V!==G&&U.charCodeAt(V)!==T||(Y+=Y.length===0?"..":"/..");return`${Y}${$.slice(1+H)}`},toNamespacedPath:(U)=>U,dirname(U){if(E(U,"path"),U.length===0)return".";const $=U.charCodeAt(0)===T;let G=-1,ie=!0;for(let ee=U.length-1;ee>=1;--ee)if(U.charCodeAt(ee)===T){if(!ie){G=ee;break}}else ie=!1;return G===-1?$?"/":".":$&&G===1?"//":U.slice(0,G)},basename(U,$){$!==void 0&&E($,"ext"),E(U,"path");let G,ie=0,ee=-1,ne=!0;if($!==void 0&&$.length>0&&$.length<=U.length){if($===U)return"";let H=$.length-1,V=-1;for(G=U.length-1;G>=0;--G){const Y=U.charCodeAt(G);if(Y===T){if(!ne){ie=G+1;break}}else V===-1&&(ne=!1,V=G+1),H>=0&&(Y===$.charCodeAt(H)?--H==-1&&(ee=G):(H=-1,ee=V))}return ie===ee?ee=V:ee===-1&&(ee=U.length),U.slice(ie,ee)}for(G=U.length-1;G>=0;--G)if(U.charCodeAt(G)===T){if(!ne){ie=G+1;break}}else ee===-1&&(ne=!1,ee=G+1);return ee===-1?"":U.slice(ie,ee)},extname(U){E(U,"path");let $=-1,G=0,ie=-1,ee=!0,ne=0;for(let H=U.length-1;H>=0;--H){const V=U.charCodeAt(H);if(V!==T)ie===-1&&(ee=!1,ie=H+1),V===I?$===-1?$=H:ne!==1&&(ne=1):$!==-1&&(ne=-1);else if(!ee){G=H+1;break}}return $===-1||ie===-1||ne===0||ne===1&&$===ie-1&&$===G+1?"":U.slice($,ie)},format:_.bind(null,"/"),parse(U){E(U,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(U.length===0)return $;const G=U.charCodeAt(0)===T;let ie;G?($.root="/",ie=1):ie=0;let ee=-1,ne=0,H=-1,V=!0,Y=U.length-1,ve=0;for(;Y>=ie;--Y){const Te=U.charCodeAt(Y);if(Te!==T)H===-1&&(V=!1,H=Y+1),Te===I?ee===-1?ee=Y:ve!==1&&(ve=1):ee!==-1&&(ve=-1);else if(!V){ne=Y+1;break}}if(H!==-1){const Te=ne===0&&G?1:ne;ee===-1||ve===0||ve===1&&ee===H-1&&ee===ne+1?$.base=$.name=U.slice(Te,H):($.name=U.slice(Te,ee),$.base=U.slice(Te,H),$.ext=U.slice(ee,H))}return ne>0?$.dir=U.slice(0,ne-1):G&&($.dir="/"),$},sep:"/",delimiter:":",win32:null,posix:null};x.win32=m.win32=m,x.posix=m.posix=x;const k=w?m.normalize:x.normalize,R=w?m.join:x.join,P=w?m.resolve:x.resolve,z=w?m.relative:x.relative,te=w?m.dirname:x.dirname,L=w?m.basename:x.basename,W=w?m.extname:x.extname,B=w?m.sep:x.sep},3339:(dt,pe,h)=>{h.d(pe,{BH:()=>V,Fr:()=>ne,H8:()=>he,HZ:()=>G,OS:()=>Te,UP:()=>Je,_p:()=>ve,cm:()=>Ie,gm:()=>Q,ib:()=>$,j9:()=>U,lg:()=>ie,m0:()=>Se,nr:()=>re,uF:()=>W,un:()=>ee,zx:()=>B});var s=h(9746);const I="en";let T,J,M=!1,v=!1,E=!1,w=!1,C=!1,d=!1,f=!1,p=!1,_=!1,m=!1,b=I,x=null,k=null;const R=globalThis;let P;R.vscode!==void 0&&R.vscode.process!==void 0?P=R.vscode.process:typeof process!="undefined"&&typeof process?.versions?.node=="string"&&(P=process);const z=typeof P?.versions?.electron=="string",te=z&&P?.type==="renderer";if(typeof P=="object"){M=P.platform==="win32",v=P.platform==="darwin",E=P.platform==="linux",w=E&&!!P.env.SNAP&&!!P.env.SNAP_REVISION,f=z,_=!!P.env.CI||!!P.env.BUILD_ARTIFACTSTAGINGDIRECTORY,T=I,b=I;const Pe=P.env.VSCODE_NLS_CONFIG;if(Pe)try{const Le=JSON.parse(Pe);T=Le.userLocale,x=Le.osLocale,b=Le.resolvedLanguage||I,k=Le.languagePack?.translationsConfigFile}catch(Le){}C=!0}else typeof navigator!="object"||te?console.error("Unable to resolve platform."):(J=navigator.userAgent,M=J.indexOf("Windows")>=0,v=J.indexOf("Macintosh")>=0,p=(J.indexOf("Macintosh")>=0||J.indexOf("iPad")>=0||J.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,E=J.indexOf("Linux")>=0,m=J?.indexOf("Mobi")>=0,d=!0,b=s.i8()||I,T=navigator.language.toLowerCase(),x=T);let L=0;v?L=1:M?L=3:E&&(L=2);const W=M,B=v,U=E,$=C,G=d,ie=d&&typeof R.importScripts=="function"?R.origin:void 0,ee=p,ne=m,H=J,V=b,Y=typeof R.postMessage=="function"&&!R.importScripts,ve=(()=>{if(Y){const Pe=[];R.addEventListener("message",(Ve)=>{if(Ve.data&&Ve.data.vscodeScheduleAsyncWork)for(let g=0,ge=Pe.length;g<ge;g++){const We=Pe[g];if(We.id===Ve.data.vscodeScheduleAsyncWork)return Pe.splice(g,1),void We.callback()}});let Le=0;return(Ve)=>{const g=++Le;Pe.push({id:g,callback:Ve}),R.postMessage({vscodeScheduleAsyncWork:g},"*")}}return(Pe)=>setTimeout(Pe)})(),Te=v||p?2:M?1:3;let xe=!0,Be=!1;function Ie(){if(!Be){Be=!0;const Pe=new Uint8Array(2);Pe[0]=1,Pe[1]=2,xe=new Uint16Array(Pe.buffer)[0]===513}return xe}const he=!!(H&&H.indexOf("Chrome")>=0),Q=!!(H&&H.indexOf("Firefox")>=0),re=!!(!he&&H&&H.indexOf("Safari")>=0),Je=!!(H&&H.indexOf("Edg/")>=0),Se=!!(H&&H.indexOf("Android")>=0)},9871:(dt,pe,h)=>{h.d(pe,{_K:()=>M,bJ:()=>J,iD:()=>v});var s=h(3339);let I;const T=globalThis.vscode;if(T!==void 0&&T.process!==void 0){const E=T.process;I={get platform(){return E.platform},get arch(){return E.arch},get env(){return E.env},cwd:()=>E.cwd()}}else I=typeof process!="undefined"&&typeof process?.versions?.node=="string"?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return s.uF?"win32":s.zx?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const{cwd:J,env:M,platform:v}=I},2199:(dt,pe,h)=>{var s;h.d(pe,{Q:()=>s}),function(I){function T(M,v){if(M.start>=v.end||v.start>=M.end)return{start:0,end:0};const E=Math.max(M.start,v.start),w=Math.min(M.end,v.end);return w-E<=0?{start:0,end:0}:{start:E,end:w}}function J(M){return M.end-M.start<=0}I.intersect=T,I.isEmpty=J,I.intersects=function(M,v){return!J(T(M,v))},I.relativeComplement=function(M,v){const E=[],w={start:M.start,end:Math.min(v.start,M.end)},C={start:Math.max(v.end,M.start),end:M.end};return J(w)||E.push(w),J(C)||E.push(C),E}}(s||(s={}))},2467:(dt,pe,h)=>{h.d(pe,{B6:()=>te,Fd:()=>x,LC:()=>_,P8:()=>p,Pi:()=>f,er:()=>C,iZ:()=>k,n4:()=>d,o1:()=>R,pD:()=>m,su:()=>E,uJ:()=>b});var s=h(8518),I=h(3072),T=h(8019),J=h(3339),M=h(6844),v=h(7264);function E(L){return v.I(L,!0)}class w{constructor(L){this._ignorePathCasing=L}compare(L,W,B=!1){return L===W?0:M.UD(this.getComparisonKey(L,B),this.getComparisonKey(W,B))}isEqual(L,W,B=!1){return L===W||!(!L||!W)&&this.getComparisonKey(L,B)===this.getComparisonKey(W,B)}getComparisonKey(L,W=!1){return L.with({path:this._ignorePathCasing(L)?L.path.toLowerCase():void 0,fragment:W?null:void 0}).toString()}isEqualOrParent(L,W,B=!1){if(L.scheme===W.scheme){if(L.scheme===I.ny.file)return s._1(E(L),E(W),this._ignorePathCasing(L))&&L.query===W.query&&(B||L.fragment===W.fragment);if(P(L.authority,W.authority))return s._1(L.path,W.path,this._ignorePathCasing(L),"/")&&L.query===W.query&&(B||L.fragment===W.fragment)}return!1}joinPath(L,...W){return v.r.joinPath(L,...W)}basenameOrAuthority(L){return p(L)||L.authority}basename(L){return T.SA.basename(L.path)}extname(L){return T.SA.extname(L.path)}dirname(L){if(L.path.length===0)return L;let W;return L.scheme===I.ny.file?W=v.r.file(T.pD(E(L))).path:(W=T.SA.dirname(L.path),L.authority&&W.length&&W.charCodeAt(0)!==47&&(console.error(`dirname("${L.toString})) resulted in a relative path`),W="/")),L.with({path:W})}normalizePath(L){if(!L.path.length)return L;let W;return W=L.scheme===I.ny.file?v.r.file(T.S8(E(L))).path:T.SA.normalize(L.path),L.with({path:W})}relativePath(L,W){if(L.scheme!==W.scheme||!P(L.authority,W.authority))return;if(L.scheme===I.ny.file){const $=T.V8(E(L),E(W));return J.uF?s.TH($):$}let B=L.path||"/";const U=W.path||"/";if(this._ignorePathCasing(L)){let $=0;for(let G=Math.min(B.length,U.length);$<G&&(B.charCodeAt($)===U.charCodeAt($)||B.charAt($).toLowerCase()===U.charAt($).toLowerCase());$++);B=U.substr(0,$)+B.substr($)}return T.SA.relative(B,U)}resolvePath(L,W){if(L.scheme===I.ny.file){const B=v.r.file(T.hd(E(L),W));return L.with({authority:B.authority,path:B.path})}return W=s.kb(W),L.with({path:T.SA.resolve(L.path,W)})}isAbsolutePath(L){return!!L.path&&L.path[0]==="/"}isEqualAuthority(L,W){return L===W||L!==void 0&&W!==void 0&&M.Q_(L,W)}hasTrailingPathSeparator(L,W=T.Vn){if(L.scheme===I.ny.file){const B=E(L);return B.length>s.Zn(B).length&&B[B.length-1]===W}{const B=L.path;return B.length>1&&B.charCodeAt(B.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(L.fsPath)}}removeTrailingPathSeparator(L,W=T.Vn){return z(L,W)?L.with({path:L.path.substr(0,L.path.length-1)}):L}addTrailingPathSeparator(L,W=T.Vn){let B=!1;if(L.scheme===I.ny.file){const U=E(L);B=U!==void 0&&U.length===s.Zn(U).length&&U[U.length-1]===W}else{W="/";const U=L.path;B=U.length===1&&U.charCodeAt(U.length-1)===47}return B||z(L,W)?L:L.with({path:L.path+"/"})}}const C=new w(()=>!1),d=(new w((L)=>L.scheme!==I.ny.file||!J.j9),new w((L)=>!0),C.isEqual.bind(C)),f=(C.isEqualOrParent.bind(C),C.getComparisonKey.bind(C),C.basenameOrAuthority.bind(C)),p=C.basename.bind(C),_=C.extname.bind(C),m=C.dirname.bind(C),b=C.joinPath.bind(C),x=C.normalizePath.bind(C),k=C.relativePath.bind(C),R=C.resolvePath.bind(C),P=(C.isAbsolutePath.bind(C),C.isEqualAuthority.bind(C)),z=C.hasTrailingPathSeparator.bind(C);var te;C.removeTrailingPathSeparator.bind(C),C.addTrailingPathSeparator.bind(C),function(L){L.META_DATA_LABEL="label",L.META_DATA_DESCRIPTION="description",L.META_DATA_SIZE="size",L.META_DATA_MIME="mime",L.parseMetaData=function(W){const B=new Map;W.path.substring(W.path.indexOf(";")+1,W.path.lastIndexOf(";")).split(";").forEach(($)=>{const[G,ie]=$.split(":");G&&ie&&B.set(G,ie)});const U=W.path.substring(0,W.path.indexOf(";"));return U&&B.set(L.META_DATA_MIME,U),B}}(te||(te={}))},4513:(dt,pe,h)=>{h.d(pe,{yE:()=>J});var s=h(2106),I=h(998);class T{constructor(w,C,d,f,p,_,m){this._forceIntegerValues=w,this._scrollStateBrand=void 0,this._forceIntegerValues&&(C|=0,d|=0,f|=0,p|=0,_|=0,m|=0),this.rawScrollLeft=f,this.rawScrollTop=m,C<0&&(C=0),f+C>d&&(f=d-C),f<0&&(f=0),p<0&&(p=0),m+p>_&&(m=_-p),m<0&&(m=0),this.width=C,this.scrollWidth=d,this.scrollLeft=f,this.height=p,this.scrollHeight=_,this.scrollTop=m}equals(w){return this.rawScrollLeft===w.rawScrollLeft&&this.rawScrollTop===w.rawScrollTop&&this.width===w.width&&this.scrollWidth===w.scrollWidth&&this.scrollLeft===w.scrollLeft&&this.height===w.height&&this.scrollHeight===w.scrollHeight&&this.scrollTop===w.scrollTop}withScrollDimensions(w,C){return new T(this._forceIntegerValues,w.width!==void 0?w.width:this.width,w.scrollWidth!==void 0?w.scrollWidth:this.scrollWidth,C?this.rawScrollLeft:this.scrollLeft,w.height!==void 0?w.height:this.height,w.scrollHeight!==void 0?w.scrollHeight:this.scrollHeight,C?this.rawScrollTop:this.scrollTop)}withScrollPosition(w){return new T(this._forceIntegerValues,this.width,this.scrollWidth,w.scrollLeft!==void 0?w.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,w.scrollTop!==void 0?w.scrollTop:this.rawScrollTop)}createScrollEvent(w,C){const d=this.width!==w.width,f=this.scrollWidth!==w.scrollWidth,p=this.scrollLeft!==w.scrollLeft,_=this.height!==w.height,m=this.scrollHeight!==w.scrollHeight,b=this.scrollTop!==w.scrollTop;return{inSmoothScrolling:C,oldWidth:w.width,oldScrollWidth:w.scrollWidth,oldScrollLeft:w.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:w.height,oldScrollHeight:w.scrollHeight,oldScrollTop:w.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:d,scrollWidthChanged:f,scrollLeftChanged:p,heightChanged:_,scrollHeightChanged:m,scrollTopChanged:b}}}class J extends I.jG{constructor(w){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new s.vl),this.onScroll=this._onScroll.event,this._smoothScrollDuration=w.smoothScrollDuration,this._scheduleAtNextAnimationFrame=w.scheduleAtNextAnimationFrame,this._state=new T(w.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(w){this._smoothScrollDuration=w}validateScrollPosition(w){return this._state.withScrollPosition(w)}getScrollDimensions(){return this._state}setScrollDimensions(w,C){const d=this._state.withScrollDimensions(w,C);this._setState(d,Boolean(this._smoothScrolling)),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(w){const C=this._state.withScrollPosition(w);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(C,!1)}setScrollPositionSmooth(w,C){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(w);if(this._smoothScrolling){w={scrollLeft:w.scrollLeft===void 0?this._smoothScrolling.to.scrollLeft:w.scrollLeft,scrollTop:w.scrollTop===void 0?this._smoothScrolling.to.scrollTop:w.scrollTop};const d=this._state.withScrollPosition(w);if(this._smoothScrolling.to.scrollLeft===d.scrollLeft&&this._smoothScrolling.to.scrollTop===d.scrollTop)return;let f;f=C?new E(this._smoothScrolling.from,d,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,d,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=f}else{const d=this._state.withScrollPosition(w);this._smoothScrolling=E.start(this._state,d,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return Boolean(this._smoothScrolling)}_performSmoothScrolling(){if(!this._smoothScrolling)return;const w=this._smoothScrolling.tick(),C=this._state.withScrollPosition(w);return this._setState(C,!0),this._smoothScrolling?w.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})):void 0}_setState(w,C){const d=this._state;d.equals(w)||(this._state=w,this._onScroll.fire(this._state.createScrollEvent(d,C)))}}class M{constructor(w,C,d){this.scrollLeft=w,this.scrollTop=C,this.isDone=d}}function v(w,C){const d=C-w;return function(f){return w+d*(1-(p=1-f,Math.pow(p,3)));var p}}class E{constructor(w,C,d,f){this.from=w,this.to=C,this.duration=f,this.startTime=d,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(w,C,d){if(Math.abs(w-C)>2.5*d){let m,b;return w<C?(m=w+0.75*d,b=C-0.75*d):(m=w-0.75*d,b=C+0.75*d),f=v(w,m),p=v(b,C),_=0.33,function(x){return x<_?f(x/_):p((x-_)/(1-_))}}var f,p,_;return v(w,C)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(w){this.to=w.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(w){const C=(w-this.startTime)/this.duration;if(C<1){const d=this.scrollLeft(C),f=this.scrollTop(C);return new M(d,f,!1)}return new M(this.to.scrollLeft,this.to.scrollTop,!0)}combine(w,C,d){return E.start(w,C,d)}static start(w,C,d){d+=10;const f=Date.now()-10;return new E(w,C,f,d)}}},6459:(dt,pe,h)=>{h.d(pe,{A:()=>T});var s,I=h(6844);(function(J){J[J.Ignore=0]="Ignore",J[J.Info=1]="Info",J[J.Warning=2]="Warning",J[J.Error=3]="Error"})(s||(s={})),function(J){J.fromValue=function(w){return w?I.Q_("error",w)?J.Error:I.Q_("warning",w)||I.Q_("warn",w)?J.Warning:I.Q_("info",w)?J.Info:J.Ignore:J.Ignore},J.toString=function(w){switch(w){case J.Error:return"error";case J.Warning:return"warning";case J.Info:return"info";default:return"ignore"}}}(s||(s={}));const T=s},3013:(dt,pe,h)=>{h.d(pe,{W:()=>I});const s=globalThis.performance&&typeof globalThis.performance.now=="function";class I{static create(T){return new I(T)}constructor(T){this._now=s&&T===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}},6844:(dt,pe,h)=>{h.d(pe,{$X:()=>Ve,AV:()=>T,BO:()=>f,Bm:()=>p,Bq:()=>C,DB:()=>U,E_:()=>Je,GP:()=>M,HG:()=>R,LJ:()=>Y,LU:()=>de,Lv:()=>$,MV:()=>he,NB:()=>d,OS:()=>m,Q_:()=>ie,Qp:()=>ne,S8:()=>oe,Ss:()=>ge,UD:()=>te,UU:()=>P,Vi:()=>H,W1:()=>W,Wd:()=>Ye,Wv:()=>G,Z5:()=>Te,_J:()=>Le,aC:()=>Pe,bm:()=>w,eY:()=>b,en:()=>k,ih:()=>E,iy:()=>Ie,jy:()=>v,km:()=>Be,lF:()=>L,lT:()=>z,m:()=>Q,ne:()=>g,ns:()=>ee,pc:()=>V,r_:()=>We,tk:()=>ae,tl:()=>rt,uz:()=>x,wB:()=>_,y_:()=>lt,zY:()=>be,z_:()=>ve,zd:()=>B});var s=h(6260),I=h(3946);function T(ye){return!ye||typeof ye!="string"||ye.trim().length===0}const J=/{(\d+)}/g;function M(ye,...pt){return pt.length===0?ye:ye.replace(J,function(Mt,Zt){const jt=parseInt(Zt,10);return isNaN(jt)||jt<0||jt>=pt.length?Mt:pt[jt]})}function v(ye){return ye.replace(/[<>"'&]/g,(pt)=>{switch(pt){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return pt})}function E(ye){return ye.replace(/[<>&]/g,function(pt){switch(pt){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return pt}})}function w(ye){return ye.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function C(ye,pt=" "){return f(d(ye,pt),pt)}function d(ye,pt){if(!ye||!pt)return ye;const Mt=pt.length;if(Mt===0||ye.length===0)return ye;let Zt=0;for(;ye.indexOf(pt,Zt)===Zt;)Zt+=Mt;return ye.substring(Zt)}function f(ye,pt){if(!ye||!pt)return ye;const Mt=pt.length,Zt=ye.length;if(Mt===0||Zt===0)return ye;let jt=Zt,xn=-1;for(;xn=ye.lastIndexOf(pt,jt-1),xn!==-1&&xn+Mt===jt;){if(xn===0)return"";jt=xn}return ye.substring(0,jt)}function p(ye){return ye.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function _(ye){return ye.replace(/\*/g,"")}function m(ye,pt,Mt={}){if(!ye)throw new Error("Cannot create regex from empty string");pt||(ye=w(ye)),Mt.wholeWord&&(/\B/.test(ye.charAt(0))||(ye="\\b"+ye),/\B/.test(ye.charAt(ye.length-1))||(ye+="\\b"));let Zt="";return Mt.global&&(Zt+="g"),Mt.matchCase||(Zt+="i"),Mt.multiline&&(Zt+="m"),Mt.unicode&&(Zt+="u"),new RegExp(ye,Zt)}function b(ye){return ye.source!=="^"&&ye.source!=="^$"&&ye.source!=="$"&&ye.source!=="^\\s*$"&&!(!ye.exec("")||ye.lastIndex!==0)}function x(ye){return ye.split(/\r\n|\r|\n/)}function k(ye){const pt=[],Mt=ye.split(/(\r\n|\r|\n)/);for(let Zt=0;Zt<Math.ceil(Mt.length/2);Zt++)pt.push(Mt[2*Zt]+(Mt[2*Zt+1]??""));return pt}function R(ye){for(let pt=0,Mt=ye.length;pt<Mt;pt++){const Zt=ye.charCodeAt(pt);if(Zt!==32&&Zt!==9)return pt}return-1}function P(ye,pt=0,Mt=ye.length){for(let Zt=pt;Zt<Mt;Zt++){const jt=ye.charCodeAt(Zt);if(jt!==32&&jt!==9)return ye.substring(pt,Zt)}return ye.substring(pt,Mt)}function z(ye,pt=ye.length-1){for(let Mt=pt;Mt>=0;Mt--){const Zt=ye.charCodeAt(Mt);if(Zt!==32&&Zt!==9)return Mt}return-1}function te(ye,pt){return ye<pt?-1:ye>pt?1:0}function L(ye,pt,Mt=0,Zt=ye.length,jt=0,xn=pt.length){for(;Mt<Zt&&jt<xn;Mt++,jt++){const pn=ye.charCodeAt(Mt),rn=pt.charCodeAt(jt);if(pn<rn)return-1;if(pn>rn)return 1}const nn=Zt-Mt,gn=xn-jt;return nn<gn?-1:nn>gn?1:0}function W(ye,pt){return B(ye,pt,0,ye.length,0,pt.length)}function B(ye,pt,Mt=0,Zt=ye.length,jt=0,xn=pt.length){for(;Mt<Zt&&jt<xn;Mt++,jt++){let pn=ye.charCodeAt(Mt),rn=pt.charCodeAt(jt);if(pn===rn)continue;if(pn>=128||rn>=128)return L(ye.toLowerCase(),pt.toLowerCase(),Mt,Zt,jt,xn);$(pn)&&(pn-=32),$(rn)&&(rn-=32);const Sn=pn-rn;if(Sn!==0)return Sn}const nn=Zt-Mt,gn=xn-jt;return nn<gn?-1:nn>gn?1:0}function U(ye){return ye>=48&&ye<=57}function $(ye){return ye>=97&&ye<=122}function G(ye){return ye>=65&&ye<=90}function ie(ye,pt){return ye.length===pt.length&&B(ye,pt)===0}function ee(ye,pt){const Mt=pt.length;return!(pt.length>ye.length)&&B(ye,pt,0,Mt)===0}function ne(ye,pt){const Mt=Math.min(ye.length,pt.length);let Zt;for(Zt=0;Zt<Mt;Zt++)if(ye.charCodeAt(Zt)!==pt.charCodeAt(Zt))return Zt;return Mt}function H(ye,pt){const Mt=Math.min(ye.length,pt.length);let Zt;const jt=ye.length-1,xn=pt.length-1;for(Zt=0;Zt<Mt;Zt++)if(ye.charCodeAt(jt-Zt)!==pt.charCodeAt(xn-Zt))return Zt;return Mt}function V(ye){return 55296<=ye&&ye<=56319}function Y(ye){return 56320<=ye&&ye<=57343}function ve(ye,pt){return pt-56320+(ye-55296<<10)+65536}function Te(ye,pt,Mt){const Zt=ye.charCodeAt(Mt);if(V(Zt)&&Mt+1<pt){const jt=ye.charCodeAt(Mt+1);if(Y(jt))return ve(Zt,jt)}return Zt}class xe{get offset(){return this._offset}constructor(ye,pt=0){this._str=ye,this._len=ye.length,this._offset=pt}setOffset(ye){this._offset=ye}prevCodePoint(){const ye=function(pt,Mt){const Zt=pt.charCodeAt(Mt-1);if(Y(Zt)&&Mt>1){const jt=pt.charCodeAt(Mt-2);if(V(jt))return ve(jt,Zt)}return Zt}(this._str,this._offset);return this._offset-=ye>=65536?2:1,ye}nextCodePoint(){const ye=Te(this._str,this._len,this._offset);return this._offset+=ye>=65536?2:1,ye}eol(){return this._offset>=this._len}}class Be{get offset(){return this._iterator.offset}constructor(ye,pt=0){this._iterator=new xe(ye,pt)}nextGraphemeLength(){const ye=Ue.getInstance(),pt=this._iterator,Mt=pt.offset;let Zt=ye.getGraphemeBreakType(pt.nextCodePoint());for(;!pt.eol();){const jt=pt.offset,xn=ye.getGraphemeBreakType(pt.nextCodePoint());if(O(Zt,xn)){pt.setOffset(jt);break}Zt=xn}return pt.offset-Mt}prevGraphemeLength(){const ye=Ue.getInstance(),pt=this._iterator,Mt=pt.offset;let Zt=ye.getGraphemeBreakType(pt.prevCodePoint());for(;pt.offset>0;){const jt=pt.offset,xn=ye.getGraphemeBreakType(pt.prevCodePoint());if(O(xn,Zt)){pt.setOffset(jt);break}Zt=xn}return Mt-pt.offset}eol(){return this._iterator.eol()}}function Ie(ye,pt){return new Be(ye,pt).nextGraphemeLength()}function he(ye,pt){return new Be(ye,pt).prevGraphemeLength()}function Q(ye,pt){pt>0&&Y(ye.charCodeAt(pt))&&pt--;const Mt=pt+Ie(ye,pt);return[Mt-he(ye,Mt),Mt]}let re;function Je(ye){return re||(re=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/),re.test(ye)}const Se=/^[\t\n\r\x20-\x7E]*$/;function Pe(ye){return Se.test(ye)}const Le=/[\u2028\u2029]/;function Ve(ye){return Le.test(ye)}function g(ye){return ye>=11904&&ye<=55215||ye>=63744&&ye<=64255||ye>=65281&&ye<=65374}function ge(ye){return ye>=127462&&ye<=127487||ye===8986||ye===8987||ye===9200||ye===9203||ye>=9728&&ye<=10175||ye===11088||ye===11093||ye>=127744&&ye<=128591||ye>=128640&&ye<=128764||ye>=128992&&ye<=129008||ye>=129280&&ye<=129535||ye>=129648&&ye<=129782}const We=String.fromCharCode(65279);function de(ye){return!!(ye&&ye.length>0&&ye.charCodeAt(0)===65279)}function be(ye,pt=!1){return!!ye&&(pt&&(ye=ye.replace(/\\./g,"")),ye.toLowerCase()!==ye)}function ae(ye){return(ye%=52)<26?String.fromCharCode(97+ye):String.fromCharCode(65+ye-26)}function O(ye,pt){return ye===0?pt!==5&&pt!==7:!(ye===2&&pt===3||ye!==4&&ye!==2&&ye!==3&&pt!==4&&pt!==2&&pt!==3&&(ye===8&&(pt===8||pt===9||pt===11||pt===12)||!(ye!==11&&ye!==9||pt!==9&&pt!==10)||(ye===12||ye===10)&&pt===10||pt===5||pt===13||pt===7||ye===1||ye===13&&pt===14||ye===6&&pt===6))}class Ue{static{this._INSTANCE=null}static getInstance(){return Ue._INSTANCE||(Ue._INSTANCE=new Ue),Ue._INSTANCE}constructor(){this._data=JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}getGraphemeBreakType(ye){if(ye<32)return ye===10?3:ye===13?2:4;if(ye<127)return 0;const pt=this._data,Mt=pt.length/3;let Zt=1;for(;Zt<=Mt;)if(ye<pt[3*Zt])Zt*=2;else{if(!(ye>pt[3*Zt+1]))return pt[3*Zt+2];Zt=2*Zt+1}return 0}}function Ye(ye,pt){if(ye===0)return 0;const Mt=function(jt,xn){const nn=new xe(xn,jt);let gn=nn.prevCodePoint();for(;Fe(gn)||gn===65039||gn===8419;){if(nn.offset===0)return;gn=nn.prevCodePoint()}if(!ge(gn))return;let pn=nn.offset;return pn>0&&nn.prevCodePoint()===8205&&(pn=nn.offset),pn}(ye,pt);if(Mt!==void 0)return Mt;const Zt=new xe(pt,ye);return Zt.prevCodePoint(),Zt.offset}function Fe(ye){return 127995<=ye&&ye<=127999}const oe="\xA0";class rt{static{this.ambiguousCharacterData=new I.d(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new s.o5({getCacheKey:JSON.stringify},(ye)=>{function pt(gn){const pn=new Map;for(let rn=0;rn<gn.length;rn+=2)pn.set(gn[rn],gn[rn+1]);return pn}function Mt(gn,pn){if(!gn)return pn;const rn=new Map;for(let[Sn,Mn]of gn)pn.has(Sn)&&rn.set(Sn,Mn);return rn}const Zt=this.ambiguousCharacterData.value;let jt,xn=ye.filter((gn)=>!gn.startsWith("_")&&(gn in Zt));xn.length===0&&(xn=["_default"]);for(let gn of xn)jt=Mt(jt,pt(Zt[gn]));const nn=function(gn,pn){const rn=new Map(gn);for(let[Sn,Mn]of pn)rn.set(Sn,Mn);return rn}(pt(Zt._common),jt);return new rt(nn)})}static getInstance(ye){return rt.cache.get(Array.from(ye))}static{this._locales=new I.d(()=>Object.keys(rt.ambiguousCharacterData.value).filter((ye)=>!ye.startsWith("_")))}static getLocales(){return rt._locales.value}constructor(ye){this.confusableDictionary=ye}isAmbiguous(ye){return this.confusableDictionary.has(ye)}getPrimaryConfusable(ye){return this.confusableDictionary.get(ye)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}class lt{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(lt.getRawData())),this._data}static isInvisibleCharacter(ye){return lt.getData().has(ye)}static get codePoints(){return lt.getData()}}},1055:(dt,pe,h)=>{h.d(pe,{h:()=>s});const s=Symbol("MicrotaskDelay")},6525:(dt,pe,h)=>{h.d(pe,{cB:()=>E});var s=h(6844);class I{constructor(){this._value="",this._pos=0}reset(w){return this._value=w,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(w){return w.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class T{constructor(w=!0){this._caseSensitive=w}reset(w){return this._value=w,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let w=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46){if(!w)break;this._from++}else w=!1;return this}cmp(w){return this._caseSensitive?s.lF(w,this._value,0,w.length,this._from,this._to):s.zd(w,this._value,0,w.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class J{constructor(w=!0,C=!0){this._splitOnBackslash=w,this._caseSensitive=C}reset(w){this._from=0,this._to=0,this._value=w,this._valueLen=w.length;for(let C=w.length-1;C>=0;C--,this._valueLen--){const d=this._value.charCodeAt(C);if(!(d===47||this._splitOnBackslash&&d===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let w=!0;for(;this._to<this._valueLen;this._to++){const C=this._value.charCodeAt(this._to);if(C===47||this._splitOnBackslash&&C===92){if(!w)break;this._from++}else w=!1}return this}cmp(w){return this._caseSensitive?s.lF(w,this._value,0,w.length,this._from,this._to):s.zd(w,this._value,0,w.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class M{constructor(w,C){this._ignorePathCasing=w,this._ignoreQueryAndFragment=C,this._states=[],this._stateIdx=0}reset(w){return this._value=w,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new J(!1,!this._ignorePathCasing(w)),this._pathIterator.reset(w.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(w)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(w){if(this._states[this._stateIdx]===1)return s.W1(w,this._value.scheme);if(this._states[this._stateIdx]===2)return s.W1(w,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(w);if(this._states[this._stateIdx]===4)return s.UD(w,this._value.query);if(this._states[this._stateIdx]===5)return s.UD(w,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class v{constructor(){this.height=1}rotateLeft(){const w=this.right;return this.right=w.left,w.left=this,this.updateHeight(),w.updateHeight(),w}rotateRight(){const w=this.left;return this.left=w.right,w.right=this,this.updateHeight(),w.updateHeight(),w}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}class E{static forUris(w=()=>!1,C=()=>!1){return new E(new M(w,C))}static forStrings(){return new E(new I)}static forConfigKeys(){return new E(new T)}constructor(w){this._iter=w}clear(){this._root=void 0}set(w,C){const d=this._iter.reset(w);let f;this._root||(this._root=new v,this._root.segment=d.value());const p=[];for(f=this._root;;){const m=d.cmp(f.segment);if(m>0)f.left||(f.left=new v,f.left.segment=d.value()),p.push([-1,f]),f=f.left;else if(m<0)f.right||(f.right=new v,f.right.segment=d.value()),p.push([1,f]),f=f.right;else{if(!d.hasNext())break;d.next(),f.mid||(f.mid=new v,f.mid.segment=d.value()),p.push([0,f]),f=f.mid}}const _=f.value;f.value=C,f.key=w;for(let m=p.length-1;m>=0;m--){const b=p[m][1];b.updateHeight();const x=b.balanceFactor();if(x<-1||x>1){const k=p[m][0],R=p[m+1][0];if(k===1&&R===1)p[m][1]=b.rotateLeft();else if(k===-1&&R===-1)p[m][1]=b.rotateRight();else if(k===1&&R===-1)b.right=p[m+1][1]=p[m+1][1].rotateRight(),p[m][1]=b.rotateLeft();else{if(k!==-1||R!==1)throw new Error;b.left=p[m+1][1]=p[m+1][1].rotateLeft(),p[m][1]=b.rotateRight()}if(m>0)switch(p[m-1][0]){case-1:p[m-1][1].left=p[m][1];break;case 1:p[m-1][1].right=p[m][1];break;case 0:p[m-1][1].mid=p[m][1]}else this._root=p[0][1]}}return _}get(w){return this._getNode(w)?.value}_getNode(w){const C=this._iter.reset(w);let d=this._root;for(;d;){const f=C.cmp(d.segment);if(f>0)d=d.left;else if(f<0)d=d.right;else{if(!C.hasNext())break;C.next(),d=d.mid}}return d}has(w){const C=this._getNode(w);return!(C?.value===void 0&&C?.mid===void 0)}delete(w){return this._delete(w,!1)}deleteSuperstr(w){return this._delete(w,!0)}_delete(w,C){const d=this._iter.reset(w),f=[];let p=this._root;for(;p;){const _=d.cmp(p.segment);if(_>0)f.push([-1,p]),p=p.left;else if(_<0)f.push([1,p]),p=p.right;else{if(!d.hasNext())break;d.next(),f.push([0,p]),p=p.mid}}if(p){if(C?(p.left=void 0,p.mid=void 0,p.right=void 0,p.height=1):(p.key=void 0,p.value=void 0),!p.mid&&!p.value)if(p.left&&p.right){const _=this._min(p.right);if(_.key){const{key:m,value:b,segment:x}=_;this._delete(_.key,!1),p.key=m,p.value=b,p.segment=x}}else{const _=p.left??p.right;if(f.length>0){const[m,b]=f[f.length-1];switch(m){case-1:b.left=_;break;case 0:b.mid=_;break;case 1:b.right=_}}else this._root=_}for(let _=f.length-1;_>=0;_--){const m=f[_][1];m.updateHeight();const b=m.balanceFactor();if(b>1?(m.right.balanceFactor()>=0||(m.right=m.right.rotateRight()),f[_][1]=m.rotateLeft()):b<-1&&(m.left.balanceFactor()<=0||(m.left=m.left.rotateLeft()),f[_][1]=m.rotateRight()),_>0)switch(f[_-1][0]){case-1:f[_-1][1].left=f[_][1];break;case 1:f[_-1][1].right=f[_][1];break;case 0:f[_-1][1].mid=f[_][1]}else this._root=f[0][1]}}}_min(w){for(;w.left;)w=w.left;return w}findSubstr(w){const C=this._iter.reset(w);let d,f=this._root;for(;f;){const p=C.cmp(f.segment);if(p>0)f=f.left;else if(p<0)f=f.right;else{if(!C.hasNext())break;C.next(),d=f.value||d,f=f.mid}}return f&&f.value||d}findSuperstr(w){return this._findSuperstrOrElement(w,!1)}_findSuperstrOrElement(w,C){const d=this._iter.reset(w);let f=this._root;for(;f;){const p=d.cmp(f.segment);if(p>0)f=f.left;else if(p<0)f=f.right;else{if(!d.hasNext())return f.mid?this._entries(f.mid):C?f.value:void 0;d.next(),f=f.mid}}}forEach(w){for(let[C,d]of this)w(d,C)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(w){const C=[];return this._dfsEntries(w,C),C[Symbol.iterator]()}_dfsEntries(w,C){w&&(w.left&&this._dfsEntries(w.left,C),w.value&&C.push([w.key,w.value]),w.mid&&this._dfsEntries(w.mid,C),w.right&&this._dfsEntries(w.right,C))}}},8881:(dt,pe,h)=>{h.d(pe,{L:()=>I});var s,I,T=h(5915);(function(J){J.isThemeColor=function(M){return M&&typeof M=="object"&&typeof M.id=="string"}})(s||(s={})),function(J){J.iconNameSegment="[A-Za-z0-9]+",J.iconNameExpression="[A-Za-z0-9-]+",J.iconModifierExpression="~[A-Za-z]+",J.iconNameCharacter="[A-Za-z0-9~-]";const M=new RegExp(`^(${J.iconNameExpression})(${J.iconModifierExpression})?\$`);function v(w){const C=M.exec(w.id);if(!C)return v(T.W.error);const[,d,f]=C,p=["codicon","codicon-"+d];return f&&p.push("codicon-modifier-"+f.substring(1)),p}J.asClassNameArray=v,J.asClassName=function(w){return v(w).join(" ")},J.asCSSSelector=function(w){return"."+v(w).join(".")},J.isThemeIcon=function(w){return w&&typeof w=="object"&&typeof w.id=="string"&&(w.color===void 0||s.isThemeColor(w.color))};const E=new RegExp(`^\\\$\\((${J.iconNameExpression}(?:${J.iconModifierExpression})?)\\)\$`);J.fromString=function(w){const C=E.exec(w);if(!C)return;const[,d]=C;return{id:d}},J.fromId=function(w){return{id:w}},J.modify=function(w,C){let d=w.id;const f=d.lastIndexOf("~");return f!==-1&&(d=d.substring(0,f)),C&&(d=`${d}~${C}`),{id:d}},J.getModifier=function(w){const C=w.id.lastIndexOf("~");if(C!==-1)return w.id.substring(C+1)},J.isEqual=function(w,C){return w.id===C.id&&w.color?.id===C.color?.id}}(I||(I={}))},9359:(dt,pe,h)=>{function s(b){return typeof b=="string"}function I(b){return!(typeof b!="object"||b===null||Array.isArray(b)||b instanceof RegExp||b instanceof Date)}function T(b){const x=Object.getPrototypeOf(Uint8Array);return typeof b=="object"&&b instanceof x}function J(b){return typeof b=="number"&&!isNaN(b)}function M(b){return!!b&&typeof b[Symbol.iterator]=="function"}function v(b){return b===!0||b===!1}function E(b){return b===void 0}function w(b){return!C(b)}function C(b){return E(b)||b===null}function d(b,x){if(!b)throw new Error(x?`Unexpected type, expected '${x}'`:"Unexpected type")}function f(b){if(C(b))throw new Error("Assertion Failed: argument is undefined or null");return b}function p(b){return typeof b=="function"}function _(b,x){const k=Math.min(b.length,x.length);for(let R=0;R<k;R++)m(b[R],x[R])}function m(b,x){if(s(x)){if(typeof b!==x)throw new Error(`argument does not match constraint: typeof ${x}`)}else if(p(x)){try{if(b instanceof x)return}catch{}if(!C(b)&&b.constructor===x)return;if(x.length===1&&x.call(void 0,b)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}h.d(pe,{Et:()=>J,Gv:()=>I,Kg:()=>s,Lm:()=>v,O9:()=>w,Tn:()=>p,b0:()=>E,eU:()=>f,iu:()=>T,j:()=>d,jx:()=>_,xZ:()=>M,z:()=>C})},7512:(dt,pe,h)=>{function s(T){return T<0?0:T>255?255:0|T}function I(T){return T<0?0:T>4294967295?4294967295:0|T}h.d(pe,{W:()=>s,j:()=>I})},7264:(dt,pe,h)=>{h.d(pe,{I:()=>b,r:()=>C});var s=h(8019),I=h(3339);const T=/^\w[\w\d+.-]*$/,J=/^\//,M=/^\/\//,v="",E="/",w=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class C{static isUri(z){return z instanceof C||!!z&&typeof z.authority=="string"&&typeof z.fragment=="string"&&typeof z.path=="string"&&typeof z.query=="string"&&typeof z.scheme=="string"&&typeof z.fsPath=="string"&&typeof z.with=="function"&&typeof z.toString=="function"}constructor(z,te,L,W,B,U=!1){typeof z=="object"?(this.scheme=z.scheme||v,this.authority=z.authority||v,this.path=z.path||v,this.query=z.query||v,this.fragment=z.fragment||v):(this.scheme=function($,G){return $||G?$:"file"}(z,U),this.authority=te||v,this.path=function($,G){switch($){case"https":case"http":case"file":G?G[0]!==E&&(G=E+G):G=E}return G}(this.scheme,L||v),this.query=W||v,this.fragment=B||v,function($,G){if(!$.scheme&&G)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${$.authority}", path: "${$.path}", query: "${$.query}", fragment: "${$.fragment}"}`);if($.scheme&&!T.test($.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if($.path){if($.authority){if(!J.test($.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(M.test($.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}(this,U))}get fsPath(){return b(this,!1)}with(z){if(!z)return this;let{scheme:te,authority:L,path:W,query:B,fragment:U}=z;return te===void 0?te=this.scheme:te===null&&(te=v),L===void 0?L=this.authority:L===null&&(L=v),W===void 0?W=this.path:W===null&&(W=v),B===void 0?B=this.query:B===null&&(B=v),U===void 0?U=this.fragment:U===null&&(U=v),te===this.scheme&&L===this.authority&&W===this.path&&B===this.query&&U===this.fragment?this:new f(te,L,W,B,U)}static parse(z,te=!1){const L=w.exec(z);return L?new f(L[2]||v,P(L[4]||v),P(L[5]||v),P(L[7]||v),P(L[9]||v),te):new f(v,v,v,v,v)}static file(z){let te=v;if(I.uF&&(z=z.replace(/\\/g,E)),z[0]===E&&z[1]===E){const L=z.indexOf(E,2);L===-1?(te=z.substring(2),z=E):(te=z.substring(2,L),z=z.substring(L)||E)}return new f("file",te,z,v,v)}static from(z,te){return new f(z.scheme,z.authority,z.path,z.query,z.fragment,te)}static joinPath(z,...te){if(!z.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let L;return L=I.uF&&z.scheme==="file"?C.file(s.IN.join(b(z,!0),...te)).path:s.SA.join(z.path,...te),z.with({path:L})}toString(z=!1){return x(this,z)}toJSON(){return this}static revive(z){if(z){if(z instanceof C)return z;{const te=new f(z);return te._formatted=z.external??null,te._fsPath=z._sep===d?z.fsPath??null:null,te}}return z}}const d=I.uF?1:void 0;class f extends C{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath}toString(z=!1){return z?x(this,!0):(this._formatted||(this._formatted=x(this,!1)),this._formatted)}toJSON(){const z={$mid:1};return this._fsPath&&(z.fsPath=this._fsPath,z._sep=d),this._formatted&&(z.external=this._formatted),this.path&&(z.path=this.path),this.scheme&&(z.scheme=this.scheme),this.authority&&(z.authority=this.authority),this.query&&(z.query=this.query),this.fragment&&(z.fragment=this.fragment),z}}const p={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function _(z,te,L){let W,B=-1;for(let U=0;U<z.length;U++){const $=z.charCodeAt(U);if($>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===45||$===46||$===95||$===126||te&&$===47||L&&$===91||L&&$===93||L&&$===58)B!==-1&&(W+=encodeURIComponent(z.substring(B,U)),B=-1),W!==void 0&&(W+=z.charAt(U));else{W===void 0&&(W=z.substr(0,U));const G=p[$];G!==void 0?(B!==-1&&(W+=encodeURIComponent(z.substring(B,U)),B=-1),W+=G):B===-1&&(B=U)}}return B!==-1&&(W+=encodeURIComponent(z.substring(B))),W!==void 0?W:z}function m(z){let te;for(let L=0;L<z.length;L++){const W=z.charCodeAt(L);W===35||W===63?(te===void 0&&(te=z.substr(0,L)),te+=p[W]):te!==void 0&&(te+=z[L])}return te!==void 0?te:z}function b(z,te){let L;return L=z.authority&&z.path.length>1&&z.scheme==="file"?`//${z.authority}${z.path}`:z.path.charCodeAt(0)===47&&(z.path.charCodeAt(1)>=65&&z.path.charCodeAt(1)<=90||z.path.charCodeAt(1)>=97&&z.path.charCodeAt(1)<=122)&&z.path.charCodeAt(2)===58?te?z.path.substr(1):z.path[1].toLowerCase()+z.path.substr(2):z.path,I.uF&&(L=L.replace(/\//g,"\\")),L}function x(z,te){const L=te?m:_;let W="",{scheme:B,authority:U,path:$,query:G,fragment:ie}=z;if(B&&(W+=B,W+=":"),(U||B==="file")&&(W+=E,W+=E),U){let ee=U.indexOf("@");if(ee!==-1){const ne=U.substr(0,ee);U=U.substr(ee+1),ee=ne.lastIndexOf(":"),ee===-1?W+=L(ne,!1,!1):(W+=L(ne.substr(0,ee),!1,!1),W+=":",W+=L(ne.substr(ee+1),!1,!0)),W+="@"}U=U.toLowerCase(),ee=U.lastIndexOf(":"),ee===-1?W+=L(U,!1,!0):(W+=L(U.substr(0,ee),!1,!0),W+=U.substr(ee))}if($){if($.length>=3&&$.charCodeAt(0)===47&&$.charCodeAt(2)===58){const ee=$.charCodeAt(1);ee>=65&&ee<=90&&($=`/${String.fromCharCode(ee+32)}:${$.substr(3)}`)}else if($.length>=2&&$.charCodeAt(1)===58){const ee=$.charCodeAt(0);ee>=65&&ee<=90&&($=`${String.fromCharCode(ee+32)}:${$.substr(2)}`)}W+=L($,!0,!1)}return G&&(W+="?",W+=L(G,!1,!1)),ie&&(W+="#",W+=te?ie:_(ie,!1,!1)),W}function k(z){try{return decodeURIComponent(z)}catch{return z.length>3?z.substr(0,3)+k(z.substr(3)):z}}const R=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function P(z){return z.match(R)?z.replace(R,(te)=>k(te)):z}},5585:(dt,pe,h)=>{h.r(pe),h.d(pe,{SimpleWorkerClient:()=>k,SimpleWorkerServer:()=>z,create:()=>te,logOnceWebWorkerWarning:()=>d});var s=h(4327),I=h(2106),T=h(998),J=h(3072),M=h(3339),v=h(6844);const E="default",w="$initialize";let C=!1;function d(L){M.HZ&&(C||(C=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(L.message))}class f{constructor(L,W,B,U,$){this.vsWorker=L,this.req=W,this.channel=B,this.method=U,this.args=$,this.type=0}}class p{constructor(L,W,B,U){this.vsWorker=L,this.seq=W,this.res=B,this.err=U,this.type=1}}class _{constructor(L,W,B,U,$){this.vsWorker=L,this.req=W,this.channel=B,this.eventName=U,this.arg=$,this.type=2}}class m{constructor(L,W,B){this.vsWorker=L,this.req=W,this.event=B,this.type=3}}class b{constructor(L,W){this.vsWorker=L,this.req=W,this.type=4}}class x{constructor(L){this._workerId=-1,this._handler=L,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(L){this._workerId=L}sendMessage(L,W,B){const U=String(++this._lastSentReq);return new Promise(($,G)=>{this._pendingReplies[U]={resolve:$,reject:G},this._send(new f(this._workerId,U,L,W,B))})}listen(L,W,B){let U=null;const $=new I.vl({onWillAddFirstListener:()=>{U=String(++this._lastSentReq),this._pendingEmitters.set(U,$),this._send(new _(this._workerId,U,L,W,B))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(U),this._send(new b(this._workerId,U)),U=null}});return $.event}handleMessage(L){L&&L.vsWorker&&(this._workerId!==-1&&L.vsWorker!==this._workerId||this._handleMessage(L))}createProxyToRemoteChannel(L,W){const B={get:(U,$)=>(typeof $!="string"||U[$]||(P($)?U[$]=(G)=>this.listen(L,$,G):R($)?U[$]=this.listen(L,$,void 0):$.charCodeAt(0)===36&&(U[$]=async(...G)=>(await W?.(),this.sendMessage(L,$,G)))),U[$])};return new Proxy(Object.create(null),B)}_handleMessage(L){switch(L.type){case 1:return this._handleReplyMessage(L);case 0:return this._handleRequestMessage(L);case 2:return this._handleSubscribeEventMessage(L);case 3:return this._handleEventMessage(L);case 4:return this._handleUnsubscribeEventMessage(L)}}_handleReplyMessage(L){if(!this._pendingReplies[L.seq])return void console.warn("Got reply to unknown seq");const W=this._pendingReplies[L.seq];if(delete this._pendingReplies[L.seq],L.err){let B=L.err;return L.err.$isError&&(B=new Error,B.name=L.err.name,B.message=L.err.message,B.stack=L.err.stack),void W.reject(B)}W.resolve(L.res)}_handleRequestMessage(L){const W=L.req;this._handler.handleMessage(L.channel,L.method,L.args).then((B)=>{this._send(new p(this._workerId,W,B,void 0))},(B)=>{B.detail instanceof Error&&(B.detail=s.cU(B.detail)),this._send(new p(this._workerId,W,void 0,s.cU(B)))})}_handleSubscribeEventMessage(L){const W=L.req,B=this._handler.handleEvent(L.channel,L.eventName,L.arg)((U)=>{this._send(new m(this._workerId,W,U))});this._pendingEvents.set(W,B)}_handleEventMessage(L){this._pendingEmitters.has(L.req)?this._pendingEmitters.get(L.req).fire(L.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(L){this._pendingEvents.has(L.req)?(this._pendingEvents.get(L.req).dispose(),this._pendingEvents.delete(L.req)):console.warn("Got unsubscribe for unknown req")}_send(L){const W=[];if(L.type===0)for(let B=0;B<L.args.length;B++)L.args[B]instanceof ArrayBuffer&&W.push(L.args[B]);else L.type===1&&L.res instanceof ArrayBuffer&&W.push(L.res);this._handler.sendMessage(L,W)}}class k extends T.jG{constructor(L,W){super(),this._localChannels=new Map,this._worker=this._register(L.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:W.esmModuleLocation,label:W.label},($)=>{this._protocol.handleMessage($)},($)=>{s.dz($)})),this._protocol=new x({sendMessage:($,G)=>{this._worker.postMessage($,G)},handleMessage:($,G,ie)=>this._handleMessage($,G,ie),handleEvent:($,G,ie)=>this._handleEvent($,G,ie)}),this._protocol.setWorkerId(this._worker.getId());let B=null;const U=globalThis.require;U!==void 0&&typeof U.getConfig=="function"?B=U.getConfig():globalThis.requirejs!==void 0&&(B=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(E,w,[this._worker.getId(),JSON.parse(JSON.stringify(B)),W.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(E,async()=>{await this._onModuleLoaded}),this._onModuleLoaded.catch(($)=>{this._onError("Worker failed to load "+W.amdModuleId,$)})}_handleMessage(L,W,B){const U=this._localChannels.get(L);if(!U)return Promise.reject(new Error(`Missing channel ${L} on main thread`));if(typeof U[W]!="function")return Promise.reject(new Error(`Missing method ${W} on main thread channel ${L}`));try{return Promise.resolve(U[W].apply(U,B))}catch($){return Promise.reject($)}}_handleEvent(L,W,B){const U=this._localChannels.get(L);if(!U)throw new Error(`Missing channel ${L} on main thread`);if(P(W)){const $=U[W].call(U,B);if(typeof $!="function")throw new Error(`Missing dynamic event ${W} on main thread channel ${L}.`);return $}if(R(W)){const $=U[W];if(typeof $!="function")throw new Error(`Missing event ${W} on main thread channel ${L}.`);return $}throw new Error(`Malformed event name ${W}`)}setChannel(L,W){this._localChannels.set(L,W)}_onError(L,W){console.error(L),console.info(W)}}function R(L){return L[0]==="o"&&L[1]==="n"&&v.Wv(L.charCodeAt(2))}function P(L){return/^onDynamic/.test(L)&&v.Wv(L.charCodeAt(9))}class z{constructor(L,W){this._localChannels=new Map,this._remoteChannels=new Map,this._requestHandlerFactory=W,this._requestHandler=null,this._protocol=new x({sendMessage:(B,U)=>{L(B,U)},handleMessage:(B,U,$)=>this._handleMessage(B,U,$),handleEvent:(B,U,$)=>this._handleEvent(B,U,$)})}onmessage(L){this._protocol.handleMessage(L)}_handleMessage(L,W,B){if(L===E&&W===w)return this.initialize(B[0],B[1],B[2]);const U=L===E?this._requestHandler:this._localChannels.get(L);if(!U)return Promise.reject(new Error(`Missing channel ${L} on worker thread`));if(typeof U[W]!="function")return Promise.reject(new Error(`Missing method ${W} on worker thread channel ${L}`));try{return Promise.resolve(U[W].apply(U,B))}catch($){return Promise.reject($)}}_handleEvent(L,W,B){const U=L===E?this._requestHandler:this._localChannels.get(L);if(!U)throw new Error(`Missing channel ${L} on worker thread`);if(P(W)){const $=U[W].call(U,B);if(typeof $!="function")throw new Error(`Missing dynamic event ${W} on request handler.`);return $}if(R(W)){const $=U[W];if(typeof $!="function")throw new Error(`Missing event ${W} on request handler.`);return $}throw new Error(`Malformed event name ${W}`)}getChannel(L){if(!this._remoteChannels.has(L)){const W=this._protocol.createProxyToRemoteChannel(L);this._remoteChannels.set(L,W)}return this._remoteChannels.get(L)}async initialize(L,W,B){if(this._protocol.setWorkerId(L),!this._requestHandlerFactory){W&&(W.baseUrl!==void 0&&delete W.baseUrl,W.paths!==void 0&&W.paths.vs!==void 0&&delete W.paths.vs,W.trustedTypesPolicy!==void 0&&delete W.trustedTypesPolicy,W.catchError=!0,globalThis.require.config(W));{const U=J.zl.asBrowserUri(`${B}.js`).toString(!0);return h(5890)(`${U}`).then(($)=>{if(this._requestHandler=$.create(this),!this._requestHandler)throw new Error("No RequestHandler!")})}}this._requestHandler=this._requestHandlerFactory(this)}}function te(L){return new z(L,null)}},5890:(dt,pe,h)=>{var s={"./simpleWorker":5585,"./simpleWorker.js":5585};function I(T){return Promise.resolve().then(()=>{if(!h.o(s,T)){var J=new Error("Cannot find module '"+T+"'");throw J.code="MODULE_NOT_FOUND",J}return h(s[T])})}I.keys=()=>Object.keys(s),I.id=5890,dt.exports=I},1420:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"*"},brackets:[["[","]"],["(",")"]]},I={defaultToken:"invalid",ignoreCase:!0,tokenPostfix:".abap",keywords:["abap-source","abbreviated","abstract","accept","accepting","according","activation","actual","add","add-corresponding","adjacent","after","alias","aliases","align","all","allocate","alpha","analysis","analyzer","and","append","appendage","appending","application","archive","area","arithmetic","as","ascending","aspect","assert","assign","assigned","assigning","association","asynchronous","at","attributes","authority","authority-check","avg","back","background","backup","backward","badi","base","before","begin","between","big","binary","bintohex","bit","black","blank","blanks","blob","block","blocks","blue","bound","boundaries","bounds","boxed","break-point","buffer","by","bypassing","byte","byte-order","call","calling","case","cast","casting","catch","center","centered","chain","chain-input","chain-request","change","changing","channels","character","char-to-hex","check","checkbox","ci_","circular","class","class-coding","class-data","class-events","class-methods","class-pool","cleanup","clear","client","clob","clock","close","coalesce","code","coding","col_background","col_group","col_heading","col_key","col_negative","col_normal","col_positive","col_total","collect","color","column","columns","comment","comments","commit","common","communication","comparing","component","components","compression","compute","concat","concat_with_space","concatenate","cond","condense","condition","connect","connection","constants","context","contexts","continue","control","controls","conv","conversion","convert","copies","copy","corresponding","country","cover","cpi","create","creating","critical","currency","currency_conversion","current","cursor","cursor-selection","customer","customer-function","dangerous","data","database","datainfo","dataset","date","dats_add_days","dats_add_months","dats_days_between","dats_is_valid","daylight","dd/mm/yy","dd/mm/yyyy","ddmmyy","deallocate","decimal_shift","decimals","declarations","deep","default","deferred","define","defining","definition","delete","deleting","demand","department","descending","describe","destination","detail","dialog","directory","disconnect","display","display-mode","distinct","divide","divide-corresponding","division","do","dummy","duplicate","duplicates","duration","during","dynamic","dynpro","edit","editor-call","else","elseif","empty","enabled","enabling","encoding","end","endat","endcase","endcatch","endchain","endclass","enddo","endenhancement","end-enhancement-section","endexec","endform","endfunction","endian","endif","ending","endinterface","end-lines","endloop","endmethod","endmodule","end-of-definition","end-of-editing","end-of-file","end-of-page","end-of-selection","endon","endprovide","endselect","end-test-injection","end-test-seam","endtry","endwhile","endwith","engineering","enhancement","enhancement-point","enhancements","enhancement-section","entries","entry","enum","environment","equiv","errormessage","errors","escaping","event","events","exact","except","exception","exceptions","exception-table","exclude","excluding","exec","execute","exists","exit","exit-command","expand","expanding","expiration","explicit","exponent","export","exporting","extend","extended","extension","extract","fail","fetch","field","field-groups","fields","field-symbol","field-symbols","file","filter","filters","filter-table","final","find","first","first-line","fixed-point","fkeq","fkge","flush","font","for","form","format","forward","found","frame","frames","free","friends","from","function","functionality","function-pool","further","gaps","generate","get","giving","gkeq","gkge","global","grant","green","group","groups","handle","handler","harmless","hashed","having","hdb","header","headers","heading","head-lines","help-id","help-request","hextobin","hide","high","hint","hold","hotspot","icon","id","identification","identifier","ids","if","ignore","ignoring","immediately","implementation","implementations","implemented","implicit","import","importing","in","inactive","incl","include","includes","including","increment","index","index-line","infotypes","inheriting","init","initial","initialization","inner","inout","input","insert","instance","instances","instr","intensified","interface","interface-pool","interfaces","internal","intervals","into","inverse","inverted-date","is","iso","job","join","keep","keeping","kernel","key","keys","keywords","kind","language","last","late","layout","leading","leave","left","left-justified","leftplus","leftspace","legacy","length","let","level","levels","like","line","lines","line-count","linefeed","line-selection","line-size","list","listbox","list-processing","little","llang","load","load-of-program","lob","local","locale","locator","logfile","logical","log-point","long","loop","low","lower","lpad","lpi","ltrim","mail","main","major-id","mapping","margin","mark","mask","match","matchcode","max","maximum","medium","members","memory","mesh","message","message-id","messages","messaging","method","methods","min","minimum","minor-id","mm/dd/yy","mm/dd/yyyy","mmddyy","mode","modif","modifier","modify","module","move","move-corresponding","multiply","multiply-corresponding","name","nametab","native","nested","nesting","new","new-line","new-page","new-section","next","no","no-display","no-extension","no-gap","no-gaps","no-grouping","no-heading","no-scrolling","no-sign","no-title","no-topofpage","no-zero","node","nodes","non-unicode","non-unique","not","null","number","object","objects","obligatory","occurrence","occurrences","occurs","of","off","offset","ole","on","only","open","option","optional","options","or","order","other","others","out","outer","output","output-length","overflow","overlay","pack","package","pad","padding","page","pages","parameter","parameters","parameter-table","part","partially","pattern","percentage","perform","performing","person","pf1","pf10","pf11","pf12","pf13","pf14","pf15","pf2","pf3","pf4","pf5","pf6","pf7","pf8","pf9","pf-status","pink","places","pool","pos_high","pos_low","position","pragmas","precompiled","preferred","preserving","primary","print","print-control","priority","private","procedure","process","program","property","protected","provide","public","push","pushbutton","put","queue-only","quickinfo","radiobutton","raise","raising","range","ranges","read","reader","read-only","receive","received","receiver","receiving","red","redefinition","reduce","reduced","ref","reference","refresh","regex","reject","remote","renaming","replace","replacement","replacing","report","request","requested","reserve","reset","resolution","respecting","responsible","result","results","resumable","resume","retry","return","returncode","returning","returns","right","right-justified","rightplus","rightspace","risk","rmc_communication_failure","rmc_invalid_status","rmc_system_failure","role","rollback","rows","rpad","rtrim","run","sap","sap-spool","saving","scale_preserving","scale_preserving_scientific","scan","scientific","scientific_with_leading_zero","scroll","scroll-boundary","scrolling","search","secondary","seconds","section","select","selection","selections","selection-screen","selection-set","selection-sets","selection-table","select-options","send","separate","separated","set","shared","shift","short","shortdump-id","sign_as_postfix","single","size","skip","skipping","smart","some","sort","sortable","sorted","source","specified","split","spool","spots","sql","sqlscript","stable","stamp","standard","starting","start-of-editing","start-of-selection","state","statement","statements","static","statics","statusinfo","step-loop","stop","structure","structures","style","subkey","submatches","submit","subroutine","subscreen","subtract","subtract-corresponding","suffix","sum","summary","summing","supplied","supply","suppress","switch","switchstates","symbol","syncpoints","syntax","syntax-check","syntax-trace","system-call","system-exceptions","system-exit","tab","tabbed","table","tables","tableview","tabstrip","target","task","tasks","test","testing","test-injection","test-seam","text","textpool","then","throw","time","times","timestamp","timezone","tims_is_valid","title","titlebar","title-lines","to","tokenization","tokens","top-lines","top-of-page","trace-file","trace-table","trailing","transaction","transfer","transformation","translate","transporting","trmac","truncate","truncation","try","tstmp_add_seconds","tstmp_current_utctimestamp","tstmp_is_valid","tstmp_seconds_between","type","type-pool","type-pools","types","uline","unassign","under","unicode","union","unique","unit_conversion","unix","unpack","until","unwind","up","update","upper","user","user-command","using","utf-8","valid","value","value-request","values","vary","varying","verification-message","version","via","view","visible","wait","warning","when","whenever","where","while","width","window","windows","with","with-heading","without","with-title","word","work","write","writer","xml","xsd","yellow","yes","yymmdd","zero","zone","abap_system_timezone","abap_user_timezone","access","action","adabas","adjust_numbers","allow_precision_loss","allowed","amdp","applicationuser","as_geo_json","as400","associations","balance","behavior","breakup","bulk","cds","cds_client","check_before_save","child","clients","corr","corr_spearman","cross","cycles","datn_add_days","datn_add_months","datn_days_between","dats_from_datn","dats_tims_to_tstmp","dats_to_datn","db2","db6","ddl","dense_rank","depth","deterministic","discarding","entities","entity","error","failed","finalize","first_value","fltp_to_dec","following","fractional","full","graph","grouping","hierarchy","hierarchy_ancestors","hierarchy_ancestors_aggregate","hierarchy_descendants","hierarchy_descendants_aggregate","hierarchy_siblings","incremental","indicators","lag","last_value","lead","leaves","like_regexpr","link","locale_sap","lock","locks","many","mapped","matched","measures","median","mssqlnt","multiple","nodetype","ntile","nulls","occurrences_regexpr","one","operations","oracle","orphans","over","parent","parents","partition","pcre","period","pfcg_mapping","preceding","privileged","product","projection","rank","redirected","replace_regexpr","reported","response","responses","root","row","row_number","sap_system_date","save","schema","session","sets","shortdump","siblings","spantree","start","stddev","string_agg","subtotal","sybase","tims_from_timn","tims_to_timn","to_blob","to_clob","total","trace-entry","tstmp_to_dats","tstmp_to_dst","tstmp_to_tims","tstmpl_from_utcl","tstmpl_to_utcl","unbounded","utcl_add_seconds","utcl_current","utcl_seconds_between","uuid","var","verbatim"],builtinFunctions:["abs","acos","asin","atan","bit-set","boolc","boolx","ceil","char_off","charlen","cmax","cmin","concat_lines_of","contains","contains_any_not_of","contains_any_of","cos","cosh","count","count_any_not_of","count_any_of","dbmaxlen","distance","escape","exp","find_any_not_of","find_any_of","find_end","floor","frac","from_mixed","ipow","line_exists","line_index","log","log10","matches","nmax","nmin","numofchar","repeat","rescale","reverse","round","segment","shift_left","shift_right","sign","sin","sinh","sqrt","strlen","substring","substring_after","substring_before","substring_from","substring_to","tan","tanh","to_lower","to_mixed","to_upper","trunc","utclong_add","utclong_current","utclong_diff","xsdbool","xstrlen"],typeKeywords:["b","c","d","decfloat16","decfloat34","f","i","int8","n","p","s","string","t","utclong","x","xstring","any","clike","csequence","decfloat","numeric","simple","xsequence","accp","char","clnt","cuky","curr","datn","dats","d16d","d16n","d16r","d34d","d34n","d34r","dec","df16_dec","df16_raw","df34_dec","df34_raw","fltp","geom_ewkb","int1","int2","int4","lang","lchr","lraw","numc","quan","raw","rawstring","sstring","timn","tims","unit","utcl","df16_scl","df34_scl","prec","varc","abap_bool","abap_false","abap_true","abap_undefined","me","screen","space","super","sy","syst","table_line","*sys*"],builtinMethods:["class_constructor","constructor"],derivedTypes:["%CID","%CID_REF","%CONTROL","%DATA","%ELEMENT","%FAIL","%KEY","%MSG","%PARAM","%PID","%PID_ASSOC","%PID_PARENT","%_HINTS"],cdsLanguage:["@AbapAnnotation","@AbapCatalog","@AccessControl","@API","@ClientDependent","@ClientHandling","@CompatibilityContract","@DataAging","@EndUserText","@Environment","@LanguageDependency","@MappingRole","@Metadata","@MetadataExtension","@ObjectModel","@Scope","@Semantics","$EXTENSION","$SELF"],selectors:["->","->*","=>","~","~*"],operators:[" +"," -","/","*","**","div","mod","=","#","@","+=","-=","*=","/=","**=","&&=","?=","&","&&","bit-and","bit-not","bit-or","bit-xor","m","o","z","<"," >","<=",">=","<>","><","=<","=>","bt","byte-ca","byte-cn","byte-co","byte-cs","byte-na","byte-ns","ca","cn","co","cp","cs","eq","ge","gt","le","lt","na","nb","ne","np","ns","*/","*:","--","/*","//"],symbols:/[=><!~?&+\-*\/\^%#@]+/,tokenizer:{root:[[/[a-z_\/$%@]([\w\/$%]|-(?!>))*/,{cases:{"@typeKeywords":"type","@keywords":"keyword","@cdsLanguage":"annotation","@derivedTypes":"type","@builtinFunctions":"type","@builtinMethods":"type","@operators":"key","@default":"identifier"}}],[/<[\w]+>/,"identifier"],[/##[\w|_]+/,"comment"],{include:"@whitespace"},[/[:,.]/,"delimiter"],[/[{}()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@selectors":"tag","@operators":"key","@default":""}}],[/'/,{token:"string",bracket:"@open",next:"@stringquote"}],[/`/,{token:"string",bracket:"@open",next:"@stringping"}],[/\|/,{token:"string",bracket:"@open",next:"@stringtemplate"}],[/\d+/,"number"]],stringtemplate:[[/[^\\\|]+/,"string"],[/\\\|/,"string"],[/\|/,{token:"string",bracket:"@close",next:"@pop"}]],stringping:[[/[^\\`]+/,"string"],[/`/,{token:"string",bracket:"@close",next:"@pop"}]],stringquote:[[/[^\\']+/,"string"],[/'/,{token:"string",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,""],[/^\*.*$/,"comment"],[/\".*$/,"comment"]]}}},7048:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>T});var s={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}],folding:{markers:{start:new RegExp("^\\s*//\\s*(?:(?:#?region\\b)|(?:<editor-fold\\b))"),end:new RegExp("^\\s*//\\s*(?:(?:#?endregion\\b)|(?:</editor-fold>))")}}},I=[];["abstract","activate","and","any","array","as","asc","assert","autonomous","begin","bigdecimal","blob","boolean","break","bulk","by","case","cast","catch","char","class","collect","commit","const","continue","convertcurrency","decimal","default","delete","desc","do","double","else","end","enum","exception","exit","export","extends","false","final","finally","float","for","from","future","get","global","goto","group","having","hint","if","implements","import","in","inner","insert","instanceof","int","interface","into","join","last_90_days","last_month","last_n_days","last_week","like","limit","list","long","loop","map","merge","native","new","next_90_days","next_month","next_n_days","next_week","not","null","nulls","number","object","of","on","or","outer","override","package","parallel","pragma","private","protected","public","retrieve","return","returning","rollback","savepoint","search","select","set","short","sort","stat","static","strictfp","super","switch","synchronized","system","testmethod","then","this","this_month","this_week","throw","throws","today","tolabel","tomorrow","transaction","transient","trigger","true","try","type","undelete","update","upsert","using","virtual","void","volatile","webservice","when","where","while","yesterday"].forEach((J)=>{I.push(J),I.push(J.toUpperCase()),I.push(((M)=>M.charAt(0).toUpperCase()+M.substr(1))(J))});var T={defaultToken:"",tokenPostfix:".apex",keywords:I,operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],[/[A-Z][\w\$]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"type.identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/@\s*[a-zA-Z_\$][\w\$]*/,"annotation"],[/(@digits)[eE]([\-+]?(@digits))?[fFdD]?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?[fFdD]?/,"number.float"],[/(@digits)[fFdD]/,"number.float"],[/(@digits)[lL]?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string",'@string."'],[/'/,"string","@string.'"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@apexdoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],apexdoc:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}]]}}},3622:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"#"}},I={defaultToken:"keyword",ignoreCase:!0,tokenPostfix:".azcli",str:/[^#\s]/,tokenizer:{root:[{include:"@comment"},[/\s-+@str*\s*/,{cases:{"@eos":{token:"key.identifier",next:"@popall"},"@default":{token:"key.identifier",next:"@type"}}}],[/^-+@str*\s*/,{cases:{"@eos":{token:"key.identifier",next:"@popall"},"@default":{token:"key.identifier",next:"@type"}}}]],type:[{include:"@comment"},[/-+@str*\s*/,{cases:{"@eos":{token:"key.identifier",next:"@popall"},"@default":"key.identifier"}}],[/@str+\s*/,{cases:{"@eos":{token:"string",next:"@popall"},"@default":"string"}}]],comment:[[/#.*$/,{cases:{"@eos":{token:"comment",next:"@popall"}}}]]}}},8566:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"REM"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],surroundingPairs:[{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],folding:{markers:{start:new RegExp("^\\s*(::\\s*|REM\\s+)#region"),end:new RegExp("^\\s*(::\\s*|REM\\s+)#endregion")}}},I={defaultToken:"",ignoreCase:!0,tokenPostfix:".bat",brackets:[{token:"delimiter.bracket",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"}],keywords:/call|defined|echo|errorlevel|exist|for|goto|if|pause|set|shift|start|title|not|pushd|popd/,symbols:/[=><!~?&|+\-*\/\^;\.,]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/^(\s*)(rem(?:\s.*|))$/,["","comment"]],[/(\@?)(@keywords)(?!\w)/,[{token:"keyword"},{token:"keyword.$2"}]],[/[ \t\r\n]+/,""],[/setlocal(?!\w)/,"keyword.tag-setlocal"],[/endlocal(?!\w)/,"keyword.tag-setlocal"],[/[a-zA-Z_]\w*/,""],[/:\w*/,"metatag"],[/%[^%]+%/,"variable"],[/%%[\w]+(?!\w)/,"variable"],[/[{}()\[\]]/,"@brackets"],[/@symbols/,"delimiter"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F]/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"/,"string",'@string."'],[/'/,"string","@string.'"]],string:[[/[^\\"'%]+/,{cases:{"@eos":{token:"string",next:"@popall"},"@default":"string"}}],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/%[\w ]+%/,"variable"],[/%%[\w]+(?!\w)/,"variable"],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}],[/$/,"string","@popall"]]}}},9510:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"'",close:"'"},{open:"'''",close:"'''"}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"'",close:"'",notIn:["string","comment"]},{open:"'''",close:"'''",notIn:["string","comment"]}],autoCloseBefore:":.,=}])' \n\t",indentationRules:{increaseIndentPattern:new RegExp("^((?!\\/\\/).)*(\\{[^}\"'`]*|\\([^)\"'`]*|\\[[^\\]\"'`]*)$"),decreaseIndentPattern:new RegExp("^((?!.*?\\/\\*).*\\*/)?\\s*[\\}\\]].*$")}},I={defaultToken:"",tokenPostfix:".bicep",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],symbols:/[=><!~?:&|+\-*/^%]+/,keywords:["targetScope","resource","module","param","var","output","for","in","if","existing"],namedLiterals:["true","false","null"],escapes:"\\\\(u{[0-9A-Fa-f]+}|n|r|t|\\\\|'|\\${)",tokenizer:{root:[{include:"@expression"},{include:"@whitespace"}],stringVerbatim:[{regex:"(|'|'')[^']",action:{token:"string"}},{regex:"'''",action:{token:"string.quote",next:"@pop"}}],stringLiteral:[{regex:"\\${",action:{token:"delimiter.bracket",next:"@bracketCounting"}},{regex:"[^\\\\'$]+",action:{token:"string"}},{regex:"@escapes",action:{token:"string.escape"}},{regex:"\\\\.",action:{token:"string.escape.invalid"}},{regex:"'",action:{token:"string",next:"@pop"}}],bracketCounting:[{regex:"{",action:{token:"delimiter.bracket",next:"@bracketCounting"}},{regex:"}",action:{token:"delimiter.bracket",next:"@pop"}},{include:"expression"}],comment:[{regex:"[^\\*]+",action:{token:"comment"}},{regex:"\\*\\/",action:{token:"comment",next:"@pop"}},{regex:"[\\/*]",action:{token:"comment"}}],whitespace:[{regex:"[ \\t\\r\\n]"},{regex:"\\/\\*",action:{token:"comment",next:"@comment"}},{regex:"\\/\\/.*$",action:{token:"comment"}}],expression:[{regex:"'''",action:{token:"string.quote",next:"@stringVerbatim"}},{regex:"'",action:{token:"string.quote",next:"@stringLiteral"}},{regex:"[0-9]+",action:{token:"number"}},{regex:"\\b[_a-zA-Z][_a-zA-Z0-9]*\\b",action:{cases:{"@keywords":{token:"keyword"},"@namedLiterals":{token:"keyword"},"@default":{token:"identifier"}}}}]}}},4334:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["(*","*)"]},brackets:[["{","}"],["[","]"],["(",")"],["<",">"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'},{open:"(*",close:"*)"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'},{open:"(*",close:"*)"}]},I={defaultToken:"",tokenPostfix:".cameligo",ignoreCase:!0,brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],keywords:["abs","assert","block","Bytes","case","Crypto","Current","else","failwith","false","for","fun","if","in","let","let%entry","let%init","List","list","Map","map","match","match%nat","mod","not","operation","Operation","of","record","Set","set","sender","skip","source","String","then","to","true","type","with"],typeKeywords:["int","unit","string","tz","nat","bool"],operators:["=",">","<","<=",">=","<>",":",":=","and","mod","or","+","-","*","/","@","&","^","%","->","<-","&&","||"],symbols:/[=><:@\^&|+\-*\/\^%]+/,tokenizer:{root:[[/[a-zA-Z_][\w]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/\$[0-9a-fA-F]{1,16}/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'/,"string","@string"],[/'[^\\']'/,"string"],[/'/,"string.invalid"],[/\#\d+/,"string"]],comment:[[/[^\(\*]+/,"comment"],[/\*\)/,"comment","@pop"],[/\(\*/,"comment"]],string:[[/[^\\']+/,"string"],[/\\./,"string.escape.invalid"],[/'/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\(\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}}},9150:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:";;"},brackets:[["[","]"],["(",")"],["{","}"]],autoClosingPairs:[{open:"[",close:"]"},{open:'"',close:'"'},{open:"(",close:")"},{open:"{",close:"}"}],surroundingPairs:[{open:"[",close:"]"},{open:'"',close:'"'},{open:"(",close:")"},{open:"{",close:"}"}]},I={defaultToken:"",ignoreCase:!0,tokenPostfix:".clj",brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"}],constants:["true","false","nil"],numbers:/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,characters:/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,escapes:/^\\(?:["'\\bfnrt]|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,qualifiedSymbols:/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/,specialForms:[".","catch","def","do","if","monitor-enter","monitor-exit","new","quote","recur","set!","throw","try","var"],coreSymbols:["*","*'","*1","*2","*3","*agent*","*allow-unresolved-vars*","*assert*","*clojure-version*","*command-line-args*","*compile-files*","*compile-path*","*compiler-options*","*data-readers*","*default-data-reader-fn*","*e","*err*","*file*","*flush-on-newline*","*fn-loader*","*in*","*math-context*","*ns*","*out*","*print-dup*","*print-length*","*print-level*","*print-meta*","*print-namespace-maps*","*print-readably*","*read-eval*","*reader-resolver*","*source-path*","*suppress-read*","*unchecked-math*","*use-context-classloader*","*verbose-defrecords*","*warn-on-reflection*","+","+'","-","-'","->","->>","->ArrayChunk","->Eduction","->Vec","->VecNode","->VecSeq","-cache-protocol-fn","-reset-methods","..","/","<","<=","=","==",">",">=","EMPTY-NODE","Inst","StackTraceElement->vec","Throwable->map","accessor","aclone","add-classpath","add-watch","agent","agent-error","agent-errors","aget","alength","alias","all-ns","alter","alter-meta!","alter-var-root","amap","ancestors","and","any?","apply","areduce","array-map","as->","aset","aset-boolean","aset-byte","aset-char","aset-double","aset-float","aset-int","aset-long","aset-short","assert","assoc","assoc!","assoc-in","associative?","atom","await","await-for","await1","bases","bean","bigdec","bigint","biginteger","binding","bit-and","bit-and-not","bit-clear","bit-flip","bit-not","bit-or","bit-set","bit-shift-left","bit-shift-right","bit-test","bit-xor","boolean","boolean-array","boolean?","booleans","bound-fn","bound-fn*","bound?","bounded-count","butlast","byte","byte-array","bytes","bytes?","case","cast","cat","char","char-array","char-escape-string","char-name-string","char?","chars","chunk","chunk-append","chunk-buffer","chunk-cons","chunk-first","chunk-next","chunk-rest","chunked-seq?","class","class?","clear-agent-errors","clojure-version","coll?","comment","commute","comp","comparator","compare","compare-and-set!","compile","complement","completing","concat","cond","cond->","cond->>","condp","conj","conj!","cons","constantly","construct-proxy","contains?","count","counted?","create-ns","create-struct","cycle","dec","dec'","decimal?","declare","dedupe","default-data-readers","definline","definterface","defmacro","defmethod","defmulti","defn","defn-","defonce","defprotocol","defrecord","defstruct","deftype","delay","delay?","deliver","denominator","deref","derive","descendants","destructure","disj","disj!","dissoc","dissoc!","distinct","distinct?","doall","dorun","doseq","dosync","dotimes","doto","double","double-array","double?","doubles","drop","drop-last","drop-while","eduction","empty","empty?","ensure","ensure-reduced","enumeration-seq","error-handler","error-mode","eval","even?","every-pred","every?","ex-data","ex-info","extend","extend-protocol","extend-type","extenders","extends?","false?","ffirst","file-seq","filter","filterv","find","find-keyword","find-ns","find-protocol-impl","find-protocol-method","find-var","first","flatten","float","float-array","float?","floats","flush","fn","fn?","fnext","fnil","for","force","format","frequencies","future","future-call","future-cancel","future-cancelled?","future-done?","future?","gen-class","gen-interface","gensym","get","get-in","get-method","get-proxy-class","get-thread-bindings","get-validator","group-by","halt-when","hash","hash-combine","hash-map","hash-ordered-coll","hash-set","hash-unordered-coll","ident?","identical?","identity","if-let","if-not","if-some","ifn?","import","in-ns","inc","inc'","indexed?","init-proxy","inst-ms","inst-ms*","inst?","instance?","int","int-array","int?","integer?","interleave","intern","interpose","into","into-array","ints","io!","isa?","iterate","iterator-seq","juxt","keep","keep-indexed","key","keys","keyword","keyword?","last","lazy-cat","lazy-seq","let","letfn","line-seq","list","list*","list?","load","load-file","load-reader","load-string","loaded-libs","locking","long","long-array","longs","loop","macroexpand","macroexpand-1","make-array","make-hierarchy","map","map-entry?","map-indexed","map?","mapcat","mapv","max","max-key","memfn","memoize","merge","merge-with","meta","method-sig","methods","min","min-key","mix-collection-hash","mod","munge","name","namespace","namespace-munge","nat-int?","neg-int?","neg?","newline","next","nfirst","nil?","nnext","not","not-any?","not-empty","not-every?","not=","ns","ns-aliases","ns-imports","ns-interns","ns-map","ns-name","ns-publics","ns-refers","ns-resolve","ns-unalias","ns-unmap","nth","nthnext","nthrest","num","number?","numerator","object-array","odd?","or","parents","partial","partition","partition-all","partition-by","pcalls","peek","persistent!","pmap","pop","pop!","pop-thread-bindings","pos-int?","pos?","pr","pr-str","prefer-method","prefers","primitives-classnames","print","print-ctor","print-dup","print-method","print-simple","print-str","printf","println","println-str","prn","prn-str","promise","proxy","proxy-call-with-super","proxy-mappings","proxy-name","proxy-super","push-thread-bindings","pvalues","qualified-ident?","qualified-keyword?","qualified-symbol?","quot","rand","rand-int","rand-nth","random-sample","range","ratio?","rational?","rationalize","re-find","re-groups","re-matcher","re-matches","re-pattern","re-seq","read","read-line","read-string","reader-conditional","reader-conditional?","realized?","record?","reduce","reduce-kv","reduced","reduced?","reductions","ref","ref-history-count","ref-max-history","ref-min-history","ref-set","refer","refer-clojure","reify","release-pending-sends","rem","remove","remove-all-methods","remove-method","remove-ns","remove-watch","repeat","repeatedly","replace","replicate","require","reset!","reset-meta!","reset-vals!","resolve","rest","restart-agent","resultset-seq","reverse","reversible?","rseq","rsubseq","run!","satisfies?","second","select-keys","send","send-off","send-via","seq","seq?","seqable?","seque","sequence","sequential?","set","set-agent-send-executor!","set-agent-send-off-executor!","set-error-handler!","set-error-mode!","set-validator!","set?","short","short-array","shorts","shuffle","shutdown-agents","simple-ident?","simple-keyword?","simple-symbol?","slurp","some","some->","some->>","some-fn","some?","sort","sort-by","sorted-map","sorted-map-by","sorted-set","sorted-set-by","sorted?","special-symbol?","spit","split-at","split-with","str","string?","struct","struct-map","subs","subseq","subvec","supers","swap!","swap-vals!","symbol","symbol?","sync","tagged-literal","tagged-literal?","take","take-last","take-nth","take-while","test","the-ns","thread-bound?","time","to-array","to-array-2d","trampoline","transduce","transient","tree-seq","true?","type","unchecked-add","unchecked-add-int","unchecked-byte","unchecked-char","unchecked-dec","unchecked-dec-int","unchecked-divide-int","unchecked-double","unchecked-float","unchecked-inc","unchecked-inc-int","unchecked-int","unchecked-long","unchecked-multiply","unchecked-multiply-int","unchecked-negate","unchecked-negate-int","unchecked-remainder-int","unchecked-short","unchecked-subtract","unchecked-subtract-int","underive","unquote","unquote-splicing","unreduced","unsigned-bit-shift-right","update","update-in","update-proxy","uri?","use","uuid?","val","vals","var-get","var-set","var?","vary-meta","vec","vector","vector-of","vector?","volatile!","volatile?","vreset!","vswap!","when","when-first","when-let","when-not","when-some","while","with-bindings","with-bindings*","with-in-str","with-loading-context","with-local-vars","with-meta","with-open","with-out-str","with-precision","with-redefs","with-redefs-fn","xml-seq","zero?","zipmap"],tokenizer:{root:[{include:"@whitespace"},[/@numbers/,"number"],[/@characters/,"string"],{include:"@string"},[/[()\[\]{}]/,"@brackets"],[/\/#"(?:\.|(?:")|[^"\n])*"\/g/,"regexp"],[/[#'@^`~]/,"meta"],[/@qualifiedSymbols/,{cases:{"^:.+$":"constant","@specialForms":"keyword","@coreSymbols":"keyword","@constants":"constant","@default":"identifier"}}]],whitespace:[[/[\s,]+/,"white"],[/;.*$/,"comment"],[/\(comment\b/,"comment","@comment"]],comment:[[/\(/,"comment","@push"],[/\)/,"comment","@pop"],[/[^()]/,"comment"]],string:[[/"/,"string","@multiLineString"]],multiLineString:[[/"/,"string","@popall"],[/@escapes/,"string.escape"],[/./,"string"]]}}},968:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#%\^\&\*\(\)\=\$\-\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{blockComment:["###","###"],lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*#region\\b"),end:new RegExp("^\\s*#endregion\\b")}}},I={defaultToken:"",ignoreCase:!0,tokenPostfix:".coffee",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],regEx:/\/(?!\/\/)(?:[^\/\\]|\\.)*\/[igm]*/,keywords:["and","or","is","isnt","not","on","yes","@","no","off","true","false","null","this","new","delete","typeof","in","instanceof","return","throw","break","continue","debugger","if","else","switch","for","while","do","try","catch","finally","class","extends","super","undefined","then","unless","until","loop","of","by","when"],symbols:/[=><!~?&%|+\-*\/\^\.,\:]+/,escapes:/\\(?:[abfnrtv\\"'$]|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/\@[a-zA-Z_]\w*/,"variable.predefined"],[/[a-zA-Z_]\w*/,{cases:{this:"variable.predefined","@keywords":{token:"keyword.$0"},"@default":""}}],[/[ \t\r\n]+/,""],[/###/,"comment","@comment"],[/#.*$/,"comment"],["///",{token:"regexp",next:"@hereregexp"}],[/^(\s*)(@regEx)/,["","regexp"]],[/(\()(\s*)(@regEx)/,["@brackets","","regexp"]],[/(\,)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\=)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\:)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\[)(\s*)(@regEx)/,["@brackets","","regexp"]],[/(\!)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\&)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\|)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\?)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\{)(\s*)(@regEx)/,["@brackets","","regexp"]],[/(\;)(\s*)(@regEx)/,["","","regexp"]],[/}/,{cases:{"$S2==interpolatedstring":{token:"string",next:"@pop"},"@default":"@brackets"}}],[/[{}()\[\]]/,"@brackets"],[/@symbols/,"delimiter"],[/\d+[eE]([\-+]?\d+)?/,"number.float"],[/\d+\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/0[0-7]+(?!\d)/,"number.octal"],[/\d+/,"number"],[/[,.]/,"delimiter"],[/"""/,"string",'@herestring."""'],[/'''/,"string","@herestring.'''"],[/"/,{cases:{"@eos":"string","@default":{token:"string",next:'@string."'}}}],[/'/,{cases:{"@eos":"string","@default":{token:"string",next:"@string.'"}}}]],string:[[/[^"'\#\\]+/,"string"],[/@escapes/,"string.escape"],[/\./,"string.escape.invalid"],[/\./,"string.escape.invalid"],[/#{/,{cases:{'$S2=="':{token:"string",next:"root.interpolatedstring"},"@default":"string"}}],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}],[/#/,"string"]],herestring:[[/("""|''')/,{cases:{"$1==$S2":{token:"string",next:"@pop"},"@default":"string"}}],[/[^#\\'"]+/,"string"],[/['"]+/,"string"],[/@escapes/,"string.escape"],[/\./,"string.escape.invalid"],[/#{/,{token:"string.quote",next:"root.interpolatedstring"}],[/#/,"string"]],comment:[[/[^#]+/,"comment"],[/###/,"comment","@pop"],[/#/,"comment"]],hereregexp:[[/[^\\\/#]+/,"regexp"],[/\\./,"regexp"],[/#.*$/,"comment"],["///[igm]*",{token:"regexp",next:"@pop"}],[/\//,"regexp"]]}}},6018:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"[",close:"]"},{open:"{",close:"}"},{open:"(",close:")"},{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*#pragma\\s+region\\b"),end:new RegExp("^\\s*#pragma\\s+endregion\\b")}}},I={defaultToken:"",tokenPostfix:".cpp",brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"},{token:"delimiter.angle",open:"<",close:">"}],keywords:["abstract","amp","array","auto","bool","break","case","catch","char","class","const","constexpr","const_cast","continue","cpu","decltype","default","delegate","delete","do","double","dynamic_cast","each","else","enum","event","explicit","export","extern","false","final","finally","float","for","friend","gcnew","generic","goto","if","in","initonly","inline","int","interface","interior_ptr","internal","literal","long","mutable","namespace","new","noexcept","nullptr","__nullptr","operator","override","partial","pascal","pin_ptr","private","property","protected","public","ref","register","reinterpret_cast","restrict","return","safe_cast","sealed","short","signed","sizeof","static","static_assert","static_cast","struct","switch","template","this","thread_local","throw","tile_static","true","try","typedef","typeid","typename","union","unsigned","using","virtual","void","volatile","wchar_t","where","while","_asm","_based","_cdecl","_declspec","_fastcall","_if_exists","_if_not_exists","_inline","_multiple_inheritance","_pascal","_single_inheritance","_stdcall","_virtual_inheritance","_w64","__abstract","__alignof","__asm","__assume","__based","__box","__builtin_alignof","__cdecl","__clrcall","__declspec","__delegate","__event","__except","__fastcall","__finally","__forceinline","__gc","__hook","__identifier","__if_exists","__if_not_exists","__inline","__int128","__int16","__int32","__int64","__int8","__interface","__leave","__m128","__m128d","__m128i","__m256","__m256d","__m256i","__m512","__m512d","__m512i","__m64","__multiple_inheritance","__newslot","__nogc","__noop","__nounwind","__novtordisp","__pascal","__pin","__pragma","__property","__ptr32","__ptr64","__raise","__restrict","__resume","__sealed","__single_inheritance","__stdcall","__super","__thiscall","__try","__try_cast","__typeof","__unaligned","__unhook","__uuidof","__value","__virtual_inheritance","__w64","__wchar_t"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[0abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,integersuffix:/([uU](ll|LL|l|L)|(ll|LL|l|L)?[uU]?)/,floatsuffix:/[fFlL]?/,encoding:/u|u8|U|L/,tokenizer:{root:[[/@encoding?R\"(?:([^ ()\\\t]*))\(/,{token:"string.raw.begin",next:"@raw.$1"}],[/[a-zA-Z_]\w*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],[/^\s*#\s*include/,{token:"keyword.directive.include",next:"@include"}],[/^\s*#\s*\w+/,"keyword.directive"],{include:"@whitespace"},[/\[\s*\[/,{token:"annotation",next:"@annotation"}],[/[{}()<>\[\]]/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\d+[eE]([\-+]?\d+)?(@floatsuffix)/,"number.float"],[/\d*\.\d+([eE][\-+]?\d+)?(@floatsuffix)/,"number.float"],[/0[xX][0-9a-fA-F']*[0-9a-fA-F](@integersuffix)/,"number.hex"],[/0[0-7']*[0-7](@integersuffix)/,"number.octal"],[/0[bB][0-1']*[0-1](@integersuffix)/,"number.binary"],[/\d[\d']*\d(@integersuffix)/,"number"],[/\d(@integersuffix)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@doccomment"],[/\/\*/,"comment","@comment"],[/\/\/.*\\$/,"comment","@linecomment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],linecomment:[[/.*[^\\]$/,"comment","@pop"],[/[^]+/,"comment"]],doccomment:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],raw:[[/[^)]+/,"string.raw"],[/\)$S2\"/,{token:"string.raw.end",next:"@pop"}],[/\)/,"string.raw"]],annotation:[{include:"@whitespace"},[/using|alignas/,"keyword"],[/[a-zA-Z0-9_]+/,"annotation"],[/[,:]/,"delimiter"],[/[()]/,"@brackets"],[/\]\s*\]/,{token:"annotation",next:"@pop"}]],include:[[/(\s*)(<)([^<>]*)(>)/,["","keyword.directive.include.begin","string.include.identifier",{token:"keyword.directive.include.end",next:"@pop"}]],[/(\s*)(")([^"]*)(")/,["","keyword.directive.include.begin","string.include.identifier",{token:"keyword.directive.include.end",next:"@pop"}]]]}}},9038:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\$\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],folding:{markers:{start:new RegExp("^\\s*#region\\b"),end:new RegExp("^\\s*#endregion\\b")}}},I={defaultToken:"",tokenPostfix:".cs",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],keywords:["extern","alias","using","bool","decimal","sbyte","byte","short","ushort","int","uint","long","ulong","char","float","double","object","dynamic","string","assembly","is","as","ref","out","this","base","new","typeof","void","checked","unchecked","default","delegate","var","const","if","else","switch","case","while","do","for","foreach","in","break","continue","goto","return","throw","try","catch","finally","lock","yield","from","let","where","join","on","equals","into","orderby","ascending","descending","select","group","by","namespace","partial","class","field","event","method","param","public","protected","internal","private","abstract","sealed","static","struct","readonly","volatile","virtual","override","params","get","set","add","remove","operator","true","false","implicit","explicit","interface","enum","null","async","await","fixed","sizeof","stackalloc","unsafe","nameof","when"],namespaceFollows:["namespace","using"],parenFollows:["if","for","while","switch","foreach","using","catch","when"],operators:["=","??","||","&&","|","^","&","==","!=","<=",">=","<<","+","-","*","/","%","!","~","++","--","+=","-=","*=","/=","%=","&=","|=","^=","<<=",">>=",">>","=>"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/\@?[a-zA-Z_]\w*/,{cases:{"@namespaceFollows":{token:"keyword.$0",next:"@namespace"},"@keywords":{token:"keyword.$0",next:"@qualified"},"@default":{token:"identifier",next:"@qualified"}}}],{include:"@whitespace"},[/}/,{cases:{"$S2==interpolatedstring":{token:"string.quote",next:"@pop"},"$S2==litinterpstring":{token:"string.quote",next:"@pop"},"@default":"@brackets"}}],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/[0-9_]*\.[0-9_]+([eE][\-+]?\d+)?[fFdD]?/,"number.float"],[/0[xX][0-9a-fA-F_]+/,"number.hex"],[/0[bB][01_]+/,"number.hex"],[/[0-9_]+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",next:"@string"}],[/\$\@"/,{token:"string.quote",next:"@litinterpstring"}],[/\@"/,{token:"string.quote",next:"@litstring"}],[/\$"/,{token:"string.quote",next:"@interpolatedstring"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],qualified:[[/[a-zA-Z_][\w]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],[/\./,"delimiter"],["","","@pop"]],namespace:[{include:"@whitespace"},[/[A-Z]\w*/,"namespace"],[/[\.=]/,"delimiter"],["","","@pop"]],comment:[[/[^\/*]+/,"comment"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",next:"@pop"}]],litstring:[[/[^"]+/,"string"],[/""/,"string.escape"],[/"/,{token:"string.quote",next:"@pop"}]],litinterpstring:[[/[^"{]+/,"string"],[/""/,"string.escape"],[/{{/,"string.escape"],[/}}/,"string.escape"],[/{/,{token:"string.quote",next:"root.litinterpstring"}],[/"/,{token:"string.quote",next:"@pop"}]],interpolatedstring:[[/[^\\"{]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/{{/,"string.escape"],[/}}/,"string.escape"],[/{/,{token:"string.quote",next:"root.interpolatedstring"}],[/"/,{token:"string.quote",next:"@pop"}]],whitespace:[[/^[ \t\v\f]*#((r)|(load))(?=\s)/,"directive.csx"],[/^[ \t\v\f]*#\w.*$/,"namespace.cpp"],[/[ \t\v\f\r\n]+/,""],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}}},1446:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={brackets:[],autoClosingPairs:[],surroundingPairs:[]},I={keywords:[],typeKeywords:[],tokenPostfix:".csp",operators:[],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/child-src/,"string.quote"],[/connect-src/,"string.quote"],[/default-src/,"string.quote"],[/font-src/,"string.quote"],[/frame-src/,"string.quote"],[/img-src/,"string.quote"],[/manifest-src/,"string.quote"],[/media-src/,"string.quote"],[/object-src/,"string.quote"],[/script-src/,"string.quote"],[/style-src/,"string.quote"],[/worker-src/,"string.quote"],[/base-uri/,"string.quote"],[/plugin-types/,"string.quote"],[/sandbox/,"string.quote"],[/disown-opener/,"string.quote"],[/form-action/,"string.quote"],[/frame-ancestors/,"string.quote"],[/report-uri/,"string.quote"],[/report-to/,"string.quote"],[/upgrade-insecure-requests/,"string.quote"],[/block-all-mixed-content/,"string.quote"],[/require-sri-for/,"string.quote"],[/reflected-xss/,"string.quote"],[/referrer/,"string.quote"],[/policy-uri/,"string.quote"],[/'self'/,"string.quote"],[/'unsafe-inline'/,"string.quote"],[/'unsafe-eval'/,"string.quote"],[/'strict-dynamic'/,"string.quote"],[/'unsafe-hashed-attributes'/,"string.quote"]]}}},4958:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(#?-?\d*\.\d\w*%?)|((::|[@#.!:])?[\w-?]+%?)|::|[@#.!:]/g,comments:{blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*\\/\\*\\s*#region\\b\\s*(.*?)\\s*\\*\\/"),end:new RegExp("^\\s*\\/\\*\\s*#endregion\\b.*\\*\\/")}}},I={defaultToken:"",tokenPostfix:".css",ws:"[ \t\n\r\f]*",identifier:"-?-?([a-zA-Z]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",brackets:[{open:"{",close:"}",token:"delimiter.bracket"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{root:[{include:"@selector"}],selector:[{include:"@comments"},{include:"@import"},{include:"@strings"},["[@](keyframes|-webkit-keyframes|-moz-keyframes|-o-keyframes)",{token:"keyword",next:"@keyframedeclaration"}],["[@](page|content|font-face|-moz-document)",{token:"keyword"}],["[@](charset|namespace)",{token:"keyword",next:"@declarationbody"}],["(url-prefix)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],["(url)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],{include:"@selectorname"},["[\\*]","tag"],["[>\\+,]","delimiter"],["\\[",{token:"delimiter.bracket",next:"@selectorattribute"}],["{",{token:"delimiter.bracket",next:"@selectorbody"}]],selectorbody:[{include:"@comments"},["[*_]?@identifier@ws:(?=(\\s|\\d|[^{;}]*[;}]))","attribute.name","@rulevalue"],["}",{token:"delimiter.bracket",next:"@pop"}]],selectorname:[["(\\.|#(?=[^{])|%|(@identifier)|:)+","tag"]],selectorattribute:[{include:"@term"},["]",{token:"delimiter.bracket",next:"@pop"}]],term:[{include:"@comments"},["(url-prefix)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],["(url)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],{include:"@functioninvocation"},{include:"@numbers"},{include:"@name"},{include:"@strings"},["([<>=\\+\\-\\*\\/\\^\\|\\~,])","delimiter"],[",","delimiter"]],rulevalue:[{include:"@comments"},{include:"@strings"},{include:"@term"},["!important","keyword"],[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],warndebug:[["[@](warn|debug)",{token:"keyword",next:"@declarationbody"}]],import:[["[@](import)",{token:"keyword",next:"@declarationbody"}]],urldeclaration:[{include:"@strings"},["[^)\r\n]+","string"],["\\)",{token:"delimiter.parenthesis",next:"@pop"}]],parenthizedterm:[{include:"@term"},["\\)",{token:"delimiter.parenthesis",next:"@pop"}]],declarationbody:[{include:"@term"},[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[/[^*/]+/,"comment"],[/./,"comment"]],name:[["@identifier","attribute.value"]],numbers:[["-?(\\d*\\.)?\\d+([eE][\\-+]?\\d+)?",{token:"attribute.value.number",next:"@units"}],["#[0-9a-fA-F_]+(?!\\w)","attribute.value.hex"]],units:[["(em|ex|ch|rem|fr|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?","attribute.value.unit","@pop"]],keyframedeclaration:[["@identifier","attribute.value"],["{",{token:"delimiter.bracket",switchTo:"@keyframebody"}]],keyframebody:[{include:"@term"},["{",{token:"delimiter.bracket",next:"@selectorbody"}],["}",{token:"delimiter.bracket",next:"@pop"}]],functioninvocation:[["@identifier\\(",{token:"attribute.value",next:"@functionarguments"}]],functionarguments:[["\\$@identifier@ws:","attribute.name"],["[,]","delimiter"],{include:"@term"},["\\)",{token:"attribute.value",next:"@pop"}]],strings:[['~?"',{token:"string",next:"@stringenddoublequote"}],["~?'",{token:"string",next:"@stringendquote"}]],stringenddoublequote:[["\\\\.","string"],['"',{token:"string",next:"@pop"}],[/[^\\"]+/,"string"],[".","string"]],stringendquote:[["\\\\.","string"],["'",{token:"string",next:"@pop"}],[/[^\\']+/,"string"],[".","string"]]}}},494:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}]},I={defaultToken:"",tokenPostfix:".cypher",ignoreCase:!0,brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["ALL","AND","AS","ASC","ASCENDING","BY","CALL","CASE","CONTAINS","CREATE","DELETE","DESC","DESCENDING","DETACH","DISTINCT","ELSE","END","ENDS","EXISTS","IN","IS","LIMIT","MANDATORY","MATCH","MERGE","NOT","ON","ON","OPTIONAL","OR","ORDER","REMOVE","RETURN","SET","SKIP","STARTS","THEN","UNION","UNWIND","WHEN","WHERE","WITH","XOR","YIELD"],builtinLiterals:["true","TRUE","false","FALSE","null","NULL"],builtinFunctions:["abs","acos","asin","atan","atan2","avg","ceil","coalesce","collect","cos","cot","count","degrees","e","endNode","exists","exp","floor","head","id","keys","labels","last","left","length","log","log10","lTrim","max","min","nodes","percentileCont","percentileDisc","pi","properties","radians","rand","range","relationships","replace","reverse","right","round","rTrim","sign","sin","size","split","sqrt","startNode","stDev","stDevP","substring","sum","tail","tan","timestamp","toBoolean","toFloat","toInteger","toLower","toString","toUpper","trim","type"],operators:["+","-","*","/","%","^","=","<>","<",">","<=",">=","->","<-","-->","<--"],escapes:/\\(?:[tbnrf\\"'`]|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+/,octaldigits:/[0-7]+/,hexdigits:/[0-9a-fA-F]+/,tokenizer:{root:[[/[{}[\]()]/,"@brackets"],{include:"common"}],common:[{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/:[a-zA-Z_][\w]*/,"type.identifier"],[/[a-zA-Z_][\w]*(?=\()/,{cases:{"@builtinFunctions":"predefined.function"}}],[/[a-zA-Z_$][\w$]*/,{cases:{"@keywords":"keyword","@builtinLiterals":"predefined.literal","@default":"identifier"}}],[/`/,"identifier.escape","@identifierBacktick"],[/[;,.:|]/,"delimiter"],[/[<>=%+\-*/^]+/,{cases:{"@operators":"delimiter","@default":""}}]],numbers:[[/-?(@digits)[eE](-?(@digits))?/,"number.float"],[/-?(@digits)?\.(@digits)([eE]-?(@digits))?/,"number.float"],[/-?0x(@hexdigits)/,"number.hex"],[/-?0(@octaldigits)/,"number.octal"],[/-?(@digits)/,"number"]],strings:[[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string","@stringDouble"],[/'/,"string","@stringSingle"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/\/\/.*/,"comment"],[/[^/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[/*]/,"comment"]],stringDouble:[[/[^\\"]+/,"string"],[/@escapes/,"string"],[/\\./,"string.invalid"],[/"/,"string","@pop"]],stringSingle:[[/[^\\']+/,"string"],[/@escapes/,"string"],[/\\./,"string.invalid"],[/'/,"string","@pop"]],identifierBacktick:[[/[^\\`]+/,"identifier.escape"],[/@escapes/,"identifier.escape"],[/\\./,"identifier.escape.invalid"],[/`/,"identifier.escape","@pop"]]}}},3062:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string"]},{open:"`",close:"`",notIn:["string","comment"]},{open:"/**",close:" */",notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"'",close:"'"},{open:"(",close:")"},{open:'"',close:'"'},{open:"`",close:"`"}],folding:{markers:{start:/^\s*\s*#?region\b/,end:/^\s*\s*#?endregion\b/}}},I={defaultToken:"invalid",tokenPostfix:".dart",keywords:["abstract","dynamic","implements","show","as","else","import","static","assert","enum","in","super","async","export","interface","switch","await","extends","is","sync","break","external","library","this","case","factory","mixin","throw","catch","false","new","true","class","final","null","try","const","finally","on","typedef","continue","for","operator","var","covariant","Function","part","void","default","get","rethrow","while","deferred","hide","return","with","do","if","set","yield"],typeKeywords:["int","double","String","bool"],operators:["+","-","*","/","~/","%","++","--","==","!=",">","<",">=","<=","=","-=","/=","%=",">>=","^=","+=","*=","~/=","<<=","&=","!=","||","&&","&","|","^","~","<<",">>","!",">>>","??","?",":","|="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,regexpctl:/[(){}\[\]\$\^|\-*+?\.]/,regexpesc:/\\(?:[bBdDfnrstvwWn0\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/,tokenizer:{root:[[/[{}]/,"delimiter.bracket"],{include:"common"}],common:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"type.identifier","@keywords":"keyword","@default":"identifier"}}],[/[A-Z_$][\w\$]*/,"type.identifier"],{include:"@whitespace"},[/\/(?=([^\\\/]|\\.)+\/([gimsuy]*)(\s*)(\.|;|,|\)|\]|\}|$))/,{token:"regexp",bracket:"@open",next:"@regexp"}],[/@[a-zA-Z]+/,"annotation"],[/[()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/!(?=([^=]|$))/,"delimiter"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/(@digits)[eE]([\-+]?(@digits))?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?/,"number.float"],[/0[xX](@hexdigits)n?/,"number.hex"],[/0[oO]?(@octaldigits)n?/,"number.octal"],[/0[bB](@binarydigits)n?/,"number.binary"],[/(@digits)n?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string_double"],[/'/,"string","@string_single"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@jsdoc"],[/\/\*/,"comment","@comment"],[/\/\/\/.*$/,"comment.doc"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],jsdoc:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],regexp:[[/(\{)(\d+(?:,\d*)?)(\})/,["regexp.escape.control","regexp.escape.control","regexp.escape.control"]],[/(\[)(\^?)(?=(?:[^\]\\\/]|\\.)+)/,["regexp.escape.control",{token:"regexp.escape.control",next:"@regexrange"}]],[/(\()(\?:|\?=|\?!)/,["regexp.escape.control","regexp.escape.control"]],[/[()]/,"regexp.escape.control"],[/@regexpctl/,"regexp.escape.control"],[/[^\\\/]/,"regexp"],[/@regexpesc/,"regexp.escape"],[/\\\./,"regexp.invalid"],[/(\/)([gimsuy]*)/,[{token:"regexp",bracket:"@close",next:"@pop"},"keyword.other"]]],regexrange:[[/-/,"regexp.escape.control"],[/\^/,"regexp.invalid"],[/@regexpesc/,"regexp.escape"],[/[^\]]/,"regexp"],[/\]/,{token:"regexp.escape.control",next:"@pop",bracket:"@close"}]],string_double:[[/[^\\"\$]+/,"string"],[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"],[/\$\w+/,"identifier"]],string_single:[[/[^\\'\$]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"],[/\$\w+/,"identifier"]]}}},2692:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={defaultToken:"",tokenPostfix:".dockerfile",variable:/\${?[\w]+}?/,tokenizer:{root:[{include:"@whitespace"},{include:"@comment"},[/(ONBUILD)(\s+)/,["keyword",""]],[/(ENV)(\s+)([\w]+)/,["keyword","",{token:"variable",next:"@arguments"}]],[/(FROM|MAINTAINER|RUN|EXPOSE|ENV|ADD|ARG|VOLUME|LABEL|USER|WORKDIR|COPY|CMD|STOPSIGNAL|SHELL|HEALTHCHECK|ENTRYPOINT)/,{token:"keyword",next:"@arguments"}]],arguments:[{include:"@whitespace"},{include:"@strings"},[/(@variable)/,{cases:{"@eos":{token:"variable",next:"@popall"},"@default":"variable"}}],[/\\/,{cases:{"@eos":"","@default":""}}],[/./,{cases:{"@eos":{token:"",next:"@popall"},"@default":""}}]],whitespace:[[/\s+/,{cases:{"@eos":{token:"",next:"@popall"},"@default":""}}]],comment:[[/(^#.*$)/,"comment","@popall"]],strings:[[/\\'$/,"","@popall"],[/\\'/,""],[/'$/,"string","@popall"],[/'/,"string","@stringBody"],[/"$/,"string","@popall"],[/"/,"string","@dblStringBody"]],stringBody:[[/[^\\\$']/,{cases:{"@eos":{token:"string",next:"@popall"},"@default":"string"}}],[/\\./,"string.escape"],[/'$/,"string","@popall"],[/'/,"string","@pop"],[/(@variable)/,"variable"],[/\\$/,"string"],[/$/,"string","@popall"]],dblStringBody:[[/[^\\\$"]/,{cases:{"@eos":{token:"string",next:"@popall"},"@default":"string"}}],[/\\./,"string.escape"],[/"$/,"string","@popall"],[/"/,"string","@pop"],[/(@variable)/,"variable"],[/\\$/,"string"],[/$/,"string","@popall"]]}}},2278:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}]},I={defaultToken:"",tokenPostfix:".ecl",ignoreCase:!0,brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],pounds:["append","break","declare","demangle","end","for","getdatatype","if","inmodule","loop","mangle","onwarning","option","set","stored","uniquename"].join("|"),keywords:["__compressed__","after","all","and","any","as","atmost","before","beginc","best","between","case","cluster","compressed","compression","const","counter","csv","default","descend","embed","encoding","encrypt","end","endc","endembed","endmacro","enum","escape","except","exclusive","expire","export","extend","fail","few","fileposition","first","flat","forward","from","full","function","functionmacro","group","grouped","heading","hole","ifblock","import","in","inner","interface","internal","joined","keep","keyed","last","left","limit","linkcounted","literal","little_endian","load","local","locale","lookup","lzw","macro","many","maxcount","maxlength","min skew","module","mofn","multiple","named","namespace","nocase","noroot","noscan","nosort","not","noxpath","of","onfail","only","opt","or","outer","overwrite","packed","partition","penalty","physicallength","pipe","prefetch","quote","record","repeat","retry","return","right","right1","right2","rows","rowset","scan","scope","self","separator","service","shared","skew","skip","smart","soapaction","sql","stable","store","terminator","thor","threshold","timelimit","timeout","token","transform","trim","type","unicodeorder","unordered","unsorted","unstable","update","use","validate","virtual","whole","width","wild","within","wnotrim","xml","xpath"],functions:["abs","acos","aggregate","allnodes","apply","ascii","asin","assert","asstring","atan","atan2","ave","build","buildindex","case","catch","choose","choosen","choosesets","clustersize","combine","correlation","cos","cosh","count","covariance","cron","dataset","dedup","define","denormalize","dictionary","distribute","distributed","distribution","ebcdic","enth","error","evaluate","event","eventextra","eventname","exists","exp","fail","failcode","failmessage","fetch","fromunicode","fromxml","getenv","getisvalid","global","graph","group","hash","hash32","hash64","hashcrc","hashmd5","having","httpcall","httpheader","if","iff","index","intformat","isvalid","iterate","join","keydiff","keypatch","keyunicode","length","library","limit","ln","loadxml","local","log","loop","map","matched","matchlength","matchposition","matchtext","matchunicode","max","merge","mergejoin","min","nofold","nolocal","nonempty","normalize","nothor","notify","output","parallel","parse","pipe","power","preload","process","project","pull","random","range","rank","ranked","realformat","recordof","regexfind","regexreplace","regroup","rejected","rollup","round","roundup","row","rowdiff","sample","sequential","set","sin","sinh","sizeof","soapcall","sort","sorted","sqrt","stepped","stored","sum","table","tan","tanh","thisnode","topn","tounicode","toxml","transfer","transform","trim","truncate","typeof","ungroup","unicodeorder","variance","wait","which","workunit","xmldecode","xmlencode","xmltext","xmlunicode"],typesint:["integer","unsigned"].join("|"),typesnum:["data","qstring","string","unicode","utf8","varstring","varunicode"],typesone:["ascii","big_endian","boolean","data","decimal","ebcdic","grouped","integer","linkcounted","pattern","qstring","real","record","rule","set of","streamed","string","token","udecimal","unicode","unsigned","utf8","varstring","varunicode"].join("|"),operators:["+","-","/",":=","<","<>","=",">","\\","and","in","not","or"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/@typesint[4|8]/,"type"],[/#(@pounds)/,"type"],[/@typesone/,"type"],[/[a-zA-Z_$][\w-$]*/,{cases:{"@functions":"keyword.function","@keywords":"keyword","@operators":"operator"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/[0-9_]*\.[0-9_]+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]+/,"number.hex"],[/0[bB][01]+/,"number.hex"],[/[0-9_]+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\v\f\r\n]+/,""],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"]]}}},1710:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"'",close:"'"},{open:'"',close:'"'}],autoClosingPairs:[{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["comment"]},{open:'"""',close:'"""'},{open:"`",close:"`",notIn:["string","comment"]},{open:"(",close:")"},{open:"{",close:"}"},{open:"[",close:"]"},{open:"<<",close:">>"}],indentationRules:{increaseIndentPattern:/^\s*(after|else|catch|rescue|fn|[^#]*(do|<\-|\->|\{|\[|\=))\s*$/,decreaseIndentPattern:/^\s*((\}|\])\s*$|(after|else|catch|rescue|end)\b)/}},I={defaultToken:"source",tokenPostfix:".elixir",brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"<<",close:">>",token:"delimiter.angle.special"}],declarationKeywords:["def","defp","defn","defnp","defguard","defguardp","defmacro","defmacrop","defdelegate","defcallback","defmacrocallback","defmodule","defprotocol","defexception","defimpl","defstruct"],operatorKeywords:["and","in","not","or","when"],namespaceKeywords:["alias","import","require","use"],otherKeywords:["after","case","catch","cond","do","else","end","fn","for","if","quote","raise","receive","rescue","super","throw","try","unless","unquote_splicing","unquote","with"],constants:["true","false","nil"],nameBuiltin:["__MODULE__","__DIR__","__ENV__","__CALLER__","__STACKTRACE__"],operator:/-[->]?|!={0,2}|\*{1,2}|\/|\\\\|&{1,3}|\.\.?|\^(?:\^\^)?|\+\+?|<(?:-|<<|=|>|\|>|~>?)?|=~|={1,3}|>(?:=|>>)?|\|~>|\|>|\|{1,3}|~>>?|~~~|::/,variableName:/[a-z_][a-zA-Z0-9_]*[?!]?/,atomName:/[a-zA-Z_][a-zA-Z0-9_@]*[?!]?|@specialAtomName|@operator/,specialAtomName:/\.\.\.|<<>>|%\{\}|%|\{\}/,aliasPart:/[A-Z][a-zA-Z0-9_]*/,moduleName:/@aliasPart(?:\.@aliasPart)*/,sigilSymmetricDelimiter:/"""|'''|"|'|\/|\|/,sigilStartDelimiter:/@sigilSymmetricDelimiter|<|\{|\[|\(/,sigilEndDelimiter:/@sigilSymmetricDelimiter|>|\}|\]|\)/,sigilModifiers:/[a-zA-Z0-9]*/,decimal:/\d(?:_?\d)*/,hex:/[0-9a-fA-F](_?[0-9a-fA-F])*/,octal:/[0-7](_?[0-7])*/,binary:/[01](_?[01])*/,escape:/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}|\\./,tokenizer:{root:[{include:"@whitespace"},{include:"@comments"},{include:"@keywordsShorthand"},{include:"@numbers"},{include:"@identifiers"},{include:"@strings"},{include:"@atoms"},{include:"@sigils"},{include:"@attributes"},{include:"@symbols"}],whitespace:[[/\s+/,"white"]],comments:[[/(#)(.*)/,["comment.punctuation","comment"]]],keywordsShorthand:[[/(@atomName)(:)(\s+)/,["constant","constant.punctuation","white"]],[/"(?=([^"]|#\{.*?\}|\\")*":)/,{token:"constant.delimiter",next:"@doubleQuotedStringKeyword"}],[/'(?=([^']|#\{.*?\}|\\')*':)/,{token:"constant.delimiter",next:"@singleQuotedStringKeyword"}]],doubleQuotedStringKeyword:[[/":/,{token:"constant.delimiter",next:"@pop"}],{include:"@stringConstantContentInterpol"}],singleQuotedStringKeyword:[[/':/,{token:"constant.delimiter",next:"@pop"}],{include:"@stringConstantContentInterpol"}],numbers:[[/0b@binary/,"number.binary"],[/0o@octal/,"number.octal"],[/0x@hex/,"number.hex"],[/@decimal\.@decimal([eE]-?@decimal)?/,"number.float"],[/@decimal/,"number"]],identifiers:[[/\b(defp?|defnp?|defmacrop?|defguardp?|defdelegate)(\s+)(@variableName)(?!\s+@operator)/,["keyword.declaration","white",{cases:{unquote:"keyword","@default":"function"}}]],[/(@variableName)(?=\s*\.?\s*\()/,{cases:{"@declarationKeywords":"keyword.declaration","@namespaceKeywords":"keyword","@otherKeywords":"keyword","@default":"function.call"}}],[/(@moduleName)(\s*)(\.)(\s*)(@variableName)/,["type.identifier","white","operator","white","function.call"]],[/(:)(@atomName)(\s*)(\.)(\s*)(@variableName)/,["constant.punctuation","constant","white","operator","white","function.call"]],[/(\|>)(\s*)(@variableName)/,["operator","white",{cases:{"@otherKeywords":"keyword","@default":"function.call"}}]],[/(&)(\s*)(@variableName)/,["operator","white","function.call"]],[/@variableName/,{cases:{"@declarationKeywords":"keyword.declaration","@operatorKeywords":"keyword.operator","@namespaceKeywords":"keyword","@otherKeywords":"keyword","@constants":"constant.language","@nameBuiltin":"variable.language","_.*":"comment.unused","@default":"identifier"}}],[/@moduleName/,"type.identifier"]],strings:[[/"""/,{token:"string.delimiter",next:"@doubleQuotedHeredoc"}],[/'''/,{token:"string.delimiter",next:"@singleQuotedHeredoc"}],[/"/,{token:"string.delimiter",next:"@doubleQuotedString"}],[/'/,{token:"string.delimiter",next:"@singleQuotedString"}]],doubleQuotedHeredoc:[[/"""/,{token:"string.delimiter",next:"@pop"}],{include:"@stringContentInterpol"}],singleQuotedHeredoc:[[/'''/,{token:"string.delimiter",next:"@pop"}],{include:"@stringContentInterpol"}],doubleQuotedString:[[/"/,{token:"string.delimiter",next:"@pop"}],{include:"@stringContentInterpol"}],singleQuotedString:[[/'/,{token:"string.delimiter",next:"@pop"}],{include:"@stringContentInterpol"}],atoms:[[/(:)(@atomName)/,["constant.punctuation","constant"]],[/:"/,{token:"constant.delimiter",next:"@doubleQuotedStringAtom"}],[/:'/,{token:"constant.delimiter",next:"@singleQuotedStringAtom"}]],doubleQuotedStringAtom:[[/"/,{token:"constant.delimiter",next:"@pop"}],{include:"@stringConstantContentInterpol"}],singleQuotedStringAtom:[[/'/,{token:"constant.delimiter",next:"@pop"}],{include:"@stringConstantContentInterpol"}],sigils:[[/~[a-z]@sigilStartDelimiter/,{token:"@rematch",next:"@sigil.interpol"}],[/~([A-Z]+)@sigilStartDelimiter/,{token:"@rematch",next:"@sigil.noInterpol"}]],sigil:[[/~([a-z]|[A-Z]+)\{/,{token:"@rematch",switchTo:"@sigilStart.$S2.$1.{.}"}],[/~([a-z]|[A-Z]+)\[/,{token:"@rematch",switchTo:"@sigilStart.$S2.$1.[.]"}],[/~([a-z]|[A-Z]+)\(/,{token:"@rematch",switchTo:"@sigilStart.$S2.$1.(.)"}],[/~([a-z]|[A-Z]+)\</,{token:"@rematch",switchTo:"@sigilStart.$S2.$1.<.>"}],[/~([a-z]|[A-Z]+)(@sigilSymmetricDelimiter)/,{token:"@rematch",switchTo:"@sigilStart.$S2.$1.$2.$2"}]],"sigilStart.interpol.s":[[/~s@sigilStartDelimiter/,{token:"string.delimiter",switchTo:"@sigilContinue.$S2.$S3.$S4.$S5"}]],"sigilContinue.interpol.s":[[/(@sigilEndDelimiter)@sigilModifiers/,{cases:{"$1==$S5":{token:"string.delimiter",next:"@pop"},"@default":"string"}}],{include:"@stringContentInterpol"}],"sigilStart.noInterpol.S":[[/~S@sigilStartDelimiter/,{token:"string.delimiter",switchTo:"@sigilContinue.$S2.$S3.$S4.$S5"}]],"sigilContinue.noInterpol.S":[[/(^|[^\\])\\@sigilEndDelimiter/,"string"],[/(@sigilEndDelimiter)@sigilModifiers/,{cases:{"$1==$S5":{token:"string.delimiter",next:"@pop"},"@default":"string"}}],{include:"@stringContent"}],"sigilStart.interpol.r":[[/~r@sigilStartDelimiter/,{token:"regexp.delimiter",switchTo:"@sigilContinue.$S2.$S3.$S4.$S5"}]],"sigilContinue.interpol.r":[[/(@sigilEndDelimiter)@sigilModifiers/,{cases:{"$1==$S5":{token:"regexp.delimiter",next:"@pop"},"@default":"regexp"}}],{include:"@regexpContentInterpol"}],"sigilStart.noInterpol.R":[[/~R@sigilStartDelimiter/,{token:"regexp.delimiter",switchTo:"@sigilContinue.$S2.$S3.$S4.$S5"}]],"sigilContinue.noInterpol.R":[[/(^|[^\\])\\@sigilEndDelimiter/,"regexp"],[/(@sigilEndDelimiter)@sigilModifiers/,{cases:{"$1==$S5":{token:"regexp.delimiter",next:"@pop"},"@default":"regexp"}}],{include:"@regexpContent"}],"sigilStart.interpol":[[/~([a-z]|[A-Z]+)@sigilStartDelimiter/,{token:"sigil.delimiter",switchTo:"@sigilContinue.$S2.$S3.$S4.$S5"}]],"sigilContinue.interpol":[[/(@sigilEndDelimiter)@sigilModifiers/,{cases:{"$1==$S5":{token:"sigil.delimiter",next:"@pop"},"@default":"sigil"}}],{include:"@sigilContentInterpol"}],"sigilStart.noInterpol":[[/~([a-z]|[A-Z]+)@sigilStartDelimiter/,{token:"sigil.delimiter",switchTo:"@sigilContinue.$S2.$S3.$S4.$S5"}]],"sigilContinue.noInterpol":[[/(^|[^\\])\\@sigilEndDelimiter/,"sigil"],[/(@sigilEndDelimiter)@sigilModifiers/,{cases:{"$1==$S5":{token:"sigil.delimiter",next:"@pop"},"@default":"sigil"}}],{include:"@sigilContent"}],attributes:[[/\@(module|type)?doc (~[sS])?"""/,{token:"comment.block.documentation",next:"@doubleQuotedHeredocDocstring"}],[/\@(module|type)?doc (~[sS])?'''/,{token:"comment.block.documentation",next:"@singleQuotedHeredocDocstring"}],[/\@(module|type)?doc (~[sS])?"/,{token:"comment.block.documentation",next:"@doubleQuotedStringDocstring"}],[/\@(module|type)?doc (~[sS])?'/,{token:"comment.block.documentation",next:"@singleQuotedStringDocstring"}],[/\@(module|type)?doc false/,"comment.block.documentation"],[/\@(@variableName)/,"variable"]],doubleQuotedHeredocDocstring:[[/"""/,{token:"comment.block.documentation",next:"@pop"}],{include:"@docstringContent"}],singleQuotedHeredocDocstring:[[/'''/,{token:"comment.block.documentation",next:"@pop"}],{include:"@docstringContent"}],doubleQuotedStringDocstring:[[/"/,{token:"comment.block.documentation",next:"@pop"}],{include:"@docstringContent"}],singleQuotedStringDocstring:[[/'/,{token:"comment.block.documentation",next:"@pop"}],{include:"@docstringContent"}],symbols:[[/\?(\\.|[^\\\s])/,"number.constant"],[/&\d+/,"operator"],[/<<<|>>>/,"operator"],[/[()\[\]\{\}]|<<|>>/,"@brackets"],[/\.\.\./,"identifier"],[/=>/,"punctuation"],[/@operator/,"operator"],[/[:;,.%]/,"punctuation"]],stringContentInterpol:[{include:"@interpolation"},{include:"@escapeChar"},{include:"@stringContent"}],stringContent:[[/./,"string"]],stringConstantContentInterpol:[{include:"@interpolation"},{include:"@escapeChar"},{include:"@stringConstantContent"}],stringConstantContent:[[/./,"constant"]],regexpContentInterpol:[{include:"@interpolation"},{include:"@escapeChar"},{include:"@regexpContent"}],regexpContent:[[/(\s)(#)(\s.*)$/,["white","comment.punctuation","comment"]],[/./,"regexp"]],sigilContentInterpol:[{include:"@interpolation"},{include:"@escapeChar"},{include:"@sigilContent"}],sigilContent:[[/./,"sigil"]],docstringContent:[[/./,"comment.block.documentation"]],escapeChar:[[/@escape/,"constant.character.escape"]],interpolation:[[/#{/,{token:"delimiter.bracket.embed",next:"@interpolationContinue"}]],interpolationContinue:[[/}/,{token:"delimiter.bracket.embed",next:"@pop"}],{include:"@root"}]}}},3726:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{blockComment:["/*","*/"],lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:"(",close:")",notIn:["string"]},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}]},I={defaultToken:"",tokenPostfix:".flow",keywords:["import","require","export","forbid","native","if","else","cast","unsafe","switch","default"],types:["io","mutable","bool","int","double","string","flow","void","ref","true","false","with"],operators:["=",">","<","<=",">=","==","!","!=",":=","::=","&&","||","+","-","*","/","@","&","%",":","->","\\","$","??","^"],symbols:/[@$=><!~?:&|+\-*\\\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@types":"type","@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"delimiter"],[/[<>](?!@symbols)/,"delimiter"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/((0(x|X)[0-9a-fA-F]*)|(([0-9]+\.?[0-9]*)|(\.[0-9]+))((e|E)(\+|-)?[0-9]+)?)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}}},2094:(dt,pe,h)=>{h.r(pe),h.d(pe,{TagAngleInterpolationBracket:()=>te,TagAngleInterpolationDollar:()=>P,TagAutoInterpolationBracket:()=>B,TagAutoInterpolationDollar:()=>W,TagBracketInterpolationBracket:()=>L,TagBracketInterpolationDollar:()=>z});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(U,$,G,ie)=>{if($&&typeof $=="object"||typeof $=="function")for(let ee of J($))M.call(U,ee)||ee===G||I(U,ee,{get:()=>$[ee],enumerable:!(ie=T($,ee))||ie.enumerable});return U},E={};v(E,s,"default");var w=["assign","flush","ftl","return","global","import","include","break","continue","local","nested","nt","setting","stop","t","lt","rt","fallback"],C=["attempt","autoesc","autoEsc","compress","comment","escape","noescape","function","if","list","items","sep","macro","noparse","noParse","noautoesc","noAutoEsc","outputformat","switch","visit","recurse"],d={close:">",id:"angle",open:"<"},f={close:"\\]",id:"bracket",open:"\\["},p={close:"[>\\]]",id:"auto",open:"[<\\[]"},_={close:"\\}",id:"dollar",open1:"\\$",open2:"\\{"},m={close:"\\]",id:"bracket",open1:"\\[",open2:"="};function b(U){return{brackets:[["<",">"],["[","]"],["(",")"],["{","}"]],comments:{blockComment:[`${U.open}--`,`--${U.close}`]},autoCloseBefore:"\n\r\t }]),.:;=",autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string"]}],surroundingPairs:[{open:'"',close:'"'},{open:"'",close:"'"},{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"}],folding:{markers:{start:new RegExp(`${U.open}#(?:${C.join("|")})([^/${U.close}]*(?!/)${U.close})[^${U.open}]*\$`),end:new RegExp(`${U.open}/#(?:${C.join("|")})[\\r\\n\\t ]*>`)}},onEnterRules:[{beforeText:new RegExp(`${U.open}#(?!(?:${w.join("|")}))([a-zA-Z_]+)([^/${U.close}]*(?!/)${U.close})[^${U.open}]*\$`),afterText:new RegExp(`^${U.open}/#([a-zA-Z_]+)[\\r\\n\\t ]*${U.close}\$`),action:{indentAction:E.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp(`${U.open}#(?!(?:${w.join("|")}))([a-zA-Z_]+)([^/${U.close}]*(?!/)${U.close})[^${U.open}]*\$`),action:{indentAction:E.languages.IndentAction.Indent}}]}}function x(){return{brackets:[["<",">"],["[","]"],["(",")"],["{","}"]],autoCloseBefore:"\n\r\t }]),.:;=",autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string"]}],surroundingPairs:[{open:'"',close:'"'},{open:"'",close:"'"},{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"}],folding:{markers:{start:new RegExp(`[<\\[]#(?:${C.join("|")})([^/>\\]]*(?!/)[>\\]])[^<\\[]*\$`),end:new RegExp(`[<\\[]/#(?:${C.join("|")})[\\r\\n\\t ]*>`)}},onEnterRules:[{beforeText:new RegExp(`[<\\[]#(?!(?:${w.join("|")}))([a-zA-Z_]+)([^/>\\]]*(?!/)[>\\]])[^[<\\[]]*\$`),afterText:new RegExp("^[<\\[]/#([a-zA-Z_]+)[\\r\\n\\t ]*[>\\]]$"),action:{indentAction:E.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp(`[<\\[]#(?!(?:${w.join("|")}))([a-zA-Z_]+)([^/>\\]]*(?!/)[>\\]])[^[<\\[]]*\$`),action:{indentAction:E.languages.IndentAction.Indent}}]}}function k(U,$){const G=`_${U.id}_${$.id}`,ie=(ne)=>ne.replace(/__id__/g,G),ee=(ne)=>{const H=ne.source.replace(/__id__/g,G);return new RegExp(H,ne.flags)};return{unicode:!0,includeLF:!1,start:ie("default__id__"),ignoreCase:!1,defaultToken:"invalid",tokenPostfix:".freemarker2",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],[ie("open__id__")]:new RegExp(U.open),[ie("close__id__")]:new RegExp(U.close),[ie("iOpen1__id__")]:new RegExp($.open1),[ie("iOpen2__id__")]:new RegExp($.open2),[ie("iClose__id__")]:new RegExp($.close),[ie("startTag__id__")]:ee(/(@open__id__)(#)/),[ie("endTag__id__")]:ee(/(@open__id__)(\/#)/),[ie("startOrEndTag__id__")]:ee(/(@open__id__)(\/?#)/),[ie("closeTag1__id__")]:ee(/((?:@blank)*)(@close__id__)/),[ie("closeTag2__id__")]:ee(/((?:@blank)*\/?)(@close__id__)/),blank:/[ \t\n\r]/,keywords:["false","true","in","as","using"],directiveStartCloseTag1:/attempt|recover|sep|auto[eE]sc|no(?:autoe|AutoE)sc|compress|default|no[eE]scape|comment|no[pP]arse/,directiveStartCloseTag2:/else|break|continue|return|stop|flush|t|lt|rt|nt|nested|recurse|fallback|ftl/,directiveStartBlank:/if|else[iI]f|list|for[eE]ach|switch|case|assign|global|local|include|import|function|macro|transform|visit|stop|return|call|setting|output[fF]ormat|nested|recurse|escape|ftl|items/,directiveEndCloseTag1:/if|list|items|sep|recover|attempt|for[eE]ach|local|global|assign|function|macro|output[fF]ormat|auto[eE]sc|no(?:autoe|AutoE)sc|compress|transform|switch|escape|no[eE]scape/,escapedChar:/\\(?:[ntrfbgla\\'"\{=]|(?:x[0-9A-Fa-f]{1,4}))/,asciiDigit:/[0-9]/,integer:/[0-9]+/,nonEscapedIdStartChar:/[\$@-Z_a-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u1FFF\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183-\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3006\u3031-\u3035\u303B-\u303C\u3040-\u318F\u31A0-\u31BA\u31F0-\u31FF\u3300-\u337F\u3400-\u4DB5\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,escapedIdChar:/\\[\-\.:#]/,idStartChar:/(?:@nonEscapedIdStartChar)|(?:@escapedIdChar)/,id:/(?:@idStartChar)(?:(?:@idStartChar)|(?:@asciiDigit))*/,specialHashKeys:/\*\*|\*|false|true|in|as|using/,namedSymbols:/&lt;=|&gt;=|\\lte|\\lt|&lt;|\\gte|\\gt|&gt;|&amp;&amp;|\\and|-&gt;|->|==|!=|\+=|-=|\*=|\/=|%=|\+\+|--|<=|&&|\|\||:|\.\.\.|\.\.\*|\.\.<|\.\.!|\?\?|=|<|\+|-|\*|\/|%|\||\.\.|\?|!|&|\.|,|;/,arrows:["->","-&gt;"],delimiters:[";",":",",","."],stringOperators:["lte","lt","gte","gt"],noParseTags:["noparse","noParse","comment"],tokenizer:{[ie("default__id__")]:[{include:ie("@directive_token__id__")},{include:ie("@interpolation_and_text_token__id__")}],[ie("fmExpression__id__.directive")]:[{include:ie("@blank_and_expression_comment_token__id__")},{include:ie("@directive_end_token__id__")},{include:ie("@expression_token__id__")}],[ie("fmExpression__id__.interpolation")]:[{include:ie("@blank_and_expression_comment_token__id__")},{include:ie("@expression_token__id__")},{include:ie("@greater_operators_token__id__")}],[ie("inParen__id__.plain")]:[{include:ie("@blank_and_expression_comment_token__id__")},{include:ie("@directive_end_token__id__")},{include:ie("@expression_token__id__")}],[ie("inParen__id__.gt")]:[{include:ie("@blank_and_expression_comment_token__id__")},{include:ie("@expression_token__id__")},{include:ie("@greater_operators_token__id__")}],[ie("noSpaceExpression__id__")]:[{include:ie("@no_space_expression_end_token__id__")},{include:ie("@directive_end_token__id__")},{include:ie("@expression_token__id__")}],[ie("unifiedCall__id__")]:[{include:ie("@unified_call_token__id__")}],[ie("singleString__id__")]:[{include:ie("@string_single_token__id__")}],[ie("doubleString__id__")]:[{include:ie("@string_double_token__id__")}],[ie("rawSingleString__id__")]:[{include:ie("@string_single_raw_token__id__")}],[ie("rawDoubleString__id__")]:[{include:ie("@string_double_raw_token__id__")}],[ie("expressionComment__id__")]:[{include:ie("@expression_comment_token__id__")}],[ie("noParse__id__")]:[{include:ie("@no_parse_token__id__")}],[ie("terseComment__id__")]:[{include:ie("@terse_comment_token__id__")}],[ie("directive_token__id__")]:[[ee(/(?:@startTag__id__)(@directiveStartCloseTag1)(?:@closeTag1__id__)/),U.id==="auto"?{cases:{"$1==<":{token:"@rematch",switchTo:`@default_angle_${$.id}`},"$1==[":{token:"@rematch",switchTo:`@default_bracket_${$.id}`}}}:[{token:"@brackets.directive"},{token:"delimiter.directive"},{cases:{"@noParseTags":{token:"tag",next:ie("@noParse__id__.$3")},"@default":{token:"tag"}}},{token:"delimiter.directive"},{token:"@brackets.directive"}]],[ee(/(?:@startTag__id__)(@directiveStartCloseTag2)(?:@closeTag2__id__)/),U.id==="auto"?{cases:{"$1==<":{token:"@rematch",switchTo:`@default_angle_${$.id}`},"$1==[":{token:"@rematch",switchTo:`@default_bracket_${$.id}`}}}:[{token:"@brackets.directive"},{token:"delimiter.directive"},{token:"tag"},{token:"delimiter.directive"},{token:"@brackets.directive"}]],[ee(/(?:@startTag__id__)(@directiveStartBlank)(@blank)/),U.id==="auto"?{cases:{"$1==<":{token:"@rematch",switchTo:`@default_angle_${$.id}`},"$1==[":{token:"@rematch",switchTo:`@default_bracket_${$.id}`}}}:[{token:"@brackets.directive"},{token:"delimiter.directive"},{token:"tag"},{token:"",next:ie("@fmExpression__id__.directive")}]],[ee(/(?:@endTag__id__)(@directiveEndCloseTag1)(?:@closeTag1__id__)/),U.id==="auto"?{cases:{"$1==<":{token:"@rematch",switchTo:`@default_angle_${$.id}`},"$1==[":{token:"@rematch",switchTo:`@default_bracket_${$.id}`}}}:[{token:"@brackets.directive"},{token:"delimiter.directive"},{token:"tag"},{token:"delimiter.directive"},{token:"@brackets.directive"}]],[ee(/(@open__id__)(@)/),U.id==="auto"?{cases:{"$1==<":{token:"@rematch",switchTo:`@default_angle_${$.id}`},"$1==[":{token:"@rematch",switchTo:`@default_bracket_${$.id}`}}}:[{token:"@brackets.directive"},{token:"delimiter.directive",next:ie("@unifiedCall__id__")}]],[ee(/(@open__id__)(\/@)((?:(?:@id)(?:\.(?:@id))*)?)(?:@closeTag1__id__)/),[{token:"@brackets.directive"},{token:"delimiter.directive"},{token:"tag"},{token:"delimiter.directive"},{token:"@brackets.directive"}]],[ee(/(@open__id__)#--/),U.id==="auto"?{cases:{"$1==<":{token:"@rematch",switchTo:`@default_angle_${$.id}`},"$1==[":{token:"@rematch",switchTo:`@default_bracket_${$.id}`}}}:{token:"comment",next:ie("@terseComment__id__")}],[ee(/(?:@startOrEndTag__id__)([a-zA-Z_]+)/),U.id==="auto"?{cases:{"$1==<":{token:"@rematch",switchTo:`@default_angle_${$.id}`},"$1==[":{token:"@rematch",switchTo:`@default_bracket_${$.id}`}}}:[{token:"@brackets.directive"},{token:"delimiter.directive"},{token:"tag.invalid",next:ie("@fmExpression__id__.directive")}]]],[ie("interpolation_and_text_token__id__")]:[[ee(/(@iOpen1__id__)(@iOpen2__id__)/),[{token:$.id==="bracket"?"@brackets.interpolation":"delimiter.interpolation"},{token:$.id==="bracket"?"delimiter.interpolation":"@brackets.interpolation",next:ie("@fmExpression__id__.interpolation")}]],[/[\$#<\[\{]|(?:@blank)+|[^\$<#\[\{\n\r\t ]+/,{token:"source"}]],[ie("string_single_token__id__")]:[[/[^'\\]/,{token:"string"}],[/@escapedChar/,{token:"string.escape"}],[/'/,{token:"string",next:"@pop"}]],[ie("string_double_token__id__")]:[[/[^"\\]/,{token:"string"}],[/@escapedChar/,{token:"string.escape"}],[/"/,{token:"string",next:"@pop"}]],[ie("string_single_raw_token__id__")]:[[/[^']+/,{token:"string.raw"}],[/'/,{token:"string.raw",next:"@pop"}]],[ie("string_double_raw_token__id__")]:[[/[^"]+/,{token:"string.raw"}],[/"/,{token:"string.raw",next:"@pop"}]],[ie("expression_token__id__")]:[[/(r?)(['"])/,{cases:{"r'":[{token:"keyword"},{token:"string.raw",next:ie("@rawSingleString__id__")}],'r"':[{token:"keyword"},{token:"string.raw",next:ie("@rawDoubleString__id__")}],"'":[{token:"source"},{token:"string",next:ie("@singleString__id__")}],'"':[{token:"source"},{token:"string",next:ie("@doubleString__id__")}]}}],[/(?:@integer)(?:\.(?:@integer))?/,{cases:{"(?:@integer)":{token:"number"},"@default":{token:"number.float"}}}],[/(\.)(@blank*)(@specialHashKeys)/,[{token:"delimiter"},{token:""},{token:"identifier"}]],[/(?:@namedSymbols)/,{cases:{"@arrows":{token:"meta.arrow"},"@delimiters":{token:"delimiter"},"@default":{token:"operators"}}}],[/@id/,{cases:{"@keywords":{token:"keyword.$0"},"@stringOperators":{token:"operators"},"@default":{token:"identifier"}}}],[/[\[\]\(\)\{\}]/,{cases:{"\\[":{cases:{"$S2==gt":{token:"@brackets",next:ie("@inParen__id__.gt")},"@default":{token:"@brackets",next:ie("@inParen__id__.plain")}}},"\\]":{cases:{...$.id==="bracket"?{"$S2==interpolation":{token:"@brackets.interpolation",next:"@popall"}}:{},...U.id==="bracket"?{"$S2==directive":{token:"@brackets.directive",next:"@popall"}}:{},[ie("$S1==inParen__id__")]:{token:"@brackets",next:"@pop"},"@default":{token:"@brackets"}}},"\\(":{token:"@brackets",next:ie("@inParen__id__.gt")},"\\)":{cases:{[ie("$S1==inParen__id__")]:{token:"@brackets",next:"@pop"},"@default":{token:"@brackets"}}},"\\{":{cases:{"$S2==gt":{token:"@brackets",next:ie("@inParen__id__.gt")},"@default":{token:"@brackets",next:ie("@inParen__id__.plain")}}},"\\}":{cases:{...$.id==="bracket"?{}:{"$S2==interpolation":{token:"@brackets.interpolation",next:"@popall"}},[ie("$S1==inParen__id__")]:{token:"@brackets",next:"@pop"},"@default":{token:"@brackets"}}}}}],[/\$\{/,{token:"delimiter.invalid"}]],[ie("blank_and_expression_comment_token__id__")]:[[/(?:@blank)+/,{token:""}],[/[<\[][#!]--/,{token:"comment",next:ie("@expressionComment__id__")}]],[ie("directive_end_token__id__")]:[[/>/,U.id==="bracket"?{token:"operators"}:{token:"@brackets.directive",next:"@popall"}],[ee(/(\/)(@close__id__)/),[{token:"delimiter.directive"},{token:"@brackets.directive",next:"@popall"}]]],[ie("greater_operators_token__id__")]:[[/>/,{token:"operators"}],[/>=/,{token:"operators"}]],[ie("no_space_expression_end_token__id__")]:[[/(?:@blank)+/,{token:"",switchTo:ie("@fmExpression__id__.directive")}]],[ie("unified_call_token__id__")]:[[/(@id)((?:@blank)+)/,[{token:"tag"},{token:"",next:ie("@fmExpression__id__.directive")}]],[ee(/(@id)(\/?)(@close__id__)/),[{token:"tag"},{token:"delimiter.directive"},{token:"@brackets.directive",next:"@popall"}]],[/./,{token:"@rematch",next:ie("@noSpaceExpression__id__")}]],[ie("no_parse_token__id__")]:[[ee(/(@open__id__)(\/#?)([a-zA-Z]+)((?:@blank)*)(@close__id__)/),{cases:{"$S2==$3":[{token:"@brackets.directive"},{token:"delimiter.directive"},{token:"tag"},{token:""},{token:"@brackets.directive",next:"@popall"}],"$S2==comment":[{token:"comment"},{token:"comment"},{token:"comment"},{token:"comment"},{token:"comment"}],"@default":[{token:"source"},{token:"source"},{token:"source"},{token:"source"},{token:"source"}]}}],[/[^<\[\-]+|[<\[\-]/,{cases:{"$S2==comment":{token:"comment"},"@default":{token:"source"}}}]],[ie("expression_comment_token__id__")]:[[/--[>\]]/,{token:"comment",next:"@pop"}],[/[^\->\]]+|[>\]\-]/,{token:"comment"}]],[ie("terse_comment_token__id__")]:[[ee(/--(?:@close__id__)/),{token:"comment",next:"@popall"}],[/[^<\[\-]+|[<\[\-]/,{token:"comment"}]]}}}function R(U){const $=k(d,U),G=k(f,U),ie=k(p,U);return{...$,...G,...ie,unicode:!0,includeLF:!1,start:`default_auto_${U.id}`,ignoreCase:!1,defaultToken:"invalid",tokenPostfix:".freemarker2",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{...$.tokenizer,...G.tokenizer,...ie.tokenizer}}}var P={conf:b(d),language:k(d,_)},z={conf:b(f),language:k(f,_)},te={conf:b(d),language:k(d,m)},L={conf:b(f),language:k(f,m)},W={conf:x(),language:R(_)},B={conf:x(),language:R(m)}},2244:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["(*","*)"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*//\\s*#region\\b|^\\s*\\(\\*\\s*#region(.*)\\*\\)"),end:new RegExp("^\\s*//\\s*#endregion\\b|^\\s*\\(\\*\\s*#endregion\\s*\\*\\)")}}},I={defaultToken:"",tokenPostfix:".fs",keywords:["abstract","and","atomic","as","assert","asr","base","begin","break","checked","component","const","constraint","constructor","continue","class","default","delegate","do","done","downcast","downto","elif","else","end","exception","eager","event","external","extern","false","finally","for","fun","function","fixed","functor","global","if","in","include","inherit","inline","interface","internal","land","lor","lsl","lsr","lxor","lazy","let","match","member","mod","module","mutable","namespace","method","mixin","new","not","null","of","open","or","object","override","private","parallel","process","protected","pure","public","rec","return","static","sealed","struct","sig","then","to","true","tailcall","trait","try","type","upcast","use","val","void","virtual","volatile","when","while","with","yield"],symbols:/[=><!~?:&|+\-*\^%;\.,\/]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,integersuffix:/[uU]?[yslnLI]?/,floatsuffix:/[fFmM]?/,tokenizer:{root:[[/[a-zA-Z_]\w*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/\[<.*>\]/,"annotation"],[/^#(if|else|endif)/,"keyword"],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,"delimiter"],[/\d*\d+[eE]([\-+]?\d+)?(@floatsuffix)/,"number.float"],[/\d*\.\d+([eE][\-+]?\d+)?(@floatsuffix)/,"number.float"],[/0x[0-9a-fA-F]+LF/,"number.float"],[/0x[0-9a-fA-F]+(@integersuffix)/,"number.hex"],[/0b[0-1]+(@integersuffix)/,"number.bin"],[/\d+(@integersuffix)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"""/,"string",'@string."""'],[/"/,"string",'@string."'],[/\@"/,{token:"string.quote",next:"@litstring"}],[/'[^\\']'B?/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\(\*(?!\))/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^*(]+/,"comment"],[/\*\)/,"comment","@pop"],[/\*/,"comment"],[/\(\*\)/,"comment"],[/\(/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/("""|"B?)/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}]],litstring:[[/[^"]+/,"string"],[/""/,"string.escape"],[/"/,{token:"string.quote",next:"@pop"}]]}}},5364:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"`",close:"`",notIn:["string"]},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"`",close:"`"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={defaultToken:"",tokenPostfix:".go",keywords:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var","bool","true","false","uint8","uint16","uint32","uint64","int8","int16","int32","int64","float32","float64","complex64","complex128","byte","rune","uint","int","uintptr","string","nil"],operators:["+","-","*","/","%","&","|","^","<<",">>","&^","+=","-=","*=","/=","%=","&=","|=","^=","<<=",">>=","&^=","&&","||","<-","++","--","==","<",">","=","!","!=","<=",">=",":=","...","(",")","","]","{","}",",",";",".",":"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z_]\w*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/\[\[.*\]\]/,"annotation"],[/^\s*#\w+/,"keyword"],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\d+[eE]([\-+]?\d+)?/,"number.float"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F']*[0-9a-fA-F]/,"number.hex"],[/0[0-7']*[0-7]/,"number.octal"],[/0[bB][0-1']*[0-1]/,"number.binary"],[/\d[\d']*/,"number"],[/\d/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/`/,"string","@rawstring"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@doccomment"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],doccomment:[[/[^\/*]+/,"comment.doc"],[/\/\*/,"comment.doc.invalid"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],rawstring:[[/[^\`]/,"string"],[/`/,"string","@pop"]]}}},8902:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"""',close:'"""',notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"""',close:'"""'},{open:'"',close:'"'}],folding:{offSide:!0}},I={defaultToken:"invalid",tokenPostfix:".gql",keywords:["null","true","false","query","mutation","subscription","extend","schema","directive","scalar","type","interface","union","enum","input","implements","fragment","on"],typeKeywords:["Int","Float","String","Boolean","ID"],directiveLocations:["SCHEMA","SCALAR","OBJECT","FIELD_DEFINITION","ARGUMENT_DEFINITION","INTERFACE","UNION","ENUM","ENUM_VALUE","INPUT_OBJECT","INPUT_FIELD_DEFINITION","QUERY","MUTATION","SUBSCRIPTION","FIELD","FRAGMENT_DEFINITION","FRAGMENT_SPREAD","INLINE_FRAGMENT","VARIABLE_DEFINITION"],operators:["=","!","?",":","&","|"],symbols:/[=!?:&|]+/,escapes:/\\(?:["\\\/bfnrt]|u[0-9A-Fa-f]{4})/,tokenizer:{root:[[/[a-z_][\w$]*/,{cases:{"@keywords":"keyword","@default":"key.identifier"}}],[/[$][\w$]*/,{cases:{"@keywords":"keyword","@default":"argument.identifier"}}],[/[A-Z][\w\$]*/,{cases:{"@typeKeywords":"keyword","@default":"type.identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/@\s*[a-zA-Z_\$][\w\$]*/,{token:"annotation",log:"annotation token: $0"}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"""/,{token:"string",next:"@mlstring",nextEmbedded:"markdown"}],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],mlstring:[[/[^"]+/,"string"],['"""',{token:"string",next:"@pop",nextEmbedded:"@pop"}]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,""],[/#.*$/,"comment"]]}}},7836:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>C,language:()=>d});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(f,p,_,m)=>{if(p&&typeof p=="object"||typeof p=="function")for(let b of J(p))M.call(f,b)||b===_||I(f,b,{get:()=>p[b],enumerable:!(m=T(p,b))||m.enumerable});return f},E={};v(E,s,"default");var w=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],C={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,comments:{blockComment:["{{!--","--}}"]},brackets:[["<!--","-->"],["<",">"],["{{","}}"],["{","}"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:new RegExp(`<(?!(?:${w.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*\$`,"i"),afterText:/^<\/(\w[\w\d]*)\s*>$/i,action:{indentAction:E.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${w.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*\$`,"i"),action:{indentAction:E.languages.IndentAction.Indent}}]},d={defaultToken:"",tokenPostfix:"",tokenizer:{root:[[/\{\{!--/,"comment.block.start.handlebars","@commentBlock"],[/\{\{!/,"comment.start.handlebars","@comment"],[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.root"}],[/<!DOCTYPE/,"metatag.html","@doctype"],[/<!--/,"comment.html","@commentHtml"],[/(<)(\w+)(\/>)/,["delimiter.html","tag.html","delimiter.html"]],[/(<)(script)/,["delimiter.html",{token:"tag.html",next:"@script"}]],[/(<)(style)/,["delimiter.html",{token:"tag.html",next:"@style"}]],[/(<)([:\w]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/(<\/)(\w+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/</,"delimiter.html"],[/\{/,"delimiter.html"],[/[^<{]+/]],doctype:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.comment"}],[/[^>]+/,"metatag.content.html"],[/>/,"metatag.html","@pop"]],comment:[[/\}\}/,"comment.end.handlebars","@pop"],[/./,"comment.content.handlebars"]],commentBlock:[[/--\}\}/,"comment.block.end.handlebars","@pop"],[/./,"comment.content.handlebars"]],commentHtml:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.comment"}],[/-->/,"comment.html","@pop"],[/[^-]+/,"comment.content.html"],[/./,"comment.content.html"]],otherTag:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.otherTag"}],[/\/?>/,"delimiter.html","@pop"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/]],script:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.script"}],[/type/,"attribute.name","@scriptAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/(<\/)(script\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],scriptAfterType:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.scriptAfterType"}],[/=/,"delimiter","@scriptAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptAfterTypeEquals:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.scriptAfterTypeEquals"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptWithCustomType:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.scriptWithCustomType.$S2"}],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptEmbedded:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInEmbeddedState.scriptEmbedded.$S2",nextEmbedded:"@pop"}],[/<\/script/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],style:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.style"}],[/type/,"attribute.name","@styleAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/(<\/)(style\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],styleAfterType:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.styleAfterType"}],[/=/,"delimiter","@styleAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleAfterTypeEquals:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.styleAfterTypeEquals"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleWithCustomType:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInSimpleState.styleWithCustomType.$S2"}],[/>/,{token:"delimiter.html",next:"@styleEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleEmbedded:[[/\{\{/,{token:"@rematch",switchTo:"@handlebarsInEmbeddedState.styleEmbedded.$S2",nextEmbedded:"@pop"}],[/<\/style/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],handlebarsInSimpleState:[[/\{\{\{?/,"delimiter.handlebars"],[/\}\}\}?/,{token:"delimiter.handlebars",switchTo:"@$S2.$S3"}],{include:"handlebarsRoot"}],handlebarsInEmbeddedState:[[/\{\{\{?/,"delimiter.handlebars"],[/\}\}\}?/,{token:"delimiter.handlebars",switchTo:"@$S2.$S3",nextEmbedded:"$S3"}],{include:"handlebarsRoot"}],handlebarsRoot:[[/"[^"]*"/,"string.handlebars"],[/[#/][^\s}]+/,"keyword.helper.handlebars"],[/else\b/,"keyword.helper.handlebars"],[/[\s]+/],[/[^}]/,"variable.parameter.handlebars"]]}}},9838:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"#",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}]},I={defaultToken:"",tokenPostfix:".hcl",keywords:["var","local","path","for_each","any","string","number","bool","true","false","null","if ","else ","endif ","for ","in","endfor"],operators:["=",">=","<=","==","!=","+","-","*","/","%","&&","||","!","<",">","?","...",":"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,terraformFunctions:/(abs|ceil|floor|log|max|min|pow|signum|chomp|format|formatlist|indent|join|lower|regex|regexall|replace|split|strrev|substr|title|trimspace|upper|chunklist|coalesce|coalescelist|compact|concat|contains|distinct|element|flatten|index|keys|length|list|lookup|map|matchkeys|merge|range|reverse|setintersection|setproduct|setunion|slice|sort|transpose|values|zipmap|base64decode|base64encode|base64gzip|csvdecode|jsondecode|jsonencode|urlencode|yamldecode|yamlencode|abspath|dirname|pathexpand|basename|file|fileexists|fileset|filebase64|templatefile|formatdate|timeadd|timestamp|base64sha256|base64sha512|bcrypt|filebase64sha256|filebase64sha512|filemd5|filemd1|filesha256|filesha512|md5|rsadecrypt|sha1|sha256|sha512|uuid|uuidv5|cidrhost|cidrnetmask|cidrsubnet|tobool|tolist|tomap|tonumber|toset|tostring)/,terraformMainBlocks:/(module|data|terraform|resource|provider|variable|output|locals)/,tokenizer:{root:[[/^@terraformMainBlocks([ \t]*)([\w-]+|"[\w-]+"|)([ \t]*)([\w-]+|"[\w-]+"|)([ \t]*)(\{)/,["type","","string","","string","","@brackets"]],[/(\w+[ \t]+)([ \t]*)([\w-]+|"[\w-]+"|)([ \t]*)([\w-]+|"[\w-]+"|)([ \t]*)(\{)/,["identifier","","string","","string","","@brackets"]],[/(\w+[ \t]+)([ \t]*)([\w-]+|"[\w-]+"|)([ \t]*)([\w-]+|"[\w-]+"|)(=)(\{)/,["identifier","","string","","operator","","@brackets"]],{include:"@terraform"}],terraform:[[/@terraformFunctions(\()/,["type","@brackets"]],[/[a-zA-Z_]\w*-*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"variable"}}],{include:"@whitespace"},{include:"@heredoc"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\d+[eE]([\-+]?\d+)?/,"number.float"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/\d[\d']*/,"number"],[/\d/,"number"],[/[;,.]/,"delimiter"],[/"/,"string","@string"],[/'/,"invalid"]],heredoc:[[/<<[-]*\s*["]?([\w\-]+)["]?/,{token:"string.heredoc.delimiter",next:"@heredocBody.$1"}]],heredocBody:[[/([\w\-]+)$/,{cases:{"$1==$S2":[{token:"string.heredoc.delimiter",next:"@popall"}],"@default":"string.heredoc"}}],[/./,"string.heredoc"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],[/#.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],string:[[/\$\{/,{token:"delimiter",next:"@stringExpression"}],[/[^\\"\$]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@popall"]],stringInsideExpression:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],stringExpression:[[/\}/,{token:"delimiter",next:"@pop"}],[/"/,"string","@stringInsideExpression"],{include:"@terraform"}]}}},2658:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>C,language:()=>d});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(f,p,_,m)=>{if(p&&typeof p=="object"||typeof p=="function")for(let b of J(p))M.call(f,b)||b===_||I(f,b,{get:()=>p[b],enumerable:!(m=T(p,b))||m.enumerable});return f},E={};v(E,s,"default");var w=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],C={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,comments:{blockComment:["<!--","-->"]},brackets:[["<!--","-->"],["<",">"],["{","}"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:'"',close:'"'},{open:"'",close:"'"},{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"}],onEnterRules:[{beforeText:new RegExp(`<(?!(?:${w.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*\$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>$/i,action:{indentAction:E.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${w.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*\$`,"i"),action:{indentAction:E.languages.IndentAction.Indent}}],folding:{markers:{start:new RegExp("^\\s*<!--\\s*#region\\b.*-->"),end:new RegExp("^\\s*<!--\\s*#endregion\\b.*-->")}}},d={defaultToken:"",tokenPostfix:".html",ignoreCase:!0,tokenizer:{root:[[/<!DOCTYPE/,"metatag","@doctype"],[/<!--/,"comment","@comment"],[/(<)((?:[\w\-]+:)?[\w\-]+)(\s*)(\/>)/,["delimiter","tag","","delimiter"]],[/(<)(script)/,["delimiter",{token:"tag",next:"@script"}]],[/(<)(style)/,["delimiter",{token:"tag",next:"@style"}]],[/(<)((?:[\w\-]+:)?[\w\-]+)/,["delimiter",{token:"tag",next:"@otherTag"}]],[/(<\/)((?:[\w\-]+:)?[\w\-]+)/,["delimiter",{token:"tag",next:"@otherTag"}]],[/</,"delimiter"],[/[^<]+/]],doctype:[[/[^>]+/,"metatag.content"],[/>/,"metatag","@pop"]],comment:[[/-->/,"comment","@pop"],[/[^-]+/,"comment.content"],[/./,"comment.content"]],otherTag:[[/\/?>/,"delimiter","@pop"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/]],script:[[/type/,"attribute.name","@scriptAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/(<\/)(script\s*)(>)/,["delimiter","tag",{token:"delimiter",next:"@pop"}]]],scriptAfterType:[[/=/,"delimiter","@scriptAfterTypeEquals"],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptAfterTypeEquals:[[/"module"/,{token:"attribute.value",switchTo:"@scriptWithCustomType.text/javascript"}],[/'module'/,{token:"attribute.value",switchTo:"@scriptWithCustomType.text/javascript"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptWithCustomType:[[/>/,{token:"delimiter",next:"@scriptEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptEmbedded:[[/<\/script/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/[^<]+/,""]],style:[[/type/,"attribute.name","@styleAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/(<\/)(style\s*)(>)/,["delimiter","tag",{token:"delimiter",next:"@pop"}]]],styleAfterType:[[/=/,"delimiter","@styleAfterTypeEquals"],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleAfterTypeEquals:[[/"([^"]*)"/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleWithCustomType:[[/>/,{token:"delimiter",next:"@styleEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleEmbedded:[[/<\/style/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/[^<]+/,""]]}}},8542:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={defaultToken:"",tokenPostfix:".ini",escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/^\[[^\]]*\]/,"metatag"],[/(^\w+)(\s*)(\=)/,["key","","delimiter"]],{include:"@whitespace"},[/\d+/,"number"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string",'@string."'],[/'/,"string","@string.'"]],whitespace:[[/[ \t\r\n]+/,""],[/^\s*[#;].*$/,"comment"]],string:[[/[^\\"']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}]]}}},7200:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}],folding:{markers:{start:new RegExp("^\\s*//\\s*(?:(?:#?region\\b)|(?:<editor-fold\\b))"),end:new RegExp("^\\s*//\\s*(?:(?:#?endregion\\b)|(?:</editor-fold>))")}}},I={defaultToken:"",tokenPostfix:".java",keywords:["abstract","continue","for","new","switch","assert","default","goto","package","synchronized","boolean","do","if","private","this","break","double","implements","protected","throw","byte","else","import","public","throws","case","enum","instanceof","return","transient","catch","extends","int","short","try","char","final","interface","static","void","class","finally","long","strictfp","volatile","const","float","native","super","while","true","false","yield","record","sealed","non-sealed","permits"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,tokenizer:{root:[["non-sealed","keyword.non-sealed"],[/[a-zA-Z_$][\w$]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/@\s*[a-zA-Z_\$][\w\$]*/,"annotation"],[/(@digits)[eE]([\-+]?(@digits))?[fFdD]?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?[fFdD]?/,"number.float"],[/0[xX](@hexdigits)[Ll]?/,"number.hex"],[/0(@octaldigits)[Ll]?/,"number.octal"],[/0[bB](@binarydigits)[Ll]?/,"number.binary"],[/(@digits)[fFdD]/,"number.float"],[/(@digits)[lL]?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"""/,"string","@multistring"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@javadoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],javadoc:[[/[^\/*]+/,"comment.doc"],[/\/\*/,"comment.doc.invalid"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],multistring:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"""/,"string","@pop"],[/./,"string"]]}}},5550:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>I,language:()=>T});var s=h(6830),I=s.conf,T={defaultToken:"invalid",tokenPostfix:".js",keywords:["break","case","catch","class","continue","const","constructor","debugger","default","delete","do","else","export","extends","false","finally","for","from","function","get","if","import","in","instanceof","let","new","null","return","set","static","super","switch","symbol","this","throw","true","try","typeof","undefined","var","void","while","with","yield","async","await","of"],typeKeywords:[],operators:s.language.operators,symbols:s.language.symbols,escapes:s.language.escapes,digits:s.language.digits,octaldigits:s.language.octaldigits,binarydigits:s.language.binarydigits,hexdigits:s.language.hexdigits,regexpctl:s.language.regexpctl,regexpesc:s.language.regexpesc,tokenizer:s.language.tokenizer}},2962:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={tokenPostfix:".julia",keywords:["begin","while","if","for","try","return","break","continue","function","macro","quote","let","local","global","const","do","struct","module","baremodule","using","import","export","end","else","elseif","catch","finally","mutable","primitive","abstract","type","in","isa","where","new"],types:["LinRange","LineNumberNode","LinearIndices","LoadError","MIME","Matrix","Method","MethodError","Missing","MissingException","Module","NTuple","NamedTuple","Nothing","Number","OrdinalRange","OutOfMemoryError","OverflowError","Pair","PartialQuickSort","PermutedDimsArray","Pipe","Ptr","QuoteNode","Rational","RawFD","ReadOnlyMemoryError","Real","ReentrantLock","Ref","Regex","RegexMatch","RoundingMode","SegmentationFault","Set","Signed","Some","StackOverflowError","StepRange","StepRangeLen","StridedArray","StridedMatrix","StridedVecOrMat","StridedVector","String","StringIndexError","SubArray","SubString","SubstitutionString","Symbol","SystemError","Task","Text","TextDisplay","Timer","Tuple","Type","TypeError","TypeVar","UInt","UInt128","UInt16","UInt32","UInt64","UInt8","UndefInitializer","AbstractArray","UndefKeywordError","AbstractChannel","UndefRefError","AbstractChar","UndefVarError","AbstractDict","Union","AbstractDisplay","UnionAll","AbstractFloat","UnitRange","AbstractIrrational","Unsigned","AbstractMatrix","AbstractRange","Val","AbstractSet","Vararg","AbstractString","VecElement","AbstractUnitRange","VecOrMat","AbstractVecOrMat","Vector","AbstractVector","VersionNumber","Any","WeakKeyDict","ArgumentError","WeakRef","Array","AssertionError","BigFloat","BigInt","BitArray","BitMatrix","BitSet","BitVector","Bool","BoundsError","CapturedException","CartesianIndex","CartesianIndices","Cchar","Cdouble","Cfloat","Channel","Char","Cint","Cintmax_t","Clong","Clonglong","Cmd","Colon","Complex","ComplexF16","ComplexF32","ComplexF64","CompositeException","Condition","Cptrdiff_t","Cshort","Csize_t","Cssize_t","Cstring","Cuchar","Cuint","Cuintmax_t","Culong","Culonglong","Cushort","Cvoid","Cwchar_t","Cwstring","DataType","DenseArray","DenseMatrix","DenseVecOrMat","DenseVector","Dict","DimensionMismatch","Dims","DivideError","DomainError","EOFError","Enum","ErrorException","Exception","ExponentialBackOff","Expr","Float16","Float32","Float64","Function","GlobalRef","HTML","IO","IOBuffer","IOContext","IOStream","IdDict","IndexCartesian","IndexLinear","IndexStyle","InexactError","InitError","Int","Int128","Int16","Int32","Int64","Int8","Integer","InterruptException","InvalidStateException","Irrational","KeyError"],keywordops:["<:",">:",":","=>","...",".","->","?"],allops:/[^\w\d\s()\[\]{}"'#]+/,constants:["true","false","nothing","missing","undef","Inf","pi","NaN","\u03C0","\u212F","ans","PROGRAM_FILE","ARGS","C_NULL","VERSION","DEPOT_PATH","LOAD_PATH"],operators:["!","!=","!==","%","&","*","+","-","/","//","<","<<","<=","==","===","=>",">",">=",">>",">>>","\\","^","|","|>","~","\xF7","\u2208","\u2209","\u220B","\u220C","\u2218","\u221A","\u221B","\u2229","\u222A","\u2248","\u2249","\u2260","\u2261","\u2262","\u2264","\u2265","\u2286","\u2287","\u2288","\u2289","\u228A","\u228B","\u22BB"],brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],ident:/||\b(?!\d)\w+\b/,escape:/(?:[abefnrstv\\"'\n\r]|[0-7]{1,3}|x[0-9A-Fa-f]{1,2}|u[0-9A-Fa-f]{4})/,escapes:/\\(?:C\-(@escape|.)|c(@escape|.)|@escape)/,tokenizer:{root:[[/(::)\s*|\b(isa)\s+/,"keyword","@typeanno"],[/\b(isa)(\s*\(@ident\s*,\s*)/,["keyword",{token:"",next:"@typeanno"}]],[/\b(type|struct)[ \t]+/,"keyword","@typeanno"],[/^\s*:@ident[!?]?/,"metatag"],[/(return)(\s*:@ident[!?]?)/,["keyword","metatag"]],[/(\(|\[|\{|@allops)(\s*:@ident[!?]?)/,["","metatag"]],[/:\(/,"metatag","@quote"],[/r"""/,"regexp.delim","@tregexp"],[/r"/,"regexp.delim","@sregexp"],[/raw"""/,"string.delim","@rtstring"],[/[bv]?"""/,"string.delim","@dtstring"],[/raw"/,"string.delim","@rsstring"],[/[bv]?"/,"string.delim","@dsstring"],[/(@ident)\{/,{cases:{"$1@types":{token:"type",next:"@gen"},"@default":{token:"type",next:"@gen"}}}],[/@ident[!?'']?(?=\.?\()/,{cases:{"@types":"type","@keywords":"keyword","@constants":"variable","@default":"keyword.flow"}}],[/@ident[!?']?/,{cases:{"@types":"type","@keywords":"keyword","@constants":"variable","@default":"identifier"}}],[/\$\w+/,"key"],[/\$\(/,"key","@paste"],[/@@@ident/,"annotation"],{include:"@whitespace"},[/'(?:@escapes|.)'/,"string.character"],[/[()\[\]{}]/,"@brackets"],[/@allops/,{cases:{"@keywordops":"keyword","@operators":"operator"}}],[/[;,]/,"delimiter"],[/0[xX][0-9a-fA-F](_?[0-9a-fA-F])*/,"number.hex"],[/0[_oO][0-7](_?[0-7])*/,"number.octal"],[/0[bB][01](_?[01])*/,"number.binary"],[/[+\-]?\d+(\.\d+)?(im?|[eE][+\-]?\d+(\.\d+)?)?/,"number"]],typeanno:[[/[a-zA-Z_]\w*(?:\.[a-zA-Z_]\w*)*\{/,"type","@gen"],[/([a-zA-Z_]\w*(?:\.[a-zA-Z_]\w*)*)(\s*<:\s*)/,["type","keyword"]],[/[a-zA-Z_]\w*(?:\.[a-zA-Z_]\w*)*/,"type","@pop"],["","","@pop"]],gen:[[/[a-zA-Z_]\w*(?:\.[a-zA-Z_]\w*)*\{/,"type","@push"],[/[a-zA-Z_]\w*(?:\.[a-zA-Z_]\w*)*/,"type"],[/<:/,"keyword"],[/(\})(\s*<:\s*)/,["type",{token:"keyword",next:"@pop"}]],[/\}/,"type","@pop"],{include:"@root"}],quote:[[/\$\(/,"key","@paste"],[/\(/,"@brackets","@paren"],[/\)/,"metatag","@pop"],{include:"@root"}],paste:[[/:\(/,"metatag","@quote"],[/\(/,"@brackets","@paren"],[/\)/,"key","@pop"],{include:"@root"}],paren:[[/\$\(/,"key","@paste"],[/:\(/,"metatag","@quote"],[/\(/,"@brackets","@push"],[/\)/,"@brackets","@pop"],{include:"@root"}],sregexp:[[/^.*/,"invalid"],[/[^\\"()\[\]{}]/,"regexp"],[/[()\[\]{}]/,"@brackets"],[/\\./,"operator.scss"],[/"[imsx]*/,"regexp.delim","@pop"]],tregexp:[[/[^\\"()\[\]{}]/,"regexp"],[/[()\[\]{}]/,"@brackets"],[/\\./,"operator.scss"],[/"(?!"")/,"string"],[/"""[imsx]*/,"regexp.delim","@pop"]],rsstring:[[/^.*/,"invalid"],[/[^\\"]/,"string"],[/\\./,"string.escape"],[/"/,"string.delim","@pop"]],rtstring:[[/[^\\"]/,"string"],[/\\./,"string.escape"],[/"(?!"")/,"string"],[/"""/,"string.delim","@pop"]],dsstring:[[/^.*/,"invalid"],[/[^\\"\$]/,"string"],[/\$/,"","@interpolated"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string.delim","@pop"]],dtstring:[[/[^\\"\$]/,"string"],[/\$/,"","@interpolated"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"(?!"")/,"string"],[/"""/,"string.delim","@pop"]],interpolated:[[/\(/,{token:"",switchTo:"@interpolated_compound"}],[/[a-zA-Z_]\w*/,"identifier"],["","","@pop"]],interpolated_compound:[[/\)/,"","@pop"],{include:"@root"}],whitespace:[[/[ \t\r\n]+/,""],[/#=/,"comment","@multi_comment"],[/#.*$/,"comment"]],multi_comment:[[/#=/,"comment","@push"],[/=#/,"comment","@pop"],[/=(?!#)|#(?!=)/,"comment"],[/[^#=]+/,"comment"]]}}},6185:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}],folding:{markers:{start:new RegExp("^\\s*//\\s*(?:(?:#?region\\b)|(?:<editor-fold\\b))"),end:new RegExp("^\\s*//\\s*(?:(?:#?endregion\\b)|(?:</editor-fold>))")}}},I={defaultToken:"",tokenPostfix:".kt",keywords:["as","as?","break","class","continue","do","else","false","for","fun","if","in","!in","interface","is","!is","null","object","package","return","super","this","throw","true","try","typealias","val","var","when","while","by","catch","constructor","delegate","dynamic","field","file","finally","get","import","init","param","property","receiver","set","setparam","where","actual","abstract","annotation","companion","const","crossinline","data","enum","expect","external","final","infix","inline","inner","internal","lateinit","noinline","open","operator","out","override","private","protected","public","reified","sealed","suspend","tailrec","vararg","field","it"],operators:["+","-","*","/","%","=","+=","-=","*=","/=","%=","++","--","&&","||","!","==","!=","===","!==",">","<","<=",">=","[","]","!!","?.","?:","::","..",":","?","->","@",";","$","_"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,tokenizer:{root:[[/[A-Z][\w\$]*/,"type.identifier"],[/[a-zA-Z_$][\w$]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/@\s*[a-zA-Z_\$][\w\$]*/,"annotation"],[/(@digits)[eE]([\-+]?(@digits))?[fFdD]?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?[fFdD]?/,"number.float"],[/0[xX](@hexdigits)[Ll]?/,"number.hex"],[/0(@octaldigits)[Ll]?/,"number.octal"],[/0[bB](@binarydigits)[Ll]?/,"number.binary"],[/(@digits)[fFdD]/,"number.float"],[/(@digits)[lL]?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"""/,"string","@multistring"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@javadoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],javadoc:[[/[^\/*]+/,"comment.doc"],[/\/\*/,"comment.doc","@push"],[/\/\*/,"comment.doc.invalid"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],multistring:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"""/,"string","@pop"],[/./,"string"]]}}},1122:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(#?-?\d*\.\d\w*%?)|([@#!.:]?[\w-?]+%?)|[@#!.]/g,comments:{blockComment:["/*","*/"],lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*\\/\\*\\s*#region\\b\\s*(.*?)\\s*\\*\\/"),end:new RegExp("^\\s*\\/\\*\\s*#endregion\\b.*\\*\\/")}}},I={defaultToken:"",tokenPostfix:".less",identifier:"-?-?([a-zA-Z]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",identifierPlus:"-?-?([a-zA-Z:.]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-:.]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{root:[{include:"@nestedJSBegin"},["[ \\t\\r\\n]+",""],{include:"@comments"},{include:"@keyword"},{include:"@strings"},{include:"@numbers"},["[*_]?[a-zA-Z\\-\\s]+(?=:.*(;|(\\\\$)))","attribute.name","@attribute"],["url(\\-prefix)?\\(",{token:"tag",next:"@urldeclaration"}],["[{}()\\[\\]]","@brackets"],["[,:;]","delimiter"],["#@identifierPlus","tag.id"],["&","tag"],["\\.@identifierPlus(?=\\()","tag.class","@attribute"],["\\.@identifierPlus","tag.class"],["@identifierPlus","tag"],{include:"@operators"},["@(@identifier(?=[:,\\)]))","variable","@attribute"],["@(@identifier)","variable"],["@","key","@atRules"]],nestedJSBegin:[["``","delimiter.backtick"],["`",{token:"delimiter.backtick",next:"@nestedJSEnd",nextEmbedded:"text/javascript"}]],nestedJSEnd:[["`",{token:"delimiter.backtick",next:"@pop",nextEmbedded:"@pop"}]],operators:[["[<>=\\+\\-\\*\\/\\^\\|\\~]","operator"]],keyword:[["(@[\\s]*import|![\\s]*important|true|false|when|iscolor|isnumber|isstring|iskeyword|isurl|ispixel|ispercentage|isem|hue|saturation|lightness|alpha|lighten|darken|saturate|desaturate|fadein|fadeout|fade|spin|mix|round|ceil|floor|percentage)\\b","keyword"]],urldeclaration:[{include:"@strings"},["[^)\r\n]+","string"],["\\)",{token:"tag",next:"@pop"}]],attribute:[{include:"@nestedJSBegin"},{include:"@comments"},{include:"@strings"},{include:"@numbers"},{include:"@keyword"},["[a-zA-Z\\-]+(?=\\()","attribute.value","@attribute"],[">","operator","@pop"],["@identifier","attribute.value"],{include:"@operators"},["@(@identifier)","variable"],["[)\\}]","@brackets","@pop"],["[{}()\\[\\]>]","@brackets"],["[;]","delimiter","@pop"],["[,=:]","delimiter"],["\\s",""],[".","attribute.value"]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[".","comment"]],numbers:[["(\\d*\\.)?\\d+([eE][\\-+]?\\d+)?",{token:"attribute.value.number",next:"@units"}],["#[0-9a-fA-F_]+(?!\\w)","attribute.value.hex"]],units:[["(em|ex|ch|rem|fr|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?","attribute.value.unit","@pop"]],strings:[['~?"',{token:"string.delimiter",next:"@stringsEndDoubleQuote"}],["~?'",{token:"string.delimiter",next:"@stringsEndQuote"}]],stringsEndDoubleQuote:[['\\\\"',"string"],['"',{token:"string.delimiter",next:"@popall"}],[".","string"]],stringsEndQuote:[["\\\\'","string"],["'",{token:"string.delimiter",next:"@popall"}],[".","string"]],atRules:[{include:"@comments"},{include:"@strings"},["[()]","delimiter"],["[\\{;]","delimiter","@pop"],[".","key"]]}}},5130:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"COMMENT"},brackets:[["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:":",close:"."}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"`",close:"`"},{open:'"',close:'"'},{open:"'",close:"'"},{open:":",close:"."}],folding:{markers:{start:new RegExp("^\\s*(::\\s*|COMMENT\\s+)#region"),end:new RegExp("^\\s*(::\\s*|COMMENT\\s+)#endregion")}}},I={tokenPostfix:".lexon",ignoreCase:!0,keywords:["lexon","lex","clause","terms","contracts","may","pay","pays","appoints","into","to"],typeKeywords:["amount","person","key","time","date","asset","text"],operators:["less","greater","equal","le","gt","or","and","add","added","subtract","subtracted","multiply","multiplied","times","divide","divided","is","be","certified"],symbols:/[=><!~?:&|+\-*\/\^%]+/,tokenizer:{root:[[/^(\s*)(comment:?(?:\s.*|))$/,["","comment"]],[/"/,{token:"identifier.quote",bracket:"@open",next:"@quoted_identifier"}],["LEX$",{token:"keyword",bracket:"@open",next:"@identifier_until_period"}],["LEXON",{token:"keyword",bracket:"@open",next:"@semver"}],[":",{token:"delimiter",bracket:"@open",next:"@identifier_until_period"}],[/[a-z_$][\w$]*/,{cases:{"@operators":"operator","@typeKeywords":"keyword.type","@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,"delimiter"],[/\d*\.\d*\.\d*/,"number.semver"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"]],quoted_identifier:[[/[^\\"]+/,"identifier"],[/"/,{token:"identifier.quote",bracket:"@close",next:"@pop"}]],space_identifier_until_period:[[":","delimiter"],[" ",{token:"white",next:"@identifier_rest"}]],identifier_until_period:[{include:"@whitespace"},[":",{token:"delimiter",next:"@identifier_rest"}],[/[^\\.]+/,"identifier"],[/\./,{token:"delimiter",bracket:"@close",next:"@pop"}]],identifier_rest:[[/[^\\.]+/,"identifier"],[/\./,{token:"delimiter",bracket:"@close",next:"@pop"}]],semver:[{include:"@whitespace"},[":","delimiter"],[/\d*\.\d*\.\d*/,{token:"number.semver",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"]]}}},3096:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>C,language:()=>d});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(f,p,_,m)=>{if(p&&typeof p=="object"||typeof p=="function")for(let b of J(p))M.call(f,b)||b===_||I(f,b,{get:()=>p[b],enumerable:!(m=T(p,b))||m.enumerable});return f},E={};v(E,s,"default");var w=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],C={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,brackets:[["<!--","-->"],["<",">"],["{{","}}"],["{%","%}"],["{","}"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"%",close:"%"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:new RegExp(`<(?!(?:${w.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*\$`,"i"),afterText:/^<\/(\w[\w\d]*)\s*>$/i,action:{indentAction:E.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${w.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*\$`,"i"),action:{indentAction:E.languages.IndentAction.Indent}}]},d={defaultToken:"",tokenPostfix:"",builtinTags:["if","else","elseif","endif","render","assign","capture","endcapture","case","endcase","comment","endcomment","cycle","decrement","for","endfor","include","increment","layout","raw","endraw","render","tablerow","endtablerow","unless","endunless"],builtinFilters:["abs","append","at_least","at_most","capitalize","ceil","compact","date","default","divided_by","downcase","escape","escape_once","first","floor","join","json","last","lstrip","map","minus","modulo","newline_to_br","plus","prepend","remove","remove_first","replace","replace_first","reverse","round","rstrip","size","slice","sort","sort_natural","split","strip","strip_html","strip_newlines","times","truncate","truncatewords","uniq","upcase","url_decode","url_encode","where"],constants:["true","false"],operators:["==","!=",">","<",">=","<="],symbol:/[=><!]+/,identifier:/[a-zA-Z_][\w]*/,tokenizer:{root:[[/\{\%\s*comment\s*\%\}/,"comment.start.liquid","@comment"],[/\{\{/,{token:"@rematch",switchTo:"@liquidState.root"}],[/\{\%/,{token:"@rematch",switchTo:"@liquidState.root"}],[/(<)([\w\-]+)(\/>)/,["delimiter.html","tag.html","delimiter.html"]],[/(<)([:\w]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/(<\/)([\w\-]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/</,"delimiter.html"],[/\{/,"delimiter.html"],[/[^<{]+/]],comment:[[/\{\%\s*endcomment\s*\%\}/,"comment.end.liquid","@pop"],[/./,"comment.content.liquid"]],otherTag:[[/\{\{/,{token:"@rematch",switchTo:"@liquidState.otherTag"}],[/\{\%/,{token:"@rematch",switchTo:"@liquidState.otherTag"}],[/\/?>/,"delimiter.html","@pop"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/]],liquidState:[[/\{\{/,"delimiter.output.liquid"],[/\}\}/,{token:"delimiter.output.liquid",switchTo:"@$S2.$S3"}],[/\{\%/,"delimiter.tag.liquid"],[/raw\s*\%\}/,"delimiter.tag.liquid","@liquidRaw"],[/\%\}/,{token:"delimiter.tag.liquid",switchTo:"@$S2.$S3"}],{include:"liquidRoot"}],liquidRaw:[[/^(?!\{\%\s*endraw\s*\%\}).+/],[/\{\%/,"delimiter.tag.liquid"],[/@identifier/],[/\%\}/,{token:"delimiter.tag.liquid",next:"@root"}]],liquidRoot:[[/\d+(\.\d+)?/,"number.liquid"],[/"[^"]*"/,"string.liquid"],[/'[^']*'/,"string.liquid"],[/\s+/],[/@symbol/,{cases:{"@operators":"operator.liquid","@default":""}}],[/\./],[/@identifier/,{cases:{"@constants":"keyword.liquid","@builtinFilters":"predefined.liquid","@builtinTags":"predefined.liquid","@default":"variable.liquid"}}],[/[^}|%]/,"variable.liquid"]]}}},4114:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"--",blockComment:["--[[","]]"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={defaultToken:"",tokenPostfix:".lua",keywords:["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while"],brackets:[{token:"delimiter.bracket",open:"{",close:"}"},{token:"delimiter.array",open:"[",close:"]"},{token:"delimiter.parenthesis",open:"(",close:")"}],operators:["+","-","*","/","%","^","#","==","~=","<=",">=","<",">","=",";",":",",",".","..","..."],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z_]\w*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/(,)(\s*)([a-zA-Z_]\w*)(\s*)(:)(?!:)/,["delimiter","","key","","delimiter"]],[/({)(\s*)([a-zA-Z_]\w*)(\s*)(:)(?!:)/,["@brackets","","key","","delimiter"]],[/[{}()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F]/,"number.hex"],[/\d+?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string",'@string."'],[/'/,"string","@string.'"]],whitespace:[[/[ \t\r\n]+/,""],[/--\[([=]*)\[/,"comment","@comment.$1"],[/--.*$/,"comment"]],comment:[[/[^\]]+/,"comment"],[/\]([=]*)\]/,{cases:{"$1==$S2":{token:"comment",next:"@pop"},"@default":"comment"}}],[/./,"comment"]],string:[[/[^\\"']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}]]}}},4120:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{blockComment:["(*","*)"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"[",close:"]"},{open:"{",close:"}"},{open:"(",close:")"},{open:"(*",close:"*)"},{open:"<*",close:"*>"},{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]}]},I={defaultToken:"",tokenPostfix:".m3",brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"}],keywords:["AND","ANY","ARRAY","AS","BEGIN","BITS","BRANDED","BY","CASE","CONST","DIV","DO","ELSE","ELSIF","END","EVAL","EXCEPT","EXCEPTION","EXIT","EXPORTS","FINALLY","FOR","FROM","GENERIC","IF","IMPORT","IN","INTERFACE","LOCK","LOOP","METHODS","MOD","MODULE","NOT","OBJECT","OF","OR","OVERRIDES","PROCEDURE","RAISE","RAISES","READONLY","RECORD","REF","REPEAT","RETURN","REVEAL","SET","THEN","TO","TRY","TYPE","TYPECASE","UNSAFE","UNTIL","UNTRACED","VALUE","VAR","WHILE","WITH"],reservedConstNames:["ABS","ADR","ADRSIZE","BITSIZE","BYTESIZE","CEILING","DEC","DISPOSE","FALSE","FIRST","FLOAT","FLOOR","INC","ISTYPE","LAST","LOOPHOLE","MAX","MIN","NARROW","NEW","NIL","NUMBER","ORD","ROUND","SUBARRAY","TRUE","TRUNC","TYPECODE","VAL"],reservedTypeNames:["ADDRESS","ANY","BOOLEAN","CARDINAL","CHAR","EXTENDED","INTEGER","LONGCARD","LONGINT","LONGREAL","MUTEX","NULL","REAL","REFANY","ROOT","TEXT"],operators:["+","-","*","/","&","^","."],relations:["=","#","<","<=",">",">=","<:",":"],delimiters:["|","..","=>",",",";",":="],symbols:/[>=<#.,:;+\-*/&^]+/,escapes:/\\(?:[\\fnrt"']|[0-7]{3})/,tokenizer:{root:[[/_\w*/,"invalid"],[/[a-zA-Z][a-zA-Z0-9_]*/,{cases:{"@keywords":{token:"keyword.$0"},"@reservedConstNames":{token:"constant.reserved.$0"},"@reservedTypeNames":{token:"type.reserved.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[0-9]+\.[0-9]+(?:[DdEeXx][\+\-]?[0-9]+)?/,"number.float"],[/[0-9]+(?:\_[0-9a-fA-F]+)?L?/,"number"],[/@symbols/,{cases:{"@operators":"operators","@relations":"operators","@delimiters":"delimiter","@default":"invalid"}}],[/'[^\\']'/,"string.char"],[/(')(@escapes)(')/,["string.char","string.escape","string.char"]],[/'/,"invalid"],[/"([^"\\]|\\.)*$/,"invalid"],[/"/,"string.text","@text"]],text:[[/[^\\"]+/,"string.text"],[/@escapes/,"string.escape"],[/\\./,"invalid"],[/"/,"string.text","@pop"]],comment:[[/\(\*/,"comment","@push"],[/\*\)/,"comment","@pop"],[/./,"comment"]],pragma:[[/<\*/,"keyword.pragma","@push"],[/\*>/,"keyword.pragma","@pop"],[/./,"keyword.pragma"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\(\*/,"comment","@comment"],[/<\*/,"keyword.pragma","@pragma"]]}}},9390:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{blockComment:["<!--","-->"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">",notIn:["string"]}],surroundingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"`",close:"`"}],folding:{markers:{start:new RegExp("^\\s*<!--\\s*#?region\\b.*-->"),end:new RegExp("^\\s*<!--\\s*#?endregion\\b.*-->")}}},I={defaultToken:"",tokenPostfix:".md",control:/[\\`*_\[\]{}()#+\-\.!]/,noncontrol:/[^\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,jsescapes:/\\(?:[btnfr\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,empty:["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param"],tokenizer:{root:[[/^\s*\|/,"@rematch","@table_header"],[/^(\s{0,3})(#+)((?:[^\\#]|@escapes)+)((?:#+)?)/,["white","keyword","keyword","keyword"]],[/^\s*(=+|\-+)\s*$/,"keyword"],[/^\s*((\*[ ]?)+)\s*$/,"meta.separator"],[/^\s*>+/,"comment"],[/^\s*([\*\-+:]|\d+\.)\s/,"keyword"],[/^(\t|[ ]{4})[^ ].*$/,"string"],[/^\s*~~~\s*((?:\w|[\/\-#])+)?\s*$/,{token:"string",next:"@codeblock"}],[/^\s*```\s*((?:\w|[\/\-#])+).*$/,{token:"string",next:"@codeblockgh",nextEmbedded:"$1"}],[/^\s*```\s*$/,{token:"string",next:"@codeblock"}],{include:"@linecontent"}],table_header:[{include:"@table_common"},[/[^\|]+/,"keyword.table.header"]],table_body:[{include:"@table_common"},{include:"@linecontent"}],table_common:[[/\s*[\-:]+\s*/,{token:"keyword",switchTo:"table_body"}],[/^\s*\|/,"keyword.table.left"],[/^\s*[^\|]/,"@rematch","@pop"],[/^\s*$/,"@rematch","@pop"],[/\|/,{cases:{"@eos":"keyword.table.right","@default":"keyword.table.middle"}}]],codeblock:[[/^\s*~~~\s*$/,{token:"string",next:"@pop"}],[/^\s*```\s*$/,{token:"string",next:"@pop"}],[/.*$/,"variable.source"]],codeblockgh:[[/```\s*$/,{token:"string",next:"@pop",nextEmbedded:"@pop"}],[/[^`]+/,"variable.source"]],linecontent:[[/&\w+;/,"string.escape"],[/@escapes/,"escape"],[/\b__([^\\_]|@escapes|_(?!_))+__\b/,"strong"],[/\*\*([^\\*]|@escapes|\*(?!\*))+\*\*/,"strong"],[/\b_[^_]+_\b/,"emphasis"],[/\*([^\\*]|@escapes)+\*/,"emphasis"],[/`([^\\`]|@escapes)+`/,"variable"],[/\{+[^}]+\}+/,"string.target"],[/(!?\[)((?:[^\]\\]|@escapes)*)(\]\([^\)]+\))/,["string.link","","string.link"]],[/(!?\[)((?:[^\]\\]|@escapes)*)(\])/,"string.link"],{include:"html"}],html:[[/<(\w+)\/>/,"tag"],[/<(\w+)(\-|\w)*/,{cases:{"@empty":{token:"tag",next:"@tag.$1"},"@default":{token:"tag",next:"@tag.$1"}}}],[/<\/(\w+)(\-|\w)*\s*>/,{token:"tag"}],[/<!--/,"comment","@comment"]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,"comment","@pop"],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]],tag:[[/[ \t\r\n]+/,"white"],[/(type)(\s*=\s*)(")([^"]+)(")/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(type)(\s*=\s*)(')([^']+)(')/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(\w+)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name.html","delimiter.html","string.html"]],[/\w+/,"attribute.name.html"],[/\/>/,"tag","@pop"],[/>/,{cases:{"$S2==style":{token:"tag",switchTo:"embeddedStyle",nextEmbedded:"text/css"},"$S2==script":{cases:{$S3:{token:"tag",switchTo:"embeddedScript",nextEmbedded:"$S3"},"@default":{token:"tag",switchTo:"embeddedScript",nextEmbedded:"text/javascript"}}},"@default":{token:"tag",next:"@pop"}}}]],embeddedStyle:[[/[^<]+/,""],[/<\/style\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]],embeddedScript:[[/[^<]+/,""],[/<\/script\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]]}}},5966:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>w,language:()=>C});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(d,f,p,_)=>{if(f&&typeof f=="object"||typeof f=="function")for(let m of J(f))M.call(d,m)||m===p||I(d,m,{get:()=>f[m],enumerable:!(_=T(f,m))||_.enumerable});return d},E={};v(E,s,"default");var w={comments:{blockComment:["{/*","*/}"]},brackets:[["{","}"]],autoClosingPairs:[{open:'"',close:'"'},{open:"'",close:"'"},{open:"\u201C",close:"\u201D"},{open:"\u2018",close:"\u2019"},{open:"`",close:"`"},{open:"{",close:"}"},{open:"(",close:")"},{open:"_",close:"_"},{open:"**",close:"**"},{open:"<",close:">"}],onEnterRules:[{beforeText:/^\s*- .+/,action:{indentAction:E.languages.IndentAction.None,appendText:"- "}},{beforeText:/^\s*\+ .+/,action:{indentAction:E.languages.IndentAction.None,appendText:"+ "}},{beforeText:/^\s*\* .+/,action:{indentAction:E.languages.IndentAction.None,appendText:"* "}},{beforeText:/^> /,action:{indentAction:E.languages.IndentAction.None,appendText:"> "}},{beforeText:/<\w+/,action:{indentAction:E.languages.IndentAction.Indent}},{beforeText:/\s+>\s*$/,action:{indentAction:E.languages.IndentAction.Indent}},{beforeText:/<\/\w+>/,action:{indentAction:E.languages.IndentAction.Outdent}},...Array.from({length:100},(d,f)=>({beforeText:new RegExp(`^${f}\\. .+`),action:{indentAction:E.languages.IndentAction.None,appendText:`${f+1}. `}}))]},C={defaultToken:"",tokenPostfix:".mdx",control:/[!#()*+.[\\\]_`{}\-]/,escapes:/\\@control/,tokenizer:{root:[[/^---$/,{token:"meta.content",next:"@frontmatter",nextEmbedded:"yaml"}],[/^\s*import/,{token:"keyword",next:"@import",nextEmbedded:"js"}],[/^\s*export/,{token:"keyword",next:"@export",nextEmbedded:"js"}],[/<\w+/,{token:"type.identifier",next:"@jsx"}],[/<\/?\w+>/,"type.identifier"],[/^(\s*)(>*\s*)(#{1,6}\s)/,[{token:"white"},{token:"comment"},{token:"keyword",next:"@header"}]],[/^(\s*)(>*\s*)([*+-])(\s+)/,["white","comment","keyword","white"]],[/^(\s*)(>*\s*)(\d{1,9}\.)(\s+)/,["white","comment","number","white"]],[/^(\s*)(>*\s*)(\d{1,9}\.)(\s+)/,["white","comment","number","white"]],[/^(\s*)(>*\s*)(-{3,}|\*{3,}|_{3,})$/,["white","comment","keyword"]],[/`{3,}(\s.*)?$/,{token:"string",next:"@codeblock_backtick"}],[/~{3,}(\s.*)?$/,{token:"string",next:"@codeblock_tilde"}],[/`{3,}(\S+).*$/,{token:"string",next:"@codeblock_highlight_backtick",nextEmbedded:"$1"}],[/~{3,}(\S+).*$/,{token:"string",next:"@codeblock_highlight_tilde",nextEmbedded:"$1"}],[/^(\s*)(-{4,})$/,["white","comment"]],[/^(\s*)(>+)/,["white","comment"]],{include:"content"}],content:[[/(\[)(.+)(]\()(.+)(\s+".*")(\))/,["","string.link","","type.identifier","string.link",""]],[/(\[)(.+)(]\()(.+)(\))/,["","type.identifier","","string.link",""]],[/(\[)(.+)(]\[)(.+)(])/,["","type.identifier","","type.identifier",""]],[/(\[)(.+)(]:\s+)(\S*)/,["","type.identifier","","string.link"]],[/(\[)(.+)(])/,["","type.identifier",""]],[/`.*`/,"variable.source"],[/_/,{token:"emphasis",next:"@emphasis_underscore"}],[/\*(?!\*)/,{token:"emphasis",next:"@emphasis_asterisk"}],[/\*\*/,{token:"strong",next:"@strong"}],[/{/,{token:"delimiter.bracket",next:"@expression",nextEmbedded:"js"}]],import:[[/'\s*(;|$)/,{token:"string",next:"@pop",nextEmbedded:"@pop"}]],expression:[[/{/,{token:"delimiter.bracket",next:"@expression"}],[/}/,{token:"delimiter.bracket",next:"@pop",nextEmbedded:"@pop"}]],export:[[/^\s*$/,{token:"delimiter.bracket",next:"@pop",nextEmbedded:"@pop"}]],jsx:[[/\s+/,""],[/(\w+)(=)("(?:[^"\\]|\\.)*")/,["attribute.name","operator","string"]],[/(\w+)(=)('(?:[^'\\]|\\.)*')/,["attribute.name","operator","string"]],[/(\w+(?=\s|>|={|$))/,["attribute.name"]],[/={/,{token:"delimiter.bracket",next:"@expression",nextEmbedded:"js"}],[/>/,{token:"type.identifier",next:"@pop"}]],header:[[/.$/,{token:"keyword",next:"@pop"}],{include:"content"},[/./,{token:"keyword"}]],strong:[[/\*\*/,{token:"strong",next:"@pop"}],{include:"content"},[/./,{token:"strong"}]],emphasis_underscore:[[/_/,{token:"emphasis",next:"@pop"}],{include:"content"},[/./,{token:"emphasis"}]],emphasis_asterisk:[[/\*(?!\*)/,{token:"emphasis",next:"@pop"}],{include:"content"},[/./,{token:"emphasis"}]],frontmatter:[[/^---$/,{token:"meta.content",nextEmbedded:"@pop",next:"@pop"}]],codeblock_highlight_backtick:[[/\s*`{3,}\s*$/,{token:"string",next:"@pop",nextEmbedded:"@pop"}],[/.*$/,"variable.source"]],codeblock_highlight_tilde:[[/\s*~{3,}\s*$/,{token:"string",next:"@pop",nextEmbedded:"@pop"}],[/.*$/,"variable.source"]],codeblock_backtick:[[/\s*`{3,}\s*$/,{token:"string",next:"@pop"}],[/.*$/,"variable.source"]],codeblock_tilde:[[/\s*~{3,}\s*$/,{token:"string",next:"@pop"}],[/.*$/,"variable.source"]]}}},398:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#%\^\&\*\(\)\=\$\-\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{blockComment:["###","###"],lineComment:"#"},folding:{markers:{start:new RegExp("^\\s*#region\\b"),end:new RegExp("^\\s*#endregion\\b")}}},I={defaultToken:"",ignoreCase:!1,tokenPostfix:".mips",regEx:/\/(?!\/\/)(?:[^\/\\]|\\.)*\/[igm]*/,keywords:[".data",".text","syscall","trap","add","addu","addi","addiu","and","andi","div","divu","mult","multu","nor","or","ori","sll","slv","sra","srav","srl","srlv","sub","subu","xor","xori","lhi","lho","lhi","llo","slt","slti","sltu","sltiu","beq","bgtz","blez","bne","j","jal","jalr","jr","lb","lbu","lh","lhu","lw","li","la","sb","sh","sw","mfhi","mflo","mthi","mtlo","move"],symbols:/[\.,\:]+/,escapes:/\\(?:[abfnrtv\\"'$]|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/\$[a-zA-Z_]\w*/,"variable.predefined"],[/[.a-zA-Z_]\w*/,{cases:{this:"variable.predefined","@keywords":{token:"keyword.$0"},"@default":""}}],[/[ \t\r\n]+/,""],[/#.*$/,"comment"],["///",{token:"regexp",next:"@hereregexp"}],[/^(\s*)(@regEx)/,["","regexp"]],[/(\,)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\:)(\s*)(@regEx)/,["delimiter","","regexp"]],[/@symbols/,"delimiter"],[/\d+[eE]([\-+]?\d+)?/,"number.float"],[/\d+\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/0[0-7]+(?!\d)/,"number.octal"],[/\d+/,"number"],[/[,.]/,"delimiter"],[/"""/,"string",'@herestring."""'],[/'''/,"string","@herestring.'''"],[/"/,{cases:{"@eos":"string","@default":{token:"string",next:'@string."'}}}],[/'/,{cases:{"@eos":"string","@default":{token:"string",next:"@string.'"}}}]],string:[[/[^"'\#\\]+/,"string"],[/@escapes/,"string.escape"],[/\./,"string.escape.invalid"],[/\./,"string.escape.invalid"],[/#{/,{cases:{'$S2=="':{token:"string",next:"root.interpolatedstring"},"@default":"string"}}],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}],[/#/,"string"]],herestring:[[/("""|''')/,{cases:{"$1==$S2":{token:"string",next:"@pop"},"@default":"string"}}],[/[^#\\'"]+/,"string"],[/['"]+/,"string"],[/@escapes/,"string.escape"],[/\./,"string.escape.invalid"],[/#{/,{token:"string.quote",next:"root.interpolatedstring"}],[/#/,"string"]],comment:[[/[^#]+/,"comment"],[/#/,"comment"]],hereregexp:[[/[^\\\/#]+/,"regexp"],[/\\./,"regexp"],[/#.*$/,"comment"],["///[igm]*",{token:"regexp",next:"@pop"}],[/\//,"regexp"]]}}},5786:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["[","]"],["(",")"],["{","}"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:"{",close:"}",notIn:["string","comment"]}]},I={defaultToken:"",tokenPostfix:".msdax",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"{",close:"}",token:"delimiter.brackets"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["VAR","RETURN","NOT","EVALUATE","DATATABLE","ORDER","BY","START","AT","DEFINE","MEASURE","ASC","DESC","IN","BOOLEAN","DOUBLE","INTEGER","DATETIME","CURRENCY","STRING"],functions:["CLOSINGBALANCEMONTH","CLOSINGBALANCEQUARTER","CLOSINGBALANCEYEAR","DATEADD","DATESBETWEEN","DATESINPERIOD","DATESMTD","DATESQTD","DATESYTD","ENDOFMONTH","ENDOFQUARTER","ENDOFYEAR","FIRSTDATE","FIRSTNONBLANK","LASTDATE","LASTNONBLANK","NEXTDAY","NEXTMONTH","NEXTQUARTER","NEXTYEAR","OPENINGBALANCEMONTH","OPENINGBALANCEQUARTER","OPENINGBALANCEYEAR","PARALLELPERIOD","PREVIOUSDAY","PREVIOUSMONTH","PREVIOUSQUARTER","PREVIOUSYEAR","SAMEPERIODLASTYEAR","STARTOFMONTH","STARTOFQUARTER","STARTOFYEAR","TOTALMTD","TOTALQTD","TOTALYTD","ADDCOLUMNS","ADDMISSINGITEMS","ALL","ALLEXCEPT","ALLNOBLANKROW","ALLSELECTED","CALCULATE","CALCULATETABLE","CALENDAR","CALENDARAUTO","CROSSFILTER","CROSSJOIN","CURRENTGROUP","DATATABLE","DETAILROWS","DISTINCT","EARLIER","EARLIEST","EXCEPT","FILTER","FILTERS","GENERATE","GENERATEALL","GROUPBY","IGNORE","INTERSECT","ISONORAFTER","KEEPFILTERS","LOOKUPVALUE","NATURALINNERJOIN","NATURALLEFTOUTERJOIN","RELATED","RELATEDTABLE","ROLLUP","ROLLUPADDISSUBTOTAL","ROLLUPGROUP","ROLLUPISSUBTOTAL","ROW","SAMPLE","SELECTCOLUMNS","SUBSTITUTEWITHINDEX","SUMMARIZE","SUMMARIZECOLUMNS","TOPN","TREATAS","UNION","USERELATIONSHIP","VALUES","SUM","SUMX","PATH","PATHCONTAINS","PATHITEM","PATHITEMREVERSE","PATHLENGTH","AVERAGE","AVERAGEA","AVERAGEX","COUNT","COUNTA","COUNTAX","COUNTBLANK","COUNTROWS","COUNTX","DISTINCTCOUNT","DIVIDE","GEOMEAN","GEOMEANX","MAX","MAXA","MAXX","MEDIAN","MEDIANX","MIN","MINA","MINX","PERCENTILE.EXC","PERCENTILE.INC","PERCENTILEX.EXC","PERCENTILEX.INC","PRODUCT","PRODUCTX","RANK.EQ","RANKX","STDEV.P","STDEV.S","STDEVX.P","STDEVX.S","VAR.P","VAR.S","VARX.P","VARX.S","XIRR","XNPV","DATE","DATEDIFF","DATEVALUE","DAY","EDATE","EOMONTH","HOUR","MINUTE","MONTH","NOW","SECOND","TIME","TIMEVALUE","TODAY","WEEKDAY","WEEKNUM","YEAR","YEARFRAC","CONTAINS","CONTAINSROW","CUSTOMDATA","ERROR","HASONEFILTER","HASONEVALUE","ISBLANK","ISCROSSFILTERED","ISEMPTY","ISERROR","ISEVEN","ISFILTERED","ISLOGICAL","ISNONTEXT","ISNUMBER","ISODD","ISSUBTOTAL","ISTEXT","USERNAME","USERPRINCIPALNAME","AND","FALSE","IF","IFERROR","NOT","OR","SWITCH","TRUE","ABS","ACOS","ACOSH","ACOT","ACOTH","ASIN","ASINH","ATAN","ATANH","BETA.DIST","BETA.INV","CEILING","CHISQ.DIST","CHISQ.DIST.RT","CHISQ.INV","CHISQ.INV.RT","COMBIN","COMBINA","CONFIDENCE.NORM","CONFIDENCE.T","COS","COSH","COT","COTH","CURRENCY","DEGREES","EVEN","EXP","EXPON.DIST","FACT","FLOOR","GCD","INT","ISO.CEILING","LCM","LN","LOG","LOG10","MOD","MROUND","ODD","PERMUT","PI","POISSON.DIST","POWER","QUOTIENT","RADIANS","RAND","RANDBETWEEN","ROUND","ROUNDDOWN","ROUNDUP","SIGN","SIN","SINH","SQRT","SQRTPI","TAN","TANH","TRUNC","BLANK","CONCATENATE","CONCATENATEX","EXACT","FIND","FIXED","FORMAT","LEFT","LEN","LOWER","MID","REPLACE","REPT","RIGHT","SEARCH","SUBSTITUTE","TRIM","UNICHAR","UNICODE","UPPER","VALUE"],tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},[/[;,.]/,"delimiter"],[/[({})]/,"@brackets"],[/[a-z_][a-zA-Z0-9_]*/,{cases:{"@keywords":"keyword","@functions":"keyword","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/\/\/+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N"/,{token:"string",next:"@string"}],[/"/,{token:"string",next:"@string"}]],string:[[/[^"]+/,"string"],[/""/,"string"],[/"/,{token:"string",next:"@pop"}]],complexIdentifiers:[[/\[/,{token:"identifier.quote",next:"@bracketedIdentifier"}],[/'/,{token:"identifier.quote",next:"@quotedIdentifier"}]],bracketedIdentifier:[[/[^\]]+/,"identifier"],[/]]/,"identifier"],[/]/,{token:"identifier.quote",next:"@pop"}]],quotedIdentifier:[[/[^']+/,"identifier"],[/''/,"identifier"],[/'/,{token:"identifier.quote",next:"@pop"}]]}}},7466:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BIGINT","BINARY","BLOB","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHAR","CHARACTER","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEC","DECIMAL","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FLOAT","FLOAT4","FLOAT8","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LONGBLOB","LONGTEXT","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","NUMERIC","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRECISION","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","REAL","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SMALLINT","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TINYBLOB","TINYINT","TINYTEXT","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VARBINARY","VARCHAR","VARCHARACTER","VARYING","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],operators:["AND","BETWEEN","IN","LIKE","NOT","OR","IS","NULL","INTERSECT","UNION","INNER","JOIN","LEFT","OUTER","RIGHT"],builtinFunctions:["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","Area","AsBinary","AsWKB","ASCII","ASIN","AsText","AsWKT","ASYMMETRIC_DECRYPT","ASYMMETRIC_DERIVE","ASYMMETRIC_ENCRYPT","ASYMMETRIC_SIGN","ASYMMETRIC_VERIFY","ATAN","ATAN2","ATAN","AVG","BENCHMARK","BIN","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","Buffer","CAST","CEIL","CEILING","Centroid","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","Contains","CONV","CONVERT","CONVERT_TZ","ConvexHull","COS","COT","COUNT","CRC32","CREATE_ASYMMETRIC_PRIV_KEY","CREATE_ASYMMETRIC_PUB_KEY","CREATE_DH_PARAMETERS","CREATE_DIGEST","Crosses","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DES_DECRYPT","DES_ENCRYPT","DENSE_RANK","Dimension","Disjoint","Distance","ELT","ENCODE","ENCRYPT","EndPoint","Envelope","Equals","EXP","EXPORT_SET","ExteriorRing","EXTRACT","ExtractValue","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEN_RANGE","GEN_RND_EMAIL","GEN_RND_PAN","GEN_RND_SSN","GEN_RND_US_PHONE","GeomCollection","GeomCollFromText","GeometryCollectionFromText","GeomCollFromWKB","GeometryCollectionFromWKB","GeometryCollection","GeometryN","GeometryType","GeomFromText","GeometryFromText","GeomFromWKB","GeometryFromWKB","GET_FORMAT","GET_LOCK","GLength","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","InteriorRingN","Intersects","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","IsClosed","IsEmpty","ISNULL","IsSimple","JSON_APPEND","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LineFromText","LineStringFromText","LineFromWKB","LineStringFromWKB","LineString","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASK_INNER","MASK_OUTER","MASK_PAN","MASK_PAN_RELAXED","MASK_SSN","MASTER_POS_WAIT","MAX","MBRContains","MBRCoveredBy","MBRCovers","MBRDisjoint","MBREqual","MBREquals","MBRIntersects","MBROverlaps","MBRTouches","MBRWithin","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MLineFromText","MultiLineStringFromText","MLineFromWKB","MultiLineStringFromWKB","MOD","MONTH","MONTHNAME","MPointFromText","MultiPointFromText","MPointFromWKB","MultiPointFromWKB","MPolyFromText","MultiPolygonFromText","MPolyFromWKB","MultiPolygonFromWKB","MultiLineString","MultiPoint","MultiPolygon","NAME_CONST","NOT IN","NOW","NTH_VALUE","NTILE","NULLIF","NumGeometries","NumInteriorRings","NumPoints","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","Overlaps","PASSWORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","Point","PointFromText","PointFromWKB","PointN","PolyFromText","PolygonFromText","PolyFromWKB","PolygonFromWKB","Polygon","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","PROCEDURE ANALYSE","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_REPLACE","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOURCE_POS_WAIT","SPACE","SQRT","SRID","ST_Area","ST_AsBinary","ST_AsWKB","ST_AsGeoJSON","ST_AsText","ST_AsWKT","ST_Buffer","ST_Buffer_Strategy","ST_Centroid","ST_Collect","ST_Contains","ST_ConvexHull","ST_Crosses","ST_Difference","ST_Dimension","ST_Disjoint","ST_Distance","ST_Distance_Sphere","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_FrechetDistance","ST_GeoHash","ST_GeomCollFromText","ST_GeometryCollectionFromText","ST_GeomCollFromTxt","ST_GeomCollFromWKB","ST_GeometryCollectionFromWKB","ST_GeometryN","ST_GeometryType","ST_GeomFromGeoJSON","ST_GeomFromText","ST_GeometryFromText","ST_GeomFromWKB","ST_GeometryFromWKB","ST_HausdorffDistance","ST_InteriorRingN","ST_Intersection","ST_Intersects","ST_IsClosed","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_LatFromGeoHash","ST_Length","ST_LineFromText","ST_LineStringFromText","ST_LineFromWKB","ST_LineStringFromWKB","ST_LineInterpolatePoint","ST_LineInterpolatePoints","ST_LongFromGeoHash","ST_Longitude","ST_MakeEnvelope","ST_MLineFromText","ST_MultiLineStringFromText","ST_MLineFromWKB","ST_MultiLineStringFromWKB","ST_MPointFromText","ST_MultiPointFromText","ST_MPointFromWKB","ST_MultiPointFromWKB","ST_MPolyFromText","ST_MultiPolygonFromText","ST_MPolyFromWKB","ST_MultiPolygonFromWKB","ST_NumGeometries","ST_NumInteriorRing","ST_NumInteriorRings","ST_NumPoints","ST_Overlaps","ST_PointAtDistance","ST_PointFromGeoHash","ST_PointFromText","ST_PointFromWKB","ST_PointN","ST_PolyFromText","ST_PolygonFromText","ST_PolyFromWKB","ST_PolygonFromWKB","ST_Simplify","ST_SRID","ST_StartPoint","ST_SwapXY","ST_SymDifference","ST_Touches","ST_Transform","ST_Union","ST_Validate","ST_Within","ST_X","ST_Y","StartPoint","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","Touches","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UpdateXML","UPPER","USER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","Within","X","Y","YEAR","YEARWEEK"],builtinVariables:[],tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@]+/,{cases:{"@operators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@keywords":"keyword","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/#+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/'/,{token:"string",next:"@string"}],[/"/,{token:"string.double",next:"@stringDouble"}]],string:[[/\\'/,"string"],[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],stringDouble:[[/[^"]+/,"string.double"],[/""/,"string.double"],[/"/,{token:"string.double",next:"@pop"}]],complexIdentifiers:[[/`/,{token:"identifier.quote",next:"@quotedIdentifier"}]],quotedIdentifier:[[/[^`]+/,"identifier"],[/``/,"identifier"],[/`/,{token:"identifier.quote",next:"@pop"}]],scopes:[]}}},2686:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={defaultToken:"",tokenPostfix:".objective-c",keywords:["#import","#include","#define","#else","#endif","#if","#ifdef","#ifndef","#ident","#undef","@class","@defs","@dynamic","@encode","@end","@implementation","@interface","@package","@private","@protected","@property","@protocol","@public","@selector","@synthesize","__declspec","assign","auto","BOOL","break","bycopy","byref","case","char","Class","const","copy","continue","default","do","double","else","enum","extern","FALSE","false","float","for","goto","if","in","int","id","inout","IMP","long","nil","nonatomic","NULL","oneway","out","private","public","protected","readwrite","readonly","register","return","SEL","self","short","signed","sizeof","static","struct","super","switch","typedef","TRUE","true","union","unsigned","volatile","void","while"],decpart:/\d(_?\d)*/,decimal:/0|@decpart/,tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/[,:;]/,"delimiter"],[/[{}\[\]()<>]/,"@brackets"],[/[a-zA-Z@#]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/[<>=\\+\\-\\*\\/\\^\\|\\~,]|and\\b|or\\b|not\\b]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[".","comment"]],numbers:[[/0[xX][0-9a-fA-F]*(_?[0-9a-fA-F])*/,"number.hex"],[/@decimal((\.@decpart)?([eE][\-+]?@decpart)?)[fF]*/,{cases:{"(\\d)*":"number",$0:"number.float"}}]],strings:[[/'$/,"string.escape","@popall"],[/'/,"string.escape","@stringBody"],[/"$/,"string.escape","@popall"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/[^\\']+$/,"string","@popall"],[/[^\\']+/,"string"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],dblStringBody:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]]}}},6940:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["{","}"]},brackets:[["{","}"],["[","]"],["(",")"],["<",">"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*\\{\\$REGION(\\s\\'.*\\')?\\}"),end:new RegExp("^\\s*\\{\\$ENDREGION\\}")}}},I={defaultToken:"",tokenPostfix:".pascal",ignoreCase:!0,brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],keywords:["absolute","abstract","all","and_then","array","as","asm","attribute","begin","bindable","case","class","const","contains","default","div","else","end","except","exports","external","far","file","finalization","finally","forward","generic","goto","if","implements","import","in","index","inherited","initialization","interrupt","is","label","library","mod","module","name","near","not","object","of","on","only","operator","or_else","otherwise","override","package","packed","pow","private","program","protected","public","published","interface","implementation","qualified","read","record","resident","requires","resourcestring","restricted","segment","set","shl","shr","specialize","stored","strict","then","threadvar","to","try","type","unit","uses","var","view","virtual","dynamic","overload","reintroduce","with","write","xor","true","false","procedure","function","constructor","destructor","property","break","continue","exit","abort","while","do","for","raise","repeat","until"],typeKeywords:["boolean","double","byte","integer","shortint","char","longint","float","string"],operators:["=",">","<","<=",">=","<>",":",":=","and","or","+","-","*","/","@","&","^","%"],symbols:/[=><:@\^&|+\-*\/\^%]+/,tokenizer:{root:[[/[a-zA-Z_][\w]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/\$[0-9a-fA-F]{1,16}/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'/,"string","@string"],[/'[^\\']'/,"string"],[/'/,"string.invalid"],[/\#\d+/,"string"]],comment:[[/[^\*\}]+/,"comment"],[/\}/,"comment","@pop"],[/[\{]/,"comment"]],string:[[/[^\\']+/,"string"],[/\\./,"string.escape.invalid"],[/'/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\{/,"comment","@comment"],[/\/\/.*$/,"comment"]]}}},8230:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["(*","*)"]},brackets:[["{","}"],["[","]"],["(",")"],["<",">"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"'",close:"'"}]},I={defaultToken:"",tokenPostfix:".pascaligo",ignoreCase:!0,brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],keywords:["begin","block","case","const","else","end","fail","for","from","function","if","is","nil","of","remove","return","skip","then","type","var","while","with","option","None","transaction"],typeKeywords:["bool","int","list","map","nat","record","string","unit","address","map","mtz","xtz"],operators:["=",">","<","<=",">=","<>",":",":=","and","mod","or","+","-","*","/","@","&","^","%"],symbols:/[=><:@\^&|+\-*\/\^%]+/,tokenizer:{root:[[/[a-zA-Z_][\w]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/\$[0-9a-fA-F]{1,16}/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'/,"string","@string"],[/'[^\\']'/,"string"],[/'/,"string.invalid"],[/\#\d+/,"string"]],comment:[[/[^\(\*]+/,"comment"],[/\*\)/,"comment","@pop"],[/\(\*/,"comment"]],string:[[/[^\\']+/,"string"],[/\\./,"string.escape.invalid"],[/'/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\(\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}}},7886:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}]},I={defaultToken:"",tokenPostfix:".perl",brackets:[{token:"delimiter.bracket",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"}],keywords:["__DATA__","else","lock","__END__","elsif","lt","__FILE__","eq","__LINE__","exp","ne","sub","__PACKAGE__","for","no","and","foreach","or","unless","cmp","ge","package","until","continue","gt","while","CORE","if","xor","do","le","__DIE__","__WARN__"],builtinFunctions:["-A","END","length","setpgrp","-B","endgrent","link","setpriority","-b","endhostent","listen","setprotoent","-C","endnetent","local","setpwent","-c","endprotoent","localtime","setservent","-d","endpwent","log","setsockopt","-e","endservent","lstat","shift","-f","eof","map","shmctl","-g","eval","mkdir","shmget","-k","exec","msgctl","shmread","-l","exists","msgget","shmwrite","-M","exit","msgrcv","shutdown","-O","fcntl","msgsnd","sin","-o","fileno","my","sleep","-p","flock","next","socket","-r","fork","not","socketpair","-R","format","oct","sort","-S","formline","open","splice","-s","getc","opendir","split","-T","getgrent","ord","sprintf","-t","getgrgid","our","sqrt","-u","getgrnam","pack","srand","-w","gethostbyaddr","pipe","stat","-W","gethostbyname","pop","state","-X","gethostent","pos","study","-x","getlogin","print","substr","-z","getnetbyaddr","printf","symlink","abs","getnetbyname","prototype","syscall","accept","getnetent","push","sysopen","alarm","getpeername","quotemeta","sysread","atan2","getpgrp","rand","sysseek","AUTOLOAD","getppid","read","system","BEGIN","getpriority","readdir","syswrite","bind","getprotobyname","readline","tell","binmode","getprotobynumber","readlink","telldir","bless","getprotoent","readpipe","tie","break","getpwent","recv","tied","caller","getpwnam","redo","time","chdir","getpwuid","ref","times","CHECK","getservbyname","rename","truncate","chmod","getservbyport","require","uc","chomp","getservent","reset","ucfirst","chop","getsockname","return","umask","chown","getsockopt","reverse","undef","chr","glob","rewinddir","UNITCHECK","chroot","gmtime","rindex","unlink","close","goto","rmdir","unpack","closedir","grep","say","unshift","connect","hex","scalar","untie","cos","index","seek","use","crypt","INIT","seekdir","utime","dbmclose","int","select","values","dbmopen","ioctl","semctl","vec","defined","join","semget","wait","delete","keys","semop","waitpid","DESTROY","kill","send","wantarray","die","last","setgrent","warn","dump","lc","sethostent","write","each","lcfirst","setnetent"],builtinFileHandlers:["ARGV","STDERR","STDOUT","ARGVOUT","STDIN","ENV"],builtinVariables:["$!","$^RE_TRIE_MAXBUF","$LAST_REGEXP_CODE_RESULT",'$"',"$^S","$LIST_SEPARATOR","$#","$^T","$MATCH","$$","$^TAINT","$MULTILINE_MATCHING","$%","$^UNICODE","$NR","$&","$^UTF8LOCALE","$OFMT","$'","$^V","$OFS","$(","$^W","$ORS","$)","$^WARNING_BITS","$OS_ERROR","$*","$^WIDE_SYSTEM_CALLS","$OSNAME","$+","$^X","$OUTPUT_AUTO_FLUSH","$,","$_","$OUTPUT_FIELD_SEPARATOR","$-","$`","$OUTPUT_RECORD_SEPARATOR","$.","$a","$PERL_VERSION","$/","$ACCUMULATOR","$PERLDB","$0","$ARG","$PID","$:","$ARGV","$POSTMATCH","$;","$b","$PREMATCH","$<","$BASETIME","$PROCESS_ID","$=","$CHILD_ERROR","$PROGRAM_NAME","$>","$COMPILING","$REAL_GROUP_ID","$?","$DEBUGGING","$REAL_USER_ID","$@","$EFFECTIVE_GROUP_ID","$RS","$[","$EFFECTIVE_USER_ID","$SUBSCRIPT_SEPARATOR","$\\","$EGID","$SUBSEP","$]","$ERRNO","$SYSTEM_FD_MAX","$^","$EUID","$UID","$^A","$EVAL_ERROR","$WARNING","$^C","$EXCEPTIONS_BEING_CAUGHT","$|","$^CHILD_ERROR_NATIVE","$EXECUTABLE_NAME","$~","$^D","$EXTENDED_OS_ERROR","%!","$^E","$FORMAT_FORMFEED","%^H","$^ENCODING","$FORMAT_LINE_BREAK_CHARACTERS","%ENV","$^F","$FORMAT_LINES_LEFT","%INC","$^H","$FORMAT_LINES_PER_PAGE","%OVERLOAD","$^I","$FORMAT_NAME","%SIG","$^L","$FORMAT_PAGE_NUMBER","@+","$^M","$FORMAT_TOP_NAME","@-","$^N","$GID","@_","$^O","$INPLACE_EDIT","@ARGV","$^OPEN","$INPUT_LINE_NUMBER","@INC","$^P","$INPUT_RECORD_SEPARATOR","@LAST_MATCH_START","$^R","$LAST_MATCH_END","$^RE_DEBUG_FLAGS","$LAST_PAREN_MATCH"],symbols:/[:+\-\^*$&%@=<>!?|\/~\.]/,quoteLikeOps:["qr","m","s","q","qq","qx","qw","tr","y"],escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[{include:"@whitespace"},[/[a-zA-Z\-_][\w\-_]*/,{cases:{"@keywords":"keyword","@builtinFunctions":"type.identifier","@builtinFileHandlers":"variable.predefined","@quoteLikeOps":{token:"@rematch",next:"quotedConstructs"},"@default":""}}],[/[\$@%][*@#?\+\-\$!\w\\\^><~:;\.]+/,{cases:{"@builtinVariables":"variable.predefined","@default":"variable"}}],{include:"@strings"},{include:"@dblStrings"},{include:"@perldoc"},{include:"@heredoc"},[/[{}\[\]()]/,"@brackets"],[/[\/](?:(?:\[(?:\\]|[^\]])+\])|(?:\\\/|[^\]\/]))*[\/]\w*\s*(?=[).,;]|$)/,"regexp"],[/@symbols/,"operators"],{include:"@numbers"},[/[,;]/,"delimiter"]],whitespace:[[/\s+/,"white"],[/(^#!.*$)/,"metatag"],[/(^#.*$)/,"comment"]],numbers:[[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F]/,"number.hex"],[/\d+/,"number"]],strings:[[/'/,"string","@stringBody"]],stringBody:[[/'/,"string","@popall"],[/\\'/,"string.escape"],[/./,"string"]],dblStrings:[[/"/,"string","@dblStringBody"]],dblStringBody:[[/"/,"string","@popall"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],{include:"@variables"},[/./,"string"]],quotedConstructs:[[/(q|qw|tr|y)\s*\(/,{token:"string.delim",switchTo:"@qstring.(.)"}],[/(q|qw|tr|y)\s*\[/,{token:"string.delim",switchTo:"@qstring.[.]"}],[/(q|qw|tr|y)\s*\{/,{token:"string.delim",switchTo:"@qstring.{.}"}],[/(q|qw|tr|y)\s*</,{token:"string.delim",switchTo:"@qstring.<.>"}],[/(q|qw|tr|y)#/,{token:"string.delim",switchTo:"@qstring.#.#"}],[/(q|qw|tr|y)\s*([^A-Za-z0-9#\s])/,{token:"string.delim",switchTo:"@qstring.$2.$2"}],[/(q|qw|tr|y)\s+(\w)/,{token:"string.delim",switchTo:"@qstring.$2.$2"}],[/(qr|m|s)\s*\(/,{token:"regexp.delim",switchTo:"@qregexp.(.)"}],[/(qr|m|s)\s*\[/,{token:"regexp.delim",switchTo:"@qregexp.[.]"}],[/(qr|m|s)\s*\{/,{token:"regexp.delim",switchTo:"@qregexp.{.}"}],[/(qr|m|s)\s*</,{token:"regexp.delim",switchTo:"@qregexp.<.>"}],[/(qr|m|s)#/,{token:"regexp.delim",switchTo:"@qregexp.#.#"}],[/(qr|m|s)\s*([^A-Za-z0-9_#\s])/,{token:"regexp.delim",switchTo:"@qregexp.$2.$2"}],[/(qr|m|s)\s+(\w)/,{token:"regexp.delim",switchTo:"@qregexp.$2.$2"}],[/(qq|qx)\s*\(/,{token:"string.delim",switchTo:"@qqstring.(.)"}],[/(qq|qx)\s*\[/,{token:"string.delim",switchTo:"@qqstring.[.]"}],[/(qq|qx)\s*\{/,{token:"string.delim",switchTo:"@qqstring.{.}"}],[/(qq|qx)\s*</,{token:"string.delim",switchTo:"@qqstring.<.>"}],[/(qq|qx)#/,{token:"string.delim",switchTo:"@qqstring.#.#"}],[/(qq|qx)\s*([^A-Za-z0-9#\s])/,{token:"string.delim",switchTo:"@qqstring.$2.$2"}],[/(qq|qx)\s+(\w)/,{token:"string.delim",switchTo:"@qqstring.$2.$2"}]],qstring:[[/\\./,"string.escape"],[/./,{cases:{"$#==$S3":{token:"string.delim",next:"@pop"},"$#==$S2":{token:"string.delim",next:"@push"},"@default":"string"}}]],qregexp:[{include:"@variables"},[/\\./,"regexp.escape"],[/./,{cases:{"$#==$S3":{token:"regexp.delim",next:"@regexpModifiers"},"$#==$S2":{token:"regexp.delim",next:"@push"},"@default":"regexp"}}]],regexpModifiers:[[/[msixpodualngcer]+/,{token:"regexp.modifier",next:"@popall"}]],qqstring:[{include:"@variables"},{include:"@qstring"}],heredoc:[[/<<\s*['"`]?([\w\-]+)['"`]?/,{token:"string.heredoc.delimiter",next:"@heredocBody.$1"}]],heredocBody:[[/^([\w\-]+)$/,{cases:{"$1==$S2":[{token:"string.heredoc.delimiter",next:"@popall"}],"@default":"string.heredoc"}}],[/./,"string.heredoc"]],perldoc:[[/^=\w/,"comment.doc","@perldocBody"]],perldocBody:[[/^=cut\b/,"type.identifier","@popall"],[/./,"comment.doc"]],variables:[[/\$\w+/,"variable"],[/@\w+/,"variable"],[/%\w+/,"variable"]]}}},3182:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["ALL","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","ILIKE","IN","INITIALLY","INNER","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","NATURAL","NOT","NOTNULL","NULL","OFFSET","ON","ONLY","OR","ORDER","OUTER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH"],operators:["AND","BETWEEN","IN","LIKE","NOT","OR","IS","NULL","INTERSECT","UNION","INNER","JOIN","LEFT","OUTER","RIGHT"],builtinFunctions:["abbrev","abs","acldefault","aclexplode","acos","acosd","acosh","age","any","area","array_agg","array_append","array_cat","array_dims","array_fill","array_length","array_lower","array_ndims","array_position","array_positions","array_prepend","array_remove","array_replace","array_to_json","array_to_string","array_to_tsvector","array_upper","ascii","asin","asind","asinh","atan","atan2","atan2d","atand","atanh","avg","bit","bit_and","bit_count","bit_length","bit_or","bit_xor","bool_and","bool_or","bound_box","box","brin_desummarize_range","brin_summarize_new_values","brin_summarize_range","broadcast","btrim","cardinality","cbrt","ceil","ceiling","center","char_length","character_length","chr","circle","clock_timestamp","coalesce","col_description","concat","concat_ws","convert","convert_from","convert_to","corr","cos","cosd","cosh","cot","cotd","count","covar_pop","covar_samp","cume_dist","current_catalog","current_database","current_date","current_query","current_role","current_schema","current_schemas","current_setting","current_time","current_timestamp","current_user","currval","cursor_to_xml","cursor_to_xmlschema","date_bin","date_part","date_trunc","database_to_xml","database_to_xml_and_xmlschema","database_to_xmlschema","decode","degrees","dense_rank","diagonal","diameter","div","encode","enum_first","enum_last","enum_range","every","exp","extract","factorial","family","first_value","floor","format","format_type","gcd","gen_random_uuid","generate_series","generate_subscripts","get_bit","get_byte","get_current_ts_config","gin_clean_pending_list","greatest","grouping","has_any_column_privilege","has_column_privilege","has_database_privilege","has_foreign_data_wrapper_privilege","has_function_privilege","has_language_privilege","has_schema_privilege","has_sequence_privilege","has_server_privilege","has_table_privilege","has_tablespace_privilege","has_type_privilege","height","host","hostmask","inet_client_addr","inet_client_port","inet_merge","inet_same_family","inet_server_addr","inet_server_port","initcap","isclosed","isempty","isfinite","isopen","json_agg","json_array_elements","json_array_elements_text","json_array_length","json_build_array","json_build_object","json_each","json_each_text","json_extract_path","json_extract_path_text","json_object","json_object_agg","json_object_keys","json_populate_record","json_populate_recordset","json_strip_nulls","json_to_record","json_to_recordset","json_to_tsvector","json_typeof","jsonb_agg","jsonb_array_elements","jsonb_array_elements_text","jsonb_array_length","jsonb_build_array","jsonb_build_object","jsonb_each","jsonb_each_text","jsonb_extract_path","jsonb_extract_path_text","jsonb_insert","jsonb_object","jsonb_object_agg","jsonb_object_keys","jsonb_path_exists","jsonb_path_match","jsonb_path_query","jsonb_path_query_array","jsonb_path_exists_tz","jsonb_path_query_first","jsonb_path_query_array_tz","jsonb_path_query_first_tz","jsonb_path_query_tz","jsonb_path_match_tz","jsonb_populate_record","jsonb_populate_recordset","jsonb_pretty","jsonb_set","jsonb_set_lax","jsonb_strip_nulls","jsonb_to_record","jsonb_to_recordset","jsonb_to_tsvector","jsonb_typeof","justify_days","justify_hours","justify_interval","lag","last_value","lastval","lcm","lead","least","left","length","line","ln","localtime","localtimestamp","log","log10","lower","lower_inc","lower_inf","lpad","lseg","ltrim","macaddr8_set7bit","make_date","make_interval","make_time","make_timestamp","make_timestamptz","makeaclitem","masklen","max","md5","min","min_scale","mod","mode","multirange","netmask","network","nextval","normalize","now","npoints","nth_value","ntile","nullif","num_nonnulls","num_nulls","numnode","obj_description","octet_length","overlay","parse_ident","path","pclose","percent_rank","percentile_cont","percentile_disc","pg_advisory_lock","pg_advisory_lock_shared","pg_advisory_unlock","pg_advisory_unlock_all","pg_advisory_unlock_shared","pg_advisory_xact_lock","pg_advisory_xact_lock_shared","pg_backend_pid","pg_backup_start_time","pg_blocking_pids","pg_cancel_backend","pg_client_encoding","pg_collation_actual_version","pg_collation_is_visible","pg_column_compression","pg_column_size","pg_conf_load_time","pg_control_checkpoint","pg_control_init","pg_control_recovery","pg_control_system","pg_conversion_is_visible","pg_copy_logical_replication_slot","pg_copy_physical_replication_slot","pg_create_logical_replication_slot","pg_create_physical_replication_slot","pg_create_restore_point","pg_current_logfile","pg_current_snapshot","pg_current_wal_flush_lsn","pg_current_wal_insert_lsn","pg_current_wal_lsn","pg_current_xact_id","pg_current_xact_id_if_assigned","pg_current_xlog_flush_location","pg_current_xlog_insert_location","pg_current_xlog_location","pg_database_size","pg_describe_object","pg_drop_replication_slot","pg_event_trigger_ddl_commands","pg_event_trigger_dropped_objects","pg_event_trigger_table_rewrite_oid","pg_event_trigger_table_rewrite_reason","pg_export_snapshot","pg_filenode_relation","pg_function_is_visible","pg_get_catalog_foreign_keys","pg_get_constraintdef","pg_get_expr","pg_get_function_arguments","pg_get_function_identity_arguments","pg_get_function_result","pg_get_functiondef","pg_get_indexdef","pg_get_keywords","pg_get_object_address","pg_get_owned_sequence","pg_get_ruledef","pg_get_serial_sequence","pg_get_statisticsobjdef","pg_get_triggerdef","pg_get_userbyid","pg_get_viewdef","pg_get_wal_replay_pause_state","pg_has_role","pg_identify_object","pg_identify_object_as_address","pg_import_system_collations","pg_index_column_has_property","pg_index_has_property","pg_indexam_has_property","pg_indexes_size","pg_is_in_backup","pg_is_in_recovery","pg_is_other_temp_schema","pg_is_wal_replay_paused","pg_is_xlog_replay_paused","pg_jit_available","pg_last_committed_xact","pg_last_wal_receive_lsn","pg_last_wal_replay_lsn","pg_last_xact_replay_timestamp","pg_last_xlog_receive_location","pg_last_xlog_replay_location","pg_listening_channels","pg_log_backend_memory_contexts","pg_logical_emit_message","pg_logical_slot_get_binary_changes","pg_logical_slot_get_changes","pg_logical_slot_peek_binary_changes","pg_logical_slot_peek_changes","pg_ls_archive_statusdir","pg_ls_dir","pg_ls_logdir","pg_ls_tmpdir","pg_ls_waldir","pg_mcv_list_items","pg_my_temp_schema","pg_notification_queue_usage","pg_opclass_is_visible","pg_operator_is_visible","pg_opfamily_is_visible","pg_options_to_table","pg_partition_ancestors","pg_partition_root","pg_partition_tree","pg_postmaster_start_time","pg_promote","pg_read_binary_file","pg_read_file","pg_relation_filenode","pg_relation_filepath","pg_relation_size","pg_reload_conf","pg_replication_origin_advance","pg_replication_origin_create","pg_replication_origin_drop","pg_replication_origin_oid","pg_replication_origin_progress","pg_replication_origin_session_is_setup","pg_replication_origin_session_progress","pg_replication_origin_session_reset","pg_replication_origin_session_setup","pg_replication_origin_xact_reset","pg_replication_origin_xact_setup","pg_replication_slot_advance","pg_rotate_logfile","pg_safe_snapshot_blocking_pids","pg_size_bytes","pg_size_pretty","pg_sleep","pg_sleep_for","pg_sleep_until","pg_snapshot_xip","pg_snapshot_xmax","pg_snapshot_xmin","pg_start_backup","pg_stat_file","pg_statistics_obj_is_visible","pg_stop_backup","pg_switch_wal","pg_switch_xlog","pg_table_is_visible","pg_table_size","pg_tablespace_databases","pg_tablespace_location","pg_tablespace_size","pg_terminate_backend","pg_total_relation_size","pg_trigger_depth","pg_try_advisory_lock","pg_try_advisory_lock_shared","pg_try_advisory_xact_lock","pg_try_advisory_xact_lock_shared","pg_ts_config_is_visible","pg_ts_dict_is_visible","pg_ts_parser_is_visible","pg_ts_template_is_visible","pg_type_is_visible","pg_typeof","pg_visible_in_snapshot","pg_wal_lsn_diff","pg_wal_replay_pause","pg_wal_replay_resume","pg_walfile_name","pg_walfile_name_offset","pg_xact_commit_timestamp","pg_xact_commit_timestamp_origin","pg_xact_status","pg_xlog_location_diff","pg_xlog_replay_pause","pg_xlog_replay_resume","pg_xlogfile_name","pg_xlogfile_name_offset","phraseto_tsquery","pi","plainto_tsquery","point","polygon","popen","position","power","pqserverversion","query_to_xml","query_to_xml_and_xmlschema","query_to_xmlschema","querytree","quote_ident","quote_literal","quote_nullable","radians","radius","random","range_agg","range_intersect_agg","range_merge","rank","regexp_count","regexp_instr","regexp_like","regexp_match","regexp_matches","regexp_replace","regexp_split_to_array","regexp_split_to_table","regexp_substr","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","repeat","replace","reverse","right","round","row_number","row_security_active","row_to_json","rpad","rtrim","scale","schema_to_xml","schema_to_xml_and_xmlschema","schema_to_xmlschema","session_user","set_bit","set_byte","set_config","set_masklen","setseed","setval","setweight","sha224","sha256","sha384","sha512","shobj_description","sign","sin","sind","sinh","slope","split_part","sprintf","sqrt","starts_with","statement_timestamp","stddev","stddev_pop","stddev_samp","string_agg","string_to_array","string_to_table","strip","strpos","substr","substring","sum","suppress_redundant_updates_trigger","table_to_xml","table_to_xml_and_xmlschema","table_to_xmlschema","tan","tand","tanh","text","timeofday","timezone","to_ascii","to_char","to_date","to_hex","to_json","to_number","to_regclass","to_regcollation","to_regnamespace","to_regoper","to_regoperator","to_regproc","to_regprocedure","to_regrole","to_regtype","to_timestamp","to_tsquery","to_tsvector","transaction_timestamp","translate","trim","trim_array","trim_scale","trunc","ts_debug","ts_delete","ts_filter","ts_headline","ts_lexize","ts_parse","ts_rank","ts_rank_cd","ts_rewrite","ts_stat","ts_token_type","tsquery_phrase","tsvector_to_array","tsvector_update_trigger","tsvector_update_trigger_column","txid_current","txid_current_if_assigned","txid_current_snapshot","txid_snapshot_xip","txid_snapshot_xmax","txid_snapshot_xmin","txid_status","txid_visible_in_snapshot","unistr","unnest","upper","upper_inc","upper_inf","user","var_pop","var_samp","variance","version","websearch_to_tsquery","width","width_bucket","xml_is_well_formed","xml_is_well_formed_content","xml_is_well_formed_document","xmlagg","xmlcomment","xmlconcat","xmlelement","xmlexists","xmlforest","xmlparse","xmlpi","xmlroot","xmlserialize","xpath","xpath_exists"],builtinVariables:[],pseudoColumns:[],tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$]+/,{cases:{"@operators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@keywords":"keyword","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/'/,{token:"string",next:"@string"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],complexIdentifiers:[[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[]}}},6302:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:"(",close:")",notIn:["string"]},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],folding:{markers:{start:new RegExp("^\\s*(#|//)region\\b"),end:new RegExp("^\\s*(#|//)endregion\\b")}}},I={defaultToken:"",tokenPostfix:"",tokenizer:{root:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.root"}],[/<!DOCTYPE/,"metatag.html","@doctype"],[/<!--/,"comment.html","@comment"],[/(<)(\w+)(\/>)/,["delimiter.html","tag.html","delimiter.html"]],[/(<)(script)/,["delimiter.html",{token:"tag.html",next:"@script"}]],[/(<)(style)/,["delimiter.html",{token:"tag.html",next:"@style"}]],[/(<)([:\w]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/(<\/)(\w+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/</,"delimiter.html"],[/[^<]+/]],doctype:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.comment"}],[/[^>]+/,"metatag.content.html"],[/>/,"metatag.html","@pop"]],comment:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.comment"}],[/-->/,"comment.html","@pop"],[/[^-]+/,"comment.content.html"],[/./,"comment.content.html"]],otherTag:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.otherTag"}],[/\/?>/,"delimiter.html","@pop"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/]],script:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.script"}],[/type/,"attribute.name","@scriptAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/(<\/)(script\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],scriptAfterType:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.scriptAfterType"}],[/=/,"delimiter","@scriptAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptAfterTypeEquals:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.scriptAfterTypeEquals"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptWithCustomType:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.scriptWithCustomType.$S2"}],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptEmbedded:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInEmbeddedState.scriptEmbedded.$S2",nextEmbedded:"@pop"}],[/<\/script/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],style:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.style"}],[/type/,"attribute.name","@styleAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/(<\/)(style\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],styleAfterType:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.styleAfterType"}],[/=/,"delimiter","@styleAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleAfterTypeEquals:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.styleAfterTypeEquals"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleWithCustomType:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInSimpleState.styleWithCustomType.$S2"}],[/>/,{token:"delimiter.html",next:"@styleEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleEmbedded:[[/<\?((php)|=)?/,{token:"@rematch",switchTo:"@phpInEmbeddedState.styleEmbedded.$S2",nextEmbedded:"@pop"}],[/<\/style/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],phpInSimpleState:[[/<\?((php)|=)?/,"metatag.php"],[/\?>/,{token:"metatag.php",switchTo:"@$S2.$S3"}],{include:"phpRoot"}],phpInEmbeddedState:[[/<\?((php)|=)?/,"metatag.php"],[/\?>/,{token:"metatag.php",switchTo:"@$S2.$S3",nextEmbedded:"$S3"}],{include:"phpRoot"}],phpRoot:[[/[a-zA-Z_]\w*/,{cases:{"@phpKeywords":{token:"keyword.php"},"@phpCompileTimeConstants":{token:"constant.php"},"@default":"identifier.php"}}],[/[$a-zA-Z_]\w*/,{cases:{"@phpPreDefinedVariables":{token:"variable.predefined.php"},"@default":"variable.php"}}],[/[{}]/,"delimiter.bracket.php"],[/[\[\]]/,"delimiter.array.php"],[/[()]/,"delimiter.parenthesis.php"],[/[ \t\r\n]+/],[/(#|\/\/)$/,"comment.php"],[/(#|\/\/)/,"comment.php","@phpLineComment"],[/\/\*/,"comment.php","@phpComment"],[/"/,"string.php","@phpDoubleQuoteString"],[/'/,"string.php","@phpSingleQuoteString"],[/[\+\-\*\%\&\|\^\~\!\=\<\>\/\?\;\:\.\,\@]/,"delimiter.php"],[/\d*\d+[eE]([\-+]?\d+)?/,"number.float.php"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float.php"],[/0[xX][0-9a-fA-F']*[0-9a-fA-F]/,"number.hex.php"],[/0[0-7']*[0-7]/,"number.octal.php"],[/0[bB][0-1']*[0-1]/,"number.binary.php"],[/\d[\d']*/,"number.php"],[/\d/,"number.php"]],phpComment:[[/\*\//,"comment.php","@pop"],[/[^*]+/,"comment.php"],[/./,"comment.php"]],phpLineComment:[[/\?>/,{token:"@rematch",next:"@pop"}],[/.$/,"comment.php","@pop"],[/[^?]+$/,"comment.php","@pop"],[/[^?]+/,"comment.php"],[/./,"comment.php"]],phpDoubleQuoteString:[[/[^\\"]+/,"string.php"],[/@escapes/,"string.escape.php"],[/\\./,"string.escape.invalid.php"],[/"/,"string.php","@pop"]],phpSingleQuoteString:[[/[^\\']+/,"string.php"],[/@escapes/,"string.escape.php"],[/\\./,"string.escape.invalid.php"],[/'/,"string.php","@pop"]]},phpKeywords:["abstract","and","array","as","break","callable","case","catch","cfunction","class","clone","const","continue","declare","default","do","else","elseif","enddeclare","endfor","endforeach","endif","endswitch","endwhile","extends","false","final","for","foreach","function","global","goto","if","implements","interface","instanceof","insteadof","namespace","new","null","object","old_function","or","private","protected","public","resource","static","switch","throw","trait","try","true","use","var","while","xor","die","echo","empty","exit","eval","include","include_once","isset","list","require","require_once","return","print","unset","yield","__construct"],phpCompileTimeConstants:["__CLASS__","__DIR__","__FILE__","__LINE__","__NAMESPACE__","__METHOD__","__FUNCTION__","__TRAIT__"],phpPreDefinedVariables:["$GLOBALS","$_SERVER","$_GET","$_POST","$_FILES","$_REQUEST","$_SESSION","$_ENV","$_COOKIE","$php_errormsg","$HTTP_RAW_POST_DATA","$http_response_header","$argc","$argv"],escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/}},8390:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"#"},brackets:[["[","]"],["<",">"],["(",")"]],autoClosingPairs:[{open:"[",close:"]"},{open:"<",close:">"},{open:"(",close:")"}],surroundingPairs:[{open:"[",close:"]"},{open:"<",close:">"},{open:"(",close:")"}]},I={defaultToken:"",tokenPostfix:".pla",brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"<",close:">",token:"delimiter.angle"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:[".i",".o",".mv",".ilb",".ob",".label",".type",".phase",".pair",".symbolic",".symbolic-output",".kiss",".p",".e",".end"],comment:/#.*$/,identifier:/[a-zA-Z]+[a-zA-Z0-9_\-]*/,plaContent:/[01\-~\|]+/,tokenizer:{root:[{include:"@whitespace"},[/@comment/,"comment"],[/\.([a-zA-Z_\-]+)/,{cases:{"@eos":{token:"keyword.$1"},"@keywords":{cases:{".type":{token:"keyword.$1",next:"@type"},"@default":{token:"keyword.$1",next:"@keywordArg"}}},"@default":{token:"keyword.$1"}}}],[/@identifier/,"identifier"],[/@plaContent/,"string"]],whitespace:[[/[ \t\r\n]+/,""]],type:[{include:"@whitespace"},[/\w+/,{token:"type",next:"@pop"}]],keywordArg:[[/[ \t\r\n]+/,{cases:{"@eos":{token:"",next:"@pop"},"@default":""}}],[/@comment/,"comment","@pop"],[/[<>()\[\]]/,{cases:{"@eos":{token:"@brackets",next:"@pop"},"@default":"@brackets"}}],[/\-?\d+/,{cases:{"@eos":{token:"number",next:"@pop"},"@default":"number"}}],[/@identifier/,{cases:{"@eos":{token:"identifier",next:"@pop"},"@default":"identifier"}}],[/[;=]/,{cases:{"@eos":{token:"delimiter",next:"@pop"},"@default":"delimiter"}}]]}}},198:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["(*","*)"]},brackets:[["{","}"],["[","]"],["(",")"],["<",">"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment"]},{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]}]},I={tokenPostfix:".pats",defaultToken:"invalid",keywords:["abstype","abst0ype","absprop","absview","absvtype","absviewtype","absvt0ype","absviewt0ype","as","and","assume","begin","classdec","datasort","datatype","dataprop","dataview","datavtype","dataviewtype","do","end","extern","extype","extvar","exception","fn","fnx","fun","prfn","prfun","praxi","castfn","if","then","else","ifcase","in","infix","infixl","infixr","prefix","postfix","implmnt","implement","primplmnt","primplement","import","let","local","macdef","macrodef","nonfix","symelim","symintr","overload","of","op","rec","sif","scase","sortdef","sta","stacst","stadef","static","staload","dynload","try","tkindef","typedef","propdef","viewdef","vtypedef","viewtypedef","prval","var","prvar","when","where","with","withtype","withprop","withview","withvtype","withviewtype"],keywords_dlr:["$delay","$ldelay","$arrpsz","$arrptrsize","$d2ctype","$effmask","$effmask_ntm","$effmask_exn","$effmask_ref","$effmask_wrt","$effmask_all","$extern","$extkind","$extype","$extype_struct","$extval","$extfcall","$extmcall","$literal","$myfilename","$mylocation","$myfunction","$lst","$lst_t","$lst_vt","$list","$list_t","$list_vt","$rec","$rec_t","$rec_vt","$record","$record_t","$record_vt","$tup","$tup_t","$tup_vt","$tuple","$tuple_t","$tuple_vt","$break","$continue","$raise","$showtype","$vcopyenv_v","$vcopyenv_vt","$tempenver","$solver_assert","$solver_verify"],keywords_srp:["#if","#ifdef","#ifndef","#then","#elif","#elifdef","#elifndef","#else","#endif","#error","#prerr","#print","#assert","#undef","#define","#include","#require","#pragma","#codegen2","#codegen3"],irregular_keyword_list:["val+","val-","val","case+","case-","case","addr@","addr","fold@","free@","fix@","fix","lam@","lam","llam@","llam","viewt@ype+","viewt@ype-","viewt@ype","viewtype+","viewtype-","viewtype","view+","view-","view@","view","type+","type-","type","vtype+","vtype-","vtype","vt@ype+","vt@ype-","vt@ype","viewt@ype+","viewt@ype-","viewt@ype","viewtype+","viewtype-","viewtype","prop+","prop-","prop","type+","type-","type","t@ype","t@ype+","t@ype-","abst@ype","abstype","absviewt@ype","absvt@ype","for*","for","while*","while"],keywords_types:["bool","double","byte","int","short","char","void","unit","long","float","string","strptr"],keywords_effects:["0","fun","clo","prf","funclo","cloptr","cloref","ref","ntm","1"],operators:["@","!","|","`",":","$",".","=","#","~","..","...","=>","=<>","=/=>","=>>","=/=>>","<",">","><",".<",">.",".<>.","->","-<>"],brackets:[{open:",(",close:")",token:"delimiter.parenthesis"},{open:"`(",close:")",token:"delimiter.parenthesis"},{open:"%(",close:")",token:"delimiter.parenthesis"},{open:"'(",close:")",token:"delimiter.parenthesis"},{open:"'{",close:"}",token:"delimiter.parenthesis"},{open:"@(",close:")",token:"delimiter.parenthesis"},{open:"@{",close:"}",token:"delimiter.brace"},{open:"@[",close:"]",token:"delimiter.square"},{open:"#[",close:"]",token:"delimiter.square"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],symbols:/[=><!~?:&|+\-*\/\^%]+/,IDENTFST:/[a-zA-Z_]/,IDENTRST:/[a-zA-Z0-9_'$]/,symbolic:/[%&+-./:=@~`^|*!$#?<>]/,digit:/[0-9]/,digitseq0:/@digit*/,xdigit:/[0-9A-Za-z]/,xdigitseq0:/@xdigit*/,INTSP:/[lLuU]/,FLOATSP:/[fFlL]/,fexponent:/[eE][+-]?[0-9]+/,fexponent_bin:/[pP][+-]?[0-9]+/,deciexp:/\.[0-9]*@fexponent?/,hexiexp:/\.[0-9a-zA-Z]*@fexponent_bin?/,irregular_keywords:/val[+-]?|case[+-]?|addr\@?|fold\@|free\@|fix\@?|lam\@?|llam\@?|prop[+-]?|type[+-]?|view[+-@]?|viewt@?ype[+-]?|t@?ype[+-]?|v(iew)?t@?ype[+-]?|abst@?ype|absv(iew)?t@?ype|for\*?|while\*?/,ESCHAR:/[ntvbrfa\\\?'"\(\[\{]/,start:"root",tokenizer:{root:[{regex:/[ \t\r\n]+/,action:{token:""}},{regex:/\(\*\)/,action:{token:"invalid"}},{regex:/\(\*/,action:{token:"comment",next:"lexing_COMMENT_block_ml"}},{regex:/\(/,action:"@brackets"},{regex:/\)/,action:"@brackets"},{regex:/\[/,action:"@brackets"},{regex:/\]/,action:"@brackets"},{regex:/\{/,action:"@brackets"},{regex:/\}/,action:"@brackets"},{regex:/,\(/,action:"@brackets"},{regex:/,/,action:{token:"delimiter.comma"}},{regex:/;/,action:{token:"delimiter.semicolon"}},{regex:/@\(/,action:"@brackets"},{regex:/@\[/,action:"@brackets"},{regex:/@\{/,action:"@brackets"},{regex:/:</,action:{token:"keyword",next:"@lexing_EFFECT_commaseq0"}},{regex:/\.@symbolic+/,action:{token:"identifier.sym"}},{regex:/\.@digit*@fexponent@FLOATSP*/,action:{token:"number.float"}},{regex:/\.@digit+/,action:{token:"number.float"}},{regex:/\$@IDENTFST@IDENTRST*/,action:{cases:{"@keywords_dlr":{token:"keyword.dlr"},"@default":{token:"namespace"}}}},{regex:/\#@IDENTFST@IDENTRST*/,action:{cases:{"@keywords_srp":{token:"keyword.srp"},"@default":{token:"identifier"}}}},{regex:/%\(/,action:{token:"delimiter.parenthesis"}},{regex:/^%{(#|\^|\$)?/,action:{token:"keyword",next:"@lexing_EXTCODE",nextEmbedded:"text/javascript"}},{regex:/^%}/,action:{token:"keyword"}},{regex:/'\(/,action:{token:"delimiter.parenthesis"}},{regex:/'\[/,action:{token:"delimiter.bracket"}},{regex:/'\{/,action:{token:"delimiter.brace"}},[/(')(\\@ESCHAR|\\[xX]@xdigit+|\\@digit+)(')/,["string","string.escape","string"]],[/'[^\\']'/,"string"],[/"/,"string.quote","@lexing_DQUOTE"],{regex:/`\(/,action:"@brackets"},{regex:/\\/,action:{token:"punctuation"}},{regex:/@irregular_keywords(?!@IDENTRST)/,action:{token:"keyword"}},{regex:/@IDENTFST@IDENTRST*[<!\[]?/,action:{cases:{"@keywords":{token:"keyword"},"@keywords_types":{token:"type"},"@default":{token:"identifier"}}}},{regex:/\/\/\/\//,action:{token:"comment",next:"@lexing_COMMENT_rest"}},{regex:/\/\/.*$/,action:{token:"comment"}},{regex:/\/\*/,action:{token:"comment",next:"@lexing_COMMENT_block_c"}},{regex:/-<|=</,action:{token:"keyword",next:"@lexing_EFFECT_commaseq0"}},{regex:/@symbolic+/,action:{cases:{"@operators":"keyword","@default":"operator"}}},{regex:/0[xX]@xdigit+(@hexiexp|@fexponent_bin)@FLOATSP*/,action:{token:"number.float"}},{regex:/0[xX]@xdigit+@INTSP*/,action:{token:"number.hex"}},{regex:/0[0-7]+(?![0-9])@INTSP*/,action:{token:"number.octal"}},{regex:/@digit+(@fexponent|@deciexp)@FLOATSP*/,action:{token:"number.float"}},{regex:/@digit@digitseq0@INTSP*/,action:{token:"number.decimal"}},{regex:/@digit+@INTSP*/,action:{token:"number"}}],lexing_COMMENT_block_ml:[[/[^\(\*]+/,"comment"],[/\(\*/,"comment","@push"],[/\(\*/,"comment.invalid"],[/\*\)/,"comment","@pop"],[/\*/,"comment"]],lexing_COMMENT_block_c:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],lexing_COMMENT_rest:[[/$/,"comment","@pop"],[/.*/,"comment"]],lexing_EFFECT_commaseq0:[{regex:/@IDENTFST@IDENTRST+|@digit+/,action:{cases:{"@keywords_effects":{token:"type.effect"},"@default":{token:"identifier"}}}},{regex:/,/,action:{token:"punctuation"}},{regex:/>/,action:{token:"@rematch",next:"@pop"}}],lexing_EXTCODE:[{regex:/^%}/,action:{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}},{regex:/[^%]+/,action:""}],lexing_DQUOTE:[{regex:/"/,action:{token:"string.quote",next:"@pop"}},{regex:/(\{\$)(@IDENTFST@IDENTRST*)(\})/,action:[{token:"string.escape"},{token:"identifier"},{token:"string.escape"}]},{regex:/\\$/,action:{token:"string.escape"}},{regex:/\\(@ESCHAR|[xX]@xdigit+|@digit+)/,action:{token:"string.escape"}},{regex:/[^\\"]+/,action:{token:"string"}}]}}},6590:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["[","]"],["(",")"],["{","}"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment","identifier"]},{open:"[",close:"]",notIn:["string","comment","identifier"]},{open:"(",close:")",notIn:["string","comment","identifier"]},{open:"{",close:"}",notIn:["string","comment","identifier"]}]},I={defaultToken:"",tokenPostfix:".pq",ignoreCase:!1,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"{",close:"}",token:"delimiter.brackets"},{open:"(",close:")",token:"delimiter.parenthesis"}],operatorKeywords:["and","not","or"],keywords:["as","each","else","error","false","if","in","is","let","meta","otherwise","section","shared","then","true","try","type"],constructors:["#binary","#date","#datetime","#datetimezone","#duration","#table","#time"],constants:["#infinity","#nan","#sections","#shared"],typeKeywords:["action","any","anynonnull","none","null","logical","number","time","date","datetime","datetimezone","duration","text","binary","list","record","table","function"],builtinFunctions:["Access.Database","Action.Return","Action.Sequence","Action.Try","ActiveDirectory.Domains","AdoDotNet.DataSource","AdoDotNet.Query","AdobeAnalytics.Cubes","AnalysisServices.Database","AnalysisServices.Databases","AzureStorage.BlobContents","AzureStorage.Blobs","AzureStorage.Tables","Binary.Buffer","Binary.Combine","Binary.Compress","Binary.Decompress","Binary.End","Binary.From","Binary.FromList","Binary.FromText","Binary.InferContentType","Binary.Length","Binary.ToList","Binary.ToText","BinaryFormat.7BitEncodedSignedInteger","BinaryFormat.7BitEncodedUnsignedInteger","BinaryFormat.Binary","BinaryFormat.Byte","BinaryFormat.ByteOrder","BinaryFormat.Choice","BinaryFormat.Decimal","BinaryFormat.Double","BinaryFormat.Group","BinaryFormat.Length","BinaryFormat.List","BinaryFormat.Null","BinaryFormat.Record","BinaryFormat.SignedInteger16","BinaryFormat.SignedInteger32","BinaryFormat.SignedInteger64","BinaryFormat.Single","BinaryFormat.Text","BinaryFormat.Transform","BinaryFormat.UnsignedInteger16","BinaryFormat.UnsignedInteger32","BinaryFormat.UnsignedInteger64","Byte.From","Character.FromNumber","Character.ToNumber","Combiner.CombineTextByDelimiter","Combiner.CombineTextByEachDelimiter","Combiner.CombineTextByLengths","Combiner.CombineTextByPositions","Combiner.CombineTextByRanges","Comparer.Equals","Comparer.FromCulture","Comparer.Ordinal","Comparer.OrdinalIgnoreCase","Csv.Document","Cube.AddAndExpandDimensionColumn","Cube.AddMeasureColumn","Cube.ApplyParameter","Cube.AttributeMemberId","Cube.AttributeMemberProperty","Cube.CollapseAndRemoveColumns","Cube.Dimensions","Cube.DisplayFolders","Cube.Measures","Cube.Parameters","Cube.Properties","Cube.PropertyKey","Cube.ReplaceDimensions","Cube.Transform","Currency.From","DB2.Database","Date.AddDays","Date.AddMonths","Date.AddQuarters","Date.AddWeeks","Date.AddYears","Date.Day","Date.DayOfWeek","Date.DayOfWeekName","Date.DayOfYear","Date.DaysInMonth","Date.EndOfDay","Date.EndOfMonth","Date.EndOfQuarter","Date.EndOfWeek","Date.EndOfYear","Date.From","Date.FromText","Date.IsInCurrentDay","Date.IsInCurrentMonth","Date.IsInCurrentQuarter","Date.IsInCurrentWeek","Date.IsInCurrentYear","Date.IsInNextDay","Date.IsInNextMonth","Date.IsInNextNDays","Date.IsInNextNMonths","Date.IsInNextNQuarters","Date.IsInNextNWeeks","Date.IsInNextNYears","Date.IsInNextQuarter","Date.IsInNextWeek","Date.IsInNextYear","Date.IsInPreviousDay","Date.IsInPreviousMonth","Date.IsInPreviousNDays","Date.IsInPreviousNMonths","Date.IsInPreviousNQuarters","Date.IsInPreviousNWeeks","Date.IsInPreviousNYears","Date.IsInPreviousQuarter","Date.IsInPreviousWeek","Date.IsInPreviousYear","Date.IsInYearToDate","Date.IsLeapYear","Date.Month","Date.MonthName","Date.QuarterOfYear","Date.StartOfDay","Date.StartOfMonth","Date.StartOfQuarter","Date.StartOfWeek","Date.StartOfYear","Date.ToRecord","Date.ToText","Date.WeekOfMonth","Date.WeekOfYear","Date.Year","DateTime.AddZone","DateTime.Date","DateTime.FixedLocalNow","DateTime.From","DateTime.FromFileTime","DateTime.FromText","DateTime.IsInCurrentHour","DateTime.IsInCurrentMinute","DateTime.IsInCurrentSecond","DateTime.IsInNextHour","DateTime.IsInNextMinute","DateTime.IsInNextNHours","DateTime.IsInNextNMinutes","DateTime.IsInNextNSeconds","DateTime.IsInNextSecond","DateTime.IsInPreviousHour","DateTime.IsInPreviousMinute","DateTime.IsInPreviousNHours","DateTime.IsInPreviousNMinutes","DateTime.IsInPreviousNSeconds","DateTime.IsInPreviousSecond","DateTime.LocalNow","DateTime.Time","DateTime.ToRecord","DateTime.ToText","DateTimeZone.FixedLocalNow","DateTimeZone.FixedUtcNow","DateTimeZone.From","DateTimeZone.FromFileTime","DateTimeZone.FromText","DateTimeZone.LocalNow","DateTimeZone.RemoveZone","DateTimeZone.SwitchZone","DateTimeZone.ToLocal","DateTimeZone.ToRecord","DateTimeZone.ToText","DateTimeZone.ToUtc","DateTimeZone.UtcNow","DateTimeZone.ZoneHours","DateTimeZone.ZoneMinutes","Decimal.From","Diagnostics.ActivityId","Diagnostics.Trace","DirectQueryCapabilities.From","Double.From","Duration.Days","Duration.From","Duration.FromText","Duration.Hours","Duration.Minutes","Duration.Seconds","Duration.ToRecord","Duration.ToText","Duration.TotalDays","Duration.TotalHours","Duration.TotalMinutes","Duration.TotalSeconds","Embedded.Value","Error.Record","Excel.CurrentWorkbook","Excel.Workbook","Exchange.Contents","Expression.Constant","Expression.Evaluate","Expression.Identifier","Facebook.Graph","File.Contents","Folder.Contents","Folder.Files","Function.From","Function.Invoke","Function.InvokeAfter","Function.IsDataSource","GoogleAnalytics.Accounts","Guid.From","HdInsight.Containers","HdInsight.Contents","HdInsight.Files","Hdfs.Contents","Hdfs.Files","Informix.Database","Int16.From","Int32.From","Int64.From","Int8.From","ItemExpression.From","Json.Document","Json.FromValue","Lines.FromBinary","Lines.FromText","Lines.ToBinary","Lines.ToText","List.Accumulate","List.AllTrue","List.Alternate","List.AnyTrue","List.Average","List.Buffer","List.Combine","List.Contains","List.ContainsAll","List.ContainsAny","List.Count","List.Covariance","List.DateTimeZones","List.DateTimes","List.Dates","List.Difference","List.Distinct","List.Durations","List.FindText","List.First","List.FirstN","List.Generate","List.InsertRange","List.Intersect","List.IsDistinct","List.IsEmpty","List.Last","List.LastN","List.MatchesAll","List.MatchesAny","List.Max","List.MaxN","List.Median","List.Min","List.MinN","List.Mode","List.Modes","List.NonNullCount","List.Numbers","List.PositionOf","List.PositionOfAny","List.Positions","List.Product","List.Random","List.Range","List.RemoveFirstN","List.RemoveItems","List.RemoveLastN","List.RemoveMatchingItems","List.RemoveNulls","List.RemoveRange","List.Repeat","List.ReplaceMatchingItems","List.ReplaceRange","List.ReplaceValue","List.Reverse","List.Select","List.Single","List.SingleOrDefault","List.Skip","List.Sort","List.StandardDeviation","List.Sum","List.Times","List.Transform","List.TransformMany","List.Union","List.Zip","Logical.From","Logical.FromText","Logical.ToText","MQ.Queue","MySQL.Database","Number.Abs","Number.Acos","Number.Asin","Number.Atan","Number.Atan2","Number.BitwiseAnd","Number.BitwiseNot","Number.BitwiseOr","Number.BitwiseShiftLeft","Number.BitwiseShiftRight","Number.BitwiseXor","Number.Combinations","Number.Cos","Number.Cosh","Number.Exp","Number.Factorial","Number.From","Number.FromText","Number.IntegerDivide","Number.IsEven","Number.IsNaN","Number.IsOdd","Number.Ln","Number.Log","Number.Log10","Number.Mod","Number.Permutations","Number.Power","Number.Random","Number.RandomBetween","Number.Round","Number.RoundAwayFromZero","Number.RoundDown","Number.RoundTowardZero","Number.RoundUp","Number.Sign","Number.Sin","Number.Sinh","Number.Sqrt","Number.Tan","Number.Tanh","Number.ToText","OData.Feed","Odbc.DataSource","Odbc.Query","OleDb.DataSource","OleDb.Query","Oracle.Database","Percentage.From","PostgreSQL.Database","RData.FromBinary","Record.AddField","Record.Combine","Record.Field","Record.FieldCount","Record.FieldNames","Record.FieldOrDefault","Record.FieldValues","Record.FromList","Record.FromTable","Record.HasFields","Record.RemoveFields","Record.RenameFields","Record.ReorderFields","Record.SelectFields","Record.ToList","Record.ToTable","Record.TransformFields","Replacer.ReplaceText","Replacer.ReplaceValue","RowExpression.Column","RowExpression.From","Salesforce.Data","Salesforce.Reports","SapBusinessWarehouse.Cubes","SapHana.Database","SharePoint.Contents","SharePoint.Files","SharePoint.Tables","Single.From","Soda.Feed","Splitter.SplitByNothing","Splitter.SplitTextByAnyDelimiter","Splitter.SplitTextByDelimiter","Splitter.SplitTextByEachDelimiter","Splitter.SplitTextByLengths","Splitter.SplitTextByPositions","Splitter.SplitTextByRanges","Splitter.SplitTextByRepeatedLengths","Splitter.SplitTextByWhitespace","Sql.Database","Sql.Databases","SqlExpression.SchemaFrom","SqlExpression.ToExpression","Sybase.Database","Table.AddColumn","Table.AddIndexColumn","Table.AddJoinColumn","Table.AddKey","Table.AggregateTableColumn","Table.AlternateRows","Table.Buffer","Table.Column","Table.ColumnCount","Table.ColumnNames","Table.ColumnsOfType","Table.Combine","Table.CombineColumns","Table.Contains","Table.ContainsAll","Table.ContainsAny","Table.DemoteHeaders","Table.Distinct","Table.DuplicateColumn","Table.ExpandListColumn","Table.ExpandRecordColumn","Table.ExpandTableColumn","Table.FillDown","Table.FillUp","Table.FilterWithDataTable","Table.FindText","Table.First","Table.FirstN","Table.FirstValue","Table.FromColumns","Table.FromList","Table.FromPartitions","Table.FromRecords","Table.FromRows","Table.FromValue","Table.Group","Table.HasColumns","Table.InsertRows","Table.IsDistinct","Table.IsEmpty","Table.Join","Table.Keys","Table.Last","Table.LastN","Table.MatchesAllRows","Table.MatchesAnyRows","Table.Max","Table.MaxN","Table.Min","Table.MinN","Table.NestedJoin","Table.Partition","Table.PartitionValues","Table.Pivot","Table.PositionOf","Table.PositionOfAny","Table.PrefixColumns","Table.Profile","Table.PromoteHeaders","Table.Range","Table.RemoveColumns","Table.RemoveFirstN","Table.RemoveLastN","Table.RemoveMatchingRows","Table.RemoveRows","Table.RemoveRowsWithErrors","Table.RenameColumns","Table.ReorderColumns","Table.Repeat","Table.ReplaceErrorValues","Table.ReplaceKeys","Table.ReplaceMatchingRows","Table.ReplaceRelationshipIdentity","Table.ReplaceRows","Table.ReplaceValue","Table.ReverseRows","Table.RowCount","Table.Schema","Table.SelectColumns","Table.SelectRows","Table.SelectRowsWithErrors","Table.SingleRow","Table.Skip","Table.Sort","Table.SplitColumn","Table.ToColumns","Table.ToList","Table.ToRecords","Table.ToRows","Table.TransformColumnNames","Table.TransformColumnTypes","Table.TransformColumns","Table.TransformRows","Table.Transpose","Table.Unpivot","Table.UnpivotOtherColumns","Table.View","Table.ViewFunction","TableAction.DeleteRows","TableAction.InsertRows","TableAction.UpdateRows","Tables.GetRelationships","Teradata.Database","Text.AfterDelimiter","Text.At","Text.BeforeDelimiter","Text.BetweenDelimiters","Text.Clean","Text.Combine","Text.Contains","Text.End","Text.EndsWith","Text.Format","Text.From","Text.FromBinary","Text.Insert","Text.Length","Text.Lower","Text.Middle","Text.NewGuid","Text.PadEnd","Text.PadStart","Text.PositionOf","Text.PositionOfAny","Text.Proper","Text.Range","Text.Remove","Text.RemoveRange","Text.Repeat","Text.Replace","Text.ReplaceRange","Text.Select","Text.Split","Text.SplitAny","Text.Start","Text.StartsWith","Text.ToBinary","Text.ToList","Text.Trim","Text.TrimEnd","Text.TrimStart","Text.Upper","Time.EndOfHour","Time.From","Time.FromText","Time.Hour","Time.Minute","Time.Second","Time.StartOfHour","Time.ToRecord","Time.ToText","Type.AddTableKey","Type.ClosedRecord","Type.Facets","Type.ForFunction","Type.ForRecord","Type.FunctionParameters","Type.FunctionRequiredParameters","Type.FunctionReturn","Type.Is","Type.IsNullable","Type.IsOpenRecord","Type.ListItem","Type.NonNullable","Type.OpenRecord","Type.RecordFields","Type.ReplaceFacets","Type.ReplaceTableKeys","Type.TableColumn","Type.TableKeys","Type.TableRow","Type.TableSchema","Type.Union","Uri.BuildQueryString","Uri.Combine","Uri.EscapeDataString","Uri.Parts","Value.Add","Value.As","Value.Compare","Value.Divide","Value.Equals","Value.Firewall","Value.FromText","Value.Is","Value.Metadata","Value.Multiply","Value.NativeQuery","Value.NullableEquals","Value.RemoveMetadata","Value.ReplaceMetadata","Value.ReplaceType","Value.Subtract","Value.Type","ValueAction.NativeStatement","ValueAction.Replace","Variable.Value","Web.Contents","Web.Page","WebAction.Request","Xml.Document","Xml.Tables"],builtinConstants:["BinaryEncoding.Base64","BinaryEncoding.Hex","BinaryOccurrence.Optional","BinaryOccurrence.Repeating","BinaryOccurrence.Required","ByteOrder.BigEndian","ByteOrder.LittleEndian","Compression.Deflate","Compression.GZip","CsvStyle.QuoteAfterDelimiter","CsvStyle.QuoteAlways","Culture.Current","Day.Friday","Day.Monday","Day.Saturday","Day.Sunday","Day.Thursday","Day.Tuesday","Day.Wednesday","ExtraValues.Error","ExtraValues.Ignore","ExtraValues.List","GroupKind.Global","GroupKind.Local","JoinAlgorithm.Dynamic","JoinAlgorithm.LeftHash","JoinAlgorithm.LeftIndex","JoinAlgorithm.PairwiseHash","JoinAlgorithm.RightHash","JoinAlgorithm.RightIndex","JoinAlgorithm.SortMerge","JoinKind.FullOuter","JoinKind.Inner","JoinKind.LeftAnti","JoinKind.LeftOuter","JoinKind.RightAnti","JoinKind.RightOuter","JoinSide.Left","JoinSide.Right","MissingField.Error","MissingField.Ignore","MissingField.UseNull","Number.E","Number.Epsilon","Number.NaN","Number.NegativeInfinity","Number.PI","Number.PositiveInfinity","Occurrence.All","Occurrence.First","Occurrence.Last","Occurrence.Optional","Occurrence.Repeating","Occurrence.Required","Order.Ascending","Order.Descending","Precision.Decimal","Precision.Double","QuoteStyle.Csv","QuoteStyle.None","RelativePosition.FromEnd","RelativePosition.FromStart","RoundingMode.AwayFromZero","RoundingMode.Down","RoundingMode.ToEven","RoundingMode.TowardZero","RoundingMode.Up","SapHanaDistribution.All","SapHanaDistribution.Connection","SapHanaDistribution.Off","SapHanaDistribution.Statement","SapHanaRangeOperator.Equals","SapHanaRangeOperator.GreaterThan","SapHanaRangeOperator.GreaterThanOrEquals","SapHanaRangeOperator.LessThan","SapHanaRangeOperator.LessThanOrEquals","SapHanaRangeOperator.NotEquals","TextEncoding.Ascii","TextEncoding.BigEndianUnicode","TextEncoding.Unicode","TextEncoding.Utf16","TextEncoding.Utf8","TextEncoding.Windows","TraceLevel.Critical","TraceLevel.Error","TraceLevel.Information","TraceLevel.Verbose","TraceLevel.Warning","WebMethod.Delete","WebMethod.Get","WebMethod.Head","WebMethod.Patch","WebMethod.Post","WebMethod.Put"],builtinTypes:["Action.Type","Any.Type","Binary.Type","BinaryEncoding.Type","BinaryOccurrence.Type","Byte.Type","ByteOrder.Type","Character.Type","Compression.Type","CsvStyle.Type","Currency.Type","Date.Type","DateTime.Type","DateTimeZone.Type","Day.Type","Decimal.Type","Double.Type","Duration.Type","ExtraValues.Type","Function.Type","GroupKind.Type","Guid.Type","Int16.Type","Int32.Type","Int64.Type","Int8.Type","JoinAlgorithm.Type","JoinKind.Type","JoinSide.Type","List.Type","Logical.Type","MissingField.Type","None.Type","Null.Type","Number.Type","Occurrence.Type","Order.Type","Password.Type","Percentage.Type","Precision.Type","QuoteStyle.Type","Record.Type","RelativePosition.Type","RoundingMode.Type","SapHanaDistribution.Type","SapHanaRangeOperator.Type","Single.Type","Table.Type","Text.Type","TextEncoding.Type","Time.Type","TraceLevel.Type","Type.Type","Uri.Type","WebMethod.Type"],tokenizer:{root:[[/#"[\w \.]+"/,"identifier.quote"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+([eE][\-+]?\d+)?/,"number"],[/(#?[a-z]+)\b/,{cases:{"@typeKeywords":"type","@keywords":"keyword","@constants":"constant","@constructors":"constructor","@operatorKeywords":"operators","@default":"identifier"}}],[/\b([A-Z][a-zA-Z0-9]+\.Type)\b/,{cases:{"@builtinTypes":"type","@default":"identifier"}}],[/\b([A-Z][a-zA-Z0-9]+\.[A-Z][a-zA-Z0-9]+)\b/,{cases:{"@builtinFunctions":"keyword.function","@builtinConstants":"constant","@default":"identifier"}}],[/\b([a-zA-Z_][\w\.]*)\b/,"identifier"],{include:"@whitespace"},{include:"@comments"},{include:"@strings"},[/[{}()\[\]]/,"@brackets"],[/([=\+<>\-\*&@\?\/!])|([<>]=)|(<>)|(=>)|(\.\.\.)|(\.\.)/,"operators"],[/[,;]/,"delimiter"]],whitespace:[[/\s+/,"white"]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[".","comment"]],strings:[['"',"string","@string"]],string:[['""',"string.escape"],['"',"string","@pop"],[".","string"]]}}},4698:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#%\^\&\*\(\)\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"#",blockComment:["<#","#>"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*#region\\b"),end:new RegExp("^\\s*#endregion\\b")}}},I={defaultToken:"",ignoreCase:!0,tokenPostfix:".ps1",brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.square",open:"[",close:"]"},{token:"delimiter.parenthesis",open:"(",close:")"}],keywords:["begin","break","catch","class","continue","data","define","do","dynamicparam","else","elseif","end","exit","filter","finally","for","foreach","from","function","if","in","param","process","return","switch","throw","trap","try","until","using","var","while","workflow","parallel","sequence","inlinescript","configuration"],helpKeywords:/SYNOPSIS|DESCRIPTION|PARAMETER|EXAMPLE|INPUTS|OUTPUTS|NOTES|LINK|COMPONENT|ROLE|FUNCTIONALITY|FORWARDHELPTARGETNAME|FORWARDHELPCATEGORY|REMOTEHELPRUNSPACE|EXTERNALHELP/,symbols:/[=><!~?&%|+\-*\/\^;\.,]+/,escapes:/`(?:[abfnrtv\\"'$]|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z_][\w-]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":""}}],[/[ \t\r\n]+/,""],[/^:\w*/,"metatag"],[/\$(\{((global|local|private|script|using):)?[\w]+\}|((global|local|private|script|using):)?[\w]+)/,"variable"],[/<#/,"comment","@comment"],[/#.*$/,"comment"],[/[{}()\[\]]/,"@brackets"],[/@symbols/,"delimiter"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F]/,"number.hex"],[/\d+?/,"number"],[/[;,.]/,"delimiter"],[/\@"/,"string",'@herestring."'],[/\@'/,"string","@herestring.'"],[/"/,{cases:{"@eos":"string","@default":{token:"string",next:'@string."'}}}],[/'/,{cases:{"@eos":"string","@default":{token:"string",next:"@string.'"}}}]],string:[[/[^"'\$`]+/,{cases:{"@eos":{token:"string",next:"@popall"},"@default":"string"}}],[/@escapes/,{cases:{"@eos":{token:"string.escape",next:"@popall"},"@default":"string.escape"}}],[/`./,{cases:{"@eos":{token:"string.escape.invalid",next:"@popall"},"@default":"string.escape.invalid"}}],[/\$[\w]+$/,{cases:{'$S2=="':{token:"variable",next:"@popall"},"@default":{token:"string",next:"@popall"}}}],[/\$[\w]+/,{cases:{'$S2=="':"variable","@default":"string"}}],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":{cases:{"@eos":{token:"string",next:"@popall"},"@default":"string"}}}}]],herestring:[[/^\s*(["'])@/,{cases:{"$1==$S2":{token:"string",next:"@pop"},"@default":"string"}}],[/[^\$`]+/,"string"],[/@escapes/,"string.escape"],[/`./,"string.escape.invalid"],[/\$[\w]+/,{cases:{'$S2=="':"variable","@default":"string"}}]],comment:[[/[^#\.]+/,"comment"],[/#>/,"comment","@pop"],[/(\.)(@helpKeywords)(?!\w)/,{token:"comment.keyword.$2"}],[/[\.#]/,"comment"]]}}},1118:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"],["<",">"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string"]}],autoCloseBefore:".,=}])>' \n\t",indentationRules:{increaseIndentPattern:new RegExp("^((?!\\/\\/).)*(\\{[^}\"'`]*|\\([^)\"'`]*|\\[[^\\]\"'`]*)$"),decreaseIndentPattern:new RegExp("^((?!.*?\\/\\*).*\\*/)?\\s*[\\}\\]].*$")}},I={defaultToken:"",tokenPostfix:".proto",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],symbols:/[=><!~?:&|+\-*/^%]+/,keywords:["syntax","import","weak","public","package","option","repeated","oneof","map","reserved","to","max","enum","message","service","rpc","stream","returns","package","optional","true","false"],builtinTypes:["double","float","int32","int64","uint32","uint64","sint32","sint64","fixed32","fixed64","sfixed32","sfixed64","bool","string","bytes"],operators:["=","+","-"],namedLiterals:["true","false"],escapes:"\\\\(u{[0-9A-Fa-f]+}|n|r|t|\\\\|'|\\${)",identifier:/[a-zA-Z]\w*/,fullIdentifier:/@identifier(?:\s*\.\s*@identifier)*/,optionName:/(?:@identifier|\(\s*@fullIdentifier\s*\))(?:\s*\.\s*@identifier)*/,messageName:/@identifier/,enumName:/@identifier/,messageType:/\.?\s*(?:@identifier\s*\.\s*)*@messageName/,enumType:/\.?\s*(?:@identifier\s*\.\s*)*@enumName/,floatLit:/[0-9]+\s*\.\s*[0-9]*(?:@exponent)?|[0-9]+@exponent|\.[0-9]+(?:@exponent)?/,exponent:/[eE]\s*[+-]?\s*[0-9]+/,boolLit:/true\b|false\b/,decimalLit:/[1-9][0-9]*/,octalLit:/0[0-7]*/,hexLit:/0[xX][0-9a-fA-F]+/,type:/double|float|int32|int64|uint32|uint64|sint32|sint64|fixed32|fixed64|sfixed32|sfixed64|bool|string|bytes|@messageType|@enumType/,keyType:/int32|int64|uint32|uint64|sint32|sint64|fixed32|fixed64|sfixed32|sfixed64|bool|string/,tokenizer:{root:[{include:"@whitespace"},[/syntax/,"keyword"],[/=/,"operators"],[/;/,"delimiter"],[/(")(proto3)(")/,["string.quote","string",{token:"string.quote",switchTo:"@topLevel.proto3"}]],[/(")(proto2)(")/,["string.quote","string",{token:"string.quote",switchTo:"@topLevel.proto2"}]],[/.*?/,{token:"",switchTo:"@topLevel.proto2"}]],topLevel:[{include:"@whitespace"},{include:"@constant"},[/=/,"operators"],[/[;.]/,"delimiter"],[/@fullIdentifier/,{cases:{option:{token:"keyword",next:"@option.$S2"},enum:{token:"keyword",next:"@enumDecl.$S2"},message:{token:"keyword",next:"@messageDecl.$S2"},service:{token:"keyword",next:"@serviceDecl.$S2"},extend:{cases:{"$S2==proto2":{token:"keyword",next:"@extendDecl.$S2"}}},"@keywords":"keyword","@default":"identifier"}}]],enumDecl:[{include:"@whitespace"},[/@identifier/,"type.identifier"],[/{/,{token:"@brackets",bracket:"@open",switchTo:"@enumBody.$S2"}]],enumBody:[{include:"@whitespace"},{include:"@constant"},[/=/,"operators"],[/;/,"delimiter"],[/option\b/,"keyword","@option.$S2"],[/@identifier/,"identifier"],[/\[/,{token:"@brackets",bracket:"@open",next:"@options.$S2"}],[/}/,{token:"@brackets",bracket:"@close",next:"@pop"}]],messageDecl:[{include:"@whitespace"},[/@identifier/,"type.identifier"],[/{/,{token:"@brackets",bracket:"@open",switchTo:"@messageBody.$S2"}]],messageBody:[{include:"@whitespace"},{include:"@constant"},[/=/,"operators"],[/;/,"delimiter"],["(map)(s*)(<)",["keyword","white",{token:"@brackets",bracket:"@open",next:"@map.$S2"}]],[/@identifier/,{cases:{option:{token:"keyword",next:"@option.$S2"},enum:{token:"keyword",next:"@enumDecl.$S2"},message:{token:"keyword",next:"@messageDecl.$S2"},oneof:{token:"keyword",next:"@oneofDecl.$S2"},extensions:{cases:{"$S2==proto2":{token:"keyword",next:"@reserved.$S2"}}},reserved:{token:"keyword",next:"@reserved.$S2"},"(?:repeated|optional)":{token:"keyword",next:"@field.$S2"},required:{cases:{"$S2==proto2":{token:"keyword",next:"@field.$S2"}}},"$S2==proto3":{token:"@rematch",next:"@field.$S2"}}}],[/\[/,{token:"@brackets",bracket:"@open",next:"@options.$S2"}],[/}/,{token:"@brackets",bracket:"@close",next:"@pop"}]],extendDecl:[{include:"@whitespace"},[/@identifier/,"type.identifier"],[/{/,{token:"@brackets",bracket:"@open",switchTo:"@extendBody.$S2"}]],extendBody:[{include:"@whitespace"},{include:"@constant"},[/;/,"delimiter"],[/(?:repeated|optional|required)/,"keyword","@field.$S2"],[/\[/,{token:"@brackets",bracket:"@open",next:"@options.$S2"}],[/}/,{token:"@brackets",bracket:"@close",next:"@pop"}]],options:[{include:"@whitespace"},{include:"@constant"},[/;/,"delimiter"],[/@optionName/,"annotation"],[/[()]/,"annotation.brackets"],[/=/,"operator"],[/\]/,{token:"@brackets",bracket:"@close",next:"@pop"}]],option:[{include:"@whitespace"},[/@optionName/,"annotation"],[/[()]/,"annotation.brackets"],[/=/,"operator","@pop"]],oneofDecl:[{include:"@whitespace"},[/@identifier/,"identifier"],[/{/,{token:"@brackets",bracket:"@open",switchTo:"@oneofBody.$S2"}]],oneofBody:[{include:"@whitespace"},{include:"@constant"},[/;/,"delimiter"],[/(@identifier)(\s*)(=)/,["identifier","white","delimiter"]],[/@fullIdentifier|\./,{cases:{"@builtinTypes":"keyword","@default":"type.identifier"}}],[/\[/,{token:"@brackets",bracket:"@open",next:"@options.$S2"}],[/}/,{token:"@brackets",bracket:"@close",next:"@pop"}]],reserved:[{include:"@whitespace"},[/,/,"delimiter"],[/;/,"delimiter","@pop"],{include:"@constant"},[/to\b|max\b/,"keyword"]],map:[{include:"@whitespace"},[/@fullIdentifier|\./,{cases:{"@builtinTypes":"keyword","@default":"type.identifier"}}],[/,/,"delimiter"],[/>/,{token:"@brackets",bracket:"@close",switchTo:"identifier"}]],field:[{include:"@whitespace"},["group",{cases:{"$S2==proto2":{token:"keyword",switchTo:"@groupDecl.$S2"}}}],[/(@identifier)(\s*)(=)/,["identifier","white",{token:"delimiter",next:"@pop"}]],[/@fullIdentifier|\./,{cases:{"@builtinTypes":"keyword","@default":"type.identifier"}}]],groupDecl:[{include:"@whitespace"},[/@identifier/,"identifier"],["=","operator"],[/{/,{token:"@brackets",bracket:"@open",switchTo:"@messageBody.$S2"}],{include:"@constant"}],type:[{include:"@whitespace"},[/@identifier/,"type.identifier","@pop"],[/./,"delimiter"]],identifier:[{include:"@whitespace"},[/@identifier/,"identifier","@pop"]],serviceDecl:[{include:"@whitespace"},[/@identifier/,"identifier"],[/{/,{token:"@brackets",bracket:"@open",switchTo:"@serviceBody.$S2"}]],serviceBody:[{include:"@whitespace"},{include:"@constant"},[/;/,"delimiter"],[/option\b/,"keyword","@option.$S2"],[/rpc\b/,"keyword","@rpc.$S2"],[/\[/,{token:"@brackets",bracket:"@open",next:"@options.$S2"}],[/}/,{token:"@brackets",bracket:"@close",next:"@pop"}]],rpc:[{include:"@whitespace"},[/@identifier/,"identifier"],[/\(/,{token:"@brackets",bracket:"@open",switchTo:"@request.$S2"}],[/{/,{token:"@brackets",bracket:"@open",next:"@methodOptions.$S2"}],[/;/,"delimiter","@pop"]],request:[{include:"@whitespace"},[/@messageType/,{cases:{stream:{token:"keyword",next:"@type.$S2"},"@default":"type.identifier"}}],[/\)/,{token:"@brackets",bracket:"@close",switchTo:"@returns.$S2"}]],returns:[{include:"@whitespace"},[/returns\b/,"keyword"],[/\(/,{token:"@brackets",bracket:"@open",switchTo:"@response.$S2"}]],response:[{include:"@whitespace"},[/@messageType/,{cases:{stream:{token:"keyword",next:"@type.$S2"},"@default":"type.identifier"}}],[/\)/,{token:"@brackets",bracket:"@close",switchTo:"@rpc.$S2"}]],methodOptions:[{include:"@whitespace"},{include:"@constant"},[/;/,"delimiter"],["option","keyword"],[/@optionName/,"annotation"],[/[()]/,"annotation.brackets"],[/=/,"operator"],[/}/,{token:"@brackets",bracket:"@close",next:"@pop"}]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],stringSingle:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,{token:"string.quote",bracket:"@close",next:"@pop"}]],constant:[["@boolLit","keyword.constant"],["@hexLit","number.hex"],["@octalLit","number.octal"],["@decimalLit","number"],["@floatLit","number.float"],[/("([^"\\]|\\.)*|'([^'\\]|\\.)*)$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'/,{token:"string.quote",bracket:"@open",next:"@stringSingle"}],[/{/,{token:"@brackets",bracket:"@open",next:"@prototext"}],[/identifier/,"identifier"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],prototext:[{include:"@whitespace"},{include:"@constant"},[/@identifier/,"identifier"],[/[:;]/,"delimiter"],[/}/,{token:"@brackets",bracket:"@close",next:"@pop"}]]}}},970:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]}],folding:{offSide:!0}},I={defaultToken:"",tokenPostfix:".pug",ignoreCase:!0,brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.array",open:"[",close:"]"},{token:"delimiter.parenthesis",open:"(",close:")"}],keywords:["append","block","case","default","doctype","each","else","extends","for","if","in","include","mixin","typeof","unless","var","when"],tags:["a","abbr","acronym","address","area","article","aside","audio","b","base","basefont","bdi","bdo","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","keygen","kbd","label","li","link","map","mark","menu","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","tracks","tt","u","ul","video","wbr"],symbols:/[\+\-\*\%\&\|\!\=\/\.\,\:]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/^(\s*)([a-zA-Z_-][\w-]*)/,{cases:{"$2@tags":{cases:{"@eos":["","tag"],"@default":["",{token:"tag",next:"@tag.$1"}]}},"$2@keywords":["",{token:"keyword.$2"}],"@default":["",""]}}],[/^(\s*)(#[a-zA-Z_-][\w-]*)/,{cases:{"@eos":["","tag.id"],"@default":["",{token:"tag.id",next:"@tag.$1"}]}}],[/^(\s*)(\.[a-zA-Z_-][\w-]*)/,{cases:{"@eos":["","tag.class"],"@default":["",{token:"tag.class",next:"@tag.$1"}]}}],[/^(\s*)(\|.*)$/,""],{include:"@whitespace"},[/[a-zA-Z_$][\w$]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":""}}],[/[{}()\[\]]/,"@brackets"],[/@symbols/,"delimiter"],[/\d+\.\d+([eE][\-+]?\d+)?/,"number.float"],[/\d+/,"number"],[/"/,"string",'@string."'],[/'/,"string","@string.'"]],tag:[[/(\.)(\s*$)/,[{token:"delimiter",next:"@blockText.$S2."},""]],[/\s+/,{token:"",next:"@simpleText"}],[/#[a-zA-Z_-][\w-]*/,{cases:{"@eos":{token:"tag.id",next:"@pop"},"@default":"tag.id"}}],[/\.[a-zA-Z_-][\w-]*/,{cases:{"@eos":{token:"tag.class",next:"@pop"},"@default":"tag.class"}}],[/\(/,{token:"delimiter.parenthesis",next:"@attributeList"}]],simpleText:[[/[^#]+$/,{token:"",next:"@popall"}],[/[^#]+/,{token:""}],[/(#{)([^}]*)(})/,{cases:{"@eos":["interpolation.delimiter","interpolation",{token:"interpolation.delimiter",next:"@popall"}],"@default":["interpolation.delimiter","interpolation","interpolation.delimiter"]}}],[/#$/,{token:"",next:"@popall"}],[/#/,""]],attributeList:[[/\s+/,""],[/(\w+)(\s*=\s*)("|')/,["attribute.name","delimiter",{token:"attribute.value",next:"@value.$3"}]],[/\w+/,"attribute.name"],[/,/,{cases:{"@eos":{token:"attribute.delimiter",next:"@popall"},"@default":"attribute.delimiter"}}],[/\)$/,{token:"delimiter.parenthesis",next:"@popall"}],[/\)/,{token:"delimiter.parenthesis",next:"@pop"}]],whitespace:[[/^(\s*)(\/\/.*)$/,{token:"comment",next:"@blockText.$1.comment"}],[/[ \t\r\n]+/,""],[/<!--/,{token:"comment",next:"@comment"}]],blockText:[[/^\s+.*$/,{cases:{"($S2\\s+.*$)":{token:"$S3"},"@default":{token:"@rematch",next:"@popall"}}}],[/./,{token:"@rematch",next:"@popall"}]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,{token:"comment",next:"@pop"}],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]],string:[[/[^\\"'#]+/,{cases:{"@eos":{token:"string",next:"@popall"},"@default":"string"}}],[/@escapes/,{cases:{"@eos":{token:"string.escape",next:"@popall"},"@default":"string.escape"}}],[/\\./,{cases:{"@eos":{token:"string.escape.invalid",next:"@popall"},"@default":"string.escape.invalid"}}],[/(#{)([^}]*)(})/,["interpolation.delimiter","interpolation","interpolation.delimiter"]],[/#/,"string"],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":{token:"string"}}}]],value:[[/[^\\"']+/,{cases:{"@eos":{token:"attribute.value",next:"@popall"},"@default":"attribute.value"}}],[/\\./,{cases:{"@eos":{token:"attribute.value",next:"@popall"},"@default":"attribute.value"}}],[/["']/,{cases:{"$#==$S2":{token:"attribute.value",next:"@pop"},"@default":{token:"attribute.value"}}}]]}}},5196:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>w,language:()=>C});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(d,f,p,_)=>{if(f&&typeof f=="object"||typeof f=="function")for(let m of J(f))M.call(d,m)||m===p||I(d,m,{get:()=>f[m],enumerable:!(_=T(f,m))||_.enumerable});return d},E={};v(E,s,"default");var w={comments:{lineComment:"#",blockComment:["'''","'''"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:new RegExp("^\\s*(?:def|class|for|if|elif|else|while|try|with|finally|except|async|match|case).*?:\\s*$"),action:{indentAction:E.languages.IndentAction.Indent}}],folding:{offSide:!0,markers:{start:new RegExp("^\\s*#region\\b"),end:new RegExp("^\\s*#endregion\\b")}}},C={defaultToken:"",tokenPostfix:".python",keywords:["False","None","True","_","and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","exec","finally","for","from","global","if","import","in","is","lambda","match","nonlocal","not","or","pass","print","raise","return","try","type","while","with","yield","int","float","long","complex","hex","abs","all","any","apply","basestring","bin","bool","buffer","bytearray","callable","chr","classmethod","cmp","coerce","compile","complex","delattr","dict","dir","divmod","enumerate","eval","execfile","file","filter","format","frozenset","getattr","globals","hasattr","hash","help","id","input","intern","isinstance","issubclass","iter","len","locals","list","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","reversed","range","raw_input","reduce","reload","repr","reversed","round","self","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","unichr","unicode","vars","xrange","zip","__dict__","__methods__","__members__","__class__","__bases__","__name__","__mro__","__subclasses__","__init__","__import__"],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/[,:;]/,"delimiter"],[/[{}\[\]()]/,"@brackets"],[/@[a-zA-Z_]\w*/,"tag"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}]],whitespace:[[/\s+/,"white"],[/(^#.*$)/,"comment"],[/'''/,"string","@endDocString"],[/"""/,"string","@endDblDocString"]],endDocString:[[/[^']+/,"string"],[/\\'/,"string"],[/'''/,"string","@popall"],[/'/,"string"]],endDblDocString:[[/[^"]+/,"string"],[/\\"/,"string"],[/"""/,"string","@popall"],[/"/,"string"]],numbers:[[/-?0x([abcdef]|[ABCDEF]|\d)+[lL]?/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?[jJ]?[lL]?/,"number"]],strings:[[/'$/,"string.escape","@popall"],[/f'{1,3}/,"string.escape","@fStringBody"],[/'/,"string.escape","@stringBody"],[/"$/,"string.escape","@popall"],[/f"{1,3}/,"string.escape","@fDblStringBody"],[/"/,"string.escape","@dblStringBody"]],fStringBody:[[/[^\\'\{\}]+$/,"string","@popall"],[/[^\\'\{\}]+/,"string"],[/\{[^\}':!=]+/,"identifier","@fStringDetail"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],stringBody:[[/[^\\']+$/,"string","@popall"],[/[^\\']+/,"string"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],fDblStringBody:[[/[^\\"\{\}]+$/,"string","@popall"],[/[^\\"\{\}]+/,"string"],[/\{[^\}':!=]+/,"identifier","@fStringDetail"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]],dblStringBody:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]],fStringDetail:[[/[:][^}]+/,"string"],[/[!][ars]/,"string"],[/=/,"string"],[/\}/,"identifier","@pop"]]}}},5618:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}]},I={keywords:["namespace","open","import","export","as","operation","function","body","adjoint","newtype","struct","controlled","if","elif","else","repeat","until","fixup","for","in","while","return","fail","within","apply","Adjoint","Controlled","Adj","Ctl","is","self","auto","distribute","invert","intrinsic","let","set","w/","new","not","and","or","use","borrow","using","borrowing","mutable","internal"],typeKeywords:["Unit","Int","BigInt","Double","Bool","String","Qubit","Result","Pauli","Range"],invalidKeywords:["abstract","base","bool","break","byte","case","catch","char","checked","class","const","continue","decimal","default","delegate","do","double","enum","event","explicit","extern","finally","fixed","float","foreach","goto","implicit","int","interface","lock","long","null","object","operator","out","override","params","private","protected","public","readonly","ref","sbyte","sealed","short","sizeof","stackalloc","static","string","switch","this","throw","try","typeof","unit","ulong","unchecked","unsafe","ushort","virtual","void","volatile"],constants:["true","false","PauliI","PauliX","PauliY","PauliZ","One","Zero"],builtin:["X","Y","Z","H","HY","S","T","SWAP","CNOT","CCNOT","MultiX","R","RFrac","Rx","Ry","Rz","R1","R1Frac","Exp","ExpFrac","Measure","M","MultiM","Message","Length","Assert","AssertProb","AssertEqual"],operators:["and=","<-","->","*","*=","@","!","^","^=",":","::",".","..","==","...","=","=>",">",">=","<","<=","-","-=","!=","or=","%","%=","|","+","+=","?","/","/=","&&&","&&&=","^^^","^^^=",">>>",">>>=","<<<","<<<=","|||","|||=","~~~","_","w/","w/="],namespaceFollows:["namespace","open"],importsFollows:["import"],symbols:/[=><!~?:&|+\-*\/\^%@._]+/,escapes:/\\[\s\S]/,tokenizer:{root:[[/[a-zA-Z_$][\w$]*/,{cases:{"@namespaceFollows":{token:"keyword.$0",next:"@namespace"},"@importsFollows":{token:"keyword.$0",next:"@imports"},"@typeKeywords":"type","@keywords":"keyword","@constants":"constant","@builtin":"keyword","@invalidKeywords":"invalid","@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],namespace:[{include:"@whitespace"},[/[A-Za-z]\w*/,"namespace"],[/[\.]/,"delimiter"],["","","@pop"]],imports:[{include:"@whitespace"},[/[A-Za-z]\w*(?=\.)/,"namespace"],[/[A-Za-z]\w*/,"identifier"],[/\*/,"wildcard"],[/[\.,]/,"delimiter"],["","","@pop"]],whitespace:[[/[ \t\r\n]+/,"white"],[/(\/\/).*/,"comment"]]}}},2586:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}]},I={defaultToken:"",tokenPostfix:".r",roxygen:["@alias","@aliases","@assignee","@author","@backref","@callGraph","@callGraphDepth","@callGraphPrimitives","@concept","@describeIn","@description","@details","@docType","@encoding","@evalNamespace","@evalRd","@example","@examples","@export","@exportClass","@exportMethod","@exportPattern","@family","@field","@formals","@format","@import","@importClassesFrom","@importFrom","@importMethodsFrom","@include","@inherit","@inheritDotParams","@inheritParams","@inheritSection","@keywords","@md","@method","@name","@noMd","@noRd","@note","@param","@rawNamespace","@rawRd","@rdname","@references","@return","@S3method","@section","@seealso","@setClass","@slot","@source","@template","@templateVar","@title","@TODO","@usage","@useDynLib"],constants:["NULL","FALSE","TRUE","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","T","F","LETTERS","letters","month.abb","month.name","pi","R.version.string"],keywords:["break","next","return","if","else","for","in","repeat","while","array","category","character","complex","double","function","integer","list","logical","matrix","numeric","vector","data.frame","factor","library","require","attach","detach","source"],special:["\\n","\\r","\\t","\\b","\\a","\\f","\\v","\\'",'\\"',"\\\\"],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@numbers"},{include:"@strings"},[/[{}\[\]()]/,"@brackets"],{include:"@operators"},[/#'$/,"comment.doc"],[/#'/,"comment.doc","@roxygen"],[/(^#.*$)/,"comment"],[/\s+/,"white"],[/[,:;]/,"delimiter"],[/@[a-zA-Z]\w*/,"tag"],[/[a-zA-Z]\w*/,{cases:{"@keywords":"keyword","@constants":"constant","@default":"identifier"}}]],roxygen:[[/@\w+/,{cases:{"@roxygen":"tag","@eos":{token:"comment.doc",next:"@pop"},"@default":"comment.doc"}}],[/\s+/,{cases:{"@eos":{token:"comment.doc",next:"@pop"},"@default":"comment.doc"}}],[/.*/,{token:"comment.doc",next:"@pop"}]],numbers:[[/0[xX][0-9a-fA-F]+/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?/,"number"]],operators:[[/<{1,2}-/,"operator"],[/->{1,2}/,"operator"],[/%[^%\s]+%/,"operator"],[/\*\*/,"operator"],[/%%/,"operator"],[/&&/,"operator"],[/\|\|/,"operator"],[/<</,"operator"],[/>>/,"operator"],[/[-+=&|!<>^~*/:$]/,"operator"]],strings:[[/'/,"string.escape","@stringBody"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/\\./,{cases:{"@special":"string","@default":"error-token"}}],[/'/,"string.escape","@popall"],[/./,"string"]],dblStringBody:[[/\\./,{cases:{"@special":"string","@default":"error-token"}}],[/"/,"string.escape","@popall"],[/./,"string"]]}}},8565:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>C,language:()=>d});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(f,p,_,m)=>{if(p&&typeof p=="object"||typeof p=="function")for(let b of J(p))M.call(f,b)||b===_||I(f,b,{get:()=>p[b],enumerable:!(m=T(p,b))||m.enumerable});return f},E={};v(E,s,"default");var w=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],C={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,comments:{blockComment:["<!--","-->"]},brackets:[["<!--","-->"],["<",">"],["{","}"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}],onEnterRules:[{beforeText:new RegExp(`<(?!(?:${w.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*\$`,"i"),afterText:/^<\/(\w[\w\d]*)\s*>$/i,action:{indentAction:E.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${w.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*\$`,"i"),action:{indentAction:E.languages.IndentAction.Indent}}]},d={defaultToken:"",tokenPostfix:"",tokenizer:{root:[[/@@@@/],[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.root"}],[/<!DOCTYPE/,"metatag.html","@doctype"],[/<!--/,"comment.html","@comment"],[/(<)([\w\-]+)(\/>)/,["delimiter.html","tag.html","delimiter.html"]],[/(<)(script)/,["delimiter.html",{token:"tag.html",next:"@script"}]],[/(<)(style)/,["delimiter.html",{token:"tag.html",next:"@style"}]],[/(<)([:\w\-]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/(<\/)([\w\-]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/</,"delimiter.html"],[/[ \t\r\n]+/],[/[^<@]+/]],doctype:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.comment"}],[/[^>]+/,"metatag.content.html"],[/>/,"metatag.html","@pop"]],comment:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.comment"}],[/-->/,"comment.html","@pop"],[/[^-]+/,"comment.content.html"],[/./,"comment.content.html"]],otherTag:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.otherTag"}],[/\/?>/,"delimiter.html","@pop"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/]],script:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.script"}],[/type/,"attribute.name","@scriptAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/(<\/)(script\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],scriptAfterType:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.scriptAfterType"}],[/=/,"delimiter","@scriptAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptAfterTypeEquals:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.scriptAfterTypeEquals"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.text/javascript",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptWithCustomType:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.scriptWithCustomType.$S2"}],[/>/,{token:"delimiter.html",next:"@scriptEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptEmbedded:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInEmbeddedState.scriptEmbedded.$S2",nextEmbedded:"@pop"}],[/<\/script/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],style:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.style"}],[/type/,"attribute.name","@styleAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/(<\/)(style\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],styleAfterType:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.styleAfterType"}],[/=/,"delimiter","@styleAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleAfterTypeEquals:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.styleAfterTypeEquals"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@styleEmbedded.text/css",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleWithCustomType:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInSimpleState.styleWithCustomType.$S2"}],[/>/,{token:"delimiter.html",next:"@styleEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleEmbedded:[[/@[^@]/,{token:"@rematch",switchTo:"@razorInEmbeddedState.styleEmbedded.$S2",nextEmbedded:"@pop"}],[/<\/style/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}]],razorInSimpleState:[[/@\*/,"comment.cs","@razorBlockCommentTopLevel"],[/@[{(]/,"metatag.cs","@razorRootTopLevel"],[/(@)(\s*[\w]+)/,["metatag.cs",{token:"identifier.cs",switchTo:"@$S2.$S3"}]],[/[})]/,{token:"metatag.cs",switchTo:"@$S2.$S3"}],[/\*@/,{token:"comment.cs",switchTo:"@$S2.$S3"}]],razorInEmbeddedState:[[/@\*/,"comment.cs","@razorBlockCommentTopLevel"],[/@[{(]/,"metatag.cs","@razorRootTopLevel"],[/(@)(\s*[\w]+)/,["metatag.cs",{token:"identifier.cs",switchTo:"@$S2.$S3",nextEmbedded:"$S3"}]],[/[})]/,{token:"metatag.cs",switchTo:"@$S2.$S3",nextEmbedded:"$S3"}],[/\*@/,{token:"comment.cs",switchTo:"@$S2.$S3",nextEmbedded:"$S3"}]],razorBlockCommentTopLevel:[[/\*@/,"@rematch","@pop"],[/[^*]+/,"comment.cs"],[/./,"comment.cs"]],razorBlockComment:[[/\*@/,"comment.cs","@pop"],[/[^*]+/,"comment.cs"],[/./,"comment.cs"]],razorRootTopLevel:[[/\{/,"delimiter.bracket.cs","@razorRoot"],[/\(/,"delimiter.parenthesis.cs","@razorRoot"],[/[})]/,"@rematch","@pop"],{include:"razorCommon"}],razorRoot:[[/\{/,"delimiter.bracket.cs","@razorRoot"],[/\(/,"delimiter.parenthesis.cs","@razorRoot"],[/\}/,"delimiter.bracket.cs","@pop"],[/\)/,"delimiter.parenthesis.cs","@pop"],{include:"razorCommon"}],razorCommon:[[/[a-zA-Z_]\w*/,{cases:{"@razorKeywords":{token:"keyword.cs"},"@default":"identifier.cs"}}],[/[\[\]]/,"delimiter.array.cs"],[/[ \t\r\n]+/],[/\/\/.*$/,"comment.cs"],[/@\*/,"comment.cs","@razorBlockComment"],[/"([^"]*)"/,"string.cs"],[/'([^']*)'/,"string.cs"],[/(<)([\w\-]+)(\/>)/,["delimiter.html","tag.html","delimiter.html"]],[/(<)([\w\-]+)(>)/,["delimiter.html","tag.html","delimiter.html"]],[/(<\/)([\w\-]+)(>)/,["delimiter.html","tag.html","delimiter.html"]],[/[\+\-\*\%\&\|\^\~\!\=\<\>\/\?\;\:\.\,]/,"delimiter.cs"],[/\d*\d+[eE]([\-+]?\d+)?/,"number.float.cs"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float.cs"],[/0[xX][0-9a-fA-F']*[0-9a-fA-F]/,"number.hex.cs"],[/0[0-7']*[0-7]/,"number.octal.cs"],[/0[bB][0-1']*[0-1]/,"number.binary.cs"],[/\d[\d']*/,"number.cs"],[/\d/,"number.cs"]]},razorKeywords:["abstract","as","async","await","base","bool","break","by","byte","case","catch","char","checked","class","const","continue","decimal","default","delegate","do","double","descending","explicit","event","extern","else","enum","false","finally","fixed","float","for","foreach","from","goto","group","if","implicit","in","int","interface","internal","into","is","lock","long","nameof","new","null","namespace","object","operator","out","override","orderby","params","private","protected","public","readonly","ref","return","switch","struct","sbyte","sealed","short","sizeof","stackalloc","static","string","select","this","throw","true","try","typeof","uint","ulong","unchecked","unsafe","ushort","using","var","virtual","volatile","void","when","while","where","yield","model","inject"],escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/}},8990:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={defaultToken:"",tokenPostfix:".redis",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["APPEND","AUTH","BGREWRITEAOF","BGSAVE","BITCOUNT","BITFIELD","BITOP","BITPOS","BLPOP","BRPOP","BRPOPLPUSH","CLIENT","KILL","LIST","GETNAME","PAUSE","REPLY","SETNAME","CLUSTER","ADDSLOTS","COUNT-FAILURE-REPORTS","COUNTKEYSINSLOT","DELSLOTS","FAILOVER","FORGET","GETKEYSINSLOT","INFO","KEYSLOT","MEET","NODES","REPLICATE","RESET","SAVECONFIG","SET-CONFIG-EPOCH","SETSLOT","SLAVES","SLOTS","COMMAND","COUNT","GETKEYS","CONFIG","GET","REWRITE","SET","RESETSTAT","DBSIZE","DEBUG","OBJECT","SEGFAULT","DECR","DECRBY","DEL","DISCARD","DUMP","ECHO","EVAL","EVALSHA","EXEC","EXISTS","EXPIRE","EXPIREAT","FLUSHALL","FLUSHDB","GEOADD","GEOHASH","GEOPOS","GEODIST","GEORADIUS","GEORADIUSBYMEMBER","GETBIT","GETRANGE","GETSET","HDEL","HEXISTS","HGET","HGETALL","HINCRBY","HINCRBYFLOAT","HKEYS","HLEN","HMGET","HMSET","HSET","HSETNX","HSTRLEN","HVALS","INCR","INCRBY","INCRBYFLOAT","KEYS","LASTSAVE","LINDEX","LINSERT","LLEN","LPOP","LPUSH","LPUSHX","LRANGE","LREM","LSET","LTRIM","MGET","MIGRATE","MONITOR","MOVE","MSET","MSETNX","MULTI","PERSIST","PEXPIRE","PEXPIREAT","PFADD","PFCOUNT","PFMERGE","PING","PSETEX","PSUBSCRIBE","PUBSUB","PTTL","PUBLISH","PUNSUBSCRIBE","QUIT","RANDOMKEY","READONLY","READWRITE","RENAME","RENAMENX","RESTORE","ROLE","RPOP","RPOPLPUSH","RPUSH","RPUSHX","SADD","SAVE","SCARD","SCRIPT","FLUSH","LOAD","SDIFF","SDIFFSTORE","SELECT","SETBIT","SETEX","SETNX","SETRANGE","SHUTDOWN","SINTER","SINTERSTORE","SISMEMBER","SLAVEOF","SLOWLOG","SMEMBERS","SMOVE","SORT","SPOP","SRANDMEMBER","SREM","STRLEN","SUBSCRIBE","SUNION","SUNIONSTORE","SWAPDB","SYNC","TIME","TOUCH","TTL","TYPE","UNSUBSCRIBE","UNLINK","UNWATCH","WAIT","WATCH","ZADD","ZCARD","ZCOUNT","ZINCRBY","ZINTERSTORE","ZLEXCOUNT","ZRANGE","ZRANGEBYLEX","ZREVRANGEBYLEX","ZRANGEBYSCORE","ZRANK","ZREM","ZREMRANGEBYLEX","ZREMRANGEBYRANK","ZREMRANGEBYSCORE","ZREVRANGE","ZREVRANGEBYSCORE","ZREVRANK","ZSCORE","ZUNIONSTORE","SCAN","SSCAN","HSCAN","ZSCAN"],operators:[],builtinFunctions:[],builtinVariables:[],pseudoColumns:[],tokenizer:{root:[{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$]+/,{cases:{"@keywords":"keyword","@operators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/'/,{token:"string",next:"@string"}],[/"/,{token:"string.double",next:"@stringDouble"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],stringDouble:[[/[^"]+/,"string.double"],[/""/,"string.double"],[/"/,{token:"string.double",next:"@pop"}]],scopes:[]}}},558:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["AES128","AES256","ALL","ALLOWOVERWRITE","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","AUTHORIZATION","AZ64","BACKUP","BETWEEN","BINARY","BLANKSASNULL","BOTH","BYTEDICT","BZIP2","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","CREDENTIALS","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURRENT_USER_ID","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DELTA","DELTA32K","DESC","DISABLE","DISTINCT","DO","ELSE","EMPTYASNULL","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","END","EXCEPT","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GRANT","GROUP","GZIP","HAVING","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTERSECT","INTO","IS","ISNULL","JOIN","LANGUAGE","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","LZO","LZOP","MINUS","MOSTLY16","MOSTLY32","MOSTLY8","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","OR","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RAW","READRATIO","RECOVER","REFERENCES","RESPECT","REJECTLOG","RESORT","RESTORE","RIGHT","SELECT","SESSION_USER","SIMILAR","SNAPSHOT","SOME","SYSDATE","SYSTEM","TABLE","TAG","TDES","TEXT255","TEXT32K","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","TRUNCATECOLUMNS","UNION","UNIQUE","USER","USING","VERBOSE","WALLET","WHEN","WHERE","WITH","WITHOUT"],operators:["AND","BETWEEN","IN","LIKE","NOT","OR","IS","NULL","INTERSECT","UNION","INNER","JOIN","LEFT","OUTER","RIGHT"],builtinFunctions:["current_schema","current_schemas","has_database_privilege","has_schema_privilege","has_table_privilege","age","current_time","current_timestamp","localtime","isfinite","now","ascii","get_bit","get_byte","set_bit","set_byte","to_ascii","approximate percentile_disc","avg","count","listagg","max","median","min","percentile_cont","stddev_samp","stddev_pop","sum","var_samp","var_pop","bit_and","bit_or","bool_and","bool_or","cume_dist","first_value","lag","last_value","lead","nth_value","ratio_to_report","dense_rank","ntile","percent_rank","rank","row_number","case","coalesce","decode","greatest","least","nvl","nvl2","nullif","add_months","at time zone","convert_timezone","current_date","date_cmp","date_cmp_timestamp","date_cmp_timestamptz","date_part_year","dateadd","datediff","date_part","date_trunc","extract","getdate","interval_cmp","last_day","months_between","next_day","sysdate","timeofday","timestamp_cmp","timestamp_cmp_date","timestamp_cmp_timestamptz","timestamptz_cmp","timestamptz_cmp_date","timestamptz_cmp_timestamp","timezone","to_timestamp","trunc","abs","acos","asin","atan","atan2","cbrt","ceil","ceiling","checksum","cos","cot","degrees","dexp","dlog1","dlog10","exp","floor","ln","log","mod","pi","power","radians","random","round","sin","sign","sqrt","tan","to_hex","bpcharcmp","btrim","bttext_pattern_cmp","char_length","character_length","charindex","chr","concat","crc32","func_sha1","initcap","left and rights","len","length","lower","lpad and rpads","ltrim","md5","octet_length","position","quote_ident","quote_literal","regexp_count","regexp_instr","regexp_replace","regexp_substr","repeat","replace","replicate","reverse","rtrim","split_part","strpos","strtol","substring","textlen","translate","trim","upper","cast","convert","to_char","to_date","to_number","json_array_length","json_extract_array_element_text","json_extract_path_text","current_setting","pg_cancel_backend","pg_terminate_backend","set_config","current_database","current_user","current_user_id","pg_backend_pid","pg_last_copy_count","pg_last_copy_id","pg_last_query_id","pg_last_unload_count","session_user","slice_num","user","version","abbrev","acosd","any","area","array_agg","array_append","array_cat","array_dims","array_fill","array_length","array_lower","array_ndims","array_position","array_positions","array_prepend","array_remove","array_replace","array_to_json","array_to_string","array_to_tsvector","array_upper","asind","atan2d","atand","bit","bit_length","bound_box","box","brin_summarize_new_values","broadcast","cardinality","center","circle","clock_timestamp","col_description","concat_ws","convert_from","convert_to","corr","cosd","cotd","covar_pop","covar_samp","current_catalog","current_query","current_role","currval","cursor_to_xml","diameter","div","encode","enum_first","enum_last","enum_range","every","family","format","format_type","generate_series","generate_subscripts","get_current_ts_config","gin_clean_pending_list","grouping","has_any_column_privilege","has_column_privilege","has_foreign_data_wrapper_privilege","has_function_privilege","has_language_privilege","has_sequence_privilege","has_server_privilege","has_tablespace_privilege","has_type_privilege","height","host","hostmask","inet_client_addr","inet_client_port","inet_merge","inet_same_family","inet_server_addr","inet_server_port","isclosed","isempty","isopen","json_agg","json_object","json_object_agg","json_populate_record","json_populate_recordset","json_to_record","json_to_recordset","jsonb_agg","jsonb_object_agg","justify_days","justify_hours","justify_interval","lastval","left","line","localtimestamp","lower_inc","lower_inf","lpad","lseg","make_date","make_interval","make_time","make_timestamp","make_timestamptz","masklen","mode","netmask","network","nextval","npoints","num_nonnulls","num_nulls","numnode","obj_description","overlay","parse_ident","path","pclose","percentile_disc","pg_advisory_lock","pg_advisory_lock_shared","pg_advisory_unlock","pg_advisory_unlock_all","pg_advisory_unlock_shared","pg_advisory_xact_lock","pg_advisory_xact_lock_shared","pg_backup_start_time","pg_blocking_pids","pg_client_encoding","pg_collation_is_visible","pg_column_size","pg_conf_load_time","pg_control_checkpoint","pg_control_init","pg_control_recovery","pg_control_system","pg_conversion_is_visible","pg_create_logical_replication_slot","pg_create_physical_replication_slot","pg_create_restore_point","pg_current_xlog_flush_location","pg_current_xlog_insert_location","pg_current_xlog_location","pg_database_size","pg_describe_object","pg_drop_replication_slot","pg_export_snapshot","pg_filenode_relation","pg_function_is_visible","pg_get_constraintdef","pg_get_expr","pg_get_function_arguments","pg_get_function_identity_arguments","pg_get_function_result","pg_get_functiondef","pg_get_indexdef","pg_get_keywords","pg_get_object_address","pg_get_owned_sequence","pg_get_ruledef","pg_get_serial_sequence","pg_get_triggerdef","pg_get_userbyid","pg_get_viewdef","pg_has_role","pg_identify_object","pg_identify_object_as_address","pg_index_column_has_property","pg_index_has_property","pg_indexam_has_property","pg_indexes_size","pg_is_in_backup","pg_is_in_recovery","pg_is_other_temp_schema","pg_is_xlog_replay_paused","pg_last_committed_xact","pg_last_xact_replay_timestamp","pg_last_xlog_receive_location","pg_last_xlog_replay_location","pg_listening_channels","pg_logical_emit_message","pg_logical_slot_get_binary_changes","pg_logical_slot_get_changes","pg_logical_slot_peek_binary_changes","pg_logical_slot_peek_changes","pg_ls_dir","pg_my_temp_schema","pg_notification_queue_usage","pg_opclass_is_visible","pg_operator_is_visible","pg_opfamily_is_visible","pg_options_to_table","pg_postmaster_start_time","pg_read_binary_file","pg_read_file","pg_relation_filenode","pg_relation_filepath","pg_relation_size","pg_reload_conf","pg_replication_origin_create","pg_replication_origin_drop","pg_replication_origin_oid","pg_replication_origin_progress","pg_replication_origin_session_is_setup","pg_replication_origin_session_progress","pg_replication_origin_session_reset","pg_replication_origin_session_setup","pg_replication_origin_xact_reset","pg_replication_origin_xact_setup","pg_rotate_logfile","pg_size_bytes","pg_size_pretty","pg_sleep","pg_sleep_for","pg_sleep_until","pg_start_backup","pg_stat_file","pg_stop_backup","pg_switch_xlog","pg_table_is_visible","pg_table_size","pg_tablespace_databases","pg_tablespace_location","pg_tablespace_size","pg_total_relation_size","pg_trigger_depth","pg_try_advisory_lock","pg_try_advisory_lock_shared","pg_try_advisory_xact_lock","pg_try_advisory_xact_lock_shared","pg_ts_config_is_visible","pg_ts_dict_is_visible","pg_ts_parser_is_visible","pg_ts_template_is_visible","pg_type_is_visible","pg_typeof","pg_xact_commit_timestamp","pg_xlog_location_diff","pg_xlog_replay_pause","pg_xlog_replay_resume","pg_xlogfile_name","pg_xlogfile_name_offset","phraseto_tsquery","plainto_tsquery","point","polygon","popen","pqserverversion","query_to_xml","querytree","quote_nullable","radius","range_merge","regexp_matches","regexp_split_to_array","regexp_split_to_table","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","right","row_security_active","row_to_json","rpad","scale","set_masklen","setseed","setval","setweight","shobj_description","sind","sprintf","statement_timestamp","stddev","string_agg","string_to_array","strip","substr","table_to_xml","table_to_xml_and_xmlschema","tand","text","to_json","to_regclass","to_regnamespace","to_regoper","to_regoperator","to_regproc","to_regprocedure","to_regrole","to_regtype","to_tsquery","to_tsvector","transaction_timestamp","ts_debug","ts_delete","ts_filter","ts_headline","ts_lexize","ts_parse","ts_rank","ts_rank_cd","ts_rewrite","ts_stat","ts_token_type","tsquery_phrase","tsvector_to_array","tsvector_update_trigger","tsvector_update_trigger_column","txid_current","txid_current_snapshot","txid_snapshot_xip","txid_snapshot_xmax","txid_snapshot_xmin","txid_visible_in_snapshot","unnest","upper_inc","upper_inf","variance","width","width_bucket","xml_is_well_formed","xml_is_well_formed_content","xml_is_well_formed_document","xmlagg","xmlcomment","xmlconcat","xmlelement","xmlexists","xmlforest","xmlparse","xmlpi","xmlroot","xmlserialize","xpath","xpath_exists"],builtinVariables:[],pseudoColumns:[],tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$]+/,{cases:{"@keywords":"keyword","@operators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/'/,{token:"string",next:"@string"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],complexIdentifiers:[[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[]}}},7246:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">",notIn:["string"]}],surroundingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"`",close:"`"}],folding:{markers:{start:new RegExp("^\\s*<!--\\s*#?region\\b.*-->"),end:new RegExp("^\\s*<!--\\s*#?endregion\\b.*-->")}}},I={defaultToken:"",tokenPostfix:".rst",control:/[\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,empty:["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param"],alphanumerics:/[A-Za-z0-9]/,simpleRefNameWithoutBq:/(?:@alphanumerics[-_+:.]*@alphanumerics)+|(?:@alphanumerics+)/,simpleRefName:/(?:`@phrase`|@simpleRefNameWithoutBq)/,phrase:/@simpleRefNameWithoutBq(?:\s@simpleRefNameWithoutBq)*/,citationName:/[A-Za-z][A-Za-z0-9-_.]*/,blockLiteralStart:/(?:[!"#$%&'()*+,-./:;<=>?@\[\]^_`{|}~]|[\s])/,precedingChars:/(?:[ -:/'"<([{])/,followingChars:/(?:[ -.,:;!?/'")\]}>]|$)/,punctuation:/(=|-|~|`|#|"|\^|\+|\*|:|\.|'|_|\+)/,tokenizer:{root:[[/^(@punctuation{3,}$){1,1}?/,"keyword"],[/^\s*([\*\-+]|[a-zA-Z0-9]+\.|\([a-zA-Z0-9]+\)|[a-zA-Z0-9]+\))\s/,"keyword"],[/([ ]::)\s*$/,"keyword","@blankLineOfLiteralBlocks"],[/(::)\s*$/,"keyword","@blankLineOfLiteralBlocks"],{include:"@tables"},{include:"@explicitMarkupBlocks"},{include:"@inlineMarkup"}],explicitMarkupBlocks:[{include:"@citations"},{include:"@footnotes"},[/^(\.\.\s)(@simpleRefName)(::\s)(.*)$/,[{token:"",next:"subsequentLines"},"keyword","",""]],[/^(\.\.)(\s+)(_)(@simpleRefName)(:)(\s+)(.*)/,[{token:"",next:"hyperlinks"},"","","string.link","","","string.link"]],[/^((?:(?:\.\.)(?:\s+))?)(__)(:)(\s+)(.*)/,[{token:"",next:"subsequentLines"},"","","","string.link"]],[/^(__\s+)(.+)/,["","string.link"]],[/^(\.\.)( \|)([^| ]+[^|]*[^| ]*)(\| )(@simpleRefName)(:: .*)/,[{token:"",next:"subsequentLines"},"","string.link","","keyword",""],"@rawBlocks"],[/(\|)([^| ]+[^|]*[^| ]*)(\|_{0,2})/,["","string.link",""]],[/^(\.\.)([ ].*)$/,[{token:"",next:"@comments"},"comment"]]],inlineMarkup:[{include:"@citationsReference"},{include:"@footnotesReference"},[/(@simpleRefName)(_{1,2})/,["string.link",""]],[/(`)([^<`]+\s+)(<)(.*)(>)(`)(_)/,["","string.link","","string.link","","",""]],[/\*\*([^\\*]|\*(?!\*))+\*\*/,"strong"],[/\*[^*]+\*/,"emphasis"],[/(``)((?:[^`]|\`(?!`))+)(``)/,["","keyword",""]],[/(__\s+)(.+)/,["","keyword"]],[/(:)((?:@simpleRefNameWithoutBq)?)(:`)([^`]+)(`)/,["","keyword","","",""]],[/(`)([^`]+)(`:)((?:@simpleRefNameWithoutBq)?)(:)/,["","","","keyword",""]],[/(`)([^`]+)(`)/,""],[/(_`)(@phrase)(`)/,["","string.link",""]]],citations:[[/^(\.\.\s+\[)((?:@citationName))(\]\s+)(.*)/,[{token:"",next:"@subsequentLines"},"string.link","",""]]],citationsReference:[[/(\[)(@citationName)(\]_)/,["","string.link",""]]],footnotes:[[/^(\.\.\s+\[)((?:[0-9]+))(\]\s+.*)/,[{token:"",next:"@subsequentLines"},"string.link",""]],[/^(\.\.\s+\[)((?:#@simpleRefName?))(\]\s+)(.*)/,[{token:"",next:"@subsequentLines"},"string.link","",""]],[/^(\.\.\s+\[)((?:\*))(\]\s+)(.*)/,[{token:"",next:"@subsequentLines"},"string.link","",""]]],footnotesReference:[[/(\[)([0-9]+)(\])(_)/,["","string.link","",""]],[/(\[)(#@simpleRefName?)(\])(_)/,["","string.link","",""]],[/(\[)(\*)(\])(_)/,["","string.link","",""]]],blankLineOfLiteralBlocks:[[/^$/,"","@subsequentLinesOfLiteralBlocks"],[/^.*$/,"","@pop"]],subsequentLinesOfLiteralBlocks:[[/(@blockLiteralStart+)(.*)/,["keyword",""]],[/^(?!blockLiteralStart)/,"","@popall"]],subsequentLines:[[/^[\s]+.*/,""],[/^(?!\s)/,"","@pop"]],hyperlinks:[[/^[\s]+.*/,"string.link"],[/^(?!\s)/,"","@pop"]],comments:[[/^[\s]+.*/,"comment"],[/^(?!\s)/,"","@pop"]],tables:[[/\+-[+-]+/,"keyword"],[/\+=[+=]+/,"keyword"]]}}},1560:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"#",blockComment:["=begin","=end"]},brackets:[["(",")"],["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],indentationRules:{increaseIndentPattern:new RegExp("^\\s*((begin|class|(private|protected)\\s+def|def|else|elsif|ensure|for|if|module|rescue|unless|until|when|while|case)|([^#]*\\sdo\\b)|([^#]*=\\s*(case|if|unless)))\\b([^#\\{;]|(\"|'|/).*\\4)*(#.*)?$"),decreaseIndentPattern:new RegExp("^\\s*([}\\]]([,)]?\\s*(#|$)|\\.[a-zA-Z_]\\w*\\b)|(end|rescue|ensure|else|elsif|when)\\b)")}},I={tokenPostfix:".ruby",keywords:["__LINE__","__ENCODING__","__FILE__","BEGIN","END","alias","and","begin","break","case","class","def","defined?","do","else","elsif","end","ensure","for","false","if","in","module","next","nil","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield"],keywordops:["::","..","...","?",":","=>"],builtins:["require","public","private","include","extend","attr_reader","protected","private_class_method","protected_class_method","new"],declarations:["module","class","def","case","do","begin","for","if","while","until","unless"],linedecls:["def","case","do","begin","for","if","while","until","unless"],operators:["^","&","|","<=>","==","===","!~","=~",">",">=","<","<=","<<",">>","+","-","*","/","%","**","~","+@","-@","[]","[]=","`","+=","-=","*=","**=","/=","^=","%=","<<=",">>=","&=","&&=","||=","|="],brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],symbols:/[=><!~?:&|+\-*\/\^%\.]+/,escape:/(?:[abefnrstv\\"'\n\r]|[0-7]{1,3}|x[0-9A-Fa-f]{1,2}|u[0-9A-Fa-f]{4})/,escapes:/\\(?:C\-(@escape|.)|c(@escape|.)|@escape)/,decpart:/\d(_?\d)*/,decimal:/0|@decpart/,delim:/[^a-zA-Z0-9\s\n\r]/,heredelim:/(?:\w+|'[^']*'|"[^"]*"|`[^`]*`)/,regexpctl:/[(){}\[\]\$\^|\-*+?\.]/,regexpesc:/\\(?:[AzZbBdDfnrstvwWn0\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})?/,tokenizer:{root:[[/^(\s*)([a-z_]\w*[!?=]?)/,["white",{cases:{"for|until|while":{token:"keyword.$2",next:"@dodecl.$2"},"@declarations":{token:"keyword.$2",next:"@root.$2"},end:{token:"keyword.$S2",next:"@pop"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}]],[/[a-z_]\w*[!?=]?/,{cases:{"if|unless|while|until":{token:"keyword.$0x",next:"@modifier.$0x"},for:{token:"keyword.$2",next:"@dodecl.$2"},"@linedecls":{token:"keyword.$0",next:"@root.$0"},end:{token:"keyword.$S2",next:"@pop"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],[/[A-Z][\w]*[!?=]?/,"constructor.identifier"],[/\$[\w]*/,"global.constant"],[/@[\w]*/,"namespace.instance.identifier"],[/@@@[\w]*/,"namespace.class.identifier"],[/<<[-~](@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],[/[ \t\r\n]+<<(@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],[/^<<(@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],{include:"@whitespace"},[/"/,{token:"string.d.delim",next:'@dstring.d."'}],[/'/,{token:"string.sq.delim",next:"@sstring.sq"}],[/%([rsqxwW]|Q?)/,{token:"@rematch",next:"pstring"}],[/`/,{token:"string.x.delim",next:"@dstring.x.`"}],[/:(\w|[$@])\w*[!?=]?/,"string.s"],[/:"/,{token:"string.s.delim",next:'@dstring.s."'}],[/:'/,{token:"string.s.delim",next:"@sstring.s"}],[/\/(?=(\\\/|[^\/\n])+\/)/,{token:"regexp.delim",next:"@regexp"}],[/[{}()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@keywordops":"keyword","@operators":"operator","@default":""}}],[/[;,]/,"delimiter"],[/0[xX][0-9a-fA-F](_?[0-9a-fA-F])*/,"number.hex"],[/0[_oO][0-7](_?[0-7])*/,"number.octal"],[/0[bB][01](_?[01])*/,"number.binary"],[/0[dD]@decpart/,"number"],[/@decimal((\.@decpart)?([eE][\-+]?@decpart)?)/,{cases:{$1:"number.float","@default":"number"}}]],dodecl:[[/^/,{token:"",switchTo:"@root.$S2"}],[/[a-z_]\w*[!?=]?/,{cases:{end:{token:"keyword.$S2",next:"@pop"},do:{token:"keyword",switchTo:"@root.$S2"},"@linedecls":{token:"@rematch",switchTo:"@root.$S2"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],{include:"@root"}],modifier:[[/^/,"","@pop"],[/[a-z_]\w*[!?=]?/,{cases:{end:{token:"keyword.$S2",next:"@pop"},"then|else|elsif|do":{token:"keyword",switchTo:"@root.$S2"},"@linedecls":{token:"@rematch",switchTo:"@root.$S2"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],{include:"@root"}],sstring:[[/[^\\']+/,"string.$S2"],[/\\\\|\\'|\\$/,"string.$S2.escape"],[/\\./,"string.$S2.invalid"],[/'/,{token:"string.$S2.delim",next:"@pop"}]],dstring:[[/[^\\`"#]+/,"string.$S2"],[/#/,"string.$S2.escape","@interpolated"],[/\\$/,"string.$S2.escape"],[/@escapes/,"string.$S2.escape"],[/\\./,"string.$S2.escape.invalid"],[/[`"]/,{cases:{"$#==$S3":{token:"string.$S2.delim",next:"@pop"},"@default":"string.$S2"}}]],heredoc:[[/^(\s*)(@heredelim)$/,{cases:{"$2==$S2":["string.heredoc",{token:"string.heredoc.delimiter",next:"@pop"}],"@default":["string.heredoc","string.heredoc"]}}],[/.*/,"string.heredoc"]],interpolated:[[/\$\w*/,"global.constant","@pop"],[/@\w*/,"namespace.class.identifier","@pop"],[/@@@\w*/,"namespace.instance.identifier","@pop"],[/[{]/,{token:"string.escape.curly",switchTo:"@interpolated_compound"}],["","","@pop"]],interpolated_compound:[[/[}]/,{token:"string.escape.curly",next:"@pop"}],{include:"@root"}],pregexp:[{include:"@whitespace"},[/[^\(\{\[\\]/,{cases:{"$#==$S3":{token:"regexp.delim",next:"@pop"},"$#==$S2":{token:"regexp.delim",next:"@push"},"~[)}\\]]":"@brackets.regexp.escape.control","~@regexpctl":"regexp.escape.control","@default":"regexp"}}],{include:"@regexcontrol"}],regexp:[{include:"@regexcontrol"},[/[^\\\/]/,"regexp"],["/[ixmp]*",{token:"regexp.delim"},"@pop"]],regexcontrol:[[/(\{)(\d+(?:,\d*)?)(\})/,["@brackets.regexp.escape.control","regexp.escape.control","@brackets.regexp.escape.control"]],[/(\[)(\^?)/,["@brackets.regexp.escape.control",{token:"regexp.escape.control",next:"@regexrange"}]],[/(\()(\?[:=!])/,["@brackets.regexp.escape.control","regexp.escape.control"]],[/\(\?#/,{token:"regexp.escape.control",next:"@regexpcomment"}],[/[()]/,"@brackets.regexp.escape.control"],[/@regexpctl/,"regexp.escape.control"],[/\\$/,"regexp.escape"],[/@regexpesc/,"regexp.escape"],[/\\\./,"regexp.invalid"],[/#/,"regexp.escape","@interpolated"]],regexrange:[[/-/,"regexp.escape.control"],[/\^/,"regexp.invalid"],[/\\$/,"regexp.escape"],[/@regexpesc/,"regexp.escape"],[/[^\]]/,"regexp"],[/\]/,"@brackets.regexp.escape.control","@pop"]],regexpcomment:[[/[^)]+/,"comment"],[/\)/,{token:"regexp.escape.control",next:"@pop"}]],pstring:[[/%([qws])\(/,{token:"string.$1.delim",switchTo:"@qstring.$1.(.)"}],[/%([qws])\[/,{token:"string.$1.delim",switchTo:"@qstring.$1.[.]"}],[/%([qws])\{/,{token:"string.$1.delim",switchTo:"@qstring.$1.{.}"}],[/%([qws])</,{token:"string.$1.delim",switchTo:"@qstring.$1.<.>"}],[/%([qws])(@delim)/,{token:"string.$1.delim",switchTo:"@qstring.$1.$2.$2"}],[/%r\(/,{token:"regexp.delim",switchTo:"@pregexp.(.)"}],[/%r\[/,{token:"regexp.delim",switchTo:"@pregexp.[.]"}],[/%r\{/,{token:"regexp.delim",switchTo:"@pregexp.{.}"}],[/%r</,{token:"regexp.delim",switchTo:"@pregexp.<.>"}],[/%r(@delim)/,{token:"regexp.delim",switchTo:"@pregexp.$1.$1"}],[/%(x|W|Q?)\(/,{token:"string.$1.delim",switchTo:"@qqstring.$1.(.)"}],[/%(x|W|Q?)\[/,{token:"string.$1.delim",switchTo:"@qqstring.$1.[.]"}],[/%(x|W|Q?)\{/,{token:"string.$1.delim",switchTo:"@qqstring.$1.{.}"}],[/%(x|W|Q?)</,{token:"string.$1.delim",switchTo:"@qqstring.$1.<.>"}],[/%(x|W|Q?)(@delim)/,{token:"string.$1.delim",switchTo:"@qqstring.$1.$2.$2"}],[/%([rqwsxW]|Q?)./,{token:"invalid",next:"@pop"}],[/./,{token:"invalid",next:"@pop"}]],qstring:[[/\\$/,"string.$S2.escape"],[/\\./,"string.$S2.escape"],[/./,{cases:{"$#==$S4":{token:"string.$S2.delim",next:"@pop"},"$#==$S3":{token:"string.$S2.delim",next:"@push"},"@default":"string.$S2"}}]],qqstring:[[/#/,"string.$S2.escape","@interpolated"],{include:"@qstring"}],whitespace:[[/[ \t\r\n]+/,""],[/^\s*=begin\b/,"comment","@comment"],[/#.*$/,"comment"]],comment:[[/[^=]+/,"comment"],[/^\s*=begin\b/,"comment.invalid"],[/^\s*=end\b.*/,"comment","@pop"],[/[=]/,"comment"]]}}},4680:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"[",close:"]"},{open:"{",close:"}"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*#pragma\\s+region\\b"),end:new RegExp("^\\s*#pragma\\s+endregion\\b")}}},I={tokenPostfix:".rust",defaultToken:"invalid",keywords:["as","async","await","box","break","const","continue","crate","dyn","else","enum","extern","false","fn","for","if","impl","in","let","loop","match","mod","move","mut","pub","ref","return","self","static","struct","super","trait","true","try","type","unsafe","use","where","while","catch","default","union","static","abstract","alignof","become","do","final","macro","offsetof","override","priv","proc","pure","sizeof","typeof","unsized","virtual","yield"],typeKeywords:["Self","m32","m64","m128","f80","f16","f128","int","uint","float","char","bool","u8","u16","u32","u64","f32","f64","i8","i16","i32","i64","str","Option","Either","c_float","c_double","c_void","FILE","fpos_t","DIR","dirent","c_char","c_schar","c_uchar","c_short","c_ushort","c_int","c_uint","c_long","c_ulong","size_t","ptrdiff_t","clock_t","time_t","c_longlong","c_ulonglong","intptr_t","uintptr_t","off_t","dev_t","ino_t","pid_t","mode_t","ssize_t"],constants:["true","false","Some","None","Left","Right","Ok","Err"],supportConstants:["EXIT_FAILURE","EXIT_SUCCESS","RAND_MAX","EOF","SEEK_SET","SEEK_CUR","SEEK_END","_IOFBF","_IONBF","_IOLBF","BUFSIZ","FOPEN_MAX","FILENAME_MAX","L_tmpnam","TMP_MAX","O_RDONLY","O_WRONLY","O_RDWR","O_APPEND","O_CREAT","O_EXCL","O_TRUNC","S_IFIFO","S_IFCHR","S_IFBLK","S_IFDIR","S_IFREG","S_IFMT","S_IEXEC","S_IWRITE","S_IREAD","S_IRWXU","S_IXUSR","S_IWUSR","S_IRUSR","F_OK","R_OK","W_OK","X_OK","STDIN_FILENO","STDOUT_FILENO","STDERR_FILENO"],supportMacros:["format!","print!","println!","panic!","format_args!","unreachable!","write!","writeln!"],operators:["!","!=","%","%=","&","&=","&&","*","*=","+","+=","-","-=","->",".","..","...","/","/=",":",";","<<","<<=","<","<=","=","==","=>",">",">=",">>",">>=","@","^","^=","|","|=","||","_","?","#"],escapes:/\\([nrt0\"''\\]|x\h{2}|u\{\h{1,6}\})/,delimiters:/[,]/,symbols:/[\#\!\%\&\*\+\-\.\/\:\;\<\=\>\@\^\|_\?]+/,intSuffixes:/[iu](8|16|32|64|128|size)/,floatSuffixes:/f(32|64)/,tokenizer:{root:[[/r(#*)"/,{token:"string.quote",bracket:"@open",next:"@stringraw.$1"}],[/[a-zA-Z][a-zA-Z0-9_]*!?|_[a-zA-Z0-9_]+/,{cases:{"@typeKeywords":"keyword.type","@keywords":"keyword","@supportConstants":"keyword","@supportMacros":"keyword","@constants":"keyword","@default":"identifier"}}],[/\$/,"identifier"],[/'[a-zA-Z_][a-zA-Z0-9_]*(?=[^\'])/,"identifier"],[/'(\S|@escapes)'/,"string.byteliteral"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],{include:"@numbers"},{include:"@whitespace"},[/@delimiters/,{cases:{"@keywords":"keyword","@default":"delimiter"}}],[/[{}()\[\]<>]/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],stringraw:[[/[^"#]+/,{token:"string"}],[/"(#*)/,{cases:{"$1==$S2":{token:"string.quote",bracket:"@close",next:"@pop"},"@default":{token:"string"}}}],[/["#]/,{token:"string"}]],numbers:[[/(0o[0-7_]+)(@intSuffixes)?/,{token:"number"}],[/(0b[0-1_]+)(@intSuffixes)?/,{token:"number"}],[/[\d][\d_]*(\.[\d][\d_]*)?[eE][+-][\d_]+(@floatSuffixes)?/,{token:"number"}],[/\b(\d\.?[\d_]*)(@floatSuffixes)?\b/,{token:"number"}],[/(0x[\da-fA-F]+)_?(@intSuffixes)?/,{token:"number"}],[/[\d][\d_]*(@intSuffixes?)?/,{token:"number"}]]}}},4962:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"'"},brackets:[["(",")"],["[","]"],["If","EndIf"],["While","EndWhile"],["For","EndFor"],["Sub","EndSub"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]}]},I={defaultToken:"",tokenPostfix:".sb",ignoreCase:!0,brackets:[{token:"delimiter.array",open:"[",close:"]"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"keyword.tag-if",open:"If",close:"EndIf"},{token:"keyword.tag-while",open:"While",close:"EndWhile"},{token:"keyword.tag-for",open:"For",close:"EndFor"},{token:"keyword.tag-sub",open:"Sub",close:"EndSub"}],keywords:["Else","ElseIf","EndFor","EndIf","EndSub","EndWhile","For","Goto","If","Step","Sub","Then","To","While"],tagwords:["If","Sub","While","For"],operators:[">","<","<>","<=",">=","And","Or","+","-","*","/","="],identifier:/[a-zA-Z_][\w]*/,symbols:/[=><:+\-*\/%\.,]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[{include:"@whitespace"},[/(@identifier)(?=[.])/,"type"],[/@identifier/,{cases:{"@keywords":{token:"keyword.$0"},"@operators":"operator","@default":"variable.name"}}],[/([.])(@identifier)/,{cases:{$2:["delimiter","type.member"],"@default":""}}],[/\d*\.\d+/,"number.float"],[/\d+/,"number"],[/[()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":"delimiter"}}],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"]],whitespace:[[/[ \t\r\n]+/,""],[/(\').*$/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"C?/,"string","@pop"]]}}},6446:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(unary_[@~!#%^&*()\-=+\\|:<>\/?]+)|([a-zA-Z_$][\w$]*?_=)|(`[^`]+`)|([a-zA-Z_$][\w$]*)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*//\\s*(?:(?:#?region\\b)|(?:<editor-fold\\b))"),end:new RegExp("^\\s*//\\s*(?:(?:#?endregion\\b)|(?:</editor-fold>))")}}},I={tokenPostfix:".scala",keywords:["asInstanceOf","catch","class","classOf","def","do","else","extends","finally","for","foreach","forSome","if","import","isInstanceOf","macro","match","new","object","package","return","throw","trait","try","type","until","val","var","while","with","yield","given","enum","then"],softKeywords:["as","export","extension","end","derives","on"],constants:["true","false","null","this","super"],modifiers:["abstract","final","implicit","lazy","override","private","protected","sealed"],softModifiers:["inline","opaque","open","transparent","using"],name:/(?:[a-z_$][\w$]*|`[^`]+`)/,type:/(?:[A-Z][\w$]*)/,symbols:/[=><!~?:&|+\-*\/^\\%@#]+/,digits:/\d+(_+\d+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,escapes:/\\(?:[btnfr\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,fstring_conv:/[bBhHsScCdoxXeEfgGaAt]|[Tn](?:[HIklMSLNpzZsQ]|[BbhAaCYyjmde]|[RTrDFC])/,tokenizer:{root:[[/\braw"""/,{token:"string.quote",bracket:"@open",next:"@rawstringt"}],[/\braw"/,{token:"string.quote",bracket:"@open",next:"@rawstring"}],[/\bs"""/,{token:"string.quote",bracket:"@open",next:"@sstringt"}],[/\bs"/,{token:"string.quote",bracket:"@open",next:"@sstring"}],[/\bf""""/,{token:"string.quote",bracket:"@open",next:"@fstringt"}],[/\bf"/,{token:"string.quote",bracket:"@open",next:"@fstring"}],[/"""/,{token:"string.quote",bracket:"@open",next:"@stringt"}],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/(@digits)[eE]([\-+]?(@digits))?[fFdD]?/,"number.float","@allowMethod"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?[fFdD]?/,"number.float","@allowMethod"],[/0[xX](@hexdigits)[Ll]?/,"number.hex","@allowMethod"],[/(@digits)[fFdD]/,"number.float","@allowMethod"],[/(@digits)[lL]?/,"number","@allowMethod"],[/\b_\*/,"key"],[/\b(_)\b/,"keyword","@allowMethod"],[/\bimport\b/,"keyword","@import"],[/\b(case)([ \t]+)(class)\b/,["keyword.modifier","white","keyword"]],[/\bcase\b/,"keyword","@case"],[/\bva[lr]\b/,"keyword","@vardef"],[/\b(def)([ \t]+)((?:unary_)?@symbols|@name(?:_=)|@name)/,["keyword","white","identifier"]],[/@name(?=[ \t]*:(?!:))/,"variable"],[/(\.)(@name|@symbols)/,["operator",{token:"@rematch",next:"@allowMethod"}]],[/([{(])(\s*)(@name(?=\s*=>))/,["@brackets","white","variable"]],[/@name/,{cases:{"@keywords":"keyword","@softKeywords":"keyword","@modifiers":"keyword.modifier","@softModifiers":"keyword.modifier","@constants":{token:"constant",next:"@allowMethod"},"@default":{token:"identifier",next:"@allowMethod"}}}],[/@type/,"type","@allowMethod"],{include:"@whitespace"},[/@[a-zA-Z_$][\w$]*(?:\.[a-zA-Z_$][\w$]*)*/,"annotation"],[/[{(]/,"@brackets"],[/[})]/,"@brackets","@allowMethod"],[/\[/,"operator.square"],[/](?!\s*(?:va[rl]|def|type)\b)/,"operator.square","@allowMethod"],[/]/,"operator.square"],[/([=-]>|<-|>:|<:|:>|<%)(?=[\s\w()[\]{},\."'`])/,"keyword"],[/@symbols/,"operator"],[/[;,\.]/,"delimiter"],[/'[a-zA-Z$][\w$]*(?!')/,"attribute.name"],[/'[^\\']'/,"string","@allowMethod"],[/(')(@escapes)(')/,["string","string.escape",{token:"string",next:"@allowMethod"}]],[/'/,"string.invalid"]],import:[[/;/,"delimiter","@pop"],[/^|$/,"","@pop"],[/[ \t]+/,"white"],[/[\n\r]+/,"white","@pop"],[/\/\*/,"comment","@comment"],[/@name|@type/,"type"],[/[(){}]/,"@brackets"],[/[[\]]/,"operator.square"],[/[\.,]/,"delimiter"]],allowMethod:[[/^|$/,"","@pop"],[/[ \t]+/,"white"],[/[\n\r]+/,"white","@pop"],[/\/\*/,"comment","@comment"],[/(?==>[\s\w([{])/,"keyword","@pop"],[/(@name|@symbols)(?=[ \t]*[[({"'`]|[ \t]+(?:[+-]?\.?\d|\w))/,{cases:{"@keywords":{token:"keyword",next:"@pop"},"->|<-|>:|<:|<%":{token:"keyword",next:"@pop"},"@default":{token:"@rematch",next:"@pop"}}}],["","","@pop"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],case:[[/\b_\*/,"key"],[/\b(_|true|false|null|this|super)\b/,"keyword","@allowMethod"],[/\bif\b|=>/,"keyword","@pop"],[/`[^`]+`/,"identifier","@allowMethod"],[/@name/,"variable","@allowMethod"],[/:::?|\||@(?![a-z_$])/,"keyword"],{include:"@root"}],vardef:[[/\b_\*/,"key"],[/\b(_|true|false|null|this|super)\b/,"keyword"],[/@name/,"variable"],[/:::?|\||@(?![a-z_$])/,"keyword"],[/=|:(?!:)/,"operator","@pop"],[/$/,"white","@pop"],{include:"@root"}],string:[[/[^\\"\n\r]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",switchTo:"@allowMethod"}]],stringt:[[/[^\\"\n\r]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"(?=""")/,"string"],[/"""/,{token:"string.quote",bracket:"@close",switchTo:"@allowMethod"}],[/"/,"string"]],fstring:[[/@escapes/,"string.escape"],[/"/,{token:"string.quote",bracket:"@close",switchTo:"@allowMethod"}],[/\$\$/,"string"],[/(\$)([a-z_]\w*)/,["operator","identifier"]],[/\$\{/,"operator","@interp"],[/%%/,"string"],[/(%)([\-#+ 0,(])(\d+|\.\d+|\d+\.\d+)(@fstring_conv)/,["metatag","keyword.modifier","number","metatag"]],[/(%)(\d+|\.\d+|\d+\.\d+)(@fstring_conv)/,["metatag","number","metatag"]],[/(%)([\-#+ 0,(])(@fstring_conv)/,["metatag","keyword.modifier","metatag"]],[/(%)(@fstring_conv)/,["metatag","metatag"]],[/./,"string"]],fstringt:[[/@escapes/,"string.escape"],[/"(?=""")/,"string"],[/"""/,{token:"string.quote",bracket:"@close",switchTo:"@allowMethod"}],[/\$\$/,"string"],[/(\$)([a-z_]\w*)/,["operator","identifier"]],[/\$\{/,"operator","@interp"],[/%%/,"string"],[/(%)([\-#+ 0,(])(\d+|\.\d+|\d+\.\d+)(@fstring_conv)/,["metatag","keyword.modifier","number","metatag"]],[/(%)(\d+|\.\d+|\d+\.\d+)(@fstring_conv)/,["metatag","number","metatag"]],[/(%)([\-#+ 0,(])(@fstring_conv)/,["metatag","keyword.modifier","metatag"]],[/(%)(@fstring_conv)/,["metatag","metatag"]],[/./,"string"]],sstring:[[/@escapes/,"string.escape"],[/"/,{token:"string.quote",bracket:"@close",switchTo:"@allowMethod"}],[/\$\$/,"string"],[/(\$)([a-z_]\w*)/,["operator","identifier"]],[/\$\{/,"operator","@interp"],[/./,"string"]],sstringt:[[/@escapes/,"string.escape"],[/"(?=""")/,"string"],[/"""/,{token:"string.quote",bracket:"@close",switchTo:"@allowMethod"}],[/\$\$/,"string"],[/(\$)([a-z_]\w*)/,["operator","identifier"]],[/\$\{/,"operator","@interp"],[/./,"string"]],interp:[[/{/,"operator","@push"],[/}/,"operator","@pop"],{include:"@root"}],rawstring:[[/[^"]/,"string"],[/"/,{token:"string.quote",bracket:"@close",switchTo:"@allowMethod"}]],rawstringt:[[/[^"]/,"string"],[/"(?=""")/,"string"],[/"""/,{token:"string.quote",bracket:"@close",switchTo:"@allowMethod"}],[/"/,"string"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}}},8494:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:";",blockComment:["#|","|#"]},brackets:[["(",")"],["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}]},I={defaultToken:"",ignoreCase:!0,tokenPostfix:".scheme",brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],keywords:["case","do","let","loop","if","else","when","cons","car","cdr","cond","lambda","lambda*","syntax-rules","format","set!","quote","eval","append","list","list?","member?","load"],constants:["#t","#f"],operators:["eq?","eqv?","equal?","and","or","not","null?"],tokenizer:{root:[[/#[xXoObB][0-9a-fA-F]+/,"number.hex"],[/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?/,"number.float"],[/(?:\b(?:(define|define-syntax|define-macro))\b)(\s+)((?:\w|\-|\!|\?)*)/,["keyword","white","variable"]],{include:"@whitespace"},{include:"@strings"},[/[a-zA-Z_#][a-zA-Z0-9_\-\?\!\*]*/,{cases:{"@keywords":"keyword","@constants":"constant","@operators":"operators","@default":"identifier"}}]],comment:[[/[^\|#]+/,"comment"],[/#\|/,"comment","@push"],[/\|#/,"comment","@pop"],[/[\|#]/,"comment"]],whitespace:[[/[ \t\r\n]+/,"white"],[/#\|/,"comment","@comment"],[/;.*$/,"comment"]],strings:[[/"$/,"string","@popall"],[/"(?=.)/,"string","@multiLineString"]],multiLineString:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string.escape"],[/"/,"string","@popall"],[/\\$/,"string"]]}}},1888:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(#?-?\d*\.\d\w*%?)|([@$#!.:]?[\w-?]+%?)|[@#!.]/g,comments:{blockComment:["/*","*/"],lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*\\/\\*\\s*#region\\b\\s*(.*?)\\s*\\*\\/"),end:new RegExp("^\\s*\\/\\*\\s*#endregion\\b.*\\*\\/")}}},I={defaultToken:"",tokenPostfix:".scss",ws:"[ \t\n\r\f]*",identifier:"-?-?([a-zA-Z]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{root:[{include:"@selector"}],selector:[{include:"@comments"},{include:"@import"},{include:"@variabledeclaration"},{include:"@warndebug"},["[@](include)",{token:"keyword",next:"@includedeclaration"}],["[@](keyframes|-webkit-keyframes|-moz-keyframes|-o-keyframes)",{token:"keyword",next:"@keyframedeclaration"}],["[@](page|content|font-face|-moz-document)",{token:"keyword"}],["[@](charset|namespace)",{token:"keyword",next:"@declarationbody"}],["[@](function)",{token:"keyword",next:"@functiondeclaration"}],["[@](mixin)",{token:"keyword",next:"@mixindeclaration"}],["url(\\-prefix)?\\(",{token:"meta",next:"@urldeclaration"}],{include:"@controlstatement"},{include:"@selectorname"},["[&\\*]","tag"],["[>\\+,]","delimiter"],["\\[",{token:"delimiter.bracket",next:"@selectorattribute"}],["{",{token:"delimiter.curly",next:"@selectorbody"}]],selectorbody:[["[*_]?@identifier@ws:(?=(\\s|\\d|[^{;}]*[;}]))","attribute.name","@rulevalue"],{include:"@selector"},["[@](extend)",{token:"keyword",next:"@extendbody"}],["[@](return)",{token:"keyword",next:"@declarationbody"}],["}",{token:"delimiter.curly",next:"@pop"}]],selectorname:[["#{",{token:"meta",next:"@variableinterpolation"}],["(\\.|#(?=[^{])|%|(@identifier)|:)+","tag"]],selectorattribute:[{include:"@term"},["]",{token:"delimiter.bracket",next:"@pop"}]],term:[{include:"@comments"},["url(\\-prefix)?\\(",{token:"meta",next:"@urldeclaration"}],{include:"@functioninvocation"},{include:"@numbers"},{include:"@strings"},{include:"@variablereference"},["(and\\b|or\\b|not\\b)","operator"],{include:"@name"},["([<>=\\+\\-\\*\\/\\^\\|\\~,])","operator"],[",","delimiter"],["!default","literal"],["\\(",{token:"delimiter.parenthesis",next:"@parenthizedterm"}]],rulevalue:[{include:"@term"},["!important","literal"],[";","delimiter","@pop"],["{",{token:"delimiter.curly",switchTo:"@nestedproperty"}],["(?=})",{token:"",next:"@pop"}]],nestedproperty:[["[*_]?@identifier@ws:","attribute.name","@rulevalue"],{include:"@comments"},["}",{token:"delimiter.curly",next:"@pop"}]],warndebug:[["[@](warn|debug)",{token:"keyword",next:"@declarationbody"}]],import:[["[@](import)",{token:"keyword",next:"@declarationbody"}]],variabledeclaration:[["\\$@identifier@ws:","variable.decl","@declarationbody"]],urldeclaration:[{include:"@strings"},["[^)\r\n]+","string"],["\\)",{token:"meta",next:"@pop"}]],parenthizedterm:[{include:"@term"},["\\)",{token:"delimiter.parenthesis",next:"@pop"}]],declarationbody:[{include:"@term"},[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],extendbody:[{include:"@selectorname"},["!optional","literal"],[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],variablereference:[["\\$@identifier","variable.ref"],["\\.\\.\\.","operator"],["#{",{token:"meta",next:"@variableinterpolation"}]],variableinterpolation:[{include:"@variablereference"},["}",{token:"meta",next:"@pop"}]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[".","comment"]],name:[["@identifier","attribute.value"]],numbers:[["(\\d*\\.)?\\d+([eE][\\-+]?\\d+)?",{token:"number",next:"@units"}],["#[0-9a-fA-F_]+(?!\\w)","number.hex"]],units:[["(em|ex|ch|rem|fr|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?","number","@pop"]],functiondeclaration:[["@identifier@ws\\(",{token:"meta",next:"@parameterdeclaration"}],["{",{token:"delimiter.curly",switchTo:"@functionbody"}]],mixindeclaration:[["@identifier@ws\\(",{token:"meta",next:"@parameterdeclaration"}],["@identifier","meta"],["{",{token:"delimiter.curly",switchTo:"@selectorbody"}]],parameterdeclaration:[["\\$@identifier@ws:","variable.decl"],["\\.\\.\\.","operator"],[",","delimiter"],{include:"@term"},["\\)",{token:"meta",next:"@pop"}]],includedeclaration:[{include:"@functioninvocation"},["@identifier","meta"],[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}],["{",{token:"delimiter.curly",switchTo:"@selectorbody"}]],keyframedeclaration:[["@identifier","meta"],["{",{token:"delimiter.curly",switchTo:"@keyframebody"}]],keyframebody:[{include:"@term"},["{",{token:"delimiter.curly",next:"@selectorbody"}],["}",{token:"delimiter.curly",next:"@pop"}]],controlstatement:[["[@](if|else|for|while|each|media)",{token:"keyword.flow",next:"@controlstatementdeclaration"}]],controlstatementdeclaration:[["(in|from|through|if|to)\\b",{token:"keyword.flow"}],{include:"@term"},["{",{token:"delimiter.curly",switchTo:"@selectorbody"}]],functionbody:[["[@](return)",{token:"keyword"}],{include:"@variabledeclaration"},{include:"@term"},{include:"@controlstatement"},[";","delimiter"],["}",{token:"delimiter.curly",next:"@pop"}]],functioninvocation:[["@identifier\\(",{token:"meta",next:"@functionarguments"}]],functionarguments:[["\\$@identifier@ws:","attribute.name"],["[,]","delimiter"],{include:"@term"},["\\)",{token:"meta",next:"@pop"}]],strings:[['~?"',{token:"string.delimiter",next:"@stringenddoublequote"}],["~?'",{token:"string.delimiter",next:"@stringendquote"}]],stringenddoublequote:[["\\\\.","string"],['"',{token:"string.delimiter",next:"@pop"}],[".","string"]],stringendquote:[["\\\\.","string"],["'",{token:"string.delimiter",next:"@pop"}],[".","string"]]}}},9034:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}]},I={defaultToken:"",ignoreCase:!0,tokenPostfix:".shell",brackets:[{token:"delimiter.bracket",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"}],keywords:["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],builtins:["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"],startingWithDash:/\-+\w+/,identifiersWithDashes:/[a-zA-Z]\w+(?:@startingWithDash)+/,symbols:/[=><!~?&|+\-*\/\^;\.,]+/,tokenizer:{root:[[/@identifiersWithDashes/,""],[/(\s)((?:@startingWithDash)+)/,["white","attribute.name"]],[/[a-zA-Z]\w*/,{cases:{"@keywords":"keyword","@builtins":"type.identifier","@default":""}}],{include:"@whitespace"},{include:"@strings"},{include:"@parameters"},{include:"@heredoc"},[/[{}\[\]()]/,"@brackets"],[/@symbols/,"delimiter"],{include:"@numbers"},[/[,;]/,"delimiter"]],whitespace:[[/\s+/,"white"],[/(^#!.*$)/,"metatag"],[/(^#.*$)/,"comment"]],numbers:[[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F]/,"number.hex"],[/\d+/,"number"]],strings:[[/'/,"string","@stringBody"],[/"/,"string","@dblStringBody"]],stringBody:[[/'/,"string","@popall"],[/./,"string"]],dblStringBody:[[/"/,"string","@popall"],[/./,"string"]],heredoc:[[/(<<[-<]?)(\s*)(['"`]?)([\w\-]+)(['"`]?)/,["constants","white","string.heredoc.delimiter","string.heredoc","string.heredoc.delimiter"]]],parameters:[[/\$\d+/,"variable.predefined"],[/\$\w+/,"variable"],[/\$[*@#?\-$!0_]/,"variable"],[/\$'/,"variable","@parameterBodyQuote"],[/\$"/,"variable","@parameterBodyDoubleQuote"],[/\$\(/,"variable","@parameterBodyParen"],[/\$\{/,"variable","@parameterBodyCurlyBrace"]],parameterBodyQuote:[[/[^#:%*@\-!_']+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/[']/,"variable","@pop"]],parameterBodyDoubleQuote:[[/[^#:%*@\-!_"]+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/["]/,"variable","@pop"]],parameterBodyParen:[[/[^#:%*@\-!_)]+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/[)]/,"variable","@pop"]],parameterBodyCurlyBrace:[[/[^#:%*@\-!_}]+/,"variable"],[/[#:%*@\-!_]/,"delimiter"],[/[}]/,"variable","@pop"]]}}},3042:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"],["<",">"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment"]},{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]}]},I={defaultToken:"",tokenPostfix:".sol",brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"},{token:"delimiter.angle",open:"<",close:">"}],keywords:["pragma","solidity","contract","library","using","struct","function","modifier","constructor","address","string","bool","Int","Uint","Byte","Fixed","Ufixed","int","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","uint","uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","byte","bytes","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","fixed","fixed0x8","fixed0x16","fixed0x24","fixed0x32","fixed0x40","fixed0x48","fixed0x56","fixed0x64","fixed0x72","fixed0x80","fixed0x88","fixed0x96","fixed0x104","fixed0x112","fixed0x120","fixed0x128","fixed0x136","fixed0x144","fixed0x152","fixed0x160","fixed0x168","fixed0x176","fixed0x184","fixed0x192","fixed0x200","fixed0x208","fixed0x216","fixed0x224","fixed0x232","fixed0x240","fixed0x248","fixed0x256","fixed8x8","fixed8x16","fixed8x24","fixed8x32","fixed8x40","fixed8x48","fixed8x56","fixed8x64","fixed8x72","fixed8x80","fixed8x88","fixed8x96","fixed8x104","fixed8x112","fixed8x120","fixed8x128","fixed8x136","fixed8x144","fixed8x152","fixed8x160","fixed8x168","fixed8x176","fixed8x184","fixed8x192","fixed8x200","fixed8x208","fixed8x216","fixed8x224","fixed8x232","fixed8x240","fixed8x248","fixed16x8","fixed16x16","fixed16x24","fixed16x32","fixed16x40","fixed16x48","fixed16x56","fixed16x64","fixed16x72","fixed16x80","fixed16x88","fixed16x96","fixed16x104","fixed16x112","fixed16x120","fixed16x128","fixed16x136","fixed16x144","fixed16x152","fixed16x160","fixed16x168","fixed16x176","fixed16x184","fixed16x192","fixed16x200","fixed16x208","fixed16x216","fixed16x224","fixed16x232","fixed16x240","fixed24x8","fixed24x16","fixed24x24","fixed24x32","fixed24x40","fixed24x48","fixed24x56","fixed24x64","fixed24x72","fixed24x80","fixed24x88","fixed24x96","fixed24x104","fixed24x112","fixed24x120","fixed24x128","fixed24x136","fixed24x144","fixed24x152","fixed24x160","fixed24x168","fixed24x176","fixed24x184","fixed24x192","fixed24x200","fixed24x208","fixed24x216","fixed24x224","fixed24x232","fixed32x8","fixed32x16","fixed32x24","fixed32x32","fixed32x40","fixed32x48","fixed32x56","fixed32x64","fixed32x72","fixed32x80","fixed32x88","fixed32x96","fixed32x104","fixed32x112","fixed32x120","fixed32x128","fixed32x136","fixed32x144","fixed32x152","fixed32x160","fixed32x168","fixed32x176","fixed32x184","fixed32x192","fixed32x200","fixed32x208","fixed32x216","fixed32x224","fixed40x8","fixed40x16","fixed40x24","fixed40x32","fixed40x40","fixed40x48","fixed40x56","fixed40x64","fixed40x72","fixed40x80","fixed40x88","fixed40x96","fixed40x104","fixed40x112","fixed40x120","fixed40x128","fixed40x136","fixed40x144","fixed40x152","fixed40x160","fixed40x168","fixed40x176","fixed40x184","fixed40x192","fixed40x200","fixed40x208","fixed40x216","fixed48x8","fixed48x16","fixed48x24","fixed48x32","fixed48x40","fixed48x48","fixed48x56","fixed48x64","fixed48x72","fixed48x80","fixed48x88","fixed48x96","fixed48x104","fixed48x112","fixed48x120","fixed48x128","fixed48x136","fixed48x144","fixed48x152","fixed48x160","fixed48x168","fixed48x176","fixed48x184","fixed48x192","fixed48x200","fixed48x208","fixed56x8","fixed56x16","fixed56x24","fixed56x32","fixed56x40","fixed56x48","fixed56x56","fixed56x64","fixed56x72","fixed56x80","fixed56x88","fixed56x96","fixed56x104","fixed56x112","fixed56x120","fixed56x128","fixed56x136","fixed56x144","fixed56x152","fixed56x160","fixed56x168","fixed56x176","fixed56x184","fixed56x192","fixed56x200","fixed64x8","fixed64x16","fixed64x24","fixed64x32","fixed64x40","fixed64x48","fixed64x56","fixed64x64","fixed64x72","fixed64x80","fixed64x88","fixed64x96","fixed64x104","fixed64x112","fixed64x120","fixed64x128","fixed64x136","fixed64x144","fixed64x152","fixed64x160","fixed64x168","fixed64x176","fixed64x184","fixed64x192","fixed72x8","fixed72x16","fixed72x24","fixed72x32","fixed72x40","fixed72x48","fixed72x56","fixed72x64","fixed72x72","fixed72x80","fixed72x88","fixed72x96","fixed72x104","fixed72x112","fixed72x120","fixed72x128","fixed72x136","fixed72x144","fixed72x152","fixed72x160","fixed72x168","fixed72x176","fixed72x184","fixed80x8","fixed80x16","fixed80x24","fixed80x32","fixed80x40","fixed80x48","fixed80x56","fixed80x64","fixed80x72","fixed80x80","fixed80x88","fixed80x96","fixed80x104","fixed80x112","fixed80x120","fixed80x128","fixed80x136","fixed80x144","fixed80x152","fixed80x160","fixed80x168","fixed80x176","fixed88x8","fixed88x16","fixed88x24","fixed88x32","fixed88x40","fixed88x48","fixed88x56","fixed88x64","fixed88x72","fixed88x80","fixed88x88","fixed88x96","fixed88x104","fixed88x112","fixed88x120","fixed88x128","fixed88x136","fixed88x144","fixed88x152","fixed88x160","fixed88x168","fixed96x8","fixed96x16","fixed96x24","fixed96x32","fixed96x40","fixed96x48","fixed96x56","fixed96x64","fixed96x72","fixed96x80","fixed96x88","fixed96x96","fixed96x104","fixed96x112","fixed96x120","fixed96x128","fixed96x136","fixed96x144","fixed96x152","fixed96x160","fixed104x8","fixed104x16","fixed104x24","fixed104x32","fixed104x40","fixed104x48","fixed104x56","fixed104x64","fixed104x72","fixed104x80","fixed104x88","fixed104x96","fixed104x104","fixed104x112","fixed104x120","fixed104x128","fixed104x136","fixed104x144","fixed104x152","fixed112x8","fixed112x16","fixed112x24","fixed112x32","fixed112x40","fixed112x48","fixed112x56","fixed112x64","fixed112x72","fixed112x80","fixed112x88","fixed112x96","fixed112x104","fixed112x112","fixed112x120","fixed112x128","fixed112x136","fixed112x144","fixed120x8","fixed120x16","fixed120x24","fixed120x32","fixed120x40","fixed120x48","fixed120x56","fixed120x64","fixed120x72","fixed120x80","fixed120x88","fixed120x96","fixed120x104","fixed120x112","fixed120x120","fixed120x128","fixed120x136","fixed128x8","fixed128x16","fixed128x24","fixed128x32","fixed128x40","fixed128x48","fixed128x56","fixed128x64","fixed128x72","fixed128x80","fixed128x88","fixed128x96","fixed128x104","fixed128x112","fixed128x120","fixed128x128","fixed136x8","fixed136x16","fixed136x24","fixed136x32","fixed136x40","fixed136x48","fixed136x56","fixed136x64","fixed136x72","fixed136x80","fixed136x88","fixed136x96","fixed136x104","fixed136x112","fixed136x120","fixed144x8","fixed144x16","fixed144x24","fixed144x32","fixed144x40","fixed144x48","fixed144x56","fixed144x64","fixed144x72","fixed144x80","fixed144x88","fixed144x96","fixed144x104","fixed144x112","fixed152x8","fixed152x16","fixed152x24","fixed152x32","fixed152x40","fixed152x48","fixed152x56","fixed152x64","fixed152x72","fixed152x80","fixed152x88","fixed152x96","fixed152x104","fixed160x8","fixed160x16","fixed160x24","fixed160x32","fixed160x40","fixed160x48","fixed160x56","fixed160x64","fixed160x72","fixed160x80","fixed160x88","fixed160x96","fixed168x8","fixed168x16","fixed168x24","fixed168x32","fixed168x40","fixed168x48","fixed168x56","fixed168x64","fixed168x72","fixed168x80","fixed168x88","fixed176x8","fixed176x16","fixed176x24","fixed176x32","fixed176x40","fixed176x48","fixed176x56","fixed176x64","fixed176x72","fixed176x80","fixed184x8","fixed184x16","fixed184x24","fixed184x32","fixed184x40","fixed184x48","fixed184x56","fixed184x64","fixed184x72","fixed192x8","fixed192x16","fixed192x24","fixed192x32","fixed192x40","fixed192x48","fixed192x56","fixed192x64","fixed200x8","fixed200x16","fixed200x24","fixed200x32","fixed200x40","fixed200x48","fixed200x56","fixed208x8","fixed208x16","fixed208x24","fixed208x32","fixed208x40","fixed208x48","fixed216x8","fixed216x16","fixed216x24","fixed216x32","fixed216x40","fixed224x8","fixed224x16","fixed224x24","fixed224x32","fixed232x8","fixed232x16","fixed232x24","fixed240x8","fixed240x16","fixed248x8","ufixed","ufixed0x8","ufixed0x16","ufixed0x24","ufixed0x32","ufixed0x40","ufixed0x48","ufixed0x56","ufixed0x64","ufixed0x72","ufixed0x80","ufixed0x88","ufixed0x96","ufixed0x104","ufixed0x112","ufixed0x120","ufixed0x128","ufixed0x136","ufixed0x144","ufixed0x152","ufixed0x160","ufixed0x168","ufixed0x176","ufixed0x184","ufixed0x192","ufixed0x200","ufixed0x208","ufixed0x216","ufixed0x224","ufixed0x232","ufixed0x240","ufixed0x248","ufixed0x256","ufixed8x8","ufixed8x16","ufixed8x24","ufixed8x32","ufixed8x40","ufixed8x48","ufixed8x56","ufixed8x64","ufixed8x72","ufixed8x80","ufixed8x88","ufixed8x96","ufixed8x104","ufixed8x112","ufixed8x120","ufixed8x128","ufixed8x136","ufixed8x144","ufixed8x152","ufixed8x160","ufixed8x168","ufixed8x176","ufixed8x184","ufixed8x192","ufixed8x200","ufixed8x208","ufixed8x216","ufixed8x224","ufixed8x232","ufixed8x240","ufixed8x248","ufixed16x8","ufixed16x16","ufixed16x24","ufixed16x32","ufixed16x40","ufixed16x48","ufixed16x56","ufixed16x64","ufixed16x72","ufixed16x80","ufixed16x88","ufixed16x96","ufixed16x104","ufixed16x112","ufixed16x120","ufixed16x128","ufixed16x136","ufixed16x144","ufixed16x152","ufixed16x160","ufixed16x168","ufixed16x176","ufixed16x184","ufixed16x192","ufixed16x200","ufixed16x208","ufixed16x216","ufixed16x224","ufixed16x232","ufixed16x240","ufixed24x8","ufixed24x16","ufixed24x24","ufixed24x32","ufixed24x40","ufixed24x48","ufixed24x56","ufixed24x64","ufixed24x72","ufixed24x80","ufixed24x88","ufixed24x96","ufixed24x104","ufixed24x112","ufixed24x120","ufixed24x128","ufixed24x136","ufixed24x144","ufixed24x152","ufixed24x160","ufixed24x168","ufixed24x176","ufixed24x184","ufixed24x192","ufixed24x200","ufixed24x208","ufixed24x216","ufixed24x224","ufixed24x232","ufixed32x8","ufixed32x16","ufixed32x24","ufixed32x32","ufixed32x40","ufixed32x48","ufixed32x56","ufixed32x64","ufixed32x72","ufixed32x80","ufixed32x88","ufixed32x96","ufixed32x104","ufixed32x112","ufixed32x120","ufixed32x128","ufixed32x136","ufixed32x144","ufixed32x152","ufixed32x160","ufixed32x168","ufixed32x176","ufixed32x184","ufixed32x192","ufixed32x200","ufixed32x208","ufixed32x216","ufixed32x224","ufixed40x8","ufixed40x16","ufixed40x24","ufixed40x32","ufixed40x40","ufixed40x48","ufixed40x56","ufixed40x64","ufixed40x72","ufixed40x80","ufixed40x88","ufixed40x96","ufixed40x104","ufixed40x112","ufixed40x120","ufixed40x128","ufixed40x136","ufixed40x144","ufixed40x152","ufixed40x160","ufixed40x168","ufixed40x176","ufixed40x184","ufixed40x192","ufixed40x200","ufixed40x208","ufixed40x216","ufixed48x8","ufixed48x16","ufixed48x24","ufixed48x32","ufixed48x40","ufixed48x48","ufixed48x56","ufixed48x64","ufixed48x72","ufixed48x80","ufixed48x88","ufixed48x96","ufixed48x104","ufixed48x112","ufixed48x120","ufixed48x128","ufixed48x136","ufixed48x144","ufixed48x152","ufixed48x160","ufixed48x168","ufixed48x176","ufixed48x184","ufixed48x192","ufixed48x200","ufixed48x208","ufixed56x8","ufixed56x16","ufixed56x24","ufixed56x32","ufixed56x40","ufixed56x48","ufixed56x56","ufixed56x64","ufixed56x72","ufixed56x80","ufixed56x88","ufixed56x96","ufixed56x104","ufixed56x112","ufixed56x120","ufixed56x128","ufixed56x136","ufixed56x144","ufixed56x152","ufixed56x160","ufixed56x168","ufixed56x176","ufixed56x184","ufixed56x192","ufixed56x200","ufixed64x8","ufixed64x16","ufixed64x24","ufixed64x32","ufixed64x40","ufixed64x48","ufixed64x56","ufixed64x64","ufixed64x72","ufixed64x80","ufixed64x88","ufixed64x96","ufixed64x104","ufixed64x112","ufixed64x120","ufixed64x128","ufixed64x136","ufixed64x144","ufixed64x152","ufixed64x160","ufixed64x168","ufixed64x176","ufixed64x184","ufixed64x192","ufixed72x8","ufixed72x16","ufixed72x24","ufixed72x32","ufixed72x40","ufixed72x48","ufixed72x56","ufixed72x64","ufixed72x72","ufixed72x80","ufixed72x88","ufixed72x96","ufixed72x104","ufixed72x112","ufixed72x120","ufixed72x128","ufixed72x136","ufixed72x144","ufixed72x152","ufixed72x160","ufixed72x168","ufixed72x176","ufixed72x184","ufixed80x8","ufixed80x16","ufixed80x24","ufixed80x32","ufixed80x40","ufixed80x48","ufixed80x56","ufixed80x64","ufixed80x72","ufixed80x80","ufixed80x88","ufixed80x96","ufixed80x104","ufixed80x112","ufixed80x120","ufixed80x128","ufixed80x136","ufixed80x144","ufixed80x152","ufixed80x160","ufixed80x168","ufixed80x176","ufixed88x8","ufixed88x16","ufixed88x24","ufixed88x32","ufixed88x40","ufixed88x48","ufixed88x56","ufixed88x64","ufixed88x72","ufixed88x80","ufixed88x88","ufixed88x96","ufixed88x104","ufixed88x112","ufixed88x120","ufixed88x128","ufixed88x136","ufixed88x144","ufixed88x152","ufixed88x160","ufixed88x168","ufixed96x8","ufixed96x16","ufixed96x24","ufixed96x32","ufixed96x40","ufixed96x48","ufixed96x56","ufixed96x64","ufixed96x72","ufixed96x80","ufixed96x88","ufixed96x96","ufixed96x104","ufixed96x112","ufixed96x120","ufixed96x128","ufixed96x136","ufixed96x144","ufixed96x152","ufixed96x160","ufixed104x8","ufixed104x16","ufixed104x24","ufixed104x32","ufixed104x40","ufixed104x48","ufixed104x56","ufixed104x64","ufixed104x72","ufixed104x80","ufixed104x88","ufixed104x96","ufixed104x104","ufixed104x112","ufixed104x120","ufixed104x128","ufixed104x136","ufixed104x144","ufixed104x152","ufixed112x8","ufixed112x16","ufixed112x24","ufixed112x32","ufixed112x40","ufixed112x48","ufixed112x56","ufixed112x64","ufixed112x72","ufixed112x80","ufixed112x88","ufixed112x96","ufixed112x104","ufixed112x112","ufixed112x120","ufixed112x128","ufixed112x136","ufixed112x144","ufixed120x8","ufixed120x16","ufixed120x24","ufixed120x32","ufixed120x40","ufixed120x48","ufixed120x56","ufixed120x64","ufixed120x72","ufixed120x80","ufixed120x88","ufixed120x96","ufixed120x104","ufixed120x112","ufixed120x120","ufixed120x128","ufixed120x136","ufixed128x8","ufixed128x16","ufixed128x24","ufixed128x32","ufixed128x40","ufixed128x48","ufixed128x56","ufixed128x64","ufixed128x72","ufixed128x80","ufixed128x88","ufixed128x96","ufixed128x104","ufixed128x112","ufixed128x120","ufixed128x128","ufixed136x8","ufixed136x16","ufixed136x24","ufixed136x32","ufixed136x40","ufixed136x48","ufixed136x56","ufixed136x64","ufixed136x72","ufixed136x80","ufixed136x88","ufixed136x96","ufixed136x104","ufixed136x112","ufixed136x120","ufixed144x8","ufixed144x16","ufixed144x24","ufixed144x32","ufixed144x40","ufixed144x48","ufixed144x56","ufixed144x64","ufixed144x72","ufixed144x80","ufixed144x88","ufixed144x96","ufixed144x104","ufixed144x112","ufixed152x8","ufixed152x16","ufixed152x24","ufixed152x32","ufixed152x40","ufixed152x48","ufixed152x56","ufixed152x64","ufixed152x72","ufixed152x80","ufixed152x88","ufixed152x96","ufixed152x104","ufixed160x8","ufixed160x16","ufixed160x24","ufixed160x32","ufixed160x40","ufixed160x48","ufixed160x56","ufixed160x64","ufixed160x72","ufixed160x80","ufixed160x88","ufixed160x96","ufixed168x8","ufixed168x16","ufixed168x24","ufixed168x32","ufixed168x40","ufixed168x48","ufixed168x56","ufixed168x64","ufixed168x72","ufixed168x80","ufixed168x88","ufixed176x8","ufixed176x16","ufixed176x24","ufixed176x32","ufixed176x40","ufixed176x48","ufixed176x56","ufixed176x64","ufixed176x72","ufixed176x80","ufixed184x8","ufixed184x16","ufixed184x24","ufixed184x32","ufixed184x40","ufixed184x48","ufixed184x56","ufixed184x64","ufixed184x72","ufixed192x8","ufixed192x16","ufixed192x24","ufixed192x32","ufixed192x40","ufixed192x48","ufixed192x56","ufixed192x64","ufixed200x8","ufixed200x16","ufixed200x24","ufixed200x32","ufixed200x40","ufixed200x48","ufixed200x56","ufixed208x8","ufixed208x16","ufixed208x24","ufixed208x32","ufixed208x40","ufixed208x48","ufixed216x8","ufixed216x16","ufixed216x24","ufixed216x32","ufixed216x40","ufixed224x8","ufixed224x16","ufixed224x24","ufixed224x32","ufixed232x8","ufixed232x16","ufixed232x24","ufixed240x8","ufixed240x16","ufixed248x8","event","enum","let","mapping","private","public","external","inherited","payable","true","false","var","import","constant","if","else","for","else","for","while","do","break","continue","throw","returns","return","suicide","new","is","this","super"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,integersuffix:/(ll|LL|u|U|l|L)?(ll|LL|u|U|l|L)?/,floatsuffix:/[fFlL]?/,tokenizer:{root:[[/[a-zA-Z_]\w*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/\[\[.*\]\]/,"annotation"],[/^\s*#\w+/,"keyword"],[/int\d*/,"keyword"],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\d+[eE]([\-+]?\d+)?(@floatsuffix)/,"number.float"],[/\d*\.\d+([eE][\-+]?\d+)?(@floatsuffix)/,"number.float"],[/0[xX][0-9a-fA-F']*[0-9a-fA-F](@integersuffix)/,"number.hex"],[/0[0-7']*[0-7](@integersuffix)/,"number.octal"],[/0[bB][0-1']*[0-1](@integersuffix)/,"number.binary"],[/\d[\d']*\d(@integersuffix)/,"number"],[/\d(@integersuffix)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@doccomment"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],doccomment:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}}},8332:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"],["<",">"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment"]},{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]}]},I={defaultToken:"",tokenPostfix:".aes",brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"},{token:"delimiter.angle",open:"<",close:">"}],keywords:["contract","library","entrypoint","function","stateful","state","hash","signature","tuple","list","address","string","bool","int","record","datatype","type","option","oracle","oracle_query","Call","Bits","Bytes","Oracle","String","Crypto","Address","Auth","Chain","None","Some","bits","bytes","event","let","map","private","public","true","false","var","if","else","throw"],operators:["=",">","<","!","~","?","::",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,integersuffix:/(ll|LL|u|U|l|L)?(ll|LL|u|U|l|L)?/,floatsuffix:/[fFlL]?/,tokenizer:{root:[[/[a-zA-Z_]\w*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],{include:"@whitespace"},[/\[\[.*\]\]/,"annotation"],[/^\s*#\w+/,"keyword"],[/int\d*/,"keyword"],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/\d*\d+[eE]([\-+]?\d+)?(@floatsuffix)/,"number.float"],[/\d*\.\d+([eE][\-+]?\d+)?(@floatsuffix)/,"number.float"],[/0[xX][0-9a-fA-F']*[0-9a-fA-F](@integersuffix)/,"number.hex"],[/0[0-7']*[0-7](@integersuffix)/,"number.octal"],[/0[bB][0-1']*[0-1](@integersuffix)/,"number.binary"],[/\d[\d']*\d(@integersuffix)/,"number"],[/\d(@integersuffix)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@doccomment"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],doccomment:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}}},1282:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"'",close:"'",notIn:["string"]},{open:'"',close:'"',notIn:["string"]},{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"}]},I={defaultToken:"",tokenPostfix:".rq",brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"},{token:"delimiter.angle",open:"<",close:">"}],keywords:["add","as","asc","ask","base","by","clear","construct","copy","create","data","delete","desc","describe","distinct","drop","false","filter","from","graph","group","having","in","insert","limit","load","minus","move","named","not","offset","optional","order","prefix","reduced","select","service","silent","to","true","undef","union","using","values","where","with"],builtinFunctions:["a","abs","avg","bind","bnode","bound","ceil","coalesce","concat","contains","count","datatype","day","encode_for_uri","exists","floor","group_concat","hours","if","iri","isblank","isiri","isliteral","isnumeric","isuri","lang","langmatches","lcase","max","md5","min","minutes","month","now","rand","regex","replace","round","sameterm","sample","seconds","sha1","sha256","sha384","sha512","str","strafter","strbefore","strdt","strends","strlang","strlen","strstarts","struuid","substr","sum","timezone","tz","ucase","uri","uuid","year"],ignoreCase:!0,tokenizer:{root:[[/<[^\s\u00a0>]*>?/,"tag"],{include:"@strings"},[/#.*/,"comment"],[/[{}()\[\]]/,"@brackets"],[/[;,.]/,"delimiter"],[/[_\w\d]+:(\.(?=[\w_\-\\%])|[:\w_-]|\\[-\\_~.!$&'()*+,;=/?#@%]|%[a-f\d][a-f\d])*/,"tag"],[/:(\.(?=[\w_\-\\%])|[:\w_-]|\\[-\\_~.!$&'()*+,;=/?#@%]|%[a-f\d][a-f\d])+/,"tag"],[/[$?]?[_\w\d]+/,{cases:{"@keywords":{token:"keyword"},"@builtinFunctions":{token:"predefined.sql"},"@default":"identifier"}}],[/\^\^/,"operator.sql"],[/\^[*+\-<>=&|^\/!?]*/,"operator.sql"],[/[*+\-<>=&|\/!?]/,"operator.sql"],[/@[a-z\d\-]*/,"metatag.html"],[/\s+/,"white"]],strings:[[/'([^'\\]|\\.)*$/,"string.invalid"],[/'$/,"string.sql","@pop"],[/'/,"string.sql","@stringBody"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"$/,"string.sql","@pop"],[/"/,"string.sql","@dblStringBody"]],stringBody:[[/[^\\']+/,"string.sql"],[/\\./,"string.escape"],[/'/,"string.sql","@pop"]],dblStringBody:[[/[^\\"]+/,"string.sql"],[/\\./,"string.escape"],[/"/,"string.sql","@pop"]]}}},1914:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["ABORT","ABSOLUTE","ACTION","ADA","ADD","AFTER","ALL","ALLOCATE","ALTER","ALWAYS","ANALYZE","AND","ANY","ARE","AS","ASC","ASSERTION","AT","ATTACH","AUTHORIZATION","AUTOINCREMENT","AVG","BACKUP","BEFORE","BEGIN","BETWEEN","BIT","BIT_LENGTH","BOTH","BREAK","BROWSE","BULK","BY","CASCADE","CASCADED","CASE","CAST","CATALOG","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLLATION","COLUMN","COMMIT","COMPUTE","CONFLICT","CONNECT","CONNECTION","CONSTRAINT","CONSTRAINTS","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CORRESPONDING","COUNT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATE","DAY","DBCC","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DETACH","DIAGNOSTICS","DISCONNECT","DISK","DISTINCT","DISTRIBUTED","DO","DOMAIN","DOUBLE","DROP","DUMP","EACH","ELSE","END","END-EXEC","ERRLVL","ESCAPE","EXCEPT","EXCEPTION","EXCLUDE","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTERNAL","EXTRACT","FAIL","FALSE","FETCH","FILE","FILLFACTOR","FILTER","FIRST","FLOAT","FOLLOWING","FOR","FOREIGN","FORTRAN","FOUND","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GENERATED","GET","GLOB","GLOBAL","GO","GOTO","GRANT","GROUP","GROUPS","HAVING","HOLDLOCK","HOUR","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IGNORE","IMMEDIATE","IN","INCLUDE","INDEX","INDEXED","INDICATOR","INITIALLY","INNER","INPUT","INSENSITIVE","INSERT","INSTEAD","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","ISNULL","ISOLATION","JOIN","KEY","KILL","LANGUAGE","LAST","LEADING","LEFT","LEVEL","LIKE","LIMIT","LINENO","LOAD","LOCAL","LOWER","MATCH","MATERIALIZED","MAX","MERGE","MIN","MINUTE","MODULE","MONTH","NAMES","NATIONAL","NATURAL","NCHAR","NEXT","NO","NOCHECK","NONCLUSTERED","NONE","NOT","NOTHING","NOTNULL","NULL","NULLIF","NULLS","NUMERIC","OCTET_LENGTH","OF","OFF","OFFSET","OFFSETS","ON","ONLY","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OTHERS","OUTER","OUTPUT","OVER","OVERLAPS","PAD","PARTIAL","PARTITION","PASCAL","PERCENT","PIVOT","PLAN","POSITION","PRAGMA","PRECEDING","PRECISION","PREPARE","PRESERVE","PRIMARY","PRINT","PRIOR","PRIVILEGES","PROC","PROCEDURE","PUBLIC","QUERY","RAISE","RAISERROR","RANGE","READ","READTEXT","REAL","RECONFIGURE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELATIVE","RELEASE","RENAME","REPLACE","REPLICATION","RESTORE","RESTRICT","RETURN","RETURNING","REVERT","REVOKE","RIGHT","ROLLBACK","ROW","ROWCOUNT","ROWGUIDCOL","ROWS","RULE","SAVE","SAVEPOINT","SCHEMA","SCROLL","SECOND","SECTION","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION","SESSION_USER","SET","SETUSER","SHUTDOWN","SIZE","SMALLINT","SOME","SPACE","SQL","SQLCA","SQLCODE","SQLERROR","SQLSTATE","SQLWARNING","STATISTICS","SUBSTRING","SUM","SYSTEM_USER","TABLE","TABLESAMPLE","TEMP","TEMPORARY","TEXTSIZE","THEN","TIES","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TOP","TRAILING","TRAN","TRANSACTION","TRANSLATE","TRANSLATION","TRIGGER","TRIM","TRUE","TRUNCATE","TRY_CONVERT","TSEQUAL","UNBOUNDED","UNION","UNIQUE","UNKNOWN","UNPIVOT","UPDATE","UPDATETEXT","UPPER","USAGE","USE","USER","USING","VACUUM","VALUE","VALUES","VARCHAR","VARYING","VIEW","VIRTUAL","WAITFOR","WHEN","WHENEVER","WHERE","WHILE","WINDOW","WITH","WITHIN GROUP","WITHOUT","WORK","WRITE","WRITETEXT","YEAR","ZONE"],operators:["ALL","AND","ANY","BETWEEN","EXISTS","IN","LIKE","NOT","OR","SOME","EXCEPT","INTERSECT","UNION","APPLY","CROSS","FULL","INNER","JOIN","LEFT","OUTER","RIGHT","CONTAINS","FREETEXT","IS","NULL","PIVOT","UNPIVOT","MATCHED"],builtinFunctions:["AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","SUM","STDEV","STDEVP","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","COLLATE","COLLATIONPROPERTY","TERTIARY_WEIGHTS","FEDERATION_FILTERING_VALUE","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","CURRENT_TIMESTAMP","DATEADD","DATEDIFF","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","CHOOSE","COALESCE","IIF","NULLIF","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASE_PRINCIPAL_ID","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHAR","CHARINDEX","CONCAT","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","NCHAR","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STUFF","SUBSTRING","UNICODE","UPPER","BINARY_CHECKSUM","CHECKSUM","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","ERROR_LINE","ERROR_NUMBER","ERROR_MESSAGE","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GETANSINULL","GET_FILESTREAM_TRANSACTION_CONTEXT","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","XACT_STATE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","CHANGETABLE","CHANGE_TRACKING_CONTEXT","CHANGE_TRACKING_CURRENT_VERSION","CHANGE_TRACKING_IS_COLUMN_IN_MASK","CHANGE_TRACKING_MIN_VALID_VERSION","CONTAINSTABLE","FREETEXTTABLE","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","FILETABLEROOTPATH","GETFILENAMESPACEPATH","GETPATHLOCATOR","PATHNAME","GET_TRANSMISSION_STATUS"],builtinVariables:["@@DATEFIRST","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","@@CURSOR_ROWS","@@FETCH_STATUS","@@DATEFIRST","@@PROCID","@@ERROR","@@IDENTITY","@@ROWCOUNT","@@TRANCOUNT","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACKET_ERRORS","@@PACK_RECEIVED","@@PACK_SENT","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE"],pseudoColumns:["$ACTION","$IDENTITY","$ROWGUID","$PARTITION"],tokenizer:{root:[{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$]+/,{cases:{"@operators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@keywords":"keyword","@default":"identifier"}}],[/[<>=!%&+\-*/|~^]/,"operator"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],complexIdentifiers:[[/\[/,{token:"identifier.quote",next:"@bracketedIdentifier"}],[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],bracketedIdentifier:[[/[^\]]+/,"identifier"],[/]]/,"identifier"],[/]/,{token:"identifier.quote",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[[/BEGIN\s+(DISTRIBUTED\s+)?TRAN(SACTION)?\b/i,"keyword"],[/BEGIN\s+TRY\b/i,{token:"keyword.try"}],[/END\s+TRY\b/i,{token:"keyword.try"}],[/BEGIN\s+CATCH\b/i,{token:"keyword.catch"}],[/END\s+CATCH\b/i,{token:"keyword.catch"}],[/(BEGIN|CASE)\b/i,{token:"keyword.block"}],[/END\b/i,{token:"keyword.block"}],[/WHEN\b/i,{token:"keyword.choice"}],[/THEN\b/i,{token:"keyword.choice"}]]}}},8334:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["(*","*)"]},brackets:[["{","}"],["[","]"],["(",")"],["var","end_var"],["var_input","end_var"],["var_output","end_var"],["var_in_out","end_var"],["var_temp","end_var"],["var_global","end_var"],["var_access","end_var"],["var_external","end_var"],["type","end_type"],["struct","end_struct"],["program","end_program"],["function","end_function"],["function_block","end_function_block"],["action","end_action"],["step","end_step"],["initial_step","end_step"],["transaction","end_transaction"],["configuration","end_configuration"],["tcp","end_tcp"],["recource","end_recource"],["channel","end_channel"],["library","end_library"],["folder","end_folder"],["binaries","end_binaries"],["includes","end_includes"],["sources","end_sources"]],autoClosingPairs:[{open:"[",close:"]"},{open:"{",close:"}"},{open:"(",close:")"},{open:"/*",close:"*/"},{open:"'",close:"'",notIn:["string_sq"]},{open:'"',close:'"',notIn:["string_dq"]},{open:"var_input",close:"end_var"},{open:"var_output",close:"end_var"},{open:"var_in_out",close:"end_var"},{open:"var_temp",close:"end_var"},{open:"var_global",close:"end_var"},{open:"var_access",close:"end_var"},{open:"var_external",close:"end_var"},{open:"type",close:"end_type"},{open:"struct",close:"end_struct"},{open:"program",close:"end_program"},{open:"function",close:"end_function"},{open:"function_block",close:"end_function_block"},{open:"action",close:"end_action"},{open:"step",close:"end_step"},{open:"initial_step",close:"end_step"},{open:"transaction",close:"end_transaction"},{open:"configuration",close:"end_configuration"},{open:"tcp",close:"end_tcp"},{open:"recource",close:"end_recource"},{open:"channel",close:"end_channel"},{open:"library",close:"end_library"},{open:"folder",close:"end_folder"},{open:"binaries",close:"end_binaries"},{open:"includes",close:"end_includes"},{open:"sources",close:"end_sources"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"var",close:"end_var"},{open:"var_input",close:"end_var"},{open:"var_output",close:"end_var"},{open:"var_in_out",close:"end_var"},{open:"var_temp",close:"end_var"},{open:"var_global",close:"end_var"},{open:"var_access",close:"end_var"},{open:"var_external",close:"end_var"},{open:"type",close:"end_type"},{open:"struct",close:"end_struct"},{open:"program",close:"end_program"},{open:"function",close:"end_function"},{open:"function_block",close:"end_function_block"},{open:"action",close:"end_action"},{open:"step",close:"end_step"},{open:"initial_step",close:"end_step"},{open:"transaction",close:"end_transaction"},{open:"configuration",close:"end_configuration"},{open:"tcp",close:"end_tcp"},{open:"recource",close:"end_recource"},{open:"channel",close:"end_channel"},{open:"library",close:"end_library"},{open:"folder",close:"end_folder"},{open:"binaries",close:"end_binaries"},{open:"includes",close:"end_includes"},{open:"sources",close:"end_sources"}],folding:{markers:{start:new RegExp("^\\s*#pragma\\s+region\\b"),end:new RegExp("^\\s*#pragma\\s+endregion\\b")}}},I={defaultToken:"",tokenPostfix:".st",ignoreCase:!0,brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"}],keywords:["if","end_if","elsif","else","case","of","to","__try","__catch","__finally","do","with","by","while","repeat","end_while","end_repeat","end_case","for","end_for","task","retain","non_retain","constant","with","at","exit","return","interval","priority","address","port","on_channel","then","iec","file","uses","version","packagetype","displayname","copyright","summary","vendor","common_source","from","extends","implements"],constant:["false","true","null"],defineKeywords:["var","var_input","var_output","var_in_out","var_temp","var_global","var_access","var_external","end_var","type","end_type","struct","end_struct","program","end_program","function","end_function","function_block","end_function_block","interface","end_interface","method","end_method","property","end_property","namespace","end_namespace","configuration","end_configuration","tcp","end_tcp","resource","end_resource","channel","end_channel","library","end_library","folder","end_folder","binaries","end_binaries","includes","end_includes","sources","end_sources","action","end_action","step","initial_step","end_step","transaction","end_transaction"],typeKeywords:["int","sint","dint","lint","usint","uint","udint","ulint","real","lreal","time","date","time_of_day","date_and_time","string","bool","byte","word","dword","array","pointer","lword"],operators:["=",">","<",":",":=","<=",">=","<>","&","+","-","*","**","MOD","^","or","and","not","xor","abs","acos","asin","atan","cos","exp","expt","ln","log","sin","sqrt","tan","sel","max","min","limit","mux","shl","shr","rol","ror","indexof","sizeof","adr","adrinst","bitadr","is_valid","ref","ref_to"],builtinVariables:[],builtinFunctions:["sr","rs","tp","ton","tof","eq","ge","le","lt","ne","round","trunc","ctd","\u0441tu","ctud","r_trig","f_trig","move","concat","delete","find","insert","left","len","replace","right","rtc"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/(\.\.)/,"delimiter"],[/\b(16#[0-9A-Fa-f\_]*)+\b/,"number.hex"],[/\b(2#[01\_]+)+\b/,"number.binary"],[/\b(8#[0-9\_]*)+\b/,"number.octal"],[/\b\d*\.\d+([eE][\-+]?\d+)?\b/,"number.float"],[/\b(L?REAL)#[0-9\_\.e]+\b/,"number.float"],[/\b(BYTE|(?:D|L)?WORD|U?(?:S|D|L)?INT)#[0-9\_]+\b/,"number"],[/\d+/,"number"],[/\b(T|DT|TOD)#[0-9:-_shmyd]+\b/,"tag"],[/\%(I|Q|M)(X|B|W|D|L)[0-9\.]+/,"tag"],[/\%(I|Q|M)[0-9\.]*/,"tag"],[/\b[A-Za-z]{1,6}#[0-9]+\b/,"tag"],[/\b(TO_|CTU_|CTD_|CTUD_|MUX_|SEL_)[A_Za-z]+\b/,"predefined"],[/\b[A_Za-z]+(_TO_)[A_Za-z]+\b/,"predefined"],[/[;]/,"delimiter"],[/[.]/,{token:"delimiter",next:"@params"}],[/[a-zA-Z_]\w*/,{cases:{"@operators":"operators","@keywords":"keyword","@typeKeywords":"type","@defineKeywords":"variable","@constant":"constant","@builtinVariables":"predefined","@builtinFunctions":"predefined","@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string_dq"}],[/'/,{token:"string.quote",bracket:"@open",next:"@string_sq"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],params:[[/\b[A-Za-z0-9_]+\b(?=\()/,{token:"identifier",next:"@pop"}],[/\b[A-Za-z0-9_]+\b/,"variable.name","@pop"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],comment2:[[/[^\(*]+/,"comment"],[/\(\*/,"comment","@push"],["\\*\\)","comment","@pop"],[/[\(*]/,"comment"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\/.*$/,"comment"],[/\/\*/,"comment","@comment"],[/\(\*/,"comment","@comment2"]],string_dq:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],string_sq:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,{token:"string.quote",bracket:"@close",next:"@pop"}]]}}},4630:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}]},I={defaultToken:"",tokenPostfix:".swift",identifier:/[a-zA-Z_][\w$]*/,attributes:["@GKInspectable","@IBAction","@IBDesignable","@IBInspectable","@IBOutlet","@IBSegueAction","@NSApplicationMain","@NSCopying","@NSManaged","@Sendable","@UIApplicationMain","@autoclosure","@actorIndependent","@asyncHandler","@available","@convention","@derivative","@differentiable","@discardableResult","@dynamicCallable","@dynamicMemberLookup","@escaping","@frozen","@globalActor","@inlinable","@inline","@main","@noDerivative","@nonobjc","@noreturn","@objc","@objcMembers","@preconcurrency","@propertyWrapper","@requires_stored_property_inits","@resultBuilder","@testable","@unchecked","@unknown","@usableFromInline","@warn_unqualified_access"],accessmodifiers:["open","public","internal","fileprivate","private"],keywords:["#available","#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning","Any","Protocol","Self","Type","actor","as","assignment","associatedtype","associativity","async","await","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","do","dynamic","dynamicType","else","enum","extension","fallthrough","false","fileprivate","final","for","func","get","guard","higherThan","if","import","in","indirect","infix","init","inout","internal","is","isolated","lazy","left","let","lowerThan","mutating","nil","none","nonisolated","nonmutating","open","operator","optional","override","postfix","precedence","precedencegroup","prefix","private","protocol","public","repeat","required","rethrows","return","right","safe","self","set","some","static","struct","subscript","super","switch","throw","throws","true","try","typealias","unowned","unsafe","var","weak","where","while","willSet","__consuming","__owned"],symbols:/[=(){}\[\].,:;@#\_&\-<>`?!+*\\\/]/,operatorstart:/[\/=\-+!*%<>&|^~?\u00A1-\u00A7\u00A9\u00AB\u00AC\u00AE\u00B0-\u00B1\u00B6\u00BB\u00BF\u00D7\u00F7\u2016-\u2017\u2020-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u23FF\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3030]/,operatorend:/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE00-\uFE0F\uFE20-\uFE2F\uE0100-\uE01EF]/,operators:/(@operatorstart)((@operatorstart)|(@operatorend))*/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[{include:"@whitespace"},{include:"@comment"},{include:"@attribute"},{include:"@literal"},{include:"@keyword"},{include:"@invokedmethod"},{include:"@symbol"}],whitespace:[[/\s+/,"white"],[/"""/,"string.quote","@endDblDocString"]],endDblDocString:[[/[^"]+/,"string"],[/\\"/,"string"],[/"""/,"string.quote","@popall"],[/"/,"string"]],symbol:[[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/[.]/,"delimiter"],[/@operators/,"operator"],[/@symbols/,"operator"]],comment:[[/\/\/\/.*$/,"comment.doc"],[/\/\*\*/,"comment.doc","@commentdocbody"],[/\/\/.*$/,"comment"],[/\/\*/,"comment","@commentbody"]],commentdocbody:[[/\/\*/,"comment","@commentbody"],[/\*\//,"comment.doc","@pop"],[/\:[a-zA-Z]+\:/,"comment.doc.param"],[/./,"comment.doc"]],commentbody:[[/\/\*/,"comment","@commentbody"],[/\*\//,"comment","@pop"],[/./,"comment"]],attribute:[[/@@@identifier/,{cases:{"@attributes":"keyword.control","@default":""}}]],literal:[[/"/,{token:"string.quote",next:"@stringlit"}],[/0[b]([01]_?)+/,"number.binary"],[/0[o]([0-7]_?)+/,"number.octal"],[/0[x]([0-9a-fA-F]_?)+([pP][\-+](\d_?)+)?/,"number.hex"],[/(\d_?)*\.(\d_?)+([eE][\-+]?(\d_?)+)?/,"number.float"],[/(\d_?)+/,"number"]],stringlit:[[/\\\(/,{token:"operator",next:"@interpolatedexpression"}],[/@escapes/,"string"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",next:"@pop"}],[/./,"string"]],interpolatedexpression:[[/\(/,{token:"operator",next:"@interpolatedexpression"}],[/\)/,{token:"operator",next:"@pop"}],{include:"@literal"},{include:"@keyword"},{include:"@symbol"}],keyword:[[/`/,{token:"operator",next:"@escapedkeyword"}],[/@identifier/,{cases:{"@keywords":"keyword","[A-Z][a-zA-Z0-9$]*":"type.identifier","@default":"identifier"}}]],escapedkeyword:[[/`/,{token:"operator",next:"@pop"}],[/./,"identifier"]],invokedmethod:[[/([.])(@identifier)/,{cases:{$2:["delimeter","type.identifier"],"@default":""}}]]}}},2398:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"],["begin","end"],["case","endcase"],["casex","endcase"],["casez","endcase"],["checker","endchecker"],["class","endclass"],["clocking","endclocking"],["config","endconfig"],["function","endfunction"],["generate","endgenerate"],["group","endgroup"],["interface","endinterface"],["module","endmodule"],["package","endpackage"],["primitive","endprimitive"],["program","endprogram"],["property","endproperty"],["specify","endspecify"],["sequence","endsequence"],["table","endtable"],["task","endtask"]],autoClosingPairs:[{open:"[",close:"]"},{open:"{",close:"}"},{open:"(",close:")"},{open:"'",close:"'",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{offSide:!1,markers:{start:new RegExp("^(?:\\s*|.*(?!\\/[\\/\\*])[^\\w])(?:begin|case(x|z)?|class|clocking|config|covergroup|function|generate|interface|module|package|primitive|property|program|sequence|specify|table|task)\\b"),end:new RegExp("^(?:\\s*|.*(?!\\/[\\/\\*])[^\\w])(?:end|endcase|endclass|endclocking|endconfig|endgroup|endfunction|endgenerate|endinterface|endmodule|endpackage|endprimitive|endproperty|endprogram|endsequence|endspecify|endtable|endtask)\\b")}}},I={defaultToken:"",tokenPostfix:".sv",brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"},{token:"delimiter.angle",open:"<",close:">"}],keywords:["accept_on","alias","always","always_comb","always_ff","always_latch","and","assert","assign","assume","automatic","before","begin","bind","bins","binsof","bit","break","buf","bufif0","bufif1","byte","case","casex","casez","cell","chandle","checker","class","clocking","cmos","config","const","constraint","context","continue","cover","covergroup","coverpoint","cross","deassign","default","defparam","design","disable","dist","do","edge","else","end","endcase","endchecker","endclass","endclocking","endconfig","endfunction","endgenerate","endgroup","endinterface","endmodule","endpackage","endprimitive","endprogram","endproperty","endspecify","endsequence","endtable","endtask","enum","event","eventually","expect","export","extends","extern","final","first_match","for","force","foreach","forever","fork","forkjoin","function","generate","genvar","global","highz0","highz1","if","iff","ifnone","ignore_bins","illegal_bins","implements","implies","import","incdir","include","initial","inout","input","inside","instance","int","integer","interconnect","interface","intersect","join","join_any","join_none","large","let","liblist","library","local","localparam","logic","longint","macromodule","matches","medium","modport","module","nand","negedge","nettype","new","nexttime","nmos","nor","noshowcancelled","not","notif0","notif1","null","or","output","package","packed","parameter","pmos","posedge","primitive","priority","program","property","protected","pull0","pull1","pulldown","pullup","pulsestyle_ondetect","pulsestyle_onevent","pure","rand","randc","randcase","randsequence","rcmos","real","realtime","ref","reg","reject_on","release","repeat","restrict","return","rnmos","rpmos","rtran","rtranif0","rtranif1","s_always","s_eventually","s_nexttime","s_until","s_until_with","scalared","sequence","shortint","shortreal","showcancelled","signed","small","soft","solve","specify","specparam","static","string","strong","strong0","strong1","struct","super","supply0","supply1","sync_accept_on","sync_reject_on","table","tagged","task","this","throughout","time","timeprecision","timeunit","tran","tranif0","tranif1","tri","tri0","tri1","triand","trior","trireg","type","typedef","union","unique","unique0","unsigned","until","until_with","untyped","use","uwire","var","vectored","virtual","void","wait","wait_order","wand","weak","weak0","weak1","while","wildcard","wire","with","within","wor","xnor","xor"],builtin_gates:["and","nand","nor","or","xor","xnor","buf","not","bufif0","bufif1","notif1","notif0","cmos","nmos","pmos","rcmos","rnmos","rpmos","tran","tranif1","tranif0","rtran","rtranif1","rtranif0"],operators:["=","+=","-=","*=","/=","%=","&=","|=","^=","<<=",">>+","<<<=",">>>=","?",":","+","-","!","~","&","~&","|","~|","^","~^","^~","+","-","*","/","%","==","!=","===","!==","==?","!=?","&&","||","**","<","<=",">",">=","&","|","^",">>","<<",">>>","<<<","++","--","->","<->","inside","dist","::","+:","-:","*>","&&&","|->","|=>","#=#"],symbols:/[=><!~?:&|+\-*\/\^%#]+/,escapes:/%%|\\(?:[antvf\\"']|x[0-9A-Fa-f]{1,2}|[0-7]{1,3})/,identifier:/(?:[a-zA-Z_][a-zA-Z0-9_$\.]*|\\\S+ )/,systemcall:/[$][a-zA-Z0-9_]+/,timeunits:/s|ms|us|ns|ps|fs/,tokenizer:{root:[[/^(\s*)(@identifier)/,["",{cases:{"@builtin_gates":{token:"keyword.$2",next:"@module_instance"},table:{token:"keyword.$2",next:"@table"},"@keywords":{token:"keyword.$2"},"@default":{token:"identifier",next:"@module_instance"}}}]],[/^\s*`include/,{token:"keyword.directive.include",next:"@include"}],[/^\s*`\s*\w+/,"keyword"],{include:"@identifier_or_keyword"},{include:"@whitespace"},[/\(\*.*\*\)/,"annotation"],[/@systemcall/,"variable.predefined"],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],{include:"@numbers"},[/[;,.]/,"delimiter"],{include:"@strings"}],identifier_or_keyword:[[/@identifier/,{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}]],numbers:[[/\d+?[\d_]*(?:\.[\d_]+)?[eE][\-+]?\d+/,"number.float"],[/\d+?[\d_]*\.[\d_]+(?:\s*@timeunits)?/,"number.float"],[/(?:\d+?[\d_]*\s*)?'[sS]?[dD]\s*[0-9xXzZ?]+?[0-9xXzZ?_]*/,"number"],[/(?:\d+?[\d_]*\s*)?'[sS]?[bB]\s*[0-1xXzZ?]+?[0-1xXzZ?_]*/,"number.binary"],[/(?:\d+?[\d_]*\s*)?'[sS]?[oO]\s*[0-7xXzZ?]+?[0-7xXzZ?_]*/,"number.octal"],[/(?:\d+?[\d_]*\s*)?'[sS]?[hH]\s*[0-9a-fA-FxXzZ?]+?[0-9a-fA-FxXzZ?_]*/,"number.hex"],[/1step/,"number"],[/[\dxXzZ]+?[\dxXzZ_]*(?:\s*@timeunits)?/,"number"],[/'[01xXzZ]+/,"number"]],module_instance:[{include:"@whitespace"},[/(#?)(\()/,["",{token:"@brackets",next:"@port_connection"}]],[/@identifier\s*[;={}\[\],]/,{token:"@rematch",next:"@pop"}],[/@symbols|[;={}\[\],]/,{token:"@rematch",next:"@pop"}],[/@identifier/,"type"],[/;/,"delimiter","@pop"]],port_connection:[{include:"@identifier_or_keyword"},{include:"@whitespace"},[/@systemcall/,"variable.predefined"],{include:"@numbers"},{include:"@strings"},[/[,]/,"delimiter"],[/\(/,"@brackets","@port_connection"],[/\)/,"@brackets","@pop"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],strings:[[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],include:[[/(\s*)(")([\w*\/*]*)(.\w*)(")/,["","string.include.identifier","string.include.identifier","string.include.identifier",{token:"string.include.identifier",next:"@pop"}]],[/(\s*)(<)([\w*\/*]*)(.\w*)(>)/,["","string.include.identifier","string.include.identifier","string.include.identifier",{token:"string.include.identifier",next:"@pop"}]]],table:[{include:"@whitespace"},[/[()]/,"@brackets"],[/[:;]/,"delimiter"],[/[01\-*?xXbBrRfFpPnN]/,"variable.predefined"],["endtable","keyword.endtable","@pop"]]}}},6414:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},I={tokenPostfix:".tcl",specialFunctions:["set","unset","rename","variable","proc","coroutine","foreach","incr","append","lappend","linsert","lreplace"],mainFunctions:["if","then","elseif","else","case","switch","while","for","break","continue","return","package","namespace","catch","exit","eval","expr","uplevel","upvar"],builtinFunctions:["file","info","concat","join","lindex","list","llength","lrange","lsearch","lsort","split","array","parray","binary","format","regexp","regsub","scan","string","subst","dict","cd","clock","exec","glob","pid","pwd","close","eof","fblocked","fconfigure","fcopy","fileevent","flush","gets","open","puts","read","seek","socket","tell","interp","after","auto_execok","auto_load","auto_mkindex","auto_reset","bgerror","error","global","history","load","source","time","trace","unknown","unset","update","vwait","winfo","wm","bind","event","pack","place","grid","font","bell","clipboard","destroy","focus","grab","lower","option","raise","selection","send","tk","tkwait","tk_bisque","tk_focusNext","tk_focusPrev","tk_focusFollowsMouse","tk_popup","tk_setPalette"],symbols:/[=><!~?:&|+\-*\/\^%]+/,brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],escapes:/\\(?:[abfnrtv\\"'\[\]\{\};\$]|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,variables:/(?:\$+(?:(?:\:\:?)?[a-zA-Z_]\w*)+)/,tokenizer:{root:[[/[a-zA-Z_]\w*/,{cases:{"@specialFunctions":{token:"keyword.flow",next:"@specialFunc"},"@mainFunctions":"keyword","@builtinFunctions":"variable","@default":"operator.scss"}}],[/\s+\-+(?!\d|\.)\w*|{\*}/,"metatag"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/@symbols/,"operator"],[/\$+(?:\:\:)?\{/,{token:"identifier",next:"@nestedVariable"}],[/@variables/,"type.identifier"],[/\.(?!\d|\.)[\w\-]*/,"operator.sql"],[/\d+(\.\d+)?/,"number"],[/\d+/,"number"],[/;/,"delimiter"],[/"/,{token:"string.quote",bracket:"@open",next:"@dstring"}],[/'/,{token:"string.quote",bracket:"@open",next:"@sstring"}]],dstring:[[/\[/,{token:"@brackets",next:"@nestedCall"}],[/\$+(?:\:\:)?\{/,{token:"identifier",next:"@nestedVariable"}],[/@variables/,"type.identifier"],[/[^\\$\[\]"]+/,"string"],[/@escapes/,"string.escape"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],sstring:[[/\[/,{token:"@brackets",next:"@nestedCall"}],[/\$+(?:\:\:)?\{/,{token:"identifier",next:"@nestedVariable"}],[/@variables/,"type.identifier"],[/[^\\$\[\]']+/,"string"],[/@escapes/,"string.escape"],[/'/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/#.*\\$/,{token:"comment",next:"@newlineComment"}],[/#.*(?!\\)$/,"comment"]],newlineComment:[[/.*\\$/,"comment"],[/.*(?!\\)$/,{token:"comment",next:"@pop"}]],nestedVariable:[[/[^\{\}\$]+/,"type.identifier"],[/\}/,{token:"identifier",next:"@pop"}]],nestedCall:[[/\[/,{token:"@brackets",next:"@nestedCall"}],[/\]/,{token:"@brackets",next:"@pop"}],{include:"root"}],specialFunc:[[/"/,{token:"string",next:"@dstring"}],[/'/,{token:"string",next:"@sstring"}],[/\S+/,{token:"type",next:"@pop"}]]}}},205:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,comments:{blockComment:["{#","#}"]},brackets:[["{#","#}"],["{%","%}"],["{{","}}"],["(",")"],["[","]"],["<!--","-->"],["<",">"]],autoClosingPairs:[{open:"{# ",close:" #}"},{open:"{% ",close:" %}"},{open:"{{ ",close:" }}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}]},I={defaultToken:"",tokenPostfix:"",ignoreCase:!0,keywords:["apply","autoescape","block","deprecated","do","embed","extends","flush","for","from","if","import","include","macro","sandbox","set","use","verbatim","with","endapply","endautoescape","endblock","endembed","endfor","endif","endmacro","endsandbox","endset","endwith","true","false"],tokenizer:{root:[[/\s+/],[/{#/,"comment.twig","@commentState"],[/{%[-~]?/,"delimiter.twig","@blockState"],[/{{[-~]?/,"delimiter.twig","@variableState"],[/<!DOCTYPE/,"metatag.html","@doctype"],[/<!--/,"comment.html","@comment"],[/(<)((?:[\w\-]+:)?[\w\-]+)(\s*)(\/>)/,["delimiter.html","tag.html","","delimiter.html"]],[/(<)(script)/,["delimiter.html",{token:"tag.html",next:"@script"}]],[/(<)(style)/,["delimiter.html",{token:"tag.html",next:"@style"}]],[/(<)((?:[\w\-]+:)?[\w\-]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/(<\/)((?:[\w\-]+:)?[\w\-]+)/,["delimiter.html",{token:"tag.html",next:"@otherTag"}]],[/</,"delimiter.html"],[/[^<{]+/]],commentState:[[/#}/,"comment.twig","@pop"],[/./,"comment.twig"]],blockState:[[/[-~]?%}/,"delimiter.twig","@pop"],[/\s+/],[/(verbatim)(\s*)([-~]?%})/,["keyword.twig","",{token:"delimiter.twig",next:"@rawDataState"}]],{include:"expression"}],rawDataState:[[/({%[-~]?)(\s*)(endverbatim)(\s*)([-~]?%})/,["delimiter.twig","","keyword.twig","",{token:"delimiter.twig",next:"@popall"}]],[/./,"string.twig"]],variableState:[[/[-~]?}}/,"delimiter.twig","@pop"],{include:"expression"}],stringState:[[/"/,"string.twig","@pop"],[/#{\s*/,"string.twig","@interpolationState"],[/[^#"\\]*(?:(?:\\.|#(?!\{))[^#"\\]*)*/,"string.twig"]],interpolationState:[[/}/,"string.twig","@pop"],{include:"expression"}],expression:[[/\s+/],[/\+|-|\/{1,2}|%|\*{1,2}/,"operators.twig"],[/(and|or|not|b-and|b-xor|b-or)(\s+)/,["operators.twig",""]],[/==|!=|<|>|>=|<=/,"operators.twig"],[/(starts with|ends with|matches)(\s+)/,["operators.twig",""]],[/(in)(\s+)/,["operators.twig",""]],[/(is)(\s+)/,["operators.twig",""]],[/\||~|:|\.{1,2}|\?{1,2}/,"operators.twig"],[/[^\W\d][\w]*/,{cases:{"@keywords":"keyword.twig","@default":"variable.twig"}}],[/\d+(\.\d+)?/,"number.twig"],[/\(|\)|\[|\]|{|}|,/,"delimiter.twig"],[/"([^#"\\]*(?:\\.[^#"\\]*)*)"|\'([^\'\\]*(?:\\.[^\'\\]*)*)\'/,"string.twig"],[/"/,"string.twig","@stringState"],[/=>/,"operators.twig"],[/=/,"operators.twig"]],doctype:[[/[^>]+/,"metatag.content.html"],[/>/,"metatag.html","@pop"]],comment:[[/-->/,"comment.html","@pop"],[/[^-]+/,"comment.content.html"],[/./,"comment.content.html"]],otherTag:[[/\/?>/,"delimiter.html","@pop"],[/"([^"]*)"/,"attribute.value.html"],[/'([^']*)'/,"attribute.value.html"],[/[\w\-]+/,"attribute.name.html"],[/=/,"delimiter.html"],[/[ \t\r\n]+/]],script:[[/type/,"attribute.name.html","@scriptAfterType"],[/"([^"]*)"/,"attribute.value.html"],[/'([^']*)'/,"attribute.value.html"],[/[\w\-]+/,"attribute.name.html"],[/=/,"delimiter.html"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/(<\/)(script\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],scriptAfterType:[[/=/,"delimiter.html","@scriptAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptAfterTypeEquals:[[/"([^"]*)"/,{token:"attribute.value.html",switchTo:"@scriptWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value.html",switchTo:"@scriptWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptWithCustomType:[[/>/,{token:"delimiter.html",next:"@scriptEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value.html"],[/'([^']*)'/,"attribute.value.html"],[/[\w\-]+/,"attribute.name.html"],[/=/,"delimiter.html"],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptEmbedded:[[/<\/script/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/[^<]+/,""]],style:[[/type/,"attribute.name.html","@styleAfterType"],[/"([^"]*)"/,"attribute.value.html"],[/'([^']*)'/,"attribute.value.html"],[/[\w\-]+/,"attribute.name.html"],[/=/,"delimiter.html"],[/>/,{token:"delimiter.html",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/(<\/)(style\s*)(>)/,["delimiter.html","tag.html",{token:"delimiter.html",next:"@pop"}]]],styleAfterType:[[/=/,"delimiter.html","@styleAfterTypeEquals"],[/>/,{token:"delimiter.html",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleAfterTypeEquals:[[/"([^"]*)"/,{token:"attribute.value.html",switchTo:"@styleWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value.html",switchTo:"@styleWithCustomType.$1"}],[/>/,{token:"delimiter.html",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleWithCustomType:[[/>/,{token:"delimiter.html",next:"@styleEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value.html"],[/'([^']*)'/,"attribute.value.html"],[/[\w\-]+/,"attribute.name.html"],[/=/,"delimiter.html"],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleEmbedded:[[/<\/style/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/[^<]+/,""]]}}},6830:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>w,language:()=>C});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(d,f,p,_)=>{if(f&&typeof f=="object"||typeof f=="function")for(let m of J(f))M.call(d,m)||m===p||I(d,m,{get:()=>f[m],enumerable:!(_=T(f,m))||_.enumerable});return d},E={};v(E,s,"default");var w={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:E.languages.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:E.languages.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:E.languages.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:E.languages.IndentAction.None,removeText:1}}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"`",close:"`",notIn:["string","comment"]},{open:"/**",close:" */",notIn:["string"]}],folding:{markers:{start:new RegExp("^\\s*//\\s*#?region\\b"),end:new RegExp("^\\s*//\\s*#?endregion\\b")}}},C={defaultToken:"invalid",tokenPostfix:".ts",keywords:["abstract","any","as","asserts","bigint","boolean","break","case","catch","class","continue","const","constructor","debugger","declare","default","delete","do","else","enum","export","extends","false","finally","for","from","function","get","if","implements","import","in","infer","instanceof","interface","is","keyof","let","module","namespace","never","new","null","number","object","out","package","private","protected","public","override","readonly","require","global","return","satisfies","set","static","string","super","switch","symbol","this","throw","true","try","type","typeof","undefined","unique","unknown","var","void","while","with","yield","async","await","of"],operators:["<=",">=","==","!=","===","!==","=>","+","-","**","*","/","%","++","--","<<","</",">>",">>>","&","|","^","!","~","&&","||","??","?",":","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=","@"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,regexpctl:/[(){}\[\]\$\^|\-*+?\.]/,regexpesc:/\\(?:[bBdDfnrstvwWn0\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/,tokenizer:{root:[[/[{}]/,"delimiter.bracket"],{include:"common"}],common:[[/#?[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w\$]*/,"type.identifier"],{include:"@whitespace"},[/\/(?=([^\\\/]|\\.)+\/([dgimsuy]*)(\s*)(\.|;|,|\)|\]|\}|$))/,{token:"regexp",bracket:"@open",next:"@regexp"}],[/[()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/!(?=([^=]|$))/,"delimiter"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/(@digits)[eE]([\-+]?(@digits))?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?/,"number.float"],[/0[xX](@hexdigits)n?/,"number.hex"],[/0[oO]?(@octaldigits)n?/,"number.octal"],[/0[bB](@binarydigits)n?/,"number.binary"],[/(@digits)n?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string_double"],[/'/,"string","@string_single"],[/`/,"string","@string_backtick"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@jsdoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],jsdoc:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],regexp:[[/(\{)(\d+(?:,\d*)?)(\})/,["regexp.escape.control","regexp.escape.control","regexp.escape.control"]],[/(\[)(\^?)(?=(?:[^\]\\\/]|\\.)+)/,["regexp.escape.control",{token:"regexp.escape.control",next:"@regexrange"}]],[/(\()(\?:|\?=|\?!)/,["regexp.escape.control","regexp.escape.control"]],[/[()]/,"regexp.escape.control"],[/@regexpctl/,"regexp.escape.control"],[/[^\\\/]/,"regexp"],[/@regexpesc/,"regexp.escape"],[/\\\./,"regexp.invalid"],[/(\/)([dgimsuy]*)/,[{token:"regexp",bracket:"@close",next:"@pop"},"keyword.other"]]],regexrange:[[/-/,"regexp.escape.control"],[/\^/,"regexp.invalid"],[/@regexpesc/,"regexp.escape"],[/[^\]]/,"regexp"],[/\]/,{token:"regexp.escape.control",next:"@pop",bracket:"@close"}]],string_double:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],string_single:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"]],string_backtick:[[/\$\{/,{token:"delimiter.bracket",next:"@bracketCounting"}],[/[^\\`$]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/`/,"string","@pop"]],bracketCounting:[[/\{/,"delimiter.bracket","@bracketCounting"],[/\}/,"delimiter.bracket","@pop"],{include:"common"}]}}},910:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>M,language:()=>v});var s=(E)=>`\\b${E}\\b`,I=(E)=>`(?!${E})`,T=s("[_a-zA-Z][_a-zA-Z0-9]*"),J=s("[_a-zA-Z-0-9]+"),M={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"/**",close:" */",notIn:["string"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],indentationRules:{decreaseIndentPattern:new RegExp("^((?!.*?/\\*).*\\*/)?\\s*[\\}\\]].*$"),increaseIndentPattern:new RegExp("^((?!//).)*(\\{([^}\"'`/]*|(\\t|[ ])*//.*)|\\([^)\"'`/]*|\\[[^\\]\"'`/]*)$"),unIndentedLinePattern:new RegExp("^(\\t|[ ])*[ ]\\*[^/]*\\*/\\s*$|^(\\t|[ ])*[ ]\\*/\\s*$|^(\\t|[ ])*[ ]\\*([ ]([^\\*]|\\*(?!/))*)?$")}},v={defaultToken:"",tokenPostfix:".tsp",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],symbols:/[=:;<>]+/,keywords:["import","model","scalar","namespace","op","interface","union","using","is","extends","enum","alias","return","void","if","else","projection","dec","extern","fn"],namedLiterals:["true","false","null","unknown","never"],escapes:'\\\\(u{[0-9A-Fa-f]+}|n|r|t|\\\\|"|\\${)',tokenizer:{root:[{include:"@expression"},{include:"@whitespace"}],stringVerbatim:[{regex:'(|"|"")[^"]',action:{token:"string"}},{regex:`"""${I('"')}`,action:{token:"string",next:"@pop"}}],stringLiteral:[{regex:"\\${",action:{token:"delimiter.bracket",next:"@bracketCounting"}},{regex:'[^\\\\"$]+',action:{token:"string"}},{regex:"@escapes",action:{token:"string.escape"}},{regex:"\\\\.",action:{token:"string.escape.invalid"}},{regex:'"',action:{token:"string",next:"@pop"}}],bracketCounting:[{regex:"{",action:{token:"delimiter.bracket",next:"@bracketCounting"}},{regex:"}",action:{token:"delimiter.bracket",next:"@pop"}},{include:"@expression"}],comment:[{regex:"[^\\*]+",action:{token:"comment"}},{regex:"\\*\\/",action:{token:"comment",next:"@pop"}},{regex:"[\\/*]",action:{token:"comment"}}],whitespace:[{regex:"[ \\t\\r\\n]"},{regex:"\\/\\*",action:{token:"comment",next:"@comment"}},{regex:"\\/\\/.*$",action:{token:"comment"}}],expression:[{regex:'"""',action:{token:"string",next:"@stringVerbatim"}},{regex:`"${I('""')}`,action:{token:"string",next:"@stringLiteral"}},{regex:"[0-9]+",action:{token:"number"}},{regex:T,action:{cases:{"@keywords":{token:"keyword"},"@namedLiterals":{token:"keyword"},"@default":{token:"identifier"}}}},{regex:`@${T}`,action:{token:"tag"}},{regex:`#${J}`,action:{token:"directive"}}]}}},1740:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>I});var s={comments:{lineComment:"'",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"],["<",">"],["addhandler","end addhandler"],["class","end class"],["enum","end enum"],["event","end event"],["function","end function"],["get","end get"],["if","end if"],["interface","end interface"],["module","end module"],["namespace","end namespace"],["operator","end operator"],["property","end property"],["raiseevent","end raiseevent"],["removehandler","end removehandler"],["select","end select"],["set","end set"],["structure","end structure"],["sub","end sub"],["synclock","end synclock"],["try","end try"],["while","end while"],["with","end with"],["using","end using"],["do","loop"],["for","next"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]},{open:"<",close:">",notIn:["string","comment"]}],folding:{markers:{start:new RegExp("^\\s*#Region\\b"),end:new RegExp("^\\s*#End Region\\b")}}},I={defaultToken:"",tokenPostfix:".vb",ignoreCase:!0,brackets:[{token:"delimiter.bracket",open:"{",close:"}"},{token:"delimiter.array",open:"[",close:"]"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.angle",open:"<",close:">"},{token:"keyword.tag-addhandler",open:"addhandler",close:"end addhandler"},{token:"keyword.tag-class",open:"class",close:"end class"},{token:"keyword.tag-enum",open:"enum",close:"end enum"},{token:"keyword.tag-event",open:"event",close:"end event"},{token:"keyword.tag-function",open:"function",close:"end function"},{token:"keyword.tag-get",open:"get",close:"end get"},{token:"keyword.tag-if",open:"if",close:"end if"},{token:"keyword.tag-interface",open:"interface",close:"end interface"},{token:"keyword.tag-module",open:"module",close:"end module"},{token:"keyword.tag-namespace",open:"namespace",close:"end namespace"},{token:"keyword.tag-operator",open:"operator",close:"end operator"},{token:"keyword.tag-property",open:"property",close:"end property"},{token:"keyword.tag-raiseevent",open:"raiseevent",close:"end raiseevent"},{token:"keyword.tag-removehandler",open:"removehandler",close:"end removehandler"},{token:"keyword.tag-select",open:"select",close:"end select"},{token:"keyword.tag-set",open:"set",close:"end set"},{token:"keyword.tag-structure",open:"structure",close:"end structure"},{token:"keyword.tag-sub",open:"sub",close:"end sub"},{token:"keyword.tag-synclock",open:"synclock",close:"end synclock"},{token:"keyword.tag-try",open:"try",close:"end try"},{token:"keyword.tag-while",open:"while",close:"end while"},{token:"keyword.tag-with",open:"with",close:"end with"},{token:"keyword.tag-using",open:"using",close:"end using"},{token:"keyword.tag-do",open:"do",close:"loop"},{token:"keyword.tag-for",open:"for",close:"next"}],keywords:["AddHandler","AddressOf","Alias","And","AndAlso","As","Async","Boolean","ByRef","Byte","ByVal","Call","Case","Catch","CBool","CByte","CChar","CDate","CDbl","CDec","Char","CInt","Class","CLng","CObj","Const","Continue","CSByte","CShort","CSng","CStr","CType","CUInt","CULng","CUShort","Date","Decimal","Declare","Default","Delegate","Dim","DirectCast","Do","Double","Each","Else","ElseIf","End","EndIf","Enum","Erase","Error","Event","Exit","False","Finally","For","Friend","Function","Get","GetType","GetXMLNamespace","Global","GoSub","GoTo","Handles","If","Implements","Imports","In","Inherits","Integer","Interface","Is","IsNot","Let","Lib","Like","Long","Loop","Me","Mod","Module","MustInherit","MustOverride","MyBase","MyClass","NameOf","Namespace","Narrowing","New","Next","Not","Nothing","NotInheritable","NotOverridable","Object","Of","On","Operator","Option","Optional","Or","OrElse","Out","Overloads","Overridable","Overrides","ParamArray","Partial","Private","Property","Protected","Public","RaiseEvent","ReadOnly","ReDim","RemoveHandler","Resume","Return","SByte","Select","Set","Shadows","Shared","Short","Single","Static","Step","Stop","String","Structure","Sub","SyncLock","Then","Throw","To","True","Try","TryCast","TypeOf","UInteger","ULong","UShort","Using","Variant","Wend","When","While","Widening","With","WithEvents","WriteOnly","Xor"],tagwords:["If","Sub","Select","Try","Class","Enum","Function","Get","Interface","Module","Namespace","Operator","Set","Structure","Using","While","With","Do","Loop","For","Next","Property","Continue","AddHandler","RemoveHandler","Event","RaiseEvent","SyncLock"],symbols:/[=><!~?;\.,:&|+\-*\/\^%]+/,integersuffix:/U?[DI%L&S@]?/,floatsuffix:/[R#F!]?/,tokenizer:{root:[{include:"@whitespace"},[/next(?!\w)/,{token:"keyword.tag-for"}],[/loop(?!\w)/,{token:"keyword.tag-do"}],[/end\s+(?!for|do)(addhandler|class|enum|event|function|get|if|interface|module|namespace|operator|property|raiseevent|removehandler|select|set|structure|sub|synclock|try|while|with|using)/,{token:"keyword.tag-$1"}],[/[a-zA-Z_]\w*/,{cases:{"@tagwords":{token:"keyword.tag-$0"},"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],[/^\s*#\w+/,"keyword"],[/\d*\d+e([\-+]?\d+)?(@floatsuffix)/,"number.float"],[/\d*\.\d+(e[\-+]?\d+)?(@floatsuffix)/,"number.float"],[/&H[0-9a-f]+(@integersuffix)/,"number.hex"],[/&0[0-7]+(@integersuffix)/,"number.octal"],[/\d+(@integersuffix)/,"number"],[/#.*#/,"number"],[/[{}()\[\]]/,"@brackets"],[/@symbols/,"delimiter"],[/["\u201c\u201d]/,{token:"string.quote",next:"@string"}]],whitespace:[[/[ \t\r\n]+/,""],[/(\'|REM(?!\w)).*$/,"comment"]],string:[[/[^"\u201c\u201d]+/,"string"],[/["\u201c\u201d]{2}/,"string.escape"],[/["\u201c\u201d]C?/,{token:"string.quote",next:"@pop"}]]}}},6134:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>s,language:()=>M});var s={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"[",close:"]"},{open:"{",close:"}"},{open:"(",close:")"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"}]};function I(v){let E=[];const w=v.split(/\t+|\r+|\n+| +/);for(let C=0;C<w.length;++C)w[C].length>0&&E.push(w[C]);return E}var T=/[_\p{XID_Start}]\p{XID_Continue}*/u,J="variable.predefined",M={tokenPostfix:".wgsl",defaultToken:"invalid",unicode:!0,atoms:I("true false"),keywords:I("\n\t\t\t  alias\n\t\t\t  break\n\t\t\t  case\n\t\t\t  const\n\t\t\t  const_assert\n\t\t\t  continue\n\t\t\t  continuing\n\t\t\t  default\n\t\t\t  diagnostic\n\t\t\t  discard\n\t\t\t  else\n\t\t\t  enable\n\t\t\t  fn\n\t\t\t  for\n\t\t\t  if\n\t\t\t  let\n\t\t\t  loop\n\t\t\t  override\n\t\t\t  requires\n\t\t\t  return\n\t\t\t  struct\n\t\t\t  switch\n\t\t\t  var\n\t\t\t  while\n\t\t\t  "),reserved:I("\n\t\t\t  NULL\n\t\t\t  Self\n\t\t\t  abstract\n\t\t\t  active\n\t\t\t  alignas\n\t\t\t  alignof\n\t\t\t  as\n\t\t\t  asm\n\t\t\t  asm_fragment\n\t\t\t  async\n\t\t\t  attribute\n\t\t\t  auto\n\t\t\t  await\n\t\t\t  become\n\t\t\t  binding_array\n\t\t\t  cast\n\t\t\t  catch\n\t\t\t  class\n\t\t\t  co_await\n\t\t\t  co_return\n\t\t\t  co_yield\n\t\t\t  coherent\n\t\t\t  column_major\n\t\t\t  common\n\t\t\t  compile\n\t\t\t  compile_fragment\n\t\t\t  concept\n\t\t\t  const_cast\n\t\t\t  consteval\n\t\t\t  constexpr\n\t\t\t  constinit\n\t\t\t  crate\n\t\t\t  debugger\n\t\t\t  decltype\n\t\t\t  delete\n\t\t\t  demote\n\t\t\t  demote_to_helper\n\t\t\t  do\n\t\t\t  dynamic_cast\n\t\t\t  enum\n\t\t\t  explicit\n\t\t\t  export\n\t\t\t  extends\n\t\t\t  extern\n\t\t\t  external\n\t\t\t  fallthrough\n\t\t\t  filter\n\t\t\t  final\n\t\t\t  finally\n\t\t\t  friend\n\t\t\t  from\n\t\t\t  fxgroup\n\t\t\t  get\n\t\t\t  goto\n\t\t\t  groupshared\n\t\t\t  highp\n\t\t\t  impl\n\t\t\t  implements\n\t\t\t  import\n\t\t\t  inline\n\t\t\t  instanceof\n\t\t\t  interface\n\t\t\t  layout\n\t\t\t  lowp\n\t\t\t  macro\n\t\t\t  macro_rules\n\t\t\t  match\n\t\t\t  mediump\n\t\t\t  meta\n\t\t\t  mod\n\t\t\t  module\n\t\t\t  move\n\t\t\t  mut\n\t\t\t  mutable\n\t\t\t  namespace\n\t\t\t  new\n\t\t\t  nil\n\t\t\t  noexcept\n\t\t\t  noinline\n\t\t\t  nointerpolation\n\t\t\t  noperspective\n\t\t\t  null\n\t\t\t  nullptr\n\t\t\t  of\n\t\t\t  operator\n\t\t\t  package\n\t\t\t  packoffset\n\t\t\t  partition\n\t\t\t  pass\n\t\t\t  patch\n\t\t\t  pixelfragment\n\t\t\t  precise\n\t\t\t  precision\n\t\t\t  premerge\n\t\t\t  priv\n\t\t\t  protected\n\t\t\t  pub\n\t\t\t  public\n\t\t\t  readonly\n\t\t\t  ref\n\t\t\t  regardless\n\t\t\t  register\n\t\t\t  reinterpret_cast\n\t\t\t  require\n\t\t\t  resource\n\t\t\t  restrict\n\t\t\t  self\n\t\t\t  set\n\t\t\t  shared\n\t\t\t  sizeof\n\t\t\t  smooth\n\t\t\t  snorm\n\t\t\t  static\n\t\t\t  static_assert\n\t\t\t  static_cast\n\t\t\t  std\n\t\t\t  subroutine\n\t\t\t  super\n\t\t\t  target\n\t\t\t  template\n\t\t\t  this\n\t\t\t  thread_local\n\t\t\t  throw\n\t\t\t  trait\n\t\t\t  try\n\t\t\t  type\n\t\t\t  typedef\n\t\t\t  typeid\n\t\t\t  typename\n\t\t\t  typeof\n\t\t\t  union\n\t\t\t  unless\n\t\t\t  unorm\n\t\t\t  unsafe\n\t\t\t  unsized\n\t\t\t  use\n\t\t\t  using\n\t\t\t  varying\n\t\t\t  virtual\n\t\t\t  volatile\n\t\t\t  wgsl\n\t\t\t  where\n\t\t\t  with\n\t\t\t  writeonly\n\t\t\t  yield\n\t\t\t  "),predeclared_enums:I("\n\t\tread write read_write\n\t\tfunction private workgroup uniform storage\n\t\tperspective linear flat\n\t\tcenter centroid sample\n\t\tvertex_index instance_index position front_facing frag_depth\n\t\t\tlocal_invocation_id local_invocation_index\n\t\t\tglobal_invocation_id workgroup_id num_workgroups\n\t\t\tsample_index sample_mask\n\t\trgba8unorm\n\t\trgba8snorm\n\t\trgba8uint\n\t\trgba8sint\n\t\trgba16uint\n\t\trgba16sint\n\t\trgba16float\n\t\tr32uint\n\t\tr32sint\n\t\tr32float\n\t\trg32uint\n\t\trg32sint\n\t\trg32float\n\t\trgba32uint\n\t\trgba32sint\n\t\trgba32float\n\t\tbgra8unorm\n"),predeclared_types:I("\n\t\tbool\n\t\tf16\n\t\tf32\n\t\ti32\n\t\tsampler sampler_comparison\n\t\ttexture_depth_2d\n\t\ttexture_depth_2d_array\n\t\ttexture_depth_cube\n\t\ttexture_depth_cube_array\n\t\ttexture_depth_multisampled_2d\n\t\ttexture_external\n\t\ttexture_external\n\t\tu32\n\t\t"),predeclared_type_generators:I("\n\t\tarray\n\t\tatomic\n\t\tmat2x2\n\t\tmat2x3\n\t\tmat2x4\n\t\tmat3x2\n\t\tmat3x3\n\t\tmat3x4\n\t\tmat4x2\n\t\tmat4x3\n\t\tmat4x4\n\t\tptr\n\t\ttexture_1d\n\t\ttexture_2d\n\t\ttexture_2d_array\n\t\ttexture_3d\n\t\ttexture_cube\n\t\ttexture_cube_array\n\t\ttexture_multisampled_2d\n\t\ttexture_storage_1d\n\t\ttexture_storage_2d\n\t\ttexture_storage_2d_array\n\t\ttexture_storage_3d\n\t\tvec2\n\t\tvec3\n\t\tvec4\n\t\t"),predeclared_type_aliases:I("\n\t\tvec2i vec3i vec4i\n\t\tvec2u vec3u vec4u\n\t\tvec2f vec3f vec4f\n\t\tvec2h vec3h vec4h\n\t\tmat2x2f mat2x3f mat2x4f\n\t\tmat3x2f mat3x3f mat3x4f\n\t\tmat4x2f mat4x3f mat4x4f\n\t\tmat2x2h mat2x3h mat2x4h\n\t\tmat3x2h mat3x3h mat3x4h\n\t\tmat4x2h mat4x3h mat4x4h\n\t\t"),predeclared_intrinsics:I("\n  bitcast all any select arrayLength abs acos acosh asin asinh atan atanh atan2\n  ceil clamp cos cosh countLeadingZeros countOneBits countTrailingZeros cross\n  degrees determinant distance dot exp exp2 extractBits faceForward firstLeadingBit\n  firstTrailingBit floor fma fract frexp inverseBits inverseSqrt ldexp length\n  log log2 max min mix modf normalize pow quantizeToF16 radians reflect refract\n  reverseBits round saturate sign sin sinh smoothstep sqrt step tan tanh transpose\n  trunc dpdx dpdxCoarse dpdxFine dpdy dpdyCoarse dpdyFine fwidth fwidthCoarse fwidthFine\n  textureDimensions textureGather textureGatherCompare textureLoad textureNumLayers\n  textureNumLevels textureNumSamples textureSample textureSampleBias textureSampleCompare\n  textureSampleCompareLevel textureSampleGrad textureSampleLevel textureSampleBaseClampToEdge\n  textureStore atomicLoad atomicStore atomicAdd atomicSub atomicMax atomicMin\n  atomicAnd atomicOr atomicXor atomicExchange atomicCompareExchangeWeak pack4x8snorm\n  pack4x8unorm pack2x16snorm pack2x16unorm pack2x16float unpack4x8snorm unpack4x8unorm\n  unpack2x16snorm unpack2x16unorm unpack2x16float storageBarrier workgroupBarrier\n  workgroupUniformLoad\n"),operators:I("\n\t\t\t\t\t &\n\t\t\t\t\t &&\n\t\t\t\t\t ->\n\t\t\t\t\t /\n\t\t\t\t\t =\n\t\t\t\t\t ==\n\t\t\t\t\t !=\n\t\t\t\t\t >\n\t\t\t\t\t >=\n\t\t\t\t\t <\n\t\t\t\t\t <=\n\t\t\t\t\t %\n\t\t\t\t\t -\n\t\t\t\t\t --\n\t\t\t\t\t +\n\t\t\t\t\t ++\n\t\t\t\t\t |\n\t\t\t\t\t ||\n\t\t\t\t\t *\n\t\t\t\t\t <<\n\t\t\t\t\t >>\n\t\t\t\t\t +=\n\t\t\t\t\t -=\n\t\t\t\t\t *=\n\t\t\t\t\t /=\n\t\t\t\t\t %=\n\t\t\t\t\t &=\n\t\t\t\t\t |=\n\t\t\t\t\t ^=\n\t\t\t\t\t >>=\n\t\t\t\t\t <<=\n\t\t\t\t\t "),symbols:/[!%&*+\-\.\/:;<=>^|_~,]+/,tokenizer:{root:[[/enable|requires|diagnostic/,"keyword","@directive"],[T,{cases:{"@atoms":J,"@keywords":"keyword","@reserved":"invalid","@predeclared_enums":J,"@predeclared_types":J,"@predeclared_type_generators":J,"@predeclared_type_aliases":J,"@predeclared_intrinsics":J,"@default":"identifier"}}],{include:"@commentOrSpace"},{include:"@numbers"},[/[{}()\[\]]/,"@brackets"],["@","annotation","@attribute"],[/@symbols/,{cases:{"@operators":"operator","@default":"delimiter"}}],[/./,"invalid"]],commentOrSpace:[[/\s+/,"white"],[/\/\*/,"comment","@blockComment"],[/\/\/.*$/,"comment"]],blockComment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],attribute:[{include:"@commentOrSpace"},[/\w+/,"annotation","@pop"]],directive:[{include:"@commentOrSpace"},[/[()]/,"@brackets"],[/,/,"delimiter"],[T,"meta.content"],[/;/,"delimiter","@pop"]],numbers:[[/0[fh]/,"number.float"],[/[1-9][0-9]*[fh]/,"number.float"],[/[0-9]*\.[0-9]+([eE][+-]?[0-9]+)?[fh]?/,"number.float"],[/[0-9]+\.[0-9]*([eE][+-]?[0-9]+)?[fh]?/,"number.float"],[/[0-9]+[eE][+-]?[0-9]+[fh]?/,"number.float"],[/0[xX][0-9a-fA-F]*\.[0-9a-fA-F]+(?:[pP][+-]?[0-9]+[fh]?)?/,"number.hex"],[/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*(?:[pP][+-]?[0-9]+[fh]?)?/,"number.hex"],[/0[xX][0-9a-fA-F]+[pP][+-]?[0-9]+[fh]?/,"number.hex"],[/0[xX][0-9a-fA-F]+[iu]?/,"number.hex"],[/[1-9][0-9]*[iu]?/,"number"],[/0[iu]?/,"number"]]}}},1438:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>w,language:()=>C});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(d,f,p,_)=>{if(f&&typeof f=="object"||typeof f=="function")for(let m of J(f))M.call(d,m)||m===p||I(d,m,{get:()=>f[m],enumerable:!(_=T(f,m))||_.enumerable});return d},E={};v(E,s,"default");var w={comments:{blockComment:["<!--","-->"]},brackets:[["<",">"]],autoClosingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],surroundingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],onEnterRules:[{beforeText:new RegExp("<([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$","i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>$/i,action:{indentAction:E.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp("<(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$","i"),action:{indentAction:E.languages.IndentAction.Indent}}]},C={defaultToken:"",tokenPostfix:".xml",ignoreCase:!0,qualifiedName:/(?:[\w\.\-]+:)?[\w\.\-]+/,tokenizer:{root:[[/[^<&]+/,""],{include:"@whitespace"},[/(<)(@qualifiedName)/,[{token:"delimiter"},{token:"tag",next:"@tag"}]],[/(<\/)(@qualifiedName)(\s*)(>)/,[{token:"delimiter"},{token:"tag"},"",{token:"delimiter"}]],[/(<\?)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/(<\!)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/<\!\[CDATA\[/,{token:"delimiter.cdata",next:"@cdata"}],[/&\w+;/,"string.escape"]],cdata:[[/[^\]]+/,""],[/\]\]>/,{token:"delimiter.cdata",next:"@pop"}],[/\]/,""]],tag:[[/[ \t\r\n]+/,""],[/(@qualifiedName)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">?\/]*|'[^'>?\/]*)(?=[\?\/]\>)/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">]*|'[^'>]*)/,["attribute.name","","attribute.value"]],[/@qualifiedName/,"attribute.name"],[/\?>/,{token:"delimiter",next:"@pop"}],[/(\/)(>)/,[{token:"tag"},{token:"delimiter",next:"@pop"}]],[/>/,{token:"delimiter",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,""],[/<!--/,{token:"comment",next:"@comment"}]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,{token:"comment",next:"@pop"}],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]]}}},6990:(dt,pe,h)=>{h.r(pe),h.d(pe,{conf:()=>w,language:()=>C});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(d,f,p,_)=>{if(f&&typeof f=="object"||typeof f=="function")for(let m of J(f))M.call(d,m)||m===p||I(d,m,{get:()=>f[m],enumerable:!(_=T(f,m))||_.enumerable});return d},E={};v(E,s,"default");var w={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{offSide:!0},onEnterRules:[{beforeText:/:\s*$/,action:{indentAction:E.languages.IndentAction.Indent}}]},C={tokenPostfix:".yaml",brackets:[{token:"delimiter.bracket",open:"{",close:"}"},{token:"delimiter.square",open:"[",close:"]"}],keywords:["true","True","TRUE","false","False","FALSE","null","Null","Null","~"],numberInteger:/(?:0|[+-]?[0-9]+)/,numberFloat:/(?:0|[+-]?[0-9]+)(?:\.[0-9]+)?(?:e[-+][1-9][0-9]*)?/,numberOctal:/0o[0-7]+/,numberHex:/0x[0-9a-fA-F]+/,numberInfinity:/[+-]?\.(?:inf|Inf|INF)/,numberNaN:/\.(?:nan|Nan|NAN)/,numberDate:/\d{4}-\d\d-\d\d([Tt ]\d\d:\d\d:\d\d(\.\d+)?(( ?[+-]\d\d?(:\d\d)?)|Z)?)?/,escapes:/\\(?:[btnfr\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,tokenizer:{root:[{include:"@whitespace"},{include:"@comment"},[/%[^ ]+.*$/,"meta.directive"],[/---/,"operators.directivesEnd"],[/\.{3}/,"operators.documentEnd"],[/[-?:](?= )/,"operators"],{include:"@anchor"},{include:"@tagHandle"},{include:"@flowCollections"},{include:"@blockStyle"},[/@numberInteger(?![ \t]*\S+)/,"number"],[/@numberFloat(?![ \t]*\S+)/,"number.float"],[/@numberOctal(?![ \t]*\S+)/,"number.octal"],[/@numberHex(?![ \t]*\S+)/,"number.hex"],[/@numberInfinity(?![ \t]*\S+)/,"number.infinity"],[/@numberNaN(?![ \t]*\S+)/,"number.nan"],[/@numberDate(?![ \t]*\S+)/,"number.date"],[/(".*?"|'.*?'|[^#'"]*?)([ \t]*)(:)( |$)/,["type","white","operators","white"]],{include:"@flowScalars"},[/.+?(?=(\s+#|$))/,{cases:{"@keywords":"keyword","@default":"string"}}]],object:[{include:"@whitespace"},{include:"@comment"},[/\}/,"@brackets","@pop"],[/,/,"delimiter.comma"],[/:(?= )/,"operators"],[/(?:".*?"|'.*?'|[^,\{\[]+?)(?=: )/,"type"],{include:"@flowCollections"},{include:"@flowScalars"},{include:"@tagHandle"},{include:"@anchor"},{include:"@flowNumber"},[/[^\},]+/,{cases:{"@keywords":"keyword","@default":"string"}}]],array:[{include:"@whitespace"},{include:"@comment"},[/\]/,"@brackets","@pop"],[/,/,"delimiter.comma"],{include:"@flowCollections"},{include:"@flowScalars"},{include:"@tagHandle"},{include:"@anchor"},{include:"@flowNumber"},[/[^\],]+/,{cases:{"@keywords":"keyword","@default":"string"}}]],multiString:[[/^( +).+$/,"string","@multiStringContinued.$1"]],multiStringContinued:[[/^( *).+$/,{cases:{"$1==$S2":"string","@default":{token:"@rematch",next:"@popall"}}}]],whitespace:[[/[ \t\r\n]+/,"white"]],comment:[[/#.*$/,"comment"]],flowCollections:[[/\[/,"@brackets","@array"],[/\{/,"@brackets","@object"]],flowScalars:[[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'[^']*'/,"string"],[/"/,"string","@doubleQuotedString"]],doubleQuotedString:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],blockStyle:[[/[>|][0-9]*[+-]?$/,"operators","@multiString"]],flowNumber:[[/@numberInteger(?=[ \t]*[,\]\}])/,"number"],[/@numberFloat(?=[ \t]*[,\]\}])/,"number.float"],[/@numberOctal(?=[ \t]*[,\]\}])/,"number.octal"],[/@numberHex(?=[ \t]*[,\]\}])/,"number.hex"],[/@numberInfinity(?=[ \t]*[,\]\}])/,"number.infinity"],[/@numberNaN(?=[ \t]*[,\]\}])/,"number.nan"],[/@numberDate(?=[ \t]*[,\]\}])/,"number.date"]],tagHandle:[[/\![^ ]*/,"tag"]],anchor:[[/[&*][^ ]+/,"namespace"]]}}},5837:(dt,pe,h)=>{h.d(pe,{M:()=>I});var s=h(5043);function I(T,J){T instanceof s.D?(T.setFontFamily(J.getMassagedFontFamily()),T.setFontWeight(J.fontWeight),T.setFontSize(J.fontSize),T.setFontFeatureSettings(J.fontFeatureSettings),T.setFontVariationSettings(J.fontVariationSettings),T.setLineHeight(J.lineHeight),T.setLetterSpacing(J.letterSpacing)):(T.style.fontFamily=J.getMassagedFontFamily(),T.style.fontWeight=J.fontWeight,T.style.fontSize=J.fontSize+"px",T.style.fontFeatureSettings=J.fontFeatureSettings,T.style.fontVariationSettings=J.fontVariationSettings,T.style.lineHeight=J.lineHeight+"px",T.style.letterSpacing=J.letterSpacing+"px")}},5711:(dt,pe,h)=>{h.d(pe,{u:()=>J});var s=h(998),I=h(2106),T=h(4333);class J extends s.jG{constructor(M,v){super(),this._onDidChange=this._register(new I.vl),this.onDidChange=this._onDidChange.event,this._referenceDomElement=M,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,v)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let M=null;const v=()=>{M?this.observe({width:M.width,height:M.height}):this.observe()};let E=!1,w=!1;const C=()=>{if(E&&!w)try{E=!1,w=!0,v()}finally{T.PG(T.zk(this._referenceDomElement),()=>{w=!1,C()})}};this._resizeObserver=new ResizeObserver((d)=>{M=d&&d[0]&&d[0].contentRect?{width:d[0].contentRect.width,height:d[0].contentRect.height}:null,E=!0,C()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(M){this.measureReferenceDomElement(!0,M)}measureReferenceDomElement(M,v){let E=0,w=0;v?(E=v.width,w=v.height):this._referenceDomElement&&(E=this._referenceDomElement.clientWidth,w=this._referenceDomElement.clientHeight),E=Math.max(5,E),w=Math.max(5,w),this._width===E&&this._height===w||(this._width=E,this._height=w,M&&this._onDidChange.fire())}}},1106:(dt,pe,h)=>{h.d(pe,{T:()=>p});var s=h(4333),I=h(4770),T=h(2106),J=h(998),M=h(5837);class v{constructor(_,m){this.chr=_,this.type=m,this.width=0}fulfill(_){this.width=_}}class E{constructor(_,m){this._bareFontInfo=_,this._requests=m,this._container=null,this._testElements=null}read(_){this._createDomElements(),_.document.body.appendChild(this._container),this._readFromDomElements(),this._container?.remove(),this._container=null,this._testElements=null}_createDomElements(){const _=document.createElement("div");_.style.position="absolute",_.style.top="-50000px",_.style.width="50000px";const m=document.createElement("div");M.M(m,this._bareFontInfo),_.appendChild(m);const b=document.createElement("div");M.M(b,this._bareFontInfo),b.style.fontWeight="bold",_.appendChild(b);const x=document.createElement("div");M.M(x,this._bareFontInfo),x.style.fontStyle="italic",_.appendChild(x);const k=[];for(let R of this._requests){let P;R.type===0&&(P=m),R.type===2&&(P=b),R.type===1&&(P=x),P.appendChild(document.createElement("br"));const z=document.createElement("span");E._render(z,R),P.appendChild(z),k.push(z)}this._container=_,this._testElements=k}static _render(_,m){if(m.chr===" "){let b="\xA0";for(let x=0;x<8;x++)b+=b;_.innerText=b}else{let b=m.chr;for(let x=0;x<8;x++)b+=b;_.textContent=b}}_readFromDomElements(){for(let _=0,m=this._requests.length;_<m;_++){const b=this._requests[_],x=this._testElements[_];b.fulfill(x.offsetWidth/256)}}}var w=h(6476),C=h(8060);class d extends J.jG{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new T.vl),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(_){const m=s.Q2(_);let b=this._cache.get(m);return b||(b=new f,this._cache.set(m,b)),b}_writeToCache(_,m,b){this._ensureCache(_).put(m,b),b.isTrusted||this._evictUntrustedReadingsTimeout!==-1||(this._evictUntrustedReadingsTimeout=_.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(_)},5000))}_evictUntrustedReadings(_){const m=this._ensureCache(_),b=m.getValues();let x=!1;for(let k of b)k.isTrusted||(x=!0,m.remove(k));x&&this._onDidChange.fire()}readFontInfo(_,m){const b=this._ensureCache(_);if(!b.has(m)){let x=this._actualReadFontInfo(_,m);(x.typicalHalfwidthCharacterWidth<=2||x.typicalFullwidthCharacterWidth<=2||x.spaceWidth<=2||x.maxDigitWidth<=2)&&(x=new C.YJ({pixelRatio:I.c.getInstance(_).value,fontFamily:x.fontFamily,fontWeight:x.fontWeight,fontSize:x.fontSize,fontFeatureSettings:x.fontFeatureSettings,fontVariationSettings:x.fontVariationSettings,lineHeight:x.lineHeight,letterSpacing:x.letterSpacing,isMonospace:x.isMonospace,typicalHalfwidthCharacterWidth:Math.max(x.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(x.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:x.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(x.spaceWidth,5),middotWidth:Math.max(x.middotWidth,5),wsmiddotWidth:Math.max(x.wsmiddotWidth,5),maxDigitWidth:Math.max(x.maxDigitWidth,5)},!1)),this._writeToCache(_,m,x)}return b.get(m)}_createRequest(_,m,b,x){const k=new v(_,m);return b.push(k),x?.push(k),k}_actualReadFontInfo(_,m){const b=[],x=[],k=this._createRequest("n",0,b,x),R=this._createRequest("\uFF4D",0,b,null),P=this._createRequest(" ",0,b,x),z=this._createRequest("0",0,b,x),te=this._createRequest("1",0,b,x),L=this._createRequest("2",0,b,x),W=this._createRequest("3",0,b,x),B=this._createRequest("4",0,b,x),U=this._createRequest("5",0,b,x),$=this._createRequest("6",0,b,x),G=this._createRequest("7",0,b,x),ie=this._createRequest("8",0,b,x),ee=this._createRequest("9",0,b,x),ne=this._createRequest("\u2192",0,b,x),H=this._createRequest("\uFFEB",0,b,null),V=this._createRequest("\xB7",0,b,x),Y=this._createRequest(String.fromCharCode(11825),0,b,null);for(let he=0,Q=8;he<Q;he++)this._createRequest("|/-_ilm%".charAt(he),0,b,x),this._createRequest("|/-_ilm%".charAt(he),1,b,x),this._createRequest("|/-_ilm%".charAt(he),2,b,x);(function(he,Q,re){new E(Q,re).read(he)})(_,m,b);const Te=Math.max(z.width,te.width,L.width,W.width,B.width,U.width,$.width,G.width,ie.width,ee.width);let xe=m.fontFeatureSettings===w.Bc.OFF;const Be=x[0].width;for(let he=1,Q=x.length;xe&&he<Q;he++){const re=Be-x[he].width;if(re<-0.001||re>0.001){xe=!1;break}}let Ie=!0;return xe&&H.width!==Be&&(Ie=!1),H.width>ne.width&&(Ie=!1),new C.YJ({pixelRatio:I.c.getInstance(_).value,fontFamily:m.fontFamily,fontWeight:m.fontWeight,fontSize:m.fontSize,fontFeatureSettings:m.fontFeatureSettings,fontVariationSettings:m.fontVariationSettings,lineHeight:m.lineHeight,letterSpacing:m.letterSpacing,isMonospace:xe,typicalHalfwidthCharacterWidth:k.width,typicalFullwidthCharacterWidth:R.width,canUseHalfwidthRightwardsArrow:Ie,spaceWidth:P.width,middotWidth:V.width,wsmiddotWidth:Y.width,maxDigitWidth:Te},!0)}}class f{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(_){const m=_.getId();return!!this._values[m]}get(_){const m=_.getId();return this._values[m]}put(_,m){const b=_.getId();this._keys[b]=_,this._values[b]=m}remove(_){const m=_.getId();delete this._keys[m],delete this._values[m]}getValues(){return Object.keys(this._keys).map((_)=>this._values[_])}}const p=new d},5155:(dt,pe,h)=>{h.d(pe,{M:()=>I});var s=h(2106);const I=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new s.vl,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(T){this._tabFocus=T,this._onDidChangeTabFocus.fire(this._tabFocus)}}},3344:(dt,pe,h)=>{h.d(pe,{$D:()=>s,Eq:()=>k,M0:()=>L,Mz:()=>te,No:()=>z,bs:()=>R});var s,I=h(5893),T=h(4333),J=h(4061),M=h(7594),v=h(2863),E=h(5958),w=h(2106),C=h(998),d=h(3720),f=h(6844),p=h(3377),_=h(3702),m=h(3909),b=h(6441),x=function(W,B){return function(U,$){B(U,$,W)}};(function(W){W.Tap="-monaco-textarea-synthetic-tap"})(s||(s={}));const k={forceCopyWithSyntaxHighlighting:!1};class R{static{this.INSTANCE=new R}constructor(){this._lastState=null}set(W,B){this._lastState={lastCopiedValue:W,data:B}}get(W){return this._lastState&&this._lastState.lastCopiedValue===W?this._lastState.data:(this._lastState=null,null)}}class P{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(W){const B={text:W=W||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=W.length,B}}let z=class extends C.jG{get textAreaState(){return this._textAreaState}constructor(W,B,U,$,G,ie){super(),this._host=W,this._textArea=B,this._OS=U,this._browser=$,this._accessibilityService=G,this._logService=ie,this._onFocus=this._register(new w.vl),this.onFocus=this._onFocus.event,this._onBlur=this._register(new w.vl),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new w.vl),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new w.vl),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new w.vl),this.onCut=this._onCut.event,this._onPaste=this._register(new w.vl),this.onPaste=this._onPaste.event,this._onType=this._register(new w.vl),this.onType=this._onType.event,this._onCompositionStart=this._register(new w.vl),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new w.vl),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new w.vl),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new w.vl),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new C.HE),this._asyncTriggerCut=this._register(new E.uC(()=>this._onCut.fire(),0)),this._textAreaState=p._O.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(w.Jh.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new E.uC(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let ee=null;this._register(this._textArea.onKeyDown((ne)=>{const H=new M.Z(ne);(H.keyCode===114||this._currentComposition&&H.keyCode===1)&&H.stopPropagation(),H.equals(9)&&H.preventDefault(),ee=H,this._onKeyDown.fire(H)})),this._register(this._textArea.onKeyUp((ne)=>{const H=new M.Z(ne);this._onKeyUp.fire(H)})),this._register(this._textArea.onCompositionStart((ne)=>{p.Hf&&console.log("[compositionstart]",ne);const H=new P;if(this._currentComposition)this._currentComposition=H;else{if(this._currentComposition=H,this._OS===2&&ee&&ee.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===ne.data&&(ee.code==="ArrowRight"||ee.code==="ArrowLeft"))return p.Hf&&console.log("[compositionstart] Handling long press case on macOS + arrow key",ne),H.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:ne.data});this._browser.isAndroid,this._onCompositionStart.fire({data:ne.data})}})),this._register(this._textArea.onCompositionUpdate((ne)=>{p.Hf&&console.log("[compositionupdate]",ne);const H=this._currentComposition;if(!H)return;if(this._browser.isAndroid){const Y=p._O.readFromTextArea(this._textArea,this._textAreaState),ve=p._O.deduceAndroidCompositionInput(this._textAreaState,Y);return this._textAreaState=Y,this._onType.fire(ve),void this._onCompositionUpdate.fire(ne)}const V=H.handleCompositionUpdate(ne.data);this._textAreaState=p._O.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(V),this._onCompositionUpdate.fire(ne)})),this._register(this._textArea.onCompositionEnd((ne)=>{p.Hf&&console.log("[compositionend]",ne);const H=this._currentComposition;if(!H)return;if(this._currentComposition=null,this._browser.isAndroid){const Y=p._O.readFromTextArea(this._textArea,this._textAreaState),ve=p._O.deduceAndroidCompositionInput(this._textAreaState,Y);return this._textAreaState=Y,this._onType.fire(ve),void this._onCompositionEnd.fire()}const V=H.handleCompositionUpdate(ne.data);this._textAreaState=p._O.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(V),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput((ne)=>{if(p.Hf&&console.log("[input]",ne),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const H=p._O.readFromTextArea(this._textArea,this._textAreaState),V=p._O.deduceInput(this._textAreaState,H,this._OS===2);(V.replacePrevCharCnt!==0||V.text.length!==1||!f.pc(V.text.charCodeAt(0))&&V.text.charCodeAt(0)!==127)&&(this._textAreaState=H,V.text===""&&V.replacePrevCharCnt===0&&V.replaceNextCharCnt===0&&V.positionDelta===0||this._onType.fire(V))})),this._register(this._textArea.onCut((ne)=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(ne),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy((ne)=>{this._ensureClipboardGetsEditorSelection(ne)})),this._register(this._textArea.onPaste((ne)=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),ne.preventDefault(),!ne.clipboardData)return;let[H,V]=te.getTextData(ne.clipboardData);H&&(V=V||R.INSTANCE.get(H),this._onPaste.fire({text:H,metadata:V}))})),this._register(this._textArea.onFocus(()=>{const ne=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!ne&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new E.uC(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let W=0;return T.ko(this._textArea.ownerDocument,"selectionchange",(B)=>{if(v.p.onSelectionChange(),!this._hasFocus)return;if(this._currentComposition)return;if(!this._browser.isChrome)return;const U=Date.now(),$=U-W;if(W=U,$<5)return;const G=U-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),G<100)return;if(!this._textAreaState.selection)return;const ie=this._textArea.getValue();if(this._textAreaState.value!==ie)return;const ee=this._textArea.getSelectionStart(),ne=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===ee&&this._textAreaState.selectionEnd===ne)return;const H=this._textAreaState.deduceEditorPosition(ee),V=this._host.deduceModelPosition(H[0],H[1],H[2]),Y=this._textAreaState.deduceEditorPosition(ne),ve=this._host.deduceModelPosition(Y[0],Y[1],Y[2]),Te=new _.L(V.lineNumber,V.column,ve.lineNumber,ve.column);this._onSelectionChangeRequest.fire(Te)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(W){this._hasFocus!==W&&(this._hasFocus=W,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(W,B){this._hasFocus||(B=B.collapseSelection()),B.writeToTextArea(W,this._textArea,this._hasFocus),this._textAreaState=B}writeNativeTextAreaContent(W){!this._accessibilityService.isScreenReaderOptimized()&&W==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${W})`),this._setAndWriteTextAreaState(W,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(W){const B=this._host.getDataToCopy(),U={version:1,isFromEmptySelection:B.isFromEmptySelection,multicursorText:B.multicursorText,mode:B.mode};R.INSTANCE.set(this._browser.isFirefox?B.text.replace(/\r\n/g,"\n"):B.text,U),W.preventDefault(),W.clipboardData&&te.setTextData(W.clipboardData,B.text,B.html,U)}};z=function(W,B,U,$){var G,ie=arguments.length,ee=ie<3?B:$===null?$=Object.getOwnPropertyDescriptor(B,U):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(W,B,U,$);else for(var ne=W.length-1;ne>=0;ne--)(G=W[ne])&&(ee=(ie<3?G(ee):ie>3?G(B,U,ee):G(B,U))||ee);return ie>3&&ee&&Object.defineProperty(B,U,ee),ee}([x(4,m.j),x(5,b.rr)],z);const te={getTextData(W){const B=W.getData(d.K.text);let U=null;const $=W.getData("vscode-editor-data");if(typeof $=="string")try{U=JSON.parse($),U.version!==1&&(U=null)}catch(G){}return B.length===0&&U===null&&W.files.length>0?[Array.prototype.slice.call(W.files,0).map((G)=>G.name).join("\n"),null]:[B,U]},setTextData(W,B,U,$){W.setData(d.K.text,B),typeof U=="string"&&W.setData("text/html",U),W.setData("vscode-editor-data",JSON.stringify($))}};class L extends C.jG{get ownerDocument(){return this._actual.ownerDocument}constructor(W){super(),this._actual=W,this.onKeyDown=this._register(new J.f(this._actual,"keydown")).event,this.onKeyUp=this._register(new J.f(this._actual,"keyup")).event,this.onCompositionStart=this._register(new J.f(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new J.f(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new J.f(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new J.f(this._actual,"beforeinput")).event,this.onInput=this._register(new J.f(this._actual,"input")).event,this.onCut=this._register(new J.f(this._actual,"cut")).event,this.onCopy=this._register(new J.f(this._actual,"copy")).event,this.onPaste=this._register(new J.f(this._actual,"paste")).event,this.onFocus=this._register(new J.f(this._actual,"focus")).event,this.onBlur=this._register(new J.f(this._actual,"blur")).event,this._onSyntheticTap=this._register(new w.vl),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>v.p.onKeyDown())),this._register(this.onBeforeInput(()=>v.p.onBeforeInput())),this._register(this.onInput(()=>v.p.onInput())),this._register(this.onKeyUp(()=>v.p.onKeyUp())),this._register(T.ko(this._actual,s.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const W=T.jG(this._actual);return W?W.activeElement===this._actual:!!this._actual.isConnected&&T.bq()===this._actual}setIgnoreSelectionChangeTime(W){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(W,B){const U=this._actual;U.value!==B&&(this.setIgnoreSelectionChangeTime("setValue"),U.value=B)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(W,B,U){const $=this._actual;let G=null;const ie=T.jG($);G=ie?ie.activeElement:T.bq();const ee=T.zk(G),ne=G===$,H=$.selectionStart,V=$.selectionEnd;if(ne&&H===B&&V===U)I.gm&&ee.parent!==ee&&$.focus();else{if(ne)return this.setIgnoreSelectionChangeTime("setSelectionRange"),$.setSelectionRange(B,U),void(I.gm&&ee.parent!==ee&&$.focus());try{const Y=T.zK($);this.setIgnoreSelectionChangeTime("setSelectionRange"),$.focus(),$.setSelectionRange(B,U),T.wk($,Y)}catch(Y){}}}}},3377:(dt,pe,h)=>{h.d(pe,{Al:()=>M,Hf:()=>T,_O:()=>J});var s=h(6844),I=h(8061);const T=!1;class J{static{this.EMPTY=new J("",0,0,null,void 0)}constructor(v,E,w,C,d){this.value=v,this.selectionStart=E,this.selectionEnd=w,this.selection=C,this.newlineCountBeforeSelection=d}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(v,E){const w=v.getValue(),C=v.getSelectionStart(),d=v.getSelectionEnd();let f;return E&&w.substring(0,C)===E.value.substring(0,E.selectionStart)&&(f=E.newlineCountBeforeSelection),new J(w,C,d,null,f)}collapseSelection(){return this.selectionStart===this.value.length?this:new J(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(v,E,w){T&&console.log(`writeToTextArea ${v}: ${this.toString()}`),E.setValue(v,this.value),w&&E.setSelectionRange(v,this.selectionStart,this.selectionEnd)}deduceEditorPosition(v){if(v<=this.selectionStart){const C=this.value.substring(v,this.selectionStart);return this._finishDeduceEditorPosition(this.selection?.getStartPosition()??null,C,-1)}if(v>=this.selectionEnd){const C=this.value.substring(this.selectionEnd,v);return this._finishDeduceEditorPosition(this.selection?.getEndPosition()??null,C,1)}const E=this.value.substring(this.selectionStart,v);if(E.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selection?.getStartPosition()??null,E,1);const w=this.value.substring(v,this.selectionEnd);return this._finishDeduceEditorPosition(this.selection?.getEndPosition()??null,w,-1)}_finishDeduceEditorPosition(v,E,w){let C=0,d=-1;for(;(d=E.indexOf("\n",d+1))!==-1;)C++;return[v,w*E.length,C]}static deduceInput(v,E,w){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};T&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${E.toString()}`));const C=Math.min(s.Qp(v.value,E.value),v.selectionStart,E.selectionStart),d=Math.min(s.Vi(v.value,E.value),v.value.length-v.selectionEnd,E.value.length-E.selectionEnd),f=v.value.substring(C,v.value.length-d),p=E.value.substring(C,E.value.length-d),_=v.selectionStart-C,m=v.selectionEnd-C,b=E.selectionStart-C,x=E.selectionEnd-C;if(T&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${f}>, selectionStart: ${_}, selectionEnd: ${m}`),console.log(`AFTER DIFFING CURRENT STATE: <${p}>, selectionStart: ${b}, selectionEnd: ${x}`)),b===x){const k=v.selectionStart-C;return T&&console.log(`REMOVE PREVIOUS: ${k} chars`),{text:p,replacePrevCharCnt:k,replaceNextCharCnt:0,positionDelta:0}}return{text:p,replacePrevCharCnt:m-_,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(v,E){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(T&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${E.toString()}`)),v.value===E.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:E.selectionEnd-v.selectionEnd};const w=Math.min(s.Qp(v.value,E.value),v.selectionEnd),C=Math.min(s.Vi(v.value,E.value),v.value.length-v.selectionEnd),d=v.value.substring(w,v.value.length-C),f=E.value.substring(w,E.value.length-C),p=v.selectionStart-w,_=v.selectionEnd-w,m=E.selectionStart-w,b=E.selectionEnd-w;return T&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${d}>, selectionStart: ${p}, selectionEnd: ${_}`),console.log(`AFTER DIFFING CURRENT STATE: <${f}>, selectionStart: ${m}, selectionEnd: ${b}`)),{text:f,replacePrevCharCnt:_,replaceNextCharCnt:d.length-_,positionDelta:b-f.length}}}class M{static _getPageOfLine(v,E){return Math.floor((v-1)/E)}static _getRangeForPage(v,E){const w=v*E,C=w+1,d=w+E;return new I.Q(C,1,d+1,1)}static fromEditorSelection(v,E,w,C){const f=M._getPageOfLine(E.startLineNumber,w),p=M._getRangeForPage(f,w),_=M._getPageOfLine(E.endLineNumber,w),m=M._getRangeForPage(_,w);let b=p.intersectRanges(new I.Q(1,1,E.startLineNumber,E.startColumn));if(C&&v.getValueLengthInRange(b,1)>500){const L=v.modifyPosition(b.getEndPosition(),-500);b=I.Q.fromPositions(L,b.getEndPosition())}const x=v.getValueInRange(b,1),k=v.getLineCount(),R=v.getLineMaxColumn(k);let P=m.intersectRanges(new I.Q(E.endLineNumber,E.endColumn,k,R));if(C&&v.getValueLengthInRange(P,1)>500){const L=v.modifyPosition(P.getStartPosition(),500);P=I.Q.fromPositions(P.getStartPosition(),L)}const z=v.getValueInRange(P,1);let te;if(f===_||f+1===_)te=v.getValueInRange(E,1);else{const L=p.intersectRanges(E),W=m.intersectRanges(E);te=v.getValueInRange(L,1)+String.fromCharCode(8230)+v.getValueInRange(W,1)}return C&&te.length>1000&&(te=te.substring(0,500)+String.fromCharCode(8230)+te.substring(te.length-500,te.length)),new J(x+te+z,x.length,x.length+te.length,E,b.endLineNumber-b.startLineNumber)}}},2521:(dt,pe,h)=>{h.d(pe,{Yh:()=>G,QM:()=>_});var s=h(9746),I=h(5893),T=h(9359),J=h(9407),M=h(946),v=h(7301),E=h(9895),w=h(5365),C=h(8061);class d{static columnSelect(ne,H,V,Y,ve,Te){const xe=Math.abs(ve-V)+1,Be=V>ve,Ie=Y>Te,he=Y<Te,Q=[];for(let re=0;re<xe;re++){const Je=V+(Be?-re:re),Se=ne.columnFromVisibleColumn(H,Je,Y),Pe=ne.columnFromVisibleColumn(H,Je,Te),Le=ne.visibleColumnFromColumn(H,new w.y(Je,Se)),Ve=ne.visibleColumnFromColumn(H,new w.y(Je,Pe));if(he){if(Le>Te)continue;if(Ve<Y)continue}if(Ie){if(Ve>Y)continue;if(Le<Te)continue}Q.push(new E.mG(new C.Q(Je,Se,Je,Se),0,0,new w.y(Je,Pe),0))}if(Q.length===0)for(let re=0;re<xe;re++){const Je=V+(Be?-re:re),Se=H.getLineMaxColumn(Je);Q.push(new E.mG(new C.Q(Je,Se,Je,Se),0,0,new w.y(Je,Se),0))}return{viewStates:Q,reversed:Be,fromLineNumber:V,fromVisualColumn:Y,toLineNumber:ve,toVisualColumn:Te}}static columnSelectLeft(ne,H,V){let Y=V.toViewVisualColumn;return Y>0&&Y--,d.columnSelect(ne,H,V.fromViewLineNumber,V.fromViewVisualColumn,V.toViewLineNumber,Y)}static columnSelectRight(ne,H,V){let Y=0;const ve=Math.min(V.fromViewLineNumber,V.toViewLineNumber),Te=Math.max(V.fromViewLineNumber,V.toViewLineNumber);for(let Be=ve;Be<=Te;Be++){const Ie=H.getLineMaxColumn(Be),he=ne.visibleColumnFromColumn(H,new w.y(Be,Ie));Y=Math.max(Y,he)}let xe=V.toViewVisualColumn;return xe<Y&&xe++,this.columnSelect(ne,H,V.fromViewLineNumber,V.fromViewVisualColumn,V.toViewLineNumber,xe)}static columnSelectUp(ne,H,V,Y){const ve=Y?ne.pageSize:1,Te=Math.max(1,V.toViewLineNumber-ve);return this.columnSelect(ne,H,V.fromViewLineNumber,V.fromViewVisualColumn,Te,V.toViewVisualColumn)}static columnSelectDown(ne,H,V,Y){const ve=Y?ne.pageSize:1,Te=Math.min(H.getLineCount(),V.toViewLineNumber+ve);return this.columnSelect(ne,H,V.fromViewLineNumber,V.fromViewVisualColumn,Te,V.toViewVisualColumn)}}var f,p,_,m=h(7666),b=h(7064),x=h(6137),k=h(5741),R=h(1540),P=h(8421),z=h(4333),te=h(2885);class L extends M.DX{runEditorCommand(ne,H,V){const Y=H._getViewModel();Y&&this.runCoreEditorCommand(Y,V||{})}}(function(ne){ne.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(H){if(!T.Gv(H))return!1;const V=H;return!(!T.Kg(V.to)||!T.b0(V.by)&&!T.Kg(V.by)||!T.b0(V.value)&&!T.Et(V.value)||!T.b0(V.revealCursor)&&!T.Lm(V.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},ne.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},ne.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"},ne.parse=function(H){let V,Y;switch(H.to){case ne.RawDirection.Up:V=1;break;case ne.RawDirection.Right:V=2;break;case ne.RawDirection.Down:V=3;break;case ne.RawDirection.Left:V=4;break;default:return null}switch(H.by){case ne.RawUnit.Line:Y=1;break;case ne.RawUnit.WrappedLine:Y=2;break;case ne.RawUnit.Page:Y=3;break;case ne.RawUnit.HalfPage:Y=4;break;case ne.RawUnit.Editor:Y=5;break;case ne.RawUnit.Column:Y=6;break;default:Y=2}return{direction:V,unit:Y,value:Math.floor(H.value||1),revealCursor:!!H.revealCursor,select:!!H.select}}})(f||(f={})),function(ne){ne.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(H){if(!T.Gv(H))return!1;const V=H;return!(!T.Et(V.lineNumber)&&!T.Kg(V.lineNumber)||!T.b0(V.at)&&!T.Kg(V.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},ne.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(p||(p={}));class W{constructor(ne){ne.addImplementation(1e4,"code-editor",(H,V)=>{const Y=H.get(v.T).getFocusedCodeEditor();return!(!Y||!Y.hasTextFocus())&&this._runEditorCommand(H,Y,V)}),ne.addImplementation(1000,"generic-dom-input-textarea",(H,V)=>{const Y=z.bq();return!!(Y&&["input","textarea"].indexOf(Y.tagName.toLowerCase())>=0)&&(this.runDOMCommand(Y),!0)}),ne.addImplementation(0,"generic-dom",(H,V)=>{const Y=H.get(v.T).getActiveCodeEditor();return!!Y&&(Y.focus(),this._runEditorCommand(H,Y,V))})}_runEditorCommand(ne,H,V){return this.runEditorCommand(ne,H,V)||!0}}(function(ne){class H extends L{constructor(g){super(g),this._inSelectionMode=g.inSelectionMode}runCoreEditorCommand(g,ge){ge.position&&(g.model.pushStackElement(),g.setCursorStates(ge.source,3,[b.c.moveTo(g,g.getPrimaryCursorState(),this._inSelectionMode,ge.position,ge.viewPosition)])&&ge.revealType!==2&&g.revealAllCursors(ge.source,!0,!0))}}ne.MoveTo=M.E_(new H({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),ne.MoveToSelect=M.E_(new H({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class V extends L{runCoreEditorCommand(g,ge){g.model.pushStackElement();const We=this._getColumnSelectResult(g,g.getPrimaryCursorState(),g.getCursorColumnSelectData(),ge);We!==null&&(g.setCursorStates(ge.source,3,We.viewStates.map((de)=>E.MF.fromViewState(de))),g.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:We.fromLineNumber,fromViewVisualColumn:We.fromVisualColumn,toViewLineNumber:We.toLineNumber,toViewVisualColumn:We.toVisualColumn}),We.reversed?g.revealTopMostCursor(ge.source):g.revealBottomMostCursor(ge.source))}}ne.ColumnSelect=M.E_(new class extends V{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(g,ge,We,de){if(de.position===void 0||de.viewPosition===void 0||de.mouseColumn===void 0)return null;const be=g.model.validatePosition(de.position),ae=g.coordinatesConverter.validateViewPosition(new w.y(de.viewPosition.lineNumber,de.viewPosition.column),be),O=de.doColumnSelect?We.fromViewLineNumber:ae.lineNumber,Ue=de.doColumnSelect?We.fromViewVisualColumn:de.mouseColumn-1;return d.columnSelect(g.cursorConfig,g,O,Ue,ae.lineNumber,de.mouseColumn-1)}}),ne.CursorColumnSelectLeft=M.E_(new class extends V{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(g,ge,We,de){return d.columnSelectLeft(g.cursorConfig,g,We)}}),ne.CursorColumnSelectRight=M.E_(new class extends V{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(g,ge,We,de){return d.columnSelectRight(g.cursorConfig,g,We)}});class Y extends V{constructor(g){super(g),this._isPaged=g.isPaged}_getColumnSelectResult(g,ge,We,de){return d.columnSelectUp(g.cursorConfig,g,We,this._isPaged)}}ne.CursorColumnSelectUp=M.E_(new Y({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:3600,linux:{primary:0}}})),ne.CursorColumnSelectPageUp=M.E_(new Y({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:3595,linux:{primary:0}}}));class ve extends V{constructor(g){super(g),this._isPaged=g.isPaged}_getColumnSelectResult(g,ge,We,de){return d.columnSelectDown(g.cursorConfig,g,We,this._isPaged)}}ne.CursorColumnSelectDown=M.E_(new ve({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:3602,linux:{primary:0}}})),ne.CursorColumnSelectPageDown=M.E_(new ve({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:3596,linux:{primary:0}}}));class Te extends L{constructor(){super({id:"cursorMove",precondition:void 0,metadata:b.S.metadata})}runCoreEditorCommand(g,ge){const We=b.S.parse(ge);We&&this._runCursorMove(g,ge.source,We)}_runCursorMove(g,ge,We){g.model.pushStackElement(),g.setCursorStates(ge,3,Te._move(g,g.getCursorStates(),We)),g.revealAllCursors(ge,!0)}static _move(g,ge,We){const{select:de,value:be}=We;switch(We.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return b.c.simpleMove(g,ge,We.direction,de,be,We.unit);case 11:case 13:case 12:case 14:return b.c.viewportMove(g,ge,We.direction,de,be);default:return null}}}ne.CursorMoveImpl=Te,ne.CursorMove=M.E_(new Te);class xe extends L{constructor(g){super(g),this._staticArgs=g.args}runCoreEditorCommand(g,ge){let We=this._staticArgs;this._staticArgs.value===-1&&(We={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:ge.pageSize||g.cursorConfig.pageSize}),g.model.pushStackElement(),g.setCursorStates(ge.source,3,b.c.simpleMove(g,g.getCursorStates(),We.direction,We.select,We.value,We.unit)),g.revealAllCursors(ge.source,!0)}}ne.CursorLeft=M.E_(new xe({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),ne.CursorLeftSelect=M.E_(new xe({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:1039}})),ne.CursorRight=M.E_(new xe({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),ne.CursorRightSelect=M.E_(new xe({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:1041}})),ne.CursorUp=M.E_(new xe({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),ne.CursorUpSelect=M.E_(new xe({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),ne.CursorPageUp=M.E_(new xe({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:11}})),ne.CursorPageUpSelect=M.E_(new xe({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:1035}})),ne.CursorDown=M.E_(new xe({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),ne.CursorDownSelect=M.E_(new xe({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),ne.CursorPageDown=M.E_(new xe({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:12}})),ne.CursorPageDownSelect=M.E_(new xe({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:1036}})),ne.CreateCursor=M.E_(new class extends L{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(g,ge){if(!ge.position)return;let We;We=ge.wholeLine?b.c.line(g,g.getPrimaryCursorState(),!1,ge.position,ge.viewPosition):b.c.moveTo(g,g.getPrimaryCursorState(),!1,ge.position,ge.viewPosition);const de=g.getCursorStates();if(de.length>1){const be=We.modelState?We.modelState.position:null,ae=We.viewState?We.viewState.position:null;for(let O=0,Ue=de.length;O<Ue;O++){const Ye=de[O];if((!be||Ye.modelState.selection.containsPosition(be))&&(!ae||Ye.viewState.selection.containsPosition(ae)))return de.splice(O,1),g.model.pushStackElement(),void g.setCursorStates(ge.source,3,de)}}de.push(We),g.model.pushStackElement(),g.setCursorStates(ge.source,3,de)}}),ne.LastCursorMoveToSelect=M.E_(new class extends L{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(g,ge){if(!ge.position)return;const We=g.getLastAddedCursorIndex(),de=g.getCursorStates(),be=de.slice(0);be[We]=b.c.moveTo(g,de[We],!0,ge.position,ge.viewPosition),g.model.pushStackElement(),g.setCursorStates(ge.source,3,be)}});class Be extends L{constructor(g){super(g),this._inSelectionMode=g.inSelectionMode}runCoreEditorCommand(g,ge){g.model.pushStackElement(),g.setCursorStates(ge.source,3,b.c.moveToBeginningOfLine(g,g.getCursorStates(),this._inSelectionMode)),g.revealAllCursors(ge.source,!0)}}ne.CursorHome=M.E_(new Be({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),ne.CursorHomeSelect=M.E_(new Be({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class Ie extends L{constructor(g){super(g),this._inSelectionMode=g.inSelectionMode}runCoreEditorCommand(g,ge){g.model.pushStackElement(),g.setCursorStates(ge.source,3,this._exec(g.getCursorStates())),g.revealAllCursors(ge.source,!0)}_exec(g){const ge=[];for(let We=0,de=g.length;We<de;We++){const be=g[We],ae=be.modelState.position.lineNumber;ge[We]=E.MF.fromModelState(be.modelState.move(this._inSelectionMode,ae,1,0))}return ge}}ne.CursorLineStart=M.E_(new Ie({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:0,mac:{primary:287}}})),ne.CursorLineStartSelect=M.E_(new Ie({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:0,mac:{primary:1311}}}));class he extends L{constructor(g){super(g),this._inSelectionMode=g.inSelectionMode}runCoreEditorCommand(g,ge){g.model.pushStackElement(),g.setCursorStates(ge.source,3,b.c.moveToEndOfLine(g,g.getCursorStates(),this._inSelectionMode,ge.sticky||!1)),g.revealAllCursors(ge.source,!0)}}ne.CursorEnd=M.E_(new he({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:k.R.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:s.kg("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),ne.CursorEndSelect=M.E_(new he({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:k.R.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:s.kg("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class Q extends L{constructor(g){super(g),this._inSelectionMode=g.inSelectionMode}runCoreEditorCommand(g,ge){g.model.pushStackElement(),g.setCursorStates(ge.source,3,this._exec(g,g.getCursorStates())),g.revealAllCursors(ge.source,!0)}_exec(g,ge){const We=[];for(let de=0,be=ge.length;de<be;de++){const ae=ge[de],O=ae.modelState.position.lineNumber,Ue=g.model.getLineMaxColumn(O);We[de]=E.MF.fromModelState(ae.modelState.move(this._inSelectionMode,O,Ue,0))}return We}}ne.CursorLineEnd=M.E_(new Q({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:0,mac:{primary:291}}})),ne.CursorLineEndSelect=M.E_(new Q({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:0,mac:{primary:1315}}}));class re extends L{constructor(g){super(g),this._inSelectionMode=g.inSelectionMode}runCoreEditorCommand(g,ge){g.model.pushStackElement(),g.setCursorStates(ge.source,3,b.c.moveToBeginningOfBuffer(g,g.getCursorStates(),this._inSelectionMode)),g.revealAllCursors(ge.source,!0)}}ne.CursorTop=M.E_(new re({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:2062,mac:{primary:2064}}})),ne.CursorTopSelect=M.E_(new re({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:3086,mac:{primary:3088}}}));class Je extends L{constructor(g){super(g),this._inSelectionMode=g.inSelectionMode}runCoreEditorCommand(g,ge){g.model.pushStackElement(),g.setCursorStates(ge.source,3,b.c.moveToEndOfBuffer(g,g.getCursorStates(),this._inSelectionMode)),g.revealAllCursors(ge.source,!0)}}ne.CursorBottom=M.E_(new Je({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:2061,mac:{primary:2066}}})),ne.CursorBottomSelect=M.E_(new Je({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:3085,mac:{primary:3090}}}));class Se extends L{constructor(){super({id:"editorScroll",precondition:void 0,metadata:f.metadata})}determineScrollMethod(g){return[6].includes(g.unit)&&[4,2].includes(g.direction)?this._runHorizontalEditorScroll.bind(this):[1,2,3,4,5,6].includes(g.unit)&&[1,3].includes(g.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(g,ge){const We=f.parse(ge);if(!We)return;const de=this.determineScrollMethod(We);de&&de(g,ge.source,We)}_runVerticalEditorScroll(g,ge,We){const de=this._computeDesiredScrollTop(g,We);if(We.revealCursor){const be=g.getCompletelyVisibleViewRangeAtScrollTop(de);g.setCursorStates(ge,3,[b.c.findPositionInViewportIfOutside(g,g.getPrimaryCursorState(),be,We.select)])}g.viewLayout.setScrollPosition({scrollTop:de},0)}_computeDesiredScrollTop(g,ge){if(ge.unit===1){const be=g.viewLayout.getFutureViewport(),ae=g.getCompletelyVisibleViewRangeAtScrollTop(be.top),O=g.coordinatesConverter.convertViewRangeToModelRange(ae);let Ue;Ue=ge.direction===1?Math.max(1,O.startLineNumber-ge.value):Math.min(g.model.getLineCount(),O.startLineNumber+ge.value);const Ye=g.coordinatesConverter.convertModelPositionToViewPosition(new w.y(Ue,1));return g.viewLayout.getVerticalOffsetForLineNumber(Ye.lineNumber)}if(ge.unit===5){let be=0;return ge.direction===3&&(be=g.model.getLineCount()-g.cursorConfig.pageSize),g.viewLayout.getVerticalOffsetForLineNumber(be)}let We;We=ge.unit===3?g.cursorConfig.pageSize*ge.value:ge.unit===4?Math.round(g.cursorConfig.pageSize/2)*ge.value:ge.value;const de=(ge.direction===1?-1:1)*We;return g.viewLayout.getCurrentScrollTop()+de*g.cursorConfig.lineHeight}_runHorizontalEditorScroll(g,ge,We){const de=this._computeDesiredScrollLeft(g,We);g.viewLayout.setScrollPosition({scrollLeft:de},0)}_computeDesiredScrollLeft(g,ge){const We=(ge.direction===4?-1:1)*ge.value;return g.viewLayout.getCurrentScrollLeft()+We*g.cursorConfig.typicalHalfwidthCharacterWidth}}ne.EditorScrollImpl=Se,ne.EditorScroll=M.E_(new Se),ne.ScrollLineUp=M.E_(new class extends L{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(g,ge){ne.EditorScroll.runCoreEditorCommand(g,{to:f.RawDirection.Up,by:f.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:ge.source})}}),ne.ScrollPageUp=M.E_(new class extends L{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(g,ge){ne.EditorScroll.runCoreEditorCommand(g,{to:f.RawDirection.Up,by:f.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:ge.source})}}),ne.ScrollEditorTop=M.E_(new class extends L{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus}})}runCoreEditorCommand(g,ge){ne.EditorScroll.runCoreEditorCommand(g,{to:f.RawDirection.Up,by:f.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:ge.source})}}),ne.ScrollLineDown=M.E_(new class extends L{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(g,ge){ne.EditorScroll.runCoreEditorCommand(g,{to:f.RawDirection.Down,by:f.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:ge.source})}}),ne.ScrollPageDown=M.E_(new class extends L{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(g,ge){ne.EditorScroll.runCoreEditorCommand(g,{to:f.RawDirection.Down,by:f.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:ge.source})}}),ne.ScrollEditorBottom=M.E_(new class extends L{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus}})}runCoreEditorCommand(g,ge){ne.EditorScroll.runCoreEditorCommand(g,{to:f.RawDirection.Down,by:f.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:ge.source})}}),ne.ScrollLeft=M.E_(new class extends L{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus}})}runCoreEditorCommand(g,ge){ne.EditorScroll.runCoreEditorCommand(g,{to:f.RawDirection.Left,by:f.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:ge.source})}}),ne.ScrollRight=M.E_(new class extends L{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus}})}runCoreEditorCommand(g,ge){ne.EditorScroll.runCoreEditorCommand(g,{to:f.RawDirection.Right,by:f.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:ge.source})}});class Pe extends L{constructor(g){super(g),this._inSelectionMode=g.inSelectionMode}runCoreEditorCommand(g,ge){ge.position&&(g.model.pushStackElement(),g.setCursorStates(ge.source,3,[b.c.word(g,g.getPrimaryCursorState(),this._inSelectionMode,ge.position)]),ge.revealType!==2&&g.revealAllCursors(ge.source,!0,!0))}}ne.WordSelect=M.E_(new Pe({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),ne.WordSelectDrag=M.E_(new Pe({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),ne.LastCursorWordSelect=M.E_(new class extends L{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(g,ge){if(!ge.position)return;const We=g.getLastAddedCursorIndex(),de=g.getCursorStates(),be=de.slice(0),ae=de[We];be[We]=b.c.word(g,ae,ae.modelState.hasSelection(),ge.position),g.model.pushStackElement(),g.setCursorStates(ge.source,3,be)}});class Le extends L{constructor(g){super(g),this._inSelectionMode=g.inSelectionMode}runCoreEditorCommand(g,ge){ge.position&&(g.model.pushStackElement(),g.setCursorStates(ge.source,3,[b.c.line(g,g.getPrimaryCursorState(),this._inSelectionMode,ge.position,ge.viewPosition)]),ge.revealType!==2&&g.revealAllCursors(ge.source,!1,!0))}}ne.LineSelect=M.E_(new Le({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),ne.LineSelectDrag=M.E_(new Le({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Ve extends L{constructor(g){super(g),this._inSelectionMode=g.inSelectionMode}runCoreEditorCommand(g,ge){if(!ge.position)return;const We=g.getLastAddedCursorIndex(),de=g.getCursorStates(),be=de.slice(0);be[We]=b.c.line(g,de[We],this._inSelectionMode,ge.position,ge.viewPosition),g.model.pushStackElement(),g.setCursorStates(ge.source,3,be)}}ne.LastCursorLineSelect=M.E_(new Ve({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),ne.LastCursorLineSelectDrag=M.E_(new Ve({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),ne.CancelSelection=M.E_(new class extends L{constructor(){super({id:"cancelSelection",precondition:k.R.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(g,ge){g.model.pushStackElement(),g.setCursorStates(ge.source,3,[b.c.cancelSelection(g,g.getPrimaryCursorState())]),g.revealAllCursors(ge.source,!0)}}),ne.RemoveSecondaryCursors=M.E_(new class extends L{constructor(){super({id:"removeSecondaryCursors",precondition:k.R.hasMultipleSelections,kbOpts:{weight:1,kbExpr:k.R.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(g,ge){g.model.pushStackElement(),g.setCursorStates(ge.source,3,[g.getPrimaryCursorState()]),g.revealAllCursors(ge.source,!0),J.h5(s.kg("removedCursor","Removed secondary cursors"))}}),ne.RevealLine=M.E_(new class extends L{constructor(){super({id:"revealLine",precondition:void 0,metadata:p.metadata})}runCoreEditorCommand(g,ge){const We=ge,de=We.lineNumber||0;let be=typeof de=="number"?de+1:parseInt(de)+1;be<1&&(be=1);const ae=g.model.getLineCount();be>ae&&(be=ae);const O=new C.Q(be,1,be,g.model.getLineMaxColumn(be));let Ue=0;if(We.at)switch(We.at){case p.RawAtArgument.Top:Ue=3;break;case p.RawAtArgument.Center:Ue=1;break;case p.RawAtArgument.Bottom:Ue=4}const Ye=g.coordinatesConverter.convertModelRangeToViewRange(O);g.revealRange(ge.source,!1,Ye,Ue,0)}}),ne.SelectAll=new class extends W{constructor(){super(M.tc)}runDOMCommand(g){I.gm&&(g.focus(),g.select()),g.ownerDocument.execCommand("selectAll")}runEditorCommand(g,ge,We){const de=ge._getViewModel();de&&this.runCoreEditorCommand(de,We)}runCoreEditorCommand(g,ge){g.model.pushStackElement(),g.setCursorStates("keyboard",3,[b.c.selectAll(g,g.getPrimaryCursorState())])}},ne.SetSelection=M.E_(new class extends L{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(g,ge){ge.selection&&(g.model.pushStackElement(),g.setCursorStates(ge.source,3,[E.MF.fromModelSelection(ge.selection)]))}})})(_||(_={}));const B=R.M$.and(k.R.textInputFocus,k.R.columnSelection);function U(ne,H){P.f.registerKeybindingRule({id:ne,primary:H,when:B,weight:1})}function $(ne){return ne.register(),ne}var G;U(_.CursorColumnSelectLeft.id,1039),U(_.CursorColumnSelectRight.id,1041),U(_.CursorColumnSelectUp.id,1040),U(_.CursorColumnSelectPageUp.id,1035),U(_.CursorColumnSelectDown.id,1042),U(_.CursorColumnSelectPageDown.id,1036),function(ne){class H extends M.DX{runEditorCommand(V,Y,ve){const Te=Y._getViewModel();Te&&this.runCoreEditingCommand(Y,Te,ve||{})}}ne.CoreEditingCommand=H,ne.LineBreakInsert=M.E_(new class extends H{constructor(){super({id:"lineBreakInsert",precondition:k.R.writable,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(V,Y,ve){V.pushUndoStop(),V.executeCommands(this.id,te.AO.lineBreakInsert(Y.cursorConfig,Y.model,Y.getCursorStates().map((Te)=>Te.modelState.selection)))}}),ne.Outdent=M.E_(new class extends H{constructor(){super({id:"outdent",precondition:k.R.writable,kbOpts:{weight:0,kbExpr:R.M$.and(k.R.editorTextFocus,k.R.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(V,Y,ve){V.pushUndoStop(),V.executeCommands(this.id,x.T.outdent(Y.cursorConfig,Y.model,Y.getCursorStates().map((Te)=>Te.modelState.selection))),V.pushUndoStop()}}),ne.Tab=M.E_(new class extends H{constructor(){super({id:"tab",precondition:k.R.writable,kbOpts:{weight:0,kbExpr:R.M$.and(k.R.editorTextFocus,k.R.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(V,Y,ve){V.pushUndoStop(),V.executeCommands(this.id,x.T.tab(Y.cursorConfig,Y.model,Y.getCursorStates().map((Te)=>Te.modelState.selection))),V.pushUndoStop()}}),ne.DeleteLeft=M.E_(new class extends H{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(V,Y,ve){const[Te,xe]=m.g.deleteLeft(Y.getPrevEditOperationType(),Y.cursorConfig,Y.model,Y.getCursorStates().map((Be)=>Be.modelState.selection),Y.getCursorAutoClosedCharacters());Te&&V.pushUndoStop(),V.executeCommands(this.id,xe),Y.setPrevEditOperationType(2)}}),ne.DeleteRight=M.E_(new class extends H{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:k.R.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(V,Y,ve){const[Te,xe]=m.g.deleteRight(Y.getPrevEditOperationType(),Y.cursorConfig,Y.model,Y.getCursorStates().map((Be)=>Be.modelState.selection));Te&&V.pushUndoStop(),V.executeCommands(this.id,xe),Y.setPrevEditOperationType(3)}}),ne.Undo=new class extends W{constructor(){super(M.aU)}runDOMCommand(V){V.ownerDocument.execCommand("undo")}runEditorCommand(V,Y,ve){if(Y.hasModel()&&Y.getOption(92)!==!0)return Y.getModel().undo()}},ne.Redo=new class extends W{constructor(){super(M.ih)}runDOMCommand(V){V.ownerDocument.execCommand("redo")}runEditorCommand(V,Y,ve){if(Y.hasModel()&&Y.getOption(92)!==!0)return Y.getModel().redo()}}}(G||(G={}));class ie extends M.uB{constructor(ne,H,V){super({id:ne,precondition:void 0,metadata:V}),this._handlerId=H}runCommand(ne,H){const V=ne.get(v.T).getFocusedCodeEditor();V&&V.trigger("keyboard",this._handlerId,H)}}function ee(ne,H){$(new ie("default:"+ne,ne)),$(new ie(ne,ne,H))}ee("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),ee("replacePreviousChar"),ee("compositionType"),ee("compositionStart"),ee("compositionEnd"),ee("paste"),ee("cut")},6638:(dt,pe,h)=>{h.d(pe,{Np:()=>T,jA:()=>J,z9:()=>I});var s=h(2596);function I(M){return!(!M||typeof M.getEditorType!="function")&&M.getEditorType()===s._.ICodeEditor}function T(M){return!(!M||typeof M.getEditorType!="function")&&M.getEditorType()===s._.IDiffEditor}function J(M){return I(M)?M:T(M)?M.getModifiedEditor():function(v){return!!v&&typeof v=="object"&&typeof v.onDidChangeActiveEditor=="function"}(M)&&I(M.activeCodeEditor)?M.activeCodeEditor:null}},8574:(dt,pe,h)=>{h.d(pe,{$z:()=>m,BA:()=>x,DW:()=>b,Hh:()=>w,Qn:()=>k,dO:()=>_,i_:()=>p,nz:()=>E,wt:()=>f});var s=h(4333),I=h(176),T=h(9715),J=h(5958),M=h(998),v=h(559);class E{constructor(z,te){this.x=z,this.y=te,this._pageCoordinatesBrand=void 0}toClientCoordinates(z){return new w(this.x-z.scrollX,this.y-z.scrollY)}}class w{constructor(z,te){this.clientX=z,this.clientY=te,this._clientCoordinatesBrand=void 0}toPageCoordinates(z){return new E(this.clientX+z.scrollX,this.clientY+z.scrollY)}}class C{constructor(z,te,L,W){this.x=z,this.y=te,this.width=L,this.height=W,this._editorPagePositionBrand=void 0}}class d{constructor(z,te){this.x=z,this.y=te,this._positionRelativeToEditorBrand=void 0}}function f(z){const te=s.BK(z);return new C(te.left,te.top,te.width,te.height)}function p(z,te,L){const W=te.width/z.offsetWidth,B=te.height/z.offsetHeight,U=(L.x-te.x)/W,$=(L.y-te.y)/B;return new d(U,$)}class _ extends T.P{constructor(z,te,L){super(s.zk(L),z),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=te,this.pos=new E(this.posx,this.posy),this.editorPos=f(L),this.relativePos=p(L,this.editorPos,this.pos)}}class m{constructor(z){this._editorViewDomNode=z}_create(z){return new _(z,!1,this._editorViewDomNode)}onContextMenu(z,te){return s.ko(z,"contextmenu",(L)=>{te(this._create(L))})}onMouseUp(z,te){return s.ko(z,"mouseup",(L)=>{te(this._create(L))})}onMouseDown(z,te){return s.ko(z,s.Bx.MOUSE_DOWN,(L)=>{te(this._create(L))})}onPointerDown(z,te){return s.ko(z,s.Bx.POINTER_DOWN,(L)=>{te(this._create(L),L.pointerId)})}onMouseLeave(z,te){return s.ko(z,s.Bx.MOUSE_LEAVE,(L)=>{te(this._create(L))})}onMouseMove(z,te){return s.ko(z,"mousemove",(L)=>te(this._create(L)))}}class b{constructor(z){this._editorViewDomNode=z}_create(z){return new _(z,!1,this._editorViewDomNode)}onPointerUp(z,te){return s.ko(z,"pointerup",(L)=>{te(this._create(L))})}onPointerDown(z,te){return s.ko(z,s.Bx.POINTER_DOWN,(L)=>{te(this._create(L),L.pointerId)})}onPointerLeave(z,te){return s.ko(z,s.Bx.POINTER_LEAVE,(L)=>{te(this._create(L))})}onPointerMove(z,te){return s.ko(z,"pointermove",(L)=>te(this._create(L)))}}class x extends M.jG{constructor(z){super(),this._editorViewDomNode=z,this._globalPointerMoveMonitor=this._register(new I._),this._keydownListener=null}startMonitoring(z,te,L,W,B){this._keydownListener=s.b2(z.ownerDocument,"keydown",(U)=>{U.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,U.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(z,te,L,(U)=>{W(new _(U,!0,this._editorViewDomNode))},(U)=>{this._keydownListener.dispose(),B(U)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class k{static{this._idPool=0}constructor(z){this._editor=z,this._instanceId=++k._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new J.uC(()=>this.garbageCollect(),1000)}createClassNameRef(z){const te=this.getOrCreateRule(z);return te.increaseRefCount(),{className:te.className,dispose:()=>{te.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(z){const te=this.computeUniqueKey(z);let L=this._rules.get(te);if(!L){const W=this._counter++;L=new R(te,`dyn-rule-${this._instanceId}-${W}`,s.Cl(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,z),this._rules.set(te,L)}return L}computeUniqueKey(z){return JSON.stringify(z)}garbageCollect(){for(let z of this._rules.values())z.hasReferences()||(this._rules.delete(z.key),z.dispose())}}class R{constructor(z,te,L,W){this.key=z,this.className=te,this.properties=W,this._referenceCount=0,this._styleElementDisposables=new M.Cm,this._styleElement=s.li(L,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(z,te){let L=`.${z} {`;for(let W in te){const B=te[W];let U;U=typeof B=="object"?v.GuP(B.id):B,L+=`\n\t${P(W)}: ${U};`}return L+="\n}",L}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function P(z){return z.replace(/(^[A-Z])/,([te])=>te.toLowerCase()).replace(/([A-Z])/g,([te])=>`-${te.toLowerCase()}`)}},946:(dt,pe,h)=>{h.d(pe,{DX:()=>te,E_:()=>$,Fl:()=>G,HW:()=>ne,PF:()=>W,aU:()=>Y,dS:()=>s,fE:()=>P,gW:()=>ie,ih:()=>ve,ke:()=>U,ks:()=>L,qO:()=>B,tc:()=>Te,uB:()=>R,xX:()=>ee});var s,I=h(9746),T=h(7264),J=h(7301),M=h(5365),v=h(4830),E=h(7042),w=h(8067),C=h(2096),d=h(1540),f=h(2399),p=h(8421),_=h(7167),m=h(6243),b=h(9359),x=h(6441),k=h(4333);class R{constructor(xe){this.id=xe.id,this.precondition=xe.precondition,this._kbOpts=xe.kbOpts,this._menuOpts=xe.menuOpts,this.metadata=xe.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const xe=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(let Be of xe){let Ie=Be.kbExpr;this.precondition&&(Ie=Ie?d.M$.and(Ie,this.precondition):this.precondition);const he={id:this.id,weight:Be.weight,args:Be.args,when:Ie,primary:Be.primary,secondary:Be.secondary,win:Be.win,linux:Be.linux,mac:Be.mac};p.f.registerKeybindingRule(he)}}C.w.registerCommand({id:this.id,handler:(xe,Be)=>this.runCommand(xe,Be),metadata:this.metadata})}_registerMenuItem(xe){w.ZG.appendMenuItem(xe.menuId,{group:xe.group,command:{id:this.id,title:xe.title,icon:xe.icon,precondition:this.precondition},when:xe.when,order:xe.order})}}class P extends R{constructor(){super(...arguments),this._implementations=[]}addImplementation(xe,Be,Ie,he){return this._implementations.push({priority:xe,name:Be,implementation:Ie,when:he}),this._implementations.sort((Q,re)=>re.priority-Q.priority),{dispose:()=>{for(let Q=0;Q<this._implementations.length;Q++)if(this._implementations[Q].implementation===Ie)return void this._implementations.splice(Q,1)}}}runCommand(xe,Be){const Ie=xe.get(x.rr),he=xe.get(d.fN);Ie.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(let Q of this._implementations){if(Q.when){const Je=he.getContext(k.bq());if(!Q.when.evaluate(Je))continue}const re=Q.implementation(xe,Be);if(re){if(Ie.trace(`Command '${this.id}' was handled by '${Q.name}'.`),typeof re=="boolean")return;return re}}Ie.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class z extends R{constructor(xe,Be){super(Be),this.command=xe}runCommand(xe,Be){return this.command.runCommand(xe,Be)}}class te extends R{static bindToContribution(xe){return class extends te{constructor(Be){super(Be),this._callback=Be.handler}runEditorCommand(Be,Ie,he){const Q=xe(Ie);Q&&this._callback(Q,he)}}}static runEditorCommand(xe,Be,Ie,he){const Q=xe.get(J.T),re=Q.getFocusedCodeEditor()||Q.getActiveCodeEditor();if(re)return re.invokeWithinContext((Je)=>{if(Je.get(d.fN).contextMatchesRules(Ie??void 0))return he(Je,re,Be)})}runCommand(xe,Be){return te.runEditorCommand(xe,Be,this.precondition,(Ie,he,Q)=>this.runEditorCommand(Ie,he,Q))}}class L extends te{static convertOptions(xe){let Be;function Ie(he){return he.menuId||(he.menuId=w.D8.EditorContext),he.title||(he.title=xe.label),he.when=d.M$.and(xe.precondition,he.when),he}return Be=Array.isArray(xe.menuOpts)?xe.menuOpts:xe.menuOpts?[xe.menuOpts]:[],Array.isArray(xe.contextMenuOpts)?Be.push(...xe.contextMenuOpts.map(Ie)):xe.contextMenuOpts&&Be.push(Ie(xe.contextMenuOpts)),xe.menuOpts=Be,xe}constructor(xe){super(L.convertOptions(xe)),this.label=xe.label,this.alias=xe.alias}runEditorCommand(xe,Be,Ie){return this.reportTelemetry(xe,Be),this.run(xe,Be,Ie||{})}reportTelemetry(xe,Be){xe.get(m.k).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class W extends L{constructor(){super(...arguments),this._implementations=[]}addImplementation(xe,Be){return this._implementations.push([xe,Be]),this._implementations.sort((Ie,he)=>he[0]-Ie[0]),{dispose:()=>{for(let Ie=0;Ie<this._implementations.length;Ie++)if(this._implementations[Ie][1]===Be)return void this._implementations.splice(Ie,1)}}}run(xe,Be,Ie){for(let he of this._implementations){const Q=he[1](xe,Be,Ie);if(Q){if(typeof Q=="boolean")return;return Q}}}}class B extends w.L{run(xe,...Be){const Ie=xe.get(J.T),he=Ie.getFocusedCodeEditor()||Ie.getActiveCodeEditor();if(he)return he.invokeWithinContext((Q)=>{const re=Q.get(d.fN),Je=Q.get(x.rr);if(re.contextMatchesRules(this.desc.precondition??void 0))return this.runEditorCommand(Q,he,...Be);Je.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,this.desc.precondition?.serialize())})}}function U(xe,Be){C.w.registerCommand(xe,function(Ie,...he){const Q=Ie.get(f._Y),[re,Je]=he;b.j(T.r.isUri(re)),b.j(M.y.isIPosition(Je));const Se=Ie.get(v.IModelService).getModel(re);if(Se){const Pe=M.y.lift(Je);return Q.invokeFunction(Be,Se,Pe,...he.slice(2))}return Ie.get(E.ITextModelService).createModelReference(re).then((Pe)=>new Promise((Le,Ve)=>{try{Le(Q.invokeFunction(Be,Pe.object.textEditorModel,M.y.lift(Je),he.slice(2)))}catch(g){Ve(g)}}).finally(()=>{Pe.dispose()}))})}function $(xe){return H.INSTANCE.registerEditorCommand(xe),xe}function G(xe){const Be=new xe;return H.INSTANCE.registerEditorAction(Be),Be}function ie(xe){return H.INSTANCE.registerEditorAction(xe),xe}function ee(xe){H.INSTANCE.registerEditorAction(xe)}function ne(xe,Be,Ie){H.INSTANCE.registerEditorContribution(xe,Be,Ie)}(function(xe){xe.getEditorCommand=function(Be){return H.INSTANCE.getEditorCommand(Be)},xe.getEditorActions=function(){return H.INSTANCE.getEditorActions()},xe.getEditorContributions=function(){return H.INSTANCE.getEditorContributions()},xe.getSomeEditorContributions=function(Be){return H.INSTANCE.getEditorContributions().filter((Ie)=>Be.indexOf(Ie.id)>=0)},xe.getDiffEditorContributions=function(){return H.INSTANCE.getDiffEditorContributions()}})(s||(s={}));class H{static{this.INSTANCE=new H}constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(xe,Be,Ie){this.editorContributions.push({id:xe,ctor:Be,instantiation:Ie})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(xe){xe.register(),this.editorActions.push(xe)}getEditorActions(){return this.editorActions}registerEditorCommand(xe){xe.register(),this.editorCommands[xe.id]=xe}getEditorCommand(xe){return this.editorCommands[xe]||null}}function V(xe){return xe.register(),xe}_.O.add("editor.contributions",H.INSTANCE);const Y=V(new P({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:w.D8.MenubarEditMenu,group:"1_do",title:I.kg({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:w.D8.CommandPalette,group:"",title:I.kg("undo","Undo"),order:1}]}));V(new z(Y,{id:"default:undo",precondition:void 0}));const ve=V(new P({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:w.D8.MenubarEditMenu,group:"1_do",title:I.kg({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:w.D8.CommandPalette,group:"",title:I.kg("redo","Redo"),order:1}]}));V(new z(ve,{id:"default:redo",precondition:void 0}));const Te=V(new P({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:w.D8.MenubarSelectionMenu,group:"1_basic",title:I.kg({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:w.D8.CommandPalette,group:"",title:I.kg("selectAll","Select All"),order:1}]}))},1988:(dt,pe,h)=>{h.d(pe,{Qg:()=>d,Ud:()=>E,jD:()=>C});var s=h(8897),I=h(998),T=h(6311),J=h(4442),M=h(8366),v=h(3702);function E(f){return w.get(f)}class w extends I.jG{static{this._map=new Map}static get(f){let p=w._map.get(f);if(!p){p=new w(f),w._map.set(f,p);const _=f.onDidDispose(()=>{const m=w._map.get(f);m&&(w._map.delete(f),m.dispose(),_.dispose())})}return p}_beginUpdate(){this._updateCounter++,this._updateCounter===1&&(this._currentTransaction=new J.XL(()=>{}))}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){const f=this._currentTransaction;this._currentTransaction=void 0,f.finish()}}constructor(f){super(),this.editor=f,this._updateCounter=0,this._currentTransaction=void 0,this._model=T.FY(this,this.editor.getModel()),this.model=this._model,this.isReadonly=T.y0(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(92)),this._versionId=T.Zh({owner:this,lazy:!0},this.editor.getModel()?.getVersionId()??null),this.versionId=this._versionId,this._selections=T.Zh({owner:this,equalsFn:s.KC(s.S3(v.L.selectionsEqual)),lazy:!0},this.editor.getSelections()??null),this.selections=this._selections,this.isFocused=T.y0(this,(p)=>{const _=this.editor.onDidFocusEditorWidget(p),m=this.editor.onDidBlurEditorWidget(p);return{dispose(){_.dispose(),m.dispose()}}},()=>this.editor.hasWidgetFocus()),this.value=M.dQ(this,(p)=>(this.versionId.read(p),this.model.read(p)?.getValue()??""),(p,_)=>{const m=this.model.get();m!==null&&p!==m.getValue()&&m.setValue(p)}),this.valueIsEmpty=T.un(this,(p)=>(this.versionId.read(p),this.editor.getModel()?.getValueLength()===0)),this.cursorSelection=T.C({owner:this,equalsFn:s.KC(v.L.selectionsEqual)},(p)=>this.selections.read(p)?.[0]??null),this.onDidType=T.Yd(this),this.scrollTop=T.y0(this.editor.onDidScrollChange,()=>this.editor.getScrollTop()),this.scrollLeft=T.y0(this.editor.onDidScrollChange,()=>this.editor.getScrollLeft()),this.layoutInfo=T.y0(this.editor.onDidLayoutChange,()=>this.editor.getLayoutInfo()),this.layoutInfoContentLeft=this.layoutInfo.map((p)=>p.contentLeft),this.layoutInfoDecorationsLeft=this.layoutInfo.map((p)=>p.decorationsLeft),this.contentWidth=T.y0(this.editor.onDidContentSizeChange,()=>this.editor.getContentWidth()),this._overlayWidgetCounter=0,this._register(this.editor.onBeginUpdate(()=>this._beginUpdate())),this._register(this.editor.onEndUpdate(()=>this._endUpdate())),this._register(this.editor.onDidChangeModel(()=>{this._beginUpdate();try{this._model.set(this.editor.getModel(),this._currentTransaction),this._forceUpdate()}finally{this._endUpdate()}})),this._register(this.editor.onDidType((p)=>{this._beginUpdate();try{this._forceUpdate(),this.onDidType.trigger(this._currentTransaction,p)}finally{this._endUpdate()}})),this._register(this.editor.onDidChangeModelContent((p)=>{this._beginUpdate();try{this._versionId.set(this.editor.getModel()?.getVersionId()??null,this._currentTransaction,p),this._forceUpdate()}finally{this._endUpdate()}})),this._register(this.editor.onDidChangeCursorSelection((p)=>{this._beginUpdate();try{this._selections.set(this.editor.getSelections(),this._currentTransaction,p),this._forceUpdate()}finally{this._endUpdate()}}))}forceUpdate(f){this._beginUpdate();try{if(this._forceUpdate(),!f)return;return f(this._currentTransaction)}finally{this._endUpdate()}}_forceUpdate(){this._beginUpdate();try{this._model.set(this.editor.getModel(),this._currentTransaction),this._versionId.set(this.editor.getModel()?.getVersionId()??null,this._currentTransaction,void 0),this._selections.set(this.editor.getSelections(),this._currentTransaction,void 0)}finally{this._endUpdate()}}getOption(f){return T.y0(this,(p)=>this.editor.onDidChangeConfiguration((_)=>{_.hasChanged(f)&&p(void 0)}),()=>this.editor.getOption(f))}setDecorations(f){const p=new I.Cm,_=this.editor.createDecorationsCollection();return p.add(T.zL({owner:this,debugName:()=>`Apply decorations from ${f.debugName}`},(m)=>{const b=f.read(m);_.set(b)})),p.add({dispose:()=>{_.clear()}}),p}createOverlayWidget(f){const p="observableOverlayWidget"+this._overlayWidgetCounter++,_={getDomNode:()=>f.domNode,getPosition:()=>f.position.get(),getId:()=>p,allowEditorOverflow:f.allowEditorOverflow,getMinContentWidthInPx:()=>f.minContentWidthInPx.get()};this.editor.addOverlayWidget(_);const m=T.fm((b)=>{f.position.read(b),f.minContentWidthInPx.read(b),this.editor.layoutOverlayWidget(_)});return I.s(()=>{m.dispose(),this.editor.removeOverlayWidget(_)})}}function C(f,p){return T.ht({createEmptyChangeSummary:()=>({deltas:[],didChange:!1}),handleChange:(_,m)=>{if(_.didChange(f)){const b=_.change;b!==void 0&&m.deltas.push(b),m.didChange=!0}return!0}},(_,m)=>{const b=f.read(_);m.didChange&&p(b,m.deltas)})}function d(f,p){const _=new I.Cm,m=C(f,(b,x)=>{_.clear(),p(b,x,_)});return{dispose(){m.dispose(),_.dispose()}}}},8769:(dt,pe,h)=>{h.d(pe,{cw:()=>v,jN:()=>M,nu:()=>J});var s=h(2399),I=h(7264),T=h(9359);const J=s.u1("IWorkspaceEditService");class M{constructor(w){this.metadata=w}static convert(w){return w.edits.map((C)=>{if(v.is(C))return v.lift(C);if(E.is(C))return E.lift(C);throw new Error("Unsupported edit")})}}class v extends M{static is(w){return w instanceof v||T.Gv(w)&&I.r.isUri(w.resource)&&T.Gv(w.textEdit)}static lift(w){return w instanceof v?w:new v(w.resource,w.textEdit,w.versionId,w.metadata)}constructor(w,C,d=void 0,f){super(f),this.resource=w,this.textEdit=C,this.versionId=d}}class E extends M{static is(w){return w instanceof E||T.Gv(w)&&(Boolean(w.newResource)||Boolean(w.oldResource))}static lift(w){return w instanceof E?w:new E(w.oldResource,w.newResource,w.options,w.metadata)}constructor(w,C,d={},f){super(f),this.oldResource=w,this.newResource=C,this.options=d}}},7301:(dt,pe,h)=>{h.d(pe,{T:()=>s});const s=h(2399).u1("codeEditorService")},878:(dt,pe,h)=>{h.d(pe,{D:()=>s});class s{static capture(I){if(I.getScrollTop()===0||I.hasPendingScrollAnimation())return new s(I.getScrollTop(),I.getContentHeight(),null,0,null);let T=null,J=0;const M=I.getVisibleRanges();if(M.length>0){T=M[0].getStartPosition();const v=I.getTopForPosition(T.lineNumber,T.column);J=I.getScrollTop()-v}return new s(I.getScrollTop(),I.getContentHeight(),T,J,I.getPosition())}constructor(I,T,J,M,v){this._initialScrollTop=I,this._initialContentHeight=T,this._visiblePosition=J,this._visiblePositionScrollDelta=M,this._cursorPosition=v}restore(I){if((this._initialContentHeight!==I.getContentHeight()||this._initialScrollTop!==I.getScrollTop())&&this._visiblePosition){const T=I.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);I.setScrollTop(T+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(I){if(this._initialContentHeight===I.getContentHeight()&&this._initialScrollTop===I.getScrollTop())return;const T=I.getPosition();if(!this._cursorPosition||!T)return;const J=I.getTopForLineNumber(T.lineNumber)-I.getTopForLineNumber(this._cursorPosition.lineNumber);I.setScrollTop(I.getScrollTop()+J,1)}}},8664:(dt,pe,h)=>{h.d(pe,{BG:()=>T,IO:()=>M,Y:()=>J,eh:()=>I,pj:()=>E,qN:()=>v});class s{constructor(w,C){this._restrictedRenderingContextBrand=void 0,this._viewLayout=w,this.viewportData=C,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const d=this._viewLayout.getCurrentViewport();this.scrollTop=d.top,this.scrollLeft=d.left,this.viewportWidth=d.width,this.viewportHeight=d.height}getScrolledTopFromAbsoluteTop(w){return w-this.scrollTop}getVerticalOffsetForLineNumber(w,C){return this._viewLayout.getVerticalOffsetForLineNumber(w,C)}getVerticalOffsetAfterLineNumber(w,C){return this._viewLayout.getVerticalOffsetAfterLineNumber(w,C)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class I extends s{constructor(w,C,d){super(w,C),this._renderingContextBrand=void 0,this._viewLines=d}linesVisibleRangesForRange(w,C){return this._viewLines.linesVisibleRangesForRange(w,C)}visibleRangeForPosition(w){return this._viewLines.visibleRangeForPosition(w)}}class T{constructor(w,C,d,f){this.outsideRenderedLine=w,this.lineNumber=C,this.ranges=d,this.continuesOnNextLine=f}}class J{static from(w){const C=new Array(w.length);for(let d=0,f=w.length;d<f;d++){const p=w[d];C[d]=new J(p.left,p.width)}return C}constructor(w,C){this._horizontalRangeBrand=void 0,this.left=Math.round(w),this.width=Math.round(C)}toString(){return`[${this.left},${this.width}]`}}class M{constructor(w,C){this._floatHorizontalRangeBrand=void 0,this.left=w,this.width=C}toString(){return`[${this.left},${this.width}]`}static compare(w,C){return w.left-C.left}}class v{constructor(w,C){this.outsideRenderedLine=w,this.originalLeft=C,this.left=Math.round(this.originalLeft)}}class E{constructor(w,C){this.outsideRenderedLine=w,this.ranges=C}}},7345:(dt,pe,h)=>{h.d(pe,{Gb:()=>_,Ax:()=>p,rk:()=>R});var s=h(5893),I=h(5043),T=h(3339),J=h(8664);class M{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(P,z){P.selectNodeContents(z)}static _readClientRects(P,z,te,L,W){const B=this._createRange();try{return B.setStart(P,z),B.setEnd(te,L),B.getClientRects()}catch(U){return null}finally{this._detachRange(B,W)}}static _mergeAdjacentRanges(P){if(P.length===1)return P;P.sort(J.IO.compare);const z=[];let te=0,L=P[0];for(let W=1,B=P.length;W<B;W++){const U=P[W];L.left+L.width+0.9>=U.left?L.width=Math.max(L.width,U.left+U.width-L.left):(z[te++]=L,L=U)}return z[te++]=L,z}static _createHorizontalRangesFromClientRects(P,z,te){if(!P||P.length===0)return null;const L=[];for(let W=0,B=P.length;W<B;W++){const U=P[W];L[W]=new J.IO(Math.max(0,(U.left-z)/te),U.width/te)}return this._mergeAdjacentRanges(L)}static readHorizontalRanges(P,z,te,L,W,B){const U=P.children.length-1;if(0>U)return null;if((z=Math.min(U,Math.max(0,z)))===(L=Math.min(U,Math.max(0,L)))&&te===W&&te===0&&!P.children[z].firstChild){const ee=P.children[z].getClientRects();return B.markDidDomLayout(),this._createHorizontalRangesFromClientRects(ee,B.clientRectDeltaLeft,B.clientRectScale)}z!==L&&L>0&&W===0&&(L--,W=1073741824);let $=P.children[z].firstChild,G=P.children[L].firstChild;if($&&G||(!$&&te===0&&z>0&&($=P.children[z-1].firstChild,te=1073741824),!G&&W===0&&L>0&&(G=P.children[L-1].firstChild,W=1073741824)),!$||!G)return null;te=Math.min($.textContent.length,Math.max(0,te)),W=Math.min(G.textContent.length,Math.max(0,W));const ie=this._readClientRects($,te,G,W,B.endNode);return B.markDidDomLayout(),this._createHorizontalRangesFromClientRects(ie,B.clientRectDeltaLeft,B.clientRectScale)}}var v=h(5561),E=h(9723),w=h(9563),C=h(6476);const d=!!T.ib||!(T.j9||s.gm||s.nr);let f=!0;class p{constructor(P,z){this.themeType=z;const te=P.options,L=te.get(50),W=te.get(38);this.renderWhitespace=W==="off"?te.get(100):"none",this.renderControlCharacters=te.get(95),this.spaceWidth=L.spaceWidth,this.middotWidth=L.middotWidth,this.wsmiddotWidth=L.wsmiddotWidth,this.useMonospaceOptimizations=L.isMonospace&&!te.get(33),this.canUseHalfwidthRightwardsArrow=L.canUseHalfwidthRightwardsArrow,this.lineHeight=te.get(67),this.stopRenderingLineAfter=te.get(118),this.fontLigatures=te.get(51)}equals(P){return this.themeType===P.themeType&&this.renderWhitespace===P.renderWhitespace&&this.renderControlCharacters===P.renderControlCharacters&&this.spaceWidth===P.spaceWidth&&this.middotWidth===P.middotWidth&&this.wsmiddotWidth===P.wsmiddotWidth&&this.useMonospaceOptimizations===P.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===P.canUseHalfwidthRightwardsArrow&&this.lineHeight===P.lineHeight&&this.stopRenderingLineAfter===P.stopRenderingLineAfter&&this.fontLigatures===P.fontLigatures}}class _{static{this.CLASS_NAME="view-line"}constructor(P){this._options=P,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(P){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=I.Z(P)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(P){this._isMaybeInvalid=!0,this._options=P}onSelectionChanged(){return!(!w.Bb(this._options.themeType)&&this._options.renderWhitespace!=="selection"||(this._isMaybeInvalid=!0,0))}renderLine(P,z,te,L,W){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const B=L.getViewLineRenderingData(P),U=this._options,$=v.d.filter(B.inlineDecorations,P,B.minColumn,B.maxColumn);let G=null;if(w.Bb(U.themeType)||this._options.renderWhitespace==="selection"){const H=L.selections;for(let V of H){if(V.endLineNumber<P||V.startLineNumber>P)continue;const Y=V.startLineNumber===P?V.startColumn:B.minColumn,ve=V.endLineNumber===P?V.endColumn:B.maxColumn;Y<ve&&(w.Bb(U.themeType)&&$.push(new v.d(Y,ve,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(G||(G=[]),G.push(new E.MT(Y-1,ve-1))))}}const ie=new E.zL(U.useMonospaceOptimizations,U.canUseHalfwidthRightwardsArrow,B.content,B.continuesWithWrappedLine,B.isBasicASCII,B.containsRTL,B.minColumn-1,B.tokens,$,B.tabSize,B.startVisibleColumn,U.spaceWidth,U.middotWidth,U.wsmiddotWidth,U.stopRenderingLineAfter,U.renderWhitespace,U.renderControlCharacters,U.fontLigatures!==C.Bc.OFF,G);if(this._renderedViewLine&&this._renderedViewLine.input.equals(ie))return!1;W.appendString('<div style="top:'),W.appendString(String(z)),W.appendString("px;height:"),W.appendString(String(te)),W.appendString('px;" class="'),W.appendString(_.CLASS_NAME),W.appendString('">');const ee=E.UW(ie,W);W.appendString("</div>");let ne=null;return f&&d&&B.isBasicASCII&&U.useMonospaceOptimizations&&ee.containsForeignElements===0&&(ne=new m(this._renderedViewLine?this._renderedViewLine.domNode:null,ie,ee.characterMapping)),ne||(ne=k(this._renderedViewLine?this._renderedViewLine.domNode:null,ie,ee.characterMapping,ee.containsRTL,ee.containsForeignElements)),this._renderedViewLine=ne,!0}layoutLine(P,z,te){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(z),this._renderedViewLine.domNode.setHeight(te))}getWidth(P){return this._renderedViewLine?this._renderedViewLine.getWidth(P):0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof m}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof m?this._renderedViewLine.monospaceAssumptionsAreValid():f}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof m&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(P,z,te,L){if(!this._renderedViewLine)return null;z=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,z)),te=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,te));const W=this._renderedViewLine.input.stopRenderingLineAfter;if(W!==-1&&z>W+1&&te>W+1)return new J.pj(!0,[new J.IO(this.getWidth(L),0)]);W!==-1&&z>W+1&&(z=W+1),W!==-1&&te>W+1&&(te=W+1);const B=this._renderedViewLine.getVisibleRangesForRange(P,z,te,L);return B&&B.length>0?new J.pj(!1,B):null}getColumnOfNodeOffset(P,z){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(P,z):1}}class m{constructor(P,z,te){this._cachedWidth=-1,this.domNode=P,this.input=z;const L=Math.floor(z.lineContent.length/300);if(L>0){this._keyColumnPixelOffsetCache=new Float32Array(L);for(let W=0;W<L;W++)this._keyColumnPixelOffsetCache[W]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=te,this._charWidth=z.spaceWidth}getWidth(P){if(!this.domNode||this.input.lineContent.length<300){const z=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*z)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,P?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return f;if(this.input.lineContent.length<300){const P=this.getWidth(null),z=this.domNode.domNode.firstChild.offsetWidth;Math.abs(P-z)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),f=!1)}return f}toSlowRenderedLine(){return k(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(P,z,te,L){const W=this._getColumnPixelOffset(P,z,L),B=this._getColumnPixelOffset(P,te,L);return[new J.IO(W,B-W)]}_getColumnPixelOffset(P,z,te){if(z<=300){const G=this._characterMapping.getHorizontalOffset(z);return this._charWidth*G}const L=Math.floor((z-1)/300)-1,W=300*(L+1)+1;let B=-1;if(this._keyColumnPixelOffsetCache&&(B=this._keyColumnPixelOffsetCache[L],B===-1&&(B=this._actualReadPixelOffset(P,W,te),this._keyColumnPixelOffsetCache[L]=B)),B===-1){const G=this._characterMapping.getHorizontalOffset(z);return this._charWidth*G}const U=this._characterMapping.getHorizontalOffset(W),$=this._characterMapping.getHorizontalOffset(z);return B+this._charWidth*($-U)}_getReadingTarget(P){return P.domNode.firstChild}_actualReadPixelOffset(P,z,te){if(!this.domNode)return-1;const L=this._characterMapping.getDomPosition(z),W=M.readHorizontalRanges(this._getReadingTarget(this.domNode),L.partIndex,L.charIndex,L.partIndex,L.charIndex,te);return W&&W.length!==0?W[0].left:-1}getColumnOfNodeOffset(P,z){return R(this._characterMapping,P,z)}}class b{constructor(P,z,te,L,W){if(this.domNode=P,this.input=z,this._characterMapping=te,this._isWhitespaceOnly=/^\s*$/.test(z.lineContent),this._containsForeignElements=W,this._cachedWidth=-1,this._pixelOffsetCache=null,!L||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let B=0,U=this._characterMapping.length;B<=U;B++)this._pixelOffsetCache[B]=-1}}_getReadingTarget(P){return P.domNode.firstChild}getWidth(P){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,P?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(P,z,te,L){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const W=this._readPixelOffset(this.domNode,P,z,L);if(W===-1)return null;const B=this._readPixelOffset(this.domNode,P,te,L);return B===-1?null:[new J.IO(W,B-W)]}return this._readVisibleRangesForRange(this.domNode,P,z,te,L)}_readVisibleRangesForRange(P,z,te,L,W){if(te===L){const B=this._readPixelOffset(P,z,te,W);return B===-1?null:[new J.IO(B,0)]}return this._readRawVisibleRangesForRange(P,te,L,W)}_readPixelOffset(P,z,te,L){if(this._characterMapping.length===0){if(this._containsForeignElements===0)return 0;if(this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(L);const W=this._getReadingTarget(P);return W.firstChild?(L.markDidDomLayout(),W.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const W=this._pixelOffsetCache[te];if(W!==-1)return W;const B=this._actualReadPixelOffset(P,z,te,L);return this._pixelOffsetCache[te]=B,B}return this._actualReadPixelOffset(P,z,te,L)}_actualReadPixelOffset(P,z,te,L){if(this._characterMapping.length===0){const $=M.readHorizontalRanges(this._getReadingTarget(P),0,0,0,0,L);return $&&$.length!==0?$[0].left:-1}if(te===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(L);const W=this._characterMapping.getDomPosition(te),B=M.readHorizontalRanges(this._getReadingTarget(P),W.partIndex,W.charIndex,W.partIndex,W.charIndex,L);if(!B||B.length===0)return-1;const U=B[0].left;if(this.input.isBasicASCII){const $=this._characterMapping.getHorizontalOffset(te),G=Math.round(this.input.spaceWidth*$);if(Math.abs(G-U)<=1)return G}return U}_readRawVisibleRangesForRange(P,z,te,L){if(z===1&&te===this._characterMapping.length)return[new J.IO(0,this.getWidth(L))];const W=this._characterMapping.getDomPosition(z),B=this._characterMapping.getDomPosition(te);return M.readHorizontalRanges(this._getReadingTarget(P),W.partIndex,W.charIndex,B.partIndex,B.charIndex,L)}getColumnOfNodeOffset(P,z){return R(this._characterMapping,P,z)}}class x extends b{_readVisibleRangesForRange(P,z,te,L,W){const B=super._readVisibleRangesForRange(P,z,te,L,W);if(!B||B.length===0||te===L||te===1&&L===this._characterMapping.length)return B;if(!this.input.containsRTL){const U=this._readPixelOffset(P,z,L,W);if(U!==-1){const $=B[B.length-1];$.left<U&&($.width=U-$.left)}}return B}}const k=s.Tc?function(P,z,te,L,W){return new x(P,z,te,L,W)}:function(P,z,te,L,W){return new b(P,z,te,L,W)};function R(P,z,te){const L=z.textContent.length;let W=-1;for(;z;)z=z.previousSibling,W++;return P.getColumn(new E.wZ(W,te),L)}},9783:(dt,pe,h)=>{h.d(pe,{x:()=>Fa});var s=h(886),I=h(946);let T=class{static{this.ID="editor.contrib.markerDecorations"}constructor(i,c){}dispose(){}};var J,M;T=function(i,c,y,D){var X,ce=arguments.length,me=ce<3?c:D===null?D=Object.getOwnPropertyDescriptor(c,y):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(i,c,y,D);else for(var Ze=i.length-1;Ze>=0;Ze--)(X=i[Ze])&&(me=(ce<3?X(me):ce>3?X(c,y,me):X(c,y))||me);return ce>3&&me&&Object.defineProperty(c,y,me),me}([(J=1,M=s.IMarkerDecorationsService,function(i,c){M(i,c,J)})],T),I.HW(T.ID,T,0);var v=h(4333),E=h(4327),w=h(2106),C=h(998),d=h(3072),f=h(5837),p=h(5893),_=h(3338),m=h(1386),b=h(3339),x=h(5711),k=h(1106);class R{static{this.items=[]}constructor(i,c){this.key=i,this.migrate=c}apply(i){const c=R._read(i,this.key);this.migrate(c,(y)=>R._read(i,y),(y,D)=>R._write(i,y,D))}static _read(i,c){if(i===void 0)return;const y=c.indexOf(".");if(y>=0){const D=c.substring(0,y);return this._read(i[D],c.substring(y+1))}return i[c]}static _write(i,c,y){const D=c.indexOf(".");if(D>=0){const X=c.substring(0,D);return i[X]=i[X]||{},void this._write(i[X],c.substring(D+1),y)}i[c]=y}}function P(i,c){R.items.push(new R(i,c))}function z(i,c){P(i,(y,D,X)=>{if(y!==void 0){for(let[ce,me]of c)if(y===ce)return void X(i,me)}})}z("wordWrap",[[!0,"on"],[!1,"off"]]),z("lineNumbers",[[!0,"on"],[!1,"off"]]),z("cursorBlinking",[["visible","solid"]]),z("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),z("renderLineHighlight",[[!0,"line"],[!1,"none"]]),z("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),z("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),z("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),z("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),z("autoIndent",[[!1,"advanced"],[!0,"full"]]),z("matchBrackets",[[!0,"always"],[!1,"never"]]),z("renderFinalNewline",[[!0,"on"],[!1,"off"]]),z("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),z("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),z("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),P("autoClosingBrackets",(i,c,y)=>{i===!1&&(y("autoClosingBrackets","never"),c("autoClosingQuotes")===void 0&&y("autoClosingQuotes","never"),c("autoSurround")===void 0&&y("autoSurround","never"))}),P("renderIndentGuides",(i,c,y)=>{i!==void 0&&(y("renderIndentGuides",void 0),c("guides.indentation")===void 0&&y("guides.indentation",!!i))}),P("highlightActiveIndentGuide",(i,c,y)=>{i!==void 0&&(y("highlightActiveIndentGuide",void 0),c("guides.highlightActiveIndentation")===void 0&&y("guides.highlightActiveIndentation",!!i))});const te={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};P("suggest.filteredTypes",(i,c,y)=>{if(i&&typeof i=="object"){for(let D of Object.entries(te))i[D[0]]===!1&&c(`suggest.${D[1]}`)===void 0&&y(`suggest.${D[1]}`,!1);y("suggest.filteredTypes",void 0)}}),P("quickSuggestions",(i,c,y)=>{if(typeof i=="boolean"){const D=i?"on":"off";y("quickSuggestions",{comments:D,strings:D,other:D})}}),P("experimental.stickyScroll.enabled",(i,c,y)=>{typeof i=="boolean"&&(y("experimental.stickyScroll.enabled",void 0),c("stickyScroll.enabled")===void 0&&y("stickyScroll.enabled",i))}),P("experimental.stickyScroll.maxLineCount",(i,c,y)=>{typeof i=="number"&&(y("experimental.stickyScroll.maxLineCount",void 0),c("stickyScroll.maxLineCount")===void 0&&y("stickyScroll.maxLineCount",i))}),P("codeActionsOnSave",(i,c,y)=>{if(i&&typeof i=="object"){let D=!1;const X={};for(let ce of Object.entries(i))typeof ce[1]=="boolean"?(D=!0,X[ce[0]]=ce[1]?"explicit":"never"):X[ce[0]]=ce[1];D&&y("codeActionsOnSave",X)}}),P("codeActionWidget.includeNearbyQuickfixes",(i,c,y)=>{typeof i=="boolean"&&(y("codeActionWidget.includeNearbyQuickfixes",void 0),c("codeActionWidget.includeNearbyQuickFixes")===void 0&&y("codeActionWidget.includeNearbyQuickFixes",i))}),P("lightbulb.enabled",(i,c,y)=>{typeof i=="boolean"&&y("lightbulb.enabled",i?void 0:"off")});var L=h(5155),W=h(6476),B=h(4587),U=h(8060),$=h(3909),G=h(4770);let ie=class extends C.jG{constructor(i,c,y,D,X){super(),this._accessibilityService=X,this._onDidChange=this._register(new w.vl),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new w.vl),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new W.n0,this.isSimpleWidget=i,this.contextMenuId=c,this._containerObserver=this._register(new x.u(D,y.dimension)),this._targetWindowId=v.zk(D).vscodeWindowId,this._rawOptions=Y(y),this._validatedOptions=V.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(B.D.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(L.M.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(k.T.onDidChange(()=>this._recomputeOptions())),this._register(G.c.getInstance(v.zk(D)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const i=this._computeOptions(),c=V.checkEquals(this.options,i);c!==null&&(this.options=i,this._onDidChangeFast.fire(c),this._onDidChange.fire(c))}_computeOptions(){const i=this._readEnvConfiguration(),c=U._8.createFromValidatedSettings(this._validatedOptions,i.pixelRatio,this.isSimpleWidget),y=this._readFontInfo(c),D={memory:this._computeOptionsMemory,outerWidth:i.outerWidth,outerHeight:i.outerHeight-this._reservedHeight,fontInfo:y,extraEditorClassName:i.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:i.emptySelectionClipboard,pixelRatio:i.pixelRatio,tabFocusMode:L.M.getTabFocusMode(),accessibilitySupport:i.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return V.computeOptions(this._validatedOptions,D)}_readEnvConfiguration(){return{extraEditorClassName:ee(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:p.Tc||p.gm,pixelRatio:G.c.getInstance(v.ZF(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(i){return k.T.readFontInfo(v.ZF(this._targetWindowId,!0).window,i)}getRawOptions(){return this._rawOptions}updateOptions(i){const c=Y(i);V.applyUpdate(this._rawOptions,c)&&(this._validatedOptions=V.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(i){this._containerObserver.observe(i)}setIsDominatedByLongLines(i){this._isDominatedByLongLines!==i&&(this._isDominatedByLongLines=i,this._recomputeOptions())}setModelLineCount(i){const c=function(y){let D=0;for(;y;)y=Math.floor(y/10),D++;return D||1}(i);this._lineNumbersDigitCount!==c&&(this._lineNumbersDigitCount=c,this._recomputeOptions())}setViewLineCount(i){this._viewLineCount!==i&&(this._viewLineCount=i,this._recomputeOptions())}setReservedHeight(i){this._reservedHeight!==i&&(this._reservedHeight=i,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(i){this._glyphMarginDecorationLaneCount!==i&&(this._glyphMarginDecorationLaneCount=i,this._recomputeOptions())}};function ee(){let i="";return p.nr||p.c8||(i+="no-user-select "),p.nr&&(i+="no-minimap-shadow ",i+="enable-user-select "),b.zx&&(i+="mac "),i}ie=function(i,c,y,D){var X,ce=arguments.length,me=ce<3?c:D===null?D=Object.getOwnPropertyDescriptor(c,y):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(i,c,y,D);else for(var Ze=i.length-1;Ze>=0;Ze--)(X=i[Ze])&&(me=(ce<3?X(me):ce>3?X(c,y,me):X(c,y))||me);return ce>3&&me&&Object.defineProperty(c,y,me),me}([function(i,c){return function(y,D){c(y,D,i)}}(4,$.j)],ie);class ne{constructor(){this._values=[]}_read(i){return this._values[i]}get(i){return this._values[i]}_write(i,c){this._values[i]=c}}class H{constructor(){this._values=[]}_read(i){if(i>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[i]}get(i){return this._read(i)}_write(i,c){this._values[i]=c}}class V{static validateOptions(i){const c=new ne;for(let y of W.BE){const D=y.name==="_never_"?void 0:i[y.name];c._write(y.id,y.validate(D))}return c}static computeOptions(i,c){const y=new H;for(let D of W.BE)y._write(D.id,D.compute(c,y,i._read(D.id)));return y}static _deepEquals(i,c){if(typeof i!="object"||typeof c!="object"||!i||!c)return i===c;if(Array.isArray(i)||Array.isArray(c))return!(!Array.isArray(i)||!Array.isArray(c))&&_.aI(i,c);if(Object.keys(i).length!==Object.keys(c).length)return!1;for(let y in i)if(!V._deepEquals(i[y],c[y]))return!1;return!0}static checkEquals(i,c){const y=[];let D=!1;for(let X of W.BE){const ce=!V._deepEquals(i._read(X.id),c._read(X.id));y[X.id]=ce,ce&&(D=!0)}return D?new W.lw(y):null}static applyUpdate(i,c){let y=!1;for(let D of W.BE)if(c.hasOwnProperty(D.name)){const X=D.applyUpdate(i[D.name],c[D.name]);i[D.name]=X.newValue,y=y||X.didChange}return y}}function Y(i){const c=m.Go(i);return function(y){R.items.forEach((D)=>D.apply(y))}(c),c}var ve=h(7301),Te=h(5043),xe=h(2863),Be=h(8574);class Ie extends C.jG{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(i){return!1}onCompositionEnd(i){return!1}onConfigurationChanged(i){return!1}onCursorStateChanged(i){return!1}onDecorationsChanged(i){return!1}onFlushed(i){return!1}onFocusChanged(i){return!1}onLanguageConfigurationChanged(i){return!1}onLineMappingChanged(i){return!1}onLinesChanged(i){return!1}onLinesDeleted(i){return!1}onLinesInserted(i){return!1}onRevealRangeRequest(i){return!1}onScrollChanged(i){return!1}onThemeChanged(i){return!1}onTokensChanged(i){return!1}onTokensColorsChanged(i){return!1}onZonesChanged(i){return!1}handleEvents(i){let c=!1;for(let y=0,D=i.length;y<D;y++){const X=i[y];switch(X.type){case 0:this.onCompositionStart(X)&&(c=!0);break;case 1:this.onCompositionEnd(X)&&(c=!0);break;case 2:this.onConfigurationChanged(X)&&(c=!0);break;case 3:this.onCursorStateChanged(X)&&(c=!0);break;case 4:this.onDecorationsChanged(X)&&(c=!0);break;case 5:this.onFlushed(X)&&(c=!0);break;case 6:this.onFocusChanged(X)&&(c=!0);break;case 7:this.onLanguageConfigurationChanged(X)&&(c=!0);break;case 8:this.onLineMappingChanged(X)&&(c=!0);break;case 9:this.onLinesChanged(X)&&(c=!0);break;case 10:this.onLinesDeleted(X)&&(c=!0);break;case 11:this.onLinesInserted(X)&&(c=!0);break;case 12:this.onRevealRangeRequest(X)&&(c=!0);break;case 13:this.onScrollChanged(X)&&(c=!0);break;case 15:this.onTokensChanged(X)&&(c=!0);break;case 14:this.onThemeChanged(X)&&(c=!0);break;case 16:this.onTokensColorsChanged(X)&&(c=!0);break;case 17:this.onZonesChanged(X)&&(c=!0);break;default:console.info("View received unknown event: "),console.info(X)}}c&&(this._shouldRender=!0)}}class he extends Ie{constructor(i){super(),this._context=i,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Q{static write(i,c){i.setAttribute("data-mprt",String(c))}static read(i){const c=i.getAttribute("data-mprt");return c===null?0:parseInt(c,10)}static collect(i,c){const y=[];let D=0;for(;i&&i!==i.ownerDocument.body&&i!==c;)i.nodeType===i.ELEMENT_NODE&&(y[D++]=this.read(i)),i=i.parentElement;const X=new Uint8Array(D);for(let ce=0;ce<D;ce++)X[ce]=y[D-ce-1];return X}}var re,Je=h(7345),Se=h(5365),Pe=h(8061),Le=h(2549),Ve=h(1937),g=h(3946);class ge{constructor(i=null){this.hitTarget=i,this.type=0}}class We{get hitTarget(){return this.spanNode}constructor(i,c,y){this.position=i,this.spanNode=c,this.injectedText=y,this.type=1}}(function(i){i.createFromDOMInfo=function(c,y,D){const X=c.getPositionFromDOMInfo(y,D);return X?new We(X,y,null):new ge(y)}})(re||(re={}));class de{constructor(i,c){this.lastViewCursorsRenderData=i,this.lastTextareaPosition=c}}class be{static _deduceRage(i,c=null){return!c&&i?new Pe.Q(i.lineNumber,i.column,i.lineNumber,i.column):c??null}static createUnknown(i,c,y){return{type:0,element:i,mouseColumn:c,position:y,range:this._deduceRage(y)}}static createTextarea(i,c){return{type:1,element:i,mouseColumn:c,position:null,range:null}}static createMargin(i,c,y,D,X,ce){return{type:i,element:c,mouseColumn:y,position:D,range:X,detail:ce}}static createViewZone(i,c,y,D,X){return{type:i,element:c,mouseColumn:y,position:D,range:this._deduceRage(D),detail:X}}static createContentText(i,c,y,D,X){return{type:6,element:i,mouseColumn:c,position:y,range:this._deduceRage(y,D),detail:X}}static createContentEmpty(i,c,y,D){return{type:7,element:i,mouseColumn:c,position:y,range:this._deduceRage(y),detail:D}}static createContentWidget(i,c,y){return{type:9,element:i,mouseColumn:c,position:null,range:null,detail:y}}static createScrollbar(i,c,y){return{type:11,element:i,mouseColumn:c,position:y,range:this._deduceRage(y)}}static createOverlayWidget(i,c,y){return{type:12,element:i,mouseColumn:c,position:null,range:null,detail:y}}static createOutsideEditor(i,c,y,D){return{type:13,element:null,mouseColumn:i,position:c,range:this._deduceRage(c),outsidePosition:y,outsideDistance:D}}static _typeToString(i){return i===1?"TEXTAREA":i===2?"GUTTER_GLYPH_MARGIN":i===3?"GUTTER_LINE_NUMBERS":i===4?"GUTTER_LINE_DECORATIONS":i===5?"GUTTER_VIEW_ZONE":i===6?"CONTENT_TEXT":i===7?"CONTENT_EMPTY":i===8?"CONTENT_VIEW_ZONE":i===9?"CONTENT_WIDGET":i===10?"OVERVIEW_RULER":i===11?"SCROLLBAR":i===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(i){return this._typeToString(i.type)+": "+i.position+" - "+i.range+" - "+JSON.stringify(i.detail)}}class ae{static isTextArea(i){return i.length===2&&i[0]===3&&i[1]===7}static isChildOfViewLines(i){return i.length>=4&&i[0]===3&&i[3]===8}static isStrictChildOfViewLines(i){return i.length>4&&i[0]===3&&i[3]===8}static isChildOfScrollableElement(i){return i.length>=2&&i[0]===3&&i[1]===6}static isChildOfMinimap(i){return i.length>=2&&i[0]===3&&i[1]===9}static isChildOfContentWidgets(i){return i.length>=4&&i[0]===3&&i[3]===1}static isChildOfOverflowGuard(i){return i.length>=1&&i[0]===3}static isChildOfOverflowingContentWidgets(i){return i.length>=1&&i[0]===2}static isChildOfOverlayWidgets(i){return i.length>=2&&i[0]===3&&i[1]===4}static isChildOfOverflowingOverlayWidgets(i){return i.length>=1&&i[0]===5}}class O{constructor(i,c,y){this.viewModel=i.viewModel;const D=i.configuration.options;this.layoutInfo=D.get(146),this.viewDomNode=c.viewDomNode,this.lineHeight=D.get(67),this.stickyTabStops=D.get(117),this.typicalHalfwidthCharacterWidth=D.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=y,this._context=i,this._viewHelper=c}getZoneAtCoord(i){return O.getZoneAtCoord(this._context,i)}static getZoneAtCoord(i,c){const y=i.viewLayout.getWhitespaceAtVerticalOffset(c);if(y){const D=y.verticalOffset+y.height/2,X=i.viewModel.getLineCount();let ce,me=null,Ze=null;return y.afterLineNumber!==X&&(Ze=new Se.y(y.afterLineNumber+1,1)),y.afterLineNumber>0&&(me=new Se.y(y.afterLineNumber,i.viewModel.getLineMaxColumn(y.afterLineNumber))),ce=Ze===null?me:me===null?Ze:c<D?me:Ze,{viewZoneId:y.id,afterLineNumber:y.afterLineNumber,positionBefore:me,positionAfter:Ze,position:ce}}return null}getFullLineRangeAtCoord(i){if(this._context.viewLayout.isAfterLines(i)){const D=this._context.viewModel.getLineCount(),X=this._context.viewModel.getLineMaxColumn(D);return{range:new Pe.Q(D,X,D,X),isAfterLines:!0}}const c=this._context.viewLayout.getLineNumberAtVerticalOffset(i),y=this._context.viewModel.getLineMaxColumn(c);return{range:new Pe.Q(c,1,c,y),isAfterLines:!1}}getLineNumberAtVerticalOffset(i){return this._context.viewLayout.getLineNumberAtVerticalOffset(i)}isAfterLines(i){return this._context.viewLayout.isAfterLines(i)}isInTopPadding(i){return this._context.viewLayout.isInTopPadding(i)}isInBottomPadding(i){return this._context.viewLayout.isInBottomPadding(i)}getVerticalOffsetForLineNumber(i){return this._context.viewLayout.getVerticalOffsetForLineNumber(i)}findAttribute(i,c){return O._findAttribute(i,c,this._viewHelper.viewDomNode)}static _findAttribute(i,c,y){for(;i&&i!==i.ownerDocument.body;){if(i.hasAttribute&&i.hasAttribute(c))return i.getAttribute(c);if(i===y)return null;i=i.parentNode}return null}getLineWidth(i){return this._viewHelper.getLineWidth(i)}visibleRangeForPosition(i,c){return this._viewHelper.visibleRangeForPosition(i,c)}getPositionFromDOMInfo(i,c){return this._viewHelper.getPositionFromDOMInfo(i,c)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Ue{constructor(i,c,y,D){this.editorPos=c,this.pos=y,this.relativePos=D,this.mouseVerticalOffset=Math.max(0,i.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=i.getCurrentScrollLeft()+this.relativePos.x-i.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<i.layoutInfo.contentLeft&&this.relativePos.x>=i.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,rt._getMouseColumn(this.mouseContentHorizontalOffset,i.typicalHalfwidthCharacterWidth))}}class Ye extends Ue{get target(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget}get targetPath(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=Q.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue}constructor(i,c,y,D,X){super(i,c,y,D),this.hitTestResult=new g.d(()=>rt.doHitTest(this._ctx,this)),this._targetPathCacheElement=null,this._targetPathCacheValue=new Uint8Array(0),this._ctx=i,this._eventTarget=X;const ce=Boolean(this._eventTarget);this._useHitTestTarget=!ce}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}get wouldBenefitFromHitTestTargetSwitch(){return!this._useHitTestTarget&&this.hitTestResult.value.hitTarget!==null&&this.target!==this.hitTestResult.value.hitTarget}switchToHitTestTarget(){this._useHitTestTarget=!0}_getMouseColumn(i=null){return i&&i.column<this._ctx.viewModel.getLineMaxColumn(i.lineNumber)?Le.A.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(i.lineNumber),i.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(i=null){return be.createUnknown(this.target,this._getMouseColumn(i),i)}fulfillTextarea(){return be.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(i,c,y,D){return be.createMargin(i,this.target,this._getMouseColumn(c),c,y,D)}fulfillViewZone(i,c,y){return be.createViewZone(i,this.target,this._getMouseColumn(c),c,y)}fulfillContentText(i,c,y){return be.createContentText(this.target,this._getMouseColumn(i),i,c,y)}fulfillContentEmpty(i,c){return be.createContentEmpty(this.target,this._getMouseColumn(i),i,c)}fulfillContentWidget(i){return be.createContentWidget(this.target,this._getMouseColumn(),i)}fulfillScrollbar(i){return be.createScrollbar(this.target,this._getMouseColumn(i),i)}fulfillOverlayWidget(i){return be.createOverlayWidget(this.target,this._getMouseColumn(),i)}}const Fe={isAfterLines:!0};function oe(i){return{isAfterLines:!1,horizontalDistanceToText:i}}class rt{constructor(i,c){this._context=i,this._viewHelper=c}mouseTargetIsWidget(i){const c=i.target,y=Q.collect(c,this._viewHelper.viewDomNode);return!!(ae.isChildOfContentWidgets(y)||ae.isChildOfOverflowingContentWidgets(y)||ae.isChildOfOverlayWidgets(y)||ae.isChildOfOverflowingOverlayWidgets(y))}createMouseTarget(i,c,y,D,X){const ce=new O(this._context,this._viewHelper,i),me=new Ye(ce,c,y,D,X);try{const Ze=rt._createMouseTarget(ce,me);if(Ze.type===6&&ce.stickyTabStops&&Ze.position!==null){const qe=rt._snapToSoftTabBoundary(Ze.position,ce.viewModel),it=Pe.Q.fromPositions(qe,qe).plusRange(Ze.range);return me.fulfillContentText(qe,it,Ze.detail)}return Ze}catch(Ze){return me.fulfillUnknown()}}static _createMouseTarget(i,c){if(c.target===null)return c.fulfillUnknown();const y=c;let D=null;return ae.isChildOfOverflowGuard(c.targetPath)||ae.isChildOfOverflowingContentWidgets(c.targetPath)||ae.isChildOfOverflowingOverlayWidgets(c.targetPath)||(D=D||c.fulfillUnknown()),D=D||rt._hitTestContentWidget(i,y),D=D||rt._hitTestOverlayWidget(i,y),D=D||rt._hitTestMinimap(i,y),D=D||rt._hitTestScrollbarSlider(i,y),D=D||rt._hitTestViewZone(i,y),D=D||rt._hitTestMargin(i,y),D=D||rt._hitTestViewCursor(i,y),D=D||rt._hitTestTextArea(i,y),D=D||rt._hitTestViewLines(i,y),D=D||rt._hitTestScrollbar(i,y),D||c.fulfillUnknown()}static _hitTestContentWidget(i,c){if(ae.isChildOfContentWidgets(c.targetPath)||ae.isChildOfOverflowingContentWidgets(c.targetPath)){const y=i.findAttribute(c.target,"widgetId");return y?c.fulfillContentWidget(y):c.fulfillUnknown()}return null}static _hitTestOverlayWidget(i,c){if(ae.isChildOfOverlayWidgets(c.targetPath)||ae.isChildOfOverflowingOverlayWidgets(c.targetPath)){const y=i.findAttribute(c.target,"widgetId");return y?c.fulfillOverlayWidget(y):c.fulfillUnknown()}return null}static _hitTestViewCursor(i,c){if(c.target){const y=i.lastRenderData.lastViewCursorsRenderData;for(let D of y)if(c.target===D.domNode)return c.fulfillContentText(D.position,null,{mightBeForeignElement:!1,injectedText:null})}if(c.isInContentArea){const y=i.lastRenderData.lastViewCursorsRenderData,D=c.mouseContentHorizontalOffset,X=c.mouseVerticalOffset;for(let ce of y){if(D<ce.contentLeft)continue;if(D>ce.contentLeft+ce.width)continue;const me=i.getVerticalOffsetForLineNumber(ce.position.lineNumber);if(me<=X&&X<=me+ce.height)return c.fulfillContentText(ce.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(i,c){const y=i.getZoneAtCoord(c.mouseVerticalOffset);if(y){const D=c.isInContentArea?8:5;return c.fulfillViewZone(D,y.position,y)}return null}static _hitTestTextArea(i,c){return ae.isTextArea(c.targetPath)?i.lastRenderData.lastTextareaPosition?c.fulfillContentText(i.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):c.fulfillTextarea():null}static _hitTestMargin(i,c){if(c.isInMarginArea){const y=i.getFullLineRangeAtCoord(c.mouseVerticalOffset),D=y.range.getStartPosition();let X=Math.abs(c.relativePos.x);const ce={isAfterLines:y.isAfterLines,glyphMarginLeft:i.layoutInfo.glyphMarginLeft,glyphMarginWidth:i.layoutInfo.glyphMarginWidth,lineNumbersWidth:i.layoutInfo.lineNumbersWidth,offsetX:X};if(X-=i.layoutInfo.glyphMarginLeft,X<=i.layoutInfo.glyphMarginWidth){const me=i.viewModel.coordinatesConverter.convertViewPositionToModelPosition(y.range.getStartPosition()),Ze=i.viewModel.glyphLanes.getLanesAtLine(me.lineNumber);return ce.glyphMarginLane=Ze[Math.floor(X/i.lineHeight)],c.fulfillMargin(2,D,y.range,ce)}return X-=i.layoutInfo.glyphMarginWidth,X<=i.layoutInfo.lineNumbersWidth?c.fulfillMargin(3,D,y.range,ce):(X-=i.layoutInfo.lineNumbersWidth,c.fulfillMargin(4,D,y.range,ce))}return null}static _hitTestViewLines(i,c){if(!ae.isChildOfViewLines(c.targetPath))return null;if(i.isInTopPadding(c.mouseVerticalOffset))return c.fulfillContentEmpty(new Se.y(1,1),Fe);if(i.isAfterLines(c.mouseVerticalOffset)||i.isInBottomPadding(c.mouseVerticalOffset)){const D=i.viewModel.getLineCount(),X=i.viewModel.getLineMaxColumn(D);return c.fulfillContentEmpty(new Se.y(D,X),Fe)}if(ae.isStrictChildOfViewLines(c.targetPath)){const D=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset);if(i.viewModel.getLineLength(D)===0){const ce=i.getLineWidth(D),me=oe(c.mouseContentHorizontalOffset-ce);return c.fulfillContentEmpty(new Se.y(D,1),me)}const X=i.getLineWidth(D);if(c.mouseContentHorizontalOffset>=X){const ce=oe(c.mouseContentHorizontalOffset-X),me=new Se.y(D,i.viewModel.getLineMaxColumn(D));return c.fulfillContentEmpty(me,ce)}}const y=c.hitTestResult.value;return y.type===1?rt.createMouseTargetFromHitTestPosition(i,c,y.spanNode,y.position,y.injectedText):c.wouldBenefitFromHitTestTargetSwitch?(c.switchToHitTestTarget(),this._createMouseTarget(i,c)):c.fulfillUnknown()}static _hitTestMinimap(i,c){if(ae.isChildOfMinimap(c.targetPath)){const y=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),D=i.viewModel.getLineMaxColumn(y);return c.fulfillScrollbar(new Se.y(y,D))}return null}static _hitTestScrollbarSlider(i,c){if(ae.isChildOfScrollableElement(c.targetPath)&&c.target&&c.target.nodeType===1){const y=c.target.className;if(y&&/\b(slider|scrollbar)\b/.test(y)){const D=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),X=i.viewModel.getLineMaxColumn(D);return c.fulfillScrollbar(new Se.y(D,X))}}return null}static _hitTestScrollbar(i,c){if(ae.isChildOfScrollableElement(c.targetPath)){const y=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),D=i.viewModel.getLineMaxColumn(y);return c.fulfillScrollbar(new Se.y(y,D))}return null}getMouseColumn(i){const c=this._context.configuration.options,y=c.get(146),D=this._context.viewLayout.getCurrentScrollLeft()+i.x-y.contentLeft;return rt._getMouseColumn(D,c.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(i,c){return i<0?1:Math.round(i/c)+1}static createMouseTargetFromHitTestPosition(i,c,y,D,X){const{lineNumber:ce,column:me}=D,Ze=i.getLineWidth(ce);if(c.mouseContentHorizontalOffset>Ze){const Gt=oe(c.mouseContentHorizontalOffset-Ze);return c.fulfillContentEmpty(D,Gt)}const qe=i.visibleRangeForPosition(ce,me);if(!qe)return c.fulfillUnknown(D);const it=qe.left;if(Math.abs(c.mouseContentHorizontalOffset-it)<1)return c.fulfillContentText(D,null,{mightBeForeignElement:!!X,injectedText:X});const at=[];if(at.push({offset:qe.left,column:me}),me>1){const Gt=i.visibleRangeForPosition(ce,me-1);Gt&&at.push({offset:Gt.left,column:me-1})}if(me<i.viewModel.getLineMaxColumn(ce)){const Gt=i.visibleRangeForPosition(ce,me+1);Gt&&at.push({offset:Gt.left,column:me+1})}at.sort((Gt,_n)=>Gt.offset-_n.offset);const ot=c.pos.toClientCoordinates(v.zk(i.viewDomNode)),Jt=y.getBoundingClientRect(),Ft=Jt.left<=ot.clientX&&ot.clientX<=Jt.right;let $t=null;for(let Gt=1;Gt<at.length;Gt++){const _n=at[Gt-1],Pn=at[Gt];if(_n.offset<=c.mouseContentHorizontalOffset&&c.mouseContentHorizontalOffset<=Pn.offset){$t=new Pe.Q(ce,_n.column,ce,Pn.column),D=Math.abs(_n.offset-c.mouseContentHorizontalOffset)<Math.abs(Pn.offset-c.mouseContentHorizontalOffset)?new Se.y(ce,_n.column):new Se.y(ce,Pn.column);break}}return c.fulfillContentText(D,$t,{mightBeForeignElement:!Ft||!!X,injectedText:X})}static _doHitTestWithCaretRangeFromPoint(i,c){const y=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),D=i.getVerticalOffsetForLineNumber(y),X=D+i.lineHeight;if(!(y===i.viewModel.getLineCount()&&c.mouseVerticalOffset>X)){const ce=Math.floor((D+X)/2);let me=c.pos.y+(ce-c.mouseVerticalOffset);me<=c.editorPos.y&&(me=c.editorPos.y+1),me>=c.editorPos.y+c.editorPos.height&&(me=c.editorPos.y+c.editorPos.height-1);const Ze=new Be.nz(c.pos.x,me),qe=this._actualDoHitTestWithCaretRangeFromPoint(i,Ze.toClientCoordinates(v.zk(i.viewDomNode)));if(qe.type===1)return qe}return this._actualDoHitTestWithCaretRangeFromPoint(i,c.pos.toClientCoordinates(v.zk(i.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(i,c){const y=v.jG(i.viewDomNode);let D;if(D=y?y.caretRangeFromPoint===void 0?function(ce,me,Ze){const qe=document.createRange();let it=ce.elementFromPoint(me,Ze);if(it!==null){for(;it&&it.firstChild&&it.firstChild.nodeType!==it.firstChild.TEXT_NODE&&it.lastChild&&it.lastChild.firstChild;)it=it.lastChild;const at=it.getBoundingClientRect(),ot=v.zk(it),Jt=`${ot.getComputedStyle(it,null).getPropertyValue("font-style")} ${ot.getComputedStyle(it,null).getPropertyValue("font-variant")} ${ot.getComputedStyle(it,null).getPropertyValue("font-weight")} ${ot.getComputedStyle(it,null).getPropertyValue("font-size")}/${ot.getComputedStyle(it,null).getPropertyValue("line-height")} ${ot.getComputedStyle(it,null).getPropertyValue("font-family")}`,Ft=it.innerText;let $t,Gt=at.left,_n=0;if(me>at.left+at.width)_n=Ft.length;else{const Pn=lt.getInstance();for(let Zn=0;Zn<Ft.length+1;Zn++){if($t=Pn.getCharWidth(Ft.charAt(Zn),Jt)/2,Gt+=$t,me<Gt){_n=Zn;break}Gt+=$t}}qe.setStart(it.firstChild,_n),qe.setEnd(it.firstChild,_n)}return qe}(y,c.clientX,c.clientY):y.caretRangeFromPoint(c.clientX,c.clientY):i.viewDomNode.ownerDocument.caretRangeFromPoint(c.clientX,c.clientY),!D||!D.startContainer)return new ge;const X=D.startContainer;if(X.nodeType===X.TEXT_NODE){const ce=X.parentNode,me=ce?ce.parentNode:null,Ze=me?me.parentNode:null;return(Ze&&Ze.nodeType===Ze.ELEMENT_NODE?Ze.className:null)===Je.Gb.CLASS_NAME?re.createFromDOMInfo(i,ce,D.startOffset):new ge(X.parentNode)}if(X.nodeType===X.ELEMENT_NODE){const ce=X.parentNode,me=ce?ce.parentNode:null;return(me&&me.nodeType===me.ELEMENT_NODE?me.className:null)===Je.Gb.CLASS_NAME?re.createFromDOMInfo(i,X,X.textContent.length):new ge(X)}return new ge}static _doHitTestWithCaretPositionFromPoint(i,c){const y=i.viewDomNode.ownerDocument.caretPositionFromPoint(c.clientX,c.clientY);if(y.offsetNode.nodeType===y.offsetNode.TEXT_NODE){const D=y.offsetNode.parentNode,X=D?D.parentNode:null,ce=X?X.parentNode:null;return(ce&&ce.nodeType===ce.ELEMENT_NODE?ce.className:null)===Je.Gb.CLASS_NAME?re.createFromDOMInfo(i,y.offsetNode.parentNode,y.offset):new ge(y.offsetNode.parentNode)}if(y.offsetNode.nodeType===y.offsetNode.ELEMENT_NODE){const D=y.offsetNode.parentNode,X=D&&D.nodeType===D.ELEMENT_NODE?D.className:null,ce=D?D.parentNode:null,me=ce&&ce.nodeType===ce.ELEMENT_NODE?ce.className:null;if(X===Je.Gb.CLASS_NAME){const Ze=y.offsetNode.childNodes[Math.min(y.offset,y.offsetNode.childNodes.length-1)];if(Ze)return re.createFromDOMInfo(i,Ze,0)}else if(me===Je.Gb.CLASS_NAME)return re.createFromDOMInfo(i,y.offsetNode,0)}return new ge(y.offsetNode)}static _snapToSoftTabBoundary(i,c){const y=c.getLineContent(i.lineNumber),{tabSize:D}=c.model.getOptions(),X=Ve.s.atomicPosition(y,i.column-1,D,2);return X!==-1?new Se.y(i.lineNumber,X+1):i}static doHitTest(i,c){let y=new ge;if(typeof i.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?y=this._doHitTestWithCaretRangeFromPoint(i,c):i.viewDomNode.ownerDocument.caretPositionFromPoint&&(y=this._doHitTestWithCaretPositionFromPoint(i,c.pos.toClientCoordinates(v.zk(i.viewDomNode)))),y.type===1){const D=i.viewModel.getInjectedTextAt(y.position),X=i.viewModel.normalizePosition(y.position,2);!D&&X.equals(y.position)||(y=new We(X,y.spanNode,D))}return y}}class lt{static{this._INSTANCE=null}static getInstance(){return lt._INSTANCE||(lt._INSTANCE=new lt),lt._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(i,c){const y=i+c;if(this._cache[y])return this._cache[y];const D=this._canvas.getContext("2d");D.font=c;const X=D.measureText(i).width;return this._cache[y]=X,X}}var ye=h(1577),pt=h(474),Mt=h(8877),Zt=h(9715),jt=h(3702),xn=h(8354);class nn extends Ie{constructor(i,c,y){super(),this._mouseLeaveMonitor=null,this._context=i,this.viewController=c,this.viewHelper=y,this.mouseTargetFactory=new rt(this._context,y),this._mouseDownOperation=this._register(new gn(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(ce,me)=>this._createMouseTarget(ce,me),(ce)=>this._getMouseColumn(ce))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(146).height;const D=new Be.$z(this.viewHelper.viewDomNode);this._register(D.onContextMenu(this.viewHelper.viewDomNode,(ce)=>this._onContextMenu(ce,!0))),this._register(D.onMouseMove(this.viewHelper.viewDomNode,(ce)=>{this._onMouseMove(ce),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=v.ko(this.viewHelper.viewDomNode.ownerDocument,"mousemove",(me)=>{this.viewHelper.viewDomNode.contains(me.target)||this._onMouseLeave(new Be.dO(me,!1,this.viewHelper.viewDomNode))}))})),this._register(D.onMouseUp(this.viewHelper.viewDomNode,(ce)=>this._onMouseUp(ce))),this._register(D.onMouseLeave(this.viewHelper.viewDomNode,(ce)=>this._onMouseLeave(ce)));let X=0;this._register(D.onPointerDown(this.viewHelper.viewDomNode,(ce,me)=>{X=me})),this._register(v.ko(this.viewHelper.viewDomNode,v.Bx.POINTER_UP,(ce)=>{this._mouseDownOperation.onPointerUp()})),this._register(D.onMouseDown(this.viewHelper.viewDomNode,(ce)=>this._onMouseDown(ce,X))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const i=xn.QC.INSTANCE;let c=0,y=B.D.getZoomLevel(),D=!1,X=0;function ce(me){return b.zx?(me.metaKey||me.ctrlKey)&&!me.shiftKey&&!me.altKey:me.ctrlKey&&!me.metaKey&&!me.shiftKey&&!me.altKey}this._register(v.ko(this.viewHelper.viewDomNode,v.Bx.MOUSE_WHEEL,(me)=>{if(this.viewController.emitMouseWheel(me),!this._context.configuration.options.get(76))return;const Ze=new Zt.$(me);if(i.acceptStandardWheelEvent(Ze),i.isPhysicalMouseWheel()){if(ce(me)){const qe=B.D.getZoomLevel(),it=Ze.deltaY>0?1:-1;B.D.setZoomLevel(qe+it),Ze.preventDefault(),Ze.stopPropagation()}}else Date.now()-c>50&&(y=B.D.getZoomLevel(),D=ce(me),X=0),c=Date.now(),X+=Ze.deltaY,D&&(B.D.setZoomLevel(y+X/5),Ze.preventDefault(),Ze.stopPropagation())},{capture:!0,passive:!1}))}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(i){if(i.hasChanged(146)){const c=this._context.configuration.options.get(146).height;this._height!==c&&(this._height=c,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(i){return this._mouseDownOperation.onCursorStateChanged(i),!1}onFocusChanged(i){return!1}getTargetAtClientPoint(i,c){const y=new Be.Hh(i,c).toPageCoordinates(v.zk(this.viewHelper.viewDomNode)),D=Be.wt(this.viewHelper.viewDomNode);if(y.y<D.y||y.y>D.y+D.height||y.x<D.x||y.x>D.x+D.width)return null;const X=Be.i_(this.viewHelper.viewDomNode,D,y);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),D,y,X,null)}_createMouseTarget(i,c){let y=i.target;if(!this.viewHelper.viewDomNode.contains(y)){const D=v.jG(this.viewHelper.viewDomNode);D&&(y=D.elementsFromPoint(i.posx,i.posy).find((X)=>this.viewHelper.viewDomNode.contains(X)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),i.editorPos,i.pos,i.relativePos,c?y:null)}_getMouseColumn(i){return this.mouseTargetFactory.getMouseColumn(i.relativePos)}_onContextMenu(i,c){this.viewController.emitContextMenu({event:i,target:this._createMouseTarget(i,c)})}_onMouseMove(i){this.mouseTargetFactory.mouseTargetIsWidget(i)||i.preventDefault(),this._mouseDownOperation.isActive()||i.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:i,target:this._createMouseTarget(i,!0)})}_onMouseLeave(i){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:i,target:null})}_onMouseUp(i){this.viewController.emitMouseUp({event:i,target:this._createMouseTarget(i,!0)})}_onMouseDown(i,c){const y=this._createMouseTarget(i,!0),D=y.type===6||y.type===7,X=y.type===2||y.type===3||y.type===4,ce=y.type===3,me=this._context.configuration.options.get(110),Ze=y.type===8||y.type===5,qe=y.type===9;let it=i.leftButton||i.middleButton;b.zx&&i.leftButton&&i.ctrlKey&&(it=!1);const at=()=>{i.preventDefault(),this.viewHelper.focusTextArea()};if(it&&(D||ce&&me))at(),this._mouseDownOperation.start(y.type,i,c);else if(X)i.preventDefault();else if(Ze){const ot=y.detail;it&&this.viewHelper.shouldSuppressMouseDownOnViewZone(ot.viewZoneId)&&(at(),this._mouseDownOperation.start(y.type,i,c),i.preventDefault())}else qe&&this.viewHelper.shouldSuppressMouseDownOnWidget(y.detail)&&(at(),i.preventDefault());this.viewController.emitMouseDown({event:i,target:y})}}class gn extends C.jG{constructor(i,c,y,D,X,ce){super(),this._context=i,this._viewController=c,this._viewHelper=y,this._mouseTargetFactory=D,this._createMouseTarget=X,this._getMouseColumn=ce,this._mouseMoveMonitor=this._register(new Be.BA(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new pn(this._context,this._viewHelper,this._mouseTargetFactory,(me,Ze,qe)=>this._dispatchMouse(me,Ze,qe))),this._mouseState=new Sn,this._currentSelection=new jt.L(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(i){this._lastMouseEvent=i,this._mouseState.setModifiers(i);const c=this._findMousePosition(i,!1);c&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:i,target:c}):c.type!==13||c.outsidePosition!=="above"&&c.outsidePosition!=="below"?(this._topBottomDragScrolling.stop(),this._dispatchMouse(c,!0,1)):this._topBottomDragScrolling.start(c,i))}start(i,c,y){this._lastMouseEvent=c,this._mouseState.setStartedOnLineNumbers(i===3),this._mouseState.setStartButtons(c),this._mouseState.setModifiers(c);const D=this._findMousePosition(c,!0);if(!D||!D.position)return;this._mouseState.trySetCount(c.detail,D.position),c.detail=this._mouseState.count;const X=this._context.configuration.options;if(!X.get(92)&&X.get(35)&&!X.get(22)&&!this._mouseState.altKey&&c.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&D.type===6&&D.position&&this._currentSelection.containsPosition(D.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,y,c.buttons,(ce)=>this._onMouseDownThenMove(ce),(ce)=>{const me=this._findMousePosition(this._lastMouseEvent,!1);v.kx(ce)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:me?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(D,c.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,y,c.buttons,(ce)=>this._onMouseDownThenMove(ce),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(i){this._currentSelection=i.selections[0]}_getPositionOutsideEditor(i){const c=i.editorPos,y=this._context.viewModel,D=this._context.viewLayout,X=this._getMouseColumn(i);if(i.posy<c.y){const me=c.y-i.posy,Ze=Math.max(D.getCurrentScrollTop()-me,0),qe=O.getZoneAtCoord(this._context,Ze);if(qe){const at=this._helpPositionJumpOverViewZone(qe);if(at)return be.createOutsideEditor(X,at,"above",me)}const it=D.getLineNumberAtVerticalOffset(Ze);return be.createOutsideEditor(X,new Se.y(it,1),"above",me)}if(i.posy>c.y+c.height){const me=i.posy-c.y-c.height,Ze=D.getCurrentScrollTop()+i.relativePos.y,qe=O.getZoneAtCoord(this._context,Ze);if(qe){const at=this._helpPositionJumpOverViewZone(qe);if(at)return be.createOutsideEditor(X,at,"below",me)}const it=D.getLineNumberAtVerticalOffset(Ze);return be.createOutsideEditor(X,new Se.y(it,y.getLineMaxColumn(it)),"below",me)}const ce=D.getLineNumberAtVerticalOffset(D.getCurrentScrollTop()+i.relativePos.y);if(i.posx<c.x){const me=c.x-i.posx;return be.createOutsideEditor(X,new Se.y(ce,1),"left",me)}if(i.posx>c.x+c.width){const me=i.posx-c.x-c.width;return be.createOutsideEditor(X,new Se.y(ce,y.getLineMaxColumn(ce)),"right",me)}return null}_findMousePosition(i,c){const y=this._getPositionOutsideEditor(i);if(y)return y;const D=this._createMouseTarget(i,c);if(!D.position)return null;if(D.type===8||D.type===5){const X=this._helpPositionJumpOverViewZone(D.detail);if(X)return be.createViewZone(D.type,D.element,D.mouseColumn,X,D.detail)}return D}_helpPositionJumpOverViewZone(i){const c=new Se.y(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),y=i.positionBefore,D=i.positionAfter;return y&&D?y.isBefore(c)?y:D:null}_dispatchMouse(i,c,y){i.position&&this._viewController.dispatchMouse({position:i.position,mouseColumn:i.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:y,inSelectionMode:c,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:i.type===6&&i.detail.injectedText!==null})}}class pn extends C.jG{constructor(i,c,y,D){super(),this._context=i,this._viewHelper=c,this._mouseTargetFactory=y,this._dispatchMouse=D,this._operation=null}dispose(){super.dispose(),this.stop()}start(i,c){this._operation?this._operation.setPosition(i,c):this._operation=new rn(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,i,c)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class rn extends C.jG{constructor(i,c,y,D,X,ce){super(),this._context=i,this._viewHelper=c,this._mouseTargetFactory=y,this._dispatchMouse=D,this._position=X,this._mouseEvent=ce,this._lastTime=Date.now(),this._animationFrameDisposable=v.PG(v.zk(ce.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(i,c){this._position=i,this._mouseEvent=c}_tick(){const i=Date.now(),c=i-this._lastTime;return this._lastTime=i,c}_getScrollSpeed(){const i=this._context.configuration.options.get(67),c=this._context.configuration.options.get(146).height/i,y=this._position.outsideDistance/i;return y<=1.5?Math.max(30,c*(1+y)):y<=3?Math.max(60,c*(2+y)):Math.max(200,c*(7+y))}_execute(){const i=this._context.configuration.options.get(67),c=this._getScrollSpeed()*(this._tick()/1000)*i,y=this._position.outsidePosition==="above"?-c:c;this._context.viewModel.viewLayout.deltaScrollNow(0,y),this._viewHelper.renderNow();const D=this._context.viewLayout.getLinesViewportData(),X=this._position.outsidePosition==="above"?D.startLineNumber:D.endLineNumber;let ce;{const me=Be.wt(this._viewHelper.viewDomNode),Ze=this._context.configuration.options.get(146).horizontalScrollbarHeight,qe=new Be.nz(this._mouseEvent.pos.x,me.y+me.height-Ze-0.1),it=Be.i_(this._viewHelper.viewDomNode,me,qe);ce=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),me,qe,it,null)}ce.position&&ce.position.lineNumber===X||(ce=this._position.outsidePosition==="above"?be.createOutsideEditor(this._position.mouseColumn,new Se.y(X,1),"above",this._position.outsideDistance):be.createOutsideEditor(this._position.mouseColumn,new Se.y(X,this._context.viewModel.getLineMaxColumn(X)),"below",this._position.outsideDistance)),this._dispatchMouse(ce,!0,2),this._animationFrameDisposable=v.PG(v.zk(ce.element),()=>this._execute())}}class Sn{static{this.CLEAR_MOUSE_DOWN_COUNT_TIME=400}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(i){this._altKey=i.altKey,this._ctrlKey=i.ctrlKey,this._metaKey=i.metaKey,this._shiftKey=i.shiftKey}setStartButtons(i){this._leftButton=i.leftButton,this._middleButton=i.middleButton}setStartedOnLineNumbers(i){this._startedOnLineNumbers=i}trySetCount(i,c){const y=new Date().getTime();y-this._lastSetMouseDownCountTime>Sn.CLEAR_MOUSE_DOWN_COUNT_TIME&&(i=1),this._lastSetMouseDownCountTime=y,i>this._lastMouseDownCount+1&&(i=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(c)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=c,this._lastMouseDownCount=Math.min(i,this._lastMouseDownPositionEqualCount)}}var Mn=h(3344);class Bn extends nn{constructor(i,c,y){super(i,c,y),this._register(pt.q.addTarget(this.viewHelper.linesContentDomNode)),this._register(v.ko(this.viewHelper.linesContentDomNode,pt.B.Tap,(X)=>this.onTap(X))),this._register(v.ko(this.viewHelper.linesContentDomNode,pt.B.Change,(X)=>this.onChange(X))),this._register(v.ko(this.viewHelper.linesContentDomNode,pt.B.Contextmenu,(X)=>this._onContextMenu(new Be.dO(X,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(v.ko(this.viewHelper.linesContentDomNode,"pointerdown",(X)=>{const ce=X.pointerType;this._lastPointerType=ce!=="mouse"?ce==="touch"?"touch":"pen":"mouse"}));const D=new Be.DW(this.viewHelper.viewDomNode);this._register(D.onPointerMove(this.viewHelper.viewDomNode,(X)=>this._onMouseMove(X))),this._register(D.onPointerUp(this.viewHelper.viewDomNode,(X)=>this._onMouseUp(X))),this._register(D.onPointerLeave(this.viewHelper.viewDomNode,(X)=>this._onMouseLeave(X))),this._register(D.onPointerDown(this.viewHelper.viewDomNode,(X,ce)=>this._onMouseDown(X,ce)))}onTap(i){i.initialTarget&&this.viewHelper.linesContentDomNode.contains(i.initialTarget)&&(i.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(i,!1))}onChange(i){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(i,!0)}_dispatchGesture(i,c){const y=this._createMouseTarget(new Be.dO(i,!1,this.viewHelper.viewDomNode),!1);y.position&&this.viewController.dispatchMouse({position:y.position,mouseColumn:y.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:i.tapCount,inSelectionMode:c,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:y.type===6&&y.detail.injectedText!==null})}_onMouseDown(i,c){i.browserEvent.pointerType!=="touch"&&super._onMouseDown(i,c)}}class wi extends nn{constructor(i,c,y){super(i,c,y),this._register(pt.q.addTarget(this.viewHelper.linesContentDomNode)),this._register(v.ko(this.viewHelper.linesContentDomNode,pt.B.Tap,(D)=>this.onTap(D))),this._register(v.ko(this.viewHelper.linesContentDomNode,pt.B.Change,(D)=>this.onChange(D))),this._register(v.ko(this.viewHelper.linesContentDomNode,pt.B.Contextmenu,(D)=>this._onContextMenu(new Be.dO(D,!1,this.viewHelper.viewDomNode),!1)))}onTap(i){i.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new Be.dO(i,!1,this.viewHelper.viewDomNode),!1);if(c.position){const y=document.createEvent("CustomEvent");y.initEvent(Mn.$D.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(y),this.viewController.moveTo(c.position,1)}}onChange(i){this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY)}}class Mi extends C.jG{constructor(i,c,y){super(),(b.un||b.m0&&b.Fr)&&ye.e.pointerEvents?this.handler=this._register(new Bn(i,c,y)):Mt.G.TouchEvent?this.handler=this._register(new wi(i,c,y)):this.handler=this._register(new nn(i,c,y))}getTargetAtClientPoint(i,c){return this.handler.getTargetAtClientPoint(i,c)}}var Oi=h(9746),En=h(6844),li=h(3377);class si extends Ie{}var ti=h(9044),Ln=h(8295);class Xn extends si{static{this.CLASS_NAME="line-numbers"}constructor(i){super(),this._context=i,this._readConfig(),this._lastCursorModelPosition=new Se.y(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const i=this._context.configuration.options;this._lineHeight=i.get(67);const c=i.get(68);this._renderLineNumbers=c.renderType,this._renderCustomLineNumbers=c.renderFn,this._renderFinalNewline=i.get(96);const y=i.get(146);this._lineNumbersLeft=y.lineNumbersLeft,this._lineNumbersWidth=y.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return this._readConfig(),!0}onCursorStateChanged(i){const c=i.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(c);let y=!1;return this._activeLineNumber!==c.lineNumber&&(this._activeLineNumber=c.lineNumber,y=!0),this._renderLineNumbers!==2&&this._renderLineNumbers!==3||(y=!0),y}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onDecorationsChanged(i){return i.affectsLineNumber}_getLineRenderLineNumber(i){const c=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Se.y(i,1));if(c.column!==1)return"";const y=c.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(y);if(this._renderLineNumbers===2){const D=Math.abs(this._lastCursorModelPosition.lineNumber-y);return D===0?'<span class="relative-current-line-number">'+y+"</span>":String(D)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===y||y%10==0||y===this._context.viewModel.getLineCount()?String(y):"":String(y)}prepareRender(i){if(this._renderLineNumbers===0)return void(this._renderResult=null);const c=b.j9?this._lineHeight%2==0?" lh-even":" lh-odd":"",y=i.visibleRange.startLineNumber,D=i.visibleRange.endLineNumber,X=this._context.viewModel.getDecorationsInViewport(i.visibleRange).filter((qe)=>!!qe.options.lineNumberClassName);X.sort((qe,it)=>Pe.Q.compareRangesUsingEnds(qe.range,it.range));let ce=0;const me=this._context.viewModel.getLineCount(),Ze=[];for(let qe=y;qe<=D;qe++){const it=qe-y;let at=this._getLineRenderLineNumber(qe),ot="";for(;ce<X.length&&X[ce].range.endLineNumber<qe;)ce++;for(let Jt=ce;Jt<X.length;Jt++){const{range:Ft,options:$t}=X[Jt];Ft.startLineNumber<=qe&&(ot+=" "+$t.lineNumberClassName)}at||ot?(qe===me&&this._context.viewModel.getLineLength(qe)===0&&(this._renderFinalNewline==="off"&&(at=""),this._renderFinalNewline==="dimmed"&&(ot+=" dimmed-line-number")),qe===this._activeLineNumber&&(ot+=" active-line-number"),Ze[it]=`<div class="${Xn.CLASS_NAME}${c}${ot}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${at}</div>`):Ze[it]=""}this._renderResult=Ze}render(i,c){if(!this._renderResult)return"";const y=c-i;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}ti.zy((i,c)=>{const y=i.getColor(Ln.Qt),D=i.getColor(Ln.JB);D?c.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${D}; }`):y&&c.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${y.transparent(0.4)}; }`)});class xi extends he{static{this.CLASS_NAME="glyph-margin"}static{this.OUTER_CLASS_NAME="margin"}constructor(i){super(i);const c=this._context.configuration.options,y=c.get(146);this._canUseLayerHinting=!c.get(32),this._contentLeft=y.contentLeft,this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,this._domNode=Te.Z(document.createElement("div")),this._domNode.setClassName(xi.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Te.Z(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(xi.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(i){const c=this._context.configuration.options,y=c.get(146);return this._canUseLayerHinting=!c.get(32),this._contentLeft=y.contentLeft,this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollTopChanged}prepareRender(i){}render(i){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const c=i.scrollTop-i.bigNumbersDelta;this._domNode.setTop(-c);const y=Math.min(i.scrollHeight,1e6);this._domNode.setHeight(y),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(y)}}var Ni=h(2862);const Ii="monaco-mouse-cursor-text";var er=h(4364),Zi=h(4901),tr=h(7043),rr=h(6071),yi=h(2399),un=function(i,c){return function(y,D){c(y,D,i)}};class ft{constructor(i,c,y,D,X){this._context=i,this.modelLineNumber=c,this.distanceToModelLineStart=y,this.widthOfHiddenLineTextBefore=D,this.distanceToModelLineEnd=X,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(i){const c=new Se.y(this.modelLineNumber,this.distanceToModelLineStart+1),y=new Se.y(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(y),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=i.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=i.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(i){return this._previousPresentation||(this._previousPresentation=i||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const Yn=p.gm;let Nt=class extends he{constructor(i,c,y,D,X){super(i),this._keybindingService=D,this._instantiationService=X,this._primaryCursorPosition=new Se.y(1,1),this._primaryCursorVisibleRange=null,this._viewController=c,this._visibleRangeProvider=y,this._scrollLeft=0,this._scrollTop=0;const ce=this._context.configuration.options,me=ce.get(146);this._setAccessibilityOptions(ce),this._contentLeft=me.contentLeft,this._contentWidth=me.contentWidth,this._contentHeight=me.height,this._fontInfo=ce.get(50),this._lineHeight=ce.get(67),this._emptySelectionClipboard=ce.get(37),this._copyWithSyntaxHighlighting=ce.get(25),this._visibleTextArea=null,this._selections=[new jt.L(1,1,1,1)],this._modelSelections=[new jt.L(1,1,1,1)],this._lastRenderPosition=null,this.textArea=Te.Z(document.createElement("textarea")),Q.write(this.textArea,7),this.textArea.setClassName(`inputarea ${Ii}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:Ze}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=Ze*this._fontInfo.spaceWidth+"px",this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(ce)),this.textArea.setAttribute("aria-required",ce.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(ce.get(125))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",Oi.kg("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",ce.get(92)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=Te.Z(document.createElement("div")),this.textAreaCover.setPosition("absolute");const qe={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:(ot)=>this._context.viewModel.getLineMaxColumn(ot),getValueInRange:(ot,Jt)=>this._context.viewModel.getValueInRange(ot,Jt),getValueLengthInRange:(ot,Jt)=>this._context.viewModel.getValueLengthInRange(ot,Jt),modifyPosition:(ot,Jt)=>this._context.viewModel.modifyPosition(ot,Jt)},it={getDataToCopy:()=>{const ot=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,b.uF),Jt=this._context.viewModel.model.getEOL(),Ft=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),$t=Array.isArray(ot)?ot:null,Gt=Array.isArray(ot)?ot.join(Jt):ot;let _n,Pn=null;if(Mn.Eq.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Gt.length<65536){const Zn=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Zn&&(_n=Zn.html,Pn=Zn.mode)}return{isFromEmptySelection:Ft,multicursorText:$t,text:Gt,html:_n,mode:Pn}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const ot=this._selections[0];if(b.zx&&ot.isEmpty()){const Ft=ot.getStartPosition();let $t=this._getWordBeforePosition(Ft);if($t.length===0&&($t=this._getCharacterBeforePosition(Ft)),$t.length>0)return new li._O($t,$t.length,$t.length,Pe.Q.fromPositions(Ft),0)}const Jt=500;if(b.zx&&!ot.isEmpty()&&qe.getValueLengthInRange(ot,0)<Jt){const Ft=qe.getValueInRange(ot,0);return new li._O(Ft,0,Ft.length,ot,0)}if(p.nr&&!ot.isEmpty())return new li._O("vscode-placeholder",0,"vscode-placeholder".length,null,void 0);return li._O.EMPTY}if(p.m0){const ot=this._selections[0];if(ot.isEmpty()){const Jt=ot.getStartPosition(),[Ft,$t]=this._getAndroidWordAtPosition(Jt);if(Ft.length>0)return new li._O(Ft,$t,$t,Pe.Q.fromPositions(Jt),0)}return li._O.EMPTY}return li.Al.fromEditorSelection(qe,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(ot,Jt,Ft)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(ot,Jt,Ft)},at=this._register(new Mn.M0(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(Mn.No,it,at,b.OS,{isAndroid:p.m0,isChrome:p.H8,isFirefox:p.gm,isSafari:p.nr})),this._register(this._textAreaInput.onKeyDown((ot)=>{this._viewController.emitKeyDown(ot)})),this._register(this._textAreaInput.onKeyUp((ot)=>{this._viewController.emitKeyUp(ot)})),this._register(this._textAreaInput.onPaste((ot)=>{let Jt=!1,Ft=null,$t=null;ot.metadata&&(Jt=this._emptySelectionClipboard&&!!ot.metadata.isFromEmptySelection,Ft=ot.metadata.multicursorText!==void 0?ot.metadata.multicursorText:null,$t=ot.metadata.mode),this._viewController.paste(ot.text,Jt,Ft,$t)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType((ot)=>{ot.replacePrevCharCnt||ot.replaceNextCharCnt||ot.positionDelta?(li.Hf&&console.log(` => compositionType: <<${ot.text}>>, ${ot.replacePrevCharCnt}, ${ot.replaceNextCharCnt}, ${ot.positionDelta}`),this._viewController.compositionType(ot.text,ot.replacePrevCharCnt,ot.replaceNextCharCnt,ot.positionDelta)):(li.Hf&&console.log(` => type: <<${ot.text}>>`),this._viewController.type(ot.text))})),this._register(this._textAreaInput.onSelectionChangeRequest((ot)=>{this._viewController.setSelection(ot)})),this._register(this._textAreaInput.onCompositionStart((ot)=>{const Jt=this.textArea.domNode,Ft=this._modelSelections[0],{distanceToModelLineStart:$t,widthOfHiddenTextBefore:Gt}=(()=>{const Pn=Jt.value.substring(0,Math.min(Jt.selectionStart,Jt.selectionEnd)),Zn=Pn.lastIndexOf("\n"),ni=Pn.substring(Zn+1),Gn=ni.lastIndexOf("\t"),ri=ni.length-Gn-1,ci=Ft.getStartPosition(),ai=Math.min(ci.column-1,ri),vi=ci.column-1-ai,gi=ni.substring(0,ni.length-ai),{tabSize:sr}=this._context.viewModel.model.getOptions(),Si=function(cr,_i,Gr,wo){if(_i.length===0)return 0;const ir=cr.createElement("div");ir.style.position="absolute",ir.style.top="-50000px",ir.style.width="50000px";const Ki=cr.createElement("span");f.M(Ki,Gr),Ki.style.whiteSpace="pre",Ki.style.tabSize=wo*Gr.spaceWidth+"px",Ki.append(_i),ir.appendChild(Ki),cr.body.appendChild(ir);const Er=Ki.offsetWidth;return ir.remove(),Er}(this.textArea.domNode.ownerDocument,gi,this._fontInfo,sr);return{distanceToModelLineStart:vi,widthOfHiddenTextBefore:Si}})(),{distanceToModelLineEnd:_n}=(()=>{const Pn=Jt.value.substring(Math.max(Jt.selectionStart,Jt.selectionEnd)),Zn=Pn.indexOf("\n"),ni=Zn===-1?Pn:Pn.substring(0,Zn),Gn=ni.indexOf("\t"),ri=Gn===-1?ni.length:ni.length-Gn-1,ci=Ft.getEndPosition(),ai=Math.min(this._context.viewModel.model.getLineMaxColumn(ci.lineNumber)-ci.column,ri);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(ci.lineNumber)-ci.column-ai}})();this._context.viewModel.revealRange("keyboard",!0,Pe.Q.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new ft(this._context,Ft.startLineNumber,$t,Gt,_n),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Ii} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate((ot)=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${Ii}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(tr.M.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(i){this._textAreaInput.writeNativeTextAreaContent(i)}dispose(){super.dispose()}_getAndroidWordAtPosition(i){const c=this._context.viewModel.getLineContent(i.lineNumber),y=Ni.i('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',[]);let D=!0,X=i.column,ce=!0,me=i.column,Ze=0;for(;Ze<50&&(D||ce);){if(D&&X<=1&&(D=!1),D){const qe=c.charCodeAt(X-2);y.get(qe)!==0?D=!1:X--}if(ce&&me>c.length&&(ce=!1),ce){const qe=c.charCodeAt(me-1);y.get(qe)!==0?ce=!1:me++}Ze++}return[c.substring(X-1,me-1),i.column-X]}_getWordBeforePosition(i){const c=this._context.viewModel.getLineContent(i.lineNumber),y=Ni.i(this._context.configuration.options.get(132),[]);let D=i.column,X=0;for(;D>1;){const ce=c.charCodeAt(D-2);if(y.get(ce)!==0||X>50)return c.substring(D-1,i.column-1);X++,D--}return c.substring(0,i.column-1)}_getCharacterBeforePosition(i){if(i.column>1){const c=this._context.viewModel.getLineContent(i.lineNumber).charAt(i.column-2);if(!En.pc(c.charCodeAt(0)))return c}return""}_getAriaLabel(i){if(i.get(2)===1){const c=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode")?.getAriaLabel(),y=this._keybindingService.lookupKeybinding("workbench.action.showCommands")?.getAriaLabel(),D=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings")?.getAriaLabel(),X=Oi.kg("accessibilityModeOff","The editor is not accessible at this time.");return c?Oi.kg("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",X,c):y?Oi.kg("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",X,y):D?Oi.kg("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",X,D):X}return i.get(4)}_setAccessibilityOptions(i){this._accessibilitySupport=i.get(2);const c=i.get(3);this._accessibilitySupport===2&&c===W.qB.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=c;const y=i.get(146).wrappingColumn;if(y!==-1&&this._accessibilitySupport!==1){const D=i.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(y*D.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=Yn?0:1}onConfigurationChanged(i){const c=this._context.configuration.options,y=c.get(146);this._setAccessibilityOptions(c),this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,this._contentHeight=y.height,this._fontInfo=c.get(50),this._lineHeight=c.get(67),this._emptySelectionClipboard=c.get(37),this._copyWithSyntaxHighlighting=c.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:D}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=D*this._fontInfo.spaceWidth+"px",this.textArea.setAttribute("aria-label",this._getAriaLabel(c)),this.textArea.setAttribute("aria-required",c.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(c.get(125))),(i.hasChanged(34)||i.hasChanged(92))&&this._ensureReadOnlyAttribute(),i.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),this._modelSelections=i.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return this._scrollLeft=i.scrollLeft,this._scrollTop=i.scrollTop,!0}onZonesChanged(i){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(i){i.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",i.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),i.role&&this.textArea.setAttribute("role",i.role)}_ensureReadOnlyAttribute(){const i=this._context.configuration.options;!tr.M.enabled||i.get(34)&&i.get(92)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(i){this._primaryCursorPosition=new Se.y(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=i.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea?.prepareRender(i)}render(i){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){if(this._visibleTextArea){const y=this._visibleTextArea.visibleTextareaStart,D=this._visibleTextArea.visibleTextareaEnd,X=this._visibleTextArea.startPosition,ce=this._visibleTextArea.endPosition;if(X&&ce&&y&&D&&D.left>=this._scrollLeft&&y.left<=this._scrollLeft+this._contentWidth){const me=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,Ze=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let qe=this._visibleTextArea.widthOfHiddenLineTextBefore,it=this._contentLeft+y.left-this._scrollLeft,at=D.left-y.left+1;if(it<this._contentLeft){const Gt=this._contentLeft-it;it+=Gt,qe+=Gt,at-=Gt}at>this._contentWidth&&(at=this._contentWidth);const ot=this._context.viewModel.getViewLineData(X.lineNumber),Jt=ot.tokens.findTokenIndexAtOffset(X.column-1),Ft=Jt===ot.tokens.findTokenIndexAtOffset(ce.column-1),$t=this._visibleTextArea.definePresentation(Ft?ot.tokens.getPresentation(Jt):null);this.textArea.domNode.scrollTop=Ze*this._lineHeight,this.textArea.domNode.scrollLeft=qe,this._doRender({lastRenderPosition:null,top:me,left:it,width:at,height:this._lineHeight,useCover:!1,color:(er.dG.getColorMap()||[])[$t.foreground],italic:$t.italic,bold:$t.bold,underline:$t.underline,strikethrough:$t.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const i=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(i<this._contentLeft||i>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const c=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(c<0||c>this._contentHeight)this._renderAtTopLeft();else if(b.zx||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:this._textAreaWrapping?this._contentLeft:i,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const y=this._textAreaInput.textAreaState.newlineCountBeforeSelection??this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=y*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:this._textAreaWrapping?this._contentLeft:i,width:this._textAreaWidth,height:Yn?0:1,useCover:!1})}_newlinecount(i){let c=0,y=-1;for(;y=i.indexOf("\n",y+1),y!==-1;)c++;return c}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:Yn?0:1,useCover:!0})}_doRender(i){this._lastRenderPosition=i.lastRenderPosition;const c=this.textArea,y=this.textAreaCover;f.M(c,this._fontInfo),c.setTop(i.top),c.setLeft(i.left),c.setWidth(i.width),c.setHeight(i.height),c.setColor(i.color?Zi.Q1.Format.CSS.formatHex(i.color):""),c.setFontStyle(i.italic?"italic":""),i.bold&&c.setFontWeight("bold"),c.setTextDecoration(`${i.underline?" underline":""}${i.strikethrough?" line-through":""}`),y.setTop(i.useCover?i.top:0),y.setLeft(i.useCover?i.left:0),y.setWidth(i.useCover?i.width:0),y.setHeight(i.useCover?i.height:0);const D=this._context.configuration.options;D.get(57)?y.setClassName("monaco-editor-background textAreaCover "+xi.OUTER_CLASS_NAME):D.get(68).renderType!==0?y.setClassName("monaco-editor-background textAreaCover "+Xn.CLASS_NAME):y.setClassName("monaco-editor-background textAreaCover")}};Nt=function(i,c,y,D){var X,ce=arguments.length,me=ce<3?c:D===null?D=Object.getOwnPropertyDescriptor(c,y):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(i,c,y,D);else for(var Ze=i.length-1;Ze>=0;Ze--)(X=i[Ze])&&(me=(ce<3?X(me):ce>3?X(c,y,me):X(c,y))||me);return ce>3&&me&&Object.defineProperty(c,y,me),me}([un(3,rr.b),un(4,yi._Y)],Nt);var Ci=h(8664),Hn=h(2521);class Xt{constructor(i,c,y,D){this.configuration=i,this.viewModel=c,this.userInputEvents=y,this.commandDelegate=D}paste(i,c,y,D){this.commandDelegate.paste(i,c,y,D)}type(i){this.commandDelegate.type(i)}compositionType(i,c,y,D){this.commandDelegate.compositionType(i,c,y,D)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(i){Hn.QM.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:i})}_validateViewColumn(i){const c=this.viewModel.getLineMinColumn(i.lineNumber);return i.column<c?new Se.y(i.lineNumber,c):i}_hasMulticursorModifier(i){switch(this.configuration.options.get(78)){case"altKey":return i.altKey;case"ctrlKey":return i.ctrlKey;case"metaKey":return i.metaKey;default:return!1}}_hasNonMulticursorModifier(i){switch(this.configuration.options.get(78)){case"altKey":return i.ctrlKey||i.metaKey;case"ctrlKey":return i.altKey||i.metaKey;case"metaKey":return i.ctrlKey||i.altKey;default:return!1}}dispatchMouse(i){const c=this.configuration.options,y=b.j9&&c.get(108),D=c.get(22);i.middleButton&&!y?this._columnSelect(i.position,i.mouseColumn,i.inSelectionMode):i.startedOnLineNumbers?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelect(i.position,i.revealType):this._createCursor(i.position,!0):i.inSelectionMode?this._lineSelectDrag(i.position,i.revealType):this._lineSelect(i.position,i.revealType):i.mouseDownCount>=4?this._selectAll():i.mouseDownCount===3?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelectDrag(i.position,i.revealType):this._lastCursorLineSelect(i.position,i.revealType):i.inSelectionMode?this._lineSelectDrag(i.position,i.revealType):this._lineSelect(i.position,i.revealType):i.mouseDownCount===2?i.onInjectedText||(this._hasMulticursorModifier(i)?this._lastCursorWordSelect(i.position,i.revealType):i.inSelectionMode?this._wordSelectDrag(i.position,i.revealType):this._wordSelect(i.position,i.revealType)):this._hasMulticursorModifier(i)?this._hasNonMulticursorModifier(i)||(i.shiftKey?this._columnSelect(i.position,i.mouseColumn,!0):i.inSelectionMode?this._lastCursorMoveToSelect(i.position,i.revealType):this._createCursor(i.position,!1)):i.inSelectionMode?i.altKey||D?this._columnSelect(i.position,i.mouseColumn,!0):this._moveToSelect(i.position,i.revealType):this.moveTo(i.position,i.revealType)}_usualArgs(i,c){return i=this._validateViewColumn(i),{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,revealType:c}}moveTo(i,c){Hn.QM.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(i,c))}_moveToSelect(i,c){Hn.QM.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i,c))}_columnSelect(i,c,y){i=this._validateViewColumn(i),Hn.QM.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,mouseColumn:c,doColumnSelect:y})}_createCursor(i,c){i=this._validateViewColumn(i),Hn.QM.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,wholeLine:c})}_lastCursorMoveToSelect(i,c){Hn.QM.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i,c))}_wordSelect(i,c){Hn.QM.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i,c))}_wordSelectDrag(i,c){Hn.QM.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i,c))}_lastCursorWordSelect(i,c){Hn.QM.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i,c))}_lineSelect(i,c){Hn.QM.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i,c))}_lineSelectDrag(i,c){Hn.QM.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i,c))}_lastCursorLineSelect(i,c){Hn.QM.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i,c))}_lastCursorLineSelectDrag(i,c){Hn.QM.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i,c))}_selectAll(){Hn.QM.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(i){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i)}emitKeyDown(i){this.userInputEvents.emitKeyDown(i)}emitKeyUp(i){this.userInputEvents.emitKeyUp(i)}emitContextMenu(i){this.userInputEvents.emitContextMenu(i)}emitMouseMove(i){this.userInputEvents.emitMouseMove(i)}emitMouseLeave(i){this.userInputEvents.emitMouseLeave(i)}emitMouseUp(i){this.userInputEvents.emitMouseUp(i)}emitMouseDown(i){this.userInputEvents.emitMouseDown(i)}emitMouseDrag(i){this.userInputEvents.emitMouseDrag(i)}emitMouseDrop(i){this.userInputEvents.emitMouseDrop(i)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(i){this.userInputEvents.emitMouseWheel(i)}}var pi=h(3021),Ji=h(4324);class Gi{constructor(i){this._lineFactory=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,c){this._lines=c,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const c=i-this._rendLineNumberStart;if(c<0||c>=this._lines.length)throw new E.D7("Illegal value for lineNumber");return this._lines[c]}onLinesDeleted(i,c){if(this.getCount()===0)return null;const y=this.getStartLineNumber(),D=this.getEndLineNumber();if(c<y){const me=c-i+1;return this._rendLineNumberStart-=me,null}if(i>D)return null;let X=0,ce=0;for(let me=y;me<=D;me++){const Ze=me-this._rendLineNumberStart;i<=me&&me<=c&&(ce===0?(X=Ze,ce=1):ce++)}if(i<y){let me=0;me=c<y?c-i+1:y-i,this._rendLineNumberStart-=me}return this._lines.splice(X,ce)}onLinesChanged(i,c){const y=i+c-1;if(this.getCount()===0)return!1;const D=this.getStartLineNumber(),X=this.getEndLineNumber();let ce=!1;for(let me=i;me<=y;me++)me>=D&&me<=X&&(this._lines[me-this._rendLineNumberStart].onContentChanged(),ce=!0);return ce}onLinesInserted(i,c){if(this.getCount()===0)return null;const y=c-i+1,D=this.getStartLineNumber(),X=this.getEndLineNumber();if(i<=D)return this._rendLineNumberStart+=y,null;if(i>X)return null;if(y+i>X)return this._lines.splice(i-this._rendLineNumberStart,X-i+1);const ce=[];for(let at=0;at<y;at++)ce[at]=this._lineFactory.createLine();const me=i-this._rendLineNumberStart,Ze=this._lines.slice(0,me),qe=this._lines.slice(me,this._lines.length-y),it=this._lines.slice(this._lines.length-y,this._lines.length);return this._lines=Ze.concat(ce).concat(qe),it}onTokensChanged(i){if(this.getCount()===0)return!1;const c=this.getStartLineNumber(),y=this.getEndLineNumber();let D=!1;for(let X=0,ce=i.length;X<ce;X++){const me=i[X];if(me.toLineNumber<c||me.fromLineNumber>y)continue;const Ze=Math.max(c,me.fromLineNumber),qe=Math.min(y,me.toLineNumber);for(let it=Ze;it<=qe;it++){const at=it-this._rendLineNumberStart;this._lines[at].onTokensChanged(),D=!0}}return D}}class dr{constructor(i){this._lineFactory=i,this.domNode=this._createDomNode(),this._linesCollection=new Gi(this._lineFactory)}_createDomNode(){const i=Te.Z(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(146)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.count)}onLinesDeleted(i){const c=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(c)for(let y=0,D=c.length;y<D;y++)c[y].getDomNode()?.remove();return!0}onLinesInserted(i){const c=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(c)for(let y=0,D=c.length;y<D;y++)c[y].getDomNode()?.remove();return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const c=this._linesCollection._get(),y=new Ui(this.domNode.domNode,this._lineFactory,i),D={rendLineNumberStart:c.rendLineNumberStart,lines:c.lines,linesLength:c.lines.length},X=y.render(D,i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(X.rendLineNumberStart,X.lines)}}class Ui{static{this._ttPolicy=pi.H("editorViewLayer",{createHTML:(i)=>i})}constructor(i,c,y){this._domNode=i,this._lineFactory=c,this._viewportData=y}render(i,c,y,D){const X={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(X.rendLineNumberStart+X.linesLength-1<c||y<X.rendLineNumberStart){X.rendLineNumberStart=c,X.linesLength=y-c+1,X.lines=[];for(let ce=c;ce<=y;ce++)X.lines[ce-c]=this._lineFactory.createLine();return this._finishRendering(X,!0,D),X}if(this._renderUntouchedLines(X,Math.max(c-X.rendLineNumberStart,0),Math.min(y-X.rendLineNumberStart,X.linesLength-1),D,c),X.rendLineNumberStart>c){const ce=c,me=Math.min(y,X.rendLineNumberStart-1);ce<=me&&(this._insertLinesBefore(X,ce,me,D,c),X.linesLength+=me-ce+1)}else if(X.rendLineNumberStart<c){const ce=Math.min(X.linesLength,c-X.rendLineNumberStart);ce>0&&(this._removeLinesBefore(X,ce),X.linesLength-=ce)}if(X.rendLineNumberStart=c,X.rendLineNumberStart+X.linesLength-1<y){const ce=X.rendLineNumberStart+X.linesLength,me=y;ce<=me&&(this._insertLinesAfter(X,ce,me,D,c),X.linesLength+=me-ce+1)}else if(X.rendLineNumberStart+X.linesLength-1>y){const ce=Math.max(0,y-X.rendLineNumberStart+1),me=X.linesLength-1-ce+1;me>0&&(this._removeLinesAfter(X,me),X.linesLength-=me)}return this._finishRendering(X,!1,D),X}_renderUntouchedLines(i,c,y,D,X){const{rendLineNumberStart:ce,lines:me}=i;for(let Ze=c;Ze<=y;Ze++){const qe=ce+Ze;me[Ze].layoutLine(qe,D[qe-X],this._viewportData.lineHeight)}}_insertLinesBefore(i,c,y,D,X){const ce=[];let me=0;for(let Ze=c;Ze<=y;Ze++)ce[me++]=this._lineFactory.createLine();i.lines=ce.concat(i.lines)}_removeLinesBefore(i,c){for(let y=0;y<c;y++)i.lines[y].getDomNode()?.remove();i.lines.splice(0,c)}_insertLinesAfter(i,c,y,D,X){const ce=[];let me=0;for(let Ze=c;Ze<=y;Ze++)ce[me++]=this._lineFactory.createLine();i.lines=i.lines.concat(ce)}_removeLinesAfter(i,c){const y=i.linesLength-c;for(let D=0;D<c;D++)i.lines[y+D].getDomNode()?.remove();i.lines.splice(y,c)}_finishRenderingNewLines(i,c,y,D){Ui._ttPolicy&&(y=Ui._ttPolicy.createHTML(y));const X=this._domNode.lastChild;c||!X?this._domNode.innerHTML=y:X.insertAdjacentHTML("afterend",y);let ce=this._domNode.lastChild;for(let me=i.linesLength-1;me>=0;me--){const Ze=i.lines[me];D[me]&&(Ze.setDomNode(ce),ce=ce.previousSibling)}}_finishRenderingInvalidLines(i,c,y){const D=document.createElement("div");Ui._ttPolicy&&(c=Ui._ttPolicy.createHTML(c)),D.innerHTML=c;for(let X=0;X<i.linesLength;X++){const ce=i.lines[X];if(y[X]){const me=D.firstChild,Ze=ce.getDomNode();Ze.parentNode.replaceChild(me,Ze),ce.setDomNode(me)}}}static{this._sb=new Ji.fe(1e5)}_finishRendering(i,c,y){const D=Ui._sb,X=i.linesLength,ce=i.lines,me=i.rendLineNumberStart,Ze=[];{D.reset();let qe=!1;for(let it=0;it<X;it++){const at=ce[it];Ze[it]=!1,at.getDomNode()||at.renderLine(it+me,y[it],this._viewportData.lineHeight,this._viewportData,D)&&(Ze[it]=!0,qe=!0)}qe&&this._finishRenderingNewLines(i,c,D.build(),Ze)}{D.reset();let qe=!1;const it=[];for(let at=0;at<X;at++){const ot=ce[at];(it[at]=!1,Ze[at])||ot.renderLine(at+me,y[at],this._viewportData.lineHeight,this._viewportData,D)&&(it[at]=!0,qe=!0)}qe&&this._finishRenderingInvalidLines(i,D.build(),it)}}}class Xi extends he{constructor(i){super(i),this._dynamicOverlays=[],this._isFocused=!1,this._visibleLines=new dr({createLine:()=>new Pi(this._dynamicOverlays)}),this.domNode=this._visibleLines.domNode;const c=this._context.configuration.options.get(50);f.M(this.domNode,c),this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,c=this._dynamicOverlays.length;i<c;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,c=this._dynamicOverlays.length;i<c;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}addDynamicOverlay(i){this._dynamicOverlays.push(i)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i);const c=this._context.configuration.options.get(50);return f.M(this.domNode,c),!0}onFlushed(i){return this._visibleLines.onFlushed(i)}onFocusChanged(i){return this._isFocused=i.isFocused,!0}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onScrollChanged(i){return this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._visibleLines.onZonesChanged(i)}prepareRender(i){const c=this._dynamicOverlays.filter((y)=>y.shouldRender());for(let y=0,D=c.length;y<D;y++){const X=c[y];X.prepareRender(i),X.onDidRender()}}render(i){this._viewOverlaysRender(i),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(i){this._visibleLines.renderLines(i.viewportData)}}class Pi{constructor(i){this._dynamicOverlays=i,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(i){this._domNode=Te.Z(i)}onContentChanged(){}onTokensChanged(){}renderLine(i,c,y,D,X){let ce="";for(let me=0,Ze=this._dynamicOverlays.length;me<Ze;me++)ce+=this._dynamicOverlays[me].render(D.startLineNumber,i);return this._renderedContent!==ce&&(this._renderedContent=ce,X.appendString('<div style="top:'),X.appendString(String(c)),X.appendString("px;height:"),X.appendString(String(y)),X.appendString('px;">'),X.appendString(ce),X.appendString("</div>"),!0)}layoutLine(i,c,y){this._domNode&&(this._domNode.setTop(c),this._domNode.setHeight(y))}}class ar extends Xi{constructor(i){super(i);const c=this._context.configuration.options.get(146);this._contentWidth=c.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(i){const c=this._context.configuration.options.get(146);return this._contentWidth=c.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))}}class Hi extends Xi{constructor(i){super(i);const c=this._context.configuration.options,y=c.get(146);this._contentLeft=y.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),f.M(this.domNode,c.get(50))}onConfigurationChanged(i){const c=this._context.configuration.options;f.M(this.domNode,c.get(50));const y=c.get(146);return this._contentLeft=y.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const c=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(c),this.domNode.setWidth(this._contentLeft)}}class or{constructor(i){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=i}emitKeyDown(i){this.onKeyDown?.(i)}emitKeyUp(i){this.onKeyUp?.(i)}emitContextMenu(i){this.onContextMenu?.(this._convertViewToModelMouseEvent(i))}emitMouseMove(i){this.onMouseMove?.(this._convertViewToModelMouseEvent(i))}emitMouseLeave(i){this.onMouseLeave?.(this._convertViewToModelMouseEvent(i))}emitMouseDown(i){this.onMouseDown?.(this._convertViewToModelMouseEvent(i))}emitMouseUp(i){this.onMouseUp?.(this._convertViewToModelMouseEvent(i))}emitMouseDrag(i){this.onMouseDrag?.(this._convertViewToModelMouseEvent(i))}emitMouseDrop(i){this.onMouseDrop?.(this._convertViewToModelMouseEvent(i))}emitMouseDropCanceled(){this.onMouseDropCanceled?.()}emitMouseWheel(i){this.onMouseWheel?.(i)}_convertViewToModelMouseEvent(i){return i.target?{event:i.event,target:this._convertViewToModelMouseTarget(i.target)}:i}_convertViewToModelMouseTarget(i){return or.convertViewToModelMouseTarget(i,this._coordinatesConverter)}static convertViewToModelMouseTarget(i,c){const y={...i};return y.position&&(y.position=c.convertViewPositionToModelPosition(y.position)),y.range&&(y.range=c.convertViewRangeToModelRange(y.range)),y.type!==5&&y.type!==8||(y.detail=this.convertViewToModelViewZoneData(y.detail,c)),y}static convertViewToModelViewZoneData(i,c){return{viewZoneId:i.viewZoneId,positionBefore:i.positionBefore?c.convertViewPositionToModelPosition(i.positionBefore):i.positionBefore,positionAfter:i.positionAfter?c.convertViewPositionToModelPosition(i.positionAfter):i.positionAfter,position:c.convertViewPositionToModelPosition(i.position),afterLineNumber:c.convertViewPositionToModelPosition(new Se.y(i.afterLineNumber,1)).lineNumber}}}class Yi extends he{constructor(i){super(i),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=Te.Z(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let i=!1;const c=this._context.configuration.options.get(146),y=c.contentWidth-c.verticalScrollbarWidth;this.contentWidth!==y&&(this.contentWidth=y,i=!0);const D=c.contentLeft;return this.contentLeft!==D&&(this.contentLeft=D,i=!0),i}dispose(){super.dispose()}onConfigurationChanged(i){return this.update()}onScrollChanged(i){return i.scrollTopChanged||i.scrollLeftChanged}onDecorationsChanged(i){return!0}onZonesChanged(i){return!0}prepareRender(i){}render(i){let c=0;const y=i.getDecorationsInViewport();for(let D of y){if(!D.options.blockClassName)continue;let X,ce,me=this.blocks[c];me||(me=this.blocks[c]=Te.Z(document.createElement("div")),this.domNode.appendChild(me)),D.options.blockIsAfterEnd?(X=i.getVerticalOffsetAfterLineNumber(D.range.endLineNumber,!1),ce=i.getVerticalOffsetAfterLineNumber(D.range.endLineNumber,!0)):(X=i.getVerticalOffsetForLineNumber(D.range.startLineNumber,!0),ce=D.range.isEmpty()&&!D.options.blockDoesNotCollapse?i.getVerticalOffsetForLineNumber(D.range.startLineNumber,!1):i.getVerticalOffsetAfterLineNumber(D.range.endLineNumber,!0));const[Ze,qe,it,at]=D.options.blockPadding??[0,0,0,0];me.setClassName("blockDecorations-block "+D.options.blockClassName),me.setLeft(this.contentLeft-at),me.setWidth(this.contentWidth+at+qe),me.setTop(X-i.scrollTop-Ze),me.setHeight(ce-X+Ze+it),c++}for(let D=c;D<this.blocks.length;D++)this.blocks[D].domNode.remove();this.blocks.length=c}}class _t extends he{constructor(i,c){super(i),this._viewDomNode=c,this._widgets={},this.domNode=Te.Z(document.createElement("div")),Q.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=Te.Z(document.createElement("div")),Q.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(i){const c=Object.keys(this._widgets);for(let y of c)this._widgets[y].onConfigurationChanged(i);return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLineMappingChanged(i){return this._updateAnchorsViewPositions(),!0}onLinesChanged(i){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(i){return this._updateAnchorsViewPositions(),!0}onLinesInserted(i){return this._updateAnchorsViewPositions(),!0}onScrollChanged(i){return!0}onZonesChanged(i){return!0}_updateAnchorsViewPositions(){const i=Object.keys(this._widgets);for(let c of i)this._widgets[c].updateAnchorViewPosition()}addWidget(i){const c=new Kt(this._context,this._viewDomNode,i);this._widgets[c.id]=c,c.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(c.domNode):this.domNode.appendChild(c.domNode),this.setShouldRender()}setWidgetPosition(i,c,y,D,X){this._widgets[i.getId()].setPosition(c,y,D,X),this.setShouldRender()}removeWidget(i){const c=i.getId();if(this._widgets.hasOwnProperty(c)){const y=this._widgets[c];delete this._widgets[c];const D=y.domNode.domNode;D.remove(),D.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(i){return!!this._widgets.hasOwnProperty(i)&&this._widgets[i].suppressMouseDown}onBeforeRender(i){const c=Object.keys(this._widgets);for(let y of c)this._widgets[y].onBeforeRender(i)}prepareRender(i){const c=Object.keys(this._widgets);for(let y of c)this._widgets[y].prepareRender(i)}render(i){const c=Object.keys(this._widgets);for(let y of c)this._widgets[y].render(i)}}class Kt{constructor(i,c,y){this._primaryAnchor=new tn(null,null),this._secondaryAnchor=new tn(null,null),this._context=i,this._viewDomNode=c,this._actual=y,this.domNode=Te.Z(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const D=this._context.configuration.options,X=D.get(146);this._fixedOverflowWidgets=D.get(42),this._contentWidth=X.contentWidth,this._contentLeft=X.contentLeft,this._lineHeight=D.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(i){const c=this._context.configuration.options;if(this._lineHeight=c.get(67),i.hasChanged(146)){const y=c.get(146);this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(i,c,y){function D(X,ce,me){if(!X)return new tn(null,null);const Ze=ce.model.validatePosition(X);if(ce.coordinatesConverter.modelPositionIsVisible(Ze)){const qe=ce.coordinatesConverter.convertModelPositionToViewPosition(Ze,me??void 0);return new tn(X,qe)}return new tn(X,null)}this._affinity=i,this._primaryAnchor=D(c,this._context.viewModel,this._affinity),this._secondaryAnchor=D(y,this._context.viewModel,this._affinity)}_getMaxWidth(){const i=this.domNode.domNode.ownerDocument,c=i.defaultView;return this.allowEditorOverflow?c?.innerWidth||i.documentElement.offsetWidth||i.body.offsetWidth:this._contentWidth}setPosition(i,c,y,D){this._setPosition(D,i,c),this._preference=y,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(i,c,y,D){const X=i.top,ce=X,me=i.top+i.height,Ze=X-y,qe=ce>=y,it=me,at=D.viewportHeight-me>=y;let ot=i.left;return ot+c>D.scrollLeft+D.viewportWidth&&(ot=D.scrollLeft+D.viewportWidth-c),ot<D.scrollLeft&&(ot=D.scrollLeft),{fitsAbove:qe,aboveTop:Ze,fitsBelow:at,belowTop:it,left:ot}}_layoutHorizontalSegmentInPage(i,c,y,D){const X=Math.max(15,c.left-D),ce=Math.min(c.left+c.width+D,i.width-15),me=this._viewDomNode.domNode.ownerDocument.defaultView;let Ze=c.left+y-(me?.scrollX??0);if(Ze+D>ce){const qe=Ze-(ce-D);Ze-=qe,y-=qe}if(Ze<X){const qe=Ze-X;Ze-=qe,y-=qe}return[y,Ze]}_layoutBoxInPage(i,c,y,D){const X=i.top-y,ce=i.top+i.height,me=v.BK(this._viewDomNode.domNode),Ze=this._viewDomNode.domNode.ownerDocument,qe=Ze.defaultView,it=me.top+X-(qe?.scrollY??0),at=me.top+ce-(qe?.scrollY??0),ot=v.tG(Ze.body),[Jt,Ft]=this._layoutHorizontalSegmentInPage(ot,me,i.left-D.scrollLeft+this._contentLeft,c),$t=it>=22,Gt=at+y<=ot.height-22;return this._fixedOverflowWidgets?{fitsAbove:$t,aboveTop:Math.max(it,22),fitsBelow:Gt,belowTop:at,left:Ft}:{fitsAbove:$t,aboveTop:X,fitsBelow:Gt,belowTop:ce,left:Jt}}_prepareRenderWidgetAtExactPositionOverflowing(i){return new In(i.top,i.left+this._contentLeft)}_getAnchorsCoordinates(i){return{primary:c(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),secondary:c(this._secondaryAnchor.viewPosition?.lineNumber===this._primaryAnchor.viewPosition?.lineNumber?this._secondaryAnchor.viewPosition:null,this._affinity,this._lineHeight)};function c(y,D,X){if(!y)return null;const ce=i.visibleRangeForPosition(y);if(!ce)return null;const me=y.column===1&&D===3?0:ce.left,Ze=i.getVerticalOffsetForLineNumber(y.lineNumber)-i.scrollTop;return new mn(Ze,me,X)}}_reduceAnchorCoordinates(i,c,y){if(!c)return i;const D=this._context.configuration.options.get(50);let X=c.left;return X=X<i.left?Math.max(X,i.left-y+D.typicalFullwidthCharacterWidth):Math.min(X,i.left+y-D.typicalFullwidthCharacterWidth),new mn(i.top,X,i.height)}_prepareRenderWidget(i){if(!this._preference||this._preference.length===0)return null;const{primary:c,secondary:y}=this._getAnchorsCoordinates(i);if(!c)return{kind:"offViewport",preserveFocus:this.domNode.domNode.contains(this.domNode.domNode.ownerDocument.activeElement)};if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let ce=null;if(typeof this._actual.beforeRender=="function"&&(ce=wn(this._actual.beforeRender,this._actual)),ce)this._cachedDomNodeOffsetWidth=ce.width,this._cachedDomNodeOffsetHeight=ce.height;else{const me=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(me.width),this._cachedDomNodeOffsetHeight=Math.round(me.height)}}const D=this._reduceAnchorCoordinates(c,y,this._cachedDomNodeOffsetWidth);let X;X=this.allowEditorOverflow?this._layoutBoxInPage(D,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i):this._layoutBoxInViewport(D,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i);for(let ce=1;ce<=2;ce++)for(let me of this._preference)if(me===1){if(!X)return null;if(ce===2||X.fitsAbove)return{kind:"inViewport",coordinate:new In(X.aboveTop,X.left),position:1}}else{if(me!==2)return this.allowEditorOverflow?{kind:"inViewport",coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new In(D.top,D.left)),position:0}:{kind:"inViewport",coordinate:new In(D.top,D.left),position:0};if(!X)return null;if(ce===2||X.fitsBelow)return{kind:"inViewport",coordinate:new In(X.belowTop,X.left),position:2}}return null}onBeforeRender(i){this._primaryAnchor.viewPosition&&this._preference&&(this._primaryAnchor.viewPosition.lineNumber<i.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>i.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(i){this._renderData=this._prepareRenderWidget(i)}render(i){if(!this._renderData||this._renderData.kind==="offViewport")return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this._renderData?.kind==="offViewport"&&this._renderData.preserveFocus?this.domNode.setTop(-1000):this.domNode.setVisibility("hidden")),void(typeof this._actual.afterRender=="function"&&wn(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+i.scrollTop-i.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&wn(this._actual.afterRender,this._actual,this._renderData.position)}}class tn{constructor(i,c){this.modelPosition=i,this.viewPosition=c}}class In{constructor(i,c){this.top=i,this.left=c,this._coordinateBrand=void 0}}class mn{constructor(i,c,y){this.top=i,this.left=c,this.height=y,this._anchorCoordinateBrand=void 0}}function wn(i,c,...y){try{return i.call(c,...y)}catch{return null}}var An=h(9563);class fi extends si{constructor(i){super(),this._context=i;const c=this._context.configuration.options,y=c.get(146);this._renderLineHighlight=c.get(97),this._renderLineHighlightOnlyWhenFocus=c.get(98),this._wordWrap=y.isViewportWrapping,this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new jt.L(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const c=new Set;for(let X of this._selections)c.add(X.positionLineNumber);const y=Array.from(c);y.sort((X,ce)=>X-ce),_.aI(this._cursorLineNumbers,y)||(this._cursorLineNumbers=y,i=!0);const D=this._selections.every((X)=>X.isEmpty());return this._selectionIsEmpty!==D&&(this._selectionIsEmpty=D,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const c=this._context.configuration.options,y=c.get(146);return this._renderLineHighlight=c.get(97),this._renderLineHighlightOnlyWhenFocus=c.get(98),this._wordWrap=y.isViewportWrapping,this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=i.isFocused,!0)}prepareRender(i){if(!this._shouldRenderThis())return void(this._renderData=null);const c=i.visibleRange.startLineNumber,y=i.visibleRange.endLineNumber,D=[];for(let ce=c;ce<=y;ce++)D[ce-c]="";if(this._wordWrap){const ce=this._renderOne(i,!1);for(let me of this._cursorLineNumbers){const Ze=this._context.viewModel.coordinatesConverter,qe=Ze.convertViewPositionToModelPosition(new Se.y(me,1)).lineNumber,it=Ze.convertModelPositionToViewPosition(new Se.y(qe,1)).lineNumber,at=Ze.convertModelPositionToViewPosition(new Se.y(qe,this._context.viewModel.model.getLineMaxColumn(qe))).lineNumber,ot=Math.max(it,c),Jt=Math.min(at,y);for(let Ft=ot;Ft<=Jt;Ft++)D[Ft-c]=ce}}const X=this._renderOne(i,!0);for(let ce of this._cursorLineNumbers)ce<c||ce>y||(D[ce-c]=X);this._renderData=D}render(i,c){if(!this._renderData)return"";const y=c-i;return y>=this._renderData.length?"":this._renderData[y]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class qn extends fi{_renderOne(i,c){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(c?" current-line-exact":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class oi extends fi{_renderOne(i,c){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&c?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}ti.zy((i,c)=>{const y=i.getColor(Ln.kG);if(y&&(c.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${y}; }`),c.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${y}; border: none; }`)),!y||y.isTransparent()||i.defines(Ln.Mf)){const D=i.getColor(Ln.Mf);D&&(c.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${D}; }`),c.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${D}; }`),An.Bb(i.type)&&(c.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),c.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}});class Ai extends si{constructor(i){super(),this._context=i;const c=this._context.configuration.options;this._typicalHalfwidthCharacterWidth=c.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return this._typicalHalfwidthCharacterWidth=c.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}prepareRender(i){const c=i.getDecorationsInViewport();let y=[],D=0;for(let Ze=0,qe=c.length;Ze<qe;Ze++){const it=c[Ze];it.options.className&&(y[D++]=it)}y=y.sort((Ze,qe)=>{if(Ze.options.zIndex<qe.options.zIndex)return-1;if(Ze.options.zIndex>qe.options.zIndex)return 1;const it=Ze.options.className,at=qe.options.className;return it<at?-1:it>at?1:Pe.Q.compareRangesUsingStarts(Ze.range,qe.range)});const X=i.visibleRange.startLineNumber,ce=i.visibleRange.endLineNumber,me=[];for(let Ze=X;Ze<=ce;Ze++)me[Ze-X]="";this._renderWholeLineDecorations(i,y,me),this._renderNormalDecorations(i,y,me),this._renderResult=me}_renderWholeLineDecorations(i,c,y){const D=i.visibleRange.startLineNumber,X=i.visibleRange.endLineNumber;for(let ce=0,me=c.length;ce<me;ce++){const Ze=c[ce];if(!Ze.options.isWholeLine)continue;const qe='<div class="cdr '+Ze.options.className+'" style="left:0;width:100%;"></div>',it=Math.max(Ze.range.startLineNumber,D),at=Math.min(Ze.range.endLineNumber,X);for(let ot=it;ot<=at;ot++)y[ot-D]+=qe}}_renderNormalDecorations(i,c,y){const D=i.visibleRange.startLineNumber;let X=null,ce=!1,me=null,Ze=!1;for(let qe=0,it=c.length;qe<it;qe++){const at=c[qe];if(at.options.isWholeLine)continue;const ot=at.options.className,Jt=Boolean(at.options.showIfCollapsed);let Ft=at.range;Jt&&Ft.endColumn===1&&Ft.endLineNumber!==Ft.startLineNumber&&(Ft=new Pe.Q(Ft.startLineNumber,Ft.startColumn,Ft.endLineNumber-1,this._context.viewModel.getLineMaxColumn(Ft.endLineNumber-1))),X===ot&&ce===Jt&&Pe.Q.areIntersectingOrTouching(me,Ft)?me=Pe.Q.plusRange(me,Ft):(X!==null&&this._renderNormalDecoration(i,me,X,Ze,ce,D,y),X=ot,ce=Jt,me=Ft,Ze=at.options.shouldFillLineOnLineBreak??!1)}X!==null&&this._renderNormalDecoration(i,me,X,Ze,ce,D,y)}_renderNormalDecoration(i,c,y,D,X,ce,me){const Ze=i.linesVisibleRangesForRange(c,y==="findMatch");if(Ze)for(let qe=0,it=Ze.length;qe<it;qe++){const at=Ze[qe];if(at.outsideRenderedLine)continue;const ot=at.lineNumber-ce;if(X&&at.ranges.length===1){const Jt=at.ranges[0];if(Jt.width<this._typicalHalfwidthCharacterWidth){const Ft=Math.round(Jt.left+Jt.width/2),$t=Math.max(0,Math.round(Ft-this._typicalHalfwidthCharacterWidth/2));at.ranges[0]=new Ci.Y($t,this._typicalHalfwidthCharacterWidth)}}for(let Jt=0,Ft=at.ranges.length;Jt<Ft;Jt++){const $t=D&&at.continuesOnNextLine&&Ft===1,Gt=at.ranges[Jt],_n='<div class="cdr '+y+'" style="left:'+String(Gt.left)+"px;width:"+($t?"100%;":String(Gt.width)+"px;")+'"></div>';me[ot]+=_n}}}render(i,c){if(!this._renderResult)return"";const y=c-i;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}class nr extends he{constructor(i,c,y,D){super(i);const X=this._context.configuration.options,ce=X.get(104),me=X.get(75),Ze=X.get(40),qe=X.get(107),it={listenOnDomNode:y.domNode,className:"editor-scrollable "+ti.Pz(i.theme.type),useShadows:!1,lazyRender:!0,vertical:ce.vertical,horizontal:ce.horizontal,verticalHasArrows:ce.verticalHasArrows,horizontalHasArrows:ce.horizontalHasArrows,verticalScrollbarSize:ce.verticalScrollbarSize,verticalSliderSize:ce.verticalSliderSize,horizontalScrollbarSize:ce.horizontalScrollbarSize,horizontalSliderSize:ce.horizontalSliderSize,handleMouseWheel:ce.handleMouseWheel,alwaysConsumeMouseWheel:ce.alwaysConsumeMouseWheel,arrowSize:ce.arrowSize,mouseWheelScrollSensitivity:me,fastScrollSensitivity:Ze,scrollPredominantAxis:qe,scrollByPage:ce.scrollByPage};this.scrollbar=this._register(new xn.oO(c.domNode,it,this._context.viewLayout.getScrollable())),Q.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=Te.Z(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const at=(ot,Jt,Ft)=>{const $t={};if(Jt){const Gt=ot.scrollTop;Gt&&($t.scrollTop=this._context.viewLayout.getCurrentScrollTop()+Gt,ot.scrollTop=0)}if(Ft){const Gt=ot.scrollLeft;Gt&&($t.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+Gt,ot.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition($t,1)};this._register(v.ko(y.domNode,"scroll",(ot)=>at(y.domNode,!0,!0))),this._register(v.ko(c.domNode,"scroll",(ot)=>at(c.domNode,!0,!1))),this._register(v.ko(D.domNode,"scroll",(ot)=>at(D.domNode,!0,!1))),this._register(v.ko(this.scrollbarDomNode.domNode,"scroll",(ot)=>at(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,c=i.get(146);this.scrollbarDomNode.setLeft(c.contentLeft),i.get(73).side==="right"?this.scrollbarDomNode.setWidth(c.contentWidth+c.minimap.minimapWidth):this.scrollbarDomNode.setWidth(c.contentWidth),this.scrollbarDomNode.setHeight(c.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(i){this.scrollbar.delegateVerticalScrollbarPointerDown(i)}delegateScrollFromMouseWheelEvent(i){this.scrollbar.delegateScrollFromMouseWheelEvent(i)}onConfigurationChanged(i){if(i.hasChanged(104)||i.hasChanged(75)||i.hasChanged(40)){const c=this._context.configuration.options,y=c.get(104),D=c.get(75),X=c.get(40),ce=c.get(107),me={vertical:y.vertical,horizontal:y.horizontal,verticalScrollbarSize:y.verticalScrollbarSize,horizontalScrollbarSize:y.horizontalScrollbarSize,scrollByPage:y.scrollByPage,handleMouseWheel:y.handleMouseWheel,mouseWheelScrollSensitivity:D,fastScrollSensitivity:X,scrollPredominantAxis:ce};this.scrollbar.updateOptions(me)}return i.hasChanged(146)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+ti.Pz(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}var $i=h(6055);class ji{constructor(i,c,y,D,X){this.startLineNumber=i,this.endLineNumber=c,this.className=y,this.tooltip=D,this._decorationToRenderBrand=void 0,this.zIndex=X??0}}class di{constructor(i,c,y){this.className=i,this.zIndex=c,this.tooltip=y}}class Qi{constructor(){this.decorations=[]}add(i){this.decorations.push(i)}getDecorations(){return this.decorations}}class wr extends si{_render(i,c,y){const D=[];for(let me=i;me<=c;me++)D[me-i]=new Qi;if(y.length===0)return D;y.sort((me,Ze)=>me.className===Ze.className?me.startLineNumber===Ze.startLineNumber?me.endLineNumber-Ze.endLineNumber:me.startLineNumber-Ze.startLineNumber:me.className<Ze.className?-1:1);let X=null,ce=0;for(let me=0,Ze=y.length;me<Ze;me++){const qe=y[me],it=qe.className,at=qe.zIndex;let ot=Math.max(qe.startLineNumber,i)-i;const Jt=Math.min(qe.endLineNumber,c)-i;X===it?(ot=Math.max(ce+1,ot),ce=Math.max(ce,Jt)):(X=it,ce=Jt);for(let Ft=ot;Ft<=ce;Ft++)D[Ft].add(new di(it,at,qe.tooltip))}return D}}class ht extends he{constructor(i){super(i),this._widgets={},this._context=i;const c=this._context.configuration.options,y=c.get(146);this.domNode=Te.Z(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=c.get(67),this._glyphMargin=c.get(57),this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,this._glyphMarginDecorationLaneCount=y.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(i){const c=this._context.configuration.options,y=c.get(146);return this._lineHeight=c.get(67),this._glyphMargin=c.get(57),this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,this._glyphMarginDecorationLaneCount=y.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}addWidget(i){const c=Te.Z(i.getDomNode());this._widgets[i.getId()]={widget:i,preference:i.getPosition(),domNode:c,renderInfo:null},c.setPosition("absolute"),c.setDisplay("none"),c.setAttribute("widgetId",i.getId()),this.domNode.appendChild(c),this.setShouldRender()}setWidgetPosition(i,c){const y=this._widgets[i.getId()];return!(y.preference.lane===c.lane&&y.preference.zIndex===c.zIndex&&Pe.Q.equalsRange(y.preference.range,c.range)||(y.preference=c,this.setShouldRender(),0))}removeWidget(i){const c=i.getId();if(this._widgets[c]){const y=this._widgets[c].domNode.domNode;delete this._widgets[c],y.remove(),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(i,c){const y=i.visibleRange.startLineNumber,D=i.visibleRange.endLineNumber,X=i.getDecorationsInViewport();for(let ce of X){const me=ce.options.glyphMarginClassName;if(!me)continue;const Ze=Math.max(ce.range.startLineNumber,y),qe=Math.min(ce.range.endLineNumber,D),it=ce.options.glyphMargin?.position??$i.ZS.Center,at=ce.options.zIndex??0;for(let ot=Ze;ot<=qe;ot++){const Jt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Se.y(ot,0)),Ft=this._context.viewModel.glyphLanes.getLanesAtLine(Jt.lineNumber).indexOf(it);c.push(new xt(ot,Ft,at,me))}}}_collectWidgetBasedGlyphRenderRequest(i,c){const y=i.visibleRange.startLineNumber,D=i.visibleRange.endLineNumber;for(let X of Object.values(this._widgets)){const ce=X.preference.range,{startLineNumber:me,endLineNumber:Ze}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(Pe.Q.lift(ce));if(!me||!Ze||Ze<y||me>D)continue;const qe=Math.max(me,y),it=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Se.y(qe,0)),at=this._context.viewModel.glyphLanes.getLanesAtLine(it.lineNumber).indexOf(X.preference.lane);c.push(new se(qe,at,X.preference.zIndex,X))}}_collectSortedGlyphRenderRequests(i){const c=[];return this._collectDecorationBasedGlyphRenderRequest(i,c),this._collectWidgetBasedGlyphRenderRequest(i,c),c.sort((y,D)=>y.lineNumber===D.lineNumber?y.laneIndex===D.laneIndex?y.zIndex===D.zIndex?D.type===y.type?y.type===0&&D.type===0?y.className<D.className?-1:1:0:D.type-y.type:D.zIndex-y.zIndex:y.laneIndex-D.laneIndex:y.lineNumber-D.lineNumber),c}prepareRender(i){if(!this._glyphMargin)return void(this._decorationGlyphsToRender=[]);for(let D of Object.values(this._widgets))D.renderInfo=null;const c=new _.j3(this._collectSortedGlyphRenderRequests(i)),y=[];for(;c.length>0;){const D=c.peek();if(!D)break;const X=c.takeWhile((me)=>me.lineNumber===D.lineNumber&&me.laneIndex===D.laneIndex);if(!X||X.length===0)break;const ce=X[0];if(ce.type===0){const me=[];for(let Ze of X){if(Ze.zIndex!==ce.zIndex||Ze.type!==ce.type)break;me.length!==0&&me[me.length-1]===Ze.className||me.push(Ze.className)}y.push(ce.accept(me.join(" ")))}else ce.widget.renderInfo={lineNumber:ce.lineNumber,laneIndex:ce.laneIndex}}this._decorationGlyphsToRender=y}render(i){if(!this._glyphMargin){for(let y of Object.values(this._widgets))y.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;)this._managedDomNodes.pop()?.domNode.remove();return}const c=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(let y of Object.values(this._widgets))if(y.renderInfo){const D=i.viewportData.relativeVerticalOffset[y.renderInfo.lineNumber-i.viewportData.startLineNumber],X=this._glyphMarginLeft+y.renderInfo.laneIndex*this._lineHeight;y.domNode.setDisplay("block"),y.domNode.setTop(D),y.domNode.setLeft(X),y.domNode.setWidth(c),y.domNode.setHeight(this._lineHeight)}else y.domNode.setDisplay("none");for(let y=0;y<this._decorationGlyphsToRender.length;y++){const D=this._decorationGlyphsToRender[y],X=i.viewportData.relativeVerticalOffset[D.lineNumber-i.viewportData.startLineNumber],ce=this._glyphMarginLeft+D.laneIndex*this._lineHeight;let me;y<this._managedDomNodes.length?me=this._managedDomNodes[y]:(me=Te.Z(document.createElement("div")),this._managedDomNodes.push(me),this.domNode.appendChild(me)),me.setClassName("cgmr codicon "+D.combinedClassName),me.setPosition("absolute"),me.setTop(X),me.setLeft(ce),me.setWidth(c),me.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;)this._managedDomNodes.pop()?.domNode.remove()}}class xt{constructor(i,c,y,D){this.lineNumber=i,this.laneIndex=c,this.zIndex=y,this.className=D,this.type=0}accept(i){return new Ae(this.lineNumber,this.laneIndex,i)}}class se{constructor(i,c,y,D){this.lineNumber=i,this.laneIndex=c,this.zIndex=y,this.widget=D,this.type=1}}class Ae{constructor(i,c,y){this.lineNumber=i,this.laneIndex=c,this.combinedClassName=y}}var He=h(9359),mt=h(2818),At=h(779);class zt extends si{constructor(i){super(),this._context=i,this._primaryPosition=null;const c=this._context.configuration.options,y=c.get(147),D=c.get(50);this._spaceWidth=D.spaceWidth,this._maxIndentLeft=y.wrappingColumn===-1?-1:y.wrappingColumn*D.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options,y=c.get(147),D=c.get(50);return this._spaceWidth=D.spaceWidth,this._maxIndentLeft=y.wrappingColumn===-1?-1:y.wrappingColumn*D.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(16),!0}onCursorStateChanged(i){const c=i.selections[0].getPosition();return!this._primaryPosition?.equals(c)&&(this._primaryPosition=c,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1)return void(this._renderResult=null);const c=i.visibleRange.startLineNumber,y=i.visibleRange.endLineNumber,D=i.scrollWidth,X=this._primaryPosition,ce=this.getGuidesByLine(c,Math.min(y+1,this._context.viewModel.getLineCount()),X),me=[];for(let Ze=c;Ze<=y;Ze++){const qe=Ze-c,it=ce[qe];let at="";const ot=i.visibleRangeForPosition(new Se.y(Ze,1))?.left??0;for(let Jt of it){const Ft=Jt.column===-1?ot+(Jt.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new Se.y(Ze,Jt.column)).left;if(Ft>D||this._maxIndentLeft>0&&Ft>this._maxIndentLeft)break;const $t=Jt.horizontalLine?Jt.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Gt=Jt.horizontalLine?(i.visibleRangeForPosition(new Se.y(Ze,Jt.horizontalLine.endColumn))?.left??Ft+this._spaceWidth)-Ft:this._spaceWidth;at+=`<div class="core-guide ${Jt.className} ${$t}" style="left:${Ft}px;width:${Gt}px"></div>`}me[qe]=at}this._renderResult=me}getGuidesByLine(i,c,y){const D=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(i,c,y,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?At.N6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?At.N6.EnabledForActive:At.N6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,X=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,c):null;let ce=0,me=0,Ze=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&y){const at=this._context.viewModel.getActiveIndentGuide(y.lineNumber,i,c);ce=at.startLineNumber,me=at.endLineNumber,Ze=at.indent}const{indentSize:qe}=this._context.viewModel.model.getOptions(),it=[];for(let at=i;at<=c;at++){const ot=new Array;it.push(ot);const Jt=D?D[at-i]:[],Ft=new _.j3(Jt),$t=X?X[at-i]:0;for(let Gt=1;Gt<=$t;Gt++){const _n=(Gt-1)*qe+1,Pn=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||Jt.length===0)&&ce<=at&&at<=me&&Gt===Ze;ot.push(...Ft.takeWhile((ni)=>ni.visibleColumn<_n)||[]);const Zn=Ft.peek();Zn&&Zn.visibleColumn===_n&&!Zn.horizontalLine||ot.push(new At.TH(_n,-1,"core-guide-indent lvl-"+(Gt-1)%30+(Pn?" indent-active":""),null,-1,-1))}ot.push(...Ft.takeWhile((Gt)=>!0)||[])}return it}render(i,c){if(!this._renderResult)return"";const y=c-i;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}function Pt(i){if(!i||!i.isTransparent())return i}ti.zy((i,c)=>{const y=[{bracketColor:Ln.sN,guideColor:Ln.n4,guideColorActive:Ln.bB},{bracketColor:Ln.lQ,guideColor:Ln.I2,guideColorActive:Ln.WS},{bracketColor:Ln.ss,guideColor:Ln.Bo,guideColorActive:Ln.Pe},{bracketColor:Ln.l5,guideColor:Ln.If,guideColorActive:Ln.WD},{bracketColor:Ln.sH,guideColor:Ln.BD,guideColorActive:Ln.P1},{bracketColor:Ln.zp,guideColor:Ln.IW,guideColorActive:Ln.WY}],D=new mt.k,X=[{indentColor:Ln.vV,indentColorActive:Ln.H0},{indentColor:Ln.ob,indentColorActive:Ln.Am},{indentColor:Ln.hz,indentColorActive:Ln.tK},{indentColor:Ln.ow,indentColorActive:Ln.A3},{indentColor:Ln.vP,indentColorActive:Ln.tp},{indentColor:Ln.CM,indentColorActive:Ln.As}],ce=y.map((Ze)=>{const qe=i.getColor(Ze.bracketColor),it=i.getColor(Ze.guideColor),at=i.getColor(Ze.guideColorActive),ot=Pt(Pt(it)??qe?.transparent(0.3)),Jt=Pt(Pt(at)??qe);if(ot&&Jt)return{guideColor:ot,guideColorActive:Jt}}).filter(He.O9),me=X.map((Ze)=>{const qe=i.getColor(Ze.indentColor),it=i.getColor(Ze.indentColorActive),at=Pt(qe),ot=Pt(it);if(at&&ot)return{indentColor:at,indentColorActive:ot}}).filter(He.O9);if(ce.length>0){for(let Ze=0;Ze<30;Ze++){const qe=ce[Ze%ce.length];c.addRule(`.monaco-editor .${D.getInlineClassNameOfLevel(Ze).replace(/ /g,".")} { --guide-color: ${qe.guideColor}; --guide-color-active: ${qe.guideColorActive}; }`)}c.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),c.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),c.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),c.addRule(`.monaco-editor .vertical.${D.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),c.addRule(`.monaco-editor .horizontal-top.${D.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),c.addRule(`.monaco-editor .horizontal-bottom.${D.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(me.length>0){for(let Ze=0;Ze<30;Ze++){const qe=me[Ze%me.length];c.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${Ze} { --indent-color: ${qe.indentColor}; --indent-color-active: ${qe.indentColorActive}; }`)}c.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),c.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});var Wt=h(5958);class Nn{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const i=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=i.left,this._clientRectScale=i.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(i,c){this._domNode=i,this.endNode=c,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class bn{constructor(){this._currentVisibleRange=new Pe.Q(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(i){this._currentVisibleRange=i}}class Jn{constructor(i,c,y,D,X,ce,me){this.minimalReveal=i,this.lineNumber=c,this.startColumn=y,this.endColumn=D,this.startScrollTop=X,this.stopScrollTop=ce,this.scrollType=me,this.type="range",this.minLineNumber=c,this.maxLineNumber=c}}class $e{constructor(i,c,y,D,X){this.minimalReveal=i,this.selections=c,this.startScrollTop=y,this.stopScrollTop=D,this.scrollType=X,this.type="selections";let ce=c[0].startLineNumber,me=c[0].endLineNumber;for(let Ze=1,qe=c.length;Ze<qe;Ze++){const it=c[Ze];ce=Math.min(ce,it.startLineNumber),me=Math.max(me,it.endLineNumber)}this.minLineNumber=ce,this.maxLineNumber=me}}class tt extends he{static{this.HORIZONTAL_EXTRA_PX=30}constructor(i,c){super(i);const y=this._context.configuration,D=this._context.configuration.options,X=D.get(50),ce=D.get(147);this._lineHeight=D.get(67),this._typicalHalfwidthCharacterWidth=X.typicalHalfwidthCharacterWidth,this._isViewportWrapping=ce.isViewportWrapping,this._revealHorizontalRightPadding=D.get(101),this._cursorSurroundingLines=D.get(29),this._cursorSurroundingLinesStyle=D.get(30),this._canUseLayerHinting=!D.get(32),this._viewLineOptions=new Je.Ax(y,this._context.theme.type),this._linesContent=c,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new dr({createLine:()=>new Je.Gb(this._viewLineOptions)}),this.domNode=this._visibleLines.domNode,Q.write(this.domNode,8),this.domNode.setClassName(`view-lines ${Ii}`),f.M(this.domNode,X),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Wt.uC(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Wt.uC(()=>{this._checkMonospaceFontAssumptions()},2000),this._lastRenderedData=new bn,this._horizontalRevealRequest=null,this._stickyScrollEnabled=D.get(116).enabled,this._maxNumberStickyLines=D.get(116).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i),i.hasChanged(147)&&(this._maxLineWidth=0);const c=this._context.configuration.options,y=c.get(50),D=c.get(147);return this._lineHeight=c.get(67),this._typicalHalfwidthCharacterWidth=y.typicalHalfwidthCharacterWidth,this._isViewportWrapping=D.isViewportWrapping,this._revealHorizontalRightPadding=c.get(101),this._cursorSurroundingLines=c.get(29),this._cursorSurroundingLinesStyle=c.get(30),this._canUseLayerHinting=!c.get(32),this._stickyScrollEnabled=c.get(116).enabled,this._maxNumberStickyLines=c.get(116).maxLineCount,f.M(this.domNode,y),this._onOptionsMaybeChanged(),i.hasChanged(146)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const i=this._context.configuration,c=new Je.Ax(i,this._context.theme.type);if(!this._viewLineOptions.equals(c)){this._viewLineOptions=c;const y=this._visibleLines.getStartLineNumber(),D=this._visibleLines.getEndLineNumber();for(let X=y;X<=D;X++)this._visibleLines.getVisibleLine(X).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(i){const c=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();let D=!1;for(let X=c;X<=y;X++)D=this._visibleLines.getVisibleLine(X).onSelectionChanged()||D;return D}onDecorationsChanged(i){{const c=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();for(let D=c;D<=y;D++)this._visibleLines.getVisibleLine(D).onDecorationsChanged()}return!0}onFlushed(i){const c=this._visibleLines.onFlushed(i);return this._maxLineWidth=0,c}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onRevealRangeRequest(i){const c=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),i.source,i.minimalReveal,i.range,i.selections,i.verticalType);if(c===-1)return!1;let y=this._context.viewLayout.validateScrollPosition({scrollTop:c});i.revealHorizontal?i.range&&i.range.startLineNumber!==i.range.endLineNumber?y={scrollTop:y.scrollTop,scrollLeft:0}:i.range?this._horizontalRevealRequest=new Jn(i.minimalReveal,i.range.startLineNumber,i.range.startColumn,i.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),y.scrollTop,i.scrollType):i.selections&&i.selections.length>0&&(this._horizontalRevealRequest=new $e(i.minimalReveal,i.selections,this._context.viewLayout.getCurrentScrollTop(),y.scrollTop,i.scrollType)):this._horizontalRevealRequest=null;const D=Math.abs(this._context.viewLayout.getCurrentScrollTop()-y.scrollTop)<=this._lineHeight?1:i.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(y,D),!0}onScrollChanged(i){if(this._horizontalRevealRequest&&i.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&i.scrollTopChanged){const c=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),y=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(i.scrollTop<c||i.scrollTop>y)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(i.scrollWidth),this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(i)}onThemeChanged(i){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(i,c){const y=this._getViewLineDomNode(i);if(y===null)return null;const D=this._getLineNumberFor(y);if(D===-1)return null;if(D<1||D>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(D)===1)return new Se.y(D,1);const X=this._visibleLines.getStartLineNumber(),ce=this._visibleLines.getEndLineNumber();if(D<X||D>ce)return null;let me=this._visibleLines.getVisibleLine(D).getColumnOfNodeOffset(i,c);const Ze=this._context.viewModel.getLineMinColumn(D);return me<Ze&&(me=Ze),new Se.y(D,me)}_getViewLineDomNode(i){for(;i&&i.nodeType===1;){if(i.className===Je.Gb.CLASS_NAME)return i;i=i.parentElement}return null}_getLineNumberFor(i){const c=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();for(let D=c;D<=y;D++)if(i===this._visibleLines.getVisibleLine(D).getDomNode())return D;return-1}getLineWidth(i){const c=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();if(i<c||i>y)return-1;const D=new Nn(this.domNode.domNode,this._textRangeRestingSpot),X=this._visibleLines.getVisibleLine(i).getWidth(D);return this._updateLineWidthsSlowIfDomDidLayout(D),X}linesVisibleRangesForRange(i,c){if(this.shouldRender())return null;const y=i.endLineNumber,D=Pe.Q.intersectRanges(i,this._lastRenderedData.getCurrentVisibleRange());if(!D)return null;const X=[];let ce=0;const me=new Nn(this.domNode.domNode,this._textRangeRestingSpot);let Ze=0;c&&(Ze=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Se.y(D.startLineNumber,1)).lineNumber);const qe=this._visibleLines.getStartLineNumber(),it=this._visibleLines.getEndLineNumber();for(let at=D.startLineNumber;at<=D.endLineNumber;at++){if(at<qe||at>it)continue;const ot=at===D.startLineNumber?D.startColumn:1,Jt=at!==D.endLineNumber,Ft=Jt?this._context.viewModel.getLineMaxColumn(at):D.endColumn,$t=this._visibleLines.getVisibleLine(at).getVisibleRangesForRange(at,ot,Ft,me);if($t){if(c&&at<y){const Gt=Ze;Ze=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Se.y(at+1,1)).lineNumber,Gt!==Ze&&($t.ranges[$t.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}X[ce++]=new Ci.BG($t.outsideRenderedLine,at,Ci.Y.from($t.ranges),Jt)}}return this._updateLineWidthsSlowIfDomDidLayout(me),ce===0?null:X}_visibleRangesForLineRange(i,c,y){if(this.shouldRender())return null;if(i<this._visibleLines.getStartLineNumber()||i>this._visibleLines.getEndLineNumber())return null;const D=new Nn(this.domNode.domNode,this._textRangeRestingSpot),X=this._visibleLines.getVisibleLine(i).getVisibleRangesForRange(i,c,y,D);return this._updateLineWidthsSlowIfDomDidLayout(D),X}visibleRangeForPosition(i){const c=this._visibleRangesForLineRange(i.lineNumber,i.column,i.column);return c?new Ci.qN(c.outsideRenderedLine,c.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(i){i.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(i){const c=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();let D=1,X=!0;for(let ce=c;ce<=y;ce++){const me=this._visibleLines.getVisibleLine(ce);!i||me.getWidthIsFast()?D=Math.max(D,me.getWidth(null)):X=!1}return X&&c===1&&y===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(D),X}_checkMonospaceFontAssumptions(){let i=-1,c=-1;const y=this._visibleLines.getStartLineNumber(),D=this._visibleLines.getEndLineNumber();for(let X=y;X<=D;X++){const ce=this._visibleLines.getVisibleLine(X);if(ce.needsMonospaceFontCheck()){const me=ce.getWidth(null);me>c&&(c=me,i=X)}}if(i!==-1&&!this._visibleLines.getVisibleLine(i).monospaceAssumptionsAreValid())for(let X=y;X<=D;X++)this._visibleLines.getVisibleLine(X).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(i){if(this._visibleLines.renderLines(i),this._lastRenderedData.setCurrentVisibleRange(i.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const y=this._horizontalRevealRequest;if(i.startLineNumber<=y.minLineNumber&&y.maxLineNumber<=i.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const D=this._computeScrollLeftToReveal(y);D&&(this._isViewportWrapping||this._ensureMaxLineWidth(D.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:D.scrollLeft},y.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),b.j9&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const y=this._visibleLines.getStartLineNumber(),D=this._visibleLines.getEndLineNumber();for(let X=y;X<=D;X++)if(this._visibleLines.getVisibleLine(X).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const c=this._context.viewLayout.getCurrentScrollTop()-i.bigNumbersDelta;this._linesContent.setTop(-c),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(i){const c=Math.ceil(i);this._maxLineWidth<c&&(this._maxLineWidth=c,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(i,c,y,D,X,ce){const{top:me,height:Ze}=i,qe=me+Ze;let it,at,ot;if(X&&X.length>0){let Gt=X[0].startLineNumber,_n=X[0].endLineNumber;for(let Pn=1,Zn=X.length;Pn<Zn;Pn++){const ni=X[Pn];Gt=Math.min(Gt,ni.startLineNumber),_n=Math.max(_n,ni.endLineNumber)}it=!1,at=this._context.viewLayout.getVerticalOffsetForLineNumber(Gt),ot=this._context.viewLayout.getVerticalOffsetForLineNumber(_n)+this._lineHeight}else{if(!D)return-1;it=!0,at=this._context.viewLayout.getVerticalOffsetForLineNumber(D.startLineNumber),ot=this._context.viewLayout.getVerticalOffsetForLineNumber(D.endLineNumber)+this._lineHeight}let Jt,Ft=0,$t=0;if(c!=="mouse"&&!y||this._cursorSurroundingLinesStyle!=="default"){const Gt=Ze/this._lineHeight,_n=Math.max(this._cursorSurroundingLines,this._stickyScrollEnabled?this._maxNumberStickyLines:0),Pn=Math.min(Gt/2,_n);Ft=Pn*this._lineHeight,$t=Math.max(0,Pn-1)*this._lineHeight}else y||(Ft=this._lineHeight);if(y||ce!==0&&ce!==4||($t+=this._lineHeight),at-=Ft,ot+=$t,ot-at>Ze){if(!it)return-1;Jt=at}else if(ce===5||ce===6)if(ce===6&&me<=at&&ot<=qe)Jt=me;else{const Gt=at-Math.max(5*this._lineHeight,0.2*Ze),_n=ot-Ze;Jt=Math.max(_n,Gt)}else if(ce===1||ce===2)if(ce===2&&me<=at&&ot<=qe)Jt=me;else{const Gt=(at+ot)/2;Jt=Math.max(0,Gt-Ze/2)}else Jt=this._computeMinimumScrolling(me,qe,at,ot,ce===3,ce===4);return Jt}_computeScrollLeftToReveal(i){const c=this._context.viewLayout.getCurrentViewport(),y=this._context.configuration.options.get(146),D=c.left,X=D+c.width-y.verticalScrollbarWidth;let ce=1073741824,me=0;if(i.type==="range"){const Ze=this._visibleRangesForLineRange(i.lineNumber,i.startColumn,i.endColumn);if(!Ze)return null;for(let qe of Ze.ranges)ce=Math.min(ce,Math.round(qe.left)),me=Math.max(me,Math.round(qe.left+qe.width))}else for(let Ze of i.selections){if(Ze.startLineNumber!==Ze.endLineNumber)return null;const qe=this._visibleRangesForLineRange(Ze.startLineNumber,Ze.startColumn,Ze.endColumn);if(!qe)return null;for(let it of qe.ranges)ce=Math.min(ce,Math.round(it.left)),me=Math.max(me,Math.round(it.left+it.width))}return i.minimalReveal||(ce=Math.max(0,ce-tt.HORIZONTAL_EXTRA_PX),me+=this._revealHorizontalRightPadding),i.type==="selections"&&me-ce>c.width?null:{scrollLeft:this._computeMinimumScrolling(D,X,ce,me),maxHorizontalOffset:me}}_computeMinimumScrolling(i,c,y,D,X,ce){X=!!X,ce=!!ce;const me=(c|=0)-(i|=0);return(D|=0)-(y|=0)<me?X?y:ce?Math.max(0,D-me):y<i?y:D>c?Math.max(0,D-me):i:y}}class gt extends wr{constructor(i){super(),this._context=i;const c=this._context.configuration.options.get(146);this._decorationsLeft=c.decorationsLeft,this._decorationsWidth=c.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options.get(146);return this._decorationsLeft=c.decorationsLeft,this._decorationsWidth=c.decorationsWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const c=i.getDecorationsInViewport(),y=[];let D=0;for(let X=0,ce=c.length;X<ce;X++){const me=c[X],Ze=me.options.linesDecorationsClassName,qe=me.options.zIndex;Ze&&(y[D++]=new ji(me.range.startLineNumber,me.range.endLineNumber,Ze,me.options.linesDecorationsTooltip??null,qe));const it=me.options.firstLineDecorationClassName;it&&(y[D++]=new ji(me.range.startLineNumber,me.range.startLineNumber,it,me.options.linesDecorationsTooltip??null,qe))}return y}prepareRender(i){const c=i.visibleRange.startLineNumber,y=i.visibleRange.endLineNumber,D=this._render(c,y,this._getDecorations(i)),X='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',ce=[];for(let me=c;me<=y;me++){const Ze=me-c,qe=D[Ze].getDecorations();let it="";for(let at of qe){let ot='<div class="cldr '+at.className;at.tooltip!==null&&(ot+='" title="'+at.tooltip),ot+=X,it+=ot}ce[Ze]=it}this._renderResult=ce}render(i,c){return this._renderResult?this._renderResult[c-i]:""}}class bt extends wr{constructor(i){super(),this._context=i,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const c=i.getDecorationsInViewport(),y=[];let D=0;for(let X=0,ce=c.length;X<ce;X++){const me=c[X],Ze=me.options.marginClassName,qe=me.options.zIndex;Ze&&(y[D++]=new ji(me.range.startLineNumber,me.range.endLineNumber,Ze,null,qe))}return y}prepareRender(i){const c=i.visibleRange.startLineNumber,y=i.visibleRange.endLineNumber,D=this._render(c,y,this._getDecorations(i)),X=[];for(let ce=c;ce<=y;ce++){const me=ce-c,Ze=D[me].getDecorations();let qe="";for(let it of Ze)qe+='<div class="cmdr '+it.className+'" style=""></div>';X[me]=qe}this._renderResult=X}render(i,c){return this._renderResult?this._renderResult[c-i]:""}}var ke=h(176);class qt{static{this.Empty=new qt(0,0,0,0)}constructor(i,c,y,D){this._rgba8Brand=void 0,this.r=qt._clamp(i),this.g=qt._clamp(c),this.b=qt._clamp(y),this.a=qt._clamp(D)}equals(i){return this.r===i.r&&this.g===i.g&&this.b===i.b&&this.a===i.a}static _clamp(i){return i<0?0:i>255?255:0|i}}class Ot extends C.jG{static{this._INSTANCE=null}static getInstance(){return this._INSTANCE||(this._INSTANCE=C.lC(new Ot)),this._INSTANCE}constructor(){super(),this._onDidChange=new w.vl,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(er.dG.onDidChange((i)=>{i.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const i=er.dG.getColorMap();if(!i)return this._colors=[qt.Empty],void(this._backgroundIsLight=!0);this._colors=[qt.Empty];for(let y=1;y<i.length;y++){const D=i[y].rgba;this._colors[y]=new qt(D.r,D.g,D.b,Math.round(255*D.a))}const c=i[2].getRelativeLuminance();this._backgroundIsLight=c>=0.5,this._onDidChange.fire(void 0)}getColor(i){return(i<1||i>=this._colors.length)&&(i=2),this._colors[i]}backgroundIsLight(){return this._backgroundIsLight}}var Vt=h(1608),Cn=h(559);const dn=(()=>{const i=[];for(let c=32;c<=126;c++)i.push(c);return i.push(65533),i})();var St=h(7512);class Lt{constructor(i,c){this.scale=c,this._minimapCharRendererBrand=void 0,this.charDataNormal=Lt.soften(i,0.8),this.charDataLight=Lt.soften(i,0.8333333333333334)}static soften(i,c){const y=new Uint8ClampedArray(i.length);for(let D=0,X=i.length;D<X;D++)y[D]=St.W(i[D]*c);return y}renderChar(i,c,y,D,X,ce,me,Ze,qe,it,at){const ot=1*this.scale,Jt=2*this.scale,Ft=at?1:Jt;if(c+ot>i.width||y+Ft>i.height)return void console.warn("bad render request outside image data");const $t=it?this.charDataLight:this.charDataNormal,Gt=((Si,cr)=>(Si-=32)<0||Si>96?cr<=2?(Si+96)%96:95:Si)(D,qe),_n=4*i.width,Pn=me.r,Zn=me.g,ni=me.b,Gn=X.r-Pn,ri=X.g-Zn,ci=X.b-ni,ai=Math.max(ce,Ze),vi=i.data;let gi=Gt*ot*Jt,sr=y*_n+4*c;for(let Si=0;Si<Ft;Si++){let cr=sr;for(let _i=0;_i<ot;_i++){const Gr=$t[gi++]/255*(ce/255);vi[cr++]=Pn+Gn*Gr,vi[cr++]=Zn+ri*Gr,vi[cr++]=ni+ci*Gr,vi[cr++]=ai}sr+=_n}}blockRenderChar(i,c,y,D,X,ce,me,Ze){const qe=1*this.scale,it=2*this.scale,at=Ze?1:it;if(c+qe>i.width||y+at>i.height)return void console.warn("bad render request outside image data");const ot=4*i.width,Jt=X/255*0.5,Ft=ce.r,$t=ce.g,Gt=ce.b,_n=Ft+(D.r-Ft)*Jt,Pn=$t+(D.g-$t)*Jt,Zn=Gt+(D.b-Gt)*Jt,ni=Math.max(X,me),Gn=i.data;let ri=y*ot+4*c;for(let ci=0;ci<at;ci++){let ai=ri;for(let vi=0;vi<qe;vi++)Gn[ai++]=_n,Gn[ai++]=Pn,Gn[ai++]=Zn,Gn[ai++]=ni;ri+=ot}}}var on=h(8289);const ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Dn=(i)=>{const c=new Uint8ClampedArray(i.length/2);for(let y=0;y<i.length;y+=2)c[y>>1]=ln[i[y]]<<4|15&ln[i[y+1]];return c},vn={1:on.P(()=>Dn("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:on.P(()=>Dn("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class $n{static create(i,c){if(this.lastCreated&&i===this.lastCreated.scale&&c===this.lastFontFamily)return this.lastCreated;let y;return y=vn[i]?new Lt(vn[i](),i):$n.createFromSampleData($n.createSampleData(c).data,i),this.lastFontFamily=c,this.lastCreated=y,y}static createSampleData(i){const c=document.createElement("canvas"),y=c.getContext("2d");c.style.height="16px",c.height=16,c.width=960,c.style.width="960px",y.fillStyle="#ffffff",y.font=`bold 16px ${i}`,y.textBaseline="middle";let D=0;for(let X of dn)y.fillText(String.fromCharCode(X),D,8),D+=10;return y.getImageData(0,0,960,16)}static createFromSampleData(i,c){if(i.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const y=$n._downsample(i,c);return new Lt(y,c)}static _downsampleChar(i,c,y,D,X){const ce=1*X,me=2*X;let Ze=D,qe=0;for(let it=0;it<me;it++){const at=it/me*16,ot=(it+1)/me*16;for(let Jt=0;Jt<ce;Jt++){const Ft=Jt/ce*10,$t=(Jt+1)/ce*10;let Gt=0,_n=0;for(let Zn=at;Zn<ot;Zn++){const ni=c+3840*Math.floor(Zn),Gn=1-(Zn-Math.floor(Zn));for(let ri=Ft;ri<$t;ri++){const ci=1-(ri-Math.floor(ri)),ai=ni+4*Math.floor(ri),vi=ci*Gn;_n+=vi,Gt+=i[ai]*i[ai+3]/255*vi}}const Pn=Gt/_n;qe=Math.max(qe,Pn),y[Ze++]=St.W(Pn)}}return qe}static _downsample(i,c){const y=2*c*1*c,D=96*y,X=new Uint8ClampedArray(D);let ce=0,me=0,Ze=0;for(let qe=0;qe<96;qe++)Ze=Math.max(Ze,this._downsampleChar(i,me,X,ce,c)),ce+=y,me+=40;if(Ze>0){const qe=255/Ze;for(let it=0;it<D;it++)X[it]*=qe}return X}}var Un=h(7992),Fn=h(9827);class fn{constructor(i,c,y){const D=i.options,X=D.get(144),ce=D.get(146),me=ce.minimap,Ze=D.get(50),qe=D.get(73);this.renderMinimap=me.renderMinimap,this.size=qe.size,this.minimapHeightIsEditorHeight=me.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=D.get(106),this.paddingTop=D.get(84).top,this.paddingBottom=D.get(84).bottom,this.showSlider=qe.showSlider,this.autohide=qe.autohide,this.pixelRatio=X,this.typicalHalfwidthCharacterWidth=Ze.typicalHalfwidthCharacterWidth,this.lineHeight=D.get(67),this.minimapLeft=me.minimapLeft,this.minimapWidth=me.minimapWidth,this.minimapHeight=ce.height,this.canvasInnerWidth=me.minimapCanvasInnerWidth,this.canvasInnerHeight=me.minimapCanvasInnerHeight,this.canvasOuterWidth=me.minimapCanvasOuterWidth,this.canvasOuterHeight=me.minimapCanvasOuterHeight,this.isSampling=me.minimapIsSampling,this.editorHeight=ce.height,this.fontScale=me.minimapScale,this.minimapLineHeight=me.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=Fn.z,this.sectionHeaderFontSize=qe.sectionHeaderFontSize*X,this.sectionHeaderLetterSpacing=qe.sectionHeaderLetterSpacing,this.sectionHeaderFontColor=fn._getSectionHeaderColor(c,y.getColor(1)),this.charRenderer=on.P(()=>$n.create(this.fontScale,Ze.fontFamily)),this.defaultBackgroundColor=y.getColor(2),this.backgroundColor=fn._getMinimapBackground(c,this.defaultBackgroundColor),this.foregroundAlpha=fn._getMinimapForegroundOpacity(c)}static _getMinimapBackground(i,c){const y=i.getColor(Cn.ILr);return y?new qt(y.rgba.r,y.rgba.g,y.rgba.b,Math.round(255*y.rgba.a)):c}static _getMinimapForegroundOpacity(i){const c=i.getColor(Cn.K1Z);return c?qt._clamp(Math.round(255*c.rgba.a)):255}static _getSectionHeaderColor(i,c){const y=i.getColor(Cn.By2);return y?new qt(y.rgba.r,y.rgba.g,y.rgba.b,Math.round(255*y.rgba.a)):c}equals(i){return this.renderMinimap===i.renderMinimap&&this.size===i.size&&this.minimapHeightIsEditorHeight===i.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===i.scrollBeyondLastLine&&this.paddingTop===i.paddingTop&&this.paddingBottom===i.paddingBottom&&this.showSlider===i.showSlider&&this.autohide===i.autohide&&this.pixelRatio===i.pixelRatio&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.lineHeight===i.lineHeight&&this.minimapLeft===i.minimapLeft&&this.minimapWidth===i.minimapWidth&&this.minimapHeight===i.minimapHeight&&this.canvasInnerWidth===i.canvasInnerWidth&&this.canvasInnerHeight===i.canvasInnerHeight&&this.canvasOuterWidth===i.canvasOuterWidth&&this.canvasOuterHeight===i.canvasOuterHeight&&this.isSampling===i.isSampling&&this.editorHeight===i.editorHeight&&this.fontScale===i.fontScale&&this.minimapLineHeight===i.minimapLineHeight&&this.minimapCharWidth===i.minimapCharWidth&&this.sectionHeaderFontSize===i.sectionHeaderFontSize&&this.sectionHeaderLetterSpacing===i.sectionHeaderLetterSpacing&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(i.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(i.backgroundColor)&&this.foregroundAlpha===i.foregroundAlpha}}class Qn{constructor(i,c,y,D,X,ce,me,Ze,qe){this.scrollTop=i,this.scrollHeight=c,this.sliderNeeded=y,this._computedSliderRatio=D,this.sliderTop=X,this.sliderHeight=ce,this.topPaddingLineCount=me,this.startLineNumber=Ze,this.endLineNumber=qe}getDesiredScrollTopFromDelta(i){return Math.round(this.scrollTop+i/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(i){return Math.round((i-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(i){const c=Math.max(this.startLineNumber,i.startLineNumber),y=Math.min(this.endLineNumber,i.endLineNumber);return c>y?null:[c,y]}getYForLineNumber(i,c){return+(i-this.startLineNumber+this.topPaddingLineCount)*c}static create(i,c,y,D,X,ce,me,Ze,qe,it,at){const{pixelRatio:ot,minimapLineHeight:Jt}=i,Ft=Math.floor(i.canvasInnerHeight/Jt),$t=i.lineHeight;if(i.minimapHeightIsEditorHeight){let ri=Ze*i.lineHeight+i.paddingTop+i.paddingBottom;i.scrollBeyondLastLine&&(ri+=Math.max(0,X-i.lineHeight-i.paddingBottom));const ci=Math.max(1,Math.floor(X*X/ri)),ai=Math.max(0,i.minimapHeight-ci),vi=ai/(it-X),gi=qe*vi,sr=ai>0,Si=Math.floor(i.canvasInnerHeight/i.minimapLineHeight),cr=Math.floor(i.paddingTop/i.lineHeight);return new Qn(qe,it,sr,vi,gi,ci,cr,1,Math.min(me,Si))}let Gt;if(ce&&y!==me){const ri=y-c+1;Gt=Math.floor(ri*Jt/ot)}else{const ri=X/$t;Gt=Math.floor(ri*Jt/ot)}const _n=Math.floor(i.paddingTop/$t);let Pn,Zn=Math.floor(i.paddingBottom/$t);if(i.scrollBeyondLastLine){const ri=X/$t;Zn=Math.max(Zn,ri-1)}Pn=Zn>0?(_n+me+Zn-X/$t-1)*Jt/ot:Math.max(0,(_n+me)*Jt/ot-Gt),Pn=Math.min(i.minimapHeight-Gt,Pn);const ni=Pn/(it-X),Gn=qe*ni;if(Ft>=_n+me+Zn)return new Qn(qe,it,Pn>0,ni,Gn,Gt,_n,1,me);{let ri,ci;ri=c>1?c+_n:Math.max(1,qe/$t);let ai=Math.max(1,Math.floor(ri-Gn*ot/Jt));ai<_n?(ci=_n-ai+1,ai=1):(ci=0,ai=Math.max(1,ai-_n)),at&&at.scrollHeight===it&&(at.scrollTop>qe&&(ai=Math.min(ai,at.startLineNumber),ci=Math.max(ci,at.topPaddingLineCount)),at.scrollTop<qe&&(ai=Math.max(ai,at.startLineNumber),ci=Math.min(ci,at.topPaddingLineCount)));const vi=Math.min(me,ai-ci+Ft-1),gi=(qe-D)/$t;let sr;return sr=qe>=i.paddingTop?(c-ai+ci+gi)*Jt/ot:qe/i.paddingTop*(ci+gi)*Jt/ot,new Qn(qe,it,!0,ni,sr,Gt,ci,ai,vi)}}}class N{static{this.INVALID=new N(-1)}constructor(i){this.dy=i}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}class Z{constructor(i,c,y){this.renderedLayout=i,this._imageData=c,this._renderedLines=new Gi({createLine:()=>N.INVALID}),this._renderedLines._set(i.startLineNumber,y)}linesEquals(i){if(!this.scrollEquals(i))return!1;const c=this._renderedLines._get().lines;for(let y=0,D=c.length;y<D;y++)if(c[y].dy===-1)return!1;return!0}scrollEquals(i){return this.renderedLayout.startLineNumber===i.startLineNumber&&this.renderedLayout.endLineNumber===i.endLineNumber}_get(){const i=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:i.rendLineNumberStart,lines:i.lines}}onLinesChanged(i,c){return this._renderedLines.onLinesChanged(i,c)}onLinesDeleted(i,c){this._renderedLines.onLinesDeleted(i,c)}onLinesInserted(i,c){this._renderedLines.onLinesInserted(i,c)}onTokensChanged(i){return this._renderedLines.onTokensChanged(i)}}class j{constructor(i,c,y,D){this._backgroundFillData=j._createBackgroundFillData(c,y,D),this._buffers=[i.createImageData(c,y),i.createImageData(c,y)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const i=this._buffers[this._lastUsedBuffer];return i.data.set(this._backgroundFillData),i}static _createBackgroundFillData(i,c,y){const{r:D,g:X,b:ce,a:me}=y,Ze=new Uint8ClampedArray(i*c*4);let qe=0;for(let it=0;it<c;it++)for(let at=0;at<i;at++)Ze[qe]=D,Ze[qe+1]=X,Ze[qe+2]=ce,Ze[qe+3]=me,qe+=4;return Ze}}class _e{static compute(i,c,y){if(i.renderMinimap===0||!i.isSampling)return[null,[]];const{minimapLineCount:D}=W.xZ.computeContainedMinimapLineCount({viewLineCount:c,scrollBeyondLastLine:i.scrollBeyondLastLine,paddingTop:i.paddingTop,paddingBottom:i.paddingBottom,height:i.editorHeight,lineHeight:i.lineHeight,pixelRatio:i.pixelRatio}),X=c/D,ce=X/2;if(!y||y.minimapLines.length===0){const $t=[];if($t[0]=1,D>1){for(let Gt=0,_n=D-1;Gt<_n;Gt++)$t[Gt]=Math.round(Gt*X+ce);$t[D-1]=c}return[new _e(X,$t),[]]}const me=y.minimapLines,Ze=me.length,qe=[];let it=0,at=0,ot=1,Jt=[],Ft=null;for(let $t=0;$t<D;$t++){const Gt=Math.max(ot,Math.round($t*X)),_n=Math.max(Gt,Math.round(($t+1)*X));for(;it<Ze&&me[it]<Gt;){if(Jt.length<10){const Zn=it+1+at;Ft&&Ft.type==="deleted"&&Ft._oldIndex===it-1?Ft.deleteToLineNumber++:(Ft={type:"deleted",_oldIndex:it,deleteFromLineNumber:Zn,deleteToLineNumber:Zn},Jt.push(Ft)),at--}it++}let Pn;if(it<Ze&&me[it]<=_n)Pn=me[it],it++;else if(Pn=$t===0?1:$t+1===D?c:Math.round($t*X+ce),Jt.length<10){const Zn=it+1+at;Ft&&Ft.type==="inserted"&&Ft._i===$t-1?Ft.insertToLineNumber++:(Ft={type:"inserted",_i:$t,insertFromLineNumber:Zn,insertToLineNumber:Zn},Jt.push(Ft)),at++}qe[$t]=Pn,ot=Pn}if(Jt.length<10)for(;it<Ze;){const $t=it+1+at;Ft&&Ft.type==="deleted"&&Ft._oldIndex===it-1?Ft.deleteToLineNumber++:(Ft={type:"deleted",_oldIndex:it,deleteFromLineNumber:$t,deleteToLineNumber:$t},Jt.push(Ft)),at--,it++}else Jt=[{type:"flush"}];return[new _e(X,qe),Jt]}constructor(i,c){this.samplingRatio=i,this.minimapLines=c}modelLineToMinimapLine(i){return Math.min(this.minimapLines.length,Math.max(1,Math.round(i/this.samplingRatio)))}modelLineRangeToMinimapLineRange(i,c){let y=this.modelLineToMinimapLine(i)-1;for(;y>0&&this.minimapLines[y-1]>=i;)y--;let D=this.modelLineToMinimapLine(c)-1;for(;D+1<this.minimapLines.length&&this.minimapLines[D+1]<=c;)D++;if(y===D){const X=this.minimapLines[y];if(X<i||X>c)return null}return[y+1,D+1]}decorationLineRangeToMinimapLineRange(i,c){let y=this.modelLineToMinimapLine(i),D=this.modelLineToMinimapLine(c);return i!==c&&D===y&&(D===this.minimapLines.length?y>1&&y--:D++),[y,D]}onLinesDeleted(i){const c=i.toLineNumber-i.fromLineNumber+1;let y=this.minimapLines.length,D=0;for(let X=this.minimapLines.length-1;X>=0&&!(this.minimapLines[X]<i.fromLineNumber);X--)this.minimapLines[X]<=i.toLineNumber?(this.minimapLines[X]=Math.max(1,i.fromLineNumber-1),y=Math.min(y,X),D=Math.max(D,X)):this.minimapLines[X]-=c;return[y,D]}onLinesInserted(i){const c=i.toLineNumber-i.fromLineNumber+1;for(let y=this.minimapLines.length-1;y>=0&&!(this.minimapLines[y]<i.fromLineNumber);y--)this.minimapLines[y]+=c}}class Ne extends he{constructor(i){super(i),this._sectionHeaderCache=new Un.qK(10,1.5),this.tokensColorTracker=Ot.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new fn(this._context.configuration,this._context.theme,this.tokensColorTracker);const[c]=_e.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=c,this._shouldCheckSampling=!1,this._actual=new Oe(i.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const i=new fn(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(i)&&(this.options=i,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(i){return this._onOptionsMaybeChanged()}onCursorStateChanged(i){return this._selections=i.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(i){return!!i.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(i){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(i){if(this._samplingState){const c=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.fromLineNumber+i.count-1);return!!c&&this._actual.onLinesChanged(c[0],c[1]-c[0]+1)}return this._actual.onLinesChanged(i.fromLineNumber,i.count)}onLinesDeleted(i){if(this._samplingState){const[c,y]=this._samplingState.onLinesDeleted(i);return c<=y&&this._actual.onLinesChanged(c+1,y-c+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(i.fromLineNumber,i.toLineNumber)}onLinesInserted(i){return this._samplingState?(this._samplingState.onLinesInserted(i),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(i.fromLineNumber,i.toLineNumber)}onScrollChanged(i){return this._actual.onScrollChanged()}onThemeChanged(i){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(i){if(this._samplingState){const c=[];for(let y of i.ranges){const D=this._samplingState.modelLineRangeToMinimapLineRange(y.fromLineNumber,y.toLineNumber);D&&c.push({fromLineNumber:D[0],toLineNumber:D[1]})}return!!c.length&&this._actual.onTokensChanged(c)}return this._actual.onTokensChanged(i.ranges)}onTokensColorsChanged(i){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(i){return this._actual.onZonesChanged()}prepareRender(i){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(i){let c=i.visibleRange.startLineNumber,y=i.visibleRange.endLineNumber;this._samplingState&&(c=this._samplingState.modelLineToMinimapLine(c),y=this._samplingState.modelLineToMinimapLine(y));const D={viewportContainsWhitespaceGaps:i.viewportData.whitespaceViewportData.length>0,scrollWidth:i.scrollWidth,scrollHeight:i.scrollHeight,viewportStartLineNumber:c,viewportEndLineNumber:y,viewportStartLineNumberVerticalOffset:i.getVerticalOffsetForLineNumber(c),scrollTop:i.scrollTop,scrollLeft:i.scrollLeft,viewportWidth:i.viewportWidth,viewportHeight:i.viewportHeight};this._actual.render(D)}_recreateLineSampling(){this._minimapSelections=null;const i=Boolean(this._samplingState),[c,y]=_e.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=c,i&&this._samplingState)for(let D of y)switch(D.type){case"deleted":this._actual.onLinesDeleted(D.deleteFromLineNumber,D.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(D.insertFromLineNumber,D.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(i){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[i-1]):this._context.viewModel.getLineContent(i)}getLineMaxColumn(i){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[i-1]):this._context.viewModel.getLineMaxColumn(i)}getMinimapLinesRenderingData(i,c,y){if(this._samplingState){const D=[];for(let X=0,ce=c-i+1;X<ce;X++)y[X]?D[X]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[i+X-1]):D[X]=null;return D}return this._context.viewModel.getMinimapLinesRenderingData(i,c,y).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(let i of this._selections){const[c,y]=this._samplingState.decorationLineRangeToMinimapLineRange(i.startLineNumber,i.endLineNumber);this._minimapSelections.push(new jt.L(c,i.startColumn,y,i.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(i,c){const y=this._getMinimapDecorationsInViewport(i,c).filter((D)=>!D.options.minimap?.sectionHeaderStyle);if(this._samplingState){const D=[];for(let X of y){if(!X.options.minimap)continue;const ce=X.range,me=this._samplingState.modelLineToMinimapLine(ce.startLineNumber),Ze=this._samplingState.modelLineToMinimapLine(ce.endLineNumber);D.push(new Vt.vo(new Pe.Q(me,ce.startColumn,Ze,ce.endColumn),X.options))}return D}return y}getSectionHeaderDecorationsInViewport(i,c){const y=this.options.minimapLineHeight,D=this.options.sectionHeaderFontSize/y;return i=Math.floor(Math.max(1,i-D)),this._getMinimapDecorationsInViewport(i,c).filter((X)=>!!X.options.minimap?.sectionHeaderStyle)}_getMinimapDecorationsInViewport(i,c){let y;if(this._samplingState){const D=this._samplingState.minimapLines[i-1],X=this._samplingState.minimapLines[c-1];y=new Pe.Q(D,1,X,this._context.viewModel.getLineMaxColumn(X))}else y=new Pe.Q(i,1,c,this._context.viewModel.getLineMaxColumn(c));return this._context.viewModel.getMinimapDecorationsInRange(y)}getSectionHeaderText(i,c){const y=i.options.minimap?.sectionHeaderText;if(!y)return null;const D=this._sectionHeaderCache.get(y);if(D)return D;const X=c(y);return this._sectionHeaderCache.set(y,X),X}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(i){this._samplingState&&(i=this._samplingState.minimapLines[i-1]),this._context.viewModel.revealRange("mouse",!1,new Pe.Q(i,1,i,1),1,0)}setScrollTop(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i},1)}}class Oe extends C.jG{constructor(i,c){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=i,this._model=c,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Cn.yr0),this._domNode=Te.Z(document.createElement("div")),Q.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=Te.Z(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=Te.Z(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=Te.Z(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=Te.Z(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=Te.Z(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=v.b2(this._domNode.domNode,v.Bx.POINTER_DOWN,(y)=>{if(y.preventDefault(),this._model.options.renderMinimap===0)return;if(!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(y.button===0&&this._lastRenderData){const me=v.BK(this._slider.domNode),Ze=me.top+me.height/2;this._startSliderDragging(y,Ze,this._lastRenderData.renderedLayout)}return}const D=this._model.options.minimapLineHeight,X=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*y.offsetY;let ce=Math.floor(X/D)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;ce=Math.min(ce,this._model.getLineCount()),this._model.revealLineNumber(ce)}),this._sliderPointerMoveMonitor=new ke._,this._sliderPointerDownListener=v.b2(this._slider.domNode,v.Bx.POINTER_DOWN,(y)=>{y.preventDefault(),y.stopPropagation(),y.button===0&&this._lastRenderData&&this._startSliderDragging(y,y.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=pt.q.addTarget(this._domNode.domNode),this._sliderTouchStartListener=v.ko(this._domNode.domNode,pt.B.Start,(y)=>{y.preventDefault(),y.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(y))},{passive:!1}),this._sliderTouchMoveListener=v.ko(this._domNode.domNode,pt.B.Change,(y)=>{y.preventDefault(),y.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(y)},{passive:!1}),this._sliderTouchEndListener=v.b2(this._domNode.domNode,pt.B.End,(y)=>{y.preventDefault(),y.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(i,c,y){if(!(i.target&&i.target instanceof Element))return;const D=i.pageX;this._slider.toggleClassName("active",!0);const X=(ce,me)=>{const Ze=v.BK(this._domNode.domNode),qe=Math.min(Math.abs(me-D),Math.abs(me-Ze.left),Math.abs(me-Ze.left-Ze.width));if(b.uF&&qe>140)return void this._model.setScrollTop(y.scrollTop);const it=ce-c;this._model.setScrollTop(y.getDesiredScrollTopFromDelta(it))};i.pageY!==c&&X(i.pageY,D),this._sliderPointerMoveMonitor.startMonitoring(i.target,i.pointerId,i.buttons,(ce)=>X(ce.pageY,ce.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(i){const c=this._domNode.domNode.getBoundingClientRect().top,y=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(i.pageY-c);this._model.setScrollTop(y)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const i=["minimap"];return this._model.options.showSlider==="always"?i.push("slider-always"):i.push("slider-mouseover"),this._model.options.autohide&&i.push("autohide"),i.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new j(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(i,c){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(i,c)}onLinesDeleted(i,c){return this._lastRenderData?.onLinesDeleted(i,c),!0}onLinesInserted(i,c){return this._lastRenderData?.onLinesInserted(i,c),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Cn.yr0),this._renderDecorations=!0,!0}onTokensChanged(i){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(i)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(i){if(this._model.options.renderMinimap===0)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);i.scrollLeft+i.viewportWidth>=i.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const c=Qn.create(this._model.options,i.viewportStartLineNumber,i.viewportEndLineNumber,i.viewportStartLineNumberVerticalOffset,i.viewportHeight,i.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),i.scrollTop,i.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(c.sliderNeeded?"block":"none"),this._slider.setTop(c.sliderTop),this._slider.setHeight(c.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(c.sliderHeight),this.renderDecorations(c),this._lastRenderData=this.renderLines(c)}renderDecorations(i){if(this._renderDecorations){this._renderDecorations=!1;const c=this._model.getSelections();c.sort(Pe.Q.compareRangesUsingStarts);const y=this._model.getMinimapDecorationsInViewport(i.startLineNumber,i.endLineNumber);y.sort((ot,Jt)=>(ot.options.zIndex||0)-(Jt.options.zIndex||0));const{canvasInnerWidth:D,canvasInnerHeight:X}=this._model.options,ce=this._model.options.minimapLineHeight,me=this._model.options.minimapCharWidth,Ze=this._model.getOptions().tabSize,qe=this._decorationsCanvas.domNode.getContext("2d");qe.clearRect(0,0,D,X);const it=new Ke(i.startLineNumber,i.endLineNumber,!1);this._renderSelectionLineHighlights(qe,c,it,i,ce),this._renderDecorationsLineHighlights(qe,y,it,i,ce);const at=new Ke(i.startLineNumber,i.endLineNumber,null);this._renderSelectionsHighlights(qe,c,at,i,ce,Ze,me,D),this._renderDecorationsHighlights(qe,y,at,i,ce,Ze,me,D),this._renderSectionHeaders(i)}}_renderSelectionLineHighlights(i,c,y,D,X){if(!this._selectionColor||this._selectionColor.isTransparent())return;i.fillStyle=this._selectionColor.transparent(0.5).toString();let ce=0,me=0;for(let Ze of c){const qe=D.intersectWithViewport(Ze);if(!qe)continue;const[it,at]=qe;for(let Ft=it;Ft<=at;Ft++)y.set(Ft,!0);const ot=D.getYForLineNumber(it,X),Jt=D.getYForLineNumber(at,X);me>=ot||(me>ce&&i.fillRect(W.xq,ce,i.canvas.width,me-ce),ce=ot),me=Jt}me>ce&&i.fillRect(W.xq,ce,i.canvas.width,me-ce)}_renderDecorationsLineHighlights(i,c,y,D,X){const ce=new Map;for(let me=c.length-1;me>=0;me--){const Ze=c[me],qe=Ze.options.minimap;if(!qe||qe.position!==1)continue;const it=D.intersectWithViewport(Ze.range);if(!it)continue;const[at,ot]=it,Jt=qe.getColor(this._theme.value);if(!Jt||Jt.isTransparent())continue;let Ft=ce.get(Jt.toString());Ft||(Ft=Jt.transparent(0.5).toString(),ce.set(Jt.toString(),Ft)),i.fillStyle=Ft;for(let $t=at;$t<=ot;$t++){if(y.has($t))continue;y.set($t,!0);const Gt=D.getYForLineNumber(at,X);i.fillRect(W.xq,Gt,i.canvas.width,X)}}}_renderSelectionsHighlights(i,c,y,D,X,ce,me,Ze){if(this._selectionColor&&!this._selectionColor.isTransparent())for(let qe of c){const it=D.intersectWithViewport(qe);if(!it)continue;const[at,ot]=it;for(let Jt=at;Jt<=ot;Jt++)this.renderDecorationOnLine(i,y,qe,this._selectionColor,D,Jt,X,X,ce,me,Ze)}}_renderDecorationsHighlights(i,c,y,D,X,ce,me,Ze){for(let qe of c){const it=qe.options.minimap;if(!it)continue;const at=D.intersectWithViewport(qe.range);if(!at)continue;const[ot,Jt]=at,Ft=it.getColor(this._theme.value);if(Ft&&!Ft.isTransparent())for(let $t=ot;$t<=Jt;$t++)switch(it.position){case 1:this.renderDecorationOnLine(i,y,qe.range,Ft,D,$t,X,X,ce,me,Ze);continue;case 2:{const Gt=D.getYForLineNumber($t,X);this.renderDecoration(i,Ft,2,Gt,2,X);continue}}}}renderDecorationOnLine(i,c,y,D,X,ce,me,Ze,qe,it,at){const ot=X.getYForLineNumber(ce,Ze);if(ot+me<0||ot>this._model.options.canvasInnerHeight)return;const{startLineNumber:Jt,endLineNumber:Ft}=y,$t=Jt===ce?y.startColumn:1,Gt=Ft===ce?y.endColumn:this._model.getLineMaxColumn(ce),_n=this.getXOffsetForPosition(c,ce,$t,qe,it,at),Pn=this.getXOffsetForPosition(c,ce,Gt,qe,it,at);this.renderDecoration(i,D,_n,ot,Pn-_n,me)}getXOffsetForPosition(i,c,y,D,X,ce){if(y===1)return W.xq;if((y-1)*X>=ce)return ce;let me=i.get(c);if(!me){const Ze=this._model.getLineContent(c);me=[W.xq];let qe=W.xq;for(let it=1;it<Ze.length+1;it++){const at=Ze.charCodeAt(it-1),ot=qe+(at===9?D*X:En.ne(at)?2*X:X);if(ot>=ce){me[it]=ce;break}me[it]=ot,qe=ot}i.set(c,me)}return y-1<me.length?me[y-1]:ce}renderDecoration(i,c,y,D,X,ce){i.fillStyle=c&&c.toString()||"",i.fillRect(y,D,X,ce)}_renderSectionHeaders(i){const c=this._model.options.minimapLineHeight,y=this._model.options.sectionHeaderFontSize,D=this._model.options.sectionHeaderLetterSpacing,X=1.5*y,{canvasInnerWidth:ce}=this._model.options,me=this._model.options.backgroundColor,Ze=`rgb(${me.r} ${me.g} ${me.b} / .7)`,qe=this._model.options.sectionHeaderFontColor,it=`rgb(${qe.r} ${qe.g} ${qe.b})`,at=it,ot=this._decorationsCanvas.domNode.getContext("2d");ot.letterSpacing=D+"px",ot.font="500 "+y+"px "+this._model.options.sectionHeaderFontFamily,ot.strokeStyle=at,ot.lineWidth=0.2;const Jt=this._model.getSectionHeaderDecorationsInViewport(i.startLineNumber,i.endLineNumber);Jt.sort(($t,Gt)=>$t.range.startLineNumber-Gt.range.startLineNumber);const Ft=Oe._fitSectionHeader.bind(null,ot,ce-W.xq);for(let $t of Jt){const Gt=i.getYForLineNumber($t.range.startLineNumber,c)+y,_n=Gt-y,Pn=_n+2,Zn=this._model.getSectionHeaderText($t,Ft);Oe._renderSectionLabel(ot,Zn,$t.options.minimap?.sectionHeaderStyle===2,Ze,it,ce,_n,X,Gt,Pn)}}static _fitSectionHeader(i,c,y){if(!y)return y;const D=i.measureText(y).width,X=i.measureText("\u2026").width;if(D<=c||D<=X)return y;const ce=y.length,me=D/y.length,Ze=Math.floor((c-X)/me)-1;let qe=Math.ceil(Ze/2);for(;qe>0&&/\s/.test(y[qe-1]);)--qe;return y.substring(0,qe)+"\u2026"+y.substring(ce-(Ze-qe))}static _renderSectionLabel(i,c,y,D,X,ce,me,Ze,qe,it){c&&(i.fillStyle=D,i.fillRect(0,me,ce,Ze),i.fillStyle=X,i.fillText(c,W.xq,qe)),y&&(i.beginPath(),i.moveTo(0,it),i.lineTo(ce,it),i.closePath(),i.stroke())}renderLines(i){const{startLineNumber:c,endLineNumber:y}=i,D=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(i)){const Si=this._lastRenderData._get();return new Z(i,Si.imageData,Si.lines)}const X=this._getBuffer();if(!X)return null;const[ce,me,Ze]=Oe._renderUntouchedLines(X,i.topPaddingLineCount,c,y,D,this._lastRenderData),qe=this._model.getMinimapLinesRenderingData(c,y,Ze),it=this._model.getOptions().tabSize,at=this._model.options.defaultBackgroundColor,ot=this._model.options.backgroundColor,Jt=this._model.options.foregroundAlpha,Ft=this._model.tokensColorTracker,$t=Ft.backgroundIsLight(),Gt=this._model.options.renderMinimap,_n=this._model.options.charRenderer(),Pn=this._model.options.fontScale,Zn=this._model.options.minimapCharWidth,ni=(Gt===1?2:3)*Pn,Gn=D>ni?Math.floor((D-ni)/2):0,ri=ot.a/255,ci=new qt(Math.round((ot.r-at.r)*ri+at.r),Math.round((ot.g-at.g)*ri+at.g),Math.round((ot.b-at.b)*ri+at.b),255);let ai=i.topPaddingLineCount*D;const vi=[];for(let Si=0,cr=y-c+1;Si<cr;Si++)Ze[Si]&&Oe._renderLine(X,ci,ot.a,$t,Gt,Zn,Ft,Jt,_n,ai,Gn,it,qe[Si],Pn,D),vi[Si]=new N(ai),ai+=D;const gi=ce===-1?0:ce,sr=(me===-1?X.height:me)-gi;return this._canvas.domNode.getContext("2d").putImageData(X,0,0,0,gi,X.width,sr),new Z(i,X,vi)}static _renderUntouchedLines(i,c,y,D,X,ce){const me=[];if(!ce){for(let ci=0,ai=D-y+1;ci<ai;ci++)me[ci]=!0;return[-1,-1,me]}const Ze=ce._get(),qe=Ze.imageData.data,it=Ze.rendLineNumberStart,at=Ze.lines,ot=at.length,Jt=i.width,Ft=i.data,$t=(D-y+1)*X*Jt*4;let Gt=-1,_n=-1,Pn=-1,Zn=-1,ni=-1,Gn=-1,ri=c*X;for(let ci=y;ci<=D;ci++){const ai=ci-y,vi=ci-it,gi=vi>=0&&vi<ot?at[vi].dy:-1;if(gi===-1){me[ai]=!0,ri+=X;continue}const sr=gi*Jt*4,Si=(gi+X)*Jt*4,cr=ri*Jt*4,_i=(ri+X)*Jt*4;Zn===sr&&Gn===cr?(Zn=Si,Gn=_i):(Pn!==-1&&(Ft.set(qe.subarray(Pn,Zn),ni),Gt===-1&&Pn===0&&Pn===ni&&(Gt=Zn),_n===-1&&Zn===$t&&Pn===ni&&(_n=Pn)),Pn=sr,Zn=Si,ni=cr,Gn=_i),me[ai]=!1,ri+=X}return Pn!==-1&&(Ft.set(qe.subarray(Pn,Zn),ni),Gt===-1&&Pn===0&&Pn===ni&&(Gt=Zn),_n===-1&&Zn===$t&&Pn===ni&&(_n=Pn)),[Gt===-1?-1:Gt/(4*Jt),_n===-1?-1:_n/(4*Jt),me]}static _renderLine(i,c,y,D,X,ce,me,Ze,qe,it,at,ot,Jt,Ft,$t){const{content:Gt,tokens:_n}=Jt,Pn=i.width-ce,Zn=$t===1;let ni=W.xq,Gn=0,ri=0;for(let ci=0,ai=_n.getCount();ci<ai;ci++){const vi=_n.getEndOffset(ci),gi=_n.getForeground(ci),sr=me.getColor(gi);for(;Gn<vi;Gn++){if(ni>Pn)return;const Si=Gt.charCodeAt(Gn);if(Si===9){const cr=ot-(Gn+ri)%ot;ri+=cr-1,ni+=cr*ce}else if(Si===32)ni+=ce;else{const cr=En.ne(Si)?2:1;for(let _i=0;_i<cr;_i++)if(X===2?qe.blockRenderChar(i,ni,it+at,sr,Ze,c,y,Zn):qe.renderChar(i,ni,it+at,Si,sr,Ze,c,y,Ft,D,Zn),ni+=ce,ni>Pn)return}}}}}class Ke{constructor(i,c,y){this._startLineNumber=i,this._endLineNumber=c,this._defaultValue=y,this._values=[];for(let D=0,X=this._endLineNumber-this._startLineNumber+1;D<X;D++)this._values[D]=y}has(i){return this.get(i)!==this._defaultValue}set(i,c){i<this._startLineNumber||i>this._endLineNumber||(this._values[i-this._startLineNumber]=c)}get(i){return i<this._startLineNumber||i>this._endLineNumber?this._defaultValue:this._values[i-this._startLineNumber]}}class wt extends he{constructor(i,c){super(i),this._viewDomNode=c;const y=this._context.configuration.options.get(146);this._widgets={},this._verticalScrollbarWidth=y.verticalScrollbarWidth,this._minimapWidth=y.minimap.minimapWidth,this._horizontalScrollbarHeight=y.horizontalScrollbarHeight,this._editorHeight=y.height,this._editorWidth=y.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=Te.Z(document.createElement("div")),Q.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=Te.Z(document.createElement("div")),Q.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(i){const c=this._context.configuration.options.get(146);return this._verticalScrollbarWidth=c.verticalScrollbarWidth,this._minimapWidth=c.minimap.minimapWidth,this._horizontalScrollbarHeight=c.horizontalScrollbarHeight,this._editorHeight=c.height,this._editorWidth=c.width,!0}addWidget(i){const c=Te.Z(i.getDomNode());this._widgets[i.getId()]={widget:i,preference:null,domNode:c},c.setPosition("absolute"),c.setAttribute("widgetId",i.getId()),i.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(c):this._domNode.appendChild(c),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(i,c){const y=this._widgets[i.getId()],D=c?c.preference:null,X=c?.stackOridinal;return y.preference===D&&y.stack===X?(this._updateMaxMinWidth(),!1):(y.preference=D,y.stack=X,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(i){const c=i.getId();if(this._widgets.hasOwnProperty(c)){const y=this._widgets[c].domNode.domNode;delete this._widgets[c],y.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){let i=0;const c=Object.keys(this._widgets);for(let y=0,D=c.length;y<D;y++){const X=c[y],ce=this._widgets[X],me=ce.widget.getMinContentWidthInPx?.();me!==void 0&&(i=Math.max(i,me))}this._context.viewLayout.setOverlayWidgetsMinWidth(i)}_renderWidget(i,c){const y=i.domNode;if(i.preference===null)return void y.setTop("");const D=2*this._verticalScrollbarWidth+this._minimapWidth;if(i.preference===0||i.preference===1){if(i.preference===1){const X=y.domNode.clientHeight;y.setTop(this._editorHeight-X-2*this._horizontalScrollbarHeight)}else y.setTop(0);i.stack!==void 0?(y.setTop(c[i.preference]),c[i.preference]+=y.domNode.clientWidth):y.setRight(D)}else if(i.preference===2)y.domNode.style.right="50%",i.stack!==void 0?(y.setTop(c[2]),c[2]+=y.domNode.clientHeight):y.setTop(0);else{const{top:X,left:ce}=i.preference;if(this._context.configuration.options.get(42)&&i.widget.allowEditorOverflow){const me=this._viewDomNodeRect;y.setTop(X+me.top),y.setLeft(ce+me.left),y.setPosition("fixed")}else y.setTop(X),y.setLeft(ce),y.setPosition("absolute")}}prepareRender(i){this._viewDomNodeRect=v.BK(this._viewDomNode.domNode)}render(i){this._domNode.setWidth(this._editorWidth);const c=Object.keys(this._widgets),y=Array.from({length:3},()=>0);c.sort((D,X)=>(this._widgets[D].stack||0)-(this._widgets[X].stack||0));for(let D=0,X=c.length;D<X;D++){const ce=c[D];this._renderWidget(this._widgets[ce],y)}}}class kt{constructor(i,c){const y=i.options;this.lineHeight=y.get(67),this.pixelRatio=y.get(144),this.overviewRulerLanes=y.get(83),this.renderBorder=y.get(82);const D=c.getColor(Ln.x9);this.borderColor=D?D.toString():null,this.hideCursor=y.get(59);const X=c.getColor(Ln.D0);this.cursorColorSingle=X?X.transparent(0.7).toString():null;const ce=c.getColor(Ln.sC);this.cursorColorPrimary=ce?ce.transparent(0.7).toString():null;const me=c.getColor(Ln.we);this.cursorColorSecondary=me?me.transparent(0.7).toString():null,this.themeType=c.type;const Ze=y.get(73),qe=Ze.enabled,it=Ze.side,at=c.getColor(Ln.Xr),ot=er.dG.getDefaultBackground();this.backgroundColor=at||(qe&&it==="right"?ot:null);const Jt=y.get(146).overviewRuler;this.top=Jt.top,this.right=Jt.right,this.domWidth=Jt.width,this.domHeight=Jt.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Ft,$t]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Ft,this.w=$t}_initLanes(i,c,y){const D=c-i;if(y>=3){const X=Math.floor(D/3),ce=Math.floor(D/3),me=D-X-ce,Ze=i+X;return[[0,i,Ze,i,i+X+me,i,Ze,i],[0,X,me,X+me,ce,X+me+ce,me+ce,X+me+ce]]}if(y===2){const X=Math.floor(D/2),ce=D-X;return[[0,i,i,i,i+X,i,i,i],[0,X,X,X,ce,X+ce,X+ce,X+ce]]}return[[0,i,i,i,i,i,i,i],[0,D,D,D,D,D,D,D]]}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColorSingle===i.cursorColorSingle&&this.cursorColorPrimary===i.cursorColorPrimary&&this.cursorColorSecondary===i.cursorColorSecondary&&this.themeType===i.themeType&&Zi.Q1.equals(this.backgroundColor,i.backgroundColor)&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class Et extends he{constructor(i){super(i),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=Te.Z(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=er.dG.onDidChange((c)=>{c.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[{position:new Se.y(1,1),color:this._settings.cursorColorSingle}]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const c=new kt(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(c)||(this._settings=c,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),0))}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(i){return!!this._updateSettings(!1)&&this._markRenderingIsNeeded()}onCursorStateChanged(i){this._cursorPositions=[];for(let c=0,y=i.selections.length;c<y;c++){let D=this._settings.cursorColorSingle;y>1&&(D=c===0?this._settings.cursorColorPrimary:this._settings.cursorColorSecondary),this._cursorPositions.push({position:i.selections[c].getPosition(),color:D})}return this._cursorPositions.sort((c,y)=>Se.y.compare(c.position,y.position)),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(i){return!!i.affectsOverviewRuler&&this._markRenderingIsMaybeNeeded()}onFlushed(i){return this._markRenderingIsNeeded()}onScrollChanged(i){return!!i.scrollHeightChanged&&this._markRenderingIsNeeded()}onZonesChanged(i){return this._markRenderingIsNeeded()}onThemeChanged(i){return!!this._updateSettings(!1)&&this._markRenderingIsNeeded()}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render(),this._actualShouldRender=0}_render(){const i=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0)return this._domNode.setBackgroundColor(i?Zi.Q1.Format.CSS.formatHexA(i):""),void this._domNode.setDisplay("none");const c=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(c.sort(Vt.Uv.compareByRenderingProps),this._actualShouldRender!==1||Vt.Uv.equalsArr(this._renderedDecorations,c)||(this._actualShouldRender=2),this._actualShouldRender!==1||_.aI(this._renderedCursorPositions,this._cursorPositions,(Jt,Ft)=>Jt.position.lineNumber===Ft.position.lineNumber&&Jt.color===Ft.color)||(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=c,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const y=this._settings.canvasWidth,D=this._settings.canvasHeight,X=this._settings.lineHeight,ce=this._context.viewLayout,me=D/this._context.viewLayout.getScrollHeight(),Ze=6*this._settings.pixelRatio|0,qe=Ze/2|0,it=this._domNode.domNode.getContext("2d");i?i.isOpaque()?(it.fillStyle=Zi.Q1.Format.CSS.formatHexA(i),it.fillRect(0,0,y,D)):(it.clearRect(0,0,y,D),it.fillStyle=Zi.Q1.Format.CSS.formatHexA(i),it.fillRect(0,0,y,D)):it.clearRect(0,0,y,D);const at=this._settings.x,ot=this._settings.w;for(let Jt of c){const{color:Ft,data:$t}=Jt;it.fillStyle=Ft;let Gt=0,_n=0,Pn=0;for(let Zn=0,ni=$t.length/3;Zn<ni;Zn++){const Gn=$t[3*Zn],ri=$t[3*Zn+1],ci=$t[3*Zn+2];let ai=ce.getVerticalOffsetForLineNumber(ri)*me|0,vi=(ce.getVerticalOffsetForLineNumber(ci)+X)*me|0;if(vi-ai<Ze){let gi=(ai+vi)/2|0;gi<qe?gi=qe:gi+qe>D&&(gi=D-qe),ai=gi-qe,vi=gi+qe}ai>Pn+1||Gn!==Gt?(Zn!==0&&it.fillRect(at[Gt],_n,ot[Gt],Pn-_n),Gt=Gn,_n=ai,Pn=vi):vi>Pn&&(Pn=vi)}it.fillRect(at[Gt],_n,ot[Gt],Pn-_n)}if(!this._settings.hideCursor){const Jt=2*this._settings.pixelRatio|0,Ft=Jt/2|0,$t=this._settings.x[7],Gt=this._settings.w[7];let _n=-100,Pn=-100,Zn=null;for(let ni=0,Gn=this._cursorPositions.length;ni<Gn;ni++){const ri=this._cursorPositions[ni].color;if(!ri)continue;const ci=this._cursorPositions[ni].position;let ai=ce.getVerticalOffsetForLineNumber(ci.lineNumber)*me|0;ai<Ft?ai=Ft:ai+Ft>D&&(ai=D-Ft);const vi=ai-Ft,gi=vi+Jt;vi>Pn+1||ri!==Zn?(ni!==0&&Zn&&it.fillRect($t,_n,Gt,Pn-_n),_n=vi,Pn=gi):gi>Pn&&(Pn=gi),Zn=ri,it.fillStyle=ri}Zn&&it.fillRect($t,_n,Gt,Pn-_n)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(it.beginPath(),it.lineWidth=1,it.strokeStyle=this._settings.borderColor,it.moveTo(0,0),it.lineTo(0,D),it.moveTo(1,0),it.lineTo(y,0),it.stroke())}}var st,Bt=h(6803);class Rt extends Ie{constructor(i,c){super(),this._context=i;const y=this._context.configuration.options;this._domNode=Te.Z(document.createElement("canvas")),this._domNode.setClassName(c),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Bt.rW((D)=>this._context.viewLayout.getVerticalOffsetForLineNumber(D)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(y.get(67)),this._zoneManager.setPixelRatio(y.get(144)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return i.hasChanged(67)&&(this._zoneManager.setLineHeight(c.get(67)),this._render()),i.hasChanged(144)&&(this._zoneManager.setPixelRatio(c.get(144)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(i){return this._render(),!0}onScrollChanged(i){return i.scrollHeightChanged&&(this._zoneManager.setOuterHeight(i.scrollHeight),this._render()),!0}onZonesChanged(i){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(i){this._domNode.setTop(i.top),this._domNode.setRight(i.right);let c=!1;c=this._zoneManager.setDOMWidth(i.width)||c,c=this._zoneManager.setDOMHeight(i.height)||c,c&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(i){this._zoneManager.setZones(i),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const i=this._zoneManager.getCanvasWidth(),c=this._zoneManager.getCanvasHeight(),y=this._zoneManager.resolveColorZones(),D=this._zoneManager.getId2Color(),X=this._domNode.domNode.getContext("2d");return X.clearRect(0,0,i,c),y.length>0&&this._renderOneLane(X,y,D,i),!0}_renderOneLane(i,c,y,D){let X=0,ce=0,me=0;for(let Ze of c){const{colorId:qe,from:it,to:at}=Ze;qe!==X?(i.fillRect(0,ce,D,me-ce),X=qe,i.fillStyle=y[X],ce=it,me=at):me>=it?me=Math.max(me,at):(i.fillRect(0,ce,D,me-ce),ce=it,me=at)}i.fillRect(0,ce,D,me-ce)}}class en extends he{constructor(i){super(i),this.domNode=Te.Z(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const c=this._context.configuration.options;this._rulers=c.get(103),this._typicalHalfwidthCharacterWidth=c.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return this._rulers=c.get(103),this._typicalHalfwidthCharacterWidth=c.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(i){return i.scrollHeightChanged}prepareRender(i){}_ensureRulersCount(){const i=this._renderedRulers.length,c=this._rulers.length;if(i===c)return;if(i<c){const{tabSize:D}=this._context.viewModel.model.getOptions(),X=D;let ce=c-i;for(;ce>0;){const me=Te.Z(document.createElement("div"));me.setClassName("view-ruler"),me.setWidth(X),this.domNode.appendChild(me),this._renderedRulers.push(me),ce--}return}let y=i-c;for(;y>0;){const D=this._renderedRulers.pop();this.domNode.removeChild(D),y--}}render(i){this._ensureRulersCount();for(let c=0,y=this._rulers.length;c<y;c++){const D=this._renderedRulers[c],X=this._rulers[c];D.setBoxShadow(X.color?`1px 0 0 0 ${X.color} inset`:""),D.setHeight(Math.min(i.scrollHeight,1e6)),D.setLeft(X.column*this._typicalHalfwidthCharacterWidth)}}}class hn extends he{constructor(i){super(i),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const c=this._context.configuration.options.get(104);this._useShadows=c.useShadows,this._domNode=Te.Z(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const i=this._useShadows&&this._scrollTop>0;return this._shouldShow!==i&&(this._shouldShow=i,!0)}getDomNode(){return this._domNode}_updateWidth(){const i=this._context.configuration.options.get(146);i.minimap.renderMinimap===0||i.minimap.minimapWidth>0&&i.minimap.minimapLeft===0?this._width=i.width:this._width=i.width-i.verticalScrollbarWidth}onConfigurationChanged(i){const c=this._context.configuration.options.get(104);return this._useShadows=c.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(i){return this._scrollTop=i.scrollTop,this._updateShouldShow()}prepareRender(i){}render(i){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class je{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class ze{constructor(i,c){this.lineNumber=i,this.ranges=c}}function De(i){return new je(i)}function Ce(i){return new ze(i.lineNumber,i.ranges.map(De))}class ut extends si{static{this.SELECTION_CLASS_NAME="selected-text"}static{this.SELECTION_TOP_LEFT="top-left-radius"}static{this.SELECTION_BOTTOM_LEFT="bottom-left-radius"}static{this.SELECTION_TOP_RIGHT="top-right-radius"}static{this.SELECTION_BOTTOM_RIGHT="bottom-right-radius"}static{this.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background"}static{this.ROUNDED_PIECE_WIDTH=10}constructor(i){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=i;const c=this._context.configuration.options;this._roundedSelection=c.get(102),this._typicalHalfwidthCharacterWidth=c.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return this._roundedSelection=c.get(102),this._typicalHalfwidthCharacterWidth=c.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_visibleRangesHaveGaps(i){for(let c=0,y=i.length;c<y;c++)if(i[c].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(i,c,y){const D=this._typicalHalfwidthCharacterWidth/4;let X=null,ce=null;if(y&&y.length>0&&c.length>0){const me=c[0].lineNumber;if(me===i.startLineNumber)for(let qe=0;!X&&qe<y.length;qe++)y[qe].lineNumber===me&&(X=y[qe].ranges[0]);const Ze=c[c.length-1].lineNumber;if(Ze===i.endLineNumber)for(let qe=y.length-1;!ce&&qe>=0;qe--)y[qe].lineNumber===Ze&&(ce=y[qe].ranges[0]);X&&!X.startStyle&&(X=null),ce&&!ce.startStyle&&(ce=null)}for(let me=0,Ze=c.length;me<Ze;me++){const qe=c[me].ranges[0],it=qe.left,at=qe.left+qe.width,ot={top:0,bottom:0},Jt={top:0,bottom:0};if(me>0){const Ft=c[me-1].ranges[0].left,$t=c[me-1].ranges[0].left+c[me-1].ranges[0].width;Tt(it-Ft)<D?ot.top=2:it>Ft&&(ot.top=1),Tt(at-$t)<D?Jt.top=2:Ft<at&&at<$t&&(Jt.top=1)}else X&&(ot.top=X.startStyle.top,Jt.top=X.endStyle.top);if(me+1<Ze){const Ft=c[me+1].ranges[0].left,$t=c[me+1].ranges[0].left+c[me+1].ranges[0].width;Tt(it-Ft)<D?ot.bottom=2:Ft<it&&it<$t&&(ot.bottom=1),Tt(at-$t)<D?Jt.bottom=2:at<$t&&(Jt.bottom=1)}else ce&&(ot.bottom=ce.startStyle.bottom,Jt.bottom=ce.endStyle.bottom);qe.startStyle=ot,qe.endStyle=Jt}}_getVisibleRangesWithStyle(i,c,y){const D=(c.linesVisibleRangesForRange(i,!0)||[]).map(Ce);return!this._visibleRangesHaveGaps(D)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(c.visibleRange,D,y),D}_createSelectionPiece(i,c,y,D,X){return'<div class="cslr '+y+'" style="top:'+i.toString()+"px;bottom:"+c.toString()+"px;left:"+D.toString()+"px;width:"+X.toString()+'px;"></div>'}_actualRenderOneSelection(i,c,y,D){if(D.length===0)return;const X=!!D[0].ranges[0].startStyle,ce=D[0].lineNumber,me=D[D.length-1].lineNumber;for(let Ze=0,qe=D.length;Ze<qe;Ze++){const it=D[Ze],at=it.lineNumber,ot=at-c,Jt=y&&at===ce?1:0,Ft=y&&at!==ce&&at===me?1:0;let $t="",Gt="";for(let _n=0,Pn=it.ranges.length;_n<Pn;_n++){const Zn=it.ranges[_n];if(X){const{startStyle:Gn,endStyle:ri}=Zn;if(Gn.top===1||Gn.bottom===1){$t+=this._createSelectionPiece(Jt,Ft,ut.SELECTION_CLASS_NAME,Zn.left-ut.ROUNDED_PIECE_WIDTH,ut.ROUNDED_PIECE_WIDTH);let ci=ut.EDITOR_BACKGROUND_CLASS_NAME;Gn.top===1&&(ci+=" "+ut.SELECTION_TOP_RIGHT),Gn.bottom===1&&(ci+=" "+ut.SELECTION_BOTTOM_RIGHT),$t+=this._createSelectionPiece(Jt,Ft,ci,Zn.left-ut.ROUNDED_PIECE_WIDTH,ut.ROUNDED_PIECE_WIDTH)}if(ri.top===1||ri.bottom===1){$t+=this._createSelectionPiece(Jt,Ft,ut.SELECTION_CLASS_NAME,Zn.left+Zn.width,ut.ROUNDED_PIECE_WIDTH);let ci=ut.EDITOR_BACKGROUND_CLASS_NAME;ri.top===1&&(ci+=" "+ut.SELECTION_TOP_LEFT),ri.bottom===1&&(ci+=" "+ut.SELECTION_BOTTOM_LEFT),$t+=this._createSelectionPiece(Jt,Ft,ci,Zn.left+Zn.width,ut.ROUNDED_PIECE_WIDTH)}}let ni=ut.SELECTION_CLASS_NAME;if(X){const{startStyle:Gn,endStyle:ri}=Zn;Gn.top===0&&(ni+=" "+ut.SELECTION_TOP_LEFT),Gn.bottom===0&&(ni+=" "+ut.SELECTION_BOTTOM_LEFT),ri.top===0&&(ni+=" "+ut.SELECTION_TOP_RIGHT),ri.bottom===0&&(ni+=" "+ut.SELECTION_BOTTOM_RIGHT)}Gt+=this._createSelectionPiece(Jt,Ft,ni,Zn.left,Zn.width)}i[ot][0]+=$t,i[ot][1]+=Gt}}prepareRender(i){const c=[],y=i.visibleRange.startLineNumber,D=i.visibleRange.endLineNumber;for(let ce=y;ce<=D;ce++)c[ce-y]=["",""];const X=[];for(let ce=0,me=this._selections.length;ce<me;ce++){const Ze=this._selections[ce];if(Ze.isEmpty()){X[ce]=null;continue}const qe=this._getVisibleRangesWithStyle(Ze,i,this._previousFrameVisibleRangesWithStyle[ce]);X[ce]=qe,this._actualRenderOneSelection(c,y,this._selections.length>1,qe)}this._previousFrameVisibleRangesWithStyle=X,this._renderResult=c.map(([ce,me])=>ce+me)}render(i,c){if(!this._renderResult)return"";const y=c-i;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}function Tt(i){return i<0?-i:i}ti.zy((i,c)=>{const y=i.getColor(Cn.rm4);y&&!y.isTransparent()&&c.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${y}; }`)});class Ht{constructor(i,c,y,D,X,ce,me){this.top=i,this.left=c,this.paddingLeft=y,this.width=D,this.height=X,this.textContent=ce,this.textContentClassName=me}}(function(i){i[i.Single=0]="Single",i[i.MultiPrimary=1]="MultiPrimary",i[i.MultiSecondary=2]="MultiSecondary"})(st||(st={}));class sn{constructor(i,c){this._context=i;const y=this._context.configuration.options,D=y.get(50);this._cursorStyle=y.get(28),this._lineHeight=y.get(67),this._typicalHalfwidthCharacterWidth=D.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(y.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Te.Z(document.createElement("div")),this._domNode.setClassName(`cursor ${Ii}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),f.M(this._domNode,D),this._domNode.setDisplay("none"),this._position=new Se.y(1,1),this._pluralityClass="",this.setPlurality(c),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}setPlurality(i){switch(i){default:case st.Single:this._pluralityClass="";break;case st.MultiPrimary:this._pluralityClass="cursor-primary";break;case st.MultiSecondary:this._pluralityClass="cursor-secondary"}}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(i){const c=this._context.configuration.options,y=c.get(50);return this._cursorStyle=c.get(28),this._lineHeight=c.get(67),this._typicalHalfwidthCharacterWidth=y.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(31),this._typicalHalfwidthCharacterWidth),f.M(this._domNode,y),!0}onCursorPositionChanged(i,c){return this._domNode.domNode.style.transitionProperty=c?"none":"",this._position=i,!0}_getGraphemeAwarePosition(){const{lineNumber:i,column:c}=this._position,y=this._context.viewModel.getLineContent(i),[D,X]=En.m(y,c-1);return[new Se.y(i,D+1),y.substring(D,X)]}_prepareRender(i){let c="",y="";const[D,X]=this._getGraphemeAwarePosition();if(this._cursorStyle===W.m9.Line||this._cursorStyle===W.m9.LineThin){const ot=i.visibleRangeForPosition(D);if(!ot||ot.outsideRenderedLine)return null;const Jt=v.zk(this._domNode.domNode);let Ft;this._cursorStyle===W.m9.Line?(Ft=v.vT(Jt,this._lineCursorWidth>0?this._lineCursorWidth:2),Ft>2&&(c=X,y=this._getTokenClassName(D))):Ft=v.vT(Jt,1);let $t=ot.left,Gt=0;Ft>=2&&$t>=1&&(Gt=1,$t-=Gt);const _n=i.getVerticalOffsetForLineNumber(D.lineNumber)-i.bigNumbersDelta;return new Ht(_n,$t,Gt,Ft,this._lineHeight,c,y)}const ce=i.linesVisibleRangesForRange(new Pe.Q(D.lineNumber,D.column,D.lineNumber,D.column+X.length),!1);if(!ce||ce.length===0)return null;const me=ce[0];if(me.outsideRenderedLine||me.ranges.length===0)return null;const Ze=me.ranges[0],qe=X==="\t"||Ze.width<1?this._typicalHalfwidthCharacterWidth:Ze.width;this._cursorStyle===W.m9.Block&&(c=X,y=this._getTokenClassName(D));let it=i.getVerticalOffsetForLineNumber(D.lineNumber)-i.bigNumbersDelta,at=this._lineHeight;return this._cursorStyle!==W.m9.Underline&&this._cursorStyle!==W.m9.UnderlineThin||(it+=this._lineHeight-2,at=2),new Ht(it,Ze.left,0,qe,at,c,y)}_getTokenClassName(i){const c=this._context.viewModel.getViewLineData(i.lineNumber),y=c.tokens.findTokenIndexAtOffset(i.column-1);return c.tokens.getClassName(y)}prepareRender(i){this._renderData=this._prepareRender(i)}render(i){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${this._pluralityClass} ${Ii} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class Vn extends he{static{this.BLINK_INTERVAL=500}constructor(i){super(i);const c=this._context.configuration.options;this._readOnly=c.get(92),this._cursorBlinking=c.get(26),this._cursorStyle=c.get(28),this._cursorSmoothCaretAnimation=c.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new sn(this._context,st.Single),this._secondaryCursors=[],this._renderData=[],this._domNode=Te.Z(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Wt.pc,this._cursorFlatBlinkInterval=new v.Be,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const c=this._context.configuration.options;this._readOnly=c.get(92),this._cursorBlinking=c.get(26),this._cursorStyle=c.get(28),this._cursorSmoothCaretAnimation=c.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let y=0,D=this._secondaryCursors.length;y<D;y++)this._secondaryCursors[y].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,c,y){const D=this._secondaryCursors.length!==c.length||this._cursorSmoothCaretAnimation==="explicit"&&y!==3;if(this._primaryCursor.setPlurality(c.length?st.MultiPrimary:st.Single),this._primaryCursor.onCursorPositionChanged(i,D),this._updateBlinking(),this._secondaryCursors.length<c.length){const X=c.length-this._secondaryCursors.length;for(let ce=0;ce<X;ce++){const me=new sn(this._context,st.MultiSecondary);this._domNode.domNode.insertBefore(me.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(me)}}else if(this._secondaryCursors.length>c.length){const X=this._secondaryCursors.length-c.length;for(let ce=0;ce<X;ce++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let X=0;X<c.length;X++)this._secondaryCursors[X].onCursorPositionChanged(c[X],D)}onCursorStateChanged(i){const c=[];for(let D=0,X=i.selections.length;D<X;D++)c[D]=i.selections[D].getPosition();this._onCursorPositionChanged(c[0],c.slice(1),i.reason);const y=i.selections[0].isEmpty();return this._selectionIsEmpty!==y&&(this._selectionIsEmpty=y,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const c=(y)=>{for(let D=0,X=i.ranges.length;D<X;D++)if(i.ranges[D].fromLineNumber<=y.lineNumber&&y.lineNumber<=i.ranges[D].toLineNumber)return!0;return!1};if(c(this._primaryCursor.getPosition()))return!0;for(let y of this._secondaryCursors)if(c(y.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput?0:this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),c=i===0,y=i===5;c?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),c||y||(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Vn.BLINK_INTERVAL,v.zk(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Vn.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case W.m9.Line:i+=" cursor-line-style";break;case W.m9.Block:i+=" cursor-block-style";break;case W.m9.Underline:i+=" cursor-underline-style";break;case W.m9.LineThin:i+=" cursor-line-thin-style";break;case W.m9.BlockOutline:i+=" cursor-block-outline-style";break;case W.m9.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return this._cursorSmoothCaretAnimation!=="on"&&this._cursorSmoothCaretAnimation!=="explicit"||(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,c=this._secondaryCursors.length;i<c;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,c=this._secondaryCursors.length;i<c;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let c=0,y=this._secondaryCursors.length;c<y;c++)this._secondaryCursors[c].prepareRender(i)}render(i){const c=[];let y=0;const D=this._primaryCursor.render(i);D&&(c[y++]=D);for(let X=0,ce=this._secondaryCursors.length;X<ce;X++){const me=this._secondaryCursors[X].render(i);me&&(c[y++]=me)}this._renderData=c}getLastRenderData(){return this._renderData}}ti.zy((i,c)=>{const y=[{class:".cursor",foreground:Ln.D0,background:Ln.kM},{class:".cursor-primary",foreground:Ln.sC,background:Ln.je},{class:".cursor-secondary",foreground:Ln.we,background:Ln.L0}];for(let D of y){const X=i.getColor(D.foreground);if(X){let ce=i.getColor(D.background);ce||(ce=X.opposite()),c.addRule(`.monaco-editor .cursors-layer ${D.class} { background-color: ${X}; border-color: ${X}; color: ${ce}; }`),An.Bb(i.type)&&c.addRule(`.monaco-editor .cursors-layer.has-selection ${D.class} { border-left: 1px solid ${ce}; border-right: 1px solid ${ce}; }`)}}});const yn=()=>{throw new Error("Invalid change accessor")};class qi extends he{constructor(i){super(i);const c=this._context.configuration.options,y=c.get(146);this._lineHeight=c.get(67),this._contentWidth=y.contentWidth,this._contentLeft=y.contentLeft,this.domNode=Te.Z(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=Te.Z(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const i=this._context.viewLayout.getWhitespaces(),c=new Map;for(let D of i)c.set(D.id,D);let y=!1;return this._context.viewModel.changeWhitespace((D)=>{const X=Object.keys(this._zones);for(let ce=0,me=X.length;ce<me;ce++){const Ze=X[ce],qe=this._zones[Ze],it=this._computeWhitespaceProps(qe.delegate);qe.isInHiddenArea=it.isInHiddenArea;const at=c.get(Ze);!at||at.afterLineNumber===it.afterViewLineNumber&&at.height===it.heightInPx||(D.changeOneWhitespace(Ze,it.afterViewLineNumber,it.heightInPx),this._safeCallOnComputedHeight(qe.delegate,it.heightInPx),y=!0)}}),y}onConfigurationChanged(i){const c=this._context.configuration.options,y=c.get(146);return this._lineHeight=c.get(67),this._contentWidth=y.contentWidth,this._contentLeft=y.contentLeft,i.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(i){return this._recomputeWhitespacesProps()}onLinesDeleted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}onLinesInserted(i){return!0}_getZoneOrdinal(i){return i.ordinal??i.afterColumn??1e4}_computeWhitespaceProps(i){if(i.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(i),minWidthInPx:this._minWidthInPixels(i)};let c,y;if(i.afterColumn!==void 0)c=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:i.afterColumn});else{const ce=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:1}).lineNumber;c=new Se.y(ce,this._context.viewModel.model.getLineMaxColumn(ce))}y=c.column===this._context.viewModel.model.getLineMaxColumn(c.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber,column:c.column+1});const D=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c,i.afterColumnAffinity,!0),X=i.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(y);return{isInHiddenArea:!X,afterViewLineNumber:D.lineNumber,heightInPx:X?this._heightInPixels(i):0,minWidthInPx:this._minWidthInPixels(i)}}changeViewZones(i){let c=!1;return this._context.viewModel.changeWhitespace((y)=>{const D={addZone:(X)=>(c=!0,this._addZone(y,X)),removeZone:(X)=>{X&&(c=this._removeZone(y,X)||c)},layoutZone:(X)=>{X&&(c=this._layoutZone(y,X)||c)}};(function(X,ce){try{return X(ce)}catch(me){E.dz(me)}})(i,D),D.addZone=yn,D.removeZone=yn,D.layoutZone=yn}),c}_addZone(i,c){const y=this._computeWhitespaceProps(c),D={whitespaceId:i.insertWhitespace(y.afterViewLineNumber,this._getZoneOrdinal(c),y.heightInPx,y.minWidthInPx),delegate:c,isInHiddenArea:y.isInHiddenArea,isVisible:!1,domNode:Te.Z(c.domNode),marginDomNode:c.marginDomNode?Te.Z(c.marginDomNode):null};return this._safeCallOnComputedHeight(D.delegate,y.heightInPx),D.domNode.setPosition("absolute"),D.domNode.domNode.style.width="100%",D.domNode.setDisplay("none"),D.domNode.setAttribute("monaco-view-zone",D.whitespaceId),this.domNode.appendChild(D.domNode),D.marginDomNode&&(D.marginDomNode.setPosition("absolute"),D.marginDomNode.domNode.style.width="100%",D.marginDomNode.setDisplay("none"),D.marginDomNode.setAttribute("monaco-view-zone",D.whitespaceId),this.marginDomNode.appendChild(D.marginDomNode)),this._zones[D.whitespaceId]=D,this.setShouldRender(),D.whitespaceId}_removeZone(i,c){if(this._zones.hasOwnProperty(c)){const y=this._zones[c];return delete this._zones[c],i.removeWhitespace(y.whitespaceId),y.domNode.removeAttribute("monaco-visible-view-zone"),y.domNode.removeAttribute("monaco-view-zone"),y.domNode.domNode.remove(),y.marginDomNode&&(y.marginDomNode.removeAttribute("monaco-visible-view-zone"),y.marginDomNode.removeAttribute("monaco-view-zone"),y.marginDomNode.domNode.remove()),this.setShouldRender(),!0}return!1}_layoutZone(i,c){if(this._zones.hasOwnProperty(c)){const y=this._zones[c],D=this._computeWhitespaceProps(y.delegate);return y.isInHiddenArea=D.isInHiddenArea,i.changeOneWhitespace(y.whitespaceId,D.afterViewLineNumber,D.heightInPx),this._safeCallOnComputedHeight(y.delegate,D.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(i){if(this._zones.hasOwnProperty(i)){const c=this._zones[i];return Boolean(c.delegate.suppressMouseDown)}return!1}_heightInPixels(i){return typeof i.heightInPx=="number"?i.heightInPx:typeof i.heightInLines=="number"?this._lineHeight*i.heightInLines:this._lineHeight}_minWidthInPixels(i){return typeof i.minWidthInPx=="number"?i.minWidthInPx:0}_safeCallOnComputedHeight(i,c){if(typeof i.onComputedHeight=="function")try{i.onComputedHeight(c)}catch(y){E.dz(y)}}_safeCallOnDomNodeTop(i,c){if(typeof i.onDomNodeTop=="function")try{i.onDomNodeTop(c)}catch(y){E.dz(y)}}prepareRender(i){}render(i){const c=i.viewportData.whitespaceViewportData,y={};let D=!1;for(let ce of c)this._zones[ce.id].isInHiddenArea||(y[ce.id]=ce,D=!0);const X=Object.keys(this._zones);for(let ce=0,me=X.length;ce<me;ce++){const Ze=X[ce],qe=this._zones[Ze];let it=0,at=0,ot="none";y.hasOwnProperty(Ze)?(it=y[Ze].verticalOffset-i.bigNumbersDelta,at=y[Ze].height,ot="block",qe.isVisible||(qe.domNode.setAttribute("monaco-visible-view-zone","true"),qe.isVisible=!0),this._safeCallOnDomNodeTop(qe.delegate,i.getScrolledTopFromAbsoluteTop(y[Ze].verticalOffset))):(qe.isVisible&&(qe.domNode.removeAttribute("monaco-visible-view-zone"),qe.isVisible=!1),this._safeCallOnDomNodeTop(qe.delegate,i.getScrolledTopFromAbsoluteTop(-1e6))),qe.domNode.setTop(it),qe.domNode.setHeight(at),qe.domNode.setDisplay(ot),qe.marginDomNode&&(qe.marginDomNode.setTop(it),qe.marginDomNode.setHeight(at),qe.marginDomNode.setDisplay(ot))}D&&(this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}var ki=h(9723);class ur extends si{constructor(i){super(),this._context=i,this._options=new Vr(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=new Vr(this._context.configuration);return this._options.equals(c)?i.hasChanged(146):(this._options=c,!0)}onCursorStateChanged(i){return this._selection=i.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}prepareRender(i){if(this._options.renderWhitespace==="none")return void(this._renderResult=null);const c=i.visibleRange.startLineNumber,y=i.visibleRange.endLineNumber-c+1,D=new Array(y);for(let ce=0;ce<y;ce++)D[ce]=!0;const X=this._context.viewModel.getMinimapLinesRenderingData(i.viewportData.startLineNumber,i.viewportData.endLineNumber,D);this._renderResult=[];for(let ce=i.viewportData.startLineNumber;ce<=i.viewportData.endLineNumber;ce++){const me=ce-i.viewportData.startLineNumber,Ze=X.data[me];let qe=null;if(this._options.renderWhitespace==="selection"){const it=this._selection;for(let at of it){if(at.endLineNumber<ce||at.startLineNumber>ce)continue;const ot=at.startLineNumber===ce?at.startColumn:Ze.minColumn,Jt=at.endLineNumber===ce?at.endColumn:Ze.maxColumn;ot<Jt&&(qe||(qe=[]),qe.push(new ki.MT(ot-1,Jt-1)))}}this._renderResult[me]=this._applyRenderWhitespace(i,ce,qe,Ze)}}_applyRenderWhitespace(i,c,y,D){if(this._options.renderWhitespace==="selection"&&!y)return"";if(this._options.renderWhitespace==="trailing"&&D.continuesWithWrappedLine)return"";const X=this._context.theme.getColor(Ln.w4),ce=this._options.renderWithSVG,me=D.content,Ze=this._options.stopRenderingLineAfter===-1?me.length:Math.min(this._options.stopRenderingLineAfter,me.length),qe=D.continuesWithWrappedLine,it=D.minColumn-1,at=this._options.renderWhitespace==="boundary",ot=this._options.renderWhitespace==="trailing",Jt=this._options.lineHeight,Ft=this._options.middotWidth,$t=this._options.wsmiddotWidth,Gt=this._options.spaceWidth,_n=Math.abs($t-Gt)<Math.abs(Ft-Gt)?11825:183,Pn=this._options.canUseHalfwidthRightwardsArrow;let Zn,ni="",Gn=!1,ri=En.HG(me);ri===-1?(Gn=!0,ri=Ze,Zn=Ze):Zn=En.lT(me);let ci=0,ai=y&&y[ci],vi=0;for(let gi=it;gi<Ze;gi++){const sr=me.charCodeAt(gi);if(ai&&gi>=ai.endOffset&&(ci++,ai=y&&y[ci]),sr!==9&&sr!==32)continue;if(ot&&!Gn&&gi<=Zn)continue;if(at&&gi>=ri&&gi<=Zn&&sr===32){const cr=gi-1>=0?me.charCodeAt(gi-1):0,_i=gi+1<Ze?me.charCodeAt(gi+1):0;if(cr!==32&&_i!==32)continue}if(at&&qe&&gi===Ze-1){const cr=gi-1>=0?me.charCodeAt(gi-1):0;if(sr===32&&cr!==32&&cr!==9)continue}if(y&&(!ai||ai.startOffset>gi||ai.endOffset<=gi))continue;const Si=i.visibleRangeForPosition(new Se.y(c,gi+1));Si&&(ce?(vi=Math.max(vi,Si.left),ni+=sr===9?this._renderArrow(Jt,Gt,Si.left):`<circle cx="${(Si.left+Gt/2).toFixed(2)}" cy="${(Jt/2).toFixed(2)}" r="${(Gt/7).toFixed(2)}" />`):ni+=sr===9?`<div class="mwh" style="left:${Si.left}px;height:${Jt}px;">${Pn?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:`<div class="mwh" style="left:${Si.left}px;height:${Jt}px;">${String.fromCharCode(_n)}</div>`)}return ce?(vi=Math.round(vi+Gt),`<svg style="bottom:0;position:absolute;width:${vi}px;height:${Jt}px" viewBox="0 0 ${vi} ${Jt}" xmlns="http://www.w3.org/2000/svg" fill="${X}">`+ni+"</svg>"):ni}_renderArrow(i,c,y){const D=i/2,X=y,ce={x:0,y:c/7/2},me={x:0.8*c,y:ce.y},Ze={x:me.x-0.2*me.x,y:me.y+0.2*me.x},qe={x:Ze.x+0.1*me.x,y:Ze.y+0.1*me.x},it={x:qe.x+0.35*me.x,y:qe.y-0.35*me.x};return`<path d="M ${[ce,me,Ze,qe,it,{x:it.x,y:-it.y},{x:qe.x,y:-qe.y},{x:Ze.x,y:-Ze.y},{x:me.x,y:-me.y},{x:ce.x,y:-ce.y}].map((at)=>`${(X+at.x).toFixed(2)} ${(D+at.y).toFixed(2)}`).join(" L ")}" />`}render(i,c){if(!this._renderResult)return"";const y=c-i;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}class Vr{constructor(i){const c=i.options,y=c.get(50),D=c.get(38);D==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):D==="svg"?(this.renderWhitespace=c.get(100),this.renderWithSVG=!0):(this.renderWhitespace=c.get(100),this.renderWithSVG=!1),this.spaceWidth=y.spaceWidth,this.middotWidth=y.middotWidth,this.wsmiddotWidth=y.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=y.canUseHalfwidthRightwardsArrow,this.lineHeight=c.get(67),this.stopRenderingLineAfter=c.get(118)}equals(i){return this.renderWhitespace===i.renderWhitespace&&this.renderWithSVG===i.renderWithSVG&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.lineHeight===i.lineHeight&&this.stopRenderingLineAfter===i.stopRenderingLineAfter}}class Fo{constructor(i,c,y,D){this.selections=i,this.startLineNumber=0|c.startLineNumber,this.endLineNumber=0|c.endLineNumber,this.relativeVerticalOffset=c.relativeVerticalOffset,this.bigNumbersDelta=0|c.bigNumbersDelta,this.lineHeight=0|c.lineHeight,this.whitespaceViewportData=y,this._model=D,this.visibleRange=new Pe.Q(c.startLineNumber,this._model.getLineMinColumn(c.startLineNumber),c.endLineNumber,this._model.getLineMaxColumn(c.endLineNumber))}getViewLineRenderingData(i){return this._model.getViewportViewLineRenderingData(this.visibleRange,i)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class ii{get type(){return this._theme.type}get value(){return this._theme}constructor(i){this._theme=i}update(i){this._theme=i}getColor(i){return this._theme.getColor(i)}}class no{constructor(i,c,y){this.configuration=i,this.theme=new ii(c),this.viewModel=y,this.viewLayout=y.viewLayout}addEventHandler(i){this.viewModel.addViewEventHandler(i)}removeEventHandler(i){this.viewModel.removeViewEventHandler(i)}}let ui=class extends Ie{constructor(i,c,y,D,X,ce,me){super(),this._instantiationService=me,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new jt.L(1,1,1,1)],this._renderAnimationFrame=null;const Ze=new Xt(c,D,X,i);this._context=new no(c,y,D),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(Nt,this._context,Ze,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=Te.Z(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=Te.Z(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=Te.Z(document.createElement("div")),Q.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new nr(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new tt(this._context,this._linesContent),this._viewZones=new qi(this._context),this._viewParts.push(this._viewZones);const qe=new Et(this._context);this._viewParts.push(qe);const it=new hn(this._context);this._viewParts.push(it);const at=new ar(this._context);this._viewParts.push(at),at.addDynamicOverlay(new qn(this._context)),at.addDynamicOverlay(new ut(this._context)),at.addDynamicOverlay(new zt(this._context)),at.addDynamicOverlay(new Ai(this._context)),at.addDynamicOverlay(new ur(this._context));const ot=new Hi(this._context);this._viewParts.push(ot),ot.addDynamicOverlay(new oi(this._context)),ot.addDynamicOverlay(new bt(this._context)),ot.addDynamicOverlay(new gt(this._context)),ot.addDynamicOverlay(new Xn(this._context)),this._glyphMarginWidgets=new ht(this._context),this._viewParts.push(this._glyphMarginWidgets);const Jt=new xi(this._context);Jt.getDomNode().appendChild(this._viewZones.marginDomNode),Jt.getDomNode().appendChild(ot.getDomNode()),Jt.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(Jt),this._contentWidgets=new _t(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Vn(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new wt(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const Ft=new en(this._context);this._viewParts.push(Ft);const $t=new Yi(this._context);this._viewParts.push($t);const Gt=new Ne(this._context);if(this._viewParts.push(Gt),qe){const _n=this._scrollbar.getOverviewRulerLayoutInfo();_n.parent.insertBefore(qe.getDomNode(),_n.insertBefore)}this._linesContent.appendChild(at.getDomNode()),this._linesContent.appendChild(Ft.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Jt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(it.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Gt.getDomNode()),this._overflowGuardContainer.appendChild($t.domNode),this.domNode.appendChild(this._overflowGuardContainer),ce?(ce.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),ce.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new Mi(this._context,Ze,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const i=this._context.viewModel.model,c=this._context.viewModel.glyphLanes;let y=[],D=0;y=y.concat(i.getAllMarginDecorations().map((X)=>{const ce=X.options.glyphMargin?.position??$i.ZS.Center;return D=Math.max(D,X.range.endLineNumber),{range:X.range,lane:ce,persist:X.options.glyphMargin?.persistLane}})),y=y.concat(this._glyphMarginWidgets.getWidgets().map((X)=>{const ce=i.validateRange(X.preference.range);return D=Math.max(D,ce.endLineNumber),{range:ce,lane:X.preference.lane}})),y.sort((X,ce)=>Pe.Q.compareRangesUsingStarts(X.range,ce.range)),c.reset(D);for(let X of y)c.push(X.lane,X.range,X.persist);return c}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:(i)=>{this._textAreaHandler.textArea.domNode.dispatchEvent(i)},getLastRenderData:()=>{const i=this._viewCursors.getLastRenderData()||[],c=this._textAreaHandler.getLastRenderData();return new de(i,c)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:(i)=>this._viewZones.shouldSuppressMouseDownOnViewZone(i),shouldSuppressMouseDownOnWidget:(i)=>this._contentWidgets.shouldSuppressMouseDownOnWidget(i),getPositionFromDOMInfo:(i,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(i,c)),visibleRangeForPosition:(i,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Se.y(i,c))),getLineWidth:(i)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(i))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:(i)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(i))}}_applyLayout(){const i=this._context.configuration.options.get(146);this.domNode.setWidth(i.width),this.domNode.setHeight(i.height),this._overflowGuardContainer.setWidth(i.width),this._overflowGuardContainer.setHeight(i.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)}_getEditorClassName(){const i=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(143)+" "+ti.Pz(this._context.theme.type)+i}handleEvents(i){super.handleEvents(i),this._scheduleRender()}onConfigurationChanged(i){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(i){return this._selections=i.selections,!1}onDecorationsChanged(i){return i.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(i){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(i){return this._context.theme.update(i.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(let i of this._viewParts)i.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new E.D7;if(this._renderAnimationFrame===null){const i=this._createCoordinatedRendering();this._renderAnimationFrame=Js.INSTANCE.scheduleCoordinatedRendering({window:v.zk(this.domNode?.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new E.D7;try{return i.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new E.D7;return i.renderText()},prepareRender:(c,y)=>{if(this._store.isDisposed)throw new E.D7;return i.prepareRender(c,y)},render:(c,y)=>{if(this._store.isDisposed)throw new E.D7;return i.render(c,y)}})}}_flushAccumulatedAndRenderNow(){const i=this._createCoordinatedRendering();Dr(()=>i.prepareRenderText());const c=Dr(()=>i.renderText());if(c){const[y,D]=c;Dr(()=>i.prepareRender(y,D)),Dr(()=>i.render(y,D))}}_getViewPartsToRender(){const i=[];let c=0;for(let y of this._viewParts)y.shouldRender()&&(i[c++]=y);return i}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const i=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(i.requiredLanes)}xe.p.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let i=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&i.length===0)return null;const c=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(c.startLineNumber,c.endLineNumber,c.centeredLineNumber);const y=new Fo(this._selections,c,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(y),this._viewLines.shouldRender()&&(this._viewLines.renderText(y),this._viewLines.onDidRender(),i=this._getViewPartsToRender()),[i,new Ci.eh(this._context.viewLayout,y,this._viewLines)]},prepareRender:(i,c)=>{for(let y of i)y.prepareRender(c)},render:(i,c)=>{for(let y of i)y.render(c),y.onDidRender()}}}delegateVerticalScrollbarPointerDown(i){this._scrollbar.delegateVerticalScrollbarPointerDown(i)}delegateScrollFromMouseWheelEvent(i){this._scrollbar.delegateScrollFromMouseWheelEvent(i)}restoreState(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i.scrollTop,scrollLeft:i.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(i,c){const y=this._context.viewModel.model.validatePosition({lineNumber:i,column:c}),D=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(y);this._flushAccumulatedAndRenderNow();const X=this._viewLines.visibleRangeForPosition(new Se.y(D.lineNumber,D.column));return X?X.left:-1}getTargetAtClientPoint(i,c){const y=this._pointerHandler.getTargetAtClientPoint(i,c);return y?or.convertViewToModelMouseTarget(y,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(i){return new Rt(this._context,i)}change(i){this._viewZones.changeViewZones(i),this._scheduleRender()}render(i,c){if(c){this._viewLines.forceShouldRender();for(let y of this._viewParts)y.forceShouldRender()}i?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(i){this._textAreaHandler.writeScreenReaderContent(i)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(i){this._textAreaHandler.setAriaOptions(i)}addContentWidget(i){this._contentWidgets.addWidget(i.widget),this.layoutContentWidget(i),this._scheduleRender()}layoutContentWidget(i){this._contentWidgets.setWidgetPosition(i.widget,i.position?.position??null,i.position?.secondaryPosition??null,i.position?.preference??null,i.position?.positionAffinity??null),this._scheduleRender()}removeContentWidget(i){this._contentWidgets.removeWidget(i.widget),this._scheduleRender()}addOverlayWidget(i){this._overlayWidgets.addWidget(i.widget),this.layoutOverlayWidget(i),this._scheduleRender()}layoutOverlayWidget(i){this._overlayWidgets.setWidgetPosition(i.widget,i.position)&&this._scheduleRender()}removeOverlayWidget(i){this._overlayWidgets.removeWidget(i.widget),this._scheduleRender()}addGlyphMarginWidget(i){this._glyphMarginWidgets.addWidget(i.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(i){const c=i.position;this._glyphMarginWidgets.setWidgetPosition(i.widget,c)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(i){this._glyphMarginWidgets.removeWidget(i.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};function Dr(i){try{return i()}catch(c){return E.dz(c),null}}ui=function(i,c,y,D){var X,ce=arguments.length,me=ce<3?c:D===null?D=Object.getOwnPropertyDescriptor(c,y):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(i,c,y,D);else for(var Ze=i.length-1;Ze>=0;Ze--)(X=i[Ze])&&(me=(ce<3?X(me):ce>3?X(c,y,me):X(c,y))||me);return ce>3&&me&&Object.defineProperty(c,y,me),me}([function(i,c){return function(y,D){c(y,D,i)}}(6,yi._Y)],ui);class Js{static{this.INSTANCE=new Js}constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(i){return this._coordinatedRenderings.push(i),this._scheduleRender(i.window),{dispose:()=>{const c=this._coordinatedRenderings.indexOf(i);if(c!==-1&&(this._coordinatedRenderings.splice(c,1),this._coordinatedRenderings.length===0)){for(let[y,D]of this._animationFrameRunners)D.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(i){if(!this._animationFrameRunners.has(i)){const c=()=>{this._animationFrameRunners.delete(i),this._onRenderScheduled()};this._animationFrameRunners.set(i,v.Oq(i,c,100))}}_onRenderScheduled(){const i=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(let y of i)Dr(()=>y.prepareRenderText());const c=[];for(let y=0,D=i.length;y<D;y++){const X=i[y];c[y]=Dr(()=>X.renderText())}for(let y=0,D=i.length;y<D;y++){const X=i[y],ce=c[y];if(!ce)continue;const[me,Ze]=ce;Dr(()=>X.prepareRender(me,Ze))}for(let y=0,D=i.length;y<D;y++){const X=i[y],ce=c[y];if(!ce)continue;const[me,Ze]=ce;Dr(()=>X.render(me,Ze))}}}var ks=h(7110);class Oo{constructor(i,c,y,D,X){this.injectionOffsets=i,this.injectionOptions=c,this.breakOffsets=y,this.breakOffsetsVisibleColumn=D,this.wrappedTextIndentLength=X}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(i){return i>0?this.wrappedTextIndentLength:0}getLineLength(i){const c=i>0?this.breakOffsets[i-1]:0;let y=this.breakOffsets[i]-c;return i>0&&(y+=this.wrappedTextIndentLength),y}getMaxOutputOffset(i){return this.getLineLength(i)}translateToInputOffset(i,c){i>0&&(c=Math.max(0,c-this.wrappedTextIndentLength));let y=i===0?c:this.breakOffsets[i-1]+c;if(this.injectionOffsets!==null)for(let D=0;D<this.injectionOffsets.length&&y>this.injectionOffsets[D];D++)y<this.injectionOffsets[D]+this.injectionOptions[D].content.length?y=this.injectionOffsets[D]:y-=this.injectionOptions[D].content.length;return y}translateToOutputPosition(i,c=2){let y=i;if(this.injectionOffsets!==null)for(let D=0;D<this.injectionOffsets.length&&!(i<this.injectionOffsets[D])&&(c===1||i!==this.injectionOffsets[D]);D++)y+=this.injectionOptions[D].content.length;return this.offsetInInputWithInjectionsToOutputPosition(y,c)}offsetInInputWithInjectionsToOutputPosition(i,c=2){let y=0,D=this.breakOffsets.length-1,X=0,ce=0;for(;y<=D;){X=y+(D-y)/2|0;const Ze=this.breakOffsets[X];if(ce=X>0?this.breakOffsets[X-1]:0,c===0)if(i<=ce)D=X-1;else{if(!(i>Ze))break;y=X+1}else if(i<ce)D=X-1;else{if(!(i>=Ze))break;y=X+1}}let me=i-ce;return X>0&&(me+=this.wrappedTextIndentLength),new go(X,me)}normalizeOutputPosition(i,c,y){if(this.injectionOffsets!==null){const D=this.outputPositionToOffsetInInputWithInjections(i,c),X=this.normalizeOffsetInInputWithInjectionsAroundInjections(D,y);if(X!==D)return this.offsetInInputWithInjectionsToOutputPosition(X,y)}if(y===0){if(i>0&&c===this.getMinOutputOffset(i))return new go(i-1,this.getMaxOutputOffset(i-1))}else if(y===1&&i<this.getOutputLineCount()-1&&c===this.getMaxOutputOffset(i))return new go(i+1,this.getMinOutputOffset(i+1));return new go(i,c)}outputPositionToOffsetInInputWithInjections(i,c){return i>0&&(c=Math.max(0,c-this.wrappedTextIndentLength)),(i>0?this.breakOffsets[i-1]:0)+c}normalizeOffsetInInputWithInjectionsAroundInjections(i,c){const y=this.getInjectedTextAtOffset(i);if(!y)return i;if(c===2){if(i===y.offsetInInputWithInjections+y.length&&Us(this.injectionOptions[y.injectedTextIndex].cursorStops))return y.offsetInInputWithInjections+y.length;{let D=y.offsetInInputWithInjections;if(xo(this.injectionOptions[y.injectedTextIndex].cursorStops))return D;let X=y.injectedTextIndex-1;for(;X>=0&&this.injectionOffsets[X]===this.injectionOffsets[y.injectedTextIndex]&&!Us(this.injectionOptions[X].cursorStops)&&(D-=this.injectionOptions[X].content.length,!xo(this.injectionOptions[X].cursorStops));)X--;return D}}if(c===1||c===4){let D=y.offsetInInputWithInjections+y.length,X=y.injectedTextIndex;for(;X+1<this.injectionOffsets.length&&this.injectionOffsets[X+1]===this.injectionOffsets[X];)D+=this.injectionOptions[X+1].content.length,X++;return D}if(c===0||c===3){let{offsetInInputWithInjections:D,injectedTextIndex:X}=y;for(;X-1>=0&&this.injectionOffsets[X-1]===this.injectionOffsets[X];)D-=this.injectionOptions[X-1].content.length,X--;return D}ks.xb(c)}getInjectedText(i,c){const y=this.outputPositionToOffsetInInputWithInjections(i,c),D=this.getInjectedTextAtOffset(y);return D?{options:this.injectionOptions[D.injectedTextIndex]}:null}getInjectedTextAtOffset(i){const c=this.injectionOffsets,y=this.injectionOptions;if(c!==null){let D=0;for(let X=0;X<c.length;X++){const ce=y[X].content.length,me=c[X]+D,Ze=c[X]+D+ce;if(me>i)break;if(i<=Ze)return{injectedTextIndex:X,offsetInInputWithInjections:me,length:ce};D+=ce}}}}function Us(i){return i==null||i===$i.VW.Right||i===$i.VW.Both}function xo(i){return i==null||i===$i.VW.Left||i===$i.VW.Both}class go{constructor(i,c){this.outputLineIndex=i,this.outputOffset=c}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(i){return new Se.y(i+this.outputLineIndex,this.outputOffset+1)}}var _o=h(3455);const xa=pi.H("domLineBreaksComputer",{createHTML:(i)=>i});class fs{static create(i){return new fs(new WeakRef(i))}constructor(i){this.targetWindow=i}createLineBreaksComputer(i,c,y,D,X){const ce=[],me=[];return{addRequest:(Ze,qe,it)=>{ce.push(Ze),me.push(qe)},finalize:()=>function(Ze,qe,it,at,ot,Jt,Ft,$t){function Gt(ir){const Ki=$t[ir];if(Ki){const Er=_o.uK.applyInjectedText(qe[ir],Ki),Mr=Ki.map((Xr)=>Xr.options),Ur=Ki.map((Xr)=>Xr.column-1);return new Oo(Ur,Mr,[Er.length],[],0)}return null}if(ot===-1){const ir=[];for(let Ki=0,Er=qe.length;Ki<Er;Ki++)ir[Ki]=Gt(Ki);return ir}const _n=Math.round(ot*it.typicalHalfwidthCharacterWidth),Pn=Jt===3?2:Jt===2?1:0,Zn=Math.round(at*Pn),ni=Math.ceil(it.spaceWidth*Zn),Gn=document.createElement("div");f.M(Gn,it);const ri=new Ji.fe(1e4),ci=[],ai=[],vi=[],gi=[],sr=[];for(let ir=0;ir<qe.length;ir++){const Ki=_o.uK.applyInjectedText(qe[ir],$t[ir]);let Er=0,Mr=0,Ur=_n;if(Jt!==0)if(Er=En.HG(Ki),Er===-1)Er=0;else{for(let Jo=0;Jo<Er;Jo++)Mr+=Ki.charCodeAt(Jo)===9?at-Mr%at:1;const ls=Math.ceil(it.spaceWidth*Mr);ls+it.typicalFullwidthCharacterWidth>_n?(Er=0,Mr=0):Ur=_n-ls}const Xr=Ki.substr(Er),as=Qo(Xr,Mr,at,Ur,ri,ni);ci[ir]=Er,ai[ir]=Mr,vi[ir]=Xr,gi[ir]=as[0],sr[ir]=as[1]}const Si=ri.build(),cr=xa?.createHTML(Si)??Si;Gn.innerHTML=cr,Gn.style.position="absolute",Gn.style.top="10000",Ft==="keepAll"?(Gn.style.wordBreak="keep-all",Gn.style.overflowWrap="anywhere"):(Gn.style.wordBreak="inherit",Gn.style.overflowWrap="break-word"),Ze.document.body.appendChild(Gn);const _i=document.createRange(),Gr=Array.prototype.slice.call(Gn.children,0),wo=[];for(let ir=0;ir<qe.length;ir++){const Ki=Co(_i,Gr[ir],vi[ir],gi[ir]);if(Ki===null){wo[ir]=Gt(ir);continue}const Er=ci[ir],Mr=ai[ir]+Zn,Ur=sr[ir],Xr=[];for(let Bo=0,ha=Ki.length;Bo<ha;Bo++)Xr[Bo]=Ur[Ki[Bo]];if(Er!==0)for(let Bo=0,ha=Ki.length;Bo<ha;Bo++)Ki[Bo]+=Er;let as,ls;const Jo=$t[ir];Jo?(as=Jo.map((Bo)=>Bo.options),ls=Jo.map((Bo)=>Bo.column-1)):(as=null,ls=null),wo[ir]=new Oo(ls,as,Ki,Xr,Mr)}return Gn.remove(),wo}(He.eU(this.targetWindow.deref()),ce,i,c,y,D,X,me)}}}function Qo(i,c,y,D,X,ce){if(ce!==0){const Jt=String(ce);X.appendString('<div style="text-indent: -'),X.appendString(Jt),X.appendString("px; padding-left: "),X.appendString(Jt),X.appendString("px; box-sizing: border-box; width:")}else X.appendString('<div style="width:');X.appendString(String(D)),X.appendString('px;">');const me=i.length;let Ze=c,qe=0;const it=[],at=[];let ot=0<me?i.charCodeAt(0):0;X.appendString("<span>");for(let Jt=0;Jt<me;Jt++){Jt!==0&&Jt%16384==0&&X.appendString("</span><span>"),it[Jt]=qe,at[Jt]=Ze;const Ft=ot;ot=Jt+1<me?i.charCodeAt(Jt+1):0;let $t=1,Gt=1;switch(Ft){case 9:$t=y-Ze%y,Gt=$t;for(let _n=1;_n<=$t;_n++)_n<$t?X.appendCharCode(160):X.appendASCIICharCode(32);break;case 32:ot===32?X.appendCharCode(160):X.appendASCIICharCode(32);break;case 60:X.appendString("&lt;");break;case 62:X.appendString("&gt;");break;case 38:X.appendString("&amp;");break;case 0:X.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:X.appendCharCode(65533);break;default:En.ne(Ft)&&Gt++,Ft<32?X.appendCharCode(9216+Ft):X.appendCharCode(Ft)}qe+=$t,Ze+=Gt}return X.appendString("</span>"),it[i.length]=qe,at[i.length]=Ze,X.appendString("</div>"),[it,at]}function Co(i,c,y,D){if(y.length<=1)return null;const X=Array.prototype.slice.call(c.children,0),ce=[];try{ia(i,X,D,0,null,y.length-1,null,ce)}catch(me){return console.log(me),null}return ce.length===0?null:(ce.push(y.length),ce)}function ia(i,c,y,D,X,ce,me,Ze){if(D===ce)return;if(X=X||et(i,c,y[D],y[D+1]),me=me||et(i,c,y[ce],y[ce+1]),Math.abs(X[0].top-me[0].top)<=0.1)return;if(D+1===ce)return void Ze.push(ce);const qe=D+(ce-D)/2|0,it=et(i,c,y[qe],y[qe+1]);ia(i,c,y,D,X,qe,it,Ze),ia(i,c,y,qe,it,ce,me,Ze)}function et(i,c,y,D){return i.setStart(c[y/16384|0].firstChild,y%16384),i.setEnd(c[D/16384|0].firstChild,D%16384),i.getClientRects()}class Xe extends C.jG{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new C.$w),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(i,c,y){this._editor=i,this._instantiationService=y;for(let D of c)this._pending.has(D.id)?E.dz(new Error(`Cannot have two contributions with the same id ${D.id}`)):this._pending.set(D.id,D);this._instantiateSome(0),this._register(v.U3(v.zk(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register(v.U3(v.zk(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register(v.U3(v.zk(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5000))}saveViewState(){const i={};for(let[c,y]of this._instances)typeof y.saveViewState=="function"&&(i[c]=y.saveViewState());return i}restoreViewState(i){for(let[c,y]of this._instances)typeof y.restoreViewState=="function"&&y.restoreViewState(i[c])}get(i){return this._instantiateById(i),this._instances.get(i)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){return v.U3(v.zk(this._editor?.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(i){if(this._finishedInstantiation[i])return;this._finishedInstantiation[i]=!0;const c=this._findPendingContributionsByInstantiation(i);for(let y of c)this._instantiateById(y.id)}_findPendingContributionsByInstantiation(i){const c=[];for(let[,y]of this._pending)y.instantiation===i&&c.push(y);return c}_instantiateById(i){const c=this._pending.get(i);if(c){if(this._pending.delete(i),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const y=this._instantiationService.createInstance(c.ctor,this._editor);this._instances.set(c.id,y),typeof y.restoreViewState=="function"&&c.instantiation!==0&&console.warn(`Editor contribution '${c.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(y){E.dz(y)}}}}var Yt=h(9673),Ut=h(2595),zn=h(2596),Wn=h(5741),ei=h(2394),Fi=h(1907),Ar=h(2230),Di=h(7454);class xr{static create(i){return new xr(i.get(135),i.get(134))}constructor(i,c){this.classifier=new Ri(i,c)}createLineBreaksComputer(i,c,y,D,X){const ce=[],me=[],Ze=[];return{addRequest:(qe,it,at)=>{ce.push(qe),me.push(it),Ze.push(at)},finalize:()=>{const qe=i.typicalFullwidthCharacterWidth/i.typicalHalfwidthCharacterWidth,it=[];for(let at=0,ot=ce.length;at<ot;at++){const Jt=me[at],Ft=Ze[at];!Ft||Ft.injectionOptions||Jt?it[at]=lr(this.classifier,ce[at],Jt,c,y,qe,D,X):it[at]=Ts(this.classifier,Ft,ce[at],c,y,qe,D,X)}return Rr.length=0,zr.length=0,it}}}}class Ri extends Di.V{constructor(i,c){super(0);for(let y=0;y<i.length;y++)this.set(i.charCodeAt(y),1);for(let y=0;y<c.length;y++)this.set(c.charCodeAt(y),2)}get(i){return i>=0&&i<256?this._asciiMap[i]:i>=12352&&i<=12543||i>=13312&&i<=19903||i>=19968&&i<=40959?3:this._map.get(i)||this._defaultValue}}let Rr=[],zr=[];function Ts(i,c,y,D,X,ce,me,Ze){if(X===-1)return null;const qe=y.length;if(qe<=1)return null;const it=Ze==="keepAll",at=c.breakOffsets,ot=c.breakOffsetsVisibleColumn,Jt=Cr(y,D,X,ce,me),Ft=X-Jt,$t=Rr,Gt=zr;let _n=0,Pn=0,Zn=0,ni=X;const Gn=at.length;let ri=0;if(ri>=0){let ci=Math.abs(ot[ri]-ni);for(;ri+1<Gn;){const ai=Math.abs(ot[ri+1]-ni);if(ai>=ci)break;ci=ai,ri++}}for(;ri<Gn;){let ci=ri<0?0:at[ri],ai=ri<0?0:ot[ri];Pn>ci&&(ci=Pn,ai=Zn);let vi=0,gi=0,sr=0,Si=0;if(ai<=ni){let _i=ai,Gr=ci===0?0:y.charCodeAt(ci-1),wo=ci===0?0:i.get(Gr),ir=!0;for(let Ki=ci;Ki<qe;Ki++){const Er=Ki,Mr=y.charCodeAt(Ki);let Ur,Xr;if(En.pc(Mr)?(Ki++,Ur=0,Xr=2):(Ur=i.get(Mr),Xr=bo(Mr,_i,D,ce)),Er>Pn&&pr(0,wo,Mr,Ur,it)&&(vi=Er,gi=_i),_i+=Xr,_i>ni){Er>Pn?(sr=Er,Si=_i-Xr):(sr=Ki+1,Si=_i),_i-gi>Ft&&(vi=0),ir=!1;break}Gr=Mr,wo=Ur}if(ir){_n>0&&($t[_n]=at[at.length-1],Gt[_n]=ot[at.length-1],_n++);break}}if(vi===0){let _i=ai,Gr=y.charCodeAt(ci),wo=i.get(Gr),ir=!1;for(let Ki=ci-1;Ki>=Pn;Ki--){const Er=Ki+1,Mr=y.charCodeAt(Ki);if(Mr===9){ir=!0;break}let Ur,Xr;if(En.LJ(Mr)?(Ki--,Ur=0,Xr=2):(Ur=i.get(Mr),Xr=En.ne(Mr)?ce:1),_i<=ni){if(sr===0&&(sr=Er,Si=_i),_i<=ni-Ft)break;if(pr(0,Ur,Gr,wo,it)){vi=Er,gi=_i;break}}_i-=Xr,Gr=Mr,wo=Ur}if(vi!==0){const Ki=Ft-(Si-gi);if(Ki<=D){const Er=y.charCodeAt(sr);let Mr;Mr=En.pc(Er)?2:bo(Er,Si,D,ce),Ki-Mr<0&&(vi=0)}}if(ir){ri--;continue}}if(vi===0&&(vi=sr,gi=Si),vi<=Pn){const _i=y.charCodeAt(Pn);En.pc(_i)?(vi=Pn+2,gi=Zn+2):(vi=Pn+1,gi=Zn+bo(_i,Zn,D,ce))}for(Pn=vi,$t[_n]=vi,Zn=gi,Gt[_n]=gi,_n++,ni=gi+Ft;ri<0||ri<Gn&&ot[ri]<gi;)ri++;let cr=Math.abs(ot[ri]-ni);for(;ri+1<Gn;){const _i=Math.abs(ot[ri+1]-ni);if(_i>=cr)break;cr=_i,ri++}}return _n===0?null:($t.length=_n,Gt.length=_n,Rr=c.breakOffsets,zr=c.breakOffsetsVisibleColumn,c.breakOffsets=$t,c.breakOffsetsVisibleColumn=Gt,c.wrappedTextIndentLength=Jt,c)}function lr(i,c,y,D,X,ce,me,Ze){const qe=_o.uK.applyInjectedText(c,y);let it,at;if(y&&y.length>0?(it=y.map((gi)=>gi.options),at=y.map((gi)=>gi.column-1)):(it=null,at=null),X===-1)return it?new Oo(at,it,[qe.length],[],0):null;const ot=qe.length;if(ot<=1)return it?new Oo(at,it,[qe.length],[],0):null;const Jt=Ze==="keepAll",Ft=Cr(qe,D,X,ce,me),$t=X-Ft,Gt=[],_n=[];let Pn=0,Zn=0,ni=0,Gn=X,ri=qe.charCodeAt(0),ci=i.get(ri),ai=bo(ri,0,D,ce),vi=1;En.pc(ri)&&(ai+=1,ri=qe.charCodeAt(1),ci=i.get(ri),vi++);for(let gi=vi;gi<ot;gi++){const sr=gi,Si=qe.charCodeAt(gi);let cr,_i;En.pc(Si)?(gi++,cr=0,_i=2):(cr=i.get(Si),_i=bo(Si,ai,D,ce)),pr(0,ci,Si,cr,Jt)&&(Zn=sr,ni=ai),ai+=_i,ai>Gn&&((Zn===0||ai-ni>$t)&&(Zn=sr,ni=ai-_i),Gt[Pn]=Zn,_n[Pn]=ni,Pn++,Gn=ni+$t,Zn=0),ri=Si,ci=cr}return Pn!==0||y&&y.length!==0?(Gt[Pn]=ot,_n[Pn]=ai,new Oo(at,it,Gt,_n,Ft)):null}function bo(i,c,y,D){return i===9?y-c%y:En.ne(i)||i<32?D:1}function Jr(i,c){return c-i%c}function pr(i,c,y,D,X){return y!==32&&(c===2&&D!==2||c!==1&&D===1||!X&&c===3&&D!==2||!X&&D===3&&c!==1)}function Cr(i,c,y,D,X){let ce=0;if(X!==0){const me=En.HG(i);if(me!==-1){for(let qe=0;qe<me;qe++)ce+=i.charCodeAt(qe)===9?Jr(ce,c):1;const Ze=X===3?2:X===2?1:0;for(let qe=0;qe<Ze;qe++)ce+=Jr(ce,c);ce+D>y&&(ce=0)}}return ce}var zo=h(7393),Pr=h(9895);class qr{constructor(i){this._selTrackedRange=null,this._trackSelection=!0,this._setState(i,new Pr.mG(new Pe.Q(1,1,1,1),0,0,new Se.y(1,1),0),new Pr.mG(new Pe.Q(1,1,1,1),0,0,new Se.y(1,1),0))}dispose(i){this._removeTrackedRange(i)}startTrackingSelection(i){this._trackSelection=!0,this._updateTrackedRange(i)}stopTrackingSelection(i){this._trackSelection=!1,this._removeTrackedRange(i)}_updateTrackedRange(i){this._trackSelection&&(this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(i){this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Pr.MF(this.modelState,this.viewState)}readSelectionFromMarkers(i){const c=i.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!c.isEmpty()?jt.L.fromRange(c.collapseToEnd(),this.modelState.selection.getDirection()):jt.L.fromRange(c,this.modelState.selection.getDirection())}ensureValidState(i){this._setState(i,this.modelState,this.viewState)}setState(i,c,y){this._setState(i,c,y)}static _validatePositionWithCache(i,c,y,D){return c.equals(y)?D:i.normalizePosition(c,2)}static _validateViewState(i,c){const y=c.position,D=c.selectionStart.getStartPosition(),X=c.selectionStart.getEndPosition(),ce=i.normalizePosition(y,2),me=this._validatePositionWithCache(i,D,y,ce),Ze=this._validatePositionWithCache(i,X,D,me);return y.equals(ce)&&D.equals(me)&&X.equals(Ze)?c:new Pr.mG(Pe.Q.fromPositions(me,Ze),c.selectionStartKind,c.selectionStartLeftoverVisibleColumns+D.column-me.column,ce,c.leftoverVisibleColumns+y.column-ce.column)}_setState(i,c,y){if(y&&(y=qr._validateViewState(i.viewModel,y)),c){const D=i.model.validateRange(c.selectionStart),X=c.selectionStart.equalsRange(D)?c.selectionStartLeftoverVisibleColumns:0,ce=i.model.validatePosition(c.position),me=c.position.equals(ce)?c.leftoverVisibleColumns:0;c=new Pr.mG(D,c.selectionStartKind,X,ce,me)}else{if(!y)return;const D=i.model.validateRange(i.coordinatesConverter.convertViewRangeToModelRange(y.selectionStart)),X=i.model.validatePosition(i.coordinatesConverter.convertViewPositionToModelPosition(y.position));c=new Pr.mG(D,y.selectionStartKind,y.selectionStartLeftoverVisibleColumns,X,y.leftoverVisibleColumns)}if(y){const D=i.coordinatesConverter.validateViewRange(y.selectionStart,c.selectionStart),X=i.coordinatesConverter.validateViewPosition(y.position,c.position);y=new Pr.mG(D,c.selectionStartKind,c.selectionStartLeftoverVisibleColumns,X,c.leftoverVisibleColumns)}else{const D=i.coordinatesConverter.convertModelPositionToViewPosition(new Se.y(c.selectionStart.startLineNumber,c.selectionStart.startColumn)),X=i.coordinatesConverter.convertModelPositionToViewPosition(new Se.y(c.selectionStart.endLineNumber,c.selectionStart.endColumn)),ce=new Pe.Q(D.lineNumber,D.column,X.lineNumber,X.column),me=i.coordinatesConverter.convertModelPositionToViewPosition(c.position);y=new Pr.mG(ce,c.selectionStartKind,c.selectionStartLeftoverVisibleColumns,me,c.leftoverVisibleColumns)}this.modelState=c,this.viewState=y,this._updateTrackedRange(i)}}class is{constructor(i){this.context=i,this.cursors=[new qr(i)],this.lastAddedCursorIndex=0}dispose(){for(let i of this.cursors)i.dispose(this.context)}startTrackingSelections(){for(let i of this.cursors)i.startTrackingSelection(this.context)}stopTrackingSelections(){for(let i of this.cursors)i.stopTrackingSelection(this.context)}updateContext(i){this.context=i}ensureValidState(){for(let i of this.cursors)i.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map((i)=>i.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map((i)=>i.asCursorState())}getViewPositions(){return this.cursors.map((i)=>i.viewState.position)}getTopMostViewPosition(){return zo.kh(this.cursors,_.VE((i)=>i.viewState.position,Se.y.compare)).viewState.position}getBottomMostViewPosition(){return zo.ot(this.cursors,_.VE((i)=>i.viewState.position,Se.y.compare)).viewState.position}getSelections(){return this.cursors.map((i)=>i.modelState.selection)}getViewSelections(){return this.cursors.map((i)=>i.viewState.selection)}setSelections(i){this.setStates(Pr.MF.fromModelSelections(i))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(i){i!==null&&(this.cursors[0].setState(this.context,i[0].modelState,i[0].viewState),this._setSecondaryStates(i.slice(1)))}_setSecondaryStates(i){const c=this.cursors.length-1,y=i.length;if(c<y){const D=y-c;for(let X=0;X<D;X++)this._addSecondaryCursor()}else if(c>y){const D=c-y;for(let X=0;X<D;X++)this._removeSecondaryCursor(this.cursors.length-2)}for(let D=0;D<y;D++)this.cursors[D+1].setState(this.context,i[D].modelState,i[D].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new qr(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(i){this.lastAddedCursorIndex>=i+1&&this.lastAddedCursorIndex--,this.cursors[i+1].dispose(this.context),this.cursors.splice(i+1,1)}normalize(){if(this.cursors.length===1)return;const i=this.cursors.slice(0),c=[];for(let y=0,D=i.length;y<D;y++)c.push({index:y,selection:i[y].modelState.selection});c.sort(_.VE((y)=>y.selection,Pe.Q.compareRangesUsingStarts));for(let y=0;y<c.length-1;y++){const D=c[y],X=c[y+1],ce=D.selection,me=X.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let Ze;if(Ze=me.isEmpty()||ce.isEmpty()?me.getStartPosition().isBeforeOrEqual(ce.getEndPosition()):me.getStartPosition().isBefore(ce.getEndPosition()),Ze){const qe=D.index<X.index?y:y+1,it=D.index<X.index?y+1:y,at=c[it].index,ot=c[qe].index,Jt=c[it].selection,Ft=c[qe].selection;if(!Jt.equalsSelection(Ft)){const $t=Jt.plusRange(Ft),Gt=Jt.selectionStartLineNumber===Jt.startLineNumber&&Jt.selectionStartColumn===Jt.startColumn,_n=Ft.selectionStartLineNumber===Ft.startLineNumber&&Ft.selectionStartColumn===Ft.startColumn;let Pn,Zn;at===this.lastAddedCursorIndex?(Pn=Gt,this.lastAddedCursorIndex=ot):Pn=_n,Zn=Pn?new jt.L($t.startLineNumber,$t.startColumn,$t.endLineNumber,$t.endColumn):new jt.L($t.endLineNumber,$t.endColumn,$t.startLineNumber,$t.startColumn),c[qe].selection=Zn;const ni=Pr.MF.fromModelSelection(Zn);i[ot].setState(this.context,ni.modelState,ni.viewState)}for(let $t of c)$t.index>at&&$t.index--;i.splice(at,1),c.splice(it,1),this._removeSecondaryCursor(at-1),y--}}}}class Ho{constructor(i,c,y,D){this._cursorContextBrand=void 0,this.model=i,this.viewModel=c,this.coordinatesConverter=y,this.cursorConfig=D}}var Zl=h(7666),Yo=h(6137),Jd=h(2885);class jo{constructor(){this.type=0}}class ra{constructor(){this.type=1}}class nl{constructor(i){this.type=2,this._source=i}hasChanged(i){return this._source.hasChanged(i)}}class il{constructor(i,c,y){this.selections=i,this.modelSelections=c,this.reason=y,this.type=3}}class fr{constructor(i){this.type=4,i?(this.affectsMinimap=i.affectsMinimap,this.affectsOverviewRuler=i.affectsOverviewRuler,this.affectsGlyphMargin=i.affectsGlyphMargin,this.affectsLineNumber=i.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}class rs{constructor(){this.type=5}}class Ca{constructor(i){this.type=6,this.isFocused=i}}class Wo{constructor(){this.type=7}}class $o{constructor(){this.type=8}}class Wr{constructor(i,c){this.fromLineNumber=i,this.count=c,this.type=9}}class vo{constructor(i,c){this.type=10,this.fromLineNumber=i,this.toLineNumber=c}}class _r{constructor(i,c){this.type=11,this.fromLineNumber=i,this.toLineNumber=c}}class As{constructor(i,c,y,D,X,ce,me){this.source=i,this.minimalReveal=c,this.range=y,this.selections=D,this.verticalType=X,this.revealHorizontal=ce,this.scrollType=me,this.type=12}}class rl{constructor(i){this.type=13,this.scrollWidth=i.scrollWidth,this.scrollLeft=i.scrollLeft,this.scrollHeight=i.scrollHeight,this.scrollTop=i.scrollTop,this.scrollWidthChanged=i.scrollWidthChanged,this.scrollLeftChanged=i.scrollLeftChanged,this.scrollHeightChanged=i.scrollHeightChanged,this.scrollTopChanged=i.scrollTopChanged}}class Ea{constructor(i){this.theme=i,this.type=14}}class oa{constructor(i){this.type=15,this.ranges=i}}class sa{constructor(){this.type=16}}class co{constructor(){this.type=17}}class ol extends C.jG{constructor(){super(),this._onEvent=this._register(new w.vl),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(i){this._addOutgoingEvent(i),this._emitOutgoingEvents()}_addOutgoingEvent(i){for(let c=0,y=this._outgoingEvents.length;c<y;c++){const D=this._outgoingEvents[c].kind===i.kind?this._outgoingEvents[c].attemptToMerge(i):null;if(D)return void(this._outgoingEvents[c]=D)}this._outgoingEvents.push(i)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const i=this._outgoingEvents.shift();i.isNoOp()||this._onEvent.fire(i)}}addViewEventHandler(i){for(let c=0,y=this._eventHandlers.length;c<y;c++)this._eventHandlers[c]===i&&console.warn("Detected duplicate listener in ViewEventDispatcher",i);this._eventHandlers.push(i)}removeViewEventHandler(i){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===i){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new aa),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const i=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(let y of i)this._addOutgoingEvent(y);c.length>0&&this._emitMany(c)}this._emitOutgoingEvents()}emitSingleViewEvent(i){try{this.beginEmitViewEvents().emitViewEvent(i)}finally{this.endEmitViewEvents()}}_emitMany(i){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(i):this._viewEventQueue=i,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const i=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(let y of c)y.handleEvents(i)}}}class aa{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(i){this.viewEvents.push(i)}emitOutgoingEvent(i){this.outgoingEvents.push(i)}}class Ns{constructor(i,c,y,D){this.kind=0,this._oldContentWidth=i,this._oldContentHeight=c,this.contentWidth=y,this.contentHeight=D,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(i){return i.kind!==this.kind?null:new Ns(this._oldContentWidth,this._oldContentHeight,i.contentWidth,i.contentHeight)}}class Yr{constructor(i,c){this.kind=1,this.oldHasFocus=i,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(i){return i.kind!==this.kind?null:new Yr(this.oldHasFocus,i.hasFocus)}}class Is{constructor(i,c,y,D,X,ce,me,Ze){this.kind=2,this._oldScrollWidth=i,this._oldScrollLeft=c,this._oldScrollHeight=y,this._oldScrollTop=D,this.scrollWidth=X,this.scrollLeft=ce,this.scrollHeight=me,this.scrollTop=Ze,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}attemptToMerge(i){return i.kind!==this.kind?null:new Is(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,i.scrollWidth,i.scrollLeft,i.scrollHeight,i.scrollTop)}}class ms{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class uo{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class Bs{constructor(i,c,y,D,X,ce,me){this.kind=6,this.oldSelections=i,this.selections=c,this.oldModelVersionId=y,this.modelVersionId=D,this.source=X,this.reason=ce,this.reachedMaxCursorCount=me}static _selectionsAreEqual(i,c){if(!i&&!c)return!0;if(!i||!c)return!1;const y=i.length;if(y!==c.length)return!1;for(let D=0;D<y;D++)if(!i[D].equalsSelection(c[D]))return!1;return!0}isNoOp(){return Bs._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(i){return i.kind!==this.kind?null:new Bs(this.oldSelections,i.selections,this.oldModelVersionId,i.modelVersionId,i.source,i.reason,this.reachedMaxCursorCount||i.reachedMaxCursorCount)}}class sl{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class Ja{constructor(i){this.event=i,this.kind=7}isNoOp(){return!1}attemptToMerge(i){return null}}class ka{constructor(i){this.event=i,this.kind=8}isNoOp(){return!1}attemptToMerge(i){return null}}class io{constructor(i){this.event=i,this.kind=9}isNoOp(){return!1}attemptToMerge(i){return null}}class Ta{constructor(i){this.event=i,this.kind=10}isNoOp(){return!1}attemptToMerge(i){return null}}class Rs{constructor(i){this.event=i,this.kind=11}isNoOp(){return!1}attemptToMerge(i){return null}}class al{constructor(i){this.event=i,this.kind=12}isNoOp(){return!1}attemptToMerge(i){return null}}class ll extends C.jG{constructor(i,c,y,D){super(),this._model=i,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=c,this._coordinatesConverter=y,this.context=new Ho(this._model,this._viewModel,this._coordinatesConverter,D),this._cursors=new is(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=C.AS(this._autoClosedActions),super.dispose()}updateConfiguration(i){this.context=new Ho(this._model,this._viewModel,this._coordinatesConverter,i),this._cursors.updateContext(this.context)}onLineMappingChanged(i){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(i,"viewModel",0,this.getCursorStates())}setHasFocus(i){this._hasFocus=i}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const i=this._cursors.getSelections();for(let c=0;c<this._autoClosedActions.length;c++){const y=this._autoClosedActions[c];y.isValid(i)||(y.dispose(),this._autoClosedActions.splice(c,1),c--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(i,c,y,D){let X=!1;const ce=this.context.cursorConfig.multiCursorLimit;D!==null&&D.length>ce&&(D=D.slice(0,ce),X=!0);const me=Vs.from(this._model,this);return this._cursors.setStates(D),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(i,c,y,me,X)}setCursorColumnSelectData(i){this._columnSelectData=i}revealAll(i,c,y,D,X,ce){const me=this._cursors.getViewPositions();let Ze=null,qe=null;me.length>1?qe=this._cursors.getViewSelections():Ze=Pe.Q.fromPositions(me[0],me[0]),i.emitViewEvent(new As(c,y,Ze,qe,D,X,ce))}revealPrimary(i,c,y,D,X,ce){const me=[this._cursors.getPrimaryCursor().viewState.selection];i.emitViewEvent(new As(c,y,null,me,D,X,ce))}saveState(){const i=[],c=this._cursors.getSelections();for(let y=0,D=c.length;y<D;y++){const X=c[y];i.push({inSelectionMode:!X.isEmpty(),selectionStart:{lineNumber:X.selectionStartLineNumber,column:X.selectionStartColumn},position:{lineNumber:X.positionLineNumber,column:X.positionColumn}})}return i}restoreState(i,c){const y=[];for(let D=0,X=c.length;D<X;D++){const ce=c[D];let me=1,Ze=1;ce.position&&ce.position.lineNumber&&(me=ce.position.lineNumber),ce.position&&ce.position.column&&(Ze=ce.position.column);let qe=me,it=Ze;ce.selectionStart&&ce.selectionStart.lineNumber&&(qe=ce.selectionStart.lineNumber),ce.selectionStart&&ce.selectionStart.column&&(it=ce.selectionStart.column),y.push({selectionStartLineNumber:qe,selectionStartColumn:it,positionLineNumber:me,positionColumn:Ze})}this.setStates(i,"restoreState",0,Pr.MF.fromModelSelections(y)),this.revealAll(i,"restoreState",!1,0,!0,1)}onModelContentChanged(i,c){if(c instanceof _o.vn){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(i,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const y=c.rawContentChangedEvent;if(this._knownModelVersionId=y.versionId,this._isHandling)return;const D=y.containsEvent(1);if(this._prevEditOperationType=0,D)this._cursors.dispose(),this._cursors=new is(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(i,"model",1,null,!1);else if(this._hasFocus&&y.resultingSelection&&y.resultingSelection.length>0){const X=Pr.MF.fromModelSelections(y.resultingSelection);this.setStates(i,"modelChange",y.isUndoing?5:y.isRedoing?6:2,X)&&this.revealAll(i,"modelChange",!1,0,!0,0)}else{const X=this._cursors.readSelectionFromMarkers();this.setStates(i,"modelChange",2,Pr.MF.fromModelSelections(X))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const i=this._cursors.getPrimaryCursor(),c=i.viewState.selectionStart.getStartPosition(),y=i.viewState.position;return{isReal:!1,fromViewLineNumber:c.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,c),toViewLineNumber:y.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,y)}}getSelections(){return this._cursors.getSelections()}setSelections(i,c,y,D){this.setStates(i,c,D,Pr.MF.fromModelSelections(y))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(i){this._prevEditOperationType=i}_pushAutoClosedAction(i,c){const y=[],D=[];for(let me=0,Ze=i.length;me<Ze;me++)y.push({range:i[me],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),D.push({range:c[me],options:{description:"auto-closed-enclosing",stickiness:1}});const X=this._model.deltaDecorations([],y),ce=this._model.deltaDecorations([],D);this._autoClosedActions.push(new ho(this._model,X,ce))}_executeEditOperation(i){if(!i)return;i.shouldPushStackElementBefore&&this._model.pushStackElement();const c=la.executeCommands(this._model,this._cursors.getSelections(),i.commands);if(c){this._interpretCommandResult(c);const y=[],D=[];for(let X=0;X<i.commands.length;X++){const ce=i.commands[X];ce instanceof Jd.Hs&&ce.enclosingRange&&ce.closeCharacterRange&&(y.push(ce.closeCharacterRange),D.push(ce.enclosingRange))}y.length>0&&this._pushAutoClosedAction(y,D),this._prevEditOperationType=i.type}i.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(i){i&&i.length!==0||(i=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(i),this._cursors.normalize()}_emitStateChangedIfNecessary(i,c,y,D,X){const ce=Vs.from(this._model,this);if(ce.equals(D))return!1;const me=this._cursors.getSelections(),Ze=this._cursors.getViewSelections();if(i.emitViewEvent(new il(Ze,me,y)),!D||D.cursorState.length!==ce.cursorState.length||ce.cursorState.some((qe,it)=>!qe.modelState.equals(D.cursorState[it].modelState))){const qe=D?D.cursorState.map((at)=>at.modelState.selection):null,it=D?D.modelVersionId:0;i.emitOutgoingEvent(new Bs(qe,me,it,ce.modelVersionId,c||"keyboard",y,X))}return!0}_findAutoClosingPairs(i){if(!i.length)return null;const c=[];for(let y=0,D=i.length;y<D;y++){const X=i[y];if(!X.text||X.text.indexOf("\n")>=0)return null;const ce=X.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!ce)return null;const me=ce[1],Ze=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(me);if(!Ze||Ze.length!==1)return null;const qe=Ze[0].open,it=X.text.length-ce[2].length-1,at=X.text.lastIndexOf(qe,it-1);if(at===-1)return null;c.push([at,it])}return c}executeEdits(i,c,y,D){let X=null;c==="snippet"&&(X=this._findAutoClosingPairs(y)),X&&(y[0]._isTracked=!0);const ce=[],me=[],Ze=this._model.pushEditOperations(this.getSelections(),y,(qe)=>{if(X)for(let at=0,ot=X.length;at<ot;at++){const[Jt,Ft]=X[at],$t=qe[at],Gt=$t.range.startLineNumber,_n=$t.range.startColumn-1+Jt,Pn=$t.range.startColumn-1+Ft;ce.push(new Pe.Q(Gt,Pn+1,Gt,Pn+2)),me.push(new Pe.Q(Gt,_n+1,Gt,Pn+2))}const it=D(qe);return it&&(this._isHandling=!0),it});Ze&&(this._isHandling=!1,this.setSelections(i,c,Ze,0)),ce.length>0&&this._pushAutoClosedAction(ce,me)}_executeEdit(i,c,y,D=0){if(this.context.cursorConfig.readOnly)return;const X=Vs.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),i()}catch(ce){E.dz(ce)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,y,D,X,!1)&&this.revealAll(c,y,!1,0,!0,0)}getAutoClosedCharacters(){return ho.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(i){this._compositionState=new yo(this._model,this.getSelections())}endComposition(i,c){const y=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{c==="keyboard"&&this._executeEditOperation(Yo.T.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,y,this.getSelections(),this.getAutoClosedCharacters()))},i,c)}type(i,c,y){this._executeEdit(()=>{if(y==="keyboard"){const D=c.length;let X=0;for(;X<D;){const ce=En.iy(c,X),me=c.substr(X,ce);this._executeEditOperation(Yo.T.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),me)),X+=ce}}else this._executeEditOperation(Yo.T.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),c))},i,y)}compositionType(i,c,y,D,X,ce){if(c.length!==0||y!==0||D!==0)this._executeEdit(()=>{this._executeEditOperation(Yo.T.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),c,y,D,X))},i,ce);else if(X!==0){const me=this.getSelections().map((Ze)=>{const qe=Ze.getPosition();return new jt.L(qe.lineNumber,qe.column+X,qe.lineNumber,qe.column+X)});this.setSelections(i,ce,me,0)}}paste(i,c,y,D,X){this._executeEdit(()=>{this._executeEditOperation(Yo.T.paste(this.context.cursorConfig,this._model,this.getSelections(),c,y,D||[]))},i,X,4)}cut(i,c){this._executeEdit(()=>{this._executeEditOperation(Zl.g.cut(this.context.cursorConfig,this._model,this.getSelections()))},i,c)}executeCommand(i,c,y){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Pr.vY(0,[c],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},i,y)}executeCommands(i,c,y){this._executeEdit(()=>{this._executeEditOperation(new Pr.vY(0,c,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},i,y)}}class Vs{static from(i,c){return new Vs(i.getVersionId(),c.getCursorStates())}constructor(i,c){this.modelVersionId=i,this.cursorState=c}equals(i){if(!i)return!1;if(this.modelVersionId!==i.modelVersionId)return!1;if(this.cursorState.length!==i.cursorState.length)return!1;for(let c=0,y=this.cursorState.length;c<y;c++)if(!this.cursorState[c].equals(i.cursorState[c]))return!1;return!0}}class ho{static getAllAutoClosedCharacters(i){let c=[];for(let y of i)c=c.concat(y.getAutoClosedCharactersRanges());return c}constructor(i,c,y){this._model=i,this._autoClosedCharactersDecorations=c,this._autoClosedEnclosingDecorations=y}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const i=[];for(let c=0;c<this._autoClosedCharactersDecorations.length;c++){const y=this._model.getDecorationRange(this._autoClosedCharactersDecorations[c]);y&&i.push(y)}return i}isValid(i){const c=[];for(let y=0;y<this._autoClosedEnclosingDecorations.length;y++){const D=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[y]);if(D&&(c.push(D),D.startLineNumber!==D.endLineNumber))return!1}c.sort(Pe.Q.compareRangesUsingStarts),i.sort(Pe.Q.compareRangesUsingStarts);for(let y=0;y<i.length;y++){if(y>=c.length)return!1;if(!c[y].strictContainsRange(i[y]))return!1}return!0}}class la{static executeCommands(i,c,y){const D={model:i,selectionsBefore:c,trackedRanges:[],trackedRangesDirection:[]},X=this._innerExecuteCommands(D,y);for(let ce=0,me=D.trackedRanges.length;ce<me;ce++)D.model._setTrackedRange(D.trackedRanges[ce],null,0);return X}static _innerExecuteCommands(i,c){if(this._arrayIsEmpty(c))return null;const y=this._getEditOperations(i,c);if(y.operations.length===0)return null;const D=y.operations,X=this._getLoserCursorMap(D);if(X.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const ce=[];for(let qe=0,it=D.length;qe<it;qe++)X.hasOwnProperty(D[qe].identifier.major.toString())||ce.push(D[qe]);y.hadTrackedEditOperation&&ce.length>0&&(ce[0]._isTracked=!0);let me=i.model.pushEditOperations(i.selectionsBefore,ce,(qe)=>{const it=[];for(let Jt=0;Jt<i.selectionsBefore.length;Jt++)it[Jt]=[];for(let Jt of qe)Jt.identifier&&it[Jt.identifier.major].push(Jt);const at=(Jt,Ft)=>Jt.identifier.minor-Ft.identifier.minor,ot=[];for(let Jt=0;Jt<i.selectionsBefore.length;Jt++)it[Jt].length>0?(it[Jt].sort(at),ot[Jt]=c[Jt].computeCursorState(i.model,{getInverseEditOperations:()=>it[Jt],getTrackedSelection:(Ft)=>{const $t=parseInt(Ft,10),Gt=i.model._getTrackedRange(i.trackedRanges[$t]);return i.trackedRangesDirection[$t]===0?new jt.L(Gt.startLineNumber,Gt.startColumn,Gt.endLineNumber,Gt.endColumn):new jt.L(Gt.endLineNumber,Gt.endColumn,Gt.startLineNumber,Gt.startColumn)}})):ot[Jt]=i.selectionsBefore[Jt];return ot});me||(me=i.selectionsBefore);const Ze=[];for(let qe in X)X.hasOwnProperty(qe)&&Ze.push(parseInt(qe,10));Ze.sort((qe,it)=>it-qe);for(let qe of Ze)me.splice(qe,1);return me}static _arrayIsEmpty(i){for(let c=0,y=i.length;c<y;c++)if(i[c])return!1;return!0}static _getEditOperations(i,c){let y=[],D=!1;for(let X=0,ce=c.length;X<ce;X++){const me=c[X];if(me){const Ze=this._getEditOperationsFromCommand(i,X,me);y=y.concat(Ze.operations),D=D||Ze.hadTrackedEditOperation}}return{operations:y,hadTrackedEditOperation:D}}static _getEditOperationsFromCommand(i,c,y){const D=[];let X=0;const ce=(qe,it,at=!1)=>{Pe.Q.isEmpty(qe)&&it===""||D.push({identifier:{major:c,minor:X++},range:qe,text:it,forceMoveMarkers:at,isAutoWhitespaceEdit:y.insertsAutoWhitespace})};let me=!1;const Ze={addEditOperation:ce,addTrackedEditOperation:(qe,it,at)=>{me=!0,ce(qe,it,at)},trackSelection:(qe,it)=>{const at=jt.L.liftSelection(qe);let ot;if(at.isEmpty())if(typeof it=="boolean")ot=it?2:3;else{const $t=i.model.getLineMaxColumn(at.startLineNumber);ot=at.startColumn===$t?2:3}else ot=1;const Jt=i.trackedRanges.length,Ft=i.model._setTrackedRange(null,at,ot);return i.trackedRanges[Jt]=Ft,i.trackedRangesDirection[Jt]=at.getDirection(),Jt.toString()}};try{y.getEditOperations(i.model,Ze)}catch(qe){return E.dz(qe),{operations:[],hadTrackedEditOperation:!1}}return{operations:D,hadTrackedEditOperation:me}}static _getLoserCursorMap(i){(i=i.slice(0)).sort((y,D)=>-Pe.Q.compareRangesUsingEnds(y.range,D.range));const c={};for(let y=1;y<i.length;y++){const D=i[y-1],X=i[y];if(Pe.Q.getStartPosition(D.range).isBefore(Pe.Q.getEndPosition(X.range))){let ce;ce=D.identifier.major>X.identifier.major?D.identifier.major:X.identifier.major,c[ce.toString()]=!0;for(let me=0;me<i.length;me++)i[me].identifier.major===ce&&(i.splice(me,1),me<y&&y--,me--);y>0&&y--}}return c}}class os{constructor(i,c,y){this.text=i,this.startSelection=c,this.endSelection=y}}class yo{static _capture(i,c){const y=[];for(let D of c){if(D.startLineNumber!==D.endLineNumber)return null;y.push(new os(i.getLineContent(D.startLineNumber),D.startColumn-1,D.endColumn-1))}return y}constructor(i,c){this._original=yo._capture(i,c)}deduceOutcome(i,c){if(!this._original)return null;const y=yo._capture(i,c);if(!y)return null;if(this._original.length!==y.length)return null;const D=[];for(let X=0,ce=this._original.length;X<ce;X++)D.push(yo._deduceOutcome(this._original[X],y[X]));return D}static _deduceOutcome(i,c){const y=Math.min(i.startSelection,c.startSelection,En.Qp(i.text,c.text)),D=Math.min(i.text.length-i.endSelection,c.text.length-c.endSelection,En.Vi(i.text,c.text)),X=i.text.substring(y,i.text.length-D),ce=c.text.substring(y,c.text.length-D);return new Yo.v(X,i.startSelection-y,i.endSelection-y,ce,c.startSelection-y,c.endSelection-y)}}var gs=h(4957),Aa=h(1458),kr=h(4513);class ss{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(i){this._hasPending=!0,this._inserts.push(i)}change(i){this._hasPending=!0,this._changes.push(i)}remove(i){this._hasPending=!0,this._removes.push(i)}mustCommit(){return this._hasPending}commit(i){if(!this._hasPending)return;const c=this._inserts,y=this._changes,D=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],i._commitPendingChanges(c,y,D)}}class Qr{constructor(i,c,y,D,X){this.id=i,this.afterLineNumber=c,this.ordinal=y,this.height=D,this.minWidth=X,this.prefixSum=0}}class Kr{static{this.INSTANCE_COUNT=0}constructor(i,c,y,D){this._instanceId=En.tk(++Kr.INSTANCE_COUNT),this._pendingChanges=new ss,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=i,this._lineHeight=c,this._paddingTop=y,this._paddingBottom=D}static findInsertionIndex(i,c,y){let D=0,X=i.length;for(;D<X;){const ce=D+X>>>1;c===i[ce].afterLineNumber?y<i[ce].ordinal?X=ce:D=ce+1:c<i[ce].afterLineNumber?X=ce:D=ce+1}return D}setLineHeight(i){this._checkPendingChanges(),this._lineHeight=i}setPadding(i,c){this._paddingTop=i,this._paddingBottom=c}onFlushed(i){this._checkPendingChanges(),this._lineCount=i}changeWhitespace(i){let c=!1;try{i({insertWhitespace:(y,D,X,ce)=>{c=!0,y|=0,D|=0,X|=0,ce|=0;const me=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Qr(me,y,D,X,ce)),me},changeOneWhitespace:(y,D,X)=>{c=!0,D|=0,X|=0,this._pendingChanges.change({id:y,newAfterLineNumber:D,newHeight:X})},removeWhitespace:(y)=>{c=!0,this._pendingChanges.remove({id:y})}})}finally{this._pendingChanges.commit(this)}return c}_commitPendingChanges(i,c,y){if((i.length>0||y.length>0)&&(this._minWidth=-1),i.length+c.length+y.length<=1){for(let Ze of i)this._insertWhitespace(Ze);for(let Ze of c)this._changeOneWhitespace(Ze.id,Ze.newAfterLineNumber,Ze.newHeight);for(let Ze of y){const qe=this._findWhitespaceIndex(Ze.id);qe!==-1&&this._removeWhitespace(qe)}return}const D=new Set;for(let Ze of y)D.add(Ze.id);const X=new Map;for(let Ze of c)X.set(Ze.id,Ze);const ce=(Ze)=>{const qe=[];for(let it of Ze)if(!D.has(it.id)){if(X.has(it.id)){const at=X.get(it.id);it.afterLineNumber=at.newAfterLineNumber,it.height=at.newHeight}qe.push(it)}return qe},me=ce(this._arr).concat(ce(i));me.sort((Ze,qe)=>Ze.afterLineNumber===qe.afterLineNumber?Ze.ordinal-qe.ordinal:Ze.afterLineNumber-qe.afterLineNumber),this._arr=me,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(i){const c=Kr.findInsertionIndex(this._arr,i.afterLineNumber,i.ordinal);this._arr.splice(c,0,i),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,c-1)}_findWhitespaceIndex(i){const c=this._arr;for(let y=0,D=c.length;y<D;y++)if(c[y].id===i)return y;return-1}_changeOneWhitespace(i,c,y){const D=this._findWhitespaceIndex(i);if(D!==-1&&(this._arr[D].height!==y&&(this._arr[D].height=y,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,D-1)),this._arr[D].afterLineNumber!==c)){const X=this._arr[D];this._removeWhitespace(D),X.afterLineNumber=c,this._insertWhitespace(X)}}_removeWhitespace(i){this._arr.splice(i,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1)}onLinesDeleted(i,c){this._checkPendingChanges(),i|=0,c|=0,this._lineCount-=c-i+1;for(let y=0,D=this._arr.length;y<D;y++){const X=this._arr[y].afterLineNumber;i<=X&&X<=c?this._arr[y].afterLineNumber=i-1:X>c&&(this._arr[y].afterLineNumber-=c-i+1)}}onLinesInserted(i,c){this._checkPendingChanges(),i|=0,c|=0,this._lineCount+=c-i+1;for(let y=0,D=this._arr.length;y<D;y++)i<=this._arr[y].afterLineNumber&&(this._arr[y].afterLineNumber+=c-i+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(i){this._checkPendingChanges(),i|=0;let c=Math.max(0,this._prefixSumValidIndex+1);c===0&&(this._arr[0].prefixSum=this._arr[0].height,c++);for(let y=c;y<=i;y++)this._arr[y].prefixSum=this._arr[y-1].prefixSum+this._arr[y].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,i),this._arr[i].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(i){this._checkPendingChanges(),i|=0;const c=this._findLastWhitespaceBeforeLineNumber(i);return c===-1?0:this.getWhitespacesAccumulatedHeight(c)}_findLastWhitespaceBeforeLineNumber(i){i|=0;const c=this._arr;let y=0,D=c.length-1;for(;y<=D;){const X=y+((D-y|0)/2|0)|0;if(c[X].afterLineNumber<i){if(X+1>=c.length||c[X+1].afterLineNumber>=i)return X;y=X+1|0}else D=X-1|0}return-1}_findFirstWhitespaceAfterLineNumber(i){i|=0;const c=this._findLastWhitespaceBeforeLineNumber(i)+1;return c<this._arr.length?c:-1}getFirstWhitespaceIndexAfterLineNumber(i){return this._checkPendingChanges(),i|=0,this._findFirstWhitespaceAfterLineNumber(i)}getVerticalOffsetForLineNumber(i,c=!1){let y;return this._checkPendingChanges(),y=(i|=0)>1?this._lineHeight*(i-1):0,y+this.getWhitespaceAccumulatedHeightBeforeLineNumber(i-(c?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(i,c=!1){return this._checkPendingChanges(),i|=0,this._lineHeight*i+this.getWhitespaceAccumulatedHeightBeforeLineNumber(i+(c?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let i=0;for(let c=0,y=this._arr.length;c<y;c++)i=Math.max(i,this._arr[c].minWidth);this._minWidth=i}return this._minWidth}isAfterLines(i){return this._checkPendingChanges(),i>this.getLinesTotalHeight()}isInTopPadding(i){return this._paddingTop!==0&&(this._checkPendingChanges(),i<this._paddingTop)}isInBottomPadding(i){return this._paddingBottom!==0&&(this._checkPendingChanges(),i>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(i){if(this._checkPendingChanges(),(i|=0)<0)return 1;const c=0|this._lineCount,y=this._lineHeight;let D=1,X=c;for(;D<X;){const ce=(D+X)/2|0,me=0|this.getVerticalOffsetForLineNumber(ce);if(i>=me+y)D=ce+1;else{if(i>=me)return ce;X=ce}}return D>c?c:D}getLinesViewportData(i,c){this._checkPendingChanges(),i|=0,c|=0;const y=this._lineHeight,D=0|this.getLineNumberAtOrAfterVerticalOffset(i),X=0|this.getVerticalOffsetForLineNumber(D);let ce=0|this._lineCount,me=0|this.getFirstWhitespaceIndexAfterLineNumber(D);const Ze=0|this.getWhitespacesCount();let qe,it;me===-1?(me=Ze,it=ce+1,qe=0):(it=0|this.getAfterLineNumberForWhitespaceIndex(me),qe=0|this.getHeightForWhitespaceIndex(me));let at=X,ot=at;const Jt=500000;let Ft=0;X>=Jt&&(Ft=Math.floor(X/Jt)*Jt,Ft=Math.floor(Ft/y)*y,ot-=Ft);const $t=[],Gt=i+(c-i)/2;let _n=-1;for(let Gn=D;Gn<=ce;Gn++){for(_n===-1&&(at<=Gt&&Gt<at+y||at>Gt)&&(_n=Gn),at+=y,$t[Gn-D]=ot,ot+=y;it===Gn;)ot+=qe,at+=qe,me++,me>=Ze?it=ce+1:(it=0|this.getAfterLineNumberForWhitespaceIndex(me),qe=0|this.getHeightForWhitespaceIndex(me));if(at>=c){ce=Gn;break}}_n===-1&&(_n=ce);const Pn=0|this.getVerticalOffsetForLineNumber(ce);let Zn=D,ni=ce;return Zn<ni&&X<i&&Zn++,Zn<ni&&Pn+y>c&&ni--,{bigNumbersDelta:Ft,startLineNumber:D,endLineNumber:ce,relativeVerticalOffset:$t,centeredLineNumber:_n,completelyVisibleStartLineNumber:Zn,completelyVisibleEndLineNumber:ni,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(i){this._checkPendingChanges(),i|=0;const c=this.getAfterLineNumberForWhitespaceIndex(i);let y,D;return y=c>=1?this._lineHeight*c:0,D=i>0?this.getWhitespacesAccumulatedHeight(i-1):0,y+D+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(i){this._checkPendingChanges(),i|=0;let c=0,y=this.getWhitespacesCount()-1;if(y<0)return-1;if(i>=this.getVerticalOffsetForWhitespaceIndex(y)+this.getHeightForWhitespaceIndex(y))return-1;for(;c<y;){const D=Math.floor((c+y)/2),X=this.getVerticalOffsetForWhitespaceIndex(D);if(i>=X+this.getHeightForWhitespaceIndex(D))c=D+1;else{if(i>=X)return D;y=D}}return c}getWhitespaceAtVerticalOffset(i){this._checkPendingChanges(),i|=0;const c=this.getWhitespaceIndexAtOrAfterVerticallOffset(i);if(c<0)return null;if(c>=this.getWhitespacesCount())return null;const y=this.getVerticalOffsetForWhitespaceIndex(c);if(y>i)return null;const D=this.getHeightForWhitespaceIndex(c);return{id:this.getIdForWhitespaceIndex(c),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(c),verticalOffset:y,height:D}}getWhitespaceViewportData(i,c){this._checkPendingChanges(),i|=0,c|=0;const y=this.getWhitespaceIndexAtOrAfterVerticallOffset(i),D=this.getWhitespacesCount()-1;if(y<0)return[];const X=[];for(let ce=y;ce<=D;ce++){const me=this.getVerticalOffsetForWhitespaceIndex(ce),Ze=this.getHeightForWhitespaceIndex(ce);if(me>=c)break;X.push({id:this.getIdForWhitespaceIndex(ce),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(ce),verticalOffset:me,height:Ze})}return X}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(i){return this._checkPendingChanges(),i|=0,this._arr[i].id}getAfterLineNumberForWhitespaceIndex(i){return this._checkPendingChanges(),i|=0,this._arr[i].afterLineNumber}getHeightForWhitespaceIndex(i){return this._checkPendingChanges(),i|=0,this._arr[i].height}}class Gs{constructor(i,c,y,D){(i|=0)<0&&(i=0),(c|=0)<0&&(c=0),(y|=0)<0&&(y=0),(D|=0)<0&&(D=0),this.width=i,this.contentWidth=c,this.scrollWidth=Math.max(i,c),this.height=y,this.contentHeight=D,this.scrollHeight=Math.max(y,D)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class Ul extends C.jG{constructor(i,c){super(),this._onDidContentSizeChange=this._register(new w.vl),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Gs(0,0,0,0),this._scrollable=this._register(new kr.yE({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:c})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const c=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0);const y=c.contentWidth!==i.contentWidth,D=c.contentHeight!==i.contentHeight;(y||D)&&this._onDidContentSizeChange.fire(new Ns(c.contentWidth,c.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class cl extends C.jG{constructor(i,c,y){super(),this._configuration=i;const D=this._configuration.options,X=D.get(146),ce=D.get(84);this._linesLayout=new Kr(c,D.get(67),ce.top,ce.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new Ul(0,y)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Gs(X.contentWidth,0,X.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(115)?125:0)}onConfigurationChanged(i){const c=this._configuration.options;if(i.hasChanged(67)&&this._linesLayout.setLineHeight(c.get(67)),i.hasChanged(84)){const y=c.get(84);this._linesLayout.setPadding(y.top,y.bottom)}if(i.hasChanged(146)){const y=c.get(146),D=y.contentWidth,X=y.height,ce=this._scrollable.getScrollDimensions(),me=ce.contentWidth;this._scrollable.setScrollDimensions(new Gs(D,ce.contentWidth,X,this._getContentHeight(D,X,me)))}else this._updateHeight();i.hasChanged(115)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,c){this._linesLayout.onLinesDeleted(i,c)}onLinesInserted(i,c){this._linesLayout.onLinesInserted(i,c)}_getHorizontalScrollbarHeight(i,c){const y=this._configuration.options.get(104);return y.horizontal===2||i>=c?0:y.horizontalScrollbarSize}_getContentHeight(i,c,y){const D=this._configuration.options;let X=this._linesLayout.getLinesTotalHeight();return D.get(106)?X+=Math.max(0,c-D.get(67)-D.get(84).bottom):D.get(104).ignoreHorizontalScrollbarInContentHeight||(X+=this._getHorizontalScrollbarHeight(i,y)),X}_updateHeight(){const i=this._scrollable.getScrollDimensions(),c=i.width,y=i.height,D=i.contentWidth;this._scrollable.setScrollDimensions(new Gs(c,i.contentWidth,y,this._getContentHeight(c,y,D)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new Vt.LM(c.scrollTop,c.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new Vt.LM(c.scrollTop,c.scrollLeft,i.width,i.height)}_computeContentWidth(){const i=this._configuration.options,c=this._maxLineWidth,y=i.get(147),D=i.get(50),X=i.get(146);if(y.isViewportWrapping){const ce=i.get(73);return c>X.contentWidth+D.typicalHalfwidthCharacterWidth&&ce.enabled&&ce.side==="right"?c+X.verticalScrollbarWidth:c}{const ce=i.get(105)*D.typicalHalfwidthCharacterWidth,me=this._linesLayout.getWhitespaceMinWidth();return Math.max(c+ce+X.verticalScrollbarWidth,me,this._overlayWidgetsMinWidth)}}setMaxLineWidth(i){this._maxLineWidth=i,this._updateContentWidth()}setOverlayWidgetsMinWidth(i){this._overlayWidgetsMinWidth=i,this._updateContentWidth()}_updateContentWidth(){const i=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Gs(i.width,this._computeContentWidth(),i.height,i.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),c=i.scrollTop,y=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c);return{scrollTop:c,scrollTopWithoutViewZones:c-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(y),scrollLeft:i.scrollLeft}}changeWhitespace(i){const c=this._linesLayout.changeWhitespace(i);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(i,c=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,c)}getVerticalOffsetAfterLineNumber(i,c=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,c)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const c=this._scrollable.getScrollDimensions();return i+c.height>c.scrollHeight&&(i=c.scrollHeight-c.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+c.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,c){c===1?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(i,c){const y=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:y.scrollLeft+i,scrollTop:y.scrollTop+c})}}var Ls=h(1430),dl=h(7445);function Na(i,c){return i===null?c?_s.INSTANCE:lo.INSTANCE:new Ds(i,c)}class Ds{constructor(i,c){this._projectionData=i,this._isVisible=c}isVisible(){return this._isVisible}setVisible(i){return this._isVisible=i,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(i,c,y){this._assertVisible();const D=y>0?this._projectionData.breakOffsets[y-1]:0,X=this._projectionData.breakOffsets[y];let ce;if(this._projectionData.injectionOffsets!==null){const me=this._projectionData.injectionOffsets.map((Ze,qe)=>new _o.uK(0,0,Ze+1,this._projectionData.injectionOptions[qe],0));ce=_o.uK.applyInjectedText(i.getLineContent(c),me).substring(D,X)}else ce=i.getValueInRange({startLineNumber:c,startColumn:D+1,endLineNumber:c,endColumn:X+1});return y>0&&(ce=Ko(this._projectionData.wrappedTextIndentLength)+ce),ce}getViewLineLength(i,c,y){return this._assertVisible(),this._projectionData.getLineLength(y)}getViewLineMinColumn(i,c,y){return this._assertVisible(),this._projectionData.getMinOutputOffset(y)+1}getViewLineMaxColumn(i,c,y){return this._assertVisible(),this._projectionData.getMaxOutputOffset(y)+1}getViewLineData(i,c,y){const D=new Array;return this.getViewLinesData(i,c,y,1,0,[!0],D),D[0]}getViewLinesData(i,c,y,D,X,ce,me){this._assertVisible();const Ze=this._projectionData,qe=Ze.injectionOffsets,it=Ze.injectionOptions;let at,ot=null;if(qe){ot=[];let Jt=0,Ft=0;for(let $t=0;$t<Ze.getOutputLineCount();$t++){const Gt=new Array;ot[$t]=Gt;const _n=$t>0?Ze.breakOffsets[$t-1]:0,Pn=Ze.breakOffsets[$t];for(;Ft<qe.length;){const Zn=it[Ft].content.length,ni=qe[Ft]+Jt,Gn=ni+Zn;if(ni>Pn)break;if(_n<Gn){const ri=it[Ft];if(ri.inlineClassName){const ci=$t>0?Ze.wrappedTextIndentLength:0,ai=ci+Math.max(ni-_n,0),vi=ci+Math.min(Gn-_n,Pn-_n);ai!==vi&&Gt.push(new Vt.or(ai,vi,ri.inlineClassName,ri.inlineClassNameAffectsLetterSpacing))}}if(!(Gn<=Pn))break;Jt+=Zn,Ft++}}}at=qe?i.tokenization.getLineTokens(c).withInserted(qe.map((Jt,Ft)=>({offset:Jt,text:it[Ft].content,tokenMetadata:dl.f.defaultTokenMetadata}))):i.tokenization.getLineTokens(c);for(let Jt=y;Jt<y+D;Jt++){const Ft=X+Jt-y;ce[Ft]?me[Ft]=this._getViewLineData(at,ot?ot[Jt]:null,Jt):me[Ft]=null}}_getViewLineData(i,c,y){this._assertVisible();const D=this._projectionData,X=y>0?D.wrappedTextIndentLength:0,ce=y>0?D.breakOffsets[y-1]:0,me=D.breakOffsets[y],Ze=i.sliceAndInflate(ce,me,X);let qe=Ze.getLineContent();y>0&&(qe=Ko(D.wrappedTextIndentLength)+qe);const it=this._projectionData.getMinOutputOffset(y)+1,at=qe.length+1,ot=y+1<this.getViewLineCount(),Jt=y===0?0:D.breakOffsetsVisibleColumn[y-1];return new Vt.GP(qe,ot,it,at,Jt,Ze,c)}getModelColumnOfViewPosition(i,c){return this._assertVisible(),this._projectionData.translateToInputOffset(i,c-1)+1}getViewPositionOfModelPosition(i,c,y=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(c-1,y).toPosition(i)}getViewLineNumberOfModelPosition(i,c){return this._assertVisible(),i+this._projectionData.translateToOutputPosition(c-1).outputLineIndex}normalizePosition(i,c,y){const D=c.lineNumber-i;return this._projectionData.normalizeOutputPosition(i,c.column-1,y).toPosition(D)}getInjectedTextAt(i,c){return this._projectionData.getInjectedText(i,c-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class _s{static{this.INSTANCE=new _s}constructor(){}isVisible(){return!0}setVisible(i){return i?this:lo.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(i,c,y){return i.getLineContent(c)}getViewLineLength(i,c,y){return i.getLineLength(c)}getViewLineMinColumn(i,c,y){return i.getLineMinColumn(c)}getViewLineMaxColumn(i,c,y){return i.getLineMaxColumn(c)}getViewLineData(i,c,y){const D=i.tokenization.getLineTokens(c),X=D.getLineContent();return new Vt.GP(X,!1,1,X.length+1,0,D.inflate(),null)}getViewLinesData(i,c,y,D,X,ce,me){ce[X]?me[X]=this.getViewLineData(i,c,0):me[X]=null}getModelColumnOfViewPosition(i,c){return c}getViewPositionOfModelPosition(i,c){return new Se.y(i,c)}getViewLineNumberOfModelPosition(i,c){return i}normalizePosition(i,c,y){return c}getInjectedTextAt(i,c){return null}}class lo{static{this.INSTANCE=new lo}constructor(){}isVisible(){return!1}setVisible(i){return i?_s.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(i,c,y){throw new Error("Not supported")}getViewLineLength(i,c,y){throw new Error("Not supported")}getViewLineMinColumn(i,c,y){throw new Error("Not supported")}getViewLineMaxColumn(i,c,y){throw new Error("Not supported")}getViewLineData(i,c,y){throw new Error("Not supported")}getViewLinesData(i,c,y,D,X,ce,me){throw new Error("Not supported")}getModelColumnOfViewPosition(i,c){throw new Error("Not supported")}getViewPositionOfModelPosition(i,c){throw new Error("Not supported")}getViewLineNumberOfModelPosition(i,c){throw new Error("Not supported")}normalizePosition(i,c,y){throw new Error("Not supported")}getInjectedTextAt(i,c){throw new Error("Not supported")}}const qo=[""];function Ko(i){if(i>=qo.length)for(let c=1;c<=i;c++)qo[c]=ca(c);return qo[i]}function ca(i){return new Array(i+1).join(" ")}var Ms=h(6158);class Ia{constructor(i,c,y,D,X,ce,me,Ze,qe,it){this._editorId=i,this.model=c,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=y,this._monospaceLineBreaksComputerFactory=D,this.fontInfo=X,this.tabSize=ce,this.wrappingStrategy=me,this.wrappingColumn=Ze,this.wrappingIndent=qe,this.wordBreak=it,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new La(this)}_constructLines(i,c){this.modelLineProjections=[],i&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const y=this.model.getLinesContent(),D=this.model.getInjectedTextDecorations(this._editorId),X=y.length,ce=this.createLineBreaksComputer(),me=new _.j3(_o.uK.fromDecorations(D));for(let $t=0;$t<X;$t++){const Gt=me.takeWhile((_n)=>_n.lineNumber===$t+1);ce.addRequest(y[$t],Gt,c?c[$t]:null)}const Ze=ce.finalize(),qe=[],it=this.hiddenAreasDecorationIds.map(($t)=>this.model.getDecorationRange($t)).sort(Pe.Q.compareRangesUsingStarts);let at=1,ot=0,Jt=-1,Ft=Jt+1<it.length?ot+1:X+2;for(let $t=0;$t<X;$t++){const Gt=$t+1;Gt===Ft&&(Jt++,at=it[Jt].startLineNumber,ot=it[Jt].endLineNumber,Ft=Jt+1<it.length?ot+1:X+2);const _n=Gt>=at&&Gt<=ot,Pn=Na(Ze[$t],!_n);qe[$t]=Pn.getViewLineCount(),this.modelLineProjections[$t]=Pn}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Ms.c2(qe)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map((i)=>this.model.getDecorationRange(i))}setHiddenAreas(i){const c=function(at){if(at.length===0)return[];const ot=at.slice();ot.sort(Pe.Q.compareRangesUsingStarts);const Jt=[];let Ft=ot[0].startLineNumber,$t=ot[0].endLineNumber;for(let Gt=1,_n=ot.length;Gt<_n;Gt++){const Pn=ot[Gt];Pn.startLineNumber>$t+1?(Jt.push(new Pe.Q(Ft,1,$t,1)),Ft=Pn.startLineNumber,$t=Pn.endLineNumber):Pn.endLineNumber>$t&&($t=Pn.endLineNumber)}return Jt.push(new Pe.Q(Ft,1,$t,1)),Jt}(i.map((at)=>this.model.validateRange(at))),y=this.hiddenAreasDecorationIds.map((at)=>this.model.getDecorationRange(at)).sort(Pe.Q.compareRangesUsingStarts);if(c.length===y.length){let at=!1;for(let ot=0;ot<c.length;ot++)if(!c[ot].equalsRange(y[ot])){at=!0;break}if(!at)return!1}const D=c.map((at)=>({range:at,options:Fi.kI.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,D);const X=c;let ce=1,me=0,Ze=-1,qe=Ze+1<X.length?me+1:this.modelLineProjections.length+2,it=!1;for(let at=0;at<this.modelLineProjections.length;at++){const ot=at+1;ot===qe&&(Ze++,ce=X[Ze].startLineNumber,me=X[Ze].endLineNumber,qe=Ze+1<X.length?me+1:this.modelLineProjections.length+2);let Jt=!1;if(ot>=ce&&ot<=me?this.modelLineProjections[at].isVisible()&&(this.modelLineProjections[at]=this.modelLineProjections[at].setVisible(!1),Jt=!0):(it=!0,this.modelLineProjections[at].isVisible()||(this.modelLineProjections[at]=this.modelLineProjections[at].setVisible(!0),Jt=!0)),Jt){const Ft=this.modelLineProjections[at].getViewLineCount();this.projectedModelLineLineCounts.setValue(at,Ft)}}return it||this.setHiddenAreas([]),!0}modelPositionIsVisible(i,c){return!(i<1||i>this.modelLineProjections.length)&&this.modelLineProjections[i-1].isVisible()}getModelLineViewLineCount(i){return i<1||i>this.modelLineProjections.length?1:this.modelLineProjections[i-1].getViewLineCount()}setTabSize(i){return this.tabSize!==i&&(this.tabSize=i,this._constructLines(!1,null),!0)}setWrappingSettings(i,c,y,D,X){const ce=this.fontInfo.equals(i),me=this.wrappingStrategy===c,Ze=this.wrappingColumn===y,qe=this.wrappingIndent===D,it=this.wordBreak===X;if(ce&&me&&Ze&&qe&&it)return!1;const at=ce&&me&&!Ze&&qe&&it;this.fontInfo=i,this.wrappingStrategy=c,this.wrappingColumn=y,this.wrappingIndent=D,this.wordBreak=X;let ot=null;if(at){ot=[];for(let Jt=0,Ft=this.modelLineProjections.length;Jt<Ft;Jt++)ot[Jt]=this.modelLineProjections[Jt].getProjectionData()}return this._constructLines(!1,ot),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(i,c,y){if(!i||i<=this._validModelVersionId)return null;const D=c===1?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,X=this.projectedModelLineLineCounts.getPrefixSum(y);return this.modelLineProjections.splice(c-1,y-c+1),this.projectedModelLineLineCounts.removeValues(c-1,y-c+1),new vo(D,X)}onModelLinesInserted(i,c,y,D){if(!i||i<=this._validModelVersionId)return null;const X=c>2&&!this.modelLineProjections[c-2].isVisible(),ce=c===1?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1;let me=0;const Ze=[],qe=[];for(let it=0,at=D.length;it<at;it++){const ot=Na(D[it],!X);Ze.push(ot);const Jt=ot.getViewLineCount();me+=Jt,qe[it]=Jt}return this.modelLineProjections=this.modelLineProjections.slice(0,c-1).concat(Ze).concat(this.modelLineProjections.slice(c-1)),this.projectedModelLineLineCounts.insertValues(c-1,qe),new _r(ce,ce+me-1)}onModelLineChanged(i,c,y){if(i!==null&&i<=this._validModelVersionId)return[!1,null,null,null];const D=c-1,X=this.modelLineProjections[D].getViewLineCount(),ce=Na(y,this.modelLineProjections[D].isVisible());this.modelLineProjections[D]=ce;const me=this.modelLineProjections[D].getViewLineCount();let Ze=!1,qe=0,it=-1,at=0,ot=-1,Jt=0,Ft=-1;return X>me?(qe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,it=qe+me-1,Jt=it+1,Ft=Jt+(X-me)-1,Ze=!0):X<me?(qe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,it=qe+X-1,at=it+1,ot=at+(me-X)-1,Ze=!0):(qe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,it=qe+me-1),this.projectedModelLineLineCounts.setValue(D,me),[Ze,qe<=it?new Wr(qe,it-qe+1):null,at<=ot?new _r(at,ot):null,Jt<=Ft?new vo(Jt,Ft):null]}acceptVersionId(i){this._validModelVersionId=i,this.modelLineProjections.length!==1||this.modelLineProjections[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(i){if(i<1)return 1;const c=this.getViewLineCount();return i>c?c:0|i}getActiveIndentGuide(i,c,y){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c),y=this._toValidViewLineNumber(y);const D=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),X=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),ce=this.convertViewPositionToModelPosition(y,this.getViewLineMinColumn(y)),me=this.model.guides.getActiveIndentGuide(D.lineNumber,X.lineNumber,ce.lineNumber),Ze=this.convertModelPositionToViewPosition(me.startLineNumber,1),qe=this.convertModelPositionToViewPosition(me.endLineNumber,this.model.getLineMaxColumn(me.endLineNumber));return{startLineNumber:Ze.lineNumber,endLineNumber:qe.lineNumber,indent:me.indent}}getViewLineInfo(i){i=this._toValidViewLineNumber(i);const c=this.projectedModelLineLineCounts.getIndexOf(i-1),y=c.index,D=c.remainder;return new da(y+1,D)}getMinColumnOfViewLine(i){return this.modelLineProjections[i.modelLineNumber-1].getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(i){return this.modelLineProjections[i.modelLineNumber-1].getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(i){const c=this.modelLineProjections[i.modelLineNumber-1],y=c.getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),D=c.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,y);return new Se.y(i.modelLineNumber,D)}getModelEndPositionOfViewLine(i){const c=this.modelLineProjections[i.modelLineNumber-1],y=c.getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),D=c.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,y);return new Se.y(i.modelLineNumber,D)}getViewLineInfosGroupedByModelRanges(i,c){const y=this.getViewLineInfo(i),D=this.getViewLineInfo(c),X=new Array;let ce=this.getModelStartPositionOfViewLine(y),me=new Array;for(let Ze=y.modelLineNumber;Ze<=D.modelLineNumber;Ze++){const qe=this.modelLineProjections[Ze-1];if(qe.isVisible()){const it=Ze===y.modelLineNumber?y.modelLineWrappedLineIdx:0,at=Ze===D.modelLineNumber?D.modelLineWrappedLineIdx+1:qe.getViewLineCount();for(let ot=it;ot<at;ot++)me.push(new da(Ze,ot))}if(!qe.isVisible()&&ce){const it=new Se.y(Ze-1,this.model.getLineMaxColumn(Ze-1)+1),at=Pe.Q.fromPositions(ce,it);X.push(new Ra(at,me)),me=[],ce=null}else qe.isVisible()&&!ce&&(ce=new Se.y(Ze,1))}if(ce){const Ze=Pe.Q.fromPositions(ce,this.getModelEndPositionOfViewLine(D));X.push(new Ra(Ze,me))}return X}getViewLinesBracketGuides(i,c,y,D){const X=y?this.convertViewPositionToModelPosition(y.lineNumber,y.column):null,ce=[];for(let me of this.getViewLineInfosGroupedByModelRanges(i,c)){const Ze=me.modelRange.startLineNumber,qe=this.model.guides.getLinesBracketGuides(Ze,me.modelRange.endLineNumber,X,D);for(let it of me.viewLines){const at=qe[it.modelLineNumber-Ze].map((ot)=>{if(ot.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,ot.forWrappedLinesAfterColumn).lineNumber>=it.modelLineWrappedLineIdx)return;if(ot.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,ot.forWrappedLinesBeforeOrAtColumn).lineNumber<it.modelLineWrappedLineIdx)return;if(!ot.horizontalLine)return ot;let Jt=-1;if(ot.column!==-1){const Gt=this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,ot.column);if(Gt.lineNumber===it.modelLineWrappedLineIdx)Jt=Gt.column;else if(Gt.lineNumber<it.modelLineWrappedLineIdx)Jt=this.getMinColumnOfViewLine(it);else if(Gt.lineNumber>it.modelLineWrappedLineIdx)return}const Ft=this.convertModelPositionToViewPosition(it.modelLineNumber,ot.horizontalLine.endColumn),$t=this.modelLineProjections[it.modelLineNumber-1].getViewPositionOfModelPosition(0,ot.horizontalLine.endColumn);return $t.lineNumber===it.modelLineWrappedLineIdx?new At.TH(ot.visibleColumn,Jt,ot.className,new At.pv(ot.horizontalLine.top,Ft.column),-1,-1):$t.lineNumber<it.modelLineWrappedLineIdx||ot.visibleColumn!==-1?void 0:new At.TH(ot.visibleColumn,Jt,ot.className,new At.pv(ot.horizontalLine.top,this.getMaxColumnOfViewLine(it)),-1,-1)});ce.push(at.filter((ot)=>!!ot))}}return ce}getViewLinesIndentGuides(i,c){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c);const y=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),D=this.convertViewPositionToModelPosition(c,this.getViewLineMaxColumn(c));let X=[];const ce=[],me=[],Ze=y.lineNumber-1,qe=D.lineNumber-1;let it=null;for(let Ft=Ze;Ft<=qe;Ft++){const $t=this.modelLineProjections[Ft];if($t.isVisible()){const Gt=$t.getViewLineNumberOfModelPosition(0,Ft===Ze?y.column:1),_n=$t.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Ft+1)),Pn=_n-Gt+1;let Zn=0;Pn>1&&$t.getViewLineMinColumn(this.model,Ft+1,_n)===1&&(Zn=Gt===0?1:2),ce.push(Pn),me.push(Zn),it===null&&(it=new Se.y(Ft+1,0))}else it!==null&&(X=X.concat(this.model.guides.getLinesIndentGuides(it.lineNumber,Ft)),it=null)}it!==null&&(X=X.concat(this.model.guides.getLinesIndentGuides(it.lineNumber,D.lineNumber)),it=null);const at=c-i+1,ot=new Array(at);let Jt=0;for(let Ft=0,$t=X.length;Ft<$t;Ft++){let Gt=X[Ft];const _n=Math.min(at-Jt,ce[Ft]),Pn=me[Ft];let Zn;Zn=Pn===2?0:Pn===1?1:_n;for(let ni=0;ni<_n;ni++)ni===Zn&&(Gt=0),ot[Jt++]=Gt}return ot}getViewLineContent(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineContent(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineLength(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineLength(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMinColumn(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMaxColumn(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineData(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineData(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLinesData(i,c,y){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c);const D=this.projectedModelLineLineCounts.getIndexOf(i-1);let X=i;const{index:ce,remainder:me}=D,Ze=[];for(let qe=ce,it=this.model.getLineCount();qe<it;qe++){const at=this.modelLineProjections[qe];if(!at.isVisible())continue;const ot=qe===ce?me:0;let Jt=at.getViewLineCount()-ot,Ft=!1;if(X+Jt>c&&(Ft=!0,Jt=c-X+1),at.getViewLinesData(this.model,qe+1,ot,Jt,X-i,y,Ze),X+=Jt,Ft)break}return Ze}validateViewPosition(i,c,y){i=this._toValidViewLineNumber(i);const D=this.projectedModelLineLineCounts.getIndexOf(i-1),X=D.index,ce=D.remainder,me=this.modelLineProjections[X],Ze=me.getViewLineMinColumn(this.model,X+1,ce),qe=me.getViewLineMaxColumn(this.model,X+1,ce);c<Ze&&(c=Ze),c>qe&&(c=qe);const it=me.getModelColumnOfViewPosition(ce,c);return this.model.validatePosition(new Se.y(X+1,it)).equals(y)?new Se.y(i,c):this.convertModelPositionToViewPosition(y.lineNumber,y.column)}validateViewRange(i,c){const y=this.validateViewPosition(i.startLineNumber,i.startColumn,c.getStartPosition()),D=this.validateViewPosition(i.endLineNumber,i.endColumn,c.getEndPosition());return new Pe.Q(y.lineNumber,y.column,D.lineNumber,D.column)}convertViewPositionToModelPosition(i,c){const y=this.getViewLineInfo(i),D=this.modelLineProjections[y.modelLineNumber-1].getModelColumnOfViewPosition(y.modelLineWrappedLineIdx,c);return this.model.validatePosition(new Se.y(y.modelLineNumber,D))}convertViewRangeToModelRange(i){const c=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),y=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);return new Pe.Q(c.lineNumber,c.column,y.lineNumber,y.column)}convertModelPositionToViewPosition(i,c,y=2,D=!1,X=!1){const ce=this.model.validatePosition(new Se.y(i,c)),me=ce.lineNumber,Ze=ce.column;let qe=me-1,it=!1;if(X)for(;qe<this.modelLineProjections.length&&!this.modelLineProjections[qe].isVisible();)qe++,it=!0;else for(;qe>0&&!this.modelLineProjections[qe].isVisible();)qe--,it=!0;if(qe===0&&!this.modelLineProjections[qe].isVisible())return new Se.y(D?0:1,1);const at=1+this.projectedModelLineLineCounts.getPrefixSum(qe);let ot;return ot=it?X?this.modelLineProjections[qe].getViewPositionOfModelPosition(at,1,y):this.modelLineProjections[qe].getViewPositionOfModelPosition(at,this.model.getLineMaxColumn(qe+1),y):this.modelLineProjections[me-1].getViewPositionOfModelPosition(at,Ze,y),ot}convertModelRangeToViewRange(i,c=0){if(i.isEmpty()){const y=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,c);return Pe.Q.fromPositions(y)}{const y=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,1),D=this.convertModelPositionToViewPosition(i.endLineNumber,i.endColumn,0);return new Pe.Q(y.lineNumber,y.column,D.lineNumber,D.column)}}getViewLineNumberOfModelPosition(i,c){let y=i-1;if(this.modelLineProjections[y].isVisible()){const X=1+this.projectedModelLineLineCounts.getPrefixSum(y);return this.modelLineProjections[y].getViewLineNumberOfModelPosition(X,c)}for(;y>0&&!this.modelLineProjections[y].isVisible();)y--;if(y===0&&!this.modelLineProjections[y].isVisible())return 1;const D=1+this.projectedModelLineLineCounts.getPrefixSum(y);return this.modelLineProjections[y].getViewLineNumberOfModelPosition(D,this.model.getLineMaxColumn(y+1))}getDecorationsInRange(i,c,y,D,X){const ce=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),me=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);if(me.lineNumber-ce.lineNumber<=i.endLineNumber-i.startLineNumber)return this.model.getDecorationsInRange(new Pe.Q(ce.lineNumber,1,me.lineNumber,me.column),c,y,D,X);let Ze=[];const qe=ce.lineNumber-1,it=me.lineNumber-1;let at=null;for(let $t=qe;$t<=it;$t++)if(this.modelLineProjections[$t].isVisible())at===null&&(at=new Se.y($t+1,$t===qe?ce.column:1));else if(at!==null){const Gt=this.model.getLineMaxColumn($t);Ze=Ze.concat(this.model.getDecorationsInRange(new Pe.Q(at.lineNumber,at.column,$t,Gt),c,y,D)),at=null}at!==null&&(Ze=Ze.concat(this.model.getDecorationsInRange(new Pe.Q(at.lineNumber,at.column,me.lineNumber,me.column),c,y,D)),at=null),Ze.sort(($t,Gt)=>{const _n=Pe.Q.compareRangesUsingStarts($t.range,Gt.range);return _n===0?$t.id<Gt.id?-1:$t.id>Gt.id?1:0:_n});const ot=[];let Jt=0,Ft=null;for(let $t of Ze){const Gt=$t.id;Ft!==Gt&&(Ft=Gt,ot[Jt++]=$t)}return ot}getInjectedTextAt(i){const c=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[c.modelLineNumber-1].getInjectedTextAt(c.modelLineWrappedLineIdx,i.column)}normalizePosition(i,c){const y=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[y.modelLineNumber-1].normalizePosition(y.modelLineWrappedLineIdx,i,c)}getLineIndentColumn(i){const c=this.getViewLineInfo(i);return c.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(c.modelLineNumber):0}}class da{constructor(i,c){this.modelLineNumber=i,this.modelLineWrappedLineIdx=c}}class Ra{constructor(i,c){this.modelRange=i,this.viewLines=c}}class La{constructor(i){this._lines=i}convertViewPositionToModelPosition(i){return this._lines.convertViewPositionToModelPosition(i.lineNumber,i.column)}convertViewRangeToModelRange(i){return this._lines.convertViewRangeToModelRange(i)}validateViewPosition(i,c){return this._lines.validateViewPosition(i.lineNumber,i.column,c)}validateViewRange(i,c){return this._lines.validateViewRange(i,c)}convertModelPositionToViewPosition(i,c,y,D){return this._lines.convertModelPositionToViewPosition(i.lineNumber,i.column,c,y,D)}convertModelRangeToViewRange(i,c){return this._lines.convertModelRangeToViewRange(i,c)}modelPositionIsVisible(i){return this._lines.modelPositionIsVisible(i.lineNumber,i.column)}getModelLineViewLineCount(i){return this._lines.getModelLineViewLineCount(i)}getViewLineNumberOfModelPosition(i,c){return this._lines.getViewLineNumberOfModelPosition(i,c)}}class Da{constructor(i){this.model=i}dispose(){}createCoordinatesConverter(){return new ul(this)}getHiddenAreas(){return[]}setHiddenAreas(i){return!1}setTabSize(i){return!1}setWrappingSettings(i,c,y,D){return!1}createLineBreaksComputer(){const i=[];return{addRequest:(c,y,D)=>{i.push(null)},finalize:()=>i}}onModelFlushed(){}onModelLinesDeleted(i,c,y){return new vo(c,y)}onModelLinesInserted(i,c,y,D){return new _r(c,y)}onModelLineChanged(i,c,y){return[!1,new Wr(c,1),null,null]}acceptVersionId(i){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(i,c,y){return{startLineNumber:i,endLineNumber:i,indent:0}}getViewLinesBracketGuides(i,c,y){return new Array(c-i+1).fill([])}getViewLinesIndentGuides(i,c){const y=c-i+1,D=new Array(y);for(let X=0;X<y;X++)D[X]=0;return D}getViewLineContent(i){return this.model.getLineContent(i)}getViewLineLength(i){return this.model.getLineLength(i)}getViewLineMinColumn(i){return this.model.getLineMinColumn(i)}getViewLineMaxColumn(i){return this.model.getLineMaxColumn(i)}getViewLineData(i){const c=this.model.tokenization.getLineTokens(i),y=c.getLineContent();return new Vt.GP(y,!1,1,y.length+1,0,c.inflate(),null)}getViewLinesData(i,c,y){const D=this.model.getLineCount();i=Math.min(Math.max(1,i),D),c=Math.min(Math.max(1,c),D);const X=[];for(let ce=i;ce<=c;ce++){const me=ce-i;X[me]=y[me]?this.getViewLineData(ce):null}return X}getDecorationsInRange(i,c,y,D,X){return this.model.getDecorationsInRange(i,c,y,D,X)}normalizePosition(i,c){return this.model.normalizePosition(i,c)}getLineIndentColumn(i){return this.model.getLineIndentColumn(i)}getInjectedTextAt(i){return null}}class ul{constructor(i){this._lines=i}_validPosition(i){return this._lines.model.validatePosition(i)}_validRange(i){return this._lines.model.validateRange(i)}convertViewPositionToModelPosition(i){return this._validPosition(i)}convertViewRangeToModelRange(i){return this._validRange(i)}validateViewPosition(i,c){return this._validPosition(c)}validateViewRange(i,c){return this._validRange(c)}convertModelPositionToViewPosition(i){return this._validPosition(i)}convertModelRangeToViewRange(i){return this._validRange(i)}modelPositionIsVisible(i){const c=this._lines.model.getLineCount();return!(i.lineNumber<1||i.lineNumber>c)}getModelLineViewLineCount(i){return 1}getViewLineNumberOfModelPosition(i,c){return i}}const So=$i.ZS.Right;class Xs{constructor(i){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((i+1)*So/8))}reset(i){const c=Math.ceil((i+1)*So/8);this.lanes.length<c?this.lanes=new Uint8Array(c):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(i,c,y){y&&(this.persist|=1<<i-1);for(let D=c.startLineNumber;D<=c.endLineNumber;D++){const X=So*D+(i-1);this.lanes[X>>>3]|=1<<X%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(D))}}getLanesAtLine(i){const c=[];let y=So*i;for(let D=0;D<So;D++)(this.persist&1<<D||this.lanes[y>>>3]&1<<y%8)&&c.push(D+1),y++;return c.length?c:[$i.ZS.Center]}countAtLine(i){let c=So*i,y=0;for(let D=0;D<So;D++)(this.persist&1<<D||this.lanes[c>>>3]&1<<c%8)&&y++,c++;return y}}class bs extends C.jG{constructor(i,c,y,D,X,ce,me,Ze,qe,it){if(super(),this.languageConfigurationService=me,this._themeService=Ze,this._attachedView=qe,this._transactionalTarget=it,this.hiddenAreasModel=new ro,this.previousHiddenAreas=[],this._editorId=i,this._configuration=c,this.model=y,this._eventDispatcher=new ol,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Pr.d$(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new Wt.uC(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=vs.create(this.model),this.glyphLanes=new Xs(0),this.model.isTooLargeForTokenization())this._lines=new Da(this.model);else{const at=this._configuration.options,ot=at.get(50),Jt=at.get(140),Ft=at.get(147),$t=at.get(139),Gt=at.get(130);this._lines=new Ia(this._editorId,this.model,D,X,ot,this.model.getOptions().tabSize,Jt,Ft.wrappingColumn,$t,Gt)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new ll(y,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new cl(this._configuration,this.getLineCount(),ce)),this._register(this.viewLayout.onDidScroll((at)=>{at.scrollTopChanged&&this._handleVisibleLinesChanged(),at.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new rl(at)),this._eventDispatcher.emitOutgoingEvent(new Is(at.oldScrollWidth,at.oldScrollLeft,at.oldScrollHeight,at.oldScrollTop,at.scrollWidth,at.scrollLeft,at.scrollHeight,at.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange((at)=>{this._eventDispatcher.emitOutgoingEvent(at)})),this._decorations=new Ls.UB(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((at)=>{try{const ot=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(ot,at)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Ot.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new sa)})),this._register(this._themeService.onDidColorThemeChange((at)=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Ea(at))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(i){this._eventDispatcher.addViewEventHandler(i)}removeViewEventHandler(i){this._eventDispatcher.removeViewEventHandler(i)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const i=this.viewLayout.getLinesViewportData(),c=new Pe.Q(i.startLineNumber,this.getLineMinColumn(i.startLineNumber),i.endLineNumber,this.getLineMaxColumn(i.endLineNumber));return this._toModelVisibleRanges(c)}visibleLinesStabilized(){const i=this.getModelVisibleRanges();this._attachedView.setVisibleLines(i,!0)}_handleVisibleLinesChanged(){const i=this.getModelVisibleRanges();this._attachedView.setVisibleLines(i,!1)}setHasFocus(i){this._hasFocus=i,this._cursor.setHasFocus(i),this._eventDispatcher.emitSingleViewEvent(new Ca(i)),this._eventDispatcher.emitOutgoingEvent(new Yr(!i,i))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new jo)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new ra)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const i=new Se.y(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),c=this.coordinatesConverter.convertViewPositionToModelPosition(i);return new es(c,this._viewportStart.startLineDelta)}return new es(null,0)}_onConfigurationChanged(i,c){const y=this._captureStableViewport(),D=this._configuration.options,X=D.get(50),ce=D.get(140),me=D.get(147),Ze=D.get(139),qe=D.get(130);this._lines.setWrappingSettings(X,ce,me.wrappingColumn,Ze,qe)&&(i.emitViewEvent(new rs),i.emitViewEvent(new $o),i.emitViewEvent(new fr(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),c.hasChanged(92)&&(this._decorations.reset(),i.emitViewEvent(new fr(null))),c.hasChanged(99)&&(this._decorations.reset(),i.emitViewEvent(new fr(null))),i.emitViewEvent(new nl(c)),this.viewLayout.onConfigurationChanged(c),y.recoverViewportStart(this.coordinatesConverter,this.viewLayout),Pr.d$.shouldRecreate(c)&&(this.cursorConfig=new Pr.d$(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((i)=>{try{const y=this._eventDispatcher.beginEmitViewEvents();let D=!1,X=!1;const ce=i instanceof _o.Ic?i.rawContentChangedEvent.changes:i.changes,me=i instanceof _o.Ic?i.rawContentChangedEvent.versionId:null,Ze=this._lines.createLineBreaksComputer();for(let at of ce)switch(at.changeType){case 4:for(let ot=0;ot<at.detail.length;ot++){const Jt=at.detail[ot];let Ft=at.injectedTexts[ot];Ft&&(Ft=Ft.filter(($t)=>!$t.ownerId||$t.ownerId===this._editorId)),Ze.addRequest(Jt,Ft,null)}break;case 2:{let ot=null;at.injectedText&&(ot=at.injectedText.filter((Jt)=>!Jt.ownerId||Jt.ownerId===this._editorId)),Ze.addRequest(at.detail,ot,null);break}}const qe=Ze.finalize(),it=new _.j3(qe);for(let at of ce)switch(at.changeType){case 1:this._lines.onModelFlushed(),y.emitViewEvent(new rs),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),D=!0;break;case 3:{const ot=this._lines.onModelLinesDeleted(me,at.fromLineNumber,at.toLineNumber);ot!==null&&(y.emitViewEvent(ot),this.viewLayout.onLinesDeleted(ot.fromLineNumber,ot.toLineNumber)),D=!0;break}case 4:{const ot=it.takeCount(at.detail.length),Jt=this._lines.onModelLinesInserted(me,at.fromLineNumber,at.toLineNumber,ot);Jt!==null&&(y.emitViewEvent(Jt),this.viewLayout.onLinesInserted(Jt.fromLineNumber,Jt.toLineNumber)),D=!0;break}case 2:{const ot=it.dequeue(),[Jt,Ft,$t,Gt]=this._lines.onModelLineChanged(me,at.lineNumber,ot);X=Jt,Ft&&y.emitViewEvent(Ft),$t&&(y.emitViewEvent($t),this.viewLayout.onLinesInserted($t.fromLineNumber,$t.toLineNumber)),Gt&&(y.emitViewEvent(Gt),this.viewLayout.onLinesDeleted(Gt.fromLineNumber,Gt.toLineNumber));break}}me!==null&&this._lines.acceptVersionId(me),this.viewLayout.onHeightMaybeChanged(),!D&&X&&(y.emitViewEvent(new $o),y.emitViewEvent(new fr(null)),this._cursor.onLineMappingChanged(y),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const c=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&c){const y=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(y){const D=this.coordinatesConverter.convertModelPositionToViewPosition(y.getStartPosition()),X=this.viewLayout.getVerticalOffsetForLineNumber(D.lineNumber);this.viewLayout.setScrollPosition({scrollTop:X+this._viewportStart.startLineDelta},1)}}try{const y=this._eventDispatcher.beginEmitViewEvents();i instanceof _o.Ic&&y.emitOutgoingEvent(new Ta(i.contentChangedEvent)),this._cursor.onModelContentChanged(y,i)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens((i)=>{const c=[];for(let y=0,D=i.ranges.length;y<D;y++){const X=i.ranges[y],ce=this.coordinatesConverter.convertModelPositionToViewPosition(new Se.y(X.fromLineNumber,1)).lineNumber,me=this.coordinatesConverter.convertModelPositionToViewPosition(new Se.y(X.toLineNumber,this.model.getLineMaxColumn(X.toLineNumber))).lineNumber;c[y]={fromLineNumber:ce,toLineNumber:me}}this._eventDispatcher.emitSingleViewEvent(new oa(c)),this._eventDispatcher.emitOutgoingEvent(new al(i))})),this._register(this.model.onDidChangeLanguageConfiguration((i)=>{this._eventDispatcher.emitSingleViewEvent(new Wo),this.cursorConfig=new Pr.d$(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new io(i))})),this._register(this.model.onDidChangeLanguage((i)=>{this.cursorConfig=new Pr.d$(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new ka(i))})),this._register(this.model.onDidChangeOptions((i)=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const c=this._eventDispatcher.beginEmitViewEvents();c.emitViewEvent(new rs),c.emitViewEvent(new $o),c.emitViewEvent(new fr(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Pr.d$(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Rs(i))})),this._register(this.model.onDidChangeDecorations((i)=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new fr(i)),this._eventDispatcher.emitOutgoingEvent(new Ja(i))}))}setHiddenAreas(i,c){this.hiddenAreasModel.setHiddenAreas(c,i);const y=this.hiddenAreasModel.getMergedRanges();if(y===this.previousHiddenAreas)return;this.previousHiddenAreas=y;const D=this._captureStableViewport();let X=!1;try{const ce=this._eventDispatcher.beginEmitViewEvents();X=this._lines.setHiddenAreas(y),X&&(ce.emitViewEvent(new rs),ce.emitViewEvent(new $o),ce.emitViewEvent(new fr(null)),this._cursor.onLineMappingChanged(ce),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const me=D.viewportStartModelPosition?.lineNumber;me&&y.some((Ze)=>Ze.startLineNumber<=me&&me<=Ze.endLineNumber)||D.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),X&&this._eventDispatcher.emitOutgoingEvent(new uo)}getVisibleRangesPlusViewportAboveBelow(){const i=this._configuration.options.get(146),c=this._configuration.options.get(67),y=Math.max(20,Math.round(i.height/c)),D=this.viewLayout.getLinesViewportData(),X=Math.max(1,D.completelyVisibleStartLineNumber-y),ce=Math.min(this.getLineCount(),D.completelyVisibleEndLineNumber+y);return this._toModelVisibleRanges(new Pe.Q(X,this.getLineMinColumn(X),ce,this.getLineMaxColumn(ce)))}getVisibleRanges(){const i=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(i)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(i){const c=this.coordinatesConverter.convertViewRangeToModelRange(i),y=this._lines.getHiddenAreas();if(y.length===0)return[c];const D=[];let X=0,ce=c.startLineNumber,me=c.startColumn;const{endLineNumber:Ze,endColumn:qe}=c;for(let it=0,at=y.length;it<at;it++){const ot=y[it].startLineNumber,Jt=y[it].endLineNumber;Jt<ce||ot>Ze||(ce<ot&&(D[X++]=new Pe.Q(ce,me,ot-1,this.model.getLineMaxColumn(ot-1))),ce=Jt+1,me=1)}return(ce<Ze||ce===Ze&&me<qe)&&(D[X++]=new Pe.Q(ce,me,Ze,qe)),D}getCompletelyVisibleViewRange(){const i=this.viewLayout.getLinesViewportData(),c=i.completelyVisibleStartLineNumber,y=i.completelyVisibleEndLineNumber;return new Pe.Q(c,this.getLineMinColumn(c),y,this.getLineMaxColumn(y))}getCompletelyVisibleViewRangeAtScrollTop(i){const c=this.viewLayout.getLinesViewportDataAtScrollTop(i),y=c.completelyVisibleStartLineNumber,D=c.completelyVisibleEndLineNumber;return new Pe.Q(y,this.getLineMinColumn(y),D,this.getLineMaxColumn(D))}saveState(){const i=this.viewLayout.saveState(),c=i.scrollTop,y=this.viewLayout.getLineNumberAtVerticalOffset(c),D=this.coordinatesConverter.convertViewPositionToModelPosition(new Se.y(y,this.getLineMinColumn(y))),X=this.viewLayout.getVerticalOffsetForLineNumber(y)-c;return{scrollLeft:i.scrollLeft,firstPosition:D,firstPositionDeltaTop:X}}reduceRestoreState(i){if(i.firstPosition===void 0)return this._reduceRestoreStateCompatibility(i);const c=this.model.validatePosition(i.firstPosition),y=this.coordinatesConverter.convertModelPositionToViewPosition(c),D=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber)-i.firstPositionDeltaTop;return{scrollLeft:i.scrollLeft,scrollTop:D}}_reduceRestoreStateCompatibility(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(i,c,y){this._viewportStart.update(this,i)}getActiveIndentGuide(i,c,y){return this._lines.getActiveIndentGuide(i,c,y)}getLinesIndentGuides(i,c){return this._lines.getViewLinesIndentGuides(i,c)}getBracketGuidesInRangeByLine(i,c,y,D){return this._lines.getViewLinesBracketGuides(i,c,y,D)}getLineContent(i){return this._lines.getViewLineContent(i)}getLineLength(i){return this._lines.getViewLineLength(i)}getLineMinColumn(i){return this._lines.getViewLineMinColumn(i)}getLineMaxColumn(i){return this._lines.getViewLineMaxColumn(i)}getLineFirstNonWhitespaceColumn(i){const c=En.HG(this.getLineContent(i));return c===-1?0:c+1}getLineLastNonWhitespaceColumn(i){const c=En.lT(this.getLineContent(i));return c===-1?0:c+2}getMinimapDecorationsInRange(i){return this._decorations.getMinimapDecorationsInRange(i)}getDecorationsInViewport(i){return this._decorations.getDecorationsViewportData(i).decorations}getInjectedTextAt(i){return this._lines.getInjectedTextAt(i)}getViewportViewLineRenderingData(i,c){const y=this._decorations.getDecorationsViewportData(i).inlineDecorations[c-i.startLineNumber];return this._getViewLineRenderingData(c,y)}getViewLineRenderingData(i){const c=this._decorations.getInlineDecorationsOnLine(i);return this._getViewLineRenderingData(i,c)}_getViewLineRenderingData(i,c){const y=this.model.mightContainRTL(),D=this.model.mightContainNonBasicASCII(),X=this.getTabSize(),ce=this._lines.getViewLineData(i);return ce.inlineDecorations&&(c=[...c,...ce.inlineDecorations.map((me)=>me.toInlineDecoration(i))]),new Vt.qL(ce.minColumn,ce.maxColumn,ce.content,ce.continuesWithWrappedLine,y,D,ce.tokens,c,X,ce.startVisibleColumn)}getViewLineData(i){return this._lines.getViewLineData(i)}getMinimapLinesRenderingData(i,c,y){const D=this._lines.getViewLinesData(i,c,y);return new Vt.nt(this.getTabSize(),D)}getAllOverviewRulerDecorations(i){const c=this.model.getOverviewRulerDecorations(this._editorId,W.$C(this._configuration.options)),y=new Ma;for(let D of c){const X=D.options,ce=X.overviewRuler;if(!ce)continue;const me=ce.position;if(me===0)continue;const Ze=ce.getColor(i.value),qe=this.coordinatesConverter.getViewLineNumberOfModelPosition(D.range.startLineNumber,D.range.startColumn),it=this.coordinatesConverter.getViewLineNumberOfModelPosition(D.range.endLineNumber,D.range.endColumn);y.accept(Ze,X.zIndex,qe,it,me)}return y.asArray}_invalidateDecorationsColorCache(){const i=this.model.getOverviewRulerDecorations();for(let c of i)c.options.overviewRuler?.invalidateCachedColor(),c.options.minimap?.invalidateCachedColor()}getValueInRange(i,c){const y=this.coordinatesConverter.convertViewRangeToModelRange(i);return this.model.getValueInRange(y,c)}getValueLengthInRange(i,c){const y=this.coordinatesConverter.convertViewRangeToModelRange(i);return this.model.getValueLengthInRange(y,c)}modifyPosition(i,c){const y=this.coordinatesConverter.convertViewPositionToModelPosition(i),D=this.model.modifyPosition(y,c);return this.coordinatesConverter.convertModelPositionToViewPosition(D)}deduceModelPositionRelativeToViewPosition(i,c,y){const D=this.coordinatesConverter.convertViewPositionToModelPosition(i);this.model.getEOL().length===2&&(c<0?c-=y:c+=y);const X=this.model.getOffsetAt(D)+c;return this.model.getPositionAt(X)}getPlainTextToCopy(i,c,y){const D=y?"\r\n":this.model.getEOL();(i=i.slice(0)).sort(Pe.Q.compareRangesUsingStarts);let X=!1,ce=!1;for(let Ze of i)Ze.isEmpty()?X=!0:ce=!0;if(!ce){if(!c)return"";const Ze=i.map((it)=>it.startLineNumber);let qe="";for(let it=0;it<Ze.length;it++)it>0&&Ze[it-1]===Ze[it]||(qe+=this.model.getLineContent(Ze[it])+D);return qe}if(X&&c){const Ze=[];let qe=0;for(let it of i){const at=it.startLineNumber;it.isEmpty()?at!==qe&&Ze.push(this.model.getLineContent(at)):Ze.push(this.model.getValueInRange(it,y?2:0)),qe=at}return Ze.length===1?Ze[0]:Ze}const me=[];for(let Ze of i)Ze.isEmpty()||me.push(this.model.getValueInRange(Ze,y?2:0));return me.length===1?me[0]:me}getRichTextToCopy(i,c){const y=this.model.getLanguageId();if(y===gs.vH)return null;if(i.length!==1)return null;let D=i[0];if(D.isEmpty()){if(!c)return null;const Ze=D.startLineNumber;D=new Pe.Q(Ze,this.model.getLineMinColumn(Ze),Ze,this.model.getLineMaxColumn(Ze))}const X=this._configuration.options.get(50),ce=this._getColorMap();let me;return/[:;\\\/<>]/.test(X.fontFamily)||X.fontFamily===W.jU.fontFamily?me=W.jU.fontFamily:(me=X.fontFamily,me=me.replace(/"/g,"'"),/[,']/.test(me)||/[+ ]/.test(me)&&(me=`'${me}'`),me=`${me}, ${W.jU.fontFamily}`),{mode:y,html:`<div style="color: ${ce[1]};background-color: ${ce[2]};font-family: ${me};font-weight: ${X.fontWeight};font-size: ${X.fontSize}px;line-height: ${X.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(D,ce)+"</div>"}}_getHTMLToCopy(i,c){const{startLineNumber:y,startColumn:D,endLineNumber:X,endColumn:ce}=i,me=this.getTabSize();let Ze="";for(let qe=y;qe<=X;qe++){const it=this.model.tokenization.getLineTokens(qe),at=it.getLineContent(),ot=qe===y?D-1:0,Jt=qe===X?ce-1:at.length;Ze+=at===""?"<br>":Aa.s0(at,it.inflate(),c,ot,Jt,me,b.uF)}return Ze}_getColorMap(){const i=er.dG.getColorMap(),c=["#000000"];if(i)for(let y=1,D=i.length;y<D;y++)c[y]=Zi.Q1.Format.CSS.formatHex(i[y]);return c}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(i,c,y){return this._withViewEventsCollector((D)=>this._cursor.setStates(D,i,c,y))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(i){this._cursor.setCursorColumnSelectData(i)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(i){this._cursor.setPrevEditOperationType(i)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(i,c,y=0){this._withViewEventsCollector((D)=>this._cursor.setSelections(D,i,c,y))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(i){this._withViewEventsCollector((c)=>this._cursor.restoreState(c,i))}_executeCursorEdit(i){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new sl):this._withViewEventsCollector(i)}executeEdits(i,c,y){this._executeCursorEdit((D)=>this._cursor.executeEdits(D,i,c,y))}startComposition(){this._executeCursorEdit((i)=>this._cursor.startComposition(i))}endComposition(i){this._executeCursorEdit((c)=>this._cursor.endComposition(c,i))}type(i,c){this._executeCursorEdit((y)=>this._cursor.type(y,i,c))}compositionType(i,c,y,D,X){this._executeCursorEdit((ce)=>this._cursor.compositionType(ce,i,c,y,D,X))}paste(i,c,y,D){this._executeCursorEdit((X)=>this._cursor.paste(X,i,c,y,D))}cut(i){this._executeCursorEdit((c)=>this._cursor.cut(c,i))}executeCommand(i,c){this._executeCursorEdit((y)=>this._cursor.executeCommand(y,i,c))}executeCommands(i,c){this._executeCursorEdit((y)=>this._cursor.executeCommands(y,i,c))}revealAllCursors(i,c,y=!1){this._withViewEventsCollector((D)=>this._cursor.revealAll(D,i,y,0,c,0))}revealPrimaryCursor(i,c,y=!1){this._withViewEventsCollector((D)=>this._cursor.revealPrimary(D,i,y,0,c,0))}revealTopMostCursor(i){const c=this._cursor.getTopMostViewPosition(),y=new Pe.Q(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector((D)=>D.emitViewEvent(new As(i,!1,y,null,0,!0,0)))}revealBottomMostCursor(i){const c=this._cursor.getBottomMostViewPosition(),y=new Pe.Q(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector((D)=>D.emitViewEvent(new As(i,!1,y,null,0,!0,0)))}revealRange(i,c,y,D,X){this._withViewEventsCollector((ce)=>ce.emitViewEvent(new As(i,!1,y,null,D,c,X)))}changeWhitespace(i){this.viewLayout.changeWhitespace(i)&&(this._eventDispatcher.emitSingleViewEvent(new co),this._eventDispatcher.emitOutgoingEvent(new ms))}_withViewEventsCollector(i){return this._transactionalTarget.batchChanges(()=>{try{const c=this._eventDispatcher.beginEmitViewEvents();return i(c)}finally{this._eventDispatcher.endEmitViewEvents()}})}batchEvents(i){this._withViewEventsCollector(()=>{i()})}normalizePosition(i,c){return this._lines.normalizePosition(i,c)}getLineIndentColumn(i){return this._lines.getLineIndentColumn(i)}}class vs{static create(i){const c=i._setTrackedRange(null,new Pe.Q(1,1,1,1),1);return new vs(i,1,!1,c,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(i,c,y,D,X){this._model=i,this._viewLineNumber=c,this._isValid=y,this._modelTrackedRange=D,this._startLineDelta=X}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(i,c){const y=i.coordinatesConverter.convertViewPositionToModelPosition(new Se.y(c,i.getLineMinColumn(c))),D=i.model._setTrackedRange(this._modelTrackedRange,new Pe.Q(y.lineNumber,y.column,y.lineNumber,y.column),1),X=i.viewLayout.getVerticalOffsetForLineNumber(c),ce=i.viewLayout.getCurrentScrollTop();this._viewLineNumber=c,this._isValid=!0,this._modelTrackedRange=D,this._startLineDelta=ce-X}invalidate(){this._isValid=!1}}class Ma{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(i,c,y,D,X){const ce=this._asMap[i];if(ce){const me=ce.data,Ze=me[me.length-3],qe=me[me.length-1];if(Ze===X&&qe+1>=y)return void(D>qe&&(me[me.length-1]=D));me.push(X,y,D)}else{const me=new Vt.Uv(i,c,[X,y,D]);this._asMap[i]=me,this.asArray.push(me)}}}class ro{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(i,c){const y=this.hiddenAreas.get(i);y&&Zr(y,c)||(this.hiddenAreas.set(i,c),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const i=Array.from(this.hiddenAreas.values()).reduce((c,y)=>function(D,X){const ce=[];let me=0,Ze=0;for(;me<D.length&&Ze<X.length;){const qe=D[me],it=X[Ze];if(qe.endLineNumber<it.startLineNumber-1)ce.push(D[me++]);else if(it.endLineNumber<qe.startLineNumber-1)ce.push(X[Ze++]);else{const at=Math.min(qe.startLineNumber,it.startLineNumber),ot=Math.max(qe.endLineNumber,it.endLineNumber);ce.push(new Pe.Q(at,1,ot,1)),me++,Ze++}}for(;me<D.length;)ce.push(D[me++]);for(;Ze<X.length;)ce.push(X[Ze++]);return ce}(c,y),[]);return Zr(this.ranges,i)||(this.ranges=i),this.ranges}}function Zr(i,c){if(i.length!==c.length)return!1;for(let y=0;y<i.length;y++)if(!i[y].equalsRange(c[y]))return!1;return!0}class es{constructor(i,c){this.viewportStartModelPosition=i,this.startLineDelta=c}recoverViewportStart(i,c){if(!this.viewportStartModelPosition)return;const y=i.convertModelPositionToViewPosition(this.viewportStartModelPosition),D=c.getVerticalOffsetForLineNumber(y.lineNumber);c.setScrollPosition({scrollTop:D+this.startLineDelta},1)}}var Ps,hl=h(2096),Pa=h(1540),ts=h(657),pl=h(9879),ua=h(8067),Io=function(i,c){return function(y,D){c(y,D,i)}};let Fa=class extends C.jG{static{Ps=this}static{this.dropIntoEditorDecorationOptions=Fi.kI.register({description:"workbench-dnd-target",className:"dnd-target"})}get isSimpleWidget(){return this._configuration.isSimpleWidget}get contextMenuId(){return this._configuration.contextMenuId}constructor(i,c,y,D,X,ce,me,Ze,qe,it,at,ot){super(),this.languageConfigurationService=at,this._deliveryQueue=w.Qy(),this._contributions=this._register(new Xe),this._onDidDispose=this._register(new w.vl),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Hs({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Hs({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Nr(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new w.vl({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._updateCounter=0,this._onBeginUpdate=this._register(new w.vl),this.onBeginUpdate=this._onBeginUpdate.event,this._onEndUpdate=this._register(new w.vl),this.onEndUpdate=this._onEndUpdate.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),X.willCreateCodeEditor();const Jt={...c};let Ft;this._domElement=i,this._overflowWidgetsDomNode=Jt.overflowWidgetsDomNode,delete Jt.overflowWidgetsDomNode,this._id=++Bl,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=y.telemetryData,this._configuration=this._register(this._createConfiguration(y.isSimpleWidget||!1,y.contextMenuId??(y.isSimpleWidget?ua.D8.SimpleEditorContext:ua.D8.EditorContext),Jt,it)),this._register(this._configuration.onDidChange((Gt)=>{this._onDidChangeConfiguration.fire(Gt);const _n=this._configuration.options;if(Gt.hasChanged(146)){const Pn=_n.get(146);this._onDidLayoutChange.fire(Pn)}})),this._contextKeyService=this._register(me.createScoped(this._domElement)),this._notificationService=qe,this._codeEditorService=X,this._commandService=ce,this._themeService=Ze,this._register(new hi(this,this._contextKeyService)),this._register(new fl(this,this._contextKeyService,ot)),this._instantiationService=this._register(D.createChild(new ts.a([Pa.fN,this._contextKeyService]))),this._modelData=null,this._focusTracker=new ys(i,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={},Ft=Array.isArray(y.contributions)?y.contributions:I.dS.getEditorContributions(),this._contributions.initialize(this,Ft,this._instantiationService);for(let Gt of I.dS.getEditorActions()){if(this._actions.has(Gt.id)){E.dz(new Error(`Cannot have two actions with the same id ${Gt.id}`));continue}const _n=new Ut.f(Gt.id,Gt.label,Gt.alias,Gt.metadata,Gt.precondition??void 0,(Pn)=>this._instantiationService.invokeFunction((Zn)=>Promise.resolve(Gt.runEditorCommand(Zn,this,Pn))),this._contextKeyService);this._actions.set(_n.id,_n)}const $t=()=>!this._configuration.options.get(92)&&this._configuration.options.get(36).enabled;this._register(new v.pN(this._domElement,{onDragOver:(Gt)=>{if(!$t())return;const _n=this.getTargetAtClientPoint(Gt.clientX,Gt.clientY);_n?.position&&this.showDropIndicatorAt(_n.position)},onDrop:async(Gt)=>{if(!$t())return;if(this.removeDropIndicator(),!Gt.dataTransfer)return;const _n=this.getTargetAtClientPoint(Gt.clientX,Gt.clientY);_n?.position&&this._onDropIntoEditor.fire({position:_n.position,event:Gt})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(i){this._modelData?.view.writeScreenReaderContent(i)}_createConfiguration(i,c,y,D){return new ie(i,c,y,this._domElement,D)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return zn._.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(i){return this._instantiationService.invokeFunction(i)}updateOptions(i){this._configuration.updateOptions(i||{})}getOptions(){return this._configuration.options}getOption(i){return this._configuration.options.get(i)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(i){return this._modelData?Yt.z.getWordAtPosition(this._modelData.model,this._configuration.options.get(132),this._configuration.options.get(131),i):null}getValue(i=null){if(!this._modelData)return"";const c=!(!i||!i.preserveBOM);let y=0;return i&&i.lineEnding&&i.lineEnding==="\n"?y=1:i&&i.lineEnding&&i.lineEnding==="\r\n"&&(y=2),this._modelData.model.getValue(y,c)}setValue(i){try{if(this._beginUpdate(),!this._modelData)return;this._modelData.model.setValue(i)}finally{this._endUpdate()}}getModel(){return this._modelData?this._modelData.model:null}setModel(i=null){try{this._beginUpdate();const c=i;if(this._modelData===null&&c===null)return;if(this._modelData&&this._modelData.model===c)return;const y={oldModelUrl:this._modelData?.model.uri||null,newModelUrl:c?.uri||null};this._onWillChangeModel.fire(y);const D=this.hasTextFocus(),X=this._detachModel();this._attachModel(c),D&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(y),this._postDetachModelCleanup(X),this._contributionsDisposable=this._contributions.onAfterModelAttached()}finally{this._endUpdate()}}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let i in this._decorationTypeSubtypes){const c=this._decorationTypeSubtypes[i];for(let y in c)this._removeDecorationType(i+"-"+y)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(i,c,y,D){const X=i.model.validatePosition({lineNumber:c,column:y}),ce=i.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X);return i.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(ce.lineNumber,D)}getTopForLineNumber(i,c=!1){return this._modelData?Ps._getVerticalOffsetForPosition(this._modelData,i,1,c):-1}getTopForPosition(i,c){return this._modelData?Ps._getVerticalOffsetForPosition(this._modelData,i,c,!1):-1}static _getVerticalOffsetForPosition(i,c,y,D=!1){const X=i.model.validatePosition({lineNumber:c,column:y}),ce=i.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X);return i.viewModel.viewLayout.getVerticalOffsetForLineNumber(ce.lineNumber,D)}getBottomForLineNumber(i,c=!1){if(!this._modelData)return-1;const y=this._modelData.model.getLineMaxColumn(i);return Ps._getVerticalOffsetAfterPosition(this._modelData,i,y,c)}setHiddenAreas(i,c){this._modelData?.viewModel.setHiddenAreas(i.map((y)=>Pe.Q.lift(y)),c)}getVisibleColumnFromPosition(i){if(!this._modelData)return i.column;const c=this._modelData.model.validatePosition(i),y=this._modelData.model.getOptions().tabSize;return Le.A.visibleColumnFromColumn(this._modelData.model.getLineContent(c.lineNumber),c.column,y)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(i,c="api"){if(this._modelData){if(!Se.y.isIPosition(i))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,[{selectionStartLineNumber:i.lineNumber,selectionStartColumn:i.column,positionLineNumber:i.lineNumber,positionColumn:i.column}])}}_sendRevealRange(i,c,y,D){if(!this._modelData)return;if(!Pe.Q.isIRange(i))throw new Error("Invalid arguments");const X=this._modelData.model.validateRange(i),ce=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(X);this._modelData.viewModel.revealRange("api",y,ce,c,D)}revealLine(i,c=0){this._revealLine(i,0,c)}revealLineInCenter(i,c=0){this._revealLine(i,1,c)}revealLineInCenterIfOutsideViewport(i,c=0){this._revealLine(i,2,c)}revealLineNearTop(i,c=0){this._revealLine(i,5,c)}_revealLine(i,c,y){if(typeof i!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Pe.Q(i,1,i,1),c,!1,y)}revealPosition(i,c=0){this._revealPosition(i,0,!0,c)}revealPositionInCenter(i,c=0){this._revealPosition(i,1,!0,c)}revealPositionInCenterIfOutsideViewport(i,c=0){this._revealPosition(i,2,!0,c)}revealPositionNearTop(i,c=0){this._revealPosition(i,5,!0,c)}_revealPosition(i,c,y,D){if(!Se.y.isIPosition(i))throw new Error("Invalid arguments");this._sendRevealRange(new Pe.Q(i.lineNumber,i.column,i.lineNumber,i.column),c,y,D)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(i,c="api"){const y=jt.L.isISelection(i),D=Pe.Q.isIRange(i);if(!y&&!D)throw new Error("Invalid arguments");if(y)this._setSelectionImpl(i,c);else if(D){const X={selectionStartLineNumber:i.startLineNumber,selectionStartColumn:i.startColumn,positionLineNumber:i.endLineNumber,positionColumn:i.endColumn};this._setSelectionImpl(X,c)}}_setSelectionImpl(i,c){if(!this._modelData)return;const y=new jt.L(i.selectionStartLineNumber,i.selectionStartColumn,i.positionLineNumber,i.positionColumn);this._modelData.viewModel.setSelections(c,[y])}revealLines(i,c,y=0){this._revealLines(i,c,0,y)}revealLinesInCenter(i,c,y=0){this._revealLines(i,c,1,y)}revealLinesInCenterIfOutsideViewport(i,c,y=0){this._revealLines(i,c,2,y)}revealLinesNearTop(i,c,y=0){this._revealLines(i,c,5,y)}_revealLines(i,c,y,D){if(typeof i!="number"||typeof c!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Pe.Q(i,1,c,1),y,!1,D)}revealRange(i,c=0,y=!1,D=!0){this._revealRange(i,y?1:0,D,c)}revealRangeInCenter(i,c=0){this._revealRange(i,1,!0,c)}revealRangeInCenterIfOutsideViewport(i,c=0){this._revealRange(i,2,!0,c)}revealRangeNearTop(i,c=0){this._revealRange(i,5,!0,c)}revealRangeNearTopIfOutsideViewport(i,c=0){this._revealRange(i,6,!0,c)}revealRangeAtTop(i,c=0){this._revealRange(i,3,!0,c)}_revealRange(i,c,y,D){if(!Pe.Q.isIRange(i))throw new Error("Invalid arguments");this._sendRevealRange(Pe.Q.lift(i),c,y,D)}setSelections(i,c="api",y=0){if(this._modelData){if(!i||i.length===0)throw new Error("Invalid arguments");for(let D=0,X=i.length;D<X;D++)if(!jt.L.isISelection(i[D]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,i,y)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(i,c=1){if(this._modelData){if(typeof i!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:i},c)}}setScrollTop(i,c=1){if(this._modelData){if(typeof i!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:i},c)}}setScrollPosition(i,c=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(i,c)}hasPendingScrollAnimation(){return!!this._modelData&&this._modelData.viewModel.viewLayout.hasPendingScrollAnimation()}saveViewState(){if(!this._modelData)return null;const i=this._contributions.saveViewState();return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:i}}restoreViewState(i){if(!this._modelData||!this._modelData.hasRealView)return;const c=i;if(c&&c.cursorState&&c.viewState){const y=c.cursorState;Array.isArray(y)?y.length>0&&this._modelData.viewModel.restoreCursorState(y):this._modelData.viewModel.restoreCursorState([y]),this._contributions.restoreViewState(c.contributionsState||{});const D=this._modelData.viewModel.reduceRestoreState(c.viewState);this._modelData.view.restoreState(D)}}handleInitialized(){this._getViewModel()?.visibleLinesStabilized()}getContribution(i){return this._contributions.get(i)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let i=this.getActions();return i=i.filter((c)=>c.isSupported()),i}getAction(i){return this._actions.get(i)||null}trigger(i,c,y){y=y||{};try{switch(this._beginUpdate(),c){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(i);case"type":{const X=y;return void this._type(i,X.text||"")}case"replacePreviousChar":{const X=y;return void this._compositionType(i,X.text||"",X.replaceCharCnt||0,0,0)}case"compositionType":{const X=y;return void this._compositionType(i,X.text||"",X.replacePrevCharCnt||0,X.replaceNextCharCnt||0,X.positionDelta||0)}case"paste":{const X=y;return void this._paste(i,X.text||"",X.pasteOnNewLine||!1,X.multicursorText||null,X.mode||null,X.clipboardEvent)}case"cut":return void this._cut(i)}const D=this.getAction(c);if(D)return void Promise.resolve(D.run(y)).then(void 0,E.dz);if(!this._modelData)return;if(this._triggerEditorCommand(i,c,y))return;this._triggerCommand(c,y)}finally{this._endUpdate()}}_triggerCommand(i,c){this._commandService.executeCommand(i,c)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(i){this._modelData&&(this._modelData.viewModel.endComposition(i),this._onDidCompositionEnd.fire())}_type(i,c){this._modelData&&c.length!==0&&(i==="keyboard"&&this._onWillType.fire(c),this._modelData.viewModel.type(c,i),i==="keyboard"&&this._onDidType.fire(c))}_compositionType(i,c,y,D,X){this._modelData&&this._modelData.viewModel.compositionType(c,y,D,X,i)}_paste(i,c,y,D,X,ce){if(!this._modelData)return;const me=this._modelData.viewModel,Ze=me.getSelection().getStartPosition();me.paste(c,y,D,i);const qe=me.getSelection().getStartPosition();i==="keyboard"&&this._onDidPaste.fire({clipboardEvent:ce,range:new Pe.Q(Ze.lineNumber,Ze.column,qe.lineNumber,qe.column),languageId:X})}_cut(i){this._modelData&&this._modelData.viewModel.cut(i)}_triggerEditorCommand(i,c,y){const D=I.dS.getEditorCommand(c);return!!D&&((y=y||{}).source=i,this._instantiationService.invokeFunction((X)=>{Promise.resolve(D.runEditorCommand(X,this,y)).then(void 0,E.dz)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&!this._configuration.options.get(92)&&(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!!this._modelData&&!this._configuration.options.get(92)&&(this._modelData.model.popStackElement(),!0)}executeEdits(i,c,y){if(!this._modelData)return!1;if(this._configuration.options.get(92))return!1;let D;return D=y?Array.isArray(y)?()=>y:y:()=>null,this._modelData.viewModel.executeEdits(i,c,D),!0}executeCommand(i,c){this._modelData&&this._modelData.viewModel.executeCommand(c,i)}executeCommands(i,c){this._modelData&&this._modelData.viewModel.executeCommands(c,i)}createDecorationsCollection(i){return new Zo(this,i)}changeDecorations(i){return this._modelData?this._modelData.model.changeDecorations(i,this._id):null}getLineDecorations(i){return this._modelData?this._modelData.model.getLineDecorations(i,this._id,W.$C(this._configuration.options)):null}getDecorationsInRange(i){return this._modelData?this._modelData.model.getDecorationsInRange(i,this._id,W.$C(this._configuration.options)):null}deltaDecorations(i,c){return this._modelData?i.length===0&&c.length===0?i:this._modelData.model.deltaDecorations(i,c,this._id):[]}removeDecorations(i){this._modelData&&i.length!==0&&this._modelData.model.changeDecorations((c)=>{c.deltaDecorations(i,[])})}removeDecorationsByType(i){const c=this._decorationTypeKeysToIds[i];c&&this.changeDecorations((y)=>y.deltaDecorations(c,[])),this._decorationTypeKeysToIds.hasOwnProperty(i)&&delete this._decorationTypeKeysToIds[i],this._decorationTypeSubtypes.hasOwnProperty(i)&&delete this._decorationTypeSubtypes[i]}getLayoutInfo(){return this._configuration.options.get(146)}createOverviewRuler(i){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(i):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarPointerDown(i){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarPointerDown(i)}delegateScrollFromMouseWheelEvent(i){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateScrollFromMouseWheelEvent(i)}layout(i,c=!1){this._configuration.observeContainer(i),c||this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(i){const c={widget:i,position:i.getPosition()};this._contentWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting a content widget with the same id:"+i.getId()),this._contentWidgets[i.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(c)}layoutContentWidget(i){const c=i.getId();if(this._contentWidgets.hasOwnProperty(c)){const y=this._contentWidgets[c];y.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(y)}}removeContentWidget(i){const c=i.getId();if(this._contentWidgets.hasOwnProperty(c)){const y=this._contentWidgets[c];delete this._contentWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(y)}}addOverlayWidget(i){const c={widget:i,position:i.getPosition()};this._overlayWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[i.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(c)}layoutOverlayWidget(i){const c=i.getId();if(this._overlayWidgets.hasOwnProperty(c)){const y=this._overlayWidgets[c];y.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(y)}}removeOverlayWidget(i){const c=i.getId();if(this._overlayWidgets.hasOwnProperty(c)){const y=this._overlayWidgets[c];delete this._overlayWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(y)}}addGlyphMarginWidget(i){const c={widget:i,position:i.getPosition()};this._glyphMarginWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[i.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(c)}layoutGlyphMarginWidget(i){const c=i.getId();if(this._glyphMarginWidgets.hasOwnProperty(c)){const y=this._glyphMarginWidgets[c];y.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(y)}}removeGlyphMarginWidget(i){const c=i.getId();if(this._glyphMarginWidgets.hasOwnProperty(c)){const y=this._glyphMarginWidgets[c];delete this._glyphMarginWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(y)}}changeViewZones(i){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(i)}getTargetAtClientPoint(i,c){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(i,c):null}getScrolledVisiblePosition(i){if(!this._modelData||!this._modelData.hasRealView)return null;const c=this._modelData.model.validatePosition(i),y=this._configuration.options,D=y.get(146);return{top:Ps._getVerticalOffsetForPosition(this._modelData,c.lineNumber,c.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(c.lineNumber,c.column)+D.glyphMarginWidth+D.lineNumbersWidth+D.decorationsWidth-this.getScrollLeft(),height:y.get(67)}}getOffsetForColumn(i,c){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(i,c):-1}render(i=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.viewModel.batchEvents(()=>{this._modelData.view.render(!0,i)})}setAriaOptions(i){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(i)}applyFontInfo(i){f.M(i,this._configuration.options.get(50))}setBanner(i,c){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._bannerDomNode.remove(),this._bannerDomNode=i,this._configuration.setReservedHeight(i?c:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(i){if(!i)return void(this._modelData=null);const c=[];this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._configuration.setIsDominatedByLongLines(i.isDominatedByLongLines()),this._configuration.setModelLineCount(i.getLineCount());const y=i.onBeforeAttached(),D=new bs(this._id,this._configuration,i,fs.create(v.zk(this._domElement)),xr.create(this._configuration.options),(me)=>v.PG(v.zk(this._domElement),me),this.languageConfigurationService,this._themeService,y,{batchChanges:(me)=>{try{return this._beginUpdate(),me()}finally{this._endUpdate()}}});c.push(i.onWillDispose(()=>this.setModel(null))),c.push(D.onEvent((me)=>{switch(me.kind){case 0:this._onDidContentSizeChange.fire(me);break;case 1:this._editorTextFocus.setValue(me.hasFocus);break;case 2:this._onDidScrollChange.fire(me);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(me.reachedMaxCursorCount){const at=this.getOption(80),ot=Oi.kg("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",at);this._notificationService.prompt(pl.AI.Warning,ot,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:Oi.kg("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const Ze=[];for(let at=0,ot=me.selections.length;at<ot;at++)Ze[at]=me.selections[at].getPosition();const qe={position:Ze[0],secondaryPositions:Ze.slice(1),reason:me.reason,source:me.source};this._onDidChangeCursorPosition.fire(qe);const it={selection:me.selections[0],secondarySelections:me.selections.slice(1),modelVersionId:me.modelVersionId,oldSelections:me.oldSelections,oldModelVersionId:me.oldModelVersionId,source:me.source,reason:me.reason};this._onDidChangeCursorSelection.fire(it);break}case 7:this._onDidChangeModelDecorations.fire(me.event);break;case 8:this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._onDidChangeModelLanguage.fire(me.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(me.event);break;case 10:this._onDidChangeModelContent.fire(me.event);break;case 11:this._onDidChangeModelOptions.fire(me.event);break;case 12:this._onDidChangeModelTokens.fire(me.event)}}));const[X,ce]=this._createView(D);if(ce){this._domElement.appendChild(X.domNode.domNode);let me=Object.keys(this._contentWidgets);for(let Ze=0,qe=me.length;Ze<qe;Ze++){const it=me[Ze];X.addContentWidget(this._contentWidgets[it])}me=Object.keys(this._overlayWidgets);for(let Ze=0,qe=me.length;Ze<qe;Ze++){const it=me[Ze];X.addOverlayWidget(this._overlayWidgets[it])}me=Object.keys(this._glyphMarginWidgets);for(let Ze=0,qe=me.length;Ze<qe;Ze++){const it=me[Ze];X.addGlyphMarginWidget(this._glyphMarginWidgets[it])}X.render(!1,!0),X.domNode.domNode.setAttribute("data-uri",i.uri.toString())}this._modelData=new Eo(i,D,X,ce,c,y)}_createView(i){let c;c=this.isSimpleWidget?{paste:(D,X,ce,me)=>{this._paste("keyboard",D,X,ce,me)},type:(D)=>{this._type("keyboard",D)},compositionType:(D,X,ce,me)=>{this._compositionType("keyboard",D,X,ce,me)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(D,X,ce,me)=>{const Ze={text:D,pasteOnNewLine:X,multicursorText:ce,mode:me};this._commandService.executeCommand("paste",Ze)},type:(D)=>{const X={text:D};this._commandService.executeCommand("type",X)},compositionType:(D,X,ce,me)=>{if(ce||me){const Ze={text:D,replacePrevCharCnt:X,replaceNextCharCnt:ce,positionDelta:me};this._commandService.executeCommand("compositionType",Ze)}else{const Ze={text:D,replaceCharCnt:X};this._commandService.executeCommand("replacePreviousChar",Ze)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const y=new or(i.coordinatesConverter);return y.onKeyDown=(D)=>this._onKeyDown.fire(D),y.onKeyUp=(D)=>this._onKeyUp.fire(D),y.onContextMenu=(D)=>this._onContextMenu.fire(D),y.onMouseMove=(D)=>this._onMouseMove.fire(D),y.onMouseLeave=(D)=>this._onMouseLeave.fire(D),y.onMouseDown=(D)=>this._onMouseDown.fire(D),y.onMouseUp=(D)=>this._onMouseUp.fire(D),y.onMouseDrag=(D)=>this._onMouseDrag.fire(D),y.onMouseDrop=(D)=>this._onMouseDrop.fire(D),y.onMouseDropCanceled=(D)=>this._onMouseDropCanceled.fire(D),y.onMouseWheel=(D)=>this._onMouseWheel.fire(D),[new ui(c,this._configuration,this._themeService.getColorTheme(),i,y,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(i){i?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(this._contributionsDisposable?.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const i=this._modelData.model,c=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),c&&this._domElement.contains(c)&&c.remove(),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._bannerDomNode.remove(),i}_removeDecorationType(i){this._codeEditorService.removeDecorationType(i)}hasModel(){return this._modelData!==null}showDropIndicatorAt(i){const c=[{range:new Pe.Q(i.lineNumber,i.column,i.lineNumber,i.column),options:Ps.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(c),this.revealPosition(i,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(i,c){this._contextKeyService.createKey(i,c)}_beginUpdate(){this._updateCounter++,this._updateCounter===1&&this._onBeginUpdate.fire()}_endUpdate(){this._updateCounter--,this._updateCounter===0&&this._onEndUpdate.fire()}};Fa=Ps=function(i,c,y,D){var X,ce=arguments.length,me=ce<3?c:D===null?D=Object.getOwnPropertyDescriptor(c,y):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(i,c,y,D);else for(var Ze=i.length-1;Ze>=0;Ze--)(X=i[Ze])&&(me=(ce<3?X(me):ce>3?X(c,y,me):X(c,y))||me);return ce>3&&me&&Object.defineProperty(c,y,me),me}([Io(3,yi._Y),Io(4,ve.T),Io(5,hl.d),Io(6,Pa.fN),Io(7,ti.Gy),Io(8,pl.Ot),Io(9,$.j),Io(10,ei.JZ),Io(11,Ar.ILanguageFeaturesService)],Fa);let Bl=0;class Eo{constructor(i,c,y,D,X,ce){this.model=i,this.viewModel=c,this.view=y,this.hasRealView=D,this.listenersToRemove=X,this.attachedView=ce}dispose(){C.AS(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}class Hs extends C.jG{constructor(i){super(),this._emitterOptions=i,this._onDidChangeToTrue=this._register(new w.vl(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new w.vl(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(i){const c=i?2:1;this._value!==c&&(this._value=c,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class Nr extends w.vl{constructor(i,c){super({deliveryQueue:c}),this._contributions=i}fire(i){this._contributions.onBeforeInteractionEvent(),super.fire(i)}}class hi extends C.jG{constructor(i,c){super(),this._editor=i,c.createKey("editorId",i.getId()),this._editorSimpleInput=Wn.R.editorSimpleInput.bindTo(c),this._editorFocus=Wn.R.focus.bindTo(c),this._textInputFocus=Wn.R.textInputFocus.bindTo(c),this._editorTextFocus=Wn.R.editorTextFocus.bindTo(c),this._tabMovesFocus=Wn.R.tabMovesFocus.bindTo(c),this._editorReadonly=Wn.R.readOnly.bindTo(c),this._inDiffEditor=Wn.R.inDiffEditor.bindTo(c),this._editorColumnSelection=Wn.R.columnSelection.bindTo(c),this._hasMultipleSelections=Wn.R.hasMultipleSelections.bindTo(c),this._hasNonEmptySelection=Wn.R.hasNonEmptySelection.bindTo(c),this._canUndo=Wn.R.canUndo.bindTo(c),this._canRedo=Wn.R.canRedo.bindTo(c),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(L.M.onDidChangeTabFocus((y)=>this._tabMovesFocus.set(y))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const i=this._editor.getOptions();this._tabMovesFocus.set(L.M.getTabFocusMode()),this._editorReadonly.set(i.get(92)),this._inDiffEditor.set(i.get(61)),this._editorColumnSelection.set(i.get(22))}_updateFromSelection(){const i=this._editor.getSelections();i?(this._hasMultipleSelections.set(i.length>1),this._hasNonEmptySelection.set(i.some((c)=>!c.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const i=this._editor.getModel();this._canUndo.set(Boolean(i&&i.canUndo())),this._canRedo.set(Boolean(i&&i.canRedo()))}}class fl extends C.jG{constructor(i,c,y){super(),this._editor=i,this._contextKeyService=c,this._languageFeaturesService=y,this._langId=Wn.R.languageId.bindTo(c),this._hasCompletionItemProvider=Wn.R.hasCompletionItemProvider.bindTo(c),this._hasCodeActionsProvider=Wn.R.hasCodeActionsProvider.bindTo(c),this._hasCodeLensProvider=Wn.R.hasCodeLensProvider.bindTo(c),this._hasDefinitionProvider=Wn.R.hasDefinitionProvider.bindTo(c),this._hasDeclarationProvider=Wn.R.hasDeclarationProvider.bindTo(c),this._hasImplementationProvider=Wn.R.hasImplementationProvider.bindTo(c),this._hasTypeDefinitionProvider=Wn.R.hasTypeDefinitionProvider.bindTo(c),this._hasHoverProvider=Wn.R.hasHoverProvider.bindTo(c),this._hasDocumentHighlightProvider=Wn.R.hasDocumentHighlightProvider.bindTo(c),this._hasDocumentSymbolProvider=Wn.R.hasDocumentSymbolProvider.bindTo(c),this._hasReferenceProvider=Wn.R.hasReferenceProvider.bindTo(c),this._hasRenameProvider=Wn.R.hasRenameProvider.bindTo(c),this._hasSignatureHelpProvider=Wn.R.hasSignatureHelpProvider.bindTo(c),this._hasInlayHintsProvider=Wn.R.hasInlayHintsProvider.bindTo(c),this._hasDocumentFormattingProvider=Wn.R.hasDocumentFormattingProvider.bindTo(c),this._hasDocumentSelectionFormattingProvider=Wn.R.hasDocumentSelectionFormattingProvider.bindTo(c),this._hasMultipleDocumentFormattingProvider=Wn.R.hasMultipleDocumentFormattingProvider.bindTo(c),this._hasMultipleDocumentSelectionFormattingProvider=Wn.R.hasMultipleDocumentSelectionFormattingProvider.bindTo(c),this._isInEmbeddedEditor=Wn.R.isInEmbeddedEditor.bindTo(c);const D=()=>this._update();this._register(i.onDidChangeModel(D)),this._register(i.onDidChangeModelLanguage(D)),this._register(y.completionProvider.onDidChange(D)),this._register(y.codeActionProvider.onDidChange(D)),this._register(y.codeLensProvider.onDidChange(D)),this._register(y.definitionProvider.onDidChange(D)),this._register(y.declarationProvider.onDidChange(D)),this._register(y.implementationProvider.onDidChange(D)),this._register(y.typeDefinitionProvider.onDidChange(D)),this._register(y.hoverProvider.onDidChange(D)),this._register(y.documentHighlightProvider.onDidChange(D)),this._register(y.documentSymbolProvider.onDidChange(D)),this._register(y.referenceProvider.onDidChange(D)),this._register(y.renameProvider.onDidChange(D)),this._register(y.documentFormattingEditProvider.onDidChange(D)),this._register(y.documentRangeFormattingEditProvider.onDidChange(D)),this._register(y.signatureHelpProvider.onDidChange(D)),this._register(y.inlayHintsProvider.onDidChange(D)),D()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const i=this._editor.getModel();i?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(i.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(i)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(i)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(i)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(i)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(i)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(i)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(i)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(i)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(i)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(i)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(i)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(i)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(i)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(i)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(i)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(i).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._isInEmbeddedEditor.set(i.uri.scheme===d.ny.walkThroughSnippet||i.uri.scheme===d.ny.vscodeChatCodeBlock)}):this.reset()}}class ys extends C.jG{constructor(i,c){super(),this._onChange=this._register(new w.vl),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(v.w5(i)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),c&&(this._overflowWidgetsDomNode=this._register(v.w5(c)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const i=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==i&&(this._hadFocus=i,this._onChange.fire(void 0))}hasFocus(){return this._hadFocus??!1}}class Zo{get length(){return this._decorationIds.length}constructor(i,c){this._editor=i,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(c)&&c.length>0&&this.set(c)}onDidChange(i,c,y){return this._editor.onDidChangeModelDecorations((D)=>{this._isChangingDecorations||i.call(c,D)},y)}getRange(i){return this._editor.hasModel()?i>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[i]):null}getRanges(){if(!this._editor.hasModel())return[];const i=this._editor.getModel(),c=[];for(let y of this._decorationIds){const D=i.getDecorationRange(y);D&&c.push(D)}return c}has(i){return this._decorationIds.includes(i.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(i){try{this._isChangingDecorations=!0,this._editor.changeDecorations((c)=>{this._decorationIds=c.deltaDecorations(this._decorationIds,i)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(i){let c=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations((y)=>{c=y.deltaDecorations([],i),this._decorationIds=this._decorationIds.concat(c)})}finally{this._isChangingDecorations=!1}return c}}const Oa=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Qa=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Uo(i){return Oa+encodeURIComponent(i.toString())+Qa}const ml=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Vl=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');ti.zy((i,c)=>{const y=i.getColor(Cn.Rbi);y&&c.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Uo(y)}") repeat-x bottom left; }`);const D=i.getColor(Cn.Hng);D&&c.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Uo(D)}") repeat-x bottom left; }`);const X=i.getColor(Cn.pOz);X&&c.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Uo(X)}") repeat-x bottom left; }`);const ce=i.getColor(Cn.i61);ce&&c.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function(Ze){return ml+encodeURIComponent(Ze.toString())+Vl}(ce)}") no-repeat bottom left; }`);const me=i.getColor(Ln.yw);me&&c.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${me.rgba.a}; }`)})},2603:(dt,pe,h)=>{h.d(pe,{T:()=>Jn});var s=h(4333),I=h(7393),T=h(4327),J=h(2106),M=h(998),v=h(6311),E=h(8366),w=h(946),C=h(7301),d=h(878),f=h(9783),p=h(3021),_=h(7439),m=h(8354),b=h(7969),x=h(3338),k=h(5915),R=h(8881),P=h(5837),z=h(2744),te=h(6476),L=h(9955),W=h(2532),B=h(5365),U=h(8061),$=h(9331),G=h(7922),ie=h(7445),ee=h(9723),ne=h(1608),H=h(9746),V=h(1285),Y=h(2399),ve=h(1210),Te=function($e,tt,gt,bt){var ke,qt=arguments.length,Ot=qt<3?tt:bt===null?bt=Object.getOwnPropertyDescriptor(tt,gt):bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ot=Reflect.decorate($e,tt,gt,bt);else for(var Vt=$e.length-1;Vt>=0;Vt--)(ke=$e[Vt])&&(Ot=(qt<3?ke(Ot):qt>3?ke(tt,gt,Ot):ke(tt,gt))||Ot);return qt>3&&Ot&&Object.defineProperty(tt,gt,Ot),Ot},xe=function($e,tt){return function(gt,bt){tt(gt,bt,$e)}};const Be=ve.pU("diff-review-insert",k.W.add,H.kg("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),Ie=ve.pU("diff-review-remove",k.W.remove,H.kg("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),he=ve.pU("diff-review-close",k.W.close,H.kg("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));let Q=class extends M.jG{static{this._ttPolicy=p.H("diffReview",{createHTML:($e)=>$e})}constructor($e,tt,gt,bt,ke,qt,Ot,Vt,Cn){super(),this._parentNode=$e,this._visible=tt,this._setVisible=gt,this._canClose=bt,this._width=ke,this._height=qt,this._diffs=Ot,this._models=Vt,this._instantiationService=Cn,this._state=v.rm(this,(dn,St)=>{const Lt=this._visible.read(dn);if(this._parentNode.style.visibility=Lt?"visible":"hidden",!Lt)return null;const on=St.add(this._instantiationService.createInstance(re,this._diffs,this._models,this._setVisible,this._canClose));return{model:on,view:St.add(this._instantiationService.createInstance(We,this._parentNode,on,this._width,this._height,this._models))}}).recomputeInitiallyAndOnChange(this._store)}next(){v.Rn(($e)=>{const tt=this._visible.get();this._setVisible(!0,$e),tt&&this._state.get().model.nextGroup($e)})}prev(){v.Rn(($e)=>{this._setVisible(!0,$e),this._state.get().model.previousGroup($e)})}close(){v.Rn(($e)=>{this._setVisible(!1,$e)})}};Q=Te([xe(8,Y._Y)],Q);let re=class extends M.jG{constructor($e,tt,gt,bt,ke){super(),this._diffs=$e,this._models=tt,this._setVisible=gt,this.canClose=bt,this._accessibilitySignalService=ke,this._groups=v.FY(this,[]),this._currentGroupIdx=v.FY(this,0),this._currentElementIdx=v.FY(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((qt,Ot)=>this._groups.read(Ot)[qt]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((qt,Ot)=>this.currentGroup.read(Ot)?.lines[qt]),this._register(v.fm((qt)=>{const Ot=this._diffs.read(qt);if(!Ot)return void this._groups.set([],void 0);const Vt=function(Cn,dn,St){const Lt=[];for(let on of x.n(Cn,(ln,Dn)=>Dn.modified.startLineNumber-ln.modified.endLineNumberExclusive<2*Je)){const ln=[];ln.push(new Le);const Dn=new L.M(Math.max(1,on[0].original.startLineNumber-Je),Math.min(on[on.length-1].original.endLineNumberExclusive+Je,dn+1)),vn=new L.M(Math.max(1,on[0].modified.startLineNumber-Je),Math.min(on[on.length-1].modified.endLineNumberExclusive+Je,St+1));x.pN(on,(Fn,fn)=>{const Qn=new L.M(Fn?Fn.original.endLineNumberExclusive:Dn.startLineNumber,fn?fn.original.startLineNumber:Dn.endLineNumberExclusive),N=new L.M(Fn?Fn.modified.endLineNumberExclusive:vn.startLineNumber,fn?fn.modified.startLineNumber:vn.endLineNumberExclusive);Qn.forEach((Z)=>{ln.push(new ge(Z,N.startLineNumber+(Z-Qn.startLineNumber)))}),fn&&(fn.original.forEach((Z)=>{ln.push(new Ve(fn,Z))}),fn.modified.forEach((Z)=>{ln.push(new g(fn,Z))}))});const $n=on[0].modified.join(on[on.length-1].modified),Un=on[0].original.join(on[on.length-1].original);Lt.push(new Pe(new $.WL($n,Un),ln))}return Lt}(Ot,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());v.Rn((Cn)=>{const dn=this._models.getModifiedPosition();if(dn){const St=Vt.findIndex((Lt)=>dn?.lineNumber<Lt.range.modified.endLineNumberExclusive);St!==-1&&this._currentGroupIdx.set(St,Cn)}this._groups.set(Vt,Cn)})})),this._register(v.fm((qt)=>{const Ot=this.currentElement.read(qt);Ot?.type===Se.Deleted?this._accessibilitySignalService.playSignal(V.Rh.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):Ot?.type===Se.Added&&this._accessibilitySignalService.playSignal(V.Rh.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register(v.fm((qt)=>{const Ot=this.currentElement.read(qt);if(Ot&&Ot.type!==Se.Header){const Vt=Ot.modifiedLineNumber??Ot.diff.modified.startLineNumber;this._models.modifiedSetSelection(U.Q.fromPositions(new B.y(Vt,1)))}}))}_goToGroupDelta($e,tt){const gt=this.groups.get();!gt||gt.length<=1||v.PO(tt,(bt)=>{this._currentGroupIdx.set(W.L.ofLength(gt.length).clipCyclic(this._currentGroupIdx.get()+$e),bt),this._currentElementIdx.set(0,bt)})}nextGroup($e){this._goToGroupDelta(1,$e)}previousGroup($e){this._goToGroupDelta(-1,$e)}_goToLineDelta($e){const tt=this.currentGroup.get();!tt||tt.lines.length<=1||v.Rn((gt)=>{this._currentElementIdx.set(W.L.ofLength(tt.lines.length).clip(this._currentElementIdx.get()+$e),gt)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine($e){const tt=this.currentGroup.get();if(!tt)return;const gt=tt.lines.indexOf($e);gt!==-1&&v.Rn((bt)=>{this._currentElementIdx.set(gt,bt)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const $e=this.currentElement.get();$e&&($e.type===Se.Deleted?this._models.originalReveal(U.Q.fromPositions(new B.y($e.originalLineNumber,1))):this._models.modifiedReveal($e.type!==Se.Header?U.Q.fromPositions(new B.y($e.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};re=Te([xe(4,V.Nt)],re);const Je=3;var Se;(function($e){$e[$e.Header=0]="Header",$e[$e.Unchanged=1]="Unchanged",$e[$e.Deleted=2]="Deleted",$e[$e.Added=3]="Added"})(Se||(Se={}));class Pe{constructor($e,tt){this.range=$e,this.lines=tt}}class Le{constructor(){this.type=Se.Header}}class Ve{constructor($e,tt){this.diff=$e,this.originalLineNumber=tt,this.type=Se.Deleted,this.modifiedLineNumber=void 0}}class g{constructor($e,tt){this.diff=$e,this.modifiedLineNumber=tt,this.type=Se.Added,this.originalLineNumber=void 0}}class ge{constructor($e,tt){this.originalLineNumber=$e,this.modifiedLineNumber=tt,this.type=Se.Unchanged}}let We=class extends M.jG{constructor($e,tt,gt,bt,ke,qt){super(),this._element=$e,this._model=tt,this._width=gt,this._height=bt,this._models=ke,this._languageService=qt,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const Ot=document.createElement("div");Ot.className="diff-review-actions",this._actionBar=this._register(new _.E(Ot)),this._register(v.fm((Vt)=>{this._actionBar.clear(),this._model.canClose.read(Vt)&&this._actionBar.push(new b.rc("diffreview.close",H.kg("label.close","Close"),"close-diff-review "+R.L.asClassName(he),!0,async()=>tt.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new m.MU(this._content,{})),s.Ln(this.domNode,this._scrollbar.getDomNode(),Ot),this._register(v.fm((Vt)=>{this._height.read(Vt),this._width.read(Vt),this._scrollbar.scanDomNode()})),this._register(M.s(()=>{s.Ln(this.domNode)})),this._register(z.AV(this.domNode,{width:this._width,height:this._height})),this._register(z.AV(this._content,{width:this._width,height:this._height})),this._register(v.yC((Vt,Cn)=>{this._model.currentGroup.read(Vt),this._render(Cn)})),this._register(s.b2(this.domNode,"keydown",(Vt)=>{(Vt.equals(18)||Vt.equals(2066)||Vt.equals(530))&&(Vt.preventDefault(),this._model.goToNextLine()),(Vt.equals(16)||Vt.equals(2064)||Vt.equals(528))&&(Vt.preventDefault(),this._model.goToPreviousLine()),(Vt.equals(9)||Vt.equals(2057)||Vt.equals(521)||Vt.equals(1033))&&(Vt.preventDefault(),this._model.close()),(Vt.equals(10)||Vt.equals(3))&&(Vt.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render($e){const tt=this._models.getOriginalOptions(),gt=this._models.getModifiedOptions(),bt=document.createElement("div");bt.className="diff-review-table",bt.setAttribute("role","list"),bt.setAttribute("aria-label",H.kg("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),P.M(bt,gt.get(50)),s.Ln(this._content,bt);const ke=this._models.getOriginalModel(),qt=this._models.getModifiedModel();if(!ke||!qt)return;const Ot=ke.getOptions(),Vt=qt.getOptions(),Cn=gt.get(67),dn=this._model.currentGroup.get();for(let St of dn?.lines||[]){if(!dn)break;let Lt;if(St.type===Se.Header){const ln=document.createElement("div");ln.className="diff-review-row",ln.setAttribute("role","listitem");const Dn=dn.range,vn=this._model.currentGroupIndex.get(),$n=this._model.groups.get().length,Un=(N)=>N===0?H.kg("no_lines_changed","no lines changed"):N===1?H.kg("one_line_changed","1 line changed"):H.kg("more_lines_changed","{0} lines changed",N),Fn=Un(Dn.original.length),fn=Un(Dn.modified.length);ln.setAttribute("aria-label",H.kg({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",vn+1,$n,Dn.original.startLineNumber,Fn,Dn.modified.startLineNumber,fn));const Qn=document.createElement("div");Qn.className="diff-review-cell diff-review-summary",Qn.appendChild(document.createTextNode(`${vn+1}/${$n}: @@ -${Dn.original.startLineNumber},${Dn.original.length} +${Dn.modified.startLineNumber},${Dn.modified.length} @@`)),ln.appendChild(Qn),Lt=ln}else Lt=this._createRow(St,Cn,this._width.get(),tt,ke,Ot,gt,qt,Vt);bt.appendChild(Lt);const on=v.un((ln)=>this._model.currentElement.read(ln)===St);$e.add(v.fm((ln)=>{const Dn=on.read(ln);Lt.tabIndex=Dn?0:-1,Dn&&Lt.focus()})),$e.add(s.ko(Lt,"focus",()=>{this._model.goToLine(St)}))}this._scrollbar.scanDomNode()}_createRow($e,tt,gt,bt,ke,qt,Ot,Vt,Cn){const dn=bt.get(146),St=dn.glyphMarginWidth+dn.lineNumbersWidth,Lt=Ot.get(146),on=10+Lt.glyphMarginWidth+Lt.lineNumbersWidth;let ln="diff-review-row",Dn="",vn=null;switch($e.type){case Se.Added:ln="diff-review-row line-insert",Dn=" char-insert",vn=Be;break;case Se.Deleted:ln="diff-review-row line-delete",Dn=" char-delete",vn=Ie}const $n=document.createElement("div");$n.style.minWidth=gt+"px",$n.className=ln,$n.setAttribute("role","listitem"),$n.ariaLevel="";const Un=document.createElement("div");Un.className="diff-review-cell",Un.style.height=`${tt}px`,$n.appendChild(Un);const Fn=document.createElement("span");Fn.style.width=St+"px",Fn.style.minWidth=St+"px",Fn.className="diff-review-line-number"+Dn,$e.originalLineNumber!==void 0?Fn.appendChild(document.createTextNode(String($e.originalLineNumber))):Fn.innerText="\xA0",Un.appendChild(Fn);const fn=document.createElement("span");fn.style.width=on+"px",fn.style.minWidth=on+"px",fn.style.paddingRight="10px",fn.className="diff-review-line-number"+Dn,$e.modifiedLineNumber!==void 0?fn.appendChild(document.createTextNode(String($e.modifiedLineNumber))):fn.innerText="\xA0",Un.appendChild(fn);const Qn=document.createElement("span");if(Qn.className="diff-review-spacer",vn){const j=document.createElement("span");j.className=R.L.asClassName(vn),j.innerText="\xA0\xA0",Qn.appendChild(j)}else Qn.innerText="\xA0\xA0";let N;if(Un.appendChild(Qn),$e.modifiedLineNumber!==void 0){let j=this._getLineHtml(Vt,Ot,Cn.tabSize,$e.modifiedLineNumber,this._languageService.languageIdCodec);Q._ttPolicy&&(j=Q._ttPolicy.createHTML(j)),Un.insertAdjacentHTML("beforeend",j),N=Vt.getLineContent($e.modifiedLineNumber)}else{let j=this._getLineHtml(ke,bt,qt.tabSize,$e.originalLineNumber,this._languageService.languageIdCodec);Q._ttPolicy&&(j=Q._ttPolicy.createHTML(j)),Un.insertAdjacentHTML("beforeend",j),N=ke.getLineContent($e.originalLineNumber)}N.length===0&&(N=H.kg("blankLine","blank"));let Z="";switch($e.type){case Se.Unchanged:Z=$e.originalLineNumber===$e.modifiedLineNumber?H.kg({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",N,$e.originalLineNumber):H.kg("equalLine","{0} original line {1} modified line {2}",N,$e.originalLineNumber,$e.modifiedLineNumber);break;case Se.Added:Z=H.kg("insertLine","+ {0} modified line {1}",N,$e.modifiedLineNumber);break;case Se.Deleted:Z=H.kg("deleteLine","- {0} original line {1}",N,$e.originalLineNumber)}return $n.setAttribute("aria-label",Z),$n}_getLineHtml($e,tt,gt,bt,ke){const qt=$e.getLineContent(bt),Ot=tt.get(50),Vt=ie.f.createEmpty(qt,ke),Cn=ne.qL.isBasicASCII(qt,$e.mightContainNonBasicASCII()),dn=ne.qL.containsRTL(qt,Cn,$e.mightContainRTL());return ee.Md(new ee.zL(Ot.isMonospace&&!tt.get(33),Ot.canUseHalfwidthRightwardsArrow,qt,!1,Cn,dn,0,Vt,[],gt,0,Ot.spaceWidth,Ot.middotWidth,Ot.wsmiddotWidth,tt.get(118),tt.get(100),tt.get(95),tt.get(51)!==te.Bc.OFF,null)).html}};We=Te([xe(5,G.L)],We);class de{constructor($e){this.editors=$e}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal($e){this.editors.original.revealRange($e),this.editors.original.setSelection($e),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal($e){$e&&(this.editors.modified.revealRange($e),this.editors.modified.setSelection($e)),this.editors.modified.focus()}modifiedSetSelection($e){this.editors.modified.setSelection($e)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){return this.editors.modified.getPosition()??void 0}}var be=h(5958),ae=h(9359),O=h(6811),Ue=h(8903),Ye=h(1602),Fe=h(1807),oe=h(3436),rt=h(2994),lt=h(7132),ye=h(161),pt=h(7110);let Mt=class extends M.jG{setActiveMovedText($e){this._activeMovedText.set($e,void 0)}constructor($e,tt,gt){super(),this.model=$e,this._options=tt,this._diffProviderFactoryService=gt,this._isDiffUpToDate=v.FY(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=v.FY(this,void 0),this.diff=this._diff,this._unchangedRegions=v.FY(this,void 0),this.unchangedRegions=v.un(this,(Ot)=>this._options.hideUnchangedRegions.read(Ot)?this._unchangedRegions.read(Ot)?.regions??[]:(v.Rn((Vt)=>{for(let Cn of this._unchangedRegions.get()?.regions||[])Cn.collapseAll(Vt)}),[])),this.movedTextToCompare=v.FY(this,void 0),this._activeMovedText=v.FY(this,void 0),this._hoveredMovedText=v.FY(this,void 0),this.activeMovedText=v.un(this,(Ot)=>this.movedTextToCompare.read(Ot)??this._hoveredMovedText.read(Ot)??this._activeMovedText.read(Ot)),this._cancellationTokenSource=new Ue.Qi,this._diffProvider=v.un(this,(Ot)=>{const Vt=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(Ot)});return{diffProvider:Vt,onChangeSignal:v.yQ("onDidChange",Vt.onDidChange)}}),this._register(M.s(()=>this._cancellationTokenSource.cancel()));const bt=v.Yd("contentChangedSignal"),ke=this._register(new be.uC(()=>bt.trigger(void 0),200));this._register(v.fm((Ot)=>{const Vt=this._unchangedRegions.read(Ot);if(!Vt||Vt.regions.some((ln)=>ln.isDragged.read(Ot)))return;const Cn=Vt.originalDecorationIds.map((ln)=>$e.original.getDecorationRange(ln)).map((ln)=>ln?L.M.fromRangeInclusive(ln):void 0),dn=Vt.modifiedDecorationIds.map((ln)=>$e.modified.getDecorationRange(ln)).map((ln)=>ln?L.M.fromRangeInclusive(ln):void 0),St=Vt.regions.map((ln,Dn)=>Cn[Dn]&&dn[Dn]?new gn(Cn[Dn].startLineNumber,dn[Dn].startLineNumber,Cn[Dn].length,ln.visibleLineCountTop.read(Ot),ln.visibleLineCountBottom.read(Ot)):void 0).filter(ae.O9),Lt=[];let on=!1;for(let ln of x.n(St,(Dn,vn)=>Dn.getHiddenModifiedRange(Ot).endLineNumberExclusive===vn.getHiddenModifiedRange(Ot).startLineNumber))if(ln.length>1){on=!0;const Dn=ln.reduce(($n,Un)=>$n+Un.lineCount,0),vn=new gn(ln[0].originalLineNumber,ln[0].modifiedLineNumber,Dn,ln[0].visibleLineCountTop.get(),ln[ln.length-1].visibleLineCountBottom.get());Lt.push(vn)}else Lt.push(ln[0]);if(on){const ln=$e.original.deltaDecorations(Vt.originalDecorationIds,Lt.map((vn)=>({range:vn.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),Dn=$e.modified.deltaDecorations(Vt.modifiedDecorationIds,Lt.map((vn)=>({range:vn.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));v.Rn((vn)=>{this._unchangedRegions.set({regions:Lt,originalDecorationIds:ln,modifiedDecorationIds:Dn},vn)})}}));const qt=(Ot,Vt,Cn)=>{const dn=gn.fromDiffs(Ot.changes,$e.original.getLineCount(),$e.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(Cn),this._options.hideUnchangedRegionsContextLineCount.read(Cn));let St;const Lt=this._unchangedRegions.get();if(Lt){const vn=Lt.originalDecorationIds.map((Fn)=>$e.original.getDecorationRange(Fn)).map((Fn)=>Fn?L.M.fromRangeInclusive(Fn):void 0),$n=Lt.modifiedDecorationIds.map((Fn)=>$e.modified.getDecorationRange(Fn)).map((Fn)=>Fn?L.M.fromRangeInclusive(Fn):void 0);let Un=z.EK(Lt.regions.map((Fn,fn)=>{if(!vn[fn]||!$n[fn])return;const Qn=vn[fn].length;return new gn(vn[fn].startLineNumber,$n[fn].startLineNumber,Qn,Math.min(Fn.visibleLineCountTop.get(),Qn),Math.min(Fn.visibleLineCountBottom.get(),Qn-Fn.visibleLineCountTop.get()))}).filter(ae.O9),(Fn,fn)=>!fn||Fn.modifiedLineNumber>=fn.modifiedLineNumber+fn.lineCount&&Fn.originalLineNumber>=fn.originalLineNumber+fn.lineCount).map((Fn)=>new $.WL(Fn.getHiddenOriginalRange(Cn),Fn.getHiddenModifiedRange(Cn)));Un=$.WL.clip(Un,L.M.ofLength(1,$e.original.getLineCount()),L.M.ofLength(1,$e.modified.getLineCount())),St=$.WL.inverse(Un,$e.original.getLineCount(),$e.modified.getLineCount())}const on=[];if(St)for(let vn of dn){const $n=St.filter((Un)=>Un.original.intersectsStrict(vn.originalUnchangedRange)&&Un.modified.intersectsStrict(vn.modifiedUnchangedRange));on.push(...vn.setVisibleRanges($n,Vt))}else on.push(...dn);const ln=$e.original.deltaDecorations(Lt?.originalDecorationIds||[],on.map((vn)=>({range:vn.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),Dn=$e.modified.deltaDecorations(Lt?.modifiedDecorationIds||[],on.map((vn)=>({range:vn.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:on,originalDecorationIds:ln,modifiedDecorationIds:Dn},Vt)};this._register($e.modified.onDidChangeContent((Ot)=>{if(this._diff.get()){rt.c.fromModelContentChanges(Ot.changes);const Vt=(this._lastDiff,$e.original,void $e.modified);Vt&&(this._lastDiff=Vt,v.Rn((Cn)=>{this._diff.set(xn.fromDiffResult(this._lastDiff),Cn),qt(Vt,Cn);const dn=this.movedTextToCompare.get();this.movedTextToCompare.set(dn?this._lastDiff.moves.find((St)=>St.lineRangeMapping.modified.intersect(dn.lineRangeMapping.modified)):void 0,Cn)}))}this._isDiffUpToDate.set(!1,void 0),ke.schedule()})),this._register($e.original.onDidChangeContent((Ot)=>{if(this._diff.get()){rt.c.fromModelContentChanges(Ot.changes);const Vt=(this._lastDiff,$e.original,void $e.modified);Vt&&(this._lastDiff=Vt,v.Rn((Cn)=>{this._diff.set(xn.fromDiffResult(this._lastDiff),Cn),qt(Vt,Cn);const dn=this.movedTextToCompare.get();this.movedTextToCompare.set(dn?this._lastDiff.moves.find((St)=>St.lineRangeMapping.modified.intersect(dn.lineRangeMapping.modified)):void 0,Cn)}))}this._isDiffUpToDate.set(!1,void 0),ke.schedule()})),this._register(v.yC(async(Ot,Vt)=>{this._options.hideUnchangedRegionsMinimumLineCount.read(Ot),this._options.hideUnchangedRegionsContextLineCount.read(Ot),ke.cancel(),bt.read(Ot);const Cn=this._diffProvider.read(Ot);Cn.onChangeSignal.read(Ot),Fe.b(oe.D8,Ot),Fe.b(ye.NC,Ot),this._isDiffUpToDate.set(!1,void 0);let dn=[];Vt.add($e.original.onDidChangeContent((vn)=>{const $n=rt.c.fromModelContentChanges(vn.changes);dn=lt.M(dn,$n)}));let St=[];Vt.add($e.modified.onDidChangeContent((vn)=>{const $n=rt.c.fromModelContentChanges(vn.changes);St=lt.M(St,$n)}));let Lt=await Cn.diffProvider.computeDiff($e.original,$e.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(Ot),maxComputationTimeMs:this._options.maxComputationTimeMs.read(Ot),computeMoves:this._options.showMoves.read(Ot)},this._cancellationTokenSource.token);var on,ln,Dn;this._cancellationTokenSource.token.isCancellationRequested||$e.original.isDisposed()||$e.modified.isDisposed()||(on=Lt,ln=$e.original,Dn=$e.modified,Lt={changes:on.changes.map((vn)=>new $.wm(vn.original,vn.modified,vn.innerChanges?vn.innerChanges.map(($n)=>function(Un,Fn,fn){let{originalRange:Qn,modifiedRange:N}=Un;return Qn.startColumn===1&&N.startColumn===1&&(Qn.endColumn!==1||N.endColumn!==1)&&Qn.endColumn===Fn.getLineMaxColumn(Qn.endLineNumber)&&N.endColumn===fn.getLineMaxColumn(N.endLineNumber)&&Qn.endLineNumber<Fn.getLineCount()&&N.endLineNumber<fn.getLineCount()&&(Qn=Qn.setEndPosition(Qn.endLineNumber+1,1),N=N.setEndPosition(N.endLineNumber+1,1)),new $.q6(Qn,N)}($n,ln,Dn)):void 0)),moves:on.moves,identical:on.identical,quitEarly:on.quitEarly},$e.original,Lt=void $e.modified??Lt,$e.original,Lt=void $e.modified??Lt,v.Rn((vn)=>{qt(Lt,vn),this._lastDiff=Lt;const $n=xn.fromDiffResult(Lt);this._diff.set($n,vn),this._isDiffUpToDate.set(!0,vn);const Un=this.movedTextToCompare.get();this.movedTextToCompare.set(Un?this._lastDiff.moves.find((Fn)=>Fn.lineRangeMapping.modified.intersect(Un.lineRangeMapping.modified)):void 0,vn)}))}))}ensureModifiedLineIsVisible($e,tt,gt){if(this.diff.get()?.mappings.length===0)return;const bt=this._unchangedRegions.get()?.regions||[];for(let ke of bt)if(ke.getHiddenModifiedRange(void 0).contains($e))return void ke.showModifiedLine($e,tt,gt)}ensureOriginalLineIsVisible($e,tt,gt){if(this.diff.get()?.mappings.length===0)return;const bt=this._unchangedRegions.get()?.regions||[];for(let ke of bt)if(ke.getHiddenOriginalRange(void 0).contains($e))return void ke.showOriginalLine($e,tt,gt)}async waitForDiff(){await v.oJ(this.isDiffUpToDate,($e)=>$e)}serializeState(){return{collapsedRegions:this._unchangedRegions.get()?.regions.map((tt)=>({range:tt.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState($e){const tt=$e.collapsedRegions?.map((bt)=>L.M.deserialize(bt.range)),gt=this._unchangedRegions.get();gt&&tt&&v.Rn((bt)=>{for(let ke of gt.regions)for(let qt of tt)if(ke.modifiedUnchangedRange.intersect(qt)){ke.setHiddenModifiedRange(qt,bt);break}})}};var Zt,jt;Mt=function($e,tt,gt,bt){var ke,qt=arguments.length,Ot=qt<3?tt:bt===null?bt=Object.getOwnPropertyDescriptor(tt,gt):bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ot=Reflect.decorate($e,tt,gt,bt);else for(var Vt=$e.length-1;Vt>=0;Vt--)(ke=$e[Vt])&&(Ot=(qt<3?ke(Ot):qt>3?ke(tt,gt,Ot):ke(tt,gt))||Ot);return qt>3&&Ot&&Object.defineProperty(tt,gt,Ot),Ot}([(Zt=2,jt=Ye.Hg,function($e,tt){jt($e,tt,Zt)})],Mt);class xn{static fromDiffResult($e){return new xn($e.changes.map((tt)=>new nn(tt)),$e.moves||[],$e.identical,$e.quitEarly)}constructor($e,tt,gt,bt){this.mappings=$e,this.movedTexts=tt,this.identical=gt,this.quitEarly=bt}}class nn{constructor($e){this.lineRangeMapping=$e}}class gn{static fromDiffs($e,tt,gt,bt,ke){const qt=$.wm.inverse($e,tt,gt),Ot=[];for(let Vt of qt){let Cn=Vt.original.startLineNumber,dn=Vt.modified.startLineNumber,St=Vt.original.length;const Lt=Cn===1&&dn===1,on=Cn+St===tt+1&&dn+St===gt+1;(Lt||on)&&St>=ke+bt?(Lt&&!on&&(St-=ke),on&&!Lt&&(Cn+=ke,dn+=ke,St-=ke),Ot.push(new gn(Cn,dn,St,0,0))):St>=2*ke+bt&&(Cn+=ke,dn+=ke,St-=2*ke,Ot.push(new gn(Cn,dn,St,0,0)))}return Ot}get originalUnchangedRange(){return L.M.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return L.M.ofLength(this.modifiedLineNumber,this.lineCount)}constructor($e,tt,gt,bt,ke){this.originalLineNumber=$e,this.modifiedLineNumber=tt,this.lineCount=gt,this._visibleLineCountTop=v.FY(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=v.FY(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=v.un(this,(Vt)=>this.visibleLineCountTop.read(Vt)+this.visibleLineCountBottom.read(Vt)===this.lineCount&&!this.isDragged.read(Vt)),this.isDragged=v.FY(this,void 0);const qt=Math.max(Math.min(bt,this.lineCount),0),Ot=Math.max(Math.min(ke,this.lineCount-bt),0);pt.V7(bt===qt),pt.V7(ke===Ot),this._visibleLineCountTop.set(qt,void 0),this._visibleLineCountBottom.set(Ot,void 0)}setVisibleRanges($e,tt){const gt=[],bt=new L.S($e.map((Vt)=>Vt.modified)).subtractFrom(this.modifiedUnchangedRange);let ke=this.originalLineNumber,qt=this.modifiedLineNumber;const Ot=this.modifiedLineNumber+this.lineCount;if(bt.ranges.length===0)this.showAll(tt),gt.push(this);else{let Vt=0;for(let Cn of bt.ranges){const dn=Vt===bt.ranges.length-1;Vt++;const St=(dn?Ot:Cn.endLineNumberExclusive)-qt,Lt=new gn(ke,qt,St,0,0);Lt.setHiddenModifiedRange(Cn,tt),gt.push(Lt),ke=Lt.originalUnchangedRange.endLineNumberExclusive,qt=Lt.modifiedUnchangedRange.endLineNumberExclusive}}return gt}shouldHideControls($e){return this._shouldHideControls.read($e)}getHiddenOriginalRange($e){return L.M.ofLength(this.originalLineNumber+this._visibleLineCountTop.read($e),this.lineCount-this._visibleLineCountTop.read($e)-this._visibleLineCountBottom.read($e))}getHiddenModifiedRange($e){return L.M.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read($e),this.lineCount-this._visibleLineCountTop.read($e)-this._visibleLineCountBottom.read($e))}setHiddenModifiedRange($e,tt){const gt=$e.startLineNumber-this.modifiedLineNumber,bt=this.modifiedLineNumber+this.lineCount-$e.endLineNumberExclusive;this.setState(gt,bt,tt)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove($e=10,tt){const gt=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+$e,gt),tt)}showMoreBelow($e=10,tt){const gt=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+$e,gt),tt)}showAll($e){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),$e)}showModifiedLine($e,tt,gt){const bt=$e+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),ke=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-$e;tt===0&&bt<ke||tt===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+bt,gt):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+ke,gt)}showOriginalLine($e,tt,gt){const bt=$e-this.originalLineNumber,ke=this.originalLineNumber+this.lineCount-$e;tt===0&&bt<ke||tt===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+ke-bt,this.getMaxVisibleLineCountTop()),gt):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+bt-ke,this.getMaxVisibleLineCountBottom()),gt)}collapseAll($e){this._visibleLineCountTop.set(0,$e),this._visibleLineCountBottom.set(0,$e)}setState($e,tt,gt){$e=Math.max(Math.min($e,this.lineCount),0),tt=Math.max(Math.min(tt,this.lineCount-$e),0),this._visibleLineCountTop.set($e,gt),this._visibleLineCountBottom.set(tt,gt)}}var pn=h(3339);class rn extends M.jG{get visibility(){return this._visibility}set visibility($e){this._visibility!==$e&&(this._visibility=$e,this._diffActions.style.visibility=$e?"visible":"hidden")}constructor($e,tt,gt,bt,ke,qt,Ot,Vt,Cn){super(),this._getViewZoneId=$e,this._marginDomNode=tt,this._modifiedEditor=gt,this._diff=bt,this._editor=ke,this._viewLineCounts=qt,this._originalTextModel=Ot,this._contextMenuService=Vt,this._clipboardService=Cn,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=R.L.asClassName(k.W.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const dn=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${dn}px`,this._diffActions.style.lineHeight=`${dn}px`,this._marginDomNode.appendChild(this._diffActions);let St=0;const Lt=gt.getOption(128)&&!pn.un,on=(ln,Dn)=>{this._contextMenuService.showContextMenu({domForShadowRoot:Lt?gt.getDomNode()??void 0:void 0,getAnchor:()=>({x:ln,y:Dn}),getActions:()=>{const vn=[],$n=bt.modified.isEmpty;return vn.push(new b.rc("diff.clipboard.copyDeletedContent",$n?bt.original.length>1?H.kg("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):H.kg("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):bt.original.length>1?H.kg("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):H.kg("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,async()=>{const Un=this._originalTextModel.getValueInRange(bt.original.toExclusiveRange());await this._clipboardService.writeText(Un)})),bt.original.length>1&&vn.push(new b.rc("diff.clipboard.copyDeletedLineContent",$n?H.kg("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",bt.original.startLineNumber+St):H.kg("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",bt.original.startLineNumber+St),void 0,!0,async()=>{let Un=this._originalTextModel.getLineContent(bt.original.startLineNumber+St);Un===""&&(Un=this._originalTextModel.getEndOfLineSequence()===0?"\n":"\r\n"),await this._clipboardService.writeText(Un)})),gt.getOption(92)||vn.push(new b.rc("diff.inline.revertChange",H.kg("diff.inline.revertChange.label","Revert this change"),void 0,!0,async()=>{this._editor.revert(this._diff)})),vn},autoSelectFirstItem:!0})};this._register(s.b2(this._diffActions,"mousedown",(ln)=>{if(!ln.leftButton)return;const{top:Dn,height:vn}=s.BK(this._diffActions),$n=Math.floor(dn/3);ln.preventDefault(),on(ln.posx,Dn+vn+$n)})),this._register(gt.onMouseMove((ln)=>{ln.target.type!==8&&ln.target.type!==5||ln.target.detail.viewZoneId!==this._getViewZoneId()?this.visibility=!1:(St=this._updateLightBulbPosition(this._marginDomNode,ln.event.browserEvent.y,dn),this.visibility=!0)})),this._register(gt.onMouseDown((ln)=>{!ln.event.leftButton||ln.target.type!==8&&ln.target.type!==5||ln.target.detail.viewZoneId===this._getViewZoneId()&&(ln.event.preventDefault(),St=this._updateLightBulbPosition(this._marginDomNode,ln.event.browserEvent.y,dn),on(ln.event.posx,ln.event.posy+dn))}))}_updateLightBulbPosition($e,tt,gt){const{top:bt}=s.BK($e),ke=tt-bt,qt=Math.floor(ke/gt),Ot=qt*gt;if(this._diffActions.style.top=`${Ot}px`,this._viewLineCounts){let Vt=0;for(let Cn=0;Cn<this._viewLineCounts.length;Cn++)if(Vt+=this._viewLineCounts[Cn],qt<Vt)return Cn}return qt}}var Sn=h(4324),Mn=h(5561);const Bn=p.H("diffEditorWidget",{createHTML:($e)=>$e});function wi($e,tt,gt,bt){P.M(bt,tt.fontInfo);const ke=gt.length>0,qt=new Sn.fe(1e4);let Ot=0,Vt=0;const Cn=[];for(let Lt=0;Lt<$e.lineTokens.length;Lt++){const on=Lt+1,ln=$e.lineTokens[Lt],Dn=$e.lineBreakData[Lt],vn=Mn.d.filter(gt,on,1,Number.MAX_SAFE_INTEGER);if(Dn){let $n=0;for(let Un of Dn.breakOffsets){const Fn=ln.sliceAndInflate($n,Un,0);Ot=Math.max(Ot,En(Vt,Fn,Mn.d.extractWrapped(vn,$n,Un),ke,$e.mightContainNonBasicASCII,$e.mightContainRTL,tt,qt)),Vt++,$n=Un}Cn.push(Dn.breakOffsets.length)}else Cn.push(1),Ot=Math.max(Ot,En(Vt,ln,vn,ke,$e.mightContainNonBasicASCII,$e.mightContainRTL,tt,qt)),Vt++}Ot+=tt.scrollBeyondLastColumn;const dn=qt.build(),St=Bn?Bn.createHTML(dn):dn;return bt.innerHTML=St,{heightInLines:Vt,minWidthInPx:Ot*tt.typicalHalfwidthCharacterWidth,viewLineCounts:Cn}}class Mi{constructor($e,tt,gt,bt){this.lineTokens=$e,this.lineBreakData=tt,this.mightContainNonBasicASCII=gt,this.mightContainRTL=bt}}class Oi{static fromEditor($e){const tt=$e.getOptions(),gt=tt.get(50),bt=tt.get(146);return new Oi($e.getModel()?.getOptions().tabSize||0,gt,tt.get(33),gt.typicalHalfwidthCharacterWidth,tt.get(105),tt.get(67),bt.decorationsWidth,tt.get(118),tt.get(100),tt.get(95),tt.get(51))}constructor($e,tt,gt,bt,ke,qt,Ot,Vt,Cn,dn,St){this.tabSize=$e,this.fontInfo=tt,this.disableMonospaceOptimizations=gt,this.typicalHalfwidthCharacterWidth=bt,this.scrollBeyondLastColumn=ke,this.lineHeight=qt,this.lineDecorationsWidth=Ot,this.stopRenderingLineAfter=Vt,this.renderWhitespace=Cn,this.renderControlCharacters=dn,this.fontLigatures=St}}function En($e,tt,gt,bt,ke,qt,Ot,Vt){Vt.appendString('<div class="view-line'),bt||Vt.appendString(" char-delete"),Vt.appendString('" style="top:'),Vt.appendString(String($e*Ot.lineHeight)),Vt.appendString('px;width:1000000px;">');const Cn=tt.getLineContent(),dn=ne.qL.isBasicASCII(Cn,ke),St=ne.qL.containsRTL(Cn,dn,qt),Lt=ee.UW(new ee.zL(Ot.fontInfo.isMonospace&&!Ot.disableMonospaceOptimizations,Ot.fontInfo.canUseHalfwidthRightwardsArrow,Cn,!1,dn,St,0,tt,gt,Ot.tabSize,0,Ot.fontInfo.spaceWidth,Ot.fontInfo.middotWidth,Ot.fontInfo.wsmiddotWidth,Ot.stopRenderingLineAfter,Ot.renderWhitespace,Ot.renderControlCharacters,Ot.fontLigatures!==te.Bc.OFF,null),Vt);return Vt.appendString("</div>"),Lt.characterMapping.getHorizontalOffset(Lt.characterMapping.length)}var li=h(957),si=h(2348),ti=function($e,tt){return function(gt,bt){tt(gt,bt,$e)}};let Ln=class extends M.jG{constructor($e,tt,gt,bt,ke,qt,Ot,Vt,Cn,dn){super(),this._targetWindow=$e,this._editors=tt,this._diffModel=gt,this._options=bt,this._diffEditorWidget=ke,this._canIgnoreViewZoneUpdateEvent=qt,this._origViewZonesToIgnore=Ot,this._modViewZonesToIgnore=Vt,this._clipboardService=Cn,this._contextMenuService=dn,this._originalTopPadding=v.FY(this,0),this._originalScrollOffset=v.FY(this,0),this._originalScrollOffsetAnimated=z.Nu(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=v.FY(this,0),this._modifiedScrollOffset=v.FY(this,0),this._modifiedScrollOffsetAnimated=z.Nu(this._targetWindow,this._modifiedScrollOffset,this._store);const St=v.FY("invalidateAlignmentsState",0),Lt=this._register(new be.uC(()=>{St.set(St.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones((Fn)=>{this._canIgnoreViewZoneUpdateEvent()||Lt.schedule()})),this._register(this._editors.modified.onDidChangeViewZones((Fn)=>{this._canIgnoreViewZoneUpdateEvent()||Lt.schedule()})),this._register(this._editors.original.onDidChangeConfiguration((Fn)=>{(Fn.hasChanged(147)||Fn.hasChanged(67))&&Lt.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration((Fn)=>{(Fn.hasChanged(147)||Fn.hasChanged(67))&&Lt.schedule()}));const on=this._diffModel.map((Fn)=>Fn?v.y0(this,Fn.model.original.onDidChangeTokens,()=>Fn.model.original.tokenization.backgroundTokenizationState===2):void 0).map((Fn,fn)=>Fn?.read(fn)),ln=v.un((Fn)=>{const fn=this._diffModel.read(Fn),Qn=fn?.diff.read(Fn);if(!fn||!Qn)return null;St.read(Fn);const N=this._options.renderSideBySide.read(Fn);return Xn(this._editors.original,this._editors.modified,Qn.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,N)}),Dn=v.un((Fn)=>{const fn=this._diffModel.read(Fn)?.movedTextToCompare.read(Fn);if(!fn)return null;St.read(Fn);const Qn=fn.changes.map((N)=>new nn(N));return Xn(this._editors.original,this._editors.modified,Qn,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function vn(){const Fn=document.createElement("div");return Fn.className="diagonal-fill",Fn}const $n=this._register(new M.Cm);this.viewZones=v.rm(this,(Fn,fn)=>{$n.clear();const Qn=ln.read(Fn)||[],N=[],Z=[],j=this._modifiedTopPadding.read(Fn);j>0&&Z.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:j,showInHiddenAreas:!0,suppressMouseDown:!0});const _e=this._originalTopPadding.read(Fn);_e>0&&N.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:_e,showInHiddenAreas:!0,suppressMouseDown:!0});const Ne=this._options.renderSideBySide.read(Fn),Oe=Ne?void 0:this._editors.modified._getViewModel()?.createLineBreaksComputer();if(Oe){const en=this._editors.original.getModel();for(let hn of Qn)if(hn.diff)for(let je=hn.originalRange.startLineNumber;je<hn.originalRange.endLineNumberExclusive;je++){if(je>en.getLineCount())return{orig:N,mod:Z};Oe?.addRequest(en.getLineContent(je),null,null)}}const Ke=Oe?.finalize()??[];let wt=0;const kt=this._editors.modified.getOption(67),Et=this._diffModel.read(Fn)?.movedTextToCompare.read(Fn),st=this._editors.original.getModel()?.mightContainNonBasicASCII()??!1,Bt=this._editors.original.getModel()?.mightContainRTL()??!1,Rt=Oi.fromEditor(this._editors.modified);for(let en of Qn)if(!en.diff||Ne||this._options.useTrueInlineDiffRendering.read(Fn)&&Ni(en.diff)){const hn=en.modifiedHeightInPx-en.originalHeightInPx;if(hn>0){if(Et?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(en.originalRange.endLineNumberExclusive-1))continue;N.push({afterLineNumber:en.originalRange.endLineNumberExclusive-1,domNode:vn(),heightInPx:hn,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let je=function(){const De=document.createElement("div");return De.className="arrow-revert-change "+R.L.asClassName(k.W.arrowRight),fn.add(s.ko(De,"mousedown",(Ce)=>Ce.stopPropagation())),fn.add(s.ko(De,"click",(Ce)=>{Ce.stopPropagation(),ke.revert(en.diff)})),s.$("div",{},De)};if(Et?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(en.modifiedRange.endLineNumberExclusive-1))continue;let ze;en.diff&&en.diff.modified.isEmpty&&this._options.shouldRenderOldRevertArrows.read(Fn)&&(ze=je()),Z.push({afterLineNumber:en.modifiedRange.endLineNumberExclusive-1,domNode:vn(),heightInPx:-hn,marginDomNode:ze,showInHiddenAreas:!0,suppressMouseDown:!0})}}else{if(!en.originalRange.isEmpty){on.read(Fn);const je=document.createElement("div");je.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const ze=this._editors.original.getModel();if(en.originalRange.endLineNumberExclusive-1>ze.getLineCount())return{orig:N,mod:Z};const De=new Mi(en.originalRange.mapToLineArray((sn)=>ze.tokenization.getLineTokens(sn)),en.originalRange.mapToLineArray((sn)=>Ke[wt++]),st,Bt),Ce=[];for(let sn of en.diff.innerChanges||[])Ce.push(new ne.kI(sn.originalRange.delta(-(en.diff.original.startLineNumber-1)),O.Zb.className,0));const ut=wi(De,Rt,Ce,je),Tt=document.createElement("div");if(Tt.className="inline-deleted-margin-view-zone",P.M(Tt,Rt.fontInfo),this._options.renderIndicators.read(Fn))for(let sn=0;sn<ut.heightInLines;sn++){const Vn=document.createElement("div");Vn.className=`delete-sign ${R.L.asClassName(O.dv)}`,Vn.setAttribute("style",`position:absolute;top:${sn*kt}px;width:${Rt.lineDecorationsWidth}px;height:${kt}px;right:0;`),Tt.appendChild(Vn)}let Ht;$n.add(new rn(()=>ae.eU(Ht),Tt,this._editors.modified,en.diff,this._diffEditorWidget,ut.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let sn=0;sn<ut.viewLineCounts.length;sn++){const Vn=ut.viewLineCounts[sn];Vn>1&&N.push({afterLineNumber:en.originalRange.startLineNumber+sn,domNode:vn(),heightInPx:(Vn-1)*kt,showInHiddenAreas:!0,suppressMouseDown:!0})}Z.push({afterLineNumber:en.modifiedRange.startLineNumber-1,domNode:je,heightInPx:ut.heightInLines*kt,minWidthInPx:ut.minWidthInPx,marginDomNode:Tt,setZoneId(sn){Ht=sn},showInHiddenAreas:!0,suppressMouseDown:!0})}const hn=document.createElement("div");hn.className="gutter-delete",N.push({afterLineNumber:en.originalRange.endLineNumberExclusive-1,domNode:vn(),heightInPx:en.modifiedHeightInPx,marginDomNode:hn,showInHiddenAreas:!0,suppressMouseDown:!0})}for(let en of Dn.read(Fn)??[]){if(!Et?.lineRangeMapping.original.intersect(en.originalRange)||!Et?.lineRangeMapping.modified.intersect(en.modifiedRange))continue;const hn=en.modifiedHeightInPx-en.originalHeightInPx;hn>0?N.push({afterLineNumber:en.originalRange.endLineNumberExclusive-1,domNode:vn(),heightInPx:hn,showInHiddenAreas:!0,suppressMouseDown:!0}):Z.push({afterLineNumber:en.modifiedRange.endLineNumberExclusive-1,domNode:vn(),heightInPx:-hn,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:N,mod:Z}});let Un=!1;this._register(this._editors.original.onDidScrollChange((Fn)=>{Fn.scrollLeftChanged&&!Un&&(Un=!0,this._editors.modified.setScrollLeft(Fn.scrollLeft),Un=!1)})),this._register(this._editors.modified.onDidScrollChange((Fn)=>{Fn.scrollLeftChanged&&!Un&&(Un=!0,this._editors.original.setScrollLeft(Fn.scrollLeft),Un=!1)})),this._originalScrollTop=v.y0(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=v.y0(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register(v.fm((Fn)=>{const fn=this._originalScrollTop.read(Fn)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(Fn))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(Fn));fn!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(fn,1)})),this._register(v.fm((Fn)=>{const fn=this._modifiedScrollTop.read(Fn)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(Fn))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(Fn));fn!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(fn,1)})),this._register(v.fm((Fn)=>{const fn=this._diffModel.read(Fn)?.movedTextToCompare.read(Fn);let Qn=0;if(fn){const N=this._editors.original.getTopForLineNumber(fn.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();Qn=this._editors.modified.getTopForLineNumber(fn.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-N}Qn>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(Qn,void 0)):Qn<0?(this._modifiedTopPadding.set(-Qn,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-Qn,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+Qn,void 0,!0)}))}};function Xn($e,tt,gt,bt,ke,qt){const Ot=new x.j3(xi($e,bt)),Vt=new x.j3(xi(tt,ke)),Cn=$e.getOption(67),dn=tt.getOption(67),St=[];let Lt=0,on=0;function ln(Dn,vn){for(;;){let $n=Ot.peek(),Un=Vt.peek();if($n&&$n.lineNumber>=Dn&&($n=void 0),Un&&Un.lineNumber>=vn&&(Un=void 0),!$n&&!Un)break;const Fn=$n?$n.lineNumber-Lt:Number.MAX_VALUE,fn=Un?Un.lineNumber-on:Number.MAX_VALUE;Fn<fn?(Ot.dequeue(),Un={lineNumber:$n.lineNumber-Lt+on,heightInPx:0}):Fn>fn?(Vt.dequeue(),$n={lineNumber:Un.lineNumber-on+Lt,heightInPx:0}):(Ot.dequeue(),Vt.dequeue()),St.push({originalRange:L.M.ofLength($n.lineNumber,1),modifiedRange:L.M.ofLength(Un.lineNumber,1),originalHeightInPx:Cn+$n.heightInPx,modifiedHeightInPx:dn+Un.heightInPx,diff:void 0})}}for(let Dn of gt){let fn=function(Qn,N,Z=!1){if(Qn<Fn||N<Un)return;if($n)$n=!1;else if(!Z&&(Qn===Fn||N===Un))return;const j=new L.M(Fn,Qn),_e=new L.M(Un,N);if(j.isEmpty&&_e.isEmpty)return;const Ne=Ot.takeWhile((Ke)=>Ke.lineNumber<Qn)?.reduce((Ke,wt)=>Ke+wt.heightInPx,0)??0,Oe=Vt.takeWhile((Ke)=>Ke.lineNumber<N)?.reduce((Ke,wt)=>Ke+wt.heightInPx,0)??0;St.push({originalRange:j,modifiedRange:_e,originalHeightInPx:j.length*Cn+Ne,modifiedHeightInPx:_e.length*dn+Oe,diff:Dn.lineRangeMapping}),Fn=Qn,Un=N};const vn=Dn.lineRangeMapping;ln(vn.original.startLineNumber,vn.modified.startLineNumber);let $n=!0,Un=vn.modified.startLineNumber,Fn=vn.original.startLineNumber;if(qt)for(let Qn of vn.innerChanges||[]){Qn.originalRange.startColumn>1&&Qn.modifiedRange.startColumn>1&&fn(Qn.originalRange.startLineNumber,Qn.modifiedRange.startLineNumber);const N=$e.getModel(),Z=Qn.originalRange.endLineNumber<=N.getLineCount()?N.getLineMaxColumn(Qn.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;Qn.originalRange.endColumn<Z&&fn(Qn.originalRange.endLineNumber,Qn.modifiedRange.endLineNumber)}fn(vn.original.endLineNumberExclusive,vn.modified.endLineNumberExclusive,!0),Lt=vn.original.endLineNumberExclusive,on=vn.modified.endLineNumberExclusive}return ln(Number.MAX_VALUE,Number.MAX_VALUE),St}function xi($e,tt){const gt=[],bt=[],ke=$e.getOption(147).wrappingColumn!==-1,qt=$e._getViewModel().coordinatesConverter,Ot=$e.getOption(67);if(ke)for(let Vt=1;Vt<=$e.getModel().getLineCount();Vt++){const Cn=qt.getModelLineViewLineCount(Vt);Cn>1&&bt.push({lineNumber:Vt,heightInPx:Ot*(Cn-1)})}for(let Vt of $e.getWhitespaces()){if(tt.has(Vt.id))continue;const Cn=Vt.afterLineNumber===0?0:qt.convertViewPositionToModelPosition(new B.y(Vt.afterLineNumber,1)).lineNumber;gt.push({lineNumber:Cn,heightInPx:Vt.height})}return z.Am(gt,bt,(Vt)=>Vt.lineNumber,(Vt,Cn)=>({lineNumber:Vt.lineNumber,heightInPx:Vt.heightInPx+Cn.heightInPx}))}function Ni($e){return!!$e.innerChanges&&$e.innerChanges.every((tt)=>Ii(tt.modifiedRange)&&Ii(tt.originalRange)||tt.originalRange.equalsRange(new U.Q(1,1,1,1)))}function Ii($e){return $e.startLineNumber===$e.endLineNumber}Ln=function($e,tt,gt,bt){var ke,qt=arguments.length,Ot=qt<3?tt:bt===null?bt=Object.getOwnPropertyDescriptor(tt,gt):bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ot=Reflect.decorate($e,tt,gt,bt);else for(var Vt=$e.length-1;Vt>=0;Vt--)(ke=$e[Vt])&&(Ot=(qt<3?ke(Ot):qt>3?ke(tt,gt,Ot):ke(tt,gt))||Ot);return qt>3&&Ot&&Object.defineProperty(tt,gt,Ot),Ot}([ti(8,li.h),ti(9,si.Z)],Ln);class er extends M.jG{static{this.movedCodeBlockPadding=4}constructor($e,tt,gt,bt,ke){super(),this._rootElement=$e,this._diffModel=tt,this._originalEditorLayoutInfo=gt,this._modifiedEditorLayoutInfo=bt,this._editors=ke,this._originalScrollTop=v.y0(this,this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=v.y0(this,this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=v.yQ("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=v.FY(this,0),this._modifiedViewZonesChangedSignal=v.yQ("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=v.yQ("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=v.rm(this,(dn,St)=>{this._element.replaceChildren();const Lt=this._diffModel.read(dn),on=Lt?.diff.read(dn)?.movedTexts;if(!on||on.length===0)return void this.width.set(0,void 0);this._viewZonesChanged.read(dn);const ln=this._originalEditorLayoutInfo.read(dn),Dn=this._modifiedEditorLayoutInfo.read(dn);if(!ln||!Dn)return void this.width.set(0,void 0);this._modifiedViewZonesChangedSignal.read(dn),this._originalViewZonesChangedSignal.read(dn);const vn=on.map((N)=>{function Z(Et,st){return(st.getTopForLineNumber(Et.startLineNumber,!0)+st.getTopForLineNumber(Et.endLineNumberExclusive,!0))/2}const j=Z(N.lineRangeMapping.original,this._editors.original),_e=this._originalScrollTop.read(dn),Ne=Z(N.lineRangeMapping.modified,this._editors.modified),Oe=j-_e,Ke=Ne-this._modifiedScrollTop.read(dn),wt=Math.min(j,Ne),kt=Math.max(j,Ne);return{range:new W.L(wt,kt),from:Oe,to:Ke,fromWithoutScroll:j,toWithoutScroll:Ne,move:N}});vn.sort(x.nH(x.VE((N)=>N.fromWithoutScroll>N.toWithoutScroll,x.TS),x.VE((N)=>N.fromWithoutScroll>N.toWithoutScroll?N.fromWithoutScroll:-N.toWithoutScroll,x.U9)));const $n=Zi.compute(vn.map((N)=>N.range)),Un=ln.verticalScrollbarWidth,Fn=10*($n.getTrackCount()-1)+20,fn=Un+Fn+(Dn.contentLeft-er.movedCodeBlockPadding);let Qn=0;for(let N of vn){const Z=Un+10+10*$n.getTrack(Qn),Ne=fn,Oe=Dn.glyphMarginWidth+Dn.lineNumbersWidth,wt=document.createElementNS("http://www.w3.org/2000/svg","rect");wt.classList.add("arrow-rectangle"),wt.setAttribute("x",""+(Ne-Oe)),wt.setAttribute("y",""+(N.to-9)),wt.setAttribute("width",`${Oe}`),wt.setAttribute("height","18"),this._element.appendChild(wt);const kt=document.createElementNS("http://www.w3.org/2000/svg","g"),Et=document.createElementNS("http://www.w3.org/2000/svg","path");Et.setAttribute("d",`M 0 ${N.from} L ${Z} ${N.from} L ${Z} ${N.to} L ${Ne-15} ${N.to}`),Et.setAttribute("fill","none"),kt.appendChild(Et);const st=document.createElementNS("http://www.w3.org/2000/svg","polygon");st.classList.add("arrow"),St.add(v.fm((Bt)=>{Et.classList.toggle("currentMove",N.move===Lt.activeMovedText.read(Bt)),st.classList.toggle("currentMove",N.move===Lt.activeMovedText.read(Bt))})),st.setAttribute("points",`${Ne-15},${N.to-7.5} ${Ne},${N.to} ${Ne-15},${N.to+7.5}`),kt.appendChild(st),this._element.appendChild(kt),Qn++}this.width.set(Fn,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(M.s(()=>this._element.remove())),this._register(v.fm((dn)=>{const St=this._originalEditorLayoutInfo.read(dn),Lt=this._modifiedEditorLayoutInfo.read(dn);St&&Lt&&(this._element.style.left=St.width-St.verticalScrollbarWidth+"px",this._element.style.height=`${St.height}px`,this._element.style.width=`${St.verticalScrollbarWidth+St.contentLeft-er.movedCodeBlockPadding+this.width.read(dn)}px`)})),this._register(v.OI(this._state));const qt=v.un((dn)=>{const St=this._diffModel.read(dn),Lt=St?.diff.read(dn);return Lt?Lt.movedTexts.map((on)=>({move:on,original:new z.D1(v.lk(on.lineRangeMapping.original.startLineNumber-1),18),modified:new z.D1(v.lk(on.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register(z.Vs(this._editors.original,qt.map((dn)=>dn.map((St)=>St.original)))),this._register(z.Vs(this._editors.modified,qt.map((dn)=>dn.map((St)=>St.modified)))),this._register(v.yC((dn,St)=>{const Lt=qt.read(dn);for(let on of Lt)St.add(new tr(this._editors.original,on.original,on.move,"original",this._diffModel.get())),St.add(new tr(this._editors.modified,on.modified,on.move,"modified",this._diffModel.get()))}));const Ot=v.yQ("original.onDidFocusEditorWidget",(dn)=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>dn(void 0),0))),Vt=v.yQ("modified.onDidFocusEditorWidget",(dn)=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>dn(void 0),0)));let Cn="modified";this._register(v.Y({createEmptyChangeSummary:()=>{},handleChange:(dn,St)=>(dn.didChange(Ot)&&(Cn="original"),dn.didChange(Vt)&&(Cn="modified"),!0)},(dn)=>{Ot.read(dn),Vt.read(dn);const St=this._diffModel.read(dn);if(!St)return;const Lt=St.diff.read(dn);let on;if(Lt&&Cn==="original"){const ln=this._editors.originalCursor.read(dn);ln&&(on=Lt.movedTexts.find((Dn)=>Dn.lineRangeMapping.original.contains(ln.lineNumber)))}if(Lt&&Cn==="modified"){const ln=this._editors.modifiedCursor.read(dn);ln&&(on=Lt.movedTexts.find((Dn)=>Dn.lineRangeMapping.modified.contains(ln.lineNumber)))}on!==St.movedTextToCompare.get()&&St.movedTextToCompare.set(void 0,void 0),St.setActiveMovedText(on)}))}}class Zi{static compute($e){const tt=[],gt=[];for(let bt of $e){let ke=tt.findIndex((qt)=>!qt.intersectsStrict(bt));if(ke===-1)tt.length>=6?ke=I.TM(tt,x.VE((Ot)=>Ot.intersectWithRangeLength(bt),x.U9)):(ke=tt.length,tt.push(new W.h));tt[ke].addRange(bt),gt.push(ke)}return new Zi(tt.length,gt)}constructor($e,tt){this._trackCount=$e,this.trackPerLineIdx=tt}getTrack($e){return this.trackPerLineIdx[$e]}getTrackCount(){return this._trackCount}}class tr extends z.uN{constructor($e,tt,gt,bt,ke){const qt=s.h("div.diff-hidden-lines-widget");super($e,tt,qt.root),this._editor=$e,this._move=gt,this._kind=bt,this._diffModel=ke,this._nodes=s.h("div.diff-moved-code-block",{style:{marginRight:"4px"}},[s.h("div.text-content@textContent"),s.h("div.action-bar@actionBar")]),qt.root.appendChild(this._nodes.root);const Ot=v.y0(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());let Vt;this._register(z.AV(this._nodes.root,{paddingRight:Ot.map((Lt)=>Lt.verticalScrollbarWidth)})),Vt=gt.changes.length>0?this._kind==="original"?H.kg("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):H.kg("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):this._kind==="original"?H.kg("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):H.kg("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const Cn=this._register(new _.E(this._nodes.actionBar,{highlightToggledItems:!0})),dn=new b.rc("",Vt,"",!1);Cn.push(dn,{icon:!1,label:!0});const St=new b.rc("","Compare",R.L.asClassName(k.W.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===gt?void 0:this._move,void 0)});this._register(v.fm((Lt)=>{const on=this._diffModel.movedTextToCompare.read(Lt)===gt;St.checked=on})),Cn.push(St,{icon:!1,label:!0})}}class rr extends M.jG{constructor($e,tt,gt,bt){super(),this._editors=$e,this._diffModel=tt,this._options=gt,this._decorations=v.un(this,(ke)=>{const qt=this._diffModel.read(ke),Ot=qt?.diff.read(ke);if(!Ot)return null;const Vt=this._diffModel.read(ke).movedTextToCompare.read(ke),Cn=this._options.renderIndicators.read(ke),dn=this._options.showEmptyDecorations.read(ke),St=[],Lt=[];if(!Vt)for(let ln of Ot.mappings)if(ln.lineRangeMapping.original.isEmpty||St.push({range:ln.lineRangeMapping.original.toInclusiveRange(),options:Cn?O.Ob:O.XT}),ln.lineRangeMapping.modified.isEmpty||Lt.push({range:ln.lineRangeMapping.modified.toInclusiveRange(),options:Cn?O.Kl:O.Zw}),ln.lineRangeMapping.modified.isEmpty||ln.lineRangeMapping.original.isEmpty)ln.lineRangeMapping.original.isEmpty||St.push({range:ln.lineRangeMapping.original.toInclusiveRange(),options:O.KL}),ln.lineRangeMapping.modified.isEmpty||Lt.push({range:ln.lineRangeMapping.modified.toInclusiveRange(),options:O.Ou});else{const Dn=this._options.useTrueInlineDiffRendering.read(ke)&&Ni(ln.lineRangeMapping);for(let vn of ln.lineRangeMapping.innerChanges||[])if(ln.lineRangeMapping.original.contains(vn.originalRange.startLineNumber)&&St.push({range:vn.originalRange,options:vn.originalRange.isEmpty()&&dn?O.wp:O.Zb}),ln.lineRangeMapping.modified.contains(vn.modifiedRange.startLineNumber)&&Lt.push({range:vn.modifiedRange,options:vn.modifiedRange.isEmpty()&&dn&&!Dn?O.GM:O.bk}),Dn){const $n=qt.model.original.getValueInRange(vn.originalRange);Lt.push({range:vn.modifiedRange,options:{description:"deleted-text",before:{content:$n,inlineClassName:"inline-deleted-text"},zIndex:1e5,showIfCollapsed:!0}})}}if(Vt)for(let ln of Vt.changes){const Dn=ln.original.toInclusiveRange();Dn&&St.push({range:Dn,options:Cn?O.Ob:O.XT});const vn=ln.modified.toInclusiveRange();vn&&Lt.push({range:vn,options:Cn?O.Kl:O.Zw});for(let $n of ln.innerChanges||[])St.push({range:$n.originalRange,options:O.Zb}),Lt.push({range:$n.modifiedRange,options:O.bk})}const on=this._diffModel.read(ke).activeMovedText.read(ke);for(let ln of Ot.movedTexts)St.push({range:ln.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(ln===on?" currentMove":""),blockPadding:[er.movedCodeBlockPadding,0,er.movedCodeBlockPadding,er.movedCodeBlockPadding]}}),Lt.push({range:ln.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(ln===on?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:St,modifiedDecorations:Lt}}),this._register(z.pY(this._editors.original,this._decorations.map((ke)=>ke?.originalDecorations||[]))),this._register(z.pY(this._editors.modified,this._decorations.map((ke)=>ke?.modifiedDecorations||[])))}}var yi=h(6843);class un{resetSash(){this._sashRatio.set(void 0,void 0)}constructor($e,tt){this._options=$e,this.dimensions=tt,this.sashLeft=E.dQ(this,(gt)=>{const bt=this._sashRatio.read(gt)??this._options.splitViewDefaultRatio.read(gt);return this._computeSashLeft(bt,gt)},(gt,bt)=>{const ke=this.dimensions.width.get();this._sashRatio.set(gt/ke,bt)}),this._sashRatio=v.FY(this,void 0)}_computeSashLeft($e,tt){const gt=this.dimensions.width.read(tt),bt=Math.floor(this._options.splitViewDefaultRatio.read(tt)*gt),ke=this._options.enableSplitViewResizing.read(tt)?Math.floor($e*gt):bt;return gt<=200?bt:ke<100?100:ke>gt-100?gt-100:ke}}class ft extends M.jG{constructor($e,tt,gt,bt,ke,qt){super(),this._domNode=$e,this._dimensions=tt,this._enabled=gt,this._boundarySashes=bt,this.sashLeft=ke,this._resetSash=qt,this._sash=this._register(new yi.m(this._domNode,{getVerticalSashTop:(Ot)=>0,getVerticalSashLeft:(Ot)=>this.sashLeft.get(),getVerticalSashHeight:(Ot)=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange((Ot)=>{this.sashLeft.set(this._startSashPosition+(Ot.currentX-Ot.startX),void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._resetSash())),this._register(v.fm((Ot)=>{const Vt=this._boundarySashes.read(Ot);Vt&&(this._sash.orthogonalEndSash=Vt.bottom)})),this._register(v.fm((Ot)=>{const Vt=this._enabled.read(Ot);this._sash.state=Vt?3:0,this.sashLeft.read(Ot),this._dimensions.height.read(Ot),this._sash.layout()}))}}class Yn extends M.jG{constructor($e,tt,gt){super(),this._editor=$e,this._domNode=tt,this.itemProvider=gt,this.scrollTop=v.y0(this,this._editor.onDidScrollChange,(qt)=>this._editor.getScrollTop()),this.isScrollTopZero=this.scrollTop.map((qt)=>qt===0),this.modelAttached=v.y0(this,this._editor.onDidChangeModel,(qt)=>this._editor.hasModel()),this.editorOnDidChangeViewZones=v.yQ("onDidChangeViewZones",this._editor.onDidChangeViewZones),this.editorOnDidContentSizeChange=v.yQ("onDidContentSizeChange",this._editor.onDidContentSizeChange),this.domNodeSizeChanged=v.Yd("domNodeSizeChanged"),this.views=new Map,this._domNode.className="gutter monaco-editor";const bt=this._domNode.appendChild(s.h("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),ke=new ResizeObserver(()=>{v.Rn((qt)=>{this.domNodeSizeChanged.trigger(qt)})});ke.observe(this._domNode),this._register(M.s(()=>ke.disconnect())),this._register(v.fm((qt)=>{bt.className=this.isScrollTopZero.read(qt)?"":"scroll-decoration"})),this._register(v.fm((qt)=>this.render(qt)))}dispose(){super.dispose(),s.Ln(this._domNode)}render($e){if(!this.modelAttached.read($e))return;this.domNodeSizeChanged.read($e),this.editorOnDidChangeViewZones.read($e),this.editorOnDidContentSizeChange.read($e);const tt=this.scrollTop.read($e),gt=this._editor.getVisibleRanges(),bt=new Set(this.views.keys()),ke=W.L.ofStartAndLength(0,this._domNode.clientHeight);if(!ke.isEmpty)for(let qt of gt){const Ot=new L.M(qt.startLineNumber,qt.endLineNumber+1),Vt=this.itemProvider.getIntersectingGutterItems(Ot,$e);v.Rn((Cn)=>{for(let dn of Vt){if(!dn.range.intersect(Ot))continue;bt.delete(dn.id);let St=this.views.get(dn.id);if(St)St.item.set(dn,Cn);else{const ln=document.createElement("div");this._domNode.appendChild(ln);const Dn=v.FY("item",dn),vn=this.itemProvider.createView(Dn,ln);St=new Nt(Dn,vn,ln),this.views.set(dn.id,St)}const Lt=dn.range.startLineNumber<=this._editor.getModel().getLineCount()?this._editor.getTopForLineNumber(dn.range.startLineNumber,!0)-tt:this._editor.getBottomForLineNumber(dn.range.startLineNumber-1,!1)-tt,on=(dn.range.endLineNumberExclusive===1?Math.max(Lt,this._editor.getTopForLineNumber(dn.range.startLineNumber,!1)-tt):Math.max(Lt,this._editor.getBottomForLineNumber(dn.range.endLineNumberExclusive-1,!0)-tt))-Lt;St.domNode.style.top=`${Lt}px`,St.domNode.style.height=`${on}px`,St.gutterItemView.layout(W.L.ofStartAndLength(Lt,on),ke)}})}for(let qt of bt){const Ot=this.views.get(qt);Ot.gutterItemView.dispose(),Ot.domNode.remove(),this.views.delete(qt)}}}class Nt{constructor($e,tt,gt){this.item=$e,this.gutterItemView=tt,this.domNode=gt}}var Ci=h(6551),Hn=h(5787),Xt=h(8357);class pi extends Hn.CO{constructor($e){super(),this._textModel=$e}getValueOfRange($e){return this._textModel.getValueInRange($e)}get length(){const $e=this._textModel.getLineCount(),tt=this._textModel.getLineLength($e);return new Xt.W($e-1,tt)}}var Ji=h(583),Gi=h(8067),dr=h(1540),Ui=h(428),Xi=function($e,tt,gt,bt){var ke,qt=arguments.length,Ot=qt<3?tt:bt===null?bt=Object.getOwnPropertyDescriptor(tt,gt):bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ot=Reflect.decorate($e,tt,gt,bt);else for(var Vt=$e.length-1;Vt>=0;Vt--)(ke=$e[Vt])&&(Ot=(qt<3?ke(Ot):qt>3?ke(tt,gt,Ot):ke(tt,gt))||Ot);return qt>3&&Ot&&Object.defineProperty(tt,gt,Ot),Ot},Pi=function($e,tt){return function(gt,bt){tt(gt,bt,$e)}};const ar=[];let Hi=class extends M.jG{constructor($e,tt,gt,bt,ke,qt,Ot,Vt,Cn){super(),this._diffModel=tt,this._editors=gt,this._options=bt,this._sashLayout=ke,this._boundarySashes=qt,this._instantiationService=Ot,this._contextKeyService=Vt,this._menuService=Cn,this._menu=this._register(this._menuService.createMenu(Gi.D8.DiffEditorHunkToolbar,this._contextKeyService)),this._actions=v.y0(this,this._menu.onDidChange,()=>this._menu.getActions()),this._hasActions=this._actions.map((dn)=>dn.length>0),this._showSash=v.un(this,(dn)=>this._options.renderSideBySide.read(dn)&&this._hasActions.read(dn)),this.width=v.un(this,(dn)=>this._hasActions.read(dn)?35:0),this.elements=s.h("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:"35px"}},[]),this._currentDiff=v.un(this,(dn)=>{const St=this._diffModel.read(dn);if(!St)return;const Lt=St.diff.read(dn)?.mappings,on=this._editors.modifiedCursor.read(dn);return on?Lt?.find((ln)=>ln.lineRangeMapping.modified.contains(on.lineNumber)):void 0}),this._selectedDiffs=v.un(this,(dn)=>{const St=this._diffModel.read(dn),Lt=St?.diff.read(dn);if(!Lt)return ar;const on=this._editors.modifiedSelections.read(dn);if(on.every((vn)=>vn.isEmpty()))return ar;const ln=new L.S(on.map((vn)=>L.M.fromRangeInclusive(vn))),Dn=Lt.mappings.filter((vn)=>vn.lineRangeMapping.innerChanges&&ln.intersects(vn.lineRangeMapping.modified)).map((vn)=>({mapping:vn,rangeMappings:vn.lineRangeMapping.innerChanges.filter(($n)=>on.some((Un)=>U.Q.areIntersecting($n.modifiedRange,Un)))}));return Dn.length===0||Dn.every((vn)=>vn.rangeMappings.length===0)?ar:Dn}),this._register(z.$y($e,this.elements.root)),this._register(s.ko(this.elements.root,"click",()=>{this._editors.modified.focus()})),this._register(z.AV(this.elements.root,{display:this._hasActions.map((dn)=>dn?"block":"none")})),E.a0(this,(dn)=>this._showSash.read(dn)?new ft($e,this._sashLayout.dimensions,this._options.enableSplitViewResizing,this._boundarySashes,E.dQ(this,(St)=>this._sashLayout.sashLeft.read(St)-35,(St,Lt)=>this._sashLayout.sashLeft.set(St+35,Lt)),()=>this._sashLayout.resetSash()):void 0).recomputeInitiallyAndOnChange(this._store),this._register(new Yn(this._editors.modified,this.elements.root,{getIntersectingGutterItems:(dn,St)=>{const Lt=this._diffModel.read(St);if(!Lt)return[];const on=Lt.diff.read(St);if(!on)return[];const ln=this._selectedDiffs.read(St);if(ln.length>0){const vn=$.wm.fromRangeMappings(ln.flatMap(($n)=>$n.rangeMappings));return[new or(vn,!0,Gi.D8.DiffEditorSelectionToolbar,void 0,Lt.model.original.uri,Lt.model.modified.uri)]}const Dn=this._currentDiff.read(St);return on.mappings.map((vn)=>new or(vn.lineRangeMapping.withInnerChangesFromLineRanges(),vn.lineRangeMapping===Dn?.lineRangeMapping,Gi.D8.DiffEditorHunkToolbar,void 0,Lt.model.original.uri,Lt.model.modified.uri))},createView:(dn,St)=>this._instantiationService.createInstance(Yi,dn,St,this)})),this._register(s.ko(this.elements.gutter,s.Bx.MOUSE_WHEEL,(dn)=>{this._editors.modified.getOption(104).handleMouseWheel&&this._editors.modified.delegateScrollFromMouseWheelEvent(dn)},{passive:!1}))}computeStagedValue($e){const tt=$e.innerChanges??[],gt=new pi(this._editors.modifiedModel.get()),bt=new pi(this._editors.original.getModel());return new Hn.mF(tt.map((qt)=>qt.toTextEdit(gt))).apply(bt)}layout($e){this.elements.gutter.style.left=$e+"px"}};Hi=Xi([Pi(6,Y._Y),Pi(7,dr.fN),Pi(8,Gi.ez)],Hi);class or{constructor($e,tt,gt,bt,ke,qt){this.mapping=$e,this.showAlways=tt,this.menuId=gt,this.rangeOverride=bt,this.originalUri=ke,this.modifiedUri=qt}get id(){return this.mapping.modified.toString()}get range(){return this.rangeOverride??this.mapping.modified}}let Yi=class extends M.jG{constructor($e,tt,gt,bt){super(),this._item=$e,this._elements=s.h("div.gutterItem",{style:{height:"20px",width:"34px"}},[s.h("div.background@background",{},[]),s.h("div.buttons@buttons",{},[])]),this._showAlways=this._item.map(this,(qt)=>qt.showAlways),this._menuId=this._item.map(this,(qt)=>qt.menuId),this._isSmall=v.FY(this,!1),this._lastItemRange=void 0,this._lastViewRange=void 0;const ke=this._register(bt.createInstance(Ui.fO,"element",!0,{position:{hoverPosition:1}}));this._register(z.rX(tt,this._elements.root)),this._register(v.fm((qt)=>{const Ot=this._showAlways.read(qt);this._elements.root.classList.toggle("noTransition",!0),this._elements.root.classList.toggle("showAlways",Ot),setTimeout(()=>{this._elements.root.classList.toggle("noTransition",!1)},0)})),this._register(v.yC((qt,Ot)=>{this._elements.buttons.replaceChildren();const Vt=Ot.add(bt.createInstance(Ji.m,this._elements.buttons,this._menuId.read(qt),{orientation:1,hoverDelegate:ke,toolbarOptions:{primaryGroup:(Cn)=>Cn.startsWith("primary")},overflowBehavior:{maxItems:this._isSmall.read(qt)?1:3},hiddenItemStrategy:0,actionRunner:new Ci.I(()=>{const Cn=this._item.get(),dn=Cn.mapping;return{mapping:dn,originalWithModifiedChanges:gt.computeStagedValue(dn),originalUri:Cn.originalUri,modifiedUri:Cn.modifiedUri}}),menuOptions:{shouldForwardArgs:!0}}));Ot.add(Vt.onDidChangeMenuItems(()=>{this._lastItemRange&&this.layout(this._lastItemRange,this._lastViewRange)}))}))}layout($e,tt){this._lastItemRange=$e,this._lastViewRange=tt;let gt=this._elements.buttons.clientHeight;this._isSmall.set(this._item.get().mapping.original.startLineNumber===1&&$e.length<30,void 0),gt=this._elements.buttons.clientHeight;const bt=$e.length/2-gt/2,ke=gt;let qt=$e.start+bt;const Ot=W.L.tryCreate(ke,tt.endExclusive-ke-gt),Vt=W.L.tryCreate($e.start+ke,$e.endExclusive-gt-ke);Vt&&Ot&&Vt.start<Vt.endExclusive&&(qt=Ot.clip(qt),qt=Vt.clip(qt)),this._elements.buttons.style.top=qt-$e.start+"px"}};Yi=Xi([Pi(3,Y._Y)],Yi);var _t,Kt=h(7965),tn=h(5043),In=h(8122),mn=h(6803),wn=h(559),An=h(9044);let fi=class extends M.jG{static{_t=this}static{this.ONE_OVERVIEW_WIDTH=15}static{this.ENTIRE_DIFF_OVERVIEW_WIDTH=2*this.ONE_OVERVIEW_WIDTH}constructor($e,tt,gt,bt,ke,qt,Ot){super(),this._editors=$e,this._rootElement=tt,this._diffModel=gt,this._rootWidth=bt,this._rootHeight=ke,this._modifiedEditorLayoutInfo=qt,this._themeService=Ot,this.width=_t.ENTIRE_DIFF_OVERVIEW_WIDTH;const Vt=v.y0(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),Cn=v.un((Lt)=>{const on=Vt.read(Lt);return{insertColor:on.getColor(wn.ld8)||(on.getColor(wn.Gj6)||wn.EY1).transparent(2),removeColor:on.getColor(wn.$BZ)||(on.getColor(wn.GNm)||wn.ZEf).transparent(2)}}),dn=tn.Z(document.createElement("div"));dn.setClassName("diffViewport"),dn.setPosition("absolute");const St=s.h("div.diffOverview",{style:{position:"absolute",top:"0px",width:_t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register(z.rX(St,dn.domNode)),this._register(s.b2(St,s.Bx.POINTER_DOWN,(Lt)=>{this._editors.modified.delegateVerticalScrollbarPointerDown(Lt)})),this._register(s.ko(St,s.Bx.MOUSE_WHEEL,(Lt)=>{this._editors.modified.delegateScrollFromMouseWheelEvent(Lt)},{passive:!1})),this._register(z.rX(this._rootElement,St)),this._register(v.yC((Lt,on)=>{const ln=this._diffModel.read(Lt),Dn=this._editors.original.createOverviewRuler("original diffOverviewRuler");Dn&&(on.add(Dn),on.add(z.rX(St,Dn.getDomNode())));const vn=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(vn&&(on.add(vn),on.add(z.rX(St,vn.getDomNode()))),!Dn||!vn)return;const $n=v.yQ("viewZoneChanged",this._editors.original.onDidChangeViewZones),Un=v.yQ("viewZoneChanged",this._editors.modified.onDidChangeViewZones),Fn=v.yQ("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),fn=v.yQ("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);on.add(v.fm((Qn)=>{$n.read(Qn),Un.read(Qn),Fn.read(Qn),fn.read(Qn);const N=Cn.read(Qn),Z=ln?.diff.read(Qn)?.mappings;function j(Oe,Ke,wt){const kt=wt._getViewModel();return kt?Oe.filter((Et)=>Et.length>0).map((Et)=>{const st=kt.coordinatesConverter.convertModelPositionToViewPosition(new B.y(Et.startLineNumber,1)),Bt=kt.coordinatesConverter.convertModelPositionToViewPosition(new B.y(Et.endLineNumberExclusive,1)),Rt=Bt.lineNumber-st.lineNumber;return new mn.iE(st.lineNumber,Bt.lineNumber,Rt,Ke.toString())}):[]}const _e=j((Z||[]).map((Oe)=>Oe.lineRangeMapping.original),N.removeColor,this._editors.original),Ne=j((Z||[]).map((Oe)=>Oe.lineRangeMapping.modified),N.insertColor,this._editors.modified);Dn?.setZones(_e),vn?.setZones(Ne)})),on.add(v.fm((Qn)=>{const N=this._rootHeight.read(Qn),Z=this._rootWidth.read(Qn),j=this._modifiedEditorLayoutInfo.read(Qn);if(j){const _e=_t.ENTIRE_DIFF_OVERVIEW_WIDTH-2*_t.ONE_OVERVIEW_WIDTH;Dn.setLayout({top:0,height:N,right:_e+_t.ONE_OVERVIEW_WIDTH,width:_t.ONE_OVERVIEW_WIDTH}),vn.setLayout({top:0,height:N,right:0,width:_t.ONE_OVERVIEW_WIDTH});const Ne=this._editors.modifiedScrollTop.read(Qn),Oe=this._editors.modifiedScrollHeight.read(Qn),Ke=this._editors.modified.getOption(104),wt=new In.m(Ke.verticalHasArrows?Ke.arrowSize:0,Ke.verticalScrollbarSize,0,j.height,Oe,Ne);dn.setTop(wt.getSliderPosition()),dn.setHeight(wt.getSliderSize())}else dn.setTop(0),dn.setHeight(0);St.style.height=N+"px",St.style.left=Z-_t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",dn.setWidth(_t.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};fi=_t=function($e,tt,gt,bt){var ke,qt=arguments.length,Ot=qt<3?tt:bt===null?bt=Object.getOwnPropertyDescriptor(tt,gt):bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ot=Reflect.decorate($e,tt,gt,bt);else for(var Vt=$e.length-1;Vt>=0;Vt--)(ke=$e[Vt])&&(Ot=(qt<3?ke(Ot):qt>3?ke(tt,gt,Ot):ke(tt,gt))||Ot);return qt>3&&Ot&&Object.defineProperty(tt,gt,Ot),Ot}([function($e,tt){return function(gt,bt){tt(gt,bt,$e)}}(6,An.Gy)],fi);var qn=h(1818),oi=h(6055);const Ai=[];class nr extends M.jG{constructor($e,tt,gt,bt){super(),this._editors=$e,this._diffModel=tt,this._options=gt,this._widget=bt,this._selectedDiffs=v.un(this,(ke)=>{const qt=this._diffModel.read(ke),Ot=qt?.diff.read(ke);if(!Ot)return Ai;const Vt=this._editors.modifiedSelections.read(ke);if(Vt.every((St)=>St.isEmpty()))return Ai;const Cn=new L.S(Vt.map((St)=>L.M.fromRangeInclusive(St))),dn=Ot.mappings.filter((St)=>St.lineRangeMapping.innerChanges&&Cn.intersects(St.lineRangeMapping.modified)).map((St)=>({mapping:St,rangeMappings:St.lineRangeMapping.innerChanges.filter((Lt)=>Vt.some((on)=>U.Q.areIntersecting(Lt.modifiedRange,on)))}));return dn.length===0||dn.every((St)=>St.rangeMappings.length===0)?Ai:dn}),this._register(v.yC((ke,qt)=>{if(!this._options.shouldRenderOldRevertArrows.read(ke))return;const Ot=this._diffModel.read(ke),Vt=Ot?.diff.read(ke);if(!Ot||!Vt)return;if(Ot.movedTextToCompare.read(ke))return;const Cn=[],dn=this._selectedDiffs.read(ke),St=new Set(dn.map((Lt)=>Lt.mapping));if(dn.length>0){const Lt=this._editors.modifiedSelections.read(ke),on=qt.add(new $i(Lt[Lt.length-1].positionLineNumber,this._widget,dn.flatMap((ln)=>ln.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(on),Cn.push(on)}for(let Lt of Vt.mappings)if(!St.has(Lt)&&!Lt.lineRangeMapping.modified.isEmpty&&Lt.lineRangeMapping.innerChanges){const on=qt.add(new $i(Lt.lineRangeMapping.modified.startLineNumber,this._widget,Lt.lineRangeMapping,!1));this._editors.modified.addGlyphMarginWidget(on),Cn.push(on)}qt.add(M.s(()=>{for(let Lt of Cn)this._editors.modified.removeGlyphMarginWidget(Lt)}))}))}}class $i extends M.jG{static{this.counter=0}getId(){return this._id}constructor($e,tt,gt,bt){super(),this._lineNumber=$e,this._widget=tt,this._diffs=gt,this._revertSelection=bt,this._id="revertButton"+$i.counter++,this._domNode=s.h("div.revertButton",{title:this._revertSelection?H.kg("revertSelectedChanges","Revert Selected Changes"):H.kg("revertChange","Revert Change")},[qn.s(k.W.arrowRight)]).root,this._register(s.ko(this._domNode,s.Bx.MOUSE_DOWN,(ke)=>{ke.button!==2&&(ke.stopPropagation(),ke.preventDefault())})),this._register(s.ko(this._domNode,s.Bx.MOUSE_UP,(ke)=>{ke.stopPropagation(),ke.preventDefault()})),this._register(s.ko(this._domNode,s.Bx.CLICK,(ke)=>{this._diffs instanceof $.WL?this._widget.revert(this._diffs):this._widget.revertRangeMappings(this._diffs),ke.stopPropagation(),ke.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:oi.ZS.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}var ji=h(4975),di=h(2596),Qi=h(5741),wr=h(657),ht=h(4023),xt=h(1988),se=h(6071),Ae=function($e,tt){return function(gt,bt){tt(gt,bt,$e)}};let He=class extends M.jG{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor($e,tt,gt,bt,ke,qt,Ot){super(),this.originalEditorElement=$e,this.modifiedEditorElement=tt,this._options=gt,this._argCodeEditorWidgetOptions=bt,this._createInnerEditor=ke,this._instantiationService=qt,this._keybindingService=Ot,this.original=this._register(this._createLeftHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.modifiedEditor||{})),this._onDidContentSizeChange=this._register(new J.vl),this.modifiedScrollTop=v.y0(this,this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=v.y0(this,this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedObs=xt.Ud(this.modified),this.originalObs=xt.Ud(this.original),this.modifiedModel=this.modifiedObs.model,this.modifiedSelections=v.y0(this,this.modified.onDidChangeCursorSelection,()=>this.modified.getSelections()??[]),this.modifiedCursor=v.C({owner:this,equalsFn:B.y.equals},(Vt)=>this.modifiedSelections.read(Vt)[0]?.getPosition()??new B.y(1,1)),this.originalCursor=v.y0(this,this.original.onDidChangeCursorPosition,()=>this.original.getPosition()??new B.y(1,1)),this._argCodeEditorWidgetOptions=null,this._register(v.Y({createEmptyChangeSummary:()=>({}),handleChange:(Vt,Cn)=>(Vt.didChange(gt.editorOptions)&&Object.assign(Cn,Vt.change.changedOptions),!0)},(Vt,Cn)=>{gt.editorOptions.read(Vt),this._options.renderSideBySide.read(Vt),this.modified.updateOptions(this._adjustOptionsForRightHandSide(Vt,Cn)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(Vt,Cn))}))}_createLeftHandSideEditor($e,tt){const gt=this._adjustOptionsForLeftHandSide(void 0,$e),bt=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,gt,tt);return bt.setContextValue("isInDiffLeftEditor",!0),bt}_createRightHandSideEditor($e,tt){const gt=this._adjustOptionsForRightHandSide(void 0,$e),bt=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,gt,tt);return bt.setContextValue("isInDiffRightEditor",!0),bt}_constructInnerEditor($e,tt,gt,bt){const ke=this._createInnerEditor($e,tt,gt,bt);return this._register(ke.onDidContentSizeChange((qt)=>{const Ot=this.original.getContentWidth()+this.modified.getContentWidth()+fi.ENTIRE_DIFF_OVERVIEW_WIDTH,Vt=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Vt,contentWidth:Ot,contentHeightChanged:qt.contentHeightChanged,contentWidthChanged:qt.contentWidthChanged})})),ke}_adjustOptionsForLeftHandSide($e,tt){const gt=this._adjustOptionsForSubEditor(tt);return this._options.renderSideBySide.get()?(gt.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},gt.wordWrapOverride1=this._options.diffWordWrap.get()):(gt.wordWrapOverride1="off",gt.wordWrapOverride2="off",gt.stickyScroll={enabled:!1},gt.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),gt.glyphMargin=this._options.renderSideBySide.get(),tt.originalAriaLabel&&(gt.ariaLabel=tt.originalAriaLabel),gt.ariaLabel=this._updateAriaLabel(gt.ariaLabel),gt.readOnly=!this._options.originalEditable.get(),gt.dropIntoEditor={enabled:!gt.readOnly},gt.extraEditorClassName="original-in-monaco-diff-editor",gt}_adjustOptionsForRightHandSide($e,tt){const gt=this._adjustOptionsForSubEditor(tt);return tt.modifiedAriaLabel&&(gt.ariaLabel=tt.modifiedAriaLabel),gt.ariaLabel=this._updateAriaLabel(gt.ariaLabel),gt.wordWrapOverride1=this._options.diffWordWrap.get(),gt.revealHorizontalRightPadding=te.qB.revealHorizontalRightPadding.defaultValue+fi.ENTIRE_DIFF_OVERVIEW_WIDTH,gt.scrollbar.verticalHasArrows=!1,gt.extraEditorClassName="modified-in-monaco-diff-editor",gt}_adjustOptionsForSubEditor($e){const tt={...$e,dimension:{height:0,width:0}};return tt.inDiffEditor=!0,tt.automaticLayout=!1,tt.scrollbar={...tt.scrollbar||{}},tt.folding=!1,tt.codeLens=this._options.diffCodeLens.get(),tt.fixedOverflowWidgets=!0,tt.minimap={...tt.minimap||{}},tt.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?tt.stickyScroll={enabled:!1}:tt.stickyScroll=this._options.editorOptions.get().stickyScroll,tt}_updateAriaLabel($e){$e||($e="");const tt=H.kg("diff-aria-navigation-tip"," use {0} to open the accessibility help.",this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp")?.getAriaLabel());return this._options.accessibilityVerbose.get()?$e+tt:$e?$e.replaceAll(tt,""):""}};He=function($e,tt,gt,bt){var ke,qt=arguments.length,Ot=qt<3?tt:bt===null?bt=Object.getOwnPropertyDescriptor(tt,gt):bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ot=Reflect.decorate($e,tt,gt,bt);else for(var Vt=$e.length-1;Vt>=0;Vt--)(ke=$e[Vt])&&(Ot=(qt<3?ke(Ot):qt>3?ke(tt,gt,Ot):ke(tt,gt))||Ot);return qt>3&&Ot&&Object.defineProperty(tt,gt,Ot),Ot}([Ae(5,Y._Y),Ae(6,se.b)],He);class mt extends M.jG{constructor(){super(...arguments),this._id=++mt.idCounter,this._onDidDispose=this._register(new J.vl),this.onDidDispose=this._onDidDispose.event}static{this.idCounter=0}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition($e){return this._targetEditor.getVisibleColumnFromPosition($e)}getPosition(){return this._targetEditor.getPosition()}setPosition($e,tt="api"){this._targetEditor.setPosition($e,tt)}revealLine($e,tt=0){this._targetEditor.revealLine($e,tt)}revealLineInCenter($e,tt=0){this._targetEditor.revealLineInCenter($e,tt)}revealLineInCenterIfOutsideViewport($e,tt=0){this._targetEditor.revealLineInCenterIfOutsideViewport($e,tt)}revealLineNearTop($e,tt=0){this._targetEditor.revealLineNearTop($e,tt)}revealPosition($e,tt=0){this._targetEditor.revealPosition($e,tt)}revealPositionInCenter($e,tt=0){this._targetEditor.revealPositionInCenter($e,tt)}revealPositionInCenterIfOutsideViewport($e,tt=0){this._targetEditor.revealPositionInCenterIfOutsideViewport($e,tt)}revealPositionNearTop($e,tt=0){this._targetEditor.revealPositionNearTop($e,tt)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection($e,tt="api"){this._targetEditor.setSelection($e,tt)}setSelections($e,tt="api"){this._targetEditor.setSelections($e,tt)}revealLines($e,tt,gt=0){this._targetEditor.revealLines($e,tt,gt)}revealLinesInCenter($e,tt,gt=0){this._targetEditor.revealLinesInCenter($e,tt,gt)}revealLinesInCenterIfOutsideViewport($e,tt,gt=0){this._targetEditor.revealLinesInCenterIfOutsideViewport($e,tt,gt)}revealLinesNearTop($e,tt,gt=0){this._targetEditor.revealLinesNearTop($e,tt,gt)}revealRange($e,tt=0,gt=!1,bt=!0){this._targetEditor.revealRange($e,tt,gt,bt)}revealRangeInCenter($e,tt=0){this._targetEditor.revealRangeInCenter($e,tt)}revealRangeInCenterIfOutsideViewport($e,tt=0){this._targetEditor.revealRangeInCenterIfOutsideViewport($e,tt)}revealRangeNearTop($e,tt=0){this._targetEditor.revealRangeNearTop($e,tt)}revealRangeNearTopIfOutsideViewport($e,tt=0){this._targetEditor.revealRangeNearTopIfOutsideViewport($e,tt)}revealRangeAtTop($e,tt=0){this._targetEditor.revealRangeAtTop($e,tt)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger($e,tt,gt){this._targetEditor.trigger($e,tt,gt)}createDecorationsCollection($e){return this._targetEditor.createDecorationsCollection($e)}changeDecorations($e){return this._targetEditor.changeDecorations($e)}}var At=h(2146),zt=h(6427),Pt=h(3909);let Wt=class{get editorOptions(){return this._options}constructor($e,tt){this._accessibilityService=tt,this._diffEditorWidth=v.FY(this,0),this._screenReaderMode=v.y0(this,this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this.couldShowInlineViewBecauseOfSize=v.un(this,(bt)=>this._options.read(bt).renderSideBySide&&this._diffEditorWidth.read(bt)<=this._options.read(bt).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=v.un(this,(bt)=>this._options.read(bt).renderOverviewRuler),this.renderSideBySide=v.un(this,(bt)=>(!this.compactMode.read(bt)||!this.shouldRenderInlineViewInSmartMode.read(bt))&&this._options.read(bt).renderSideBySide&&!(this._options.read(bt).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(bt)&&!this._screenReaderMode.read(bt))),this.readOnly=v.un(this,(bt)=>this._options.read(bt).readOnly),this.shouldRenderOldRevertArrows=v.un(this,(bt)=>!(!this._options.read(bt).renderMarginRevertIcon||!this.renderSideBySide.read(bt)||this.readOnly.read(bt)||this.shouldRenderGutterMenu.read(bt))),this.shouldRenderGutterMenu=v.un(this,(bt)=>this._options.read(bt).renderGutterMenu),this.renderIndicators=v.un(this,(bt)=>this._options.read(bt).renderIndicators),this.enableSplitViewResizing=v.un(this,(bt)=>this._options.read(bt).enableSplitViewResizing),this.splitViewDefaultRatio=v.un(this,(bt)=>this._options.read(bt).splitViewDefaultRatio),this.ignoreTrimWhitespace=v.un(this,(bt)=>this._options.read(bt).ignoreTrimWhitespace),this.maxComputationTimeMs=v.un(this,(bt)=>this._options.read(bt).maxComputationTime),this.showMoves=v.un(this,(bt)=>this._options.read(bt).experimental.showMoves&&this.renderSideBySide.read(bt)),this.isInEmbeddedEditor=v.un(this,(bt)=>this._options.read(bt).isInEmbeddedEditor),this.diffWordWrap=v.un(this,(bt)=>this._options.read(bt).diffWordWrap),this.originalEditable=v.un(this,(bt)=>this._options.read(bt).originalEditable),this.diffCodeLens=v.un(this,(bt)=>this._options.read(bt).diffCodeLens),this.accessibilityVerbose=v.un(this,(bt)=>this._options.read(bt).accessibilityVerbose),this.diffAlgorithm=v.un(this,(bt)=>this._options.read(bt).diffAlgorithm),this.showEmptyDecorations=v.un(this,(bt)=>this._options.read(bt).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=v.un(this,(bt)=>this._options.read(bt).onlyShowAccessibleDiffViewer),this.compactMode=v.un(this,(bt)=>this._options.read(bt).compactMode),this.trueInlineDiffRenderingEnabled=v.un(this,(bt)=>this._options.read(bt).experimental.useTrueInlineView),this.useTrueInlineDiffRendering=v.un(this,(bt)=>!this.renderSideBySide.read(bt)&&this.trueInlineDiffRenderingEnabled.read(bt)),this.hideUnchangedRegions=v.un(this,(bt)=>this._options.read(bt).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=v.un(this,(bt)=>this._options.read(bt).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=v.un(this,(bt)=>this._options.read(bt).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=v.un(this,(bt)=>this._options.read(bt).hideUnchangedRegions.minimumLineCount),this._model=v.FY(this,void 0),this.shouldRenderInlineViewInSmartMode=this._model.map(this,(bt)=>At.t(this,(ke)=>{const qt=bt?.diff.read(ke);return qt?(Ot=qt,Vt=this.trueInlineDiffRenderingEnabled.read(ke),Ot.mappings.every((Cn)=>Cn.lineRangeMapping.original.length===0||Cn.lineRangeMapping.modified.length===0||Vt&&Ni(Cn.lineRangeMapping))):void 0;var Ot,Vt})).flatten().map(this,(bt)=>!!bt),this.inlineViewHideOriginalLineNumbers=this.compactMode;const gt={...$e,...Nn($e,zt.q)};this._options=v.FY(this,gt)}updateOptions($e){const tt=Nn($e,this._options.get()),gt={...this._options.get(),...$e,...tt};this._options.set(gt,void 0,{changedOptions:$e})}setWidth($e){this._diffEditorWidth.set($e,void 0)}setModel($e){this._model.set($e,void 0)}};function Nn($e,tt){return{enableSplitViewResizing:te.zM($e.enableSplitViewResizing,tt.enableSplitViewResizing),splitViewDefaultRatio:te.ls($e.splitViewDefaultRatio,0.5,0.1,0.9),renderSideBySide:te.zM($e.renderSideBySide,tt.renderSideBySide),renderMarginRevertIcon:te.zM($e.renderMarginRevertIcon,tt.renderMarginRevertIcon),maxComputationTime:te.wA($e.maxComputationTime,tt.maxComputationTime,0,1073741824),maxFileSize:te.wA($e.maxFileSize,tt.maxFileSize,0,1073741824),ignoreTrimWhitespace:te.zM($e.ignoreTrimWhitespace,tt.ignoreTrimWhitespace),renderIndicators:te.zM($e.renderIndicators,tt.renderIndicators),originalEditable:te.zM($e.originalEditable,tt.originalEditable),diffCodeLens:te.zM($e.diffCodeLens,tt.diffCodeLens),renderOverviewRuler:te.zM($e.renderOverviewRuler,tt.renderOverviewRuler),diffWordWrap:te.O4($e.diffWordWrap,tt.diffWordWrap,["off","on","inherit"]),diffAlgorithm:te.O4($e.diffAlgorithm,tt.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:te.zM($e.accessibilityVerbose,tt.accessibilityVerbose),experimental:{showMoves:te.zM($e.experimental?.showMoves,tt.experimental.showMoves),showEmptyDecorations:te.zM($e.experimental?.showEmptyDecorations,tt.experimental.showEmptyDecorations),useTrueInlineView:te.zM($e.experimental?.useTrueInlineView,tt.experimental.useTrueInlineView)},hideUnchangedRegions:{enabled:te.zM($e.hideUnchangedRegions?.enabled??$e.experimental?.collapseUnchangedRegions,tt.hideUnchangedRegions.enabled),contextLineCount:te.wA($e.hideUnchangedRegions?.contextLineCount,tt.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:te.wA($e.hideUnchangedRegions?.minimumLineCount,tt.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:te.wA($e.hideUnchangedRegions?.revealLineCount,tt.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:te.zM($e.isInEmbeddedEditor,tt.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:te.zM($e.onlyShowAccessibleDiffViewer,tt.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:te.wA($e.renderSideBySideInlineBreakpoint,tt.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:te.zM($e.useInlineViewWhenSpaceIsLimited,tt.useInlineViewWhenSpaceIsLimited),renderGutterMenu:te.zM($e.renderGutterMenu,tt.renderGutterMenu),compactMode:te.zM($e.compactMode,tt.compactMode)}}Wt=function($e,tt,gt,bt){var ke,qt=arguments.length,Ot=qt<3?tt:bt===null?bt=Object.getOwnPropertyDescriptor(tt,gt):bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ot=Reflect.decorate($e,tt,gt,bt);else for(var Vt=$e.length-1;Vt>=0;Vt--)(ke=$e[Vt])&&(Ot=(qt<3?ke(Ot):qt>3?ke(tt,gt,Ot):ke(tt,gt))||Ot);return qt>3&&Ot&&Object.defineProperty(tt,gt,Ot),Ot}([function($e,tt){return function(gt,bt){tt(gt,bt,$e)}}(1,Pt.j)],Wt);var bn=function($e,tt){return function(gt,bt){tt(gt,bt,$e)}};let Jn=class extends mt{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor($e,tt,gt,bt,ke,qt,Ot,Vt){super(),this._domElement=$e,this._parentContextKeyService=bt,this._parentInstantiationService=ke,this._accessibilitySignalService=Ot,this._editorProgressService=Vt,this.elements=s.h("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[s.h("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),s.h("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),s.h("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModelSrc=this._register(v.X2(this,void 0)),this._diffModel=v.un(this,(fn)=>this._diffModelSrc.read(fn)?.object),this.onDidChangeModel=J.Jh.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new wr.a([dr.fN,this._contextKeyService]))),this._boundarySashes=v.FY(this,void 0),this._accessibleDiffViewerShouldBeVisible=v.FY(this,!1),this._accessibleDiffViewerVisible=v.un(this,(fn)=>!!this._options.onlyShowAccessibleDiffViewer.read(fn)||this._accessibleDiffViewerShouldBeVisible.read(fn)),this._movedBlocksLinesPart=v.FY(this,void 0),this._layoutInfo=v.un(this,(fn)=>{const Qn=this._rootSizeObserver.width.read(fn),N=this._rootSizeObserver.height.read(fn);this._rootSizeObserver.automaticLayout?this.elements.root.style.height="100%":this.elements.root.style.height=N+"px";const Z=this._sash.read(fn),j=this._gutter.read(fn),_e=j?.width.read(fn)??0,Ne=this._overviewRulerPart.read(fn)?.width??0;let Oe,Ke,wt,kt,Et;if(Z){const st=Z.sashLeft.read(fn);Oe=0,Ke=st-_e-(this._movedBlocksLinesPart.read(fn)?.width.read(fn)??0),Et=st-_e,wt=st,kt=Qn-wt-Ne}else Et=0,Oe=_e,Ke=this._options.inlineViewHideOriginalLineNumbers.read(fn)?0:Math.max(5,this._editors.originalObs.layoutInfoDecorationsLeft.read(fn)),wt=_e+Ke,kt=Qn-wt-Ne;return this.elements.original.style.left=Oe+"px",this.elements.original.style.width=Ke+"px",this._editors.original.layout({width:Ke,height:N},!0),j?.layout(Et),this.elements.modified.style.left=wt+"px",this.elements.modified.style.width=kt+"px",this._editors.modified.layout({width:kt,height:N},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((fn,Qn)=>fn?.diff.read(Qn)),this.onDidUpdateDiff=J.Jh.fromObservableLight(this._diffValue),qt.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(M.s(()=>this.elements.root.remove())),this._rootSizeObserver=this._register(new z.pN(this.elements.root,tt.dimension)),this._rootSizeObserver.setAutomaticLayout(tt.automaticLayout??!1),this._options=this._instantiationService.createInstance(Wt,tt),this._register(v.fm((fn)=>{this._options.setWidth(this._rootSizeObserver.width.read(fn))})),this._contextKeyService.createKey(Qi.R.isEmbeddedDiffEditor.key,!1),this._register(ji.w(Qi.R.isEmbeddedDiffEditor,this._contextKeyService,(fn)=>this._options.isInEmbeddedEditor.read(fn))),this._register(ji.w(Qi.R.comparingMovedCode,this._contextKeyService,(fn)=>!!this._diffModel.read(fn)?.movedTextToCompare.read(fn))),this._register(ji.w(Qi.R.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,(fn)=>this._options.couldShowInlineViewBecauseOfSize.read(fn))),this._register(ji.w(Qi.R.diffEditorInlineMode,this._contextKeyService,(fn)=>!this._options.renderSideBySide.read(fn))),this._register(ji.w(Qi.R.hasChanges,this._contextKeyService,(fn)=>(this._diffModel.read(fn)?.diff.read(fn)?.mappings.length??0)>0)),this._editors=this._register(this._instantiationService.createInstance(He,this.elements.original,this.elements.modified,this._options,gt,(fn,Qn,N,Z)=>this._createInnerEditor(fn,Qn,N,Z))),this._register(ji.w(Qi.R.diffEditorOriginalWritable,this._contextKeyService,(fn)=>this._options.originalEditable.read(fn))),this._register(ji.w(Qi.R.diffEditorModifiedWritable,this._contextKeyService,(fn)=>!this._options.readOnly.read(fn))),this._register(ji.w(Qi.R.diffEditorOriginalUri,this._contextKeyService,(fn)=>this._diffModel.read(fn)?.model.original.uri.toString()??"")),this._register(ji.w(Qi.R.diffEditorModifiedUri,this._contextKeyService,(fn)=>this._diffModel.read(fn)?.model.modified.uri.toString()??"")),this._overviewRulerPart=E.a0(this,(fn)=>this._options.renderOverviewRuler.read(fn)?this._instantiationService.createInstance(Fe.b(fi,fn),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map((Qn)=>Qn.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store);const Cn={height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((fn,Qn)=>fn-(this._overviewRulerPart.read(Qn)?.width??0))};this._sashLayout=new un(this._options,Cn),this._sash=E.a0(this,(fn)=>{const Qn=this._options.renderSideBySide.read(fn);return this.elements.root.classList.toggle("side-by-side",Qn),Qn?new ft(this.elements.root,Cn,this._options.enableSplitViewResizing,this._boundarySashes,this._sashLayout.sashLeft,()=>this._sashLayout.resetSash()):void 0}).recomputeInitiallyAndOnChange(this._store);const dn=E.a0(this,(fn)=>this._instantiationService.createInstance(Fe.b(Kt.N,fn),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);E.a0(this,(fn)=>this._instantiationService.createInstance(Fe.b(rr,fn),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const St=new Set,Lt=new Set;let on=!1;const ln=E.a0(this,(fn)=>this._instantiationService.createInstance(Fe.b(Ln,fn),s.zk(this._domElement),this._editors,this._diffModel,this._options,this,()=>on||dn.get().isUpdatingHiddenAreas,St,Lt)).recomputeInitiallyAndOnChange(this._store),Dn=v.un(this,(fn)=>{const Qn=ln.read(fn).viewZones.read(fn).orig,N=dn.read(fn).viewZones.read(fn).origViewZones;return Qn.concat(N)}),vn=v.un(this,(fn)=>{const Qn=ln.read(fn).viewZones.read(fn).mod,N=dn.read(fn).viewZones.read(fn).modViewZones;return Qn.concat(N)});let $n;this._register(z.Vs(this._editors.original,Dn,(fn)=>{on=fn},St)),this._register(z.Vs(this._editors.modified,vn,(fn)=>{on=fn,on?$n=d.D.capture(this._editors.modified):($n?.restore(this._editors.modified),$n=void 0)},Lt)),this._accessibleDiffViewer=E.a0(this,(fn)=>this._instantiationService.createInstance(Fe.b(Q,fn),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(Qn,N)=>this._accessibleDiffViewerShouldBeVisible.set(Qn,N),this._options.onlyShowAccessibleDiffViewer.map((Qn)=>!Qn),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((Qn,N)=>Qn?.diff.read(N)?.mappings.map((Z)=>Z.lineRangeMapping)),new de(this._editors))).recomputeInitiallyAndOnChange(this._store);const Un=this._accessibleDiffViewerVisible.map((fn)=>fn?"hidden":"visible");this._register(z.AV(this.elements.modified,{visibility:Un})),this._register(z.AV(this.elements.original,{visibility:Un})),this._createDiffEditorContributions(),qt.addDiffEditor(this),this._gutter=E.a0(this,(fn)=>this._options.shouldRenderGutterMenu.read(fn)?this._instantiationService.createInstance(Fe.b(Hi,fn),this.elements.root,this._diffModel,this._editors,this._options,this._sashLayout,this._boundarySashes):void 0),this._register(v.OI(this._layoutInfo)),E.a0(this,(fn)=>new(Fe.b(er,fn))(this.elements.root,this._diffModel,this._layoutInfo.map((Qn)=>Qn.originalEditor),this._layoutInfo.map((Qn)=>Qn.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,(fn)=>{this._movedBlocksLinesPart.set(fn,void 0)}),this._register(J.Jh.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,(fn)=>this._handleCursorPositionChange(fn,!0))),this._register(J.Jh.runAndSubscribe(this._editors.original.onDidChangeCursorPosition,(fn)=>this._handleCursorPositionChange(fn,!1)));const Fn=this._diffModel.map(this,(fn,Qn)=>{if(fn)return fn.diff.read(Qn)===void 0&&!fn.isDiffUpToDate.read(Qn)});this._register(v.yC((fn,Qn)=>{if(Fn.read(fn)===!0){const N=this._editorProgressService.show(!0,1000);Qn.add(M.s(()=>N.done()))}})),this._register(v.yC((fn,Qn)=>{Qn.add(new(Fe.b(nr,fn))(this._editors,this._diffModel,this._options,this))})),this._register(v.yC((fn,Qn)=>{const N=this._diffModel.read(fn);if(N)for(let Z of[N.model.original,N.model.modified])Qn.add(Z.onWillDispose((j)=>{T.dz(new T.D7("TextModel got disposed before DiffEditorWidget model got reset")),this.setModel(null)}))})),this._register(v.fm((fn)=>{this._options.setModel(this._diffModel.read(fn))}))}_createInnerEditor($e,tt,gt,bt){return $e.createInstance(f.x,tt,gt,bt)}_createDiffEditorContributions(){const $e=w.dS.getDiffEditorContributions();for(let tt of $e)try{this._register(this._instantiationService.createInstance(tt.ctor,this))}catch(gt){T.dz(gt)}}get _targetEditor(){return this._editors.modified}getEditorType(){return di._.IDiffEditor}layout($e){this._rootSizeObserver.observe($e)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){return{original:this._editors.original.saveViewState(),modified:this._editors.modified.saveViewState(),modelState:this._diffModel.get()?.serializeState()}}restoreViewState($e){if($e&&$e.original&&$e.modified){const tt=$e;this._editors.original.restoreViewState(tt.original),this._editors.modified.restoreViewState(tt.modified),tt.modelState&&this._diffModel.get()?.restoreSerializedState(tt.modelState)}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel($e){return this._instantiationService.createInstance(Mt,$e,this._options)}getModel(){return this._diffModel.get()?.model??null}setModel($e){const tt=$e?"model"in $e?z.O8.create($e).createNewRef(this):z.O8.create(this.createViewModel($e),this):null;this.setDiffModel(tt)}setDiffModel($e,tt){const gt=this._diffModel.get();!$e&&gt&&this._accessibleDiffViewer.get().close(),this._diffModel.get()!==$e?.object&&v.PO(tt,(bt)=>{const ke=$e?.object;v.y0.batchEventsGlobally(bt,()=>{this._editors.original.setModel(ke?ke.model.original:null),this._editors.modified.setModel(ke?ke.model.modified:null)});const qt=this._diffModelSrc.get()?.createNewRef(this);this._diffModelSrc.set($e?.createNewRef(this),bt),setTimeout(()=>{qt?.dispose()},0)})}updateOptions($e){this._options.updateOptions($e)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){const $e=this._diffModel.get()?.diff.get();return $e?$e.mappings.map((tt)=>{const gt=tt.lineRangeMapping;let bt,ke,qt,Ot,Vt=gt.innerChanges;return gt.original.isEmpty?(bt=gt.original.startLineNumber-1,ke=0,Vt=void 0):(bt=gt.original.startLineNumber,ke=gt.original.endLineNumberExclusive-1),gt.modified.isEmpty?(qt=gt.modified.startLineNumber-1,Ot=0,Vt=void 0):(qt=gt.modified.startLineNumber,Ot=gt.modified.endLineNumberExclusive-1),{originalStartLineNumber:bt,originalEndLineNumber:ke,modifiedStartLineNumber:qt,modifiedEndLineNumber:Ot,charChanges:Vt?.map((Cn)=>({originalStartLineNumber:Cn.originalRange.startLineNumber,originalStartColumn:Cn.originalRange.startColumn,originalEndLineNumber:Cn.originalRange.endLineNumber,originalEndColumn:Cn.originalRange.endColumn,modifiedStartLineNumber:Cn.modifiedRange.startLineNumber,modifiedStartColumn:Cn.modifiedRange.startColumn,modifiedEndLineNumber:Cn.modifiedRange.endLineNumber,modifiedEndColumn:Cn.modifiedRange.endColumn}))}}):null}revert($e){const tt=this._diffModel.get();tt&&tt.isDiffUpToDate.get()&&this._editors.modified.executeEdits("diffEditor",[{range:$e.modified.toExclusiveRange(),text:tt.model.original.getValueInRange($e.original.toExclusiveRange())}])}revertRangeMappings($e){const tt=this._diffModel.get();if(!tt||!tt.isDiffUpToDate.get())return;const gt=$e.map((bt)=>({range:bt.modifiedRange,text:tt.model.original.getValueInRange(bt.originalRange)}));this._editors.modified.executeEdits("diffEditor",gt)}_goTo($e){this._editors.modified.setPosition(new B.y($e.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter($e.lineRangeMapping.modified.toExclusiveRange())}goToDiff($e){const tt=this._diffModel.get()?.diff.get()?.mappings;if(!tt||tt.length===0)return;const gt=this._editors.modified.getPosition().lineNumber;let bt;bt=$e==="next"?tt.find((ke)=>ke.lineRangeMapping.modified.startLineNumber>gt)??tt[0]:I.Uk(tt,(ke)=>ke.lineRangeMapping.modified.startLineNumber<gt)??tt[tt.length-1],this._goTo(bt),bt.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(V.Rh.diffLineDeleted,{source:"diffEditor.goToDiff"}):bt.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(V.Rh.diffLineInserted,{source:"diffEditor.goToDiff"}):bt&&this._accessibilitySignalService.playSignal(V.Rh.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const $e=this._diffModel.get();$e&&this.waitForDiff().then(()=>{const tt=$e.diff.get()?.mappings;tt&&tt.length!==0&&this._goTo(tt[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const $e=this._diffModel.get();$e&&await $e.waitForDiff()}mapToOtherSide(){const $e=this._editors.modified.hasWidgetFocus(),tt=$e?this._editors.modified:this._editors.original,gt=$e?this._editors.original:this._editors.modified;let bt;const ke=tt.getSelection();if(ke){const qt=this._diffModel.get()?.diff.get()?.mappings.map((Ot)=>$e?Ot.lineRangeMapping.flip():Ot.lineRangeMapping);if(qt){const Ot=z.Mu(ke.getStartPosition(),qt),Vt=z.Mu(ke.getEndPosition(),qt);bt=U.Q.plusRange(Ot,Vt)}}return{destination:gt,destinationSelection:bt}}switchSide(){const{destination:$e,destinationSelection:tt}=this.mapToOtherSide();$e.focus(),tt&&$e.setSelection(tt)}exitCompareMove(){const $e=this._diffModel.get();$e&&$e.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){const $e=this._diffModel.get()?.unchangedRegions.get();$e&&v.Rn((tt)=>{for(let gt of $e)gt.collapseAll(tt)})}showAllUnchangedRegions(){const $e=this._diffModel.get()?.unchangedRegions.get();$e&&v.Rn((tt)=>{for(let gt of $e)gt.showAll(tt)})}_handleCursorPositionChange($e,tt){if($e?.reason===3){const gt=this._diffModel.get()?.diff.get()?.mappings.find((bt)=>tt?bt.lineRangeMapping.modified.contains($e.position.lineNumber):bt.lineRangeMapping.original.contains($e.position.lineNumber));gt?.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(V.Rh.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):gt?.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(V.Rh.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):gt&&this._accessibilitySignalService.playSignal(V.Rh.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}};Jn=function($e,tt,gt,bt){var ke,qt=arguments.length,Ot=qt<3?tt:bt===null?bt=Object.getOwnPropertyDescriptor(tt,gt):bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ot=Reflect.decorate($e,tt,gt,bt);else for(var Vt=$e.length-1;Vt>=0;Vt--)(ke=$e[Vt])&&(Ot=(qt<3?ke(Ot):qt>3?ke(tt,gt,Ot):ke(tt,gt))||Ot);return qt>3&&Ot&&Object.defineProperty(tt,gt,Ot),Ot}([bn(3,dr.fN),bn(4,Y._Y),bn(5,C.T),bn(6,V.Nt),bn(7,ht.N8)],Jn)},1602:(dt,pe,h)=>{h.d(pe,{Hg:()=>p});var s,I=h(6726),T=h(2399),J=h(2106),M=h(3013),v=h(9955),E=h(9331),w=h(304),C=h(6243),d=function(b,x,k,R){var P,z=arguments.length,te=z<3?x:R===null?R=Object.getOwnPropertyDescriptor(x,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(b,x,k,R);else for(var L=b.length-1;L>=0;L--)(P=b[L])&&(te=(z<3?P(te):z>3?P(x,k,te):P(x,k))||te);return z>3&&te&&Object.defineProperty(x,k,te),te},f=function(b,x){return function(k,R){x(k,R,b)}};const p=T.u1("diffProviderFactoryService");let _=class{constructor(b){this.instantiationService=b}createDiffProvider(b){return this.instantiationService.createInstance(m,b)}};_=d([f(0,T._Y)],_),I.v(p,_,1);let m=class{static{s=this}static{this.diffCache=new Map}constructor(b,x,k){this.editorWorkerService=x,this.telemetryService=k,this.onDidChangeEventEmitter=new J.vl,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(b)}dispose(){this.diffAlgorithmOnDidChangeSubscription?.dispose()}async computeDiff(b,x,k,R){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(b,x,k,R);if(b.isDisposed()||x.isDisposed())return{changes:[],identical:!0,quitEarly:!1,moves:[]};if(b.getLineCount()===1&&b.getLineMaxColumn(1)===1)return x.getLineCount()===1&&x.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new E.wm(new v.M(1,2),new v.M(1,x.getLineCount()+1),[new E.q6(b.getFullModelRange(),x.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const P=JSON.stringify([b.uri.toString(),x.uri.toString()]),z=JSON.stringify([b.id,x.id,b.getAlternativeVersionId(),x.getAlternativeVersionId(),JSON.stringify(k)]),te=s.diffCache.get(P);if(te&&te.context===z)return te.result;const L=M.W.create(),W=await this.editorWorkerService.computeDiff(b.uri,x.uri,k,this.diffAlgorithm),B=L.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:B,timedOut:W?.quitEarly??!0,detectedMoves:k.computeMoves?W?.moves.length??0:-1}),R.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!W)throw new Error("no diff result available");return s.diffCache.size>10&&s.diffCache.delete(s.diffCache.keys().next().value),s.diffCache.set(P,{result:W,context:z}),W}setOptions(b){let x=!1;b.diffAlgorithm&&this.diffAlgorithm!==b.diffAlgorithm&&(this.diffAlgorithmOnDidChangeSubscription?.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=b.diffAlgorithm,typeof b.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=b.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),x=!0),x&&this.onDidChangeEventEmitter.fire()}};m=s=d([f(1,w.IEditorWorkerService),f(2,C.k)],m)},7965:(dt,pe,h)=>{h.d(pe,{N:()=>P});var s,I=h(4333),T=h(1818),J=h(5915),M=h(28),v=h(998),E=h(6311),w=h(8366),C=h(8881),d=h(9359),f=h(1988),p=h(2744),_=h(9955),m=h(5365),b=h(8061),x=h(4364),k=h(9746),R=h(2399);let P=class extends v.jG{static{s=this}static{this._breadcrumbsSourceFactory=E.FY(s,()=>({dispose(){},getBreadcrumbItems:(B,U)=>[]}))}static setBreadcrumbsSourceFactory(B){this._breadcrumbsSourceFactory.set(B,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(B,U,$,G){super(),this._editors=B,this._diffModel=U,this._options=$,this._instantiationService=G,this._modifiedOutlineSource=w.a0(this,(H)=>{const V=this._editors.modifiedModel.read(H),Y=s._breadcrumbsSourceFactory.read(H);return V&&Y?Y(V,this._instantiationService):void 0}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition((H)=>{if(H.reason===1)return;const V=this._diffModel.get();E.Rn((Y)=>{for(let ve of this._editors.original.getSelections()||[])V?.ensureOriginalLineIsVisible(ve.getStartPosition().lineNumber,0,Y),V?.ensureOriginalLineIsVisible(ve.getEndPosition().lineNumber,0,Y)})})),this._register(this._editors.modified.onDidChangeCursorPosition((H)=>{if(H.reason===1)return;const V=this._diffModel.get();E.Rn((Y)=>{for(let ve of this._editors.modified.getSelections()||[])V?.ensureModifiedLineIsVisible(ve.getStartPosition().lineNumber,0,Y),V?.ensureModifiedLineIsVisible(ve.getEndPosition().lineNumber,0,Y)})}));const ie=this._diffModel.map((H,V)=>{const Y=H?.unchangedRegions.read(V)??[];return Y.length===1&&Y[0].modifiedLineNumber===1&&Y[0].lineCount===this._editors.modifiedModel.read(V)?.getLineCount()?[]:Y});this.viewZones=E.rm(this,(H,V)=>{const Y=this._modifiedOutlineSource.read(H);if(!Y)return{origViewZones:[],modViewZones:[]};const ve=[],Te=[],xe=this._options.renderSideBySide.read(H),Be=this._options.compactMode.read(H),Ie=ie.read(H);for(let he=0;he<Ie.length;he++){const Q=Ie[he];if(!Q.shouldHideControls(H)&&(!Be||he!==0&&he!==Ie.length-1))if(Be){{const re=E.un(this,(Se)=>Q.getHiddenOriginalRange(Se).startLineNumber-1),Je=new p.D1(re,12);ve.push(Je),V.add(new L(this._editors.original,Je,Q,!xe))}{const re=E.un(this,(Se)=>Q.getHiddenModifiedRange(Se).startLineNumber-1),Je=new p.D1(re,12);Te.push(Je),V.add(new L(this._editors.modified,Je,Q))}}else{{const re=E.un(this,(Se)=>Q.getHiddenOriginalRange(Se).startLineNumber-1),Je=new p.D1(re,24);ve.push(Je),V.add(new W(this._editors.original,Je,Q,Q.originalUnchangedRange,!xe,Y,(Se)=>this._diffModel.get().ensureModifiedLineIsVisible(Se,2,void 0),this._options))}{const re=E.un(this,(Se)=>Q.getHiddenModifiedRange(Se).startLineNumber-1),Je=new p.D1(re,24);Te.push(Je),V.add(new W(this._editors.modified,Je,Q,Q.modifiedUnchangedRange,!1,Y,(Se)=>this._diffModel.get().ensureModifiedLineIsVisible(Se,2,void 0),this._options))}}}return{origViewZones:ve,modViewZones:Te}});const ee={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},ne={description:"Fold Unchanged",glyphMarginHoverMessage:new M.Bc(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(k.kg("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+C.L.asClassName(J.W.fold),zIndex:10001};this._register(p.pY(this._editors.original,E.un(this,(H)=>{const V=ie.read(H),Y=V.map((ve)=>({range:ve.originalUnchangedRange.toInclusiveRange(),options:ee}));for(let ve of V)ve.shouldHideControls(H)&&Y.push({range:b.Q.fromPositions(new m.y(ve.originalLineNumber,1)),options:ne});return Y}))),this._register(p.pY(this._editors.modified,E.un(this,(H)=>{const V=ie.read(H),Y=V.map((ve)=>({range:ve.modifiedUnchangedRange.toInclusiveRange(),options:ee}));for(let ve of V)ve.shouldHideControls(H)&&Y.push({range:_.M.ofLength(ve.modifiedLineNumber,1).toInclusiveRange(),options:ne});return Y}))),this._register(E.fm((H)=>{const V=ie.read(H);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(V.map((Y)=>Y.getHiddenOriginalRange(H).toInclusiveRange()).filter(d.O9)),this._editors.modified.setHiddenAreas(V.map((Y)=>Y.getHiddenModifiedRange(H).toInclusiveRange()).filter(d.O9))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp((H)=>{if(!H.event.rightButton&&H.target.position&&H.target.element?.className.includes("fold-unchanged")){const V=H.target.position.lineNumber,Y=this._diffModel.get();if(!Y)return;const ve=Y.unchangedRegions.get().find((Te)=>Te.modifiedUnchangedRange.includes(V));if(!ve)return;ve.collapseAll(void 0),H.event.stopPropagation(),H.event.preventDefault()}})),this._register(this._editors.original.onMouseUp((H)=>{if(!H.event.rightButton&&H.target.position&&H.target.element?.className.includes("fold-unchanged")){const V=H.target.position.lineNumber,Y=this._diffModel.get();if(!Y)return;const ve=Y.unchangedRegions.get().find((Te)=>Te.originalUnchangedRange.includes(V));if(!ve)return;ve.collapseAll(void 0),H.event.stopPropagation(),H.event.preventDefault()}}))}};var z,te;P=s=function(B,U,$,G){var ie,ee=arguments.length,ne=ee<3?U:G===null?G=Object.getOwnPropertyDescriptor(U,$):G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(B,U,$,G);else for(var H=B.length-1;H>=0;H--)(ie=B[H])&&(ne=(ee<3?ie(ne):ee>3?ie(U,$,ne):ie(U,$))||ne);return ee>3&&ne&&Object.defineProperty(U,$,ne),ne}([(z=3,te=R._Y,function(B,U){te(B,U,z)})],P);class L extends p.uN{constructor(B,U,$,G=!1){const ie=I.h("div.diff-hidden-lines-widget");super(B,U,ie.root),this._unchangedRegion=$,this._hide=G,this._nodes=I.h("div.diff-hidden-lines-compact",[I.h("div.line-left",[]),I.h("div.text@text",[]),I.h("div.line-right",[])]),ie.root.appendChild(this._nodes.root),this._hide&&this._nodes.root.replaceChildren(),this._register(E.fm((ee)=>{if(!this._hide){const ne=this._unchangedRegion.getHiddenModifiedRange(ee).length,H=k.kg("hiddenLines","{0} hidden lines",ne);this._nodes.text.innerText=H}}))}}class W extends p.uN{constructor(B,U,$,G,ie,ee,ne,H){const V=I.h("div.diff-hidden-lines-widget");super(B,U,V.root),this._editor=B,this._unchangedRegion=$,this._unchangedRegionRange=G,this._hide=ie,this._modifiedOutlineSource=ee,this._revealModifiedHiddenLine=ne,this._options=H,this._nodes=I.h("div.diff-hidden-lines",[I.h("div.top@top",{title:k.kg("diff.hiddenLines.top","Click or drag to show more above")}),I.h("div.center@content",{style:{display:"flex"}},[I.h("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[I.$("a",{title:k.kg("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...T.n("$(unfold)"))]),I.h("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),I.h("div.bottom@bottom",{title:k.kg("diff.bottom","Click or drag to show more below"),role:"button"})]),V.root.appendChild(this._nodes.root),this._hide?I.Ln(this._nodes.first):this._register(p.AV(this._nodes.first,{width:f.Ud(this._editor).layoutInfoContentLeft})),this._register(E.fm((ve)=>{const Te=this._unchangedRegion.visibleLineCountTop.read(ve)+this._unchangedRegion.visibleLineCountBottom.read(ve)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!Te),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(ve)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(ve)>0),this._nodes.top.classList.toggle("canMoveBottom",!Te);const xe=this._unchangedRegion.isDragged.read(ve),Be=this._editor.getDomNode();Be&&(Be.classList.toggle("draggingUnchangedRegion",!!xe),xe==="top"?(Be.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(ve)>0),Be.classList.toggle("canMoveBottom",!Te)):xe==="bottom"?(Be.classList.toggle("canMoveTop",!Te),Be.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(ve)>0)):(Be.classList.toggle("canMoveTop",!1),Be.classList.toggle("canMoveBottom",!1)))}));const Y=this._editor;this._register(I.ko(this._nodes.top,"mousedown",(ve)=>{if(ve.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),ve.preventDefault();const Te=ve.clientY;let xe=!1;const Be=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const Ie=I.zk(this._nodes.top),he=I.ko(Ie,"mousemove",(re)=>{const Je=re.clientY-Te;xe=xe||Math.abs(Je)>2;const Se=Math.round(Je/Y.getOption(67)),Pe=Math.max(0,Math.min(Be+Se,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(Pe,void 0)}),Q=I.ko(Ie,"mouseup",(re)=>{xe||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),he.dispose(),Q.dispose()})})),this._register(I.ko(this._nodes.bottom,"mousedown",(ve)=>{if(ve.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),ve.preventDefault();const Te=ve.clientY;let xe=!1;const Be=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const Ie=I.zk(this._nodes.bottom),he=I.ko(Ie,"mousemove",(re)=>{const Je=re.clientY-Te;xe=xe||Math.abs(Je)>2;const Se=Math.round(Je/Y.getOption(67)),Pe=Math.max(0,Math.min(Be-Se,this._unchangedRegion.getMaxVisibleLineCountBottom())),Le=this._unchangedRegionRange.endLineNumberExclusive>Y.getModel().getLineCount()?Y.getContentHeight():Y.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(Pe,void 0);const Ve=this._unchangedRegionRange.endLineNumberExclusive>Y.getModel().getLineCount()?Y.getContentHeight():Y.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);Y.setScrollTop(Y.getScrollTop()+(Ve-Le))}),Q=I.ko(Ie,"mouseup",(re)=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!xe){const Je=Y.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const Se=Y.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);Y.setScrollTop(Y.getScrollTop()+(Se-Je))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),he.dispose(),Q.dispose()})})),this._register(E.fm((ve)=>{const Te=[];if(!this._hide){const xe=$.getHiddenModifiedRange(ve).length,Be=k.kg("hiddenLines","{0} hidden lines",xe),Ie=I.$("span",{title:k.kg("diff.hiddenLines.expandAll","Double click to unfold")},Be);Ie.addEventListener("dblclick",(re)=>{re.button===0&&(re.preventDefault(),this._unchangedRegion.showAll(void 0))}),Te.push(Ie);const he=this._unchangedRegion.getHiddenModifiedRange(ve),Q=this._modifiedOutlineSource.getBreadcrumbItems(he,ve);if(Q.length>0){Te.push(I.$("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let re=0;re<Q.length;re++){const Je=Q[re],Se=x.gP.toIcon(Je.kind),Pe=I.h("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[T.s(Se),"\xA0",Je.name,...re===Q.length-1?[]:[T.s(J.W.chevronRight)]]).root;Te.push(Pe),Pe.onclick=()=>{this._revealModifiedHiddenLine(Je.startLineNumber)}}}}I.Ln(this._nodes.others,...Te)}))}}},6811:(dt,pe,h)=>{h.d(pe,{GM:()=>b,KL:()=>k,Kl:()=>C,Ob:()=>d,Ou:()=>m,XT:()=>p,Zb:()=>x,Zw:()=>f,bk:()=>_,dv:()=>w,wp:()=>R});var s=h(5915),I=h(8881),T=h(1907),J=h(9746),M=h(559),v=h(1210);M.x1A("diffEditor.move.border","#8b8b8b9c",J.kg("diffEditor.move.border","The border color for text that got moved in the diff editor.")),M.x1A("diffEditor.moveActive.border","#FFA500",J.kg("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor.")),M.x1A("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},J.kg("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets."));const E=v.pU("diff-insert",s.W.add,J.kg("diffInsertIcon","Line decoration for inserts in the diff editor.")),w=v.pU("diff-remove",s.W.remove,J.kg("diffRemoveIcon","Line decoration for removals in the diff editor.")),C=T.kI.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+I.L.asClassName(E),marginClassName:"gutter-insert"}),d=T.kI.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+I.L.asClassName(w),marginClassName:"gutter-delete"}),f=T.kI.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),p=T.kI.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),_=T.kI.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),m=T.kI.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),b=T.kI.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),x=T.kI.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),k=T.kI.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),R=T.kI.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})},2744:(dt,pe,h)=>{h.d(pe,{$y:()=>p,AV:()=>R,Am:()=>C,D1:()=>x,EK:()=>L,MZ:()=>z,Mu:()=>te,Nu:()=>m,O8:()=>W,Vs:()=>P,pN:()=>_,pY:()=>d,rX:()=>f,uN:()=>b});var s=h(7393),I=h(8903),T=h(998),J=h(6311),M=h(5711),v=h(5365),E=h(8061),w=h(8357);function C($,G,ie,ee){if($.length===0)return G;if(G.length===0)return $;const ne=[];let H=0,V=0;for(;H<$.length&&V<G.length;){const Y=$[H],ve=G[V],Te=ie(Y),xe=ie(ve);Te<xe?(ne.push(Y),H++):Te>xe?(ne.push(ve),V++):(ne.push(ee(Y,ve)),H++,V++)}for(;H<$.length;)ne.push($[H]),H++;for(;V<G.length;)ne.push(G[V]),V++;return ne}function d($,G){const ie=new T.Cm,ee=$.createDecorationsCollection();return ie.add(J.zL({debugName:()=>`Apply decorations from ${G.debugName}`},(ne)=>{const H=G.read(ne);ee.set(H)})),ie.add({dispose:()=>{ee.clear()}}),ie}function f($,G){return $.appendChild(G),T.s(()=>{G.remove()})}function p($,G){return $.prepend(G),T.s(()=>{G.remove()})}class _ extends T.jG{get width(){return this._width}get height(){return this._height}get automaticLayout(){return this._automaticLayout}constructor($,G){super(),this._automaticLayout=!1,this.elementSizeObserver=this._register(new M.u($,G)),this._width=J.FY(this,this.elementSizeObserver.getWidth()),this._height=J.FY(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange((ie)=>J.Rn((ee)=>{this._width.set(this.elementSizeObserver.getWidth(),ee),this._height.set(this.elementSizeObserver.getHeight(),ee)})))}observe($){this.elementSizeObserver.observe($)}setAutomaticLayout($){this._automaticLayout=$,$?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function m($,G,ie){let ee=G.get(),ne=ee,H=ee;const V=J.FY("animatedValue",ee);let Y,ve=-1;function Te(){const xe=Date.now()-ve;var Be,Ie,he;H=Math.floor((Ie=ne,he=ee-ne,(Be=xe)===300?Ie+he:he*(1-Math.pow(2,-10*Be/300))+Ie)),xe<300?Y=$.requestAnimationFrame(Te):H=ee,V.set(H,void 0)}return ie.add(J.Y({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(xe,Be)=>(xe.didChange(G)&&(Be.animate=Be.animate||xe.change),!0)},(xe,Be)=>{Y!==void 0&&($.cancelAnimationFrame(Y),Y=void 0),ne=H,ee=G.read(xe),ve=Date.now()-(Be.animate?0:300),Te()})),V}class b extends T.jG{constructor($,G,ie){super(),this._register(new k($,ie)),this._register(R(ie,{height:G.actualHeight,top:G.actualTop}))}}class x{get afterLineNumber(){return this._afterLineNumber.get()}constructor($,G){this._afterLineNumber=$,this.heightInPx=G,this.domNode=document.createElement("div"),this._actualTop=J.FY(this,void 0),this._actualHeight=J.FY(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=(ie)=>{this._actualTop.set(ie,void 0)},this.onComputedHeight=(ie)=>{this._actualHeight.set(ie,void 0)}}}class k{static{this._counter=0}constructor($,G){this._editor=$,this._domElement=G,this._overlayWidgetId="managedOverlayWidget-"+k._counter++,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}function R($,G){return J.fm((ie)=>{for(let[ee,ne]of Object.entries(G))ne&&typeof ne=="object"&&"read"in ne&&(ne=ne.read(ie)),typeof ne=="number"&&(ne=`${ne}px`),ee=ee.replace(/[A-Z]/g,(H)=>"-"+H.toLowerCase()),$.style[ee]=ne})}function P($,G,ie,ee){const ne=new T.Cm,H=[];return ne.add(J.yC((V,Y)=>{const ve=G.read(V),Te=new Map,xe=new Map;ie&&ie(!0),$.changeViewZones((Be)=>{for(let Ie of H)Be.removeZone(Ie),ee?.delete(Ie);H.length=0;for(let Ie of ve){const he=Be.addZone(Ie);Ie.setZoneId&&Ie.setZoneId(he),H.push(he),ee?.add(he),Te.set(Ie,he)}}),ie&&ie(!1),Y.add(J.Y({createEmptyChangeSummary:()=>({zoneIds:[]}),handleChange(Be,Ie){const he=xe.get(Be.changedObservable);return he!==void 0&&Ie.zoneIds.push(he),!0}},(Be,Ie)=>{for(let he of ve)he.onChange&&(xe.set(he.onChange,Te.get(he)),he.onChange.read(Be));ie&&ie(!0),$.changeViewZones((he)=>{for(let Q of Ie.zoneIds)he.layoutZone(Q)}),ie&&ie(!1)}))})),ne.add({dispose(){ie&&ie(!0),$.changeViewZones((V)=>{for(let Y of H)V.removeZone(Y)}),ee?.clear(),ie&&ie(!1)}}),ne}class z extends I.Qi{dispose(){super.dispose(!0)}}function te($,G){const ie=s.Uk(G,(V)=>V.original.startLineNumber<=$.lineNumber);if(!ie)return E.Q.fromPositions($);if(ie.original.endLineNumberExclusive<=$.lineNumber){const V=$.lineNumber-ie.original.endLineNumberExclusive+ie.modified.endLineNumberExclusive;return E.Q.fromPositions(new v.y(V,$.column))}if(!ie.innerChanges)return E.Q.fromPositions(new v.y(ie.modified.startLineNumber,1));const ee=s.Uk(ie.innerChanges,(V)=>V.originalRange.getStartPosition().isBeforeOrEqual($));if(!ee){const V=$.lineNumber-ie.original.startLineNumber+ie.modified.startLineNumber;return E.Q.fromPositions(new v.y(V,$.column))}if(ee.originalRange.containsPosition($))return ee.modifiedRange;{const V=(ne=ee.originalRange.getEndPosition(),H=$,ne.lineNumber===H.lineNumber?new w.W(0,H.column-ne.column):new w.W(H.lineNumber-ne.lineNumber,H.column-1));return E.Q.fromPositions(V.addToPosition(ee.modifiedRange.getEndPosition()))}var ne,H}function L($,G){let ie;return $.filter((ee)=>{const ne=G(ee,ie);return ie=ee,ne})}class W{static create($,G=void 0){return new B($,$,G)}static createWithDisposable($,G,ie=void 0){const ee=new T.Cm;return ee.add(G),ee.add($),new B($,ee,ie)}}class B extends W{constructor($,G,ie){super(),this.object=$,this._disposable=G,this._debugOwner=ie,this._refCount=1,this._isDisposed=!1,this._owners=[],ie&&this._addOwner(ie)}_addOwner($){$&&this._owners.push($)}createNewRef($){return this._refCount++,$&&this._addOwner($),new U(this,$)}dispose(){this._isDisposed||(this._isDisposed=!0,this._decreaseRefCount(this._debugOwner))}_decreaseRefCount($){if(this._refCount--,this._refCount===0&&this._disposable.dispose(),$){const G=this._owners.indexOf($);G!==-1&&this._owners.splice(G,1)}}}class U extends W{constructor($,G){super(),this._base=$,this._debugOwner=G,this._isDisposed=!1}get object(){return this._base.object}createNewRef($){return this._base.createNewRef($)}dispose(){this._isDisposed||(this._isDisposed=!0,this._base._decreaseRefCount(this._debugOwner))}}},3550:(dt,pe,h)=>{h.d(pe,{T:()=>_,i:()=>m});var s,I=h(6930),T=h(3021),J=h(4327),M=h(2106),v=h(998),E=h(5837),w=h(7922),C=h(4957),d=h(1458),f=h(4435),p=function(x,k){return function(R,P){k(R,P,x)}};let _=class{static{s=this}static{this._ttpTokenizer=T.H("tokenizeToString",{createHTML:(x)=>x})}constructor(x,k,R){this._options=x,this._languageService=k,this._openerService=R,this._onDidRenderAsync=new M.vl,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(x,k,R){if(!x)return{element:document.createElement("span"),dispose:()=>{}};const P=new v.Cm,z=P.add(I.Gc(x,{...this._getRenderOptions(x,P),...k},R));return z.element.classList.add("rendered-markdown"),{element:z.element,dispose:()=>P.dispose()}}_getRenderOptions(x,k){return{codeBlockRenderer:async(R,P)=>{let z;R?z=this._languageService.getLanguageIdByLanguageName(R):this._options.editor&&(z=this._options.editor.getModel()?.getLanguageId()),z||(z=C.vH);const te=await d.Yj(this._languageService,P,z),L=document.createElement("span");if(L.innerHTML=s._ttpTokenizer?.createHTML(te)??te,this._options.editor){const W=this._options.editor.getOption(50);E.M(L,W)}else this._options.codeBlockFontFamily&&(L.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(L.style.fontSize=this._options.codeBlockFontSize),L},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:(R)=>m(this._openerService,R,x.isTrusted),disposables:k}}}};async function m(x,k,R){try{return await x.open(k,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:b(R)})}catch(P){return J.dz(P),!1}}function b(x){return x===!0||!(!x||!Array.isArray(x.enabledCommands))&&x.enabledCommands}_=s=function(x,k,R,P){var z,te=arguments.length,L=te<3?k:P===null?P=Object.getOwnPropertyDescriptor(k,R):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(x,k,R,P);else for(var W=x.length-1;W>=0;W--)(z=x[W])&&(L=(te<3?z(L):te>3?z(k,R,L):z(k,R))||L);return te>3&&L&&Object.defineProperty(k,R,L),L}([p(1,w.L),p(2,f.C)],_)},6551:(dt,pe,h)=>{h.d(pe,{I:()=>I});var s=h(7969);class I extends s.LN{constructor(T){super(),this._getContext=T}runAction(T,J){const M=this._getContext();return super.runAction(T,M)}}},6316:(dt,pe,h)=>{h.d(pe,{iP:()=>M,iu:()=>I,q2:()=>J,tA:()=>T,ui:()=>v});var s=h(3702);class I{constructor(E,w,C=!1){this._range=E,this._text=w,this.insertsAutoWhitespace=C}getEditOperations(E,w){w.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,w){const C=w.getInverseEditOperations()[0].range;return s.L.fromPositions(C.getEndPosition())}}class T{constructor(E,w){this._range=E,this._text=w}getEditOperations(E,w){w.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,w){const C=w.getInverseEditOperations()[0].range;return s.L.fromRange(C,0)}}class J{constructor(E,w,C=!1){this._range=E,this._text=w,this.insertsAutoWhitespace=C}getEditOperations(E,w){w.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,w){const C=w.getInverseEditOperations()[0].range;return s.L.fromPositions(C.getStartPosition())}}class M{constructor(E,w,C,d,f=!1){this._range=E,this._text=w,this._columnDeltaOffset=d,this._lineNumberDeltaOffset=C,this.insertsAutoWhitespace=f}getEditOperations(E,w){w.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,w){const C=w.getInverseEditOperations()[0].range;return s.L.fromPositions(C.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class v{constructor(E,w,C,d=!1){this._range=E,this._text=w,this._initialSelection=C,this._forceMoveMarkers=d,this._selectionId=null}getEditOperations(E,w){w.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=w.trackSelection(this._initialSelection)}computeCursorState(E,w){return w.getTrackedSelection(this._selectionId)}}},1672:(dt,pe,h)=>{h.d(pe,{Y:()=>d});var s,I=h(6844),T=h(2549),J=h(8061),M=h(3702),v=h(794),E=h(2394);const w=Object.create(null);function C(_,m){if(m<=0)return"";w[_]||(w[_]=["",_]);const b=w[_];for(let x=b.length;x<=m;x++)b[x]=b[x-1]+_;return b[m]}let d=s=class{static unshiftIndent(_,m,b,x,k){const R=T.A.visibleColumnFromColumn(_,m,b);if(k){const P=C(" ",x);return C(P,T.A.prevIndentTabStop(R,x)/x)}return C("\t",T.A.prevRenderTabStop(R,b)/b)}static shiftIndent(_,m,b,x,k){const R=T.A.visibleColumnFromColumn(_,m,b);if(k){const P=C(" ",x);return C(P,T.A.nextIndentTabStop(R,x)/x)}return C("\t",T.A.nextRenderTabStop(R,b)/b)}constructor(_,m,b){this._languageConfigurationService=b,this._opts=m,this._selection=_,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(_,m,b){this._useLastEditRangeForCursorEndPosition?_.addTrackedEditOperation(m,b):_.addEditOperation(m,b)}getEditOperations(_,m){const b=this._selection.startLineNumber;let x=this._selection.endLineNumber;this._selection.endColumn===1&&b!==x&&(x-=1);const{tabSize:k,indentSize:R,insertSpaces:P}=this._opts,z=b===x;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(_.getLineContent(b))&&(this._useLastEditRangeForCursorEndPosition=!0);let te=0,L=0;for(let W=b;W<=x;W++,te=L){L=0;const B=_.getLineContent(W);let U,$=I.HG(B);if((!this._opts.isUnshift||B.length!==0&&$!==0)&&(z||this._opts.isUnshift||B.length!==0)){if($===-1&&($=B.length),W>1&&T.A.visibleColumnFromColumn(B,$+1,k)%R!=0&&_.tokenization.isCheapToTokenize(W-1)){const G=v.h(this._opts.autoIndent,_,new J.Q(W-1,_.getLineMaxColumn(W-1),W-1,_.getLineMaxColumn(W-1)),this._languageConfigurationService);if(G){if(L=te,G.appendText)for(let ie=0,ee=G.appendText.length;ie<ee&&L<R&&G.appendText.charCodeAt(ie)===32;ie++)L++;G.removeText&&(L=Math.max(0,L-G.removeText));for(let ie=0;ie<L&&$!==0&&B.charCodeAt($-1)===32;ie++)$--}}this._opts.isUnshift&&$===0||(U=this._opts.isUnshift?s.unshiftIndent(B,$+1,k,R,P):s.shiftIndent(B,$+1,k,R,P),this._addEditOperation(m,new J.Q(W,1,W,$+1),U),W!==b||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=$+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&_.getLineLength(b)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const te=P?C(" ",R):"\t";for(let L=b;L<=x;L++){const W=_.getLineContent(L);let B=I.HG(W);if((!this._opts.isUnshift||W.length!==0&&B!==0)&&(z||this._opts.isUnshift||W.length!==0)&&(B===-1&&(B=W.length),!this._opts.isUnshift||B!==0))if(this._opts.isUnshift){B=Math.min(B,R);for(let U=0;U<B;U++)if(W.charCodeAt(U)===9){B=U+1;break}this._addEditOperation(m,new J.Q(L,1,L,B+1),"")}else this._addEditOperation(m,new J.Q(L,1,L,1),te),L!==b||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=m.trackSelection(this._selection)}computeCursorState(_,m){if(this._useLastEditRangeForCursorEndPosition){const x=m.getInverseEditOperations()[0];return new M.L(x.range.endLineNumber,x.range.endColumn,x.range.endLineNumber,x.range.endColumn)}const b=m.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const x=this._selection.startColumn;return b.startColumn<=x?b:b.getDirection()===0?new M.L(b.startLineNumber,x,b.endLineNumber,b.endColumn):new M.L(b.endLineNumber,b.endColumn,b.startLineNumber,x)}return b}};var f,p;d=s=function(_,m,b,x){var k,R=arguments.length,P=R<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,b):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(_,m,b,x);else for(var z=_.length-1;z>=0;z--)(k=_[z])&&(P=(R<3?k(P):R>3?k(m,b,P):k(m,b))||P);return R>3&&P&&Object.defineProperty(m,b,P),P}([(f=2,p=E.JZ,function(_,m){p(_,m,f)})],d)},6020:(dt,pe,h)=>{h.d(pe,{i:()=>T,y:()=>J});var s=h(8061),I=h(3702);class T{constructor(M,v,E){this._range=M,this._charBeforeSelection=v,this._charAfterSelection=E}getEditOperations(M,v){v.addTrackedEditOperation(new s.Q(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),v.addTrackedEditOperation(new s.Q(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(M,v){const E=v.getInverseEditOperations(),w=E[0].range,C=E[1].range;return new I.L(w.endLineNumber,w.endColumn,C.endLineNumber,C.endColumn-this._charAfterSelection.length)}}class J{constructor(M,v,E){this._position=M,this._text=v,this._charAfter=E}getEditOperations(M,v){v.addTrackedEditOperation(new s.Q(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(M,v){const E=v.getInverseEditOperations()[0].range;return new I.L(E.endLineNumber,E.startColumn,E.endLineNumber,E.endColumn-this._charAfter.length)}}},6427:(dt,pe,h)=>{h.d(pe,{q:()=>s});const s={enableSplitViewResizing:!0,splitViewDefaultRatio:0.5,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5000,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0,useTrueInlineView:!1},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0,compactMode:!1}},5003:(dt,pe,h)=>{h.d(pe,{Gn:()=>_,JJ:()=>E,vf:()=>p});var s=h(6427),I=h(6476),T=h(2590),J=h(9746),M=h(7142),v=h(7167);const E=Object.freeze({id:"editor",order:5,type:"object",title:J.kg("editorConfigurationTitle","Editor"),scope:5}),w={...E,properties:{"editor.tabSize":{type:"number",default:T.R.tabSize,minimum:1,markdownDescription:J.kg("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:J.kg("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:T.R.insertSpaces,markdownDescription:J.kg("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:T.R.detectIndentation,markdownDescription:J.kg("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:T.R.trimAutoWhitespace,description:J.kg("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:T.R.largeFileOptimizations,description:J.kg("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[J.kg("wordBasedSuggestions.off","Turn off Word Based Suggestions."),J.kg("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),J.kg("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),J.kg("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:J.kg("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[J.kg("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),J.kg("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),J.kg("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:J.kg("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:J.kg("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:20000,description:J.kg("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!0,description:J.kg("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:J.kg("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:J.kg("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.experimental.treeSitterTelemetry":{type:"boolean",default:!1,markdownDescription:J.kg("editor.experimental.treeSitterTelemetry","Controls whether tree sitter parsing should be turned on and telemetry collected. Setting `editor.experimental.preferTreeSitter` for specific languages will take precedence."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:J.kg("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:J.kg("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:J.kg("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:J.kg("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:J.kg("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:J.kg("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:s.q.maxComputationTime,description:J.kg("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:s.q.maxFileSize,description:J.kg("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:s.q.renderSideBySide,description:J.kg("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:s.q.renderSideBySideInlineBreakpoint,description:J.kg("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:s.q.useInlineViewWhenSpaceIsLimited,description:J.kg("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:s.q.renderMarginRevertIcon,description:J.kg("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.renderGutterMenu":{type:"boolean",default:s.q.renderGutterMenu,description:J.kg("renderGutterMenu","When enabled, the diff editor shows a special gutter for revert and stage actions.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:s.q.ignoreTrimWhitespace,description:J.kg("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:s.q.renderIndicators,description:J.kg("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:s.q.diffCodeLens,description:J.kg("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:s.q.diffWordWrap,markdownEnumDescriptions:[J.kg("wordWrap.off","Lines will never wrap."),J.kg("wordWrap.on","Lines will wrap at the viewport width."),J.kg("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:s.q.diffAlgorithm,markdownEnumDescriptions:[J.kg("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),J.kg("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:s.q.hideUnchangedRegions.enabled,markdownDescription:J.kg("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:s.q.hideUnchangedRegions.revealLineCount,markdownDescription:J.kg("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:s.q.hideUnchangedRegions.minimumLineCount,markdownDescription:J.kg("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:s.q.hideUnchangedRegions.contextLineCount,markdownDescription:J.kg("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:s.q.experimental.showMoves,markdownDescription:J.kg("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:s.q.experimental.showEmptyDecorations,description:J.kg("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")},"diffEditor.experimental.useTrueInlineView":{type:"boolean",default:s.q.experimental.useTrueInlineView,description:J.kg("useTrueInlineView","If enabled and the editor uses the inline view, word changes are rendered inline.")}}};for(let m of I.BE){const b=m.schema;if(b!==void 0)if((C=b).type!==void 0||C.anyOf!==void 0)w.properties[`editor.${m.name}`]=b;else for(let x in b)Object.hasOwnProperty.call(b,x)&&(w.properties[x]=b[x])}var C;let d=null;function f(){return d===null&&(d=Object.create(null),Object.keys(w.properties).forEach((m)=>{d[m]=!0})),d}function p(m){return f()[`editor.${m}`]||!1}function _(m){return f()[`diffEditor.${m}`]||!1}v.O.as(M.Fd.Configuration).registerConfiguration(w)},6476:(dt,pe,h)=>{h.d(pe,{$C:()=>H,BE:()=>Be,Bc:()=>G,O4:()=>L,Of:()=>ve,XR:()=>Y,hZ:()=>f,jT:()=>$,jU:()=>xe,ls:()=>P,lw:()=>w,m9:()=>U,n0:()=>C,qB:()=>he,r_:()=>ie,wA:()=>k,xZ:()=>ne,xq:()=>E,zM:()=>b});var s=h(3338),I=h(1386),T=h(3339),J=h(2590),M=h(8782),v=h(9746);const E=8;class w{constructor(Q){this._values=Q}hasChanged(Q){return this._values[Q]}}class C{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class d{constructor(Q,re,Je,Se){this.id=Q,this.name=re,this.defaultValue=Je,this.schema=Se}applyUpdate(Q,re){return p(Q,re)}compute(Q,re,Je){return Je}}class f{constructor(Q,re){this.newValue=Q,this.didChange=re}}function p(Q,re){if(typeof Q!="object"||typeof re!="object"||!Q||!re)return new f(re,Q!==re);if(Array.isArray(Q)||Array.isArray(re)){const Se=Array.isArray(Q)&&Array.isArray(re)&&s.aI(Q,re);return new f(re,!Se)}let Je=!1;for(let Se in re)if(re.hasOwnProperty(Se)){const Pe=p(Q[Se],re[Se]);Pe.didChange&&(Q[Se]=Pe.newValue,Je=!0)}return new f(Q,Je)}class _{constructor(Q){this.schema=void 0,this.id=Q,this.name="_never_",this.defaultValue=void 0}applyUpdate(Q,re){return p(Q,re)}validate(Q){return this.defaultValue}}class m{constructor(Q,re,Je,Se){this.id=Q,this.name=re,this.defaultValue=Je,this.schema=Se}applyUpdate(Q,re){return p(Q,re)}validate(Q){return Q===void 0?this.defaultValue:Q}compute(Q,re,Je){return Je}}function b(Q,re){return Q===void 0?re:Q!=="false"&&Boolean(Q)}class x extends m{constructor(Q,re,Je,Se=void 0){Se!==void 0&&(Se.type="boolean",Se.default=Je),super(Q,re,Je,Se)}validate(Q){return b(Q,this.defaultValue)}}function k(Q,re,Je,Se){if(Q===void 0)return re;let Pe=parseInt(Q,10);return isNaN(Pe)?re:(Pe=Math.max(Je,Pe),Pe=Math.min(Se,Pe),0|Pe)}class R extends m{static clampedInt(Q,re,Je,Se){return k(Q,re,Je,Se)}constructor(Q,re,Je,Se,Pe,Le=void 0){Le!==void 0&&(Le.type="integer",Le.default=Je,Le.minimum=Se,Le.maximum=Pe),super(Q,re,Je,Le),this.minimum=Se,this.maximum=Pe}validate(Q){return R.clampedInt(Q,this.defaultValue,this.minimum,this.maximum)}}function P(Q,re,Je,Se){if(Q===void 0)return re;const Pe=z.float(Q,re);return z.clamp(Pe,Je,Se)}class z extends m{static clamp(Q,re,Je){return Q<re?re:Q>Je?Je:Q}static float(Q,re){if(typeof Q=="number")return Q;if(Q===void 0)return re;const Je=parseFloat(Q);return isNaN(Je)?re:Je}constructor(Q,re,Je,Se,Pe){Pe!==void 0&&(Pe.type="number",Pe.default=Je),super(Q,re,Je,Pe),this.validationFn=Se}validate(Q){return this.validationFn(z.float(Q,this.defaultValue))}}class te extends m{static string(Q,re){return typeof Q!="string"?re:Q}constructor(Q,re,Je,Se=void 0){Se!==void 0&&(Se.type="string",Se.default=Je),super(Q,re,Je,Se)}validate(Q){return te.string(Q,this.defaultValue)}}function L(Q,re,Je,Se){return typeof Q!="string"?re:Se&&(Q in Se)?Se[Q]:Je.indexOf(Q)===-1?re:Q}class W extends m{constructor(Q,re,Je,Se,Pe=void 0){Pe!==void 0&&(Pe.type="string",Pe.enum=Se,Pe.default=Je),super(Q,re,Je,Pe),this._allowedValues=Se}validate(Q){return L(Q,this.defaultValue,this._allowedValues)}}class B extends d{constructor(Q,re,Je,Se,Pe,Le,Ve=void 0){Ve!==void 0&&(Ve.type="string",Ve.enum=Pe,Ve.default=Se),super(Q,re,Je,Ve),this._allowedValues=Pe,this._convert=Le}validate(Q){return typeof Q!="string"||this._allowedValues.indexOf(Q)===-1?this.defaultValue:this._convert(Q)}}var U,$;(function(Q){Q[Q.Line=1]="Line",Q[Q.Block=2]="Block",Q[Q.Underline=3]="Underline",Q[Q.LineThin=4]="LineThin",Q[Q.BlockOutline=5]="BlockOutline",Q[Q.UnderlineThin=6]="UnderlineThin"})(U||(U={}));class G extends d{static{this.OFF='"liga" off, "calt" off'}static{this.ON='"liga" on, "calt" on'}constructor(){super(51,"fontLigatures",G.OFF,{anyOf:[{type:"boolean",description:v.kg("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:v.kg("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:v.kg("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Q){return Q===void 0?this.defaultValue:typeof Q=="string"?Q==="false"||Q.length===0?G.OFF:Q==="true"?G.ON:Q:Boolean(Q)?G.ON:G.OFF}}class ie extends d{static{this.OFF="normal"}static{this.TRANSLATE="translate"}constructor(){super(54,"fontVariations",ie.OFF,{anyOf:[{type:"boolean",description:v.kg("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:v.kg("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:v.kg("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(Q){return Q===void 0?this.defaultValue:typeof Q=="string"?Q==="false"?ie.OFF:Q==="true"?ie.TRANSLATE:Q:Boolean(Q)?ie.TRANSLATE:ie.OFF}compute(Q,re,Je){return Q.fontInfo.fontVariationSettings}}class ee extends d{static{this.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"]}static{this.MINIMUM_VALUE=1}static{this.MAXIMUM_VALUE=1000}constructor(){super(53,"fontWeight",xe.fontWeight,{anyOf:[{type:"number",minimum:ee.MINIMUM_VALUE,maximum:ee.MAXIMUM_VALUE,errorMessage:v.kg("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:ee.SUGGESTION_VALUES}],default:xe.fontWeight,description:v.kg("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Q){return Q==="normal"||Q==="bold"?Q:String(R.clampedInt(Q,xe.fontWeight,ee.MINIMUM_VALUE,ee.MAXIMUM_VALUE))}}class ne extends _{constructor(){super(146)}compute(Q,re,Je){return ne.computeLayout(re,{memory:Q.memory,outerWidth:Q.outerWidth,outerHeight:Q.outerHeight,isDominatedByLongLines:Q.isDominatedByLongLines,lineHeight:Q.fontInfo.lineHeight,viewLineCount:Q.viewLineCount,lineNumbersDigitCount:Q.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Q.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Q.fontInfo.maxDigitWidth,pixelRatio:Q.pixelRatio,glyphMarginDecorationLaneCount:Q.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(Q){const re=Q.height/Q.lineHeight,Je=Math.floor(Q.paddingTop/Q.lineHeight);let Se=Math.floor(Q.paddingBottom/Q.lineHeight);Q.scrollBeyondLastLine&&(Se=Math.max(Se,re-1));const Pe=(Je+Q.viewLineCount+Se)/(Q.pixelRatio*Q.height);return{typicalViewportLineCount:re,extraLinesBeforeFirstLine:Je,extraLinesBeyondLastLine:Se,desiredRatio:Pe,minimapLineCount:Math.floor(Q.viewLineCount/Pe)}}static _computeMinimapLayout(Q,re){const{outerWidth:Je,outerHeight:Se,pixelRatio:Pe}=Q;if(!Q.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Pe*Se),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Se};const Le=re.stableMinimapLayoutInput,Ve=Le&&Q.outerHeight===Le.outerHeight&&Q.lineHeight===Le.lineHeight&&Q.typicalHalfwidthCharacterWidth===Le.typicalHalfwidthCharacterWidth&&Q.pixelRatio===Le.pixelRatio&&Q.scrollBeyondLastLine===Le.scrollBeyondLastLine&&Q.paddingTop===Le.paddingTop&&Q.paddingBottom===Le.paddingBottom&&Q.minimap.enabled===Le.minimap.enabled&&Q.minimap.side===Le.minimap.side&&Q.minimap.size===Le.minimap.size&&Q.minimap.showSlider===Le.minimap.showSlider&&Q.minimap.renderCharacters===Le.minimap.renderCharacters&&Q.minimap.maxColumn===Le.minimap.maxColumn&&Q.minimap.scale===Le.minimap.scale&&Q.verticalScrollbarWidth===Le.verticalScrollbarWidth&&Q.isViewportWrapping===Le.isViewportWrapping,g=Q.lineHeight,ge=Q.typicalHalfwidthCharacterWidth,We=Q.scrollBeyondLastLine,de=Q.minimap.renderCharacters;let be=Pe>=2?Math.round(2*Q.minimap.scale):Q.minimap.scale;const ae=Q.minimap.maxColumn,O=Q.minimap.size,Ue=Q.minimap.side,Ye=Q.verticalScrollbarWidth,Fe=Q.viewLineCount,oe=Q.remainingWidth,rt=Q.isViewportWrapping,lt=de?2:3;let ye=Math.floor(Pe*Se);const pt=ye/Pe;let Mt=!1,Zt=!1,jt=lt*be,xn=be/Pe,nn=1;if(O==="fill"||O==="fit"){const{typicalViewportLineCount:Mn,extraLinesBeforeFirstLine:Bn,extraLinesBeyondLastLine:wi,desiredRatio:Mi,minimapLineCount:Oi}=ne.computeContainedMinimapLineCount({viewLineCount:Fe,scrollBeyondLastLine:We,paddingTop:Q.paddingTop,paddingBottom:Q.paddingBottom,height:Se,lineHeight:g,pixelRatio:Pe});if(Fe/Oi>1)Mt=!0,Zt=!0,be=1,jt=1,xn=be/Pe;else{let En=!1,li=be+1;if(O==="fit"){const si=Math.ceil((Bn+Fe+wi)*jt);rt&&Ve&&oe<=re.stableFitRemainingWidth?(En=!0,li=re.stableFitMaxMinimapScale):En=si>ye}if(O==="fill"||En){Mt=!0;const si=be;jt=Math.min(g*Pe,Math.max(1,Math.floor(1/Mi))),rt&&Ve&&oe<=re.stableFitRemainingWidth&&(li=re.stableFitMaxMinimapScale),be=Math.min(li,Math.max(1,Math.floor(jt/lt))),be>si&&(nn=Math.min(2,be/si)),xn=be/Pe/nn,ye=Math.ceil(Math.max(Mn,Bn+Fe+wi)*jt),rt?(re.stableMinimapLayoutInput=Q,re.stableFitRemainingWidth=oe,re.stableFitMaxMinimapScale=be):(re.stableMinimapLayoutInput=null,re.stableFitRemainingWidth=0)}}}const gn=Math.floor(ae*xn),pn=Math.min(gn,Math.max(0,Math.floor((oe-Ye-2)*xn/(ge+xn)))+E);let rn=Math.floor(Pe*pn);const Sn=rn/Pe;return rn=Math.floor(rn*nn),{renderMinimap:de?1:2,minimapLeft:Ue==="left"?0:Je-pn-Ye,minimapWidth:pn,minimapHeightIsEditorHeight:Mt,minimapIsSampling:Zt,minimapScale:be,minimapLineHeight:jt,minimapCanvasInnerWidth:rn,minimapCanvasInnerHeight:ye,minimapCanvasOuterWidth:Sn,minimapCanvasOuterHeight:pt}}static computeLayout(Q,re){const Je=0|re.outerWidth,Se=0|re.outerHeight,Pe=0|re.lineHeight,Le=0|re.lineNumbersDigitCount,Ve=re.typicalHalfwidthCharacterWidth,g=re.maxDigitWidth,ge=re.pixelRatio,We=re.viewLineCount,de=Q.get(138),be=de==="inherit"?Q.get(137):de,ae=be==="inherit"?Q.get(133):be,O=Q.get(136),Ue=re.isDominatedByLongLines,Ye=Q.get(57),Fe=Q.get(68).renderType!==0,oe=Q.get(69),rt=Q.get(106),lt=Q.get(84),ye=Q.get(73),pt=Q.get(104),Mt=pt.verticalScrollbarSize,Zt=pt.verticalHasArrows,jt=pt.arrowSize,xn=pt.horizontalScrollbarSize,nn=Q.get(43),gn=Q.get(111)!=="never";let pn=Q.get(66);nn&&gn&&(pn+=16);let rn=0;if(Fe){const Ni=Math.max(Le,oe);rn=Math.round(Ni*g)}let Sn=0;Ye&&(Sn=Pe*re.glyphMarginDecorationLaneCount);let Mn=0,Bn=Mn+Sn,wi=Bn+rn,Mi=wi+pn;const Oi=Je-Sn-rn-pn;let En=!1,li=!1,si=-1;be==="inherit"&&Ue?(En=!0,li=!0):ae==="on"||ae==="bounded"?li=!0:ae==="wordWrapColumn"&&(si=O);const ti=ne._computeMinimapLayout({outerWidth:Je,outerHeight:Se,lineHeight:Pe,typicalHalfwidthCharacterWidth:Ve,pixelRatio:ge,scrollBeyondLastLine:rt,paddingTop:lt.top,paddingBottom:lt.bottom,minimap:ye,verticalScrollbarWidth:Mt,viewLineCount:We,remainingWidth:Oi,isViewportWrapping:li},re.memory||new C);ti.renderMinimap!==0&&ti.minimapLeft===0&&(Mn+=ti.minimapWidth,Bn+=ti.minimapWidth,wi+=ti.minimapWidth,Mi+=ti.minimapWidth);const Ln=Oi-ti.minimapWidth,Xn=Math.max(1,Math.floor((Ln-Mt-2)/Ve)),xi=Zt?jt:0;return li&&(si=Math.max(1,Xn),ae==="bounded"&&(si=Math.min(si,O))),{width:Je,height:Se,glyphMarginLeft:Mn,glyphMarginWidth:Sn,glyphMarginDecorationLaneCount:re.glyphMarginDecorationLaneCount,lineNumbersLeft:Bn,lineNumbersWidth:rn,decorationsLeft:wi,decorationsWidth:pn,contentLeft:Mi,contentWidth:Ln,minimap:ti,viewportColumn:Xn,isWordWrapMinified:En,isViewportWrapping:li,wrappingColumn:si,verticalScrollbarWidth:Mt,horizontalScrollbarHeight:xn,overviewRuler:{top:xi,width:Mt,height:Se-2*xi,right:0}}}}function H(Q){const re=Q.get(99);return re==="editable"?Q.get(92):re!=="on"}function V(Q,re){if(typeof Q!="string")return re;switch(Q){case"hidden":return 2;case"visible":return 3;default:return 1}}(function(Q){Q.Off="off",Q.OnCode="onCode",Q.On="on"})($||($={}));const Y="inUntrustedWorkspace",ve={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function Te(Q,re,Je){const Se=Je.indexOf(Q);return Se===-1?re:Je[Se]}const xe={fontFamily:T.zx?"Menlo, Monaco, 'Courier New', monospace":T.j9?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:T.zx?12:14,lineHeight:0,letterSpacing:0},Be=[];function Ie(Q){return Be[Q.id]=Q,Q}const he={acceptSuggestionOnCommitCharacter:Ie(new x(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:v.kg("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Ie(new W(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",v.kg("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:v.kg("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Ie(new class extends d{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[v.kg("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),v.kg("accessibilitySupport.on","Optimize for usage with a Screen Reader."),v.kg("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:v.kg("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(Q){switch(Q){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Q,re,Je){return Je===0?Q.accessibilitySupport:Je}}),accessibilityPageSize:Ie(new R(3,"accessibilityPageSize",10,1,1073741824,{description:v.kg("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:Ie(new te(4,"ariaLabel",v.kg("editorViewAccessibleLabel","Editor content"))),ariaRequired:Ie(new x(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:Ie(new x(8,"screenReaderAnnounceInlineSuggestion",!0,{description:v.kg("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:Ie(new W(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.kg("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),v.kg("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:v.kg("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:Ie(new W(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.kg("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),v.kg("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:v.kg("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:Ie(new W(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",v.kg("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:v.kg("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Ie(new W(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",v.kg("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:v.kg("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Ie(new W(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.kg("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),v.kg("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:v.kg("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Ie(new B(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function(Q){switch(Q){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[v.kg("editor.autoIndent.none","The editor will not insert indentation automatically."),v.kg("editor.autoIndent.keep","The editor will keep the current line's indentation."),v.kg("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),v.kg("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),v.kg("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:v.kg("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Ie(new x(13,"automaticLayout",!1)),autoSurround:Ie(new W(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[v.kg("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),v.kg("editor.autoSurround.quotes","Surround with quotes but not brackets."),v.kg("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:v.kg("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Ie(new class extends d{constructor(){const Q={enabled:J.R.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:J.R.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",Q,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Q.enabled,markdownDescription:v.kg("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Q.independentColorPoolPerBracketType,description:v.kg("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{enabled:b(re.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:b(re.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}),bracketPairGuides:Ie(new class extends d{constructor(){const Q={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",Q,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[v.kg("editor.guides.bracketPairs.true","Enables bracket pair guides."),v.kg("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),v.kg("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Q.bracketPairs,description:v.kg("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[v.kg("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),v.kg("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),v.kg("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Q.bracketPairsHorizontal,description:v.kg("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Q.highlightActiveBracketPair,description:v.kg("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Q.indentation,description:v.kg("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[v.kg("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),v.kg("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),v.kg("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Q.highlightActiveIndentation,description:v.kg("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{bracketPairs:Te(re.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Te(re.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:b(re.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:b(re.indentation,this.defaultValue.indentation),highlightActiveIndentation:Te(re.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}),stickyTabStops:Ie(new x(117,"stickyTabStops",!1,{description:v.kg("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Ie(new x(17,"codeLens",!0,{description:v.kg("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Ie(new te(18,"codeLensFontFamily","",{description:v.kg("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Ie(new R(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:v.kg("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Ie(new x(20,"colorDecorators",!0,{description:v.kg("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:Ie(new W(149,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[v.kg("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),v.kg("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),v.kg("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:v.kg("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:Ie(new R(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:v.kg("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:Ie(new x(22,"columnSelection",!1,{description:v.kg("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Ie(new class extends d{constructor(){const Q={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",Q,{"editor.comments.insertSpace":{type:"boolean",default:Q.insertSpace,description:v.kg("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Q.ignoreEmptyLines,description:v.kg("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{insertSpace:b(re.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:b(re.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:Ie(new x(24,"contextmenu",!0)),copyWithSyntaxHighlighting:Ie(new x(25,"copyWithSyntaxHighlighting",!0,{description:v.kg("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Ie(new B(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function(Q){switch(Q){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:v.kg("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Ie(new W(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[v.kg("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),v.kg("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),v.kg("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:v.kg("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Ie(new B(28,"cursorStyle",U.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function(Q){switch(Q){case"line":return U.Line;case"block":return U.Block;case"underline":return U.Underline;case"line-thin":return U.LineThin;case"block-outline":return U.BlockOutline;case"underline-thin":return U.UnderlineThin}},{description:v.kg("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Ie(new R(29,"cursorSurroundingLines",0,0,1073741824,{description:v.kg("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Ie(new W(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[v.kg("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),v.kg("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:v.kg("cursorSurroundingLinesStyle","Controls when `#editor.cursorSurroundingLines#` should be enforced.")})),cursorWidth:Ie(new R(31,"cursorWidth",0,0,1073741824,{markdownDescription:v.kg("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Ie(new x(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ie(new x(33,"disableMonospaceOptimizations",!1)),domReadOnly:Ie(new x(34,"domReadOnly",!1)),dragAndDrop:Ie(new x(35,"dragAndDrop",!0,{description:v.kg("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Ie(new class extends x{constructor(){super(37,"emptySelectionClipboard",!0,{description:v.kg("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Q,re,Je){return Je&&Q.emptySelectionClipboard}}),dropIntoEditor:Ie(new class extends d{constructor(){const Q={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",Q,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Q.enabled,markdownDescription:v.kg("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:v.kg("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[v.kg("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),v.kg("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{enabled:b(re.enabled,this.defaultValue.enabled),showDropSelector:L(re.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}),stickyScroll:Ie(new class extends d{constructor(){const Q={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(116,"stickyScroll",Q,{"editor.stickyScroll.enabled":{type:"boolean",default:Q.enabled,description:v.kg("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:Q.maxLineCount,minimum:1,maximum:20,description:v.kg("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:Q.defaultModel,description:v.kg("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:Q.scrollWithEditor,description:v.kg("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{enabled:b(re.enabled,this.defaultValue.enabled),maxLineCount:R.clampedInt(re.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:L(re.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:b(re.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}),experimentalWhitespaceRendering:Ie(new W(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[v.kg("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),v.kg("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),v.kg("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:v.kg("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:Ie(new te(39,"extraEditorClassName","")),fastScrollSensitivity:Ie(new z(40,"fastScrollSensitivity",5,(Q)=>Q<=0?5:Q,{markdownDescription:v.kg("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Ie(new class extends d{constructor(){const Q={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",Q,{"editor.find.cursorMoveOnType":{type:"boolean",default:Q.cursorMoveOnType,description:v.kg("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Q.seedSearchStringFromSelection,enumDescriptions:[v.kg("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),v.kg("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),v.kg("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:v.kg("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Q.autoFindInSelection,enumDescriptions:[v.kg("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),v.kg("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),v.kg("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:v.kg("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Q.globalFindClipboard,description:v.kg("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:T.zx},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Q.addExtraSpaceOnTop,description:v.kg("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Q.loop,description:v.kg("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{cursorMoveOnType:b(re.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Q.seedSearchStringFromSelection=="boolean"?Q.seedSearchStringFromSelection?"always":"never":L(re.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Q.autoFindInSelection=="boolean"?Q.autoFindInSelection?"always":"never":L(re.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:b(re.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:b(re.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:b(re.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:Ie(new x(42,"fixedOverflowWidgets",!1)),folding:Ie(new x(43,"folding",!0,{description:v.kg("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Ie(new W(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[v.kg("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),v.kg("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:v.kg("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Ie(new x(45,"foldingHighlight",!0,{description:v.kg("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Ie(new x(46,"foldingImportsByDefault",!1,{description:v.kg("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Ie(new R(47,"foldingMaximumRegions",5000,10,65000,{description:v.kg("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Ie(new x(48,"unfoldOnClickAfterEndOfLine",!1,{description:v.kg("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Ie(new te(49,"fontFamily",xe.fontFamily,{description:v.kg("fontFamily","Controls the font family.")})),fontInfo:Ie(new class extends _{constructor(){super(50)}compute(Q,re,Je){return Q.fontInfo}}),fontLigatures2:Ie(new G),fontSize:Ie(new class extends m{constructor(){super(52,"fontSize",xe.fontSize,{type:"number",minimum:6,maximum:100,default:xe.fontSize,description:v.kg("fontSize","Controls the font size in pixels.")})}validate(Q){const re=z.float(Q,this.defaultValue);return re===0?xe.fontSize:z.clamp(re,6,100)}compute(Q,re,Je){return Q.fontInfo.fontSize}}),fontWeight:Ie(new ee),fontVariations:Ie(new ie),formatOnPaste:Ie(new x(55,"formatOnPaste",!1,{description:v.kg("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Ie(new x(56,"formatOnType",!1,{description:v.kg("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Ie(new x(57,"glyphMargin",!0,{description:v.kg("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Ie(new class extends d{constructor(){const Q={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",multipleTests:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:"",alternativeTestsCommand:""},re={type:"string",enum:["peek","gotoAndPeek","goto"],default:Q.multiple,enumDescriptions:[v.kg("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),v.kg("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),v.kg("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},Je=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",Q,{"editor.gotoLocation.multiple":{deprecationMessage:v.kg("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:v.kg("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...re},"editor.gotoLocation.multipleTypeDefinitions":{description:v.kg("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...re},"editor.gotoLocation.multipleDeclarations":{description:v.kg("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...re},"editor.gotoLocation.multipleImplementations":{description:v.kg("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...re},"editor.gotoLocation.multipleReferences":{description:v.kg("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...re},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Q.alternativeDefinitionCommand,enum:Je,description:v.kg("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Q.alternativeTypeDefinitionCommand,enum:Je,description:v.kg("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Q.alternativeDeclarationCommand,enum:Je,description:v.kg("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Q.alternativeImplementationCommand,enum:Je,description:v.kg("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Q.alternativeReferenceCommand,enum:Je,description:v.kg("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{multiple:L(re.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:re.multipleDefinitions??L(re.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:re.multipleTypeDefinitions??L(re.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:re.multipleDeclarations??L(re.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:re.multipleImplementations??L(re.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:re.multipleReferences??L(re.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),multipleTests:re.multipleTests??L(re.multipleTests,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:te.string(re.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:te.string(re.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:te.string(re.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:te.string(re.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:te.string(re.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand),alternativeTestsCommand:te.string(re.alternativeTestsCommand,this.defaultValue.alternativeTestsCommand)}}}),hideCursorInOverviewRuler:Ie(new x(59,"hideCursorInOverviewRuler",!1,{description:v.kg("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Ie(new class extends d{constructor(){const Q={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",Q,{"editor.hover.enabled":{type:"boolean",default:Q.enabled,description:v.kg("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Q.delay,minimum:0,maximum:1e4,description:v.kg("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Q.sticky,description:v.kg("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:Q.hidingDelay,description:v.kg("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:Q.above,description:v.kg("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{enabled:b(re.enabled,this.defaultValue.enabled),delay:R.clampedInt(re.delay,this.defaultValue.delay,0,1e4),sticky:b(re.sticky,this.defaultValue.sticky),hidingDelay:R.clampedInt(re.hidingDelay,this.defaultValue.hidingDelay,0,600000),above:b(re.above,this.defaultValue.above)}}}),inDiffEditor:Ie(new x(61,"inDiffEditor",!1)),letterSpacing:Ie(new z(64,"letterSpacing",xe.letterSpacing,(Q)=>z.clamp(Q,-5,20),{description:v.kg("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Ie(new class extends d{constructor(){const Q={enabled:$.OnCode};super(65,"lightbulb",Q,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[$.Off,$.OnCode,$.On],default:Q.enabled,enumDescriptions:[v.kg("editor.lightbulb.enabled.off","Disable the code action menu."),v.kg("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),v.kg("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:v.kg("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(Q){return Q&&typeof Q=="object"?{enabled:L(Q.enabled,this.defaultValue.enabled,[$.Off,$.OnCode,$.On])}:this.defaultValue}}),lineDecorationsWidth:Ie(new class extends d{constructor(){super(66,"lineDecorationsWidth",10)}validate(Q){return typeof Q=="string"&&/^\d+(\.\d+)?ch$/.test(Q)?-parseFloat(Q.substring(0,Q.length-2)):R.clampedInt(Q,this.defaultValue,0,1000)}compute(Q,re,Je){return Je<0?R.clampedInt(-Je*Q.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1000):Je}}),lineHeight:Ie(new class extends z{constructor(){super(67,"lineHeight",xe.lineHeight,(Q)=>z.clamp(Q,0,150),{markdownDescription:v.kg("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(Q,re,Je){return Q.fontInfo.lineHeight}}),lineNumbers:Ie(new class extends d{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[v.kg("lineNumbers.off","Line numbers are not rendered."),v.kg("lineNumbers.on","Line numbers are rendered as absolute number."),v.kg("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),v.kg("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:v.kg("lineNumbers","Controls the display of line numbers.")})}validate(Q){let re=this.defaultValue.renderType,Je=this.defaultValue.renderFn;return Q!==void 0&&(typeof Q=="function"?(re=4,Je=Q):re=Q==="interval"?3:Q==="relative"?2:Q==="on"?1:0),{renderType:re,renderFn:Je}}}),lineNumbersMinChars:Ie(new R(69,"lineNumbersMinChars",5,1,300)),linkedEditing:Ie(new x(70,"linkedEditing",!1,{description:v.kg("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:Ie(new x(71,"links",!0,{description:v.kg("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Ie(new W(72,"matchBrackets","always",["always","near","never"],{description:v.kg("matchBrackets","Highlight matching brackets.")})),minimap:Ie(new class extends d{constructor(){const Q={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9,sectionHeaderLetterSpacing:1};super(73,"minimap",Q,{"editor.minimap.enabled":{type:"boolean",default:Q.enabled,description:v.kg("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Q.autohide,description:v.kg("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[v.kg("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),v.kg("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),v.kg("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Q.size,description:v.kg("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Q.side,description:v.kg("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Q.showSlider,description:v.kg("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Q.scale,minimum:1,maximum:3,enum:[1,2,3],description:v.kg("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Q.renderCharacters,description:v.kg("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Q.maxColumn,description:v.kg("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:Q.showRegionSectionHeaders,description:v.kg("minimap.showRegionSectionHeaders","Controls whether named regions are shown as section headers in the minimap.")},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:Q.showMarkSectionHeaders,description:v.kg("minimap.showMarkSectionHeaders","Controls whether MARK: comments are shown as section headers in the minimap.")},"editor.minimap.sectionHeaderFontSize":{type:"number",default:Q.sectionHeaderFontSize,description:v.kg("minimap.sectionHeaderFontSize","Controls the font size of section headers in the minimap.")},"editor.minimap.sectionHeaderLetterSpacing":{type:"number",default:Q.sectionHeaderLetterSpacing,description:v.kg("minimap.sectionHeaderLetterSpacing","Controls the amount of space (in pixels) between characters of section header. This helps the readability of the header in small font sizes.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{enabled:b(re.enabled,this.defaultValue.enabled),autohide:b(re.autohide,this.defaultValue.autohide),size:L(re.size,this.defaultValue.size,["proportional","fill","fit"]),side:L(re.side,this.defaultValue.side,["right","left"]),showSlider:L(re.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:b(re.renderCharacters,this.defaultValue.renderCharacters),scale:R.clampedInt(re.scale,1,1,3),maxColumn:R.clampedInt(re.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:b(re.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:b(re.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:z.clamp(re.sectionHeaderFontSize??this.defaultValue.sectionHeaderFontSize,4,32),sectionHeaderLetterSpacing:z.clamp(re.sectionHeaderLetterSpacing??this.defaultValue.sectionHeaderLetterSpacing,0,5)}}}),mouseStyle:Ie(new W(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ie(new z(75,"mouseWheelScrollSensitivity",1,(Q)=>Q===0?1:Q,{markdownDescription:v.kg("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Ie(new x(76,"mouseWheelZoom",!1,{markdownDescription:T.zx?v.kg("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):v.kg("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Ie(new x(77,"multiCursorMergeOverlapping",!0,{description:v.kg("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Ie(new B(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function(Q){return Q==="ctrlCmd"?T.zx?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[v.kg("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),v.kg("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:v.kg({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Ie(new W(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[v.kg("multiCursorPaste.spread","Each cursor pastes a single line of the text."),v.kg("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:v.kg("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:Ie(new R(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:v.kg("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:Ie(new W(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[v.kg("occurrencesHighlight.off","Does not highlight occurrences."),v.kg("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),v.kg("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:v.kg("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:Ie(new x(82,"overviewRulerBorder",!0,{description:v.kg("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Ie(new R(83,"overviewRulerLanes",3,0,3)),padding:Ie(new class extends d{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1000,description:v.kg("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1000,description:v.kg("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{top:R.clampedInt(re.top,0,0,1000),bottom:R.clampedInt(re.bottom,0,0,1000)}}}),pasteAs:Ie(new class extends d{constructor(){const Q={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",Q,{"editor.pasteAs.enabled":{type:"boolean",default:Q.enabled,markdownDescription:v.kg("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:v.kg("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[v.kg("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),v.kg("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{enabled:b(re.enabled,this.defaultValue.enabled),showPasteSelector:L(re.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}),parameterHints:Ie(new class extends d{constructor(){const Q={enabled:!0,cycle:!0};super(86,"parameterHints",Q,{"editor.parameterHints.enabled":{type:"boolean",default:Q.enabled,description:v.kg("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Q.cycle,description:v.kg("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{enabled:b(re.enabled,this.defaultValue.enabled),cycle:b(re.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:Ie(new W(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[v.kg("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),v.kg("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:v.kg("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),placeholder:Ie(new class extends d{constructor(){super(88,"placeholder",void 0)}validate(Q){return Q===void 0?this.defaultValue:typeof Q=="string"?Q:this.defaultValue}}),definitionLinkOpensInPeek:Ie(new x(89,"definitionLinkOpensInPeek",!1,{description:v.kg("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Ie(new class extends d{constructor(){const Q={other:"on",comments:"off",strings:"off"},re=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[v.kg("on","Quick suggestions show inside the suggest widget"),v.kg("inline","Quick suggestions show as ghost text"),v.kg("off","Quick suggestions are disabled")]}];super(90,"quickSuggestions",Q,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:re,default:Q.strings,description:v.kg("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:re,default:Q.comments,description:v.kg("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:re,default:Q.other,description:v.kg("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Q,markdownDescription:v.kg("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the {0}-setting which controls if suggestions are triggered by special characters.","`#editor.suggestOnTriggerCharacters#`")}),this.defaultValue=Q}validate(Q){if(typeof Q=="boolean"){const ge=Q?"on":"off";return{comments:ge,strings:ge,other:ge}}if(!Q||typeof Q!="object")return this.defaultValue;const{other:re,comments:Je,strings:Se}=Q,Pe=["on","inline","off"];let Le,Ve,g;return Le=typeof re=="boolean"?re?"on":"off":L(re,this.defaultValue.other,Pe),Ve=typeof Je=="boolean"?Je?"on":"off":L(Je,this.defaultValue.comments,Pe),g=typeof Se=="boolean"?Se?"on":"off":L(Se,this.defaultValue.strings,Pe),{other:Le,comments:Ve,strings:g}}}),quickSuggestionsDelay:Ie(new R(91,"quickSuggestionsDelay",10,0,1073741824,{description:v.kg("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Ie(new x(92,"readOnly",!1)),readOnlyMessage:Ie(new class extends d{constructor(){super(93,"readOnlyMessage",void 0)}validate(Q){return Q&&typeof Q=="object"?Q:this.defaultValue}}),renameOnType:Ie(new x(94,"renameOnType",!1,{description:v.kg("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:v.kg("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Ie(new x(95,"renderControlCharacters",!0,{description:v.kg("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Ie(new W(96,"renderFinalNewline",T.j9?"dimmed":"on",["off","on","dimmed"],{description:v.kg("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Ie(new W(97,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",v.kg("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:v.kg("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Ie(new x(98,"renderLineHighlightOnlyWhenFocus",!1,{description:v.kg("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Ie(new W(99,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ie(new W(100,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",v.kg("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),v.kg("renderWhitespace.selection","Render whitespace characters only on selected text."),v.kg("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:v.kg("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Ie(new R(101,"revealHorizontalRightPadding",15,0,1000)),roundedSelection:Ie(new x(102,"roundedSelection",!0,{description:v.kg("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Ie(new class extends d{constructor(){const Q=[],re={type:"number",description:v.kg("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(103,"rulers",Q,{type:"array",items:{anyOf:[re,{type:["object"],properties:{column:re,color:{type:"string",description:v.kg("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Q,description:v.kg("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Q){if(Array.isArray(Q)){const re=[];for(let Je of Q)if(typeof Je=="number")re.push({column:R.clampedInt(Je,0,0,1e4),color:null});else if(Je&&typeof Je=="object"){const Se=Je;re.push({column:R.clampedInt(Se.column,0,0,1e4),color:Se.color})}return re.sort((Je,Se)=>Je.column-Se.column),re}return this.defaultValue}}),scrollbar:Ie(new class extends d{constructor(){const Q={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(104,"scrollbar",Q,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[v.kg("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),v.kg("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),v.kg("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:v.kg("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[v.kg("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),v.kg("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),v.kg("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:v.kg("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Q.verticalScrollbarSize,description:v.kg("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Q.horizontalScrollbarSize,description:v.kg("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Q.scrollByPage,description:v.kg("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:Q.ignoreHorizontalScrollbarInContentHeight,description:v.kg("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q,Je=R.clampedInt(re.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1000),Se=R.clampedInt(re.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1000);return{arrowSize:R.clampedInt(re.arrowSize,this.defaultValue.arrowSize,0,1000),vertical:V(re.vertical,this.defaultValue.vertical),horizontal:V(re.horizontal,this.defaultValue.horizontal),useShadows:b(re.useShadows,this.defaultValue.useShadows),verticalHasArrows:b(re.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:b(re.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:b(re.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:b(re.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Je,horizontalSliderSize:R.clampedInt(re.horizontalSliderSize,Je,0,1000),verticalScrollbarSize:Se,verticalSliderSize:R.clampedInt(re.verticalSliderSize,Se,0,1000),scrollByPage:b(re.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:b(re.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}),scrollBeyondLastColumn:Ie(new R(105,"scrollBeyondLastColumn",4,0,1073741824,{description:v.kg("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Ie(new x(106,"scrollBeyondLastLine",!0,{description:v.kg("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Ie(new x(107,"scrollPredominantAxis",!0,{description:v.kg("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Ie(new x(108,"selectionClipboard",!0,{description:v.kg("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:T.j9})),selectionHighlight:Ie(new x(109,"selectionHighlight",!0,{description:v.kg("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Ie(new x(110,"selectOnLineNumbers",!0)),showFoldingControls:Ie(new W(111,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[v.kg("showFoldingControls.always","Always show the folding controls."),v.kg("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),v.kg("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:v.kg("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Ie(new x(112,"showUnused",!0,{description:v.kg("showUnused","Controls fading out of unused code.")})),showDeprecated:Ie(new x(141,"showDeprecated",!0,{description:v.kg("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Ie(new class extends d{constructor(){const Q={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(142,"inlayHints",Q,{"editor.inlayHints.enabled":{type:"string",default:Q.enabled,description:v.kg("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[v.kg("editor.inlayHints.on","Inlay hints are enabled"),v.kg("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",T.zx?"Ctrl+Option":"Ctrl+Alt"),v.kg("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",T.zx?"Ctrl+Option":"Ctrl+Alt"),v.kg("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Q.fontSize,markdownDescription:v.kg("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Q.fontFamily,markdownDescription:v.kg("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Q.padding,description:v.kg("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return typeof re.enabled=="boolean"&&(re.enabled=re.enabled?"on":"off"),{enabled:L(re.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:R.clampedInt(re.fontSize,this.defaultValue.fontSize,0,100),fontFamily:te.string(re.fontFamily,this.defaultValue.fontFamily),padding:b(re.padding,this.defaultValue.padding)}}}),snippetSuggestions:Ie(new W(113,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[v.kg("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),v.kg("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),v.kg("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),v.kg("snippetSuggestions.none","Do not show snippet suggestions.")],description:v.kg("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Ie(new class extends d{constructor(){super(114,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:v.kg("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:v.kg("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(Q){return Q&&typeof Q=="object"?{selectLeadingAndTrailingWhitespace:b(Q.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:b(Q.selectSubwords,this.defaultValue.selectSubwords)}:this.defaultValue}}),smoothScrolling:Ie(new x(115,"smoothScrolling",!1,{description:v.kg("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Ie(new R(118,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ie(new class extends d{constructor(){const Q={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(119,"suggest",Q,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[v.kg("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),v.kg("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Q.insertMode,description:v.kg("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Q.filterGraceful,description:v.kg("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Q.localityBonus,description:v.kg("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Q.shareSuggestSelections,markdownDescription:v.kg("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[v.kg("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),v.kg("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),v.kg("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),v.kg("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:Q.selectionMode,markdownDescription:v.kg("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions ({0} and {1}) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.","`#editor.quickSuggestions#`","`#editor.suggestOnTriggerCharacters#`")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Q.snippetsPreventQuickSuggestions,description:v.kg("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Q.showIcons,description:v.kg("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Q.showStatusBar,description:v.kg("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Q.preview,description:v.kg("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Q.showInlineDetails,description:v.kg("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:v.kg("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:v.kg("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:v.kg("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{insertMode:L(re.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:b(re.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:b(re.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:b(re.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:b(re.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:L(re.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:b(re.showIcons,this.defaultValue.showIcons),showStatusBar:b(re.showStatusBar,this.defaultValue.showStatusBar),preview:b(re.preview,this.defaultValue.preview),previewMode:L(re.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:b(re.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:b(re.showMethods,this.defaultValue.showMethods),showFunctions:b(re.showFunctions,this.defaultValue.showFunctions),showConstructors:b(re.showConstructors,this.defaultValue.showConstructors),showDeprecated:b(re.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:b(re.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:b(re.showFields,this.defaultValue.showFields),showVariables:b(re.showVariables,this.defaultValue.showVariables),showClasses:b(re.showClasses,this.defaultValue.showClasses),showStructs:b(re.showStructs,this.defaultValue.showStructs),showInterfaces:b(re.showInterfaces,this.defaultValue.showInterfaces),showModules:b(re.showModules,this.defaultValue.showModules),showProperties:b(re.showProperties,this.defaultValue.showProperties),showEvents:b(re.showEvents,this.defaultValue.showEvents),showOperators:b(re.showOperators,this.defaultValue.showOperators),showUnits:b(re.showUnits,this.defaultValue.showUnits),showValues:b(re.showValues,this.defaultValue.showValues),showConstants:b(re.showConstants,this.defaultValue.showConstants),showEnums:b(re.showEnums,this.defaultValue.showEnums),showEnumMembers:b(re.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:b(re.showKeywords,this.defaultValue.showKeywords),showWords:b(re.showWords,this.defaultValue.showWords),showColors:b(re.showColors,this.defaultValue.showColors),showFiles:b(re.showFiles,this.defaultValue.showFiles),showReferences:b(re.showReferences,this.defaultValue.showReferences),showFolders:b(re.showFolders,this.defaultValue.showFolders),showTypeParameters:b(re.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:b(re.showSnippets,this.defaultValue.showSnippets),showUsers:b(re.showUsers,this.defaultValue.showUsers),showIssues:b(re.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:Ie(new class extends d{constructor(){const Q={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",Q,{"editor.inlineSuggest.enabled":{type:"boolean",default:Q.enabled,description:v.kg("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:Q.showToolbar,enum:["always","onHover","never"],enumDescriptions:[v.kg("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),v.kg("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),v.kg("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:v.kg("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:Q.suppressSuggestions,description:v.kg("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:Q.fontFamily,description:v.kg("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{enabled:b(re.enabled,this.defaultValue.enabled),mode:L(re.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:L(re.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:b(re.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:b(re.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:te.string(re.fontFamily,this.defaultValue.fontFamily)}}}),inlineEdit:Ie(new class extends d{constructor(){const Q={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1};super(63,"experimentalInlineEdit",Q,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:Q.enabled,description:v.kg("inlineEdit.enabled","Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:Q.showToolbar,enum:["always","onHover","never"],enumDescriptions:[v.kg("inlineEdit.showToolbar.always","Show the inline edit toolbar whenever an inline suggestion is shown."),v.kg("inlineEdit.showToolbar.onHover","Show the inline edit toolbar when hovering over an inline suggestion."),v.kg("inlineEdit.showToolbar.never","Never show the inline edit toolbar.")],description:v.kg("inlineEdit.showToolbar","Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:Q.fontFamily,description:v.kg("inlineEdit.fontFamily","Controls the font family of the inline edit.")}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{enabled:b(re.enabled,this.defaultValue.enabled),showToolbar:L(re.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:te.string(re.fontFamily,this.defaultValue.fontFamily),keepOnBlur:b(re.keepOnBlur,this.defaultValue.keepOnBlur)}}}),inlineCompletionsAccessibilityVerbose:Ie(new x(150,"inlineCompletionsAccessibilityVerbose",!1,{description:v.kg("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:Ie(new R(120,"suggestFontSize",0,0,1000,{markdownDescription:v.kg("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:Ie(new R(121,"suggestLineHeight",0,0,1000,{markdownDescription:v.kg("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Ie(new x(122,"suggestOnTriggerCharacters",!0,{description:v.kg("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Ie(new W(123,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[v.kg("suggestSelection.first","Always select the first suggestion."),v.kg("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),v.kg("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:v.kg("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Ie(new W(124,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[v.kg("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),v.kg("tabCompletion.off","Disable tab completions."),v.kg("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:v.kg("tabCompletion","Enables tab completions.")})),tabIndex:Ie(new R(125,"tabIndex",0,-1,1073741824)),unicodeHighlight:Ie(new class extends d{constructor(){const Q={nonBasicASCII:Y,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Y,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(126,"unicodeHighlight",Q,{[ve.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Y],default:Q.nonBasicASCII,description:v.kg("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[ve.invisibleCharacters]:{restricted:!0,type:"boolean",default:Q.invisibleCharacters,description:v.kg("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[ve.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Q.ambiguousCharacters,description:v.kg("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[ve.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Y],default:Q.includeComments,description:v.kg("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[ve.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Y],default:Q.includeStrings,description:v.kg("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[ve.allowedCharacters]:{restricted:!0,type:"object",default:Q.allowedCharacters,description:v.kg("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[ve.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Q.allowedLocales,description:v.kg("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Q,re){let Je=!1;re.allowedCharacters&&Q&&(I.aI(Q.allowedCharacters,re.allowedCharacters)||(Q={...Q,allowedCharacters:re.allowedCharacters},Je=!0)),re.allowedLocales&&Q&&(I.aI(Q.allowedLocales,re.allowedLocales)||(Q={...Q,allowedLocales:re.allowedLocales},Je=!0));const Se=super.applyUpdate(Q,re);return Je?new f(Se.newValue,!0):Se}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const re=Q;return{nonBasicASCII:Te(re.nonBasicASCII,Y,[!0,!1,Y]),invisibleCharacters:b(re.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:b(re.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Te(re.includeComments,Y,[!0,!1,Y]),includeStrings:Te(re.includeStrings,Y,[!0,!1,Y]),allowedCharacters:this.validateBooleanMap(Q.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Q.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Q,re){if(typeof Q!="object"||!Q)return re;const Je={};for(let[Se,Pe]of Object.entries(Q))Pe===!0&&(Je[Se]=!0);return Je}}),unusualLineTerminators:Ie(new W(127,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[v.kg("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),v.kg("unusualLineTerminators.off","Unusual line terminators are ignored."),v.kg("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:v.kg("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Ie(new x(128,"useShadowDOM",!0)),useTabStops:Ie(new x(129,"useTabStops",!0,{description:v.kg("useTabStops","Spaces and tabs are inserted and deleted in alignment with tab stops.")})),wordBreak:Ie(new W(130,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[v.kg("wordBreak.normal","Use the default line break rule."),v.kg("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:v.kg("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSegmenterLocales:Ie(new class extends d{constructor(){super(131,"wordSegmenterLocales",[],{anyOf:[{description:v.kg("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"string"},{description:v.kg("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"array",items:{type:"string"}}]})}validate(Q){if(typeof Q=="string"&&(Q=[Q]),Array.isArray(Q)){const re=[];for(let Je of Q)if(typeof Je=="string")try{Intl.Segmenter.supportedLocalesOf(Je).length>0&&re.push(Je)}catch{}return re}return this.defaultValue}}),wordSeparators:Ie(new te(132,"wordSeparators",M.J3,{description:v.kg("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Ie(new W(133,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[v.kg("wordWrap.off","Lines will never wrap."),v.kg("wordWrap.on","Lines will wrap at the viewport width."),v.kg({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),v.kg({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:v.kg({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Ie(new te(134,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Ie(new te(135,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Ie(new R(136,"wordWrapColumn",80,1,1073741824,{markdownDescription:v.kg({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Ie(new W(137,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ie(new W(138,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:Ie(new class extends _{constructor(){super(143)}compute(Q,re,Je){const Se=["monaco-editor"];return re.get(39)&&Se.push(re.get(39)),Q.extraEditorClassName&&Se.push(Q.extraEditorClassName),re.get(74)==="default"?Se.push("mouse-default"):re.get(74)==="copy"&&Se.push("mouse-copy"),re.get(112)&&Se.push("showUnused"),re.get(141)&&Se.push("showDeprecated"),Se.join(" ")}}),defaultColorDecorators:Ie(new x(148,"defaultColorDecorators",!1,{markdownDescription:v.kg("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:Ie(new class extends _{constructor(){super(144)}compute(Q,re,Je){return Q.pixelRatio}}),tabFocusMode:Ie(new x(145,"tabFocusMode",!1,{markdownDescription:v.kg("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:Ie(new ne),wrappingInfo:Ie(new class extends _{constructor(){super(147)}compute(Q,re,Je){const Se=re.get(146);return{isDominatedByLongLines:Q.isDominatedByLongLines,isWordWrapMinified:Se.isWordWrapMinified,isViewportWrapping:Se.isViewportWrapping,wrappingColumn:Se.wrappingColumn}}}),wrappingIndent:Ie(new class extends d{constructor(){super(139,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[v.kg("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),v.kg("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),v.kg("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),v.kg("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:v.kg("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(Q){switch(Q){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(Q,re,Je){return re.get(2)===2?0:Je}}),wrappingStrategy:Ie(new class extends d{constructor(){super(140,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[v.kg("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),v.kg("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:v.kg("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(Q){return L(Q,"simple",["simple","advanced"])}compute(Q,re,Je){return re.get(2)===2?"advanced":Je}})}},4587:(dt,pe,h)=>{h.d(pe,{D:()=>I});var s=h(2106);const I=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new s.vl,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(T){T=Math.min(Math.max(-5,T),20),this._zoomLevel!==T&&(this._zoomLevel=T,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},8060:(dt,pe,h)=>{h.d(pe,{YJ:()=>v,_8:()=>M});var s=h(3339),I=h(6476),T=h(4587);const J=s.zx?1.5:1.35;class M{static createFromValidatedSettings(E,w,C){const d=E.get(49),f=E.get(53),p=E.get(52),_=E.get(51),m=E.get(54),b=E.get(67),x=E.get(64);return M._create(d,f,p,_,m,b,x,w,C)}static _create(E,w,C,d,f,p,_,m,b){p===0?p=J*C:p<8&&(p*=C),(p=Math.round(p))<8&&(p=8);const x=1+(b?0:0.1*T.D.getZoomLevel());return C*=x,p*=x,f===I.r_.TRANSLATE&&(w==="normal"||w==="bold"?f=I.r_.OFF:(f=`'wght' ${parseInt(w,10)}`,w="normal")),new M({pixelRatio:m,fontFamily:E,fontWeight:w,fontSize:C,fontFeatureSettings:d,fontVariationSettings:f,lineHeight:p,letterSpacing:_})}constructor(E){this._bareFontInfoBrand=void 0,this.pixelRatio=E.pixelRatio,this.fontFamily=String(E.fontFamily),this.fontWeight=String(E.fontWeight),this.fontSize=E.fontSize,this.fontFeatureSettings=E.fontFeatureSettings,this.fontVariationSettings=E.fontVariationSettings,this.lineHeight=0|E.lineHeight,this.letterSpacing=E.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const E=I.jU.fontFamily,w=M._wrapInQuotes(this.fontFamily);return E&&this.fontFamily!==E?`${w}, ${E}`:w}static _wrapInQuotes(E){return/[,"']/.test(E)?E:/[+ ]/.test(E)?`"${E}"`:E}}class v extends M{constructor(E,w){super(E),this._editorStylingBrand=void 0,this.version=2,this.isTrusted=w,this.isMonospace=E.isMonospace,this.typicalHalfwidthCharacterWidth=E.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=E.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=E.canUseHalfwidthRightwardsArrow,this.spaceWidth=E.spaceWidth,this.middotWidth=E.middotWidth,this.wsmiddotWidth=E.wsmiddotWidth,this.maxDigitWidth=E.maxDigitWidth}equals(E){return this.fontFamily===E.fontFamily&&this.fontWeight===E.fontWeight&&this.fontSize===E.fontSize&&this.fontFeatureSettings===E.fontFeatureSettings&&this.fontVariationSettings===E.fontVariationSettings&&this.lineHeight===E.lineHeight&&this.letterSpacing===E.letterSpacing&&this.typicalHalfwidthCharacterWidth===E.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===E.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===E.canUseHalfwidthRightwardsArrow&&this.spaceWidth===E.spaceWidth&&this.middotWidth===E.middotWidth&&this.wsmiddotWidth===E.wsmiddotWidth&&this.maxDigitWidth===E.maxDigitWidth}}},7454:(dt,pe,h)=>{h.d(pe,{V:()=>I,y:()=>T});var s=h(7512);class I{constructor(J){const M=s.W(J);this._defaultValue=M,this._asciiMap=I._createAsciiMap(M),this._map=new Map}static _createAsciiMap(J){const M=new Uint8Array(256);return M.fill(J),M}set(J,M){const v=s.W(M);J>=0&&J<256?this._asciiMap[J]=v:this._map.set(J,v)}get(J){return J>=0&&J<256?this._asciiMap[J]:this._map.get(J)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class T{constructor(){this._actual=new I(0)}add(J){this._actual.set(J,1)}has(J){return this._actual.get(J)===1}clear(){return this._actual.clear()}}},2549:(dt,pe,h)=>{h.d(pe,{A:()=>I});var s=h(6844);class I{static _nextVisibleColumn(T,J,M){return T===9?I.nextRenderTabStop(J,M):s.ne(T)||s.Ss(T)?J+2:J+1}static visibleColumnFromColumn(T,J,M){const v=Math.min(J-1,T.length),E=T.substring(0,v),w=new s.km(E);let C=0;for(;!w.eol();){const d=s.Z5(E,v,w.offset);w.nextGraphemeLength(),C=this._nextVisibleColumn(d,C,M)}return C}static columnFromVisibleColumn(T,J,M){if(J<=0)return 1;const v=T.length,E=new s.km(T);let w=0,C=1;for(;!E.eol();){const d=s.Z5(T,v,E.offset);E.nextGraphemeLength();const f=this._nextVisibleColumn(d,w,M),p=E.offset+1;if(f>=J)return f-J<J-w?p:C;w=f,C=p}return v+1}static nextRenderTabStop(T,J){return T+J-T%J}static nextIndentTabStop(T,J){return T+J-T%J}static prevRenderTabStop(T,J){return Math.max(0,T-1-(T-1)%J)}static prevIndentTabStop(T,J){return Math.max(0,T-1-(T-1)%J)}}},3877:(dt,pe,h)=>{h.d(pe,{k:()=>I});var s=h(8061);class I{static insert(T,J){return{range:new s.Q(T.lineNumber,T.column,T.lineNumber,T.column),text:J,forceMoveMarkers:!0}}static delete(T){return{range:T,text:null}}static replace(T,J){return{range:T,text:J}}static replaceMove(T,J){return{range:T,text:J,forceMoveMarkers:!0}}}},8295:(dt,pe,h)=>{h.d(pe,{A3:()=>$,AQ:()=>he,Am:()=>B,As:()=>ie,BD:()=>be,Bo:()=>We,CM:()=>L,D0:()=>E,Ek:()=>ve,H0:()=>W,I2:()=>ge,IW:()=>ae,If:()=>de,JB:()=>ne,L0:()=>p,Mf:()=>v,P1:()=>oe,Pe:()=>Ye,Qt:()=>m,WD:()=>Fe,WS:()=>Ue,WY:()=>rt,Xr:()=>V,aZ:()=>Ie,bB:()=>O,hz:()=>P,je:()=>d,kG:()=>M,kM:()=>w,l5:()=>Se,lQ:()=>re,n4:()=>g,ob:()=>R,ow:()=>z,s7:()=>Ve,sC:()=>C,sH:()=>Pe,sN:()=>Q,ss:()=>Je,tK:()=>U,tp:()=>G,vP:()=>te,vV:()=>k,vp:()=>xe,w4:()=>_,we:()=>f,x9:()=>H,yI:()=>Be,yw:()=>Y,zp:()=>Le});var s=h(9746),I=h(4901),T=h(559),J=h(9044);const M=T.x1A("editor.lineHighlightBackground",null,s.kg("lineHighlight","Background color for the highlight of line at the cursor position.")),v=T.x1A("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:T.b1q},s.kg("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),E=(T.x1A("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},s.kg("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),T.x1A("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:T.buw,hcLight:T.buw},s.kg("rangeHighlightBorder","Background color of the border around highlighted ranges.")),T.x1A("editor.symbolHighlightBackground",{dark:T.Ubg,light:T.Ubg,hcDark:null,hcLight:null},s.kg("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),T.x1A("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:T.buw,hcLight:T.buw},s.kg("symbolHighlightBorder","Background color of the border around highlighted symbols.")),T.x1A("editorCursor.foreground",{dark:"#AEAFAD",light:I.Q1.black,hcDark:I.Q1.white,hcLight:"#0F4A85"},s.kg("caret","Color of the editor cursor."))),w=T.x1A("editorCursor.background",null,s.kg("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),C=T.x1A("editorMultiCursor.primary.foreground",E,s.kg("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),d=T.x1A("editorMultiCursor.primary.background",w,s.kg("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),f=T.x1A("editorMultiCursor.secondary.foreground",E,s.kg("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),p=T.x1A("editorMultiCursor.secondary.background",w,s.kg("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),_=T.x1A("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},s.kg("editorWhitespaces","Color of whitespace characters in the editor.")),m=T.x1A("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:I.Q1.white,hcLight:"#292929"},s.kg("editorLineNumbers","Color of editor line numbers.")),b=T.x1A("editorIndentGuide.background",_,s.kg("editorIndentGuides","Color of the editor indentation guides."),!1,s.kg("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),x=T.x1A("editorIndentGuide.activeBackground",_,s.kg("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,s.kg("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),k=T.x1A("editorIndentGuide.background1",b,s.kg("editorIndentGuides1","Color of the editor indentation guides (1).")),R=T.x1A("editorIndentGuide.background2","#00000000",s.kg("editorIndentGuides2","Color of the editor indentation guides (2).")),P=T.x1A("editorIndentGuide.background3","#00000000",s.kg("editorIndentGuides3","Color of the editor indentation guides (3).")),z=T.x1A("editorIndentGuide.background4","#00000000",s.kg("editorIndentGuides4","Color of the editor indentation guides (4).")),te=T.x1A("editorIndentGuide.background5","#00000000",s.kg("editorIndentGuides5","Color of the editor indentation guides (5).")),L=T.x1A("editorIndentGuide.background6","#00000000",s.kg("editorIndentGuides6","Color of the editor indentation guides (6).")),W=T.x1A("editorIndentGuide.activeBackground1",x,s.kg("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),B=T.x1A("editorIndentGuide.activeBackground2","#00000000",s.kg("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),U=T.x1A("editorIndentGuide.activeBackground3","#00000000",s.kg("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),$=T.x1A("editorIndentGuide.activeBackground4","#00000000",s.kg("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),G=T.x1A("editorIndentGuide.activeBackground5","#00000000",s.kg("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),ie=T.x1A("editorIndentGuide.activeBackground6","#00000000",s.kg("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),ee=T.x1A("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:T.buw,hcLight:T.buw},s.kg("editorActiveLineNumber","Color of editor active line number"),!1,s.kg("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),ne=(T.x1A("editorLineNumber.activeForeground",ee,s.kg("editorActiveLineNumber","Color of editor active line number")),T.x1A("editorLineNumber.dimmedForeground",null,s.kg("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."))),H=(T.x1A("editorRuler.foreground",{dark:"#5A5A5A",light:I.Q1.lightgrey,hcDark:I.Q1.white,hcLight:"#292929"},s.kg("editorRuler","Color of the editor rulers.")),T.x1A("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},s.kg("editorCodeLensForeground","Foreground color of editor CodeLens")),T.x1A("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},s.kg("editorBracketMatchBackground","Background color behind matching brackets")),T.x1A("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:T.b1q,hcLight:T.b1q},s.kg("editorBracketMatchBorder","Color for matching brackets boxes")),T.x1A("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},s.kg("editorOverviewRulerBorder","Color of the overview ruler border."))),V=T.x1A("editorOverviewRuler.background",null,s.kg("editorOverviewRulerBackground","Background color of the editor overview ruler.")),Y=(T.x1A("editorGutter.background",T.YtV,s.kg("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),T.x1A("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:I.Q1.fromHex("#fff").transparent(0.8),hcLight:T.b1q},s.kg("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),T.x1A("editorUnnecessaryCode.opacity",{dark:I.Q1.fromHex("#000a"),light:I.Q1.fromHex("#0007"),hcDark:null,hcLight:null},s.kg("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out."))),ve=(T.x1A("editorGhostText.border",{dark:null,light:null,hcDark:I.Q1.fromHex("#fff").transparent(0.8),hcLight:I.Q1.fromHex("#292929").transparent(0.8)},s.kg("editorGhostTextBorder","Border color of ghost text in the editor.")),T.x1A("editorGhostText.foreground",{dark:I.Q1.fromHex("#ffffff56"),light:I.Q1.fromHex("#0007"),hcDark:null,hcLight:null},s.kg("editorGhostTextForeground","Foreground color of the ghost text in the editor."))),Te=(T.x1A("editorGhostText.background",null,s.kg("editorGhostTextBackground","Background color of the ghost text in the editor.")),new I.Q1(new I.bU(0,122,204,0.6))),xe=T.x1A("editorOverviewRuler.rangeHighlightForeground",Te,s.kg("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Be=T.x1A("editorOverviewRuler.errorForeground",{dark:new I.Q1(new I.bU(255,18,18,0.7)),light:new I.Q1(new I.bU(255,18,18,0.7)),hcDark:new I.Q1(new I.bU(255,50,50,1)),hcLight:"#B5200D"},s.kg("overviewRuleError","Overview ruler marker color for errors.")),Ie=T.x1A("editorOverviewRuler.warningForeground",{dark:T.Hng,light:T.Hng,hcDark:T.Stt,hcLight:T.Stt},s.kg("overviewRuleWarning","Overview ruler marker color for warnings.")),he=T.x1A("editorOverviewRuler.infoForeground",{dark:T.pOz,light:T.pOz,hcDark:T.IIb,hcLight:T.IIb},s.kg("overviewRuleInfo","Overview ruler marker color for infos.")),Q=T.x1A("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},s.kg("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),re=T.x1A("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},s.kg("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Je=T.x1A("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},s.kg("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Se=T.x1A("editorBracketHighlight.foreground4","#00000000",s.kg("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Pe=T.x1A("editorBracketHighlight.foreground5","#00000000",s.kg("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Le=T.x1A("editorBracketHighlight.foreground6","#00000000",s.kg("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Ve=T.x1A("editorBracketHighlight.unexpectedBracket.foreground",{dark:new I.Q1(new I.bU(255,18,18,0.8)),light:new I.Q1(new I.bU(255,18,18,0.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},s.kg("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),g=T.x1A("editorBracketPairGuide.background1","#00000000",s.kg("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),ge=T.x1A("editorBracketPairGuide.background2","#00000000",s.kg("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),We=T.x1A("editorBracketPairGuide.background3","#00000000",s.kg("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),de=T.x1A("editorBracketPairGuide.background4","#00000000",s.kg("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),be=T.x1A("editorBracketPairGuide.background5","#00000000",s.kg("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),ae=T.x1A("editorBracketPairGuide.background6","#00000000",s.kg("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),O=T.x1A("editorBracketPairGuide.activeBackground1","#00000000",s.kg("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Ue=T.x1A("editorBracketPairGuide.activeBackground2","#00000000",s.kg("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Ye=T.x1A("editorBracketPairGuide.activeBackground3","#00000000",s.kg("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Fe=T.x1A("editorBracketPairGuide.activeBackground4","#00000000",s.kg("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),oe=T.x1A("editorBracketPairGuide.activeBackground5","#00000000",s.kg("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),rt=T.x1A("editorBracketPairGuide.activeBackground6","#00000000",s.kg("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));T.x1A("editorUnicodeHighlight.border",T.Hng,s.kg("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),T.x1A("editorUnicodeHighlight.background",T.whs,s.kg("editorUnicodeHighlight.background","Background color used to highlight unicode characters.")),J.zy((lt,ye)=>{const pt=lt.getColor(T.YtV),Mt=lt.getColor(M),Zt=Mt&&!Mt.isTransparent()?Mt:pt;Zt&&ye.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Zt}; }`)})},3902:(dt,pe,h)=>{function s(I){let T=0,J=0,M=0,v=0;for(let E=0,w=I.length;E<w;E++){const C=I.charCodeAt(E);C===13?(T===0&&(J=E),T++,E+1<w&&I.charCodeAt(E+1)===10?(v|=2,E++):v|=3,M=E+1):C===10&&(v|=1,T===0&&(J=E),T++,M=E+1)}return T===0&&(J=I.length),[T,J,I.length-M,v]}h.d(pe,{W:()=>s})},7999:(dt,pe,h)=>{h.d(pe,{P:()=>T});var s=h(6844),I=h(2549);function T(J,M,v){let E=s.HG(J);return E===-1&&(E=J.length),function(w,C,d){let f=0;for(let _=0;_<w.length;_++)w.charAt(_)==="\t"?f=I.A.nextIndentTabStop(f,C):f++;let p="";if(!d){const _=Math.floor(f/C);f%=C;for(let m=0;m<_;m++)p+="\t"}for(let _=0;_<f;_++)p+=" ";return p}(J.substring(0,E),M,v)+J.substring(E)}},9955:(dt,pe,h)=>{h.d(pe,{M:()=>M,S:()=>v});var s=h(4327),I=h(2532),T=h(8061),J=h(7393);class M{static fromRangeInclusive(E){return new M(E.startLineNumber,E.endLineNumber+1)}static joinMany(E){if(E.length===0)return[];let w=new v(E[0].slice());for(let C=1;C<E.length;C++)w=w.getUnion(new v(E[C].slice()));return w.ranges}static join(E){if(E.length===0)throw new s.D7("lineRanges cannot be empty");let w=E[0].startLineNumber,C=E[0].endLineNumberExclusive;for(let d=1;d<E.length;d++)w=Math.min(w,E[d].startLineNumber),C=Math.max(C,E[d].endLineNumberExclusive);return new M(w,C)}static ofLength(E,w){return new M(E,E+w)}static deserialize(E){return new M(E[0],E[1])}constructor(E,w){if(E>w)throw new s.D7(`startLineNumber ${E} cannot be after endLineNumberExclusive ${w}`);this.startLineNumber=E,this.endLineNumberExclusive=w}contains(E){return this.startLineNumber<=E&&E<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(E){return new M(this.startLineNumber+E,this.endLineNumberExclusive+E)}deltaLength(E){return new M(this.startLineNumber,this.endLineNumberExclusive+E)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(E){return new M(Math.min(this.startLineNumber,E.startLineNumber),Math.max(this.endLineNumberExclusive,E.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(E){const w=Math.max(this.startLineNumber,E.startLineNumber),C=Math.min(this.endLineNumberExclusive,E.endLineNumberExclusive);if(w<=C)return new M(w,C)}intersectsStrict(E){return this.startLineNumber<E.endLineNumberExclusive&&E.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(E){return this.startLineNumber<=E.endLineNumberExclusive&&E.startLineNumber<=this.endLineNumberExclusive}equals(E){return this.startLineNumber===E.startLineNumber&&this.endLineNumberExclusive===E.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new T.Q(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new T.Q(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(E){const w=[];for(let C=this.startLineNumber;C<this.endLineNumberExclusive;C++)w.push(E(C));return w}forEach(E){for(let w=this.startLineNumber;w<this.endLineNumberExclusive;w++)E(w)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(E){return this.startLineNumber<=E&&E<this.endLineNumberExclusive}toOffsetRange(){return new I.L(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class v{constructor(E=[]){this._normalizedRanges=E}get ranges(){return this._normalizedRanges}addRange(E){if(E.length===0)return;const w=J.hw(this._normalizedRanges,(d)=>d.endLineNumberExclusive>=E.startLineNumber),C=J.iM(this._normalizedRanges,(d)=>d.startLineNumber<=E.endLineNumberExclusive)+1;if(w===C)this._normalizedRanges.splice(w,0,E);else if(w===C-1){const d=this._normalizedRanges[w];this._normalizedRanges[w]=d.join(E)}else{const d=this._normalizedRanges[w].join(this._normalizedRanges[C-1]).join(E);this._normalizedRanges.splice(w,C-w,d)}}contains(E){const w=J.lx(this._normalizedRanges,(C)=>C.startLineNumber<=E);return!!w&&w.endLineNumberExclusive>E}intersects(E){const w=J.lx(this._normalizedRanges,(C)=>C.startLineNumber<E.endLineNumberExclusive);return!!w&&w.endLineNumberExclusive>E.startLineNumber}getUnion(E){if(this._normalizedRanges.length===0)return E;if(E._normalizedRanges.length===0)return this;const w=[];let C=0,d=0,f=null;for(;C<this._normalizedRanges.length||d<E._normalizedRanges.length;){let p=null;if(C<this._normalizedRanges.length&&d<E._normalizedRanges.length){const _=this._normalizedRanges[C],m=E._normalizedRanges[d];_.startLineNumber<m.startLineNumber?(p=_,C++):(p=m,d++)}else C<this._normalizedRanges.length?(p=this._normalizedRanges[C],C++):(p=E._normalizedRanges[d],d++);f===null?f=p:f.endLineNumberExclusive>=p.startLineNumber?f=new M(f.startLineNumber,Math.max(f.endLineNumberExclusive,p.endLineNumberExclusive)):(w.push(f),f=p)}return f!==null&&w.push(f),new v(w)}subtractFrom(E){const w=J.hw(this._normalizedRanges,(p)=>p.endLineNumberExclusive>=E.startLineNumber),C=J.iM(this._normalizedRanges,(p)=>p.startLineNumber<=E.endLineNumberExclusive)+1;if(w===C)return new v([E]);const d=[];let f=E.startLineNumber;for(let p=w;p<C;p++){const _=this._normalizedRanges[p];_.startLineNumber>f&&d.push(new M(f,_.startLineNumber)),f=_.endLineNumberExclusive}return f<E.endLineNumberExclusive&&d.push(new M(f,E.endLineNumberExclusive)),new v(d)}toString(){return this._normalizedRanges.map((E)=>E.toString()).join(", ")}getIntersection(E){const w=[];let C=0,d=0;for(;C<this._normalizedRanges.length&&d<E._normalizedRanges.length;){const f=this._normalizedRanges[C],p=E._normalizedRanges[d],_=f.intersect(p);_&&!_.isEmpty&&w.push(_),f.endLineNumberExclusive<p.endLineNumberExclusive?C++:d++}return new v(w)}getWithDelta(E){return new v(this._normalizedRanges.map((w)=>w.delta(E)))}}},2532:(dt,pe,h)=>{h.d(pe,{L:()=>I,h:()=>T});var s=h(4327);class I{static addRange(J,M){let v=0;for(;v<M.length&&M[v].endExclusive<J.start;)v++;let E=v;for(;E<M.length&&M[E].start<=J.endExclusive;)E++;if(v===E)M.splice(v,0,J);else{const w=Math.min(J.start,M[v].start),C=Math.max(J.endExclusive,M[E-1].endExclusive);M.splice(v,E-v,new I(w,C))}}static tryCreate(J,M){if(!(J>M))return new I(J,M)}static ofLength(J){return new I(0,J)}static ofStartAndLength(J,M){return new I(J,J+M)}constructor(J,M){if(this.start=J,this.endExclusive=M,J>M)throw new s.D7(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(J){return new I(this.start+J,this.endExclusive+J)}deltaStart(J){return new I(this.start+J,this.endExclusive)}deltaEnd(J){return new I(this.start,this.endExclusive+J)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(J){return this.start<=J&&J<this.endExclusive}join(J){return new I(Math.min(this.start,J.start),Math.max(this.endExclusive,J.endExclusive))}intersect(J){const M=Math.max(this.start,J.start),v=Math.min(this.endExclusive,J.endExclusive);if(M<=v)return new I(M,v)}intersects(J){return Math.max(this.start,J.start)<Math.min(this.endExclusive,J.endExclusive)}isBefore(J){return this.endExclusive<=J.start}isAfter(J){return this.start>=J.endExclusive}slice(J){return J.slice(this.start,this.endExclusive)}substring(J){return J.substring(this.start,this.endExclusive)}clip(J){if(this.isEmpty)throw new s.D7(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,J))}clipCyclic(J){if(this.isEmpty)throw new s.D7(`Invalid clipping range: ${this.toString()}`);return J<this.start?this.endExclusive-(this.start-J)%this.length:J>=this.endExclusive?this.start+(J-this.start)%this.length:J}forEach(J){for(let M=this.start;M<this.endExclusive;M++)J(M)}}class T{constructor(){this._sortedRanges=[]}addRange(J){let M=0;for(;M<this._sortedRanges.length&&this._sortedRanges[M].endExclusive<J.start;)M++;let v=M;for(;v<this._sortedRanges.length&&this._sortedRanges[v].start<=J.endExclusive;)v++;if(M===v)this._sortedRanges.splice(M,0,J);else{const E=Math.min(J.start,this._sortedRanges[M].start),w=Math.max(J.endExclusive,this._sortedRanges[v-1].endExclusive);this._sortedRanges.splice(M,v-M,new I(E,w))}}toString(){return this._sortedRanges.map((J)=>J.toString()).join(", ")}intersectsStrict(J){let M=0;for(;M<this._sortedRanges.length&&this._sortedRanges[M].endExclusive<=J.start;)M++;return M<this._sortedRanges.length&&this._sortedRanges[M].start<J.endExclusive}intersectWithRange(J){const M=new T;for(let v of this._sortedRanges){const E=v.intersect(J);E&&M.addRange(E)}return M}intersectWithRangeLength(J){return this.intersectWithRange(J).length}get length(){return this._sortedRanges.reduce((J,M)=>J+M.length,0)}}},5365:(dt,pe,h)=>{h.d(pe,{y:()=>s});class s{constructor(I,T){this.lineNumber=I,this.column=T}with(I=this.lineNumber,T=this.column){return I===this.lineNumber&&T===this.column?this:new s(I,T)}delta(I=0,T=0){return this.with(this.lineNumber+I,this.column+T)}equals(I){return s.equals(this,I)}static equals(I,T){return!I&&!T||!!I&&!!T&&I.lineNumber===T.lineNumber&&I.column===T.column}isBefore(I){return s.isBefore(this,I)}static isBefore(I,T){return I.lineNumber<T.lineNumber||!(T.lineNumber<I.lineNumber)&&I.column<T.column}isBeforeOrEqual(I){return s.isBeforeOrEqual(this,I)}static isBeforeOrEqual(I,T){return I.lineNumber<T.lineNumber||!(T.lineNumber<I.lineNumber)&&I.column<=T.column}static compare(I,T){const J=0|I.lineNumber,M=0|T.lineNumber;return J===M?(0|I.column)-(0|T.column):J-M}clone(){return new s(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(I){return new s(I.lineNumber,I.column)}static isIPosition(I){return I&&typeof I.lineNumber=="number"&&typeof I.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}},8061:(dt,pe,h)=>{h.d(pe,{Q:()=>I});var s=h(5365);class I{constructor(T,J,M,v){T>M||T===M&&J>v?(this.startLineNumber=M,this.startColumn=v,this.endLineNumber=T,this.endColumn=J):(this.startLineNumber=T,this.startColumn=J,this.endLineNumber=M,this.endColumn=v)}isEmpty(){return I.isEmpty(this)}static isEmpty(T){return T.startLineNumber===T.endLineNumber&&T.startColumn===T.endColumn}containsPosition(T){return I.containsPosition(this,T)}static containsPosition(T,J){return!(J.lineNumber<T.startLineNumber||J.lineNumber>T.endLineNumber||J.lineNumber===T.startLineNumber&&J.column<T.startColumn||J.lineNumber===T.endLineNumber&&J.column>T.endColumn)}static strictContainsPosition(T,J){return!(J.lineNumber<T.startLineNumber||J.lineNumber>T.endLineNumber||J.lineNumber===T.startLineNumber&&J.column<=T.startColumn||J.lineNumber===T.endLineNumber&&J.column>=T.endColumn)}containsRange(T){return I.containsRange(this,T)}static containsRange(T,J){return!(J.startLineNumber<T.startLineNumber||J.endLineNumber<T.startLineNumber||J.startLineNumber>T.endLineNumber||J.endLineNumber>T.endLineNumber||J.startLineNumber===T.startLineNumber&&J.startColumn<T.startColumn||J.endLineNumber===T.endLineNumber&&J.endColumn>T.endColumn)}strictContainsRange(T){return I.strictContainsRange(this,T)}static strictContainsRange(T,J){return!(J.startLineNumber<T.startLineNumber||J.endLineNumber<T.startLineNumber||J.startLineNumber>T.endLineNumber||J.endLineNumber>T.endLineNumber||J.startLineNumber===T.startLineNumber&&J.startColumn<=T.startColumn||J.endLineNumber===T.endLineNumber&&J.endColumn>=T.endColumn)}plusRange(T){return I.plusRange(this,T)}static plusRange(T,J){let M,v,E,w;return J.startLineNumber<T.startLineNumber?(M=J.startLineNumber,v=J.startColumn):J.startLineNumber===T.startLineNumber?(M=J.startLineNumber,v=Math.min(J.startColumn,T.startColumn)):(M=T.startLineNumber,v=T.startColumn),J.endLineNumber>T.endLineNumber?(E=J.endLineNumber,w=J.endColumn):J.endLineNumber===T.endLineNumber?(E=J.endLineNumber,w=Math.max(J.endColumn,T.endColumn)):(E=T.endLineNumber,w=T.endColumn),new I(M,v,E,w)}intersectRanges(T){return I.intersectRanges(this,T)}static intersectRanges(T,J){let{startLineNumber:M,startColumn:v,endLineNumber:E,endColumn:w}=T;const{startLineNumber:C,startColumn:d,endLineNumber:f,endColumn:p}=J;return M<C?(M=C,v=d):M===C&&(v=Math.max(v,d)),E>f?(E=f,w=p):E===f&&(w=Math.min(w,p)),M>E||M===E&&v>w?null:new I(M,v,E,w)}equalsRange(T){return I.equalsRange(this,T)}static equalsRange(T,J){return!T&&!J||!!T&&!!J&&T.startLineNumber===J.startLineNumber&&T.startColumn===J.startColumn&&T.endLineNumber===J.endLineNumber&&T.endColumn===J.endColumn}getEndPosition(){return I.getEndPosition(this)}static getEndPosition(T){return new s.y(T.endLineNumber,T.endColumn)}getStartPosition(){return I.getStartPosition(this)}static getStartPosition(T){return new s.y(T.startLineNumber,T.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(T,J){return new I(this.startLineNumber,this.startColumn,T,J)}setStartPosition(T,J){return new I(T,J,this.endLineNumber,this.endColumn)}collapseToStart(){return I.collapseToStart(this)}static collapseToStart(T){return new I(T.startLineNumber,T.startColumn,T.startLineNumber,T.startColumn)}collapseToEnd(){return I.collapseToEnd(this)}static collapseToEnd(T){return new I(T.endLineNumber,T.endColumn,T.endLineNumber,T.endColumn)}delta(T){return new I(this.startLineNumber+T,this.startColumn,this.endLineNumber+T,this.endColumn)}static fromPositions(T,J=T){return new I(T.lineNumber,T.column,J.lineNumber,J.column)}static lift(T){return T?new I(T.startLineNumber,T.startColumn,T.endLineNumber,T.endColumn):null}static isIRange(T){return T&&typeof T.startLineNumber=="number"&&typeof T.startColumn=="number"&&typeof T.endLineNumber=="number"&&typeof T.endColumn=="number"}static areIntersectingOrTouching(T,J){return!(T.endLineNumber<J.startLineNumber||T.endLineNumber===J.startLineNumber&&T.endColumn<J.startColumn||J.endLineNumber<T.startLineNumber||J.endLineNumber===T.startLineNumber&&J.endColumn<T.startColumn)}static areIntersecting(T,J){return!(T.endLineNumber<J.startLineNumber||T.endLineNumber===J.startLineNumber&&T.endColumn<=J.startColumn||J.endLineNumber<T.startLineNumber||J.endLineNumber===T.startLineNumber&&J.endColumn<=T.startColumn)}static compareRangesUsingStarts(T,J){if(T&&J){const M=0|T.startLineNumber,v=0|J.startLineNumber;if(M===v){const E=0|T.startColumn,w=0|J.startColumn;if(E===w){const C=0|T.endLineNumber,d=0|J.endLineNumber;return C===d?(0|T.endColumn)-(0|J.endColumn):C-d}return E-w}return M-v}return(T?1:0)-(J?1:0)}static compareRangesUsingEnds(T,J){return T.endLineNumber===J.endLineNumber?T.endColumn===J.endColumn?T.startLineNumber===J.startLineNumber?T.startColumn-J.startColumn:T.startLineNumber-J.startLineNumber:T.endColumn-J.endColumn:T.endLineNumber-J.endLineNumber}static spansMultipleLines(T){return T.endLineNumber>T.startLineNumber}toJSON(){return this}}},3702:(dt,pe,h)=>{h.d(pe,{L:()=>T});var s=h(5365),I=h(8061);class T extends I.Q{constructor(J,M,v,E){super(J,M,v,E),this.selectionStartLineNumber=J,this.selectionStartColumn=M,this.positionLineNumber=v,this.positionColumn=E}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(J){return T.selectionsEqual(this,J)}static selectionsEqual(J,M){return J.selectionStartLineNumber===M.selectionStartLineNumber&&J.selectionStartColumn===M.selectionStartColumn&&J.positionLineNumber===M.positionLineNumber&&J.positionColumn===M.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(J,M){return this.getDirection()===0?new T(this.startLineNumber,this.startColumn,J,M):new T(J,M,this.startLineNumber,this.startColumn)}getPosition(){return new s.y(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new s.y(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(J,M){return this.getDirection()===0?new T(J,M,this.endLineNumber,this.endColumn):new T(this.endLineNumber,this.endColumn,J,M)}static fromPositions(J,M=J){return new T(J.lineNumber,J.column,M.lineNumber,M.column)}static fromRange(J,M){return M===0?new T(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn):new T(J.endLineNumber,J.endColumn,J.startLineNumber,J.startColumn)}static liftSelection(J){return new T(J.selectionStartLineNumber,J.selectionStartColumn,J.positionLineNumber,J.positionColumn)}static selectionsArrEqual(J,M){if(J&&!M||!J&&M)return!1;if(!J&&!M)return!0;if(J.length!==M.length)return!1;for(let v=0,E=J.length;v<E;v++)if(!this.selectionsEqual(J[v],M[v]))return!1;return!0}static isISelection(J){return J&&typeof J.selectionStartLineNumber=="number"&&typeof J.selectionStartColumn=="number"&&typeof J.positionLineNumber=="number"&&typeof J.positionColumn=="number"}static createWithDirection(J,M,v,E,w){return w===0?new T(J,M,v,E):new T(v,E,J,M)}}},4324:(dt,pe,h)=>{h.d(pe,{Su:()=>C,b7:()=>w,fe:()=>d});var s=h(6844),I=h(3339),T=h(2802);let J,M,v;function E(){return J||(J=new TextDecoder("UTF-16LE")),J}function w(){return v||(v=I.cm()?E():(M||(M=new TextDecoder("UTF-16BE")),M)),v}function C(f,p,_){const m=new Uint16Array(f.buffer,p,_);return _>0&&(m[0]===65279||m[0]===65534)?function(b,x,k){const R=[];let P=0;for(let z=0;z<k;z++){const te=T.$l(b,x);x+=2,R[P++]=String.fromCharCode(te)}return R.join("")}(f,p,_):E().decode(m)}class d{constructor(f){this._capacity=0|f,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const f=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return w().decode(f)}_flushBuffer(){const f=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[f]:this._completedStrings[this._completedStrings.length]=f}appendCharCode(f){const p=this._capacity-this._bufferLength;p<=1&&(p===0||s.pc(f))&&this._flushBuffer(),this._buffer[this._bufferLength++]=f}appendASCIICharCode(f){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=f}appendString(f){const p=f.length;if(this._bufferLength+p>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=f);for(let _=0;_<p;_++)this._buffer[this._bufferLength++]=f.charCodeAt(_)}}},6949:(dt,pe,h)=>{h.d(pe,{k:()=>J,x:()=>M});var s=h(2802),I=h(4324);function T(E){return E.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class J{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(E,w,C,d){this.oldPosition=E,this.oldText=w,this.newPosition=C,this.newText=d}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${T(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${T(this.oldText)}")`:`(replace@${this.oldPosition} "${T(this.oldText)}" with "${T(this.newText)}")`}static _writeStringSize(E){return 4+2*E.length}static _writeString(E,w,C){const d=w.length;s.Sw(E,d,C),C+=4;for(let f=0;f<d;f++)s.gN(E,w.charCodeAt(f),C),C+=2;return C}static _readString(E,w){const C=s.bb(E,w);return w+=4,I.Su(E,w,C)}writeSize(){return 8+J._writeStringSize(this.oldText)+J._writeStringSize(this.newText)}write(E,w){return s.Sw(E,this.oldPosition,w),w+=4,s.Sw(E,this.newPosition,w),w+=4,w=J._writeString(E,this.oldText,w),J._writeString(E,this.newText,w)}static read(E,w,C){const d=s.bb(E,w);w+=4;const f=s.bb(E,w);w+=4;const p=J._readString(E,w);w+=J._writeStringSize(p);const _=J._readString(E,w);return w+=J._writeStringSize(_),C.push(new J(d,p,f,_)),w}}function M(E,w){return E===null||E.length===0?w:new v(E,w).compress()}class v{constructor(E,w){this._prevEdits=E,this._currEdits=w,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let E=0,w=0,C=this._getPrev(E),d=this._getCurr(w);for(;E<this._prevLen||w<this._currLen;){if(C===null){this._acceptCurr(d),d=this._getCurr(++w);continue}if(d===null){this._acceptPrev(C),C=this._getPrev(++E);continue}if(d.oldEnd<=C.newPosition){this._acceptCurr(d),d=this._getCurr(++w);continue}if(C.newEnd<=d.oldPosition){this._acceptPrev(C),C=this._getPrev(++E);continue}if(d.oldPosition<C.newPosition){const[m,b]=v._splitCurr(d,C.newPosition-d.oldPosition);this._acceptCurr(m),d=b;continue}if(C.newPosition<d.oldPosition){const[m,b]=v._splitPrev(C,d.oldPosition-C.newPosition);this._acceptPrev(m),C=b;continue}let p,_;if(d.oldEnd===C.newEnd)p=C,_=d,C=this._getPrev(++E),d=this._getCurr(++w);else if(d.oldEnd<C.newEnd){const[m,b]=v._splitPrev(C,d.oldLength);p=m,_=d,C=b,d=this._getCurr(++w)}else{const[m,b]=v._splitCurr(d,C.newLength);p=C,_=m,C=this._getPrev(++E),d=b}this._result[this._resultLen++]=new J(p.oldPosition,p.oldText,_.newPosition,_.newText),this._prevDeltaOffset+=p.newLength-p.oldLength,this._currDeltaOffset+=_.newLength-_.oldLength}const f=v._merge(this._result);return v._removeNoOps(f)}_acceptCurr(E){this._result[this._resultLen++]=v._rebaseCurr(this._prevDeltaOffset,E),this._currDeltaOffset+=E.newLength-E.oldLength}_getCurr(E){return E<this._currLen?this._currEdits[E]:null}_acceptPrev(E){this._result[this._resultLen++]=v._rebasePrev(this._currDeltaOffset,E),this._prevDeltaOffset+=E.newLength-E.oldLength}_getPrev(E){return E<this._prevLen?this._prevEdits[E]:null}static _rebaseCurr(E,w){return new J(w.oldPosition-E,w.oldText,w.newPosition,w.newText)}static _rebasePrev(E,w){return new J(w.oldPosition,w.oldText,w.newPosition+E,w.newText)}static _splitPrev(E,w){const C=E.newText.substr(0,w),d=E.newText.substr(w);return[new J(E.oldPosition,E.oldText,E.newPosition,C),new J(E.oldEnd,"",E.newPosition+w,d)]}static _splitCurr(E,w){const C=E.oldText.substr(0,w),d=E.oldText.substr(w);return[new J(E.oldPosition,C,E.newPosition,E.newText),new J(E.oldPosition+w,d,E.newEnd,"")]}static _merge(E){if(E.length===0)return E;const w=[];let C=0,d=E[0];for(let f=1;f<E.length;f++){const p=E[f];d.oldEnd===p.oldPosition?d=new J(d.oldPosition,d.oldText+p.oldText,d.newPosition,d.newText+p.newText):(w[C++]=d,d=p)}return w[C++]=d,w}static _removeNoOps(E){if(E.length===0)return E;const w=[];let C=0;for(let d=0;d<E.length;d++){const f=E[d];f.oldText!==f.newText&&(w[C++]=f)}return w}}},5787:(dt,pe,h)=>{h.d(pe,{CO:()=>f,WR:()=>C,mF:()=>w});var s=h(7110),I=h(4327),T=h(5365),J=h(2532),M=h(8357);class v{constructor(_){this.text=_,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let m=0;m<_.length;m++)_.charAt(m)==="\n"&&this.lineStartOffsetByLineIdx.push(m+1)}getOffset(_){return this.lineStartOffsetByLineIdx[_.lineNumber-1]+_.column-1}getOffsetRange(_){return new J.L(this.getOffset(_.getStartPosition()),this.getOffset(_.getEndPosition()))}get textLength(){const _=this.lineStartOffsetByLineIdx.length-1;return new M.W(_,this.text.length-this.lineStartOffsetByLineIdx[_])}}var E=h(8061);class w{constructor(_){this.edits=_,s.Ft(()=>s.Xo(_,(m,b)=>m.range.getEndPosition().isBeforeOrEqual(b.range.getStartPosition())))}apply(_){let m="",b=new T.y(1,1);for(let k of this.edits){const R=k.range,P=R.getStartPosition(),z=R.getEndPosition(),te=d(b,P);te.isEmpty()||(m+=_.getValueOfRange(te)),m+=k.text,b=z}const x=d(b,_.endPositionExclusive);return x.isEmpty()||(m+=_.getValueOfRange(x)),m}applyToString(_){const m=new p(_);return this.apply(m)}getNewRanges(){const _=[];let m=0,b=0,x=0;for(let k of this.edits){const R=M.W.ofText(k.text),P=T.y.lift({lineNumber:k.range.startLineNumber+b,column:k.range.startColumn+(k.range.startLineNumber===m?x:0)}),z=R.createRange(P);_.push(z),b=z.endLineNumber-k.range.endLineNumber,x=z.endColumn-k.range.endColumn,m=k.range.endLineNumber}return _}}class C{constructor(_,m){this.range=_,this.text=m}toSingleEditOperation(){return{range:this.range,text:this.text}}}function d(_,m){if(_.lineNumber===m.lineNumber&&_.column===Number.MAX_SAFE_INTEGER)return E.Q.fromPositions(m,m);if(!_.isBeforeOrEqual(m))throw new I.D7("start must be before end");return new E.Q(_.lineNumber,_.column,m.lineNumber,m.column)}class f{get endPositionExclusive(){return this.length.addToPosition(new T.y(1,1))}}class p extends f{constructor(_){super(),this.value=_,this._t=new v(this.value)}getValueOfRange(_){return this._t.getOffsetRange(_).substring(this.value)}get length(){return this._t.textLength}}},8357:(dt,pe,h)=>{h.d(pe,{W:()=>T});var s=h(5365),I=h(8061);class T{static{this.zero=new T(0,0)}static betweenPositions(J,M){return J.lineNumber===M.lineNumber?new T(0,M.column-J.column):new T(M.lineNumber-J.lineNumber,M.column-1)}static ofRange(J){return T.betweenPositions(J.getStartPosition(),J.getEndPosition())}static ofText(J){let M=0,v=0;for(let E of J)E==="\n"?(M++,v=0):v++;return new T(M,v)}constructor(J,M){this.lineCount=J,this.columnCount=M}isGreaterThanOrEqualTo(J){return this.lineCount!==J.lineCount?this.lineCount>J.lineCount:this.columnCount>=J.columnCount}createRange(J){return this.lineCount===0?new I.Q(J.lineNumber,J.column,J.lineNumber,J.column+this.columnCount):new I.Q(J.lineNumber,J.column,J.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(J){return this.lineCount===0?new s.y(J.lineNumber,J.column+this.columnCount):new s.y(J.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}}},2590:(dt,pe,h)=>{h.d(pe,{R:()=>s});const s={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},2862:(dt,pe,h)=>{h.d(pe,{i:()=>M});var s=h(7992),I=h(7454);class T extends I.V{constructor(v,E){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=E,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let w=0,C=v.length;w<C;w++)this.set(v.charCodeAt(w),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(v,E){let w=null;for(let C of this._getIntlSegmenterWordsOnLine(v)){if(C.index>E)break;w=C}return w}findNextIntlWordAtOrAfterOffset(v,E){for(let w of this._getIntlSegmenterWordsOnLine(v))if(!(w.index<E))return w;return null}_getIntlSegmenterWordsOnLine(v){return this._segmenter?(this._cachedLine===v||(this._cachedLine=v,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(v))),this._cachedSegments):[]}_filterWordSegments(v){const E=[];for(let w of v)this._isWordLike(w)&&E.push(w);return E}_isWordLike(v){return!!v.isWordLike}}const J=new s.qK(10);function M(v,E){const w=`${v}/${E.join(",")}`;let C=J.get(w);return C||(C=new T(v,E),J.set(w,C)),C}},8782:(dt,pe,h)=>{h.d(pe,{Io:()=>M,J3:()=>T,Ld:()=>J,Th:()=>E});var s=h(7954),I=h(5525);const T="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",J=function(C=""){let d="(-?\\d*\\.\\d\\w*)|([^";for(let f of T)C.indexOf(f)>=0||(d+="\\"+f);return d+="\\s]+)",new RegExp(d,"g")}();function M(C){let d=J;if(C&&C instanceof RegExp)if(C.global)d=C;else{let f="g";C.ignoreCase&&(f+="i"),C.multiline&&(f+="m"),C.unicode&&(f+="u"),d=new RegExp(C.source,f)}return d.lastIndex=0,d}const v=new I.w;function E(C,d,f,p,_){if(d=M(d),_||(_=s.f.first(v)),f.length>_.maxLen){let R=C-_.maxLen/2;return R<0?R=0:p+=R,E(C,d,f=f.substring(R,C+_.maxLen/2),p,_)}const m=Date.now(),b=C-1-p;let x=-1,k=null;for(let R=1;!(Date.now()-m>=_.timeBudget);R++){const P=b-_.windowSize*R;d.lastIndex=Math.max(0,P);const z=w(d,f,b,x);if(!z&&k)break;if(k=z,P<=0)break;x=P}if(k){const R={word:k[0],startColumn:p+1+k.index,endColumn:p+1+k.index+k[0].length};return d.lastIndex=0,R}return null}function w(C,d,f,p){let _;for(;_=C.exec(d);){const m=_.index||0;if(m<=f&&C.lastIndex>=f)return _;if(p>0&&m>p)return null}return null}v.unshift({maxLen:1000,windowSize:15,timeBudget:150})},1937:(dt,pe,h)=>{h.d(pe,{s:()=>I});var s=h(2549);class I{static whitespaceVisibleColumn(T,J,M){const v=T.length;let E=0,w=-1,C=-1;for(let d=0;d<v;d++){if(d===J)return[w,C,E];switch(E%M==0&&(w=d,C=E),T.charCodeAt(d)){case 32:E+=1;break;case 9:E=s.A.nextRenderTabStop(E,M);break;default:return[-1,-1,-1]}}return J===v?[w,C,E]:[-1,-1,-1]}static atomicPosition(T,J,M,v){const E=T.length,[w,C,d]=I.whitespaceVisibleColumn(T,J,M);if(d===-1)return-1;let f;switch(v){case 0:f=!0;break;case 1:f=!1;break;case 2:if(d%M==0)return J;f=d%M<=M/2}if(f){if(w===-1)return-1;let m=C;for(let b=w;b<E;++b){if(m===C+M)return w;switch(T.charCodeAt(b)){case 32:m+=1;break;case 9:m=s.A.nextRenderTabStop(m,M);break;default:return-1}}return m===C+M?w:-1}const p=s.A.nextRenderTabStop(d,M);let _=d;for(let m=J;m<E;m++){if(_===p)return m;switch(T.charCodeAt(m)){case 32:_+=1;break;case 9:_=s.A.nextRenderTabStop(_,M);break;default:return-1}}return _===p?E:-1}}},7666:(dt,pe,h)=>{h.d(pe,{g:()=>w});var s=h(6844),I=h(6316),T=h(9895),J=h(2549),M=h(572),v=h(8061),E=h(5365);class w{static deleteRight(C,d,f,p){const _=[];let m=C!==3;for(let b=0,x=p.length;b<x;b++){const k=p[b];let R=k;if(R.isEmpty()){const P=k.getPosition(),z=M.I.right(d,f,P);R=new v.Q(z.lineNumber,z.column,P.lineNumber,P.column)}R.isEmpty()?_[b]=null:(R.startLineNumber!==R.endLineNumber&&(m=!0),_[b]=new I.iu(R,""))}return[m,_]}static isAutoClosingPairDelete(C,d,f,p,_,m,b){if(d==="never"&&f==="never")return!1;if(C==="never")return!1;for(let x=0,k=m.length;x<k;x++){const R=m[x],P=R.getPosition();if(!R.isEmpty())return!1;const z=_.getLineContent(P.lineNumber);if(P.column<2||P.column>=z.length+1)return!1;const te=z.charAt(P.column-2),L=p.get(te);if(!L)return!1;if(T.vG(te)){if(f==="never")return!1}else if(d==="never")return!1;const W=z.charAt(P.column-1);let B=!1;for(let U of L)U.open===te&&U.close===W&&(B=!0);if(!B)return!1;if(C==="auto"){let U=!1;for(let $=0,G=b.length;$<G;$++){const ie=b[$];if(P.lineNumber===ie.startLineNumber&&P.column===ie.startColumn){U=!0;break}}if(!U)return!1}}return!0}static _runAutoClosingPairDelete(C,d,f){const p=[];for(let _=0,m=f.length;_<m;_++){const b=f[_].getPosition(),x=new v.Q(b.lineNumber,b.column-1,b.lineNumber,b.column+1);p[_]=new I.iu(x,"")}return[!0,p]}static deleteLeft(C,d,f,p,_){if(this.isAutoClosingPairDelete(d.autoClosingDelete,d.autoClosingBrackets,d.autoClosingQuotes,d.autoClosingPairs.autoClosingPairsOpenByEnd,f,p,_))return this._runAutoClosingPairDelete(d,f,p);const m=[];let b=C!==2;for(let x=0,k=p.length;x<k;x++){const R=w.getDeleteRange(p[x],f,d);R.isEmpty()?m[x]=null:(R.startLineNumber!==R.endLineNumber&&(b=!0),m[x]=new I.iu(R,""))}return[b,m]}static getDeleteRange(C,d,f){if(!C.isEmpty())return C;const p=C.getPosition();if(f.useTabStops&&p.column>1){const _=d.getLineContent(p.lineNumber),m=s.HG(_),b=m===-1?_.length+1:m+1;if(p.column<=b){const x=f.visibleColumnFromColumn(d,p),k=J.A.prevIndentTabStop(x,f.indentSize),R=f.columnFromVisibleColumn(d,p.lineNumber,k);return new v.Q(p.lineNumber,R,p.lineNumber,p.column)}}return v.Q.fromPositions(w.getPositionAfterDeleteLeft(p,d),p)}static getPositionAfterDeleteLeft(C,d){if(C.column>1){const f=s.Wd(C.column-1,d.getLineContent(C.lineNumber));return C.with(void 0,f+1)}if(C.lineNumber>1){const f=C.lineNumber-1;return new E.y(f,d.getLineMaxColumn(f))}return C}static cut(C,d,f){const p=[];let _=null;f.sort((m,b)=>E.y.compare(m.getStartPosition(),b.getEndPosition()));for(let m=0,b=f.length;m<b;m++){const x=f[m];if(x.isEmpty())if(C.emptySelectionClipboard){const k=x.getPosition();let R,P,z,te;k.lineNumber<d.getLineCount()?(R=k.lineNumber,P=1,z=k.lineNumber+1,te=1):k.lineNumber>1&&_?.endLineNumber!==k.lineNumber?(R=k.lineNumber-1,P=d.getLineMaxColumn(k.lineNumber-1),z=k.lineNumber,te=d.getLineMaxColumn(k.lineNumber)):(R=k.lineNumber,P=1,z=k.lineNumber,te=d.getLineMaxColumn(k.lineNumber));const L=new v.Q(R,P,z,te);_=L,L.isEmpty()?p[m]=null:p[m]=new I.iu(L,"")}else p[m]=null;else p[m]=new I.iu(x,"")}return new T.vY(0,p,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},7064:(dt,pe,h)=>{h.d(pe,{S:()=>s,c:()=>w});var s,I=h(9359),T=h(9895),J=h(572),M=h(9673),v=h(5365),E=h(8061);class w{static addCursorDown(C,d,f){const p=[];let _=0;for(let m=0,b=d.length;m<b;m++){const x=d[m];p[_++]=new T.MF(x.modelState,x.viewState),p[_++]=f?T.MF.fromModelState(J.I.translateDown(C.cursorConfig,C.model,x.modelState)):T.MF.fromViewState(J.I.translateDown(C.cursorConfig,C,x.viewState))}return p}static addCursorUp(C,d,f){const p=[];let _=0;for(let m=0,b=d.length;m<b;m++){const x=d[m];p[_++]=new T.MF(x.modelState,x.viewState),p[_++]=f?T.MF.fromModelState(J.I.translateUp(C.cursorConfig,C.model,x.modelState)):T.MF.fromViewState(J.I.translateUp(C.cursorConfig,C,x.viewState))}return p}static moveToBeginningOfLine(C,d,f){const p=[];for(let _=0,m=d.length;_<m;_++){const b=d[_];p[_]=this._moveToLineStart(C,b,f)}return p}static _moveToLineStart(C,d,f){const p=d.viewState.position.column,_=p===d.modelState.position.column,m=d.viewState.position.lineNumber,b=C.getLineFirstNonWhitespaceColumn(m);return _||p===b?this._moveToLineStartByModel(C,d,f):this._moveToLineStartByView(C,d,f)}static _moveToLineStartByView(C,d,f){return T.MF.fromViewState(J.I.moveToBeginningOfLine(C.cursorConfig,C,d.viewState,f))}static _moveToLineStartByModel(C,d,f){return T.MF.fromModelState(J.I.moveToBeginningOfLine(C.cursorConfig,C.model,d.modelState,f))}static moveToEndOfLine(C,d,f,p){const _=[];for(let m=0,b=d.length;m<b;m++){const x=d[m];_[m]=this._moveToLineEnd(C,x,f,p)}return _}static _moveToLineEnd(C,d,f,p){const _=d.viewState.position,m=C.getLineMaxColumn(_.lineNumber),b=_.column===m,x=d.modelState.position,k=C.model.getLineMaxColumn(x.lineNumber),R=m-_.column==k-x.column;return b||R?this._moveToLineEndByModel(C,d,f,p):this._moveToLineEndByView(C,d,f,p)}static _moveToLineEndByView(C,d,f,p){return T.MF.fromViewState(J.I.moveToEndOfLine(C.cursorConfig,C,d.viewState,f,p))}static _moveToLineEndByModel(C,d,f,p){return T.MF.fromModelState(J.I.moveToEndOfLine(C.cursorConfig,C.model,d.modelState,f,p))}static expandLineSelection(C,d){const f=[];for(let p=0,_=d.length;p<_;p++){const m=d[p],b=m.modelState.selection.startLineNumber,x=C.model.getLineCount();let k,R=m.modelState.selection.endLineNumber;R===x?k=C.model.getLineMaxColumn(x):(R++,k=1),f[p]=T.MF.fromModelState(new T.mG(new E.Q(b,1,b,1),0,0,new v.y(R,k),0))}return f}static moveToBeginningOfBuffer(C,d,f){const p=[];for(let _=0,m=d.length;_<m;_++){const b=d[_];p[_]=T.MF.fromModelState(J.I.moveToBeginningOfBuffer(C.cursorConfig,C.model,b.modelState,f))}return p}static moveToEndOfBuffer(C,d,f){const p=[];for(let _=0,m=d.length;_<m;_++){const b=d[_];p[_]=T.MF.fromModelState(J.I.moveToEndOfBuffer(C.cursorConfig,C.model,b.modelState,f))}return p}static selectAll(C,d){const f=C.model.getLineCount(),p=C.model.getLineMaxColumn(f);return T.MF.fromModelState(new T.mG(new E.Q(1,1,1,1),0,0,new v.y(f,p),0))}static line(C,d,f,p,_){const m=C.model.validatePosition(p),b=_?C.coordinatesConverter.validateViewPosition(new v.y(_.lineNumber,_.column),m):C.coordinatesConverter.convertModelPositionToViewPosition(m);if(!f){const k=C.model.getLineCount();let R=m.lineNumber+1,P=1;return R>k&&(R=k,P=C.model.getLineMaxColumn(R)),T.MF.fromModelState(new T.mG(new E.Q(m.lineNumber,1,R,P),2,0,new v.y(R,P),0))}const x=d.modelState.selectionStart.getStartPosition().lineNumber;if(m.lineNumber<x)return T.MF.fromViewState(d.viewState.move(!0,b.lineNumber,1,0));if(m.lineNumber>x){const k=C.getLineCount();let R=b.lineNumber+1,P=1;return R>k&&(R=k,P=C.getLineMaxColumn(R)),T.MF.fromViewState(d.viewState.move(!0,R,P,0))}{const k=d.modelState.selectionStart.getEndPosition();return T.MF.fromModelState(d.modelState.move(!0,k.lineNumber,k.column,0))}}static word(C,d,f,p){const _=C.model.validatePosition(p);return T.MF.fromModelState(M.z.word(C.cursorConfig,C.model,d.modelState,f,_))}static cancelSelection(C,d){if(!d.modelState.hasSelection())return new T.MF(d.modelState,d.viewState);const f=d.viewState.position.lineNumber,p=d.viewState.position.column;return T.MF.fromViewState(new T.mG(new E.Q(f,p,f,p),0,0,new v.y(f,p),0))}static moveTo(C,d,f,p,_){if(f){if(d.modelState.selectionStartKind===1)return this.word(C,d,f,p);if(d.modelState.selectionStartKind===2)return this.line(C,d,f,p,_)}const m=C.model.validatePosition(p),b=_?C.coordinatesConverter.validateViewPosition(new v.y(_.lineNumber,_.column),m):C.coordinatesConverter.convertModelPositionToViewPosition(m);return T.MF.fromViewState(d.viewState.move(f,b.lineNumber,b.column,0))}static simpleMove(C,d,f,p,_,m){switch(f){case 0:return m===4?this._moveHalfLineLeft(C,d,p):this._moveLeft(C,d,p,_);case 1:return m===4?this._moveHalfLineRight(C,d,p):this._moveRight(C,d,p,_);case 2:return m===2?this._moveUpByViewLines(C,d,p,_):this._moveUpByModelLines(C,d,p,_);case 3:return m===2?this._moveDownByViewLines(C,d,p,_):this._moveDownByModelLines(C,d,p,_);case 4:return m===2?d.map((b)=>T.MF.fromViewState(J.I.moveToPrevBlankLine(C.cursorConfig,C,b.viewState,p))):d.map((b)=>T.MF.fromModelState(J.I.moveToPrevBlankLine(C.cursorConfig,C.model,b.modelState,p)));case 5:return m===2?d.map((b)=>T.MF.fromViewState(J.I.moveToNextBlankLine(C.cursorConfig,C,b.viewState,p))):d.map((b)=>T.MF.fromModelState(J.I.moveToNextBlankLine(C.cursorConfig,C.model,b.modelState,p)));case 6:return this._moveToViewMinColumn(C,d,p);case 7:return this._moveToViewFirstNonWhitespaceColumn(C,d,p);case 8:return this._moveToViewCenterColumn(C,d,p);case 9:return this._moveToViewMaxColumn(C,d,p);case 10:return this._moveToViewLastNonWhitespaceColumn(C,d,p);default:return null}}static viewportMove(C,d,f,p,_){const m=C.getCompletelyVisibleViewRange(),b=C.coordinatesConverter.convertViewRangeToModelRange(m);switch(f){case 11:{const x=this._firstLineNumberInRange(C.model,b,_),k=C.model.getLineFirstNonWhitespaceColumn(x);return[this._moveToModelPosition(C,d[0],p,x,k)]}case 13:{const x=this._lastLineNumberInRange(C.model,b,_),k=C.model.getLineFirstNonWhitespaceColumn(x);return[this._moveToModelPosition(C,d[0],p,x,k)]}case 12:{const x=Math.round((b.startLineNumber+b.endLineNumber)/2),k=C.model.getLineFirstNonWhitespaceColumn(x);return[this._moveToModelPosition(C,d[0],p,x,k)]}case 14:{const x=[];for(let k=0,R=d.length;k<R;k++){const P=d[k];x[k]=this.findPositionInViewportIfOutside(C,P,m,p)}return x}default:return null}}static findPositionInViewportIfOutside(C,d,f,p){const _=d.viewState.position.lineNumber;if(f.startLineNumber<=_&&_<=f.endLineNumber-1)return new T.MF(d.modelState,d.viewState);{let m;m=_>f.endLineNumber-1?f.endLineNumber-1:_<f.startLineNumber?f.startLineNumber:_;const b=J.I.vertical(C.cursorConfig,C,_,d.viewState.position.column,d.viewState.leftoverVisibleColumns,m,!1);return T.MF.fromViewState(d.viewState.move(p,b.lineNumber,b.column,b.leftoverVisibleColumns))}}static _firstLineNumberInRange(C,d,f){let p=d.startLineNumber;return d.startColumn!==C.getLineMinColumn(p)&&p++,Math.min(d.endLineNumber,p+f-1)}static _lastLineNumberInRange(C,d,f){let p=d.startLineNumber;return d.startColumn!==C.getLineMinColumn(p)&&p++,Math.max(p,d.endLineNumber-f+1)}static _moveLeft(C,d,f,p){return d.map((_)=>T.MF.fromViewState(J.I.moveLeft(C.cursorConfig,C,_.viewState,f,p)))}static _moveHalfLineLeft(C,d,f){const p=[];for(let _=0,m=d.length;_<m;_++){const b=d[_],x=b.viewState.position.lineNumber,k=Math.round(C.getLineLength(x)/2);p[_]=T.MF.fromViewState(J.I.moveLeft(C.cursorConfig,C,b.viewState,f,k))}return p}static _moveRight(C,d,f,p){return d.map((_)=>T.MF.fromViewState(J.I.moveRight(C.cursorConfig,C,_.viewState,f,p)))}static _moveHalfLineRight(C,d,f){const p=[];for(let _=0,m=d.length;_<m;_++){const b=d[_],x=b.viewState.position.lineNumber,k=Math.round(C.getLineLength(x)/2);p[_]=T.MF.fromViewState(J.I.moveRight(C.cursorConfig,C,b.viewState,f,k))}return p}static _moveDownByViewLines(C,d,f,p){const _=[];for(let m=0,b=d.length;m<b;m++){const x=d[m];_[m]=T.MF.fromViewState(J.I.moveDown(C.cursorConfig,C,x.viewState,f,p))}return _}static _moveDownByModelLines(C,d,f,p){const _=[];for(let m=0,b=d.length;m<b;m++){const x=d[m];_[m]=T.MF.fromModelState(J.I.moveDown(C.cursorConfig,C.model,x.modelState,f,p))}return _}static _moveUpByViewLines(C,d,f,p){const _=[];for(let m=0,b=d.length;m<b;m++){const x=d[m];_[m]=T.MF.fromViewState(J.I.moveUp(C.cursorConfig,C,x.viewState,f,p))}return _}static _moveUpByModelLines(C,d,f,p){const _=[];for(let m=0,b=d.length;m<b;m++){const x=d[m];_[m]=T.MF.fromModelState(J.I.moveUp(C.cursorConfig,C.model,x.modelState,f,p))}return _}static _moveToViewPosition(C,d,f,p,_){return T.MF.fromViewState(d.viewState.move(f,p,_,0))}static _moveToModelPosition(C,d,f,p,_){return T.MF.fromModelState(d.modelState.move(f,p,_,0))}static _moveToViewMinColumn(C,d,f){const p=[];for(let _=0,m=d.length;_<m;_++){const b=d[_],x=b.viewState.position.lineNumber,k=C.getLineMinColumn(x);p[_]=this._moveToViewPosition(C,b,f,x,k)}return p}static _moveToViewFirstNonWhitespaceColumn(C,d,f){const p=[];for(let _=0,m=d.length;_<m;_++){const b=d[_],x=b.viewState.position.lineNumber,k=C.getLineFirstNonWhitespaceColumn(x);p[_]=this._moveToViewPosition(C,b,f,x,k)}return p}static _moveToViewCenterColumn(C,d,f){const p=[];for(let _=0,m=d.length;_<m;_++){const b=d[_],x=b.viewState.position.lineNumber,k=Math.round((C.getLineMaxColumn(x)+C.getLineMinColumn(x))/2);p[_]=this._moveToViewPosition(C,b,f,x,k)}return p}static _moveToViewMaxColumn(C,d,f){const p=[];for(let _=0,m=d.length;_<m;_++){const b=d[_],x=b.viewState.position.lineNumber,k=C.getLineMaxColumn(x);p[_]=this._moveToViewPosition(C,b,f,x,k)}return p}static _moveToViewLastNonWhitespaceColumn(C,d,f){const p=[];for(let _=0,m=d.length;_<m;_++){const b=d[_],x=b.viewState.position.lineNumber,k=C.getLineLastNonWhitespaceColumn(x);p[_]=this._moveToViewPosition(C,b,f,x,k)}return p}}(function(C){C.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(d){if(!I.Gv(d))return!1;const f=d;return!(!I.Kg(f.to)||!I.b0(f.select)&&!I.Lm(f.select)||!I.b0(f.by)&&!I.Kg(f.by)||!I.b0(f.value)&&!I.Et(f.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},C.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},C.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},C.parse=function(d){if(!d.to)return null;let f;switch(d.to){case C.RawDirection.Left:f=0;break;case C.RawDirection.Right:f=1;break;case C.RawDirection.Up:f=2;break;case C.RawDirection.Down:f=3;break;case C.RawDirection.PrevBlankLine:f=4;break;case C.RawDirection.NextBlankLine:f=5;break;case C.RawDirection.WrappedLineStart:f=6;break;case C.RawDirection.WrappedLineFirstNonWhitespaceCharacter:f=7;break;case C.RawDirection.WrappedLineColumnCenter:f=8;break;case C.RawDirection.WrappedLineEnd:f=9;break;case C.RawDirection.WrappedLineLastNonWhitespaceCharacter:f=10;break;case C.RawDirection.ViewPortTop:f=11;break;case C.RawDirection.ViewPortBottom:f=13;break;case C.RawDirection.ViewPortCenter:f=12;break;case C.RawDirection.ViewPortIfOutside:f=14;break;default:return null}let p=0;switch(d.by){case C.RawUnit.Line:p=1;break;case C.RawUnit.WrappedLine:p=2;break;case C.RawUnit.Character:p=3;break;case C.RawUnit.HalfLine:p=4}return{direction:f,unit:p,select:!!d.select,value:d.value||1}}})(s||(s={}))},572:(dt,pe,h)=>{h.d(pe,{I:()=>w});var s=h(6844),I=h(2549),T=h(5365),J=h(8061),M=h(1937),v=h(9895);class E{constructor(C,d,f){this._cursorPositionBrand=void 0,this.lineNumber=C,this.column=d,this.leftoverVisibleColumns=f}}class w{static leftPosition(C,d){if(d.column>C.getLineMinColumn(d.lineNumber))return d.delta(void 0,-s.MV(C.getLineContent(d.lineNumber),d.column-1));if(d.lineNumber>1){const f=d.lineNumber-1;return new T.y(f,C.getLineMaxColumn(f))}return d}static leftPositionAtomicSoftTabs(C,d,f){if(d.column<=C.getLineIndentColumn(d.lineNumber)){const p=C.getLineMinColumn(d.lineNumber),_=C.getLineContent(d.lineNumber),m=M.s.atomicPosition(_,d.column-1,f,0);if(m!==-1&&m+1>=p)return new T.y(d.lineNumber,m+1)}return this.leftPosition(C,d)}static left(C,d,f){const p=C.stickyTabStops?w.leftPositionAtomicSoftTabs(d,f,C.tabSize):w.leftPosition(d,f);return new E(p.lineNumber,p.column,0)}static moveLeft(C,d,f,p,_){let m,b;if(f.hasSelection()&&!p)m=f.selection.startLineNumber,b=f.selection.startColumn;else{const x=f.position.delta(void 0,-(_-1)),k=d.normalizePosition(w.clipPositionColumn(x,d),0),R=w.left(C,d,k);m=R.lineNumber,b=R.column}return f.move(p,m,b,0)}static clipPositionColumn(C,d){return new T.y(C.lineNumber,w.clipRange(C.column,d.getLineMinColumn(C.lineNumber),d.getLineMaxColumn(C.lineNumber)))}static clipRange(C,d,f){return C<d?d:C>f?f:C}static rightPosition(C,d,f){return f<C.getLineMaxColumn(d)?f+=s.iy(C.getLineContent(d),f-1):d<C.getLineCount()&&(d+=1,f=C.getLineMinColumn(d)),new T.y(d,f)}static rightPositionAtomicSoftTabs(C,d,f,p,_){if(f<C.getLineIndentColumn(d)){const m=C.getLineContent(d),b=M.s.atomicPosition(m,f-1,p,1);if(b!==-1)return new T.y(d,b+1)}return this.rightPosition(C,d,f)}static right(C,d,f){const p=C.stickyTabStops?w.rightPositionAtomicSoftTabs(d,f.lineNumber,f.column,C.tabSize,C.indentSize):w.rightPosition(d,f.lineNumber,f.column);return new E(p.lineNumber,p.column,0)}static moveRight(C,d,f,p,_){let m,b;if(f.hasSelection()&&!p)m=f.selection.endLineNumber,b=f.selection.endColumn;else{const x=f.position.delta(void 0,_-1),k=d.normalizePosition(w.clipPositionColumn(x,d),1),R=w.right(C,d,k);m=R.lineNumber,b=R.column}return f.move(p,m,b,0)}static vertical(C,d,f,p,_,m,b,x){const k=I.A.visibleColumnFromColumn(d.getLineContent(f),p,C.tabSize)+_,R=d.getLineCount(),P=f===1&&p===1,z=f===R&&p===d.getLineMaxColumn(f),te=m<f?P:z;if((f=m)<1?(f=1,p=b?d.getLineMinColumn(f):Math.min(d.getLineMaxColumn(f),p)):f>R?(f=R,p=b?d.getLineMaxColumn(f):Math.min(d.getLineMaxColumn(f),p)):p=C.columnFromVisibleColumn(d,f,k),_=te?0:k-I.A.visibleColumnFromColumn(d.getLineContent(f),p,C.tabSize),x!==void 0){const L=new T.y(f,p),W=d.normalizePosition(L,x);_+=p-W.column,f=W.lineNumber,p=W.column}return new E(f,p,_)}static down(C,d,f,p,_,m,b){return this.vertical(C,d,f,p,_,f+m,b,4)}static moveDown(C,d,f,p,_){let m,b;f.hasSelection()&&!p?(m=f.selection.endLineNumber,b=f.selection.endColumn):(m=f.position.lineNumber,b=f.position.column);let x,k=0;do if(x=w.down(C,d,m+k,b,f.leftoverVisibleColumns,_,!0),d.normalizePosition(new T.y(x.lineNumber,x.column),2).lineNumber>m)break;while(k++<10&&m+k<d.getLineCount());return f.move(p,x.lineNumber,x.column,x.leftoverVisibleColumns)}static translateDown(C,d,f){const p=f.selection,_=w.down(C,d,p.selectionStartLineNumber,p.selectionStartColumn,f.selectionStartLeftoverVisibleColumns,1,!1),m=w.down(C,d,p.positionLineNumber,p.positionColumn,f.leftoverVisibleColumns,1,!1);return new v.mG(new J.Q(_.lineNumber,_.column,_.lineNumber,_.column),0,_.leftoverVisibleColumns,new T.y(m.lineNumber,m.column),m.leftoverVisibleColumns)}static up(C,d,f,p,_,m,b){return this.vertical(C,d,f,p,_,f-m,b,3)}static moveUp(C,d,f,p,_){let m,b;f.hasSelection()&&!p?(m=f.selection.startLineNumber,b=f.selection.startColumn):(m=f.position.lineNumber,b=f.position.column);const x=w.up(C,d,m,b,f.leftoverVisibleColumns,_,!0);return f.move(p,x.lineNumber,x.column,x.leftoverVisibleColumns)}static translateUp(C,d,f){const p=f.selection,_=w.up(C,d,p.selectionStartLineNumber,p.selectionStartColumn,f.selectionStartLeftoverVisibleColumns,1,!1),m=w.up(C,d,p.positionLineNumber,p.positionColumn,f.leftoverVisibleColumns,1,!1);return new v.mG(new J.Q(_.lineNumber,_.column,_.lineNumber,_.column),0,_.leftoverVisibleColumns,new T.y(m.lineNumber,m.column),m.leftoverVisibleColumns)}static _isBlankLine(C,d){return C.getLineFirstNonWhitespaceColumn(d)===0}static moveToPrevBlankLine(C,d,f,p){let _=f.position.lineNumber;for(;_>1&&this._isBlankLine(d,_);)_--;for(;_>1&&!this._isBlankLine(d,_);)_--;return f.move(p,_,d.getLineMinColumn(_),0)}static moveToNextBlankLine(C,d,f,p){const _=d.getLineCount();let m=f.position.lineNumber;for(;m<_&&this._isBlankLine(d,m);)m++;for(;m<_&&!this._isBlankLine(d,m);)m++;return f.move(p,m,d.getLineMinColumn(m),0)}static moveToBeginningOfLine(C,d,f,p){const _=f.position.lineNumber,m=d.getLineMinColumn(_),b=d.getLineFirstNonWhitespaceColumn(_)||m;let x;return x=f.position.column===b?m:b,f.move(p,_,x,0)}static moveToEndOfLine(C,d,f,p,_){const m=f.position.lineNumber,b=d.getLineMaxColumn(m);return f.move(p,m,b,_?1073741824-b:0)}static moveToBeginningOfBuffer(C,d,f,p){return f.move(p,1,1,0)}static moveToEndOfBuffer(C,d,f,p){const _=d.getLineCount(),m=d.getLineMaxColumn(_);return f.move(p,_,m,0)}}},2885:(dt,pe,h)=>{h.d(pe,{AO:()=>L,Dr:()=>W,Hs:()=>G,K4:()=>k,Ls:()=>te,UN:()=>U,YA:()=>B,dU:()=>b,ey:()=>Ie,h0:()=>$,is:()=>P,kr:()=>z,oi:()=>R,sx:()=>x});var s=h(4327),I=h(6844),T=h(6316),J=h(1672),M=h(6020),v=h(9895),E=h(2862),w=h(8061),C=h(5365),d=h(9550),f=h(2394),p=h(9184),_=h(645),m=h(794);class b{static getEdits(he,Q,re,Je,Se){if(!Se&&this._isAutoIndentType(he,Q,re)){const Pe=[];for(let Ve of re){const g=this._findActualIndentationForSelection(he,Q,Ve,Je);if(g===null)return;Pe.push({selection:Ve,indentation:g})}const Le=R.getAutoClosingPairClose(he,Q,re,Je,!1);return this._getIndentationAndAutoClosingPairEdits(he,Q,Pe,Je,Le)}}static _isAutoIndentType(he,Q,re){if(he.autoIndent<4)return!1;for(let Je=0,Se=re.length;Je<Se;Je++)if(!Q.tokenization.isCheapToTokenize(re[Je].getEndPosition().lineNumber))return!1;return!0}static _findActualIndentationForSelection(he,Q,re,Je){const Se=_._t(he,Q,re,Je,{shiftIndent:(Le)=>xe(he,Le),unshiftIndent:(Le)=>Be(he,Le)},he.languageConfigurationService);if(Se===null)return null;const Pe=f.Cw(Q,re.startLineNumber,re.startColumn);return Se===he.normalizeIndentation(Pe)?null:Se}static _getIndentationAndAutoClosingPairEdits(he,Q,re,Je,Se){const Pe=re.map(({selection:Le,indentation:Ve})=>{if(Se!==null){const g=this._getEditFromIndentationAndSelection(he,Q,Ve,Le,Je,!1);return new ee(g,Le,Je,Se)}{const g=this._getEditFromIndentationAndSelection(he,Q,Ve,Le,Je,!0);return Te(g.range,g.text,!1)}});return new v.vY(4,Pe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _getEditFromIndentationAndSelection(he,Q,re,Je,Se,Pe=!0){const Le=Je.startLineNumber,Ve=Q.getLineFirstNonWhitespaceColumn(Le);let g=he.normalizeIndentation(re);return Ve!==0&&(g+=Q.getLineContent(Le).substring(Ve-1,Je.startColumn-1)),g+=Pe?Se:"",{range:new w.Q(Le,1,Je.endLineNumber,Je.endColumn),text:g}}}class x{static getEdits(he,Q,re,Je,Se,Pe){if(ve(Q,re,Je,Se,Pe))return this._runAutoClosingOvertype(he,Je,Pe)}static _runAutoClosingOvertype(he,Q,re){const Je=[];for(let Se=0,Pe=Q.length;Se<Pe;Se++){const Le=Q[Se].getPosition(),Ve=new w.Q(Le.lineNumber,Le.column,Le.lineNumber,Le.column+1);Je[Se]=new T.iu(Ve,re)}return new v.vY(4,Je,{shouldPushStackElementBefore:H(he,4),shouldPushStackElementAfter:!1})}}class k{static getEdits(he,Q,re,Je,Se){if(ve(he,Q,re,Je,Se)){const Pe=re.map((Le)=>new T.iu(new w.Q(Le.positionLineNumber,Le.positionColumn,Le.positionLineNumber,Le.positionColumn+1),"",!1));return new v.vY(4,Pe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}}}class R{static getEdits(he,Q,re,Je,Se,Pe){if(!Pe){const Le=this.getAutoClosingPairClose(he,Q,re,Je,Se);if(Le!==null)return this._runAutoClosingOpenCharType(re,Je,Se,Le)}}static _runAutoClosingOpenCharType(he,Q,re,Je){const Se=[];for(let Pe=0,Le=he.length;Pe<Le;Pe++){const Ve=he[Pe];Se[Pe]=new ie(Ve,Q,!re,Je)}return new v.vY(4,Se,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static getAutoClosingPairClose(he,Q,re,Je,Se){for(let be of re)if(!be.isEmpty())return null;const Pe=re.map((be)=>{const ae=be.getPosition();return Se?{lineNumber:ae.lineNumber,beforeColumn:ae.column-Je.length,afterColumn:ae.column}:{lineNumber:ae.lineNumber,beforeColumn:ae.column,afterColumn:ae.column}}),Le=this._findAutoClosingPairOpen(he,Q,Pe.map((be)=>new C.y(be.lineNumber,be.beforeColumn)),Je);if(!Le)return null;let Ve,g;if(v.vG(Je)?(Ve=he.autoClosingQuotes,g=he.shouldAutoCloseBefore.quote):he.blockCommentStartToken&&Le.open.includes(he.blockCommentStartToken)?(Ve=he.autoClosingComments,g=he.shouldAutoCloseBefore.comment):(Ve=he.autoClosingBrackets,g=he.shouldAutoCloseBefore.bracket),Ve==="never")return null;const ge=this._findContainedAutoClosingPair(he,Le),We=ge?ge.close:"";let de=!0;for(let be of Pe){const{lineNumber:ae,beforeColumn:O,afterColumn:Ue}=be,Ye=Q.getLineContent(ae),Fe=Ye.substring(0,O-1),oe=Ye.substring(Ue-1);if(oe.startsWith(We)||(de=!1),oe.length>0){const pt=oe.charAt(0);if(!this._isBeforeClosingBrace(he,oe)&&!g(pt))return null}if(Le.open.length===1&&(Je==="'"||Je==='"')&&Ve!=="always"){const pt=E.i(he.wordSeparators,[]);if(Fe.length>0){const Mt=Fe.charCodeAt(Fe.length-1);if(pt.get(Mt)===0)return null}}if(!Q.tokenization.isCheapToTokenize(ae))return null;Q.tokenization.forceTokenization(ae);const rt=Q.tokenization.getLineTokens(ae),lt=p.BQ(rt,O-1);if(!Le.shouldAutoClose(lt,O-lt.firstCharOffset))return null;const ye=Le.findNeutralCharacter();if(ye){const pt=Q.tokenization.getTokenTypeIfInsertingCharacter(ae,O,ye);if(!Le.isOK(pt))return null}}return de?Le.close.substring(0,Le.close.length-We.length):Le.close}static _findContainedAutoClosingPair(he,Q){if(Q.open.length<=1)return null;const re=Q.close.charAt(Q.close.length-1),Je=he.autoClosingPairs.autoClosingPairsCloseByEnd.get(re)||[];let Se=null;for(let Pe of Je)Pe.open!==Q.open&&Q.open.includes(Pe.open)&&Q.close.endsWith(Pe.close)&&(!Se||Pe.open.length>Se.open.length)&&(Se=Pe);return Se}static _findAutoClosingPairOpen(he,Q,re,Je){const Se=he.autoClosingPairs.autoClosingPairsOpenByEnd.get(Je);if(!Se)return null;let Pe=null;for(let Le of Se)if(Pe===null||Le.open.length>Pe.open.length){let Ve=!0;for(let g of re)if(Q.getValueInRange(new w.Q(g.lineNumber,g.column-Le.open.length+1,g.lineNumber,g.column))+Je!==Le.open){Ve=!1;break}Ve&&(Pe=Le)}return Pe}static _isBeforeClosingBrace(he,Q){const re=Q.charAt(0),Je=he.autoClosingPairs.autoClosingPairsOpenByStart.get(re)||[],Se=he.autoClosingPairs.autoClosingPairsCloseByStart.get(re)||[],Pe=Je.some((Ve)=>Q.startsWith(Ve.open)),Le=Se.some((Ve)=>Q.startsWith(Ve.close));return!Pe&&Le}}class P{static getEdits(he,Q,re,Je,Se){if(!Se&&this._isSurroundSelectionType(he,Q,re,Je))return this._runSurroundSelectionType(he,re,Je)}static _runSurroundSelectionType(he,Q,re){const Je=[];for(let Se=0,Pe=Q.length;Se<Pe;Se++){const Le=Q[Se],Ve=he.surroundingPairs[re];Je[Se]=new M.i(Le,re,Ve)}return new v.vY(0,Je,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isSurroundSelectionType(he,Q,re,Je){if(!Ie(he,Je)||!he.surroundingPairs.hasOwnProperty(Je))return!1;const Se=v.vG(Je);for(let Pe of re){if(Pe.isEmpty())return!1;let Le=!0;for(let Ve=Pe.startLineNumber;Ve<=Pe.endLineNumber;Ve++){const g=Q.getLineContent(Ve),ge=Ve===Pe.startLineNumber?Pe.startColumn-1:0,We=Ve===Pe.endLineNumber?Pe.endColumn-1:g.length,de=g.substring(ge,We);if(/[^ \t]/.test(de)){Le=!1;break}}if(Le)return!1;if(Se&&Pe.startLineNumber===Pe.endLineNumber&&Pe.startColumn+1===Pe.endColumn){const Ve=Q.getValueInRange(Pe);if(v.vG(Ve))return!1}}return!0}}class z{static getEdits(he,Q,re,Je,Se,Pe){if(!Pe&&this._isTypeInterceptorElectricChar(Q,re,Je)){const Le=this._typeInterceptorElectricChar(he,Q,re,Je[0],Se);if(Le)return Le}}static _isTypeInterceptorElectricChar(he,Q,re){return!(re.length!==1||!Q.tokenization.isCheapToTokenize(re[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(he,Q,re,Je,Se){if(!Q.electricChars.hasOwnProperty(Se)||!Je.isEmpty())return null;const Pe=Je.getPosition();re.tokenization.forceTokenization(Pe.lineNumber);const Le=re.tokenization.getLineTokens(Pe.lineNumber);let Ve;try{Ve=Q.onElectricCharacter(Se,Le,Pe.column)}catch(g){return s.dz(g),null}if(!Ve)return null;if(Ve.matchOpenBracket){const g=(Le.getLineContent()+Se).lastIndexOf(Ve.matchOpenBracket)+1,ge=re.bracketPairs.findMatchingBracketUp(Ve.matchOpenBracket,{lineNumber:Pe.lineNumber,column:g},500);if(ge){if(ge.startLineNumber===Pe.lineNumber)return null;const We=re.getLineContent(ge.startLineNumber),de=I.UU(We),be=Q.normalizeIndentation(de),ae=re.getLineContent(Pe.lineNumber),O=re.getLineFirstNonWhitespaceColumn(Pe.lineNumber)||Pe.column,Ue=be+ae.substring(O-1,Pe.column-1)+Se,Ye=new w.Q(Pe.lineNumber,1,Pe.lineNumber,Pe.column),Fe=new T.iu(Ye,Ue);return new v.vY(ne(Ue,he),[Fe],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}}class te{static getEdits(he,Q,re){const Je=[];for(let Pe=0,Le=Q.length;Pe<Le;Pe++)Je[Pe]=new T.iu(Q[Pe],re);const Se=ne(re,he);return new v.vY(Se,Je,{shouldPushStackElementBefore:H(he,Se),shouldPushStackElementAfter:!1})}}class L{static getEdits(he,Q,re,Je,Se){if(!Se&&Je==="\n"){const Pe=[];for(let Le=0,Ve=re.length;Le<Ve;Le++)Pe[Le]=this._enter(he,Q,!1,re[Le]);return new v.vY(4,Pe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}}static _enter(he,Q,re,Je){if(he.autoIndent===0)return Te(Je,"\n",re);if(!Q.tokenization.isCheapToTokenize(Je.getStartPosition().lineNumber)||he.autoIndent===1){const Ve=Q.getLineContent(Je.startLineNumber),g=I.UU(Ve).substring(0,Je.startColumn-1);return Te(Je,"\n"+he.normalizeIndentation(g),re)}const Se=m.h(he.autoIndent,Q,Je,he.languageConfigurationService);if(Se){if(Se.indentAction===d.l.None)return Te(Je,"\n"+he.normalizeIndentation(Se.indentation+Se.appendText),re);if(Se.indentAction===d.l.Indent)return Te(Je,"\n"+he.normalizeIndentation(Se.indentation+Se.appendText),re);if(Se.indentAction===d.l.IndentOutdent){const Ve=he.normalizeIndentation(Se.indentation),g=he.normalizeIndentation(Se.indentation+Se.appendText),ge="\n"+g+"\n"+Ve;return re?new T.q2(Je,ge,!0):new T.iP(Je,ge,-1,g.length-Ve.length,!0)}if(Se.indentAction===d.l.Outdent){const Ve=Be(he,Se.indentation);return Te(Je,"\n"+he.normalizeIndentation(Ve+Se.appendText),re)}}const Pe=Q.getLineContent(Je.startLineNumber),Le=I.UU(Pe).substring(0,Je.startColumn-1);if(he.autoIndent>=4){const Ve=_.MU(he.autoIndent,Q,Je,{unshiftIndent:(g)=>Be(he,g),shiftIndent:(g)=>xe(he,g),normalizeIndentation:(g)=>he.normalizeIndentation(g)},he.languageConfigurationService);if(Ve){let g=he.visibleColumnFromColumn(Q,Je.getEndPosition());const ge=Je.endColumn,We=Q.getLineContent(Je.endLineNumber),de=I.HG(We);if(Je=de>=0?Je.setEndPosition(Je.endLineNumber,Math.max(Je.endColumn,de+1)):Je.setEndPosition(Je.endLineNumber,Q.getLineMaxColumn(Je.endLineNumber)),re)return new T.q2(Je,"\n"+he.normalizeIndentation(Ve.afterEnter),!0);{let be=0;return ge<=de+1&&(he.insertSpaces||(g=Math.ceil(g/he.indentSize)),be=Math.min(g+1-he.normalizeIndentation(Ve.afterEnter).length-1,0)),new T.iP(Je,"\n"+he.normalizeIndentation(Ve.afterEnter),0,be,!0)}}}return Te(Je,"\n"+he.normalizeIndentation(Le),re)}static lineInsertBefore(he,Q,re){if(Q===null||re===null)return[];const Je=[];for(let Se=0,Pe=re.length;Se<Pe;Se++){let Le=re[Se].positionLineNumber;if(Le===1)Je[Se]=new T.q2(new w.Q(1,1,1,1),"\n");else{Le--;const Ve=Q.getLineMaxColumn(Le);Je[Se]=this._enter(he,Q,!1,new w.Q(Le,Ve,Le,Ve))}}return Je}static lineInsertAfter(he,Q,re){if(Q===null||re===null)return[];const Je=[];for(let Se=0,Pe=re.length;Se<Pe;Se++){const Le=re[Se].positionLineNumber,Ve=Q.getLineMaxColumn(Le);Je[Se]=this._enter(he,Q,!1,new w.Q(Le,Ve,Le,Ve))}return Je}static lineBreakInsert(he,Q,re){const Je=[];for(let Se=0,Pe=re.length;Se<Pe;Se++)Je[Se]=this._enter(he,Q,!0,re[Se]);return Je}}class W{static getEdits(he,Q,re,Je,Se,Pe){const Le=this._distributePasteToCursors(he,re,Je,Se,Pe);return Le?(re=re.sort(w.Q.compareRangesUsingStarts),this._distributedPaste(he,Q,re,Le)):this._simplePaste(he,Q,re,Je,Se)}static _distributePasteToCursors(he,Q,re,Je,Se){if(Je)return null;if(Q.length===1)return null;if(Se&&Se.length===Q.length)return Se;if(he.multiCursorPaste==="spread"){re.charCodeAt(re.length-1)===10&&(re=re.substring(0,re.length-1)),re.charCodeAt(re.length-1)===13&&(re=re.substring(0,re.length-1));const Pe=I.uz(re);if(Pe.length===Q.length)return Pe}return null}static _distributedPaste(he,Q,re,Je){const Se=[];for(let Pe=0,Le=re.length;Pe<Le;Pe++)Se[Pe]=new T.iu(re[Pe],Je[Pe]);return new v.vY(0,Se,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(he,Q,re,Je,Se){const Pe=[];for(let Le=0,Ve=re.length;Le<Ve;Le++){const g=re[Le],ge=g.getPosition();if(Se&&!g.isEmpty()&&(Se=!1),Se&&Je.indexOf("\n")!==Je.length-1&&(Se=!1),Se){const We=new w.Q(ge.lineNumber,1,ge.lineNumber,1);Pe[Le]=new T.ui(We,Je,g,!0)}else Pe[Le]=new T.iu(g,Je)}return new v.vY(0,Pe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class B{static getEdits(he,Q,re,Je,Se,Pe,Le,Ve){const g=Je.map((ge)=>this._compositionType(re,ge,Se,Pe,Le,Ve));return new v.vY(4,g,{shouldPushStackElementBefore:H(he,4),shouldPushStackElementAfter:!1})}static _compositionType(he,Q,re,Je,Se,Pe){if(!Q.isEmpty())return null;const Le=Q.getPosition(),Ve=Math.max(1,Le.column-Je),g=Math.min(he.getLineMaxColumn(Le.lineNumber),Le.column+Se),ge=new w.Q(Le.lineNumber,Ve,Le.lineNumber,g);return he.getValueInRange(ge)===re&&Pe===0?null:new T.iP(ge,re,0,Pe)}}class U{static getEdits(he,Q,re){const Je=[];for(let Pe=0,Le=Q.length;Pe<Le;Pe++)Je[Pe]=new T.iu(Q[Pe],re);const Se=ne(re,he);return new v.vY(Se,Je,{shouldPushStackElementBefore:H(he,Se),shouldPushStackElementAfter:!1})}}class ${static getCommands(he,Q,re){const Je=[];for(let Se=0,Pe=re.length;Se<Pe;Se++){const Le=re[Se];if(Le.isEmpty()){const Ve=Q.getLineContent(Le.startLineNumber);if(/^\s*$/.test(Ve)&&Q.tokenization.isCheapToTokenize(Le.startLineNumber)){let g=this._goodIndentForLine(he,Q,Le.startLineNumber);g=g||"\t";const ge=he.normalizeIndentation(g);if(!Ve.startsWith(ge)){Je[Se]=new T.iu(new w.Q(Le.startLineNumber,1,Le.startLineNumber,Ve.length+1),ge,!0);continue}}Je[Se]=this._replaceJumpToNextIndent(he,Q,Le,!0)}else{if(Le.startLineNumber===Le.endLineNumber){const Ve=Q.getLineMaxColumn(Le.startLineNumber);if(Le.startColumn!==1||Le.endColumn!==Ve){Je[Se]=this._replaceJumpToNextIndent(he,Q,Le,!1);continue}}Je[Se]=new J.Y(Le,{isUnshift:!1,tabSize:he.tabSize,indentSize:he.indentSize,insertSpaces:he.insertSpaces,useTabStops:he.useTabStops,autoIndent:he.autoIndent},he.languageConfigurationService)}}return Je}static _goodIndentForLine(he,Q,re){let Je=null,Se="";const Pe=_.vn(he.autoIndent,Q,re,!1,he.languageConfigurationService);if(Pe)Je=Pe.action,Se=Pe.indentation;else if(re>1){let Le;for(Le=re-1;Le>=1;Le--){const ge=Q.getLineContent(Le);if(I.lT(ge)>=0)break}if(Le<1)return null;const Ve=Q.getLineMaxColumn(Le),g=m.h(he.autoIndent,Q,new w.Q(Le,Ve,Le,Ve),he.languageConfigurationService);g&&(Se=g.indentation+g.appendText)}return Je&&(Je===d.l.Indent&&(Se=xe(he,Se)),Je===d.l.Outdent&&(Se=Be(he,Se)),Se=he.normalizeIndentation(Se)),Se||null}static _replaceJumpToNextIndent(he,Q,re,Je){let Se="";const Pe=re.getStartPosition();if(he.insertSpaces){const Le=he.visibleColumnFromColumn(Q,Pe),Ve=he.indentSize,g=Ve-Le%Ve;for(let ge=0;ge<g;ge++)Se+=" "}else Se="\t";return new T.iu(re,Se,Je)}}class G extends T.iP{constructor(he,Q,re,Je,Se,Pe){super(he,Q,re,Je),this._openCharacter=Se,this._closeCharacter=Pe,this.closeCharacterRange=null,this.enclosingRange=null}_computeCursorStateWithRange(he,Q,re){return this.closeCharacterRange=new w.Q(Q.startLineNumber,Q.endColumn-this._closeCharacter.length,Q.endLineNumber,Q.endColumn),this.enclosingRange=new w.Q(Q.startLineNumber,Q.endColumn-this._openCharacter.length-this._closeCharacter.length,Q.endLineNumber,Q.endColumn),super.computeCursorState(he,re)}}class ie extends G{constructor(he,Q,re,Je){super(he,(re?Q:"")+Je,0,-Je.length,Q,Je)}computeCursorState(he,Q){const re=Q.getInverseEditOperations()[0].range;return this._computeCursorStateWithRange(he,re,Q)}}class ee extends G{constructor(he,Q,re,Je){const Se=re+Je;super(Q,Se,0,re.length,re,Je),this._autoIndentationEdit=he,this._autoClosingEdit={range:Q,text:Se}}getEditOperations(he,Q){Q.addTrackedEditOperation(this._autoIndentationEdit.range,this._autoIndentationEdit.text),Q.addTrackedEditOperation(this._autoClosingEdit.range,this._autoClosingEdit.text)}computeCursorState(he,Q){const re=Q.getInverseEditOperations();if(re.length!==2)throw new Error("There should be two inverse edit operations!");const Je=re[0].range,Se=re[1].range,Pe=Je.plusRange(Se);return this._computeCursorStateWithRange(he,Pe,Q)}}function ne(he,Q){return he===" "?Q===5||Q===6?6:5:4}function H(he,Q){return!(!Y(he)||Y(Q))||he!==5&&V(he)!==V(Q)}function V(he){return he===6||he===5?"space":he}function Y(he){return he===4||he===5||he===6}function ve(he,Q,re,Je,Se){if(he.autoClosingOvertype==="never")return!1;if(!he.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Se))return!1;for(let Pe=0,Le=re.length;Pe<Le;Pe++){const Ve=re[Pe];if(!Ve.isEmpty())return!1;const g=Ve.getPosition(),ge=Q.getLineContent(g.lineNumber);if(ge.charAt(g.column-1)!==Se)return!1;const We=v.vG(Se);if((g.column>2?ge.charCodeAt(g.column-2):0)===92&&We)return!1;if(he.autoClosingOvertype==="auto"){let de=!1;for(let be=0,ae=Je.length;be<ae;be++){const O=Je[be];if(g.lineNumber===O.startLineNumber&&g.column===O.startColumn){de=!0;break}}if(!de)return!1}}return!0}function Te(he,Q,re){return re?new T.q2(he,Q,!0):new T.iu(he,Q,!0)}function xe(he,Q,re){return re=re||1,J.Y.shiftIndent(Q,Q.length+re,he.tabSize,he.indentSize,he.insertSpaces)}function Be(he,Q,re){return re=re||1,J.Y.unshiftIndent(Q,Q.length+re,he.tabSize,he.indentSize,he.insertSpaces)}function Ie(he,Q){return v.vG(Q)?he.autoSurround==="quotes"||he.autoSurround==="languageDefined":he.autoSurround==="brackets"||he.autoSurround==="languageDefined"}},6137:(dt,pe,h)=>{h.d(pe,{T:()=>M,v:()=>v});var s=h(1672),I=h(6020),T=h(9895),J=h(2885);class M{static indent(E,w,C){if(w===null||C===null)return[];const d=[];for(let f=0,p=C.length;f<p;f++)d[f]=new s.Y(C[f],{isUnshift:!1,tabSize:E.tabSize,indentSize:E.indentSize,insertSpaces:E.insertSpaces,useTabStops:E.useTabStops,autoIndent:E.autoIndent},E.languageConfigurationService);return d}static outdent(E,w,C){const d=[];for(let f=0,p=C.length;f<p;f++)d[f]=new s.Y(C[f],{isUnshift:!0,tabSize:E.tabSize,indentSize:E.indentSize,insertSpaces:E.insertSpaces,useTabStops:E.useTabStops,autoIndent:E.autoIndent},E.languageConfigurationService);return d}static paste(E,w,C,d,f,p){return J.Dr.getEdits(E,w,C,d,f,p)}static tab(E,w,C){return J.h0.getCommands(E,w,C)}static compositionType(E,w,C,d,f,p,_,m){return J.YA.getEdits(E,w,C,d,f,p,_,m)}static compositionEndWithInterceptors(E,w,C,d,f,p){if(!d)return null;let _=null;for(let R of d)if(_===null)_=R.insertedText;else if(_!==R.insertedText)return null;if(!_||_.length!==1)return null;const m=_;let b=!1;for(let R of d)if(R.deletedText.length!==0){b=!0;break}if(b){if(!J.ey(w,m)||!w.surroundingPairs.hasOwnProperty(m))return null;const R=T.vG(m);for(let te of d){if(te.deletedSelectionStart!==0||te.deletedSelectionEnd!==te.deletedText.length)return null;if(/^[ \t]+$/.test(te.deletedText))return null;if(R&&T.vG(te.deletedText))return null}const P=[];for(let te of f){if(!te.isEmpty())return null;P.push(te.getPosition())}if(P.length!==d.length)return null;const z=[];for(let te=0,L=P.length;te<L;te++)z.push(new I.y(P[te],d[te].deletedText,w.surroundingPairs[m]));return new T.vY(4,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const x=J.K4.getEdits(w,C,f,p,m);if(x!==void 0)return x;const k=J.oi.getEdits(w,C,f,m,!0,!1);return k!==void 0?k:null}static typeWithInterceptors(E,w,C,d,f,p,_){const m=J.AO.getEdits(C,d,f,_,E);if(m!==void 0)return m;const b=J.dU.getEdits(C,d,f,_,E);if(b!==void 0)return b;const x=J.sx.getEdits(w,C,d,f,p,_);if(x!==void 0)return x;const k=J.oi.getEdits(C,d,f,_,!1,E);if(k!==void 0)return k;const R=J.is.getEdits(C,d,f,_,E);if(R!==void 0)return R;const P=J.kr.getEdits(w,C,d,f,_,E);return P!==void 0?P:J.Ls.getEdits(w,f,_)}static typeWithoutInterceptors(E,w,C,d,f){return J.UN.getEdits(E,d,f)}}class v{constructor(E,w,C,d,f,p){this.deletedText=E,this.deletedSelectionStart=w,this.deletedSelectionEnd=C,this.insertedText=d,this.insertedSelectionStart=f,this.insertedSelectionEnd=p}}},9673:(dt,pe,h)=>{h.d(pe,{c:()=>w,z:()=>E});var s=h(6844),I=h(9895),T=h(7666),J=h(2862),M=h(5365),v=h(8061);class E{static _createWord(d,f,p,_,m){return{start:_,end:m,wordType:f,nextCharClass:p}}static _createIntlWord(d,f){return{start:d.index,end:d.index+d.segment.length,wordType:1,nextCharClass:f}}static _findPreviousWordOnLine(d,f,p){const _=f.getLineContent(p.lineNumber);return this._doFindPreviousWordOnLine(_,d,p)}static _doFindPreviousWordOnLine(d,f,p){let _=0;const m=f.findPrevIntlWordBeforeOrAtOffset(d,p.column-2);for(let b=p.column-2;b>=0;b--){const x=d.charCodeAt(b),k=f.get(x);if(m&&b===m.index)return this._createIntlWord(m,k);if(k===0){if(_===2)return this._createWord(d,_,k,b+1,this._findEndOfWord(d,f,_,b+1));_=1}else if(k===2){if(_===1)return this._createWord(d,_,k,b+1,this._findEndOfWord(d,f,_,b+1));_=2}else if(k===1&&_!==0)return this._createWord(d,_,k,b+1,this._findEndOfWord(d,f,_,b+1))}return _!==0?this._createWord(d,_,1,0,this._findEndOfWord(d,f,_,0)):null}static _findEndOfWord(d,f,p,_){const m=f.findNextIntlWordAtOrAfterOffset(d,_),b=d.length;for(let x=_;x<b;x++){const k=d.charCodeAt(x),R=f.get(k);if(m&&x===m.index+m.segment.length)return x;if(R===1)return x;if(p===1&&R===2)return x;if(p===2&&R===0)return x}return b}static _findNextWordOnLine(d,f,p){const _=f.getLineContent(p.lineNumber);return this._doFindNextWordOnLine(_,d,p)}static _doFindNextWordOnLine(d,f,p){let _=0;const m=d.length,b=f.findNextIntlWordAtOrAfterOffset(d,p.column-1);for(let x=p.column-1;x<m;x++){const k=d.charCodeAt(x),R=f.get(k);if(b&&x===b.index)return this._createIntlWord(b,R);if(R===0){if(_===2)return this._createWord(d,_,R,this._findStartOfWord(d,f,_,x-1),x);_=1}else if(R===2){if(_===1)return this._createWord(d,_,R,this._findStartOfWord(d,f,_,x-1),x);_=2}else if(R===1&&_!==0)return this._createWord(d,_,R,this._findStartOfWord(d,f,_,x-1),x)}return _!==0?this._createWord(d,_,1,this._findStartOfWord(d,f,_,m-1),m):null}static _findStartOfWord(d,f,p,_){const m=f.findPrevIntlWordBeforeOrAtOffset(d,_);for(let b=_;b>=0;b--){const x=d.charCodeAt(b),k=f.get(x);if(m&&b===m.index)return b;if(k===1)return b+1;if(p===1&&k===2)return b+1;if(p===2&&k===0)return b+1}return 0}static moveWordLeft(d,f,p,_,m){let{lineNumber:b,column:x}=p;x===1&&b>1&&(b-=1,x=f.getLineMaxColumn(b));let k=E._findPreviousWordOnLine(d,f,new M.y(b,x));if(_===0)return new M.y(b,k?k.start+1:1);if(_===1)return!m&&k&&k.wordType===2&&k.end-k.start==1&&k.nextCharClass===0&&(k=E._findPreviousWordOnLine(d,f,new M.y(b,k.start+1))),new M.y(b,k?k.start+1:1);if(_===3){for(;k&&k.wordType===2;)k=E._findPreviousWordOnLine(d,f,new M.y(b,k.start+1));return new M.y(b,k?k.start+1:1)}return k&&x<=k.end+1&&(k=E._findPreviousWordOnLine(d,f,new M.y(b,k.start+1))),new M.y(b,k?k.end+1:1)}static _moveWordPartLeft(d,f){const p=f.lineNumber,_=d.getLineMaxColumn(p);if(f.column===1)return p>1?new M.y(p-1,d.getLineMaxColumn(p-1)):f;const m=d.getLineContent(p);for(let b=f.column-1;b>1;b--){const x=m.charCodeAt(b-2),k=m.charCodeAt(b-1);if(x===95&&k!==95)return new M.y(p,b);if(x===45&&k!==45)return new M.y(p,b);if((s.Lv(x)||s.DB(x))&&s.Wv(k))return new M.y(p,b);if(s.Wv(x)&&s.Wv(k)&&b+1<_){const R=m.charCodeAt(b);if(s.Lv(R)||s.DB(R))return new M.y(p,b)}}return new M.y(p,1)}static moveWordRight(d,f,p,_){let{lineNumber:m,column:b}=p,x=!1;b===f.getLineMaxColumn(m)&&m<f.getLineCount()&&(x=!0,m+=1,b=1);let k=E._findNextWordOnLine(d,f,new M.y(m,b));if(_===2)k&&k.wordType===2&&k.end-k.start==1&&k.nextCharClass===0&&(k=E._findNextWordOnLine(d,f,new M.y(m,k.end+1))),b=k?k.end+1:f.getLineMaxColumn(m);else if(_===3){for(x&&(b=0);k&&(k.wordType===2||k.start+1<=b);)k=E._findNextWordOnLine(d,f,new M.y(m,k.end+1));b=k?k.start+1:f.getLineMaxColumn(m)}else k&&!x&&b>=k.start+1&&(k=E._findNextWordOnLine(d,f,new M.y(m,k.end+1))),b=k?k.start+1:f.getLineMaxColumn(m);return new M.y(m,b)}static _moveWordPartRight(d,f){const p=f.lineNumber,_=d.getLineMaxColumn(p);if(f.column===_)return p<d.getLineCount()?new M.y(p+1,1):f;const m=d.getLineContent(p);for(let b=f.column+1;b<_;b++){const x=m.charCodeAt(b-2),k=m.charCodeAt(b-1);if(x!==95&&k===95)return new M.y(p,b);if(x!==45&&k===45)return new M.y(p,b);if((s.Lv(x)||s.DB(x))&&s.Wv(k))return new M.y(p,b);if(s.Wv(x)&&s.Wv(k)&&b+1<_){const R=m.charCodeAt(b);if(s.Lv(R)||s.DB(R))return new M.y(p,b)}}return new M.y(p,_)}static _deleteWordLeftWhitespace(d,f){const p=d.getLineContent(f.lineNumber),_=f.column-2,m=s.lT(p,_);return m+1<_?new v.Q(f.lineNumber,m+2,f.lineNumber,f.column):null}static deleteWordLeft(d,f){const{wordSeparators:p,model:_,selection:m,whitespaceHeuristics:b}=d;if(!m.isEmpty())return m;if(T.g.isAutoClosingPairDelete(d.autoClosingDelete,d.autoClosingBrackets,d.autoClosingQuotes,d.autoClosingPairs.autoClosingPairsOpenByEnd,d.model,[d.selection],d.autoClosedCharacters)){const z=d.selection.getPosition();return new v.Q(z.lineNumber,z.column-1,z.lineNumber,z.column+1)}const x=new M.y(m.positionLineNumber,m.positionColumn);let{lineNumber:k,column:R}=x;if(k===1&&R===1)return null;if(b){const z=this._deleteWordLeftWhitespace(_,x);if(z)return z}let P=E._findPreviousWordOnLine(p,_,x);return f===0?P?R=P.start+1:R>1?R=1:(k--,R=_.getLineMaxColumn(k)):(P&&R<=P.end+1&&(P=E._findPreviousWordOnLine(p,_,new M.y(k,P.start+1))),P?R=P.end+1:R>1?R=1:(k--,R=_.getLineMaxColumn(k))),new v.Q(k,R,x.lineNumber,x.column)}static deleteInsideWord(d,f,p){if(!p.isEmpty())return p;const _=new M.y(p.positionLineNumber,p.positionColumn);return this._deleteInsideWordWhitespace(f,_)||this._deleteInsideWordDetermineDeleteRange(d,f,_)}static _charAtIsWhitespace(d,f){const p=d.charCodeAt(f);return p===32||p===9}static _deleteInsideWordWhitespace(d,f){const p=d.getLineContent(f.lineNumber),_=p.length;if(_===0)return null;let m=Math.max(f.column-2,0);if(!this._charAtIsWhitespace(p,m))return null;let b=Math.min(f.column-1,_-1);if(!this._charAtIsWhitespace(p,b))return null;for(;m>0&&this._charAtIsWhitespace(p,m-1);)m--;for(;b+1<_&&this._charAtIsWhitespace(p,b+1);)b++;return new v.Q(f.lineNumber,m+1,f.lineNumber,b+2)}static _deleteInsideWordDetermineDeleteRange(d,f,p){const _=f.getLineContent(p.lineNumber),m=_.length;if(m===0)return p.lineNumber>1?new v.Q(p.lineNumber-1,f.getLineMaxColumn(p.lineNumber-1),p.lineNumber,1):p.lineNumber<f.getLineCount()?new v.Q(p.lineNumber,1,p.lineNumber+1,1):new v.Q(p.lineNumber,1,p.lineNumber,1);const b=(z)=>z.start+1<=p.column&&p.column<=z.end+1,x=(z,te)=>(z=Math.min(z,p.column),te=Math.max(te,p.column),new v.Q(p.lineNumber,z,p.lineNumber,te)),k=(z)=>{let te=z.start+1,L=z.end+1,W=!1;for(;L-1<m&&this._charAtIsWhitespace(_,L-1);)W=!0,L++;if(!W)for(;te>1&&this._charAtIsWhitespace(_,te-2);)te--;return x(te,L)},R=E._findPreviousWordOnLine(d,f,p);if(R&&b(R))return k(R);const P=E._findNextWordOnLine(d,f,p);return P&&b(P)?k(P):R&&P?x(R.end+1,P.start+1):R?x(R.start+1,R.end+1):P?x(P.start+1,P.end+1):x(1,m+1)}static _deleteWordPartLeft(d,f){if(!f.isEmpty())return f;const p=f.getPosition(),_=E._moveWordPartLeft(d,p);return new v.Q(p.lineNumber,p.column,_.lineNumber,_.column)}static _findFirstNonWhitespaceChar(d,f){const p=d.length;for(let _=f;_<p;_++){const m=d.charAt(_);if(m!==" "&&m!=="\t")return _}return p}static _deleteWordRightWhitespace(d,f){const p=d.getLineContent(f.lineNumber),_=f.column-1,m=this._findFirstNonWhitespaceChar(p,_);return _+1<m?new v.Q(f.lineNumber,f.column,f.lineNumber,m+1):null}static deleteWordRight(d,f){const{wordSeparators:p,model:_,selection:m,whitespaceHeuristics:b}=d;if(!m.isEmpty())return m;const x=new M.y(m.positionLineNumber,m.positionColumn);let{lineNumber:k,column:R}=x;const P=_.getLineCount(),z=_.getLineMaxColumn(k);if(k===P&&R===z)return null;if(b){const L=this._deleteWordRightWhitespace(_,x);if(L)return L}let te=E._findNextWordOnLine(p,_,x);return f===2?te?R=te.end+1:R<z||k===P?R=z:(k++,te=E._findNextWordOnLine(p,_,new M.y(k,1)),R=te?te.start+1:_.getLineMaxColumn(k)):(te&&R>=te.start+1&&(te=E._findNextWordOnLine(p,_,new M.y(k,te.end+1))),te?R=te.start+1:R<z||k===P?R=z:(k++,te=E._findNextWordOnLine(p,_,new M.y(k,1)),R=te?te.start+1:_.getLineMaxColumn(k))),new v.Q(k,R,x.lineNumber,x.column)}static _deleteWordPartRight(d,f){if(!f.isEmpty())return f;const p=f.getPosition(),_=E._moveWordPartRight(d,p);return new v.Q(p.lineNumber,p.column,_.lineNumber,_.column)}static _createWordAtPosition(d,f,p){const _=new v.Q(f,p.start+1,f,p.end+1);return{word:d.getValueInRange(_),startColumn:_.startColumn,endColumn:_.endColumn}}static getWordAtPosition(d,f,p,_){const m=J.i(f,p),b=E._findPreviousWordOnLine(m,d,_);if(b&&b.wordType===1&&b.start<=_.column-1&&_.column-1<=b.end)return E._createWordAtPosition(d,_.lineNumber,b);const x=E._findNextWordOnLine(m,d,_);return x&&x.wordType===1&&x.start<=_.column-1&&_.column-1<=x.end?E._createWordAtPosition(d,_.lineNumber,x):null}static word(d,f,p,_,m){const b=J.i(d.wordSeparators,d.wordSegmenterLocales),x=E._findPreviousWordOnLine(b,f,m),k=E._findNextWordOnLine(b,f,m);if(!_){let L,W;return x&&x.wordType===1&&x.start<=m.column-1&&m.column-1<=x.end?(L=x.start+1,W=x.end+1):k&&k.wordType===1&&k.start<=m.column-1&&m.column-1<=k.end?(L=k.start+1,W=k.end+1):(L=x?x.end+1:1,W=k?k.start+1:f.getLineMaxColumn(m.lineNumber)),new I.mG(new v.Q(m.lineNumber,L,m.lineNumber,W),1,0,new M.y(m.lineNumber,W),0)}let R,P;x&&x.wordType===1&&x.start<m.column-1&&m.column-1<x.end?(R=x.start+1,P=x.end+1):k&&k.wordType===1&&k.start<m.column-1&&m.column-1<k.end?(R=k.start+1,P=k.end+1):(R=m.column,P=m.column);const z=m.lineNumber;let te;if(p.selectionStart.containsPosition(m))te=p.selectionStart.endColumn;else if(m.isBeforeOrEqual(p.selectionStart.getStartPosition())){te=R;const L=new M.y(z,te);p.selectionStart.containsPosition(L)&&(te=p.selectionStart.endColumn)}else{te=P;const L=new M.y(z,te);p.selectionStart.containsPosition(L)&&(te=p.selectionStart.startColumn)}return p.move(!0,z,te,0)}}class w extends E{static deleteWordPartLeft(d){const f=C([E.deleteWordLeft(d,0),E.deleteWordLeft(d,2),E._deleteWordPartLeft(d.model,d.selection)]);return f.sort(v.Q.compareRangesUsingEnds),f[2]}static deleteWordPartRight(d){const f=C([E.deleteWordRight(d,0),E.deleteWordRight(d,2),E._deleteWordPartRight(d.model,d.selection)]);return f.sort(v.Q.compareRangesUsingStarts),f[0]}static moveWordPartLeft(d,f,p,_){const m=C([E.moveWordLeft(d,f,p,0,_),E.moveWordLeft(d,f,p,2,_),E._moveWordPartLeft(f,p)]);return m.sort(M.y.compare),m[2]}static moveWordPartRight(d,f,p){const _=C([E.moveWordRight(d,f,p,0),E.moveWordRight(d,f,p,2),E._moveWordPartRight(f,p)]);return _.sort(M.y.compare),_[0]}}function C(d){return d.filter((f)=>Boolean(f))}},9895:(dt,pe,h)=>{h.d(pe,{MF:()=>f,d$:()=>d,mG:()=>m,vG:()=>x,vY:()=>b});var s=h(5365),I=h(8061),T=h(3702),J=h(9184),M=h(2549),v=h(7999);const E=()=>!0,w=()=>!1,C=(k)=>k===" "||k==="\t";class d{static shouldRecreate(k){return k.hasChanged(146)||k.hasChanged(132)||k.hasChanged(37)||k.hasChanged(77)||k.hasChanged(79)||k.hasChanged(80)||k.hasChanged(6)||k.hasChanged(7)||k.hasChanged(11)||k.hasChanged(9)||k.hasChanged(10)||k.hasChanged(14)||k.hasChanged(129)||k.hasChanged(50)||k.hasChanged(92)||k.hasChanged(131)}constructor(k,R,P,z){this.languageConfigurationService=z,this._cursorMoveConfigurationBrand=void 0,this._languageId=k;const te=P.options,L=te.get(146),W=te.get(50);this.readOnly=te.get(92),this.tabSize=R.tabSize,this.indentSize=R.indentSize,this.insertSpaces=R.insertSpaces,this.stickyTabStops=te.get(117),this.lineHeight=W.lineHeight,this.typicalHalfwidthCharacterWidth=W.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(L.height/this.lineHeight)-2),this.useTabStops=te.get(129),this.wordSeparators=te.get(132),this.emptySelectionClipboard=te.get(37),this.copyWithSyntaxHighlighting=te.get(25),this.multiCursorMergeOverlapping=te.get(77),this.multiCursorPaste=te.get(79),this.multiCursorLimit=te.get(80),this.autoClosingBrackets=te.get(6),this.autoClosingComments=te.get(7),this.autoClosingQuotes=te.get(11),this.autoClosingDelete=te.get(9),this.autoClosingOvertype=te.get(10),this.autoSurround=te.get(14),this.autoIndent=te.get(12),this.wordSegmenterLocales=te.get(131),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(k,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(k,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(k,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(k).getAutoClosingPairs();const B=this.languageConfigurationService.getLanguageConfiguration(k).getSurroundingPairs();if(B)for(let $ of B)this.surroundingPairs[$.open]=$.close;const U=this.languageConfigurationService.getLanguageConfiguration(k).comments;this.blockCommentStartToken=U?.blockCommentStartToken??null}get electricChars(){if(!this._electricChars){this._electricChars={};const k=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter?.getElectricCharacters();if(k)for(let R of k)this._electricChars[R]=!0}return this._electricChars}onElectricCharacter(k,R,P){const z=J.BQ(R,P-1),te=this.languageConfigurationService.getLanguageConfiguration(z.languageId).electricCharacter;return te?te.onElectricCharacter(k,z,P-z.firstCharOffset):null}normalizeIndentation(k){return v.P(k,this.indentSize,this.insertSpaces)}_getShouldAutoClose(k,R,P){switch(R){case"beforeWhitespace":return C;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(k,P);case"always":return E;case"never":return w}}_getLanguageDefinedShouldAutoClose(k,R){const P=this.languageConfigurationService.getLanguageConfiguration(k).getAutoCloseBeforeSet(R);return(z)=>P.indexOf(z)!==-1}visibleColumnFromColumn(k,R){return M.A.visibleColumnFromColumn(k.getLineContent(R.lineNumber),R.column,this.tabSize)}columnFromVisibleColumn(k,R,P){const z=M.A.columnFromVisibleColumn(k.getLineContent(R),P,this.tabSize),te=k.getLineMinColumn(R);if(z<te)return te;const L=k.getLineMaxColumn(R);return z>L?L:z}}class f{static fromModelState(k){return new p(k)}static fromViewState(k){return new _(k)}static fromModelSelection(k){const R=T.L.liftSelection(k),P=new m(I.Q.fromPositions(R.getSelectionStart()),0,0,R.getPosition(),0);return f.fromModelState(P)}static fromModelSelections(k){const R=[];for(let P=0,z=k.length;P<z;P++)R[P]=this.fromModelSelection(k[P]);return R}constructor(k,R){this._cursorStateBrand=void 0,this.modelState=k,this.viewState=R}equals(k){return this.viewState.equals(k.viewState)&&this.modelState.equals(k.modelState)}}class p{constructor(k){this.modelState=k,this.viewState=null}}class _{constructor(k){this.modelState=null,this.viewState=k}}class m{constructor(k,R,P,z,te){this.selectionStart=k,this.selectionStartKind=R,this.selectionStartLeftoverVisibleColumns=P,this.position=z,this.leftoverVisibleColumns=te,this._singleCursorStateBrand=void 0,this.selection=m._computeSelection(this.selectionStart,this.position)}equals(k){return this.selectionStartLeftoverVisibleColumns===k.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===k.leftoverVisibleColumns&&this.selectionStartKind===k.selectionStartKind&&this.position.equals(k.position)&&this.selectionStart.equalsRange(k.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(k,R,P,z){return k?new m(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new s.y(R,P),z):new m(new I.Q(R,P,R,P),0,z,new s.y(R,P),z)}static _computeSelection(k,R){return k.isEmpty()||!R.isBeforeOrEqual(k.getStartPosition())?T.L.fromPositions(k.getStartPosition(),R):T.L.fromPositions(k.getEndPosition(),R)}}class b{constructor(k,R,P){this._editOperationResultBrand=void 0,this.type=k,this.commands=R,this.shouldPushStackElementBefore=P.shouldPushStackElementBefore,this.shouldPushStackElementAfter=P.shouldPushStackElementAfter}}function x(k){return k==="'"||k==='"'||k==="`"}},5090:(dt,pe,h)=>{h.d(pe,{$8:()=>M,SL:()=>J,_3:()=>v,aY:()=>w,uY:()=>E});var s=h(3338),I=h(4327),T=h(2532);class J{static trivial(C,d){return new J([new M(T.L.ofLength(C.length),T.L.ofLength(d.length))],!1)}static trivialTimedOut(C,d){return new J([new M(T.L.ofLength(C.length),T.L.ofLength(d.length))],!0)}constructor(C,d){this.diffs=C,this.hitTimeout=d}}class M{static invert(C,d){const f=[];return s.pN(C,(p,_)=>{f.push(M.fromOffsetPairs(p?p.getEndExclusives():v.zero,_?_.getStarts():new v(d,(p?p.seq2Range.endExclusive-p.seq1Range.endExclusive:0)+d)))}),f}static fromOffsetPairs(C,d){return new M(new T.L(C.offset1,d.offset1),new T.L(C.offset2,d.offset2))}static assertSorted(C){let d;for(let f of C){if(d&&!(d.seq1Range.endExclusive<=f.seq1Range.start&&d.seq2Range.endExclusive<=f.seq2Range.start))throw new I.D7("Sequence diffs must be sorted");d=f}}constructor(C,d){this.seq1Range=C,this.seq2Range=d}swap(){return new M(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(C){return new M(this.seq1Range.join(C.seq1Range),this.seq2Range.join(C.seq2Range))}delta(C){return C===0?this:new M(this.seq1Range.delta(C),this.seq2Range.delta(C))}deltaStart(C){return C===0?this:new M(this.seq1Range.deltaStart(C),this.seq2Range.deltaStart(C))}deltaEnd(C){return C===0?this:new M(this.seq1Range.deltaEnd(C),this.seq2Range.deltaEnd(C))}intersect(C){const d=this.seq1Range.intersect(C.seq1Range),f=this.seq2Range.intersect(C.seq2Range);if(d&&f)return new M(d,f)}getStarts(){return new v(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new v(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class v{static{this.zero=new v(0,0)}static{this.max=new v(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)}constructor(C,d){this.offset1=C,this.offset2=d}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(C){return C===0?this:new v(this.offset1+C,this.offset2+C)}equals(C){return this.offset1===C.offset1&&this.offset2===C.offset2}}class E{static{this.instance=new E}isValid(){return!0}}class w{constructor(C){if(this.timeout=C,this.startTime=Date.now(),this.valid=!0,C<=0)throw new I.D7("timeout must be positive")}isValid(){return!(Date.now()-this.startTime<this.timeout)&&this.valid&&(this.valid=!1),this.valid}}},3436:(dt,pe,h)=>{h.d(pe,{D8:()=>ee});var s=h(3338),I=h(7110),T=h(9955),J=h(2532),M=h(8061),v=h(5090);class E{constructor(H,V){this.width=H,this.height=V,this.array=[],this.array=new Array(H*V)}get(H,V){return this.array[H+V*this.width]}set(H,V,Y){this.array[H+V*this.width]=Y}}function w(H){return H===32||H===9}class C{static{this.chrKeys=new Map}static getKey(H){let V=this.chrKeys.get(H);return V===void 0&&(V=this.chrKeys.size,this.chrKeys.set(H,V)),V}constructor(H,V,Y){this.range=H,this.lines=V,this.source=Y,this.histogram=[];let ve=0;for(let Te=H.startLineNumber-1;Te<H.endLineNumberExclusive-1;Te++){const xe=V[Te];for(let Ie=0;Ie<xe.length;Ie++){ve++;const he=xe[Ie],Q=C.getKey(he);this.histogram[Q]=(this.histogram[Q]||0)+1}ve++;const Be=C.getKey("\n");this.histogram[Be]=(this.histogram[Be]||0)+1}this.totalCount=ve}computeSimilarity(H){let V=0;const Y=Math.max(this.histogram.length,H.histogram.length);for(let ve=0;ve<Y;ve++)V+=Math.abs((this.histogram[ve]??0)-(H.histogram[ve]??0));return 1-V/(this.totalCount+H.totalCount)}}class d{compute(H,V,Y=v.uY.instance,ve){if(H.length===0||V.length===0)return v.SL.trivial(H,V);const Te=new E(H.length,V.length),xe=new E(H.length,V.length),Be=new E(H.length,V.length);for(let Pe=0;Pe<H.length;Pe++)for(let Le=0;Le<V.length;Le++){if(!Y.isValid())return v.SL.trivialTimedOut(H,V);const Ve=Pe===0?0:Te.get(Pe-1,Le),g=Le===0?0:Te.get(Pe,Le-1);let ge;H.getElement(Pe)===V.getElement(Le)?(ge=Pe===0||Le===0?0:Te.get(Pe-1,Le-1),Pe>0&&Le>0&&xe.get(Pe-1,Le-1)===3&&(ge+=Be.get(Pe-1,Le-1)),ge+=ve?ve(Pe,Le):1):ge=-1;const We=Math.max(Ve,g,ge);if(We===ge){const de=Pe>0&&Le>0?Be.get(Pe-1,Le-1):0;Be.set(Pe,Le,de+1),xe.set(Pe,Le,3)}else We===Ve?(Be.set(Pe,Le,0),xe.set(Pe,Le,1)):We===g&&(Be.set(Pe,Le,0),xe.set(Pe,Le,2));Te.set(Pe,Le,We)}const Ie=[];let he=H.length,Q=V.length;function re(Pe,Le){Pe+1===he&&Le+1===Q||Ie.push(new v.$8(new J.L(Pe+1,he),new J.L(Le+1,Q))),he=Pe,Q=Le}let Je=H.length-1,Se=V.length-1;for(;Je>=0&&Se>=0;)xe.get(Je,Se)===3?(re(Je,Se),Je--,Se--):xe.get(Je,Se)===1?Je--:Se--;return re(-1,-1),Ie.reverse(),new v.SL(Ie,!1)}}class f{compute(H,V,Y=v.uY.instance){if(H.length===0||V.length===0)return v.SL.trivial(H,V);const ve=H,Te=V;function xe(Le,Ve){for(;Le<ve.length&&Ve<Te.length&&ve.getElement(Le)===Te.getElement(Ve);)Le++,Ve++;return Le}let Be=0;const Ie=new _;Ie.set(0,xe(0,0));const he=new m;he.set(0,Ie.get(0)===0?null:new p(null,0,0,Ie.get(0)));let Q=0;e:for(;;){if(Be++,!Y.isValid())return v.SL.trivialTimedOut(ve,Te);const Le=-Math.min(Be,Te.length+Be%2),Ve=Math.min(Be,ve.length+Be%2);for(Q=Le;Q<=Ve;Q+=2){let g=0;const ge=Q===Ve?-1:Ie.get(Q+1),We=Q===Le?-1:Ie.get(Q-1)+1;g++;const de=Math.min(Math.max(ge,We),ve.length),be=de-Q;if(g++,de>ve.length||be>Te.length)continue;const ae=xe(de,be);Ie.set(Q,ae);const O=de===ge?he.get(Q+1):he.get(Q-1);if(he.set(Q,ae!==de?new p(O,de,be,ae-de):O),Ie.get(Q)===ve.length&&Ie.get(Q)-Q===Te.length)break e}}let re=he.get(Q);const Je=[];let Se=ve.length,Pe=Te.length;for(;;){const Le=re?re.x+re.length:0,Ve=re?re.y+re.length:0;if(Le===Se&&Ve===Pe||Je.push(new v.$8(new J.L(Le,Se),new J.L(Ve,Pe))),!re)break;Se=re.x,Pe=re.y,re=re.prev}return Je.reverse(),new v.SL(Je,!1)}}class p{constructor(H,V,Y,ve){this.prev=H,this.x=V,this.y=Y,this.length=ve}}class _{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(H){return H<0?(H=-H-1,this.negativeArr[H]):this.positiveArr[H]}set(H,V){if(H<0){if((H=-H-1)>=this.negativeArr.length){const Y=this.negativeArr;this.negativeArr=new Int32Array(2*Y.length),this.negativeArr.set(Y)}this.negativeArr[H]=V}else{if(H>=this.positiveArr.length){const Y=this.positiveArr;this.positiveArr=new Int32Array(2*Y.length),this.positiveArr.set(Y)}this.positiveArr[H]=V}}}class m{constructor(){this.positiveArr=[],this.negativeArr=[]}get(H){return H<0?(H=-H-1,this.negativeArr[H]):this.positiveArr[H]}set(H,V){H<0?(H=-H-1,this.negativeArr[H]=V):this.positiveArr[H]=V}}var b=h(9331),x=h(7393),k=h(7992),R=h(5365);class P{constructor(H,V,Y){this.lines=H,this.range=V,this.considerWhitespaceChanges=Y,this.elements=[],this.firstElementOffsetByLineIdx=[],this.lineStartOffsets=[],this.trimmedWsLengthsByLineIdx=[],this.firstElementOffsetByLineIdx.push(0);for(let ve=this.range.startLineNumber;ve<=this.range.endLineNumber;ve++){let Te=H[ve-1],xe=0;ve===this.range.startLineNumber&&this.range.startColumn>1&&(xe=this.range.startColumn-1,Te=Te.substring(xe)),this.lineStartOffsets.push(xe);let Be=0;if(!Y){const he=Te.trimStart();Be=Te.length-he.length,Te=he.trimEnd()}this.trimmedWsLengthsByLineIdx.push(Be);const Ie=ve===this.range.endLineNumber?Math.min(this.range.endColumn-1-xe-Be,Te.length):Te.length;for(let he=0;he<Ie;he++)this.elements.push(Te.charCodeAt(he));ve<this.range.endLineNumber&&(this.elements.push("\n".charCodeAt(0)),this.firstElementOffsetByLineIdx.push(this.elements.length))}}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new J.L(0,this.length))}getText(H){return this.elements.slice(H.start,H.endExclusive).map((V)=>String.fromCharCode(V)).join("")}getElement(H){return this.elements[H]}get length(){return this.elements.length}getBoundaryScore(H){const V=W(H>0?this.elements[H-1]:-1),Y=W(H<this.elements.length?this.elements[H]:-1);if(V===7&&Y===8)return 0;if(V===8)return 150;let ve=0;return V!==Y&&(ve+=10,V===0&&Y===1&&(ve+=1)),ve+=L(V),ve+=L(Y),ve}translateOffset(H,V="right"){const Y=x.iM(this.firstElementOffsetByLineIdx,(Te)=>Te<=H),ve=H-this.firstElementOffsetByLineIdx[Y];return new R.y(this.range.startLineNumber+Y,1+this.lineStartOffsets[Y]+ve+(ve===0&&V==="left"?0:this.trimmedWsLengthsByLineIdx[Y]))}translateRange(H){const V=this.translateOffset(H.start,"right"),Y=this.translateOffset(H.endExclusive,"left");return Y.isBefore(V)?M.Q.fromPositions(Y,Y):M.Q.fromPositions(V,Y)}findWordContaining(H){if(H<0||H>=this.elements.length)return;if(!z(this.elements[H]))return;let V=H;for(;V>0&&z(this.elements[V-1]);)V--;let Y=H;for(;Y<this.elements.length&&z(this.elements[Y]);)Y++;return new J.L(V,Y)}countLinesIn(H){return this.translateOffset(H.endExclusive).lineNumber-this.translateOffset(H.start).lineNumber}isStronglyEqual(H,V){return this.elements[H]===this.elements[V]}extendToFullLines(H){const V=x.lx(this.firstElementOffsetByLineIdx,(ve)=>ve<=H.start)??0,Y=x.XP(this.firstElementOffsetByLineIdx,(ve)=>H.endExclusive<=ve)??this.elements.length;return new J.L(V,Y)}}function z(H){return H>=97&&H<=122||H>=65&&H<=90||H>=48&&H<=57}const te={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function L(H){return te[H]}function W(H){return H===10?8:H===13?7:w(H)?6:H>=97&&H<=122?0:H>=65&&H<=90?1:H>=48&&H<=57?2:H===-1?3:H===44||H===59?5:4}function B(H,V,Y){if(H.trim()===V.trim())return!0;if(H.length>300&&V.length>300)return!1;const ve=new f().compute(new P([H],new M.Q(1,1,1,H.length),!1),new P([V],new M.Q(1,1,1,V.length),!1),Y);let Te=0;const xe=v.$8.invert(ve.diffs,H.length);for(let Ie of xe)Ie.seq1Range.forEach((he)=>{w(H.charCodeAt(he))||Te++});const Be=function(Ie){let he=0;for(let Q=0;Q<H.length;Q++)w(Ie.charCodeAt(Q))||he++;return he}(H.length>V.length?H:V);return Te/Be>0.6&&Be>10}var U=h(161);class ${constructor(H,V){this.trimmedHash=H,this.lines=V}getElement(H){return this.trimmedHash[H]}get length(){return this.trimmedHash.length}getBoundaryScore(H){return 1000-((H===0?0:G(this.lines[H-1]))+(H===this.lines.length?0:G(this.lines[H])))}getText(H){return this.lines.slice(H.start,H.endExclusive).join("\n")}isStronglyEqual(H,V){return this.lines[H]===this.lines[V]}}function G(H){let V=0;for(;V<H.length&&(H.charCodeAt(V)===32||H.charCodeAt(V)===9);)V++;return V}var ie=h(3837);class ee{constructor(){this.dynamicProgrammingDiffing=new d,this.myersDiffingAlgorithm=new f}computeDiff(H,V,Y){if(H.length<=1&&s.aI(H,V,(be,ae)=>be===ae))return new ie.p([],[],!1);if(H.length===1&&H[0].length===0||V.length===1&&V[0].length===0)return new ie.p([new b.wm(new T.M(1,H.length+1),new T.M(1,V.length+1),[new b.q6(new M.Q(1,1,H.length,H[H.length-1].length+1),new M.Q(1,1,V.length,V[V.length-1].length+1))])],[],!1);const ve=Y.maxComputationTimeMs===0?v.uY.instance:new v.aY(Y.maxComputationTimeMs),Te=!Y.ignoreTrimWhitespace,xe=new Map;function Be(be){let ae=xe.get(be);return ae===void 0&&(ae=xe.size,xe.set(be,ae)),ae}const Ie=H.map((be)=>Be(be.trim())),he=V.map((be)=>Be(be.trim())),Q=new $(Ie,H),re=new $(he,V),Je=(()=>Q.length+re.length<1700?this.dynamicProgrammingDiffing.compute(Q,re,ve,(be,ae)=>H[be]===V[ae]?V[ae].length===0?0.1:1+Math.log(1+V[ae].length):0.99):this.myersDiffingAlgorithm.compute(Q,re,ve))();let{diffs:Se,hitTimeout:Pe}=Je;Se=U.NC(Q,re,Se),Se=U.X5(Q,re,Se);const Le=[],Ve=(be)=>{if(Te)for(let ae=0;ae<be;ae++){const O=g+ae,Ue=ge+ae;if(H[O]!==V[Ue]){const Ye=this.refineDiff(H,V,new v.$8(new J.L(O,O+1),new J.L(Ue,Ue+1)),ve,Te);for(let Fe of Ye.mappings)Le.push(Fe);Ye.hitTimeout&&(Pe=!0)}}};let g=0,ge=0;for(let be of Se){I.Ft(()=>be.seq1Range.start-g==be.seq2Range.start-ge),Ve(be.seq1Range.start-g),g=be.seq1Range.endExclusive,ge=be.seq2Range.endExclusive;const ae=this.refineDiff(H,V,be,ve,Te);ae.hitTimeout&&(Pe=!0);for(let O of ae.mappings)Le.push(O)}Ve(H.length-g);const We=ne(Le,H,V);let de=[];return Y.computeMoves&&(de=this.computeMoves(We,H,V,Ie,he,ve,Te)),I.Ft(()=>{function be(O,Ue){if(O.lineNumber<1||O.lineNumber>Ue.length)return!1;const Ye=Ue[O.lineNumber-1];return!(O.column<1||O.column>Ye.length+1)}function ae(O,Ue){return!(O.startLineNumber<1||O.startLineNumber>Ue.length+1||O.endLineNumberExclusive<1||O.endLineNumberExclusive>Ue.length+1)}for(let O of We){if(!O.innerChanges)return!1;for(let Ue of O.innerChanges)if(!(be(Ue.modifiedRange.getStartPosition(),V)&&be(Ue.modifiedRange.getEndPosition(),V)&&be(Ue.originalRange.getStartPosition(),H)&&be(Ue.originalRange.getEndPosition(),H)))return!1;if(!ae(O.modified,V)||!ae(O.original,H))return!1}return!0}),new ie.p(We,de,Pe)}computeMoves(H,V,Y,ve,Te,xe,Be){return function(Ie,he,Q,re,Je,Se){let{moves:Pe,excludedChanges:Le}=function(g,ge,We,de){const be=[],ae=g.filter((Ye)=>Ye.modified.isEmpty&&Ye.original.length>=3).map((Ye)=>new C(Ye.original,ge,Ye)),O=new Set(g.filter((Ye)=>Ye.original.isEmpty&&Ye.modified.length>=3).map((Ye)=>new C(Ye.modified,We,Ye))),Ue=new Set;for(let Ye of ae){let Fe,oe=-1;for(let rt of O){const lt=Ye.computeSimilarity(rt);lt>oe&&(oe=lt,Fe=rt)}if(oe>0.9&&Fe&&(O.delete(Fe),be.push(new b.WL(Ye.range,Fe.range)),Ue.add(Ye.source),Ue.add(Fe.source)),!de.isValid())return{moves:be,excludedChanges:Ue}}return{moves:be,excludedChanges:Ue}}(Ie,he,Q,Se);if(!Se.isValid())return[];const Ve=function(g,ge,We,de,be,ae){const O=[],Ue=new k.db;for(let lt of g)for(let ye=lt.original.startLineNumber;ye<lt.original.endLineNumberExclusive-2;ye++){const pt=`${ge[ye-1]}:${ge[ye+1-1]}:${ge[ye+2-1]}`;Ue.add(pt,{range:new T.M(ye,ye+3)})}const Ye=[];g.sort(s.VE((lt)=>lt.modified.startLineNumber,s.U9));for(let lt of g){let ye=[];for(let pt=lt.modified.startLineNumber;pt<lt.modified.endLineNumberExclusive-2;pt++){const Mt=`${We[pt-1]}:${We[pt+1-1]}:${We[pt+2-1]}`,Zt=new T.M(pt,pt+3),jt=[];Ue.forEach(Mt,({range:xn})=>{for(let gn of ye)if(gn.originalLineRange.endLineNumberExclusive+1===xn.endLineNumberExclusive&&gn.modifiedLineRange.endLineNumberExclusive+1===Zt.endLineNumberExclusive)return gn.originalLineRange=new T.M(gn.originalLineRange.startLineNumber,xn.endLineNumberExclusive),gn.modifiedLineRange=new T.M(gn.modifiedLineRange.startLineNumber,Zt.endLineNumberExclusive),void jt.push(gn);const nn={modifiedLineRange:Zt,originalLineRange:xn};Ye.push(nn),jt.push(nn)}),ye=jt}if(!ae.isValid())return[]}Ye.sort(s.Hw(s.VE((lt)=>lt.modifiedLineRange.length,s.U9)));const Fe=new T.S,oe=new T.S;for(let lt of Ye){const ye=lt.modifiedLineRange.startLineNumber-lt.originalLineRange.startLineNumber,pt=Fe.subtractFrom(lt.modifiedLineRange),Mt=oe.subtractFrom(lt.originalLineRange).getWithDelta(ye),Zt=pt.getIntersection(Mt);for(let jt of Zt.ranges){if(jt.length<3)continue;const xn=jt,nn=jt.delta(-ye);O.push(new b.WL(nn,xn)),Fe.addRange(xn),oe.addRange(nn)}}O.sort(s.VE((lt)=>lt.original.startLineNumber,s.U9));const rt=new x.vJ(g);for(let lt=0;lt<O.length;lt++){const ye=O[lt],pt=rt.findLastMonotonous((rn)=>rn.original.startLineNumber<=ye.original.startLineNumber),Mt=x.lx(g,(rn)=>rn.modified.startLineNumber<=ye.modified.startLineNumber),Zt=Math.max(ye.original.startLineNumber-pt.original.startLineNumber,ye.modified.startLineNumber-Mt.modified.startLineNumber),jt=rt.findLastMonotonous((rn)=>rn.original.startLineNumber<ye.original.endLineNumberExclusive),xn=x.lx(g,(rn)=>rn.modified.startLineNumber<ye.modified.endLineNumberExclusive),nn=Math.max(jt.original.endLineNumberExclusive-ye.original.endLineNumberExclusive,xn.modified.endLineNumberExclusive-ye.modified.endLineNumberExclusive);let gn,pn;for(gn=0;gn<Zt;gn++){const rn=ye.original.startLineNumber-gn-1,Sn=ye.modified.startLineNumber-gn-1;if(rn>de.length||Sn>be.length)break;if(Fe.contains(Sn)||oe.contains(rn))break;if(!B(de[rn-1],be[Sn-1],ae))break}for(gn>0&&(oe.addRange(new T.M(ye.original.startLineNumber-gn,ye.original.startLineNumber)),Fe.addRange(new T.M(ye.modified.startLineNumber-gn,ye.modified.startLineNumber))),pn=0;pn<nn;pn++){const rn=ye.original.endLineNumberExclusive+pn,Sn=ye.modified.endLineNumberExclusive+pn;if(rn>de.length||Sn>be.length)break;if(Fe.contains(Sn)||oe.contains(rn))break;if(!B(de[rn-1],be[Sn-1],ae))break}pn>0&&(oe.addRange(new T.M(ye.original.endLineNumberExclusive,ye.original.endLineNumberExclusive+pn)),Fe.addRange(new T.M(ye.modified.endLineNumberExclusive,ye.modified.endLineNumberExclusive+pn))),(gn>0||pn>0)&&(O[lt]=new b.WL(new T.M(ye.original.startLineNumber-gn,ye.original.endLineNumberExclusive+pn),new T.M(ye.modified.startLineNumber-gn,ye.modified.endLineNumberExclusive+pn)))}return O}(Ie.filter((g)=>!Le.has(g)),re,Je,he,Q,Se);return s.E4(Pe,Ve),Pe=function(g){if(g.length===0)return g;g.sort(s.VE((We)=>We.original.startLineNumber,s.U9));const ge=[g[0]];for(let We=1;We<g.length;We++){const de=ge[ge.length-1],be=g[We],ae=be.original.startLineNumber-de.original.endLineNumberExclusive,O=be.modified.startLineNumber-de.modified.endLineNumberExclusive;ae>=0&&O>=0&&ae+O<=2?ge[ge.length-1]=de.join(be):ge.push(be)}return ge}(Pe),Pe=Pe.filter((g)=>{const ge=g.original.toOffsetRange().slice(he).map((We)=>We.trim());return ge.join("\n").length>=15&&function(We){let de=0;for(let be of We)be.length>=2&&de++;return de}(ge)>=2}),Pe=function(g,ge){const We=new x.vJ(g);return ge.filter((de)=>(We.findLastMonotonous((be)=>be.original.startLineNumber<de.original.endLineNumberExclusive)||new b.WL(new T.M(1,1),new T.M(1,1)))!==x.lx(g,(be)=>be.modified.startLineNumber<de.modified.endLineNumberExclusive))}(Ie,Pe),Pe}(H,V,Y,ve,Te,xe).map((Ie)=>{const he=ne(this.refineDiff(V,Y,new v.$8(Ie.original.toOffsetRange(),Ie.modified.toOffsetRange()),xe,Be).mappings,V,Y,!0);return new ie.t(Ie,he)})}refineDiff(H,V,Y,ve,Te){var xe;const Be=(xe=Y,new b.WL(new T.M(xe.seq1Range.start+1,xe.seq1Range.endExclusive+1),new T.M(xe.seq2Range.start+1,xe.seq2Range.endExclusive+1))).toRangeMapping2(H,V),Ie=new P(H,Be.originalRange,Te),he=new P(V,Be.modifiedRange,Te),Q=Ie.length+he.length<500?this.dynamicProgrammingDiffing.compute(Ie,he,ve):this.myersDiffingAlgorithm.compute(Ie,he,ve);let re=Q.diffs;return re=U.NC(Ie,he,re),re=U.Lk(Ie,he,re),re=U.sq(Ie,he,re),re=U.Rl(Ie,he,re),{mappings:re.map((Je)=>new b.q6(Ie.translateRange(Je.seq1Range),he.translateRange(Je.seq2Range))),hitTimeout:Q.hitTimeout}}}function ne(H,V,Y,ve=!1){const Te=[];for(let xe of s.n(H.map((Be)=>function(Ie,he,Q){let re=0,Je=0;Ie.modifiedRange.endColumn===1&&Ie.originalRange.endColumn===1&&Ie.originalRange.startLineNumber+re<=Ie.originalRange.endLineNumber&&Ie.modifiedRange.startLineNumber+re<=Ie.modifiedRange.endLineNumber&&(Je=-1),Ie.modifiedRange.startColumn-1>=Q[Ie.modifiedRange.startLineNumber-1].length&&Ie.originalRange.startColumn-1>=he[Ie.originalRange.startLineNumber-1].length&&Ie.originalRange.startLineNumber<=Ie.originalRange.endLineNumber+Je&&Ie.modifiedRange.startLineNumber<=Ie.modifiedRange.endLineNumber+Je&&(re=1);const Se=new T.M(Ie.originalRange.startLineNumber+re,Ie.originalRange.endLineNumber+1+Je),Pe=new T.M(Ie.modifiedRange.startLineNumber+re,Ie.modifiedRange.endLineNumber+1+Je);return new b.wm(Se,Pe,[Ie])}(Be,V,Y)),(Be,Ie)=>Be.original.overlapOrTouch(Ie.original)||Be.modified.overlapOrTouch(Ie.modified))){const Be=xe[0],Ie=xe[xe.length-1];Te.push(new b.wm(Be.original.join(Ie.original),Be.modified.join(Ie.modified),xe.map((he)=>he.innerChanges[0])))}return I.Ft(()=>{if(!ve&&Te.length>0){if(Te[0].modified.startLineNumber!==Te[0].original.startLineNumber)return!1;if(Y.length-Te[Te.length-1].modified.endLineNumberExclusive!=V.length-Te[Te.length-1].original.endLineNumberExclusive)return!1}return I.Xo(Te,(xe,Be)=>Be.original.startLineNumber-xe.original.endLineNumberExclusive==Be.modified.startLineNumber-xe.modified.endLineNumberExclusive&&xe.original.endLineNumberExclusive<Be.original.startLineNumber&&xe.modified.endLineNumberExclusive<Be.modified.startLineNumber)}),Te}},161:(dt,pe,h)=>{h.d(pe,{Lk:()=>w,NC:()=>J,Rl:()=>d,X5:()=>C,sq:()=>E});var s=h(3338),I=h(2532),T=h(5090);function J(f,p,_){let m=_;return m=M(f,p,m),m=M(f,p,m),m=function(b,x,k){if(!b.getBoundaryScore||!x.getBoundaryScore)return k;for(let R=0;R<k.length;R++){const P=R>0?k[R-1]:void 0,z=k[R],te=R+1<k.length?k[R+1]:void 0,L=new I.L(P?P.seq1Range.endExclusive+1:0,te?te.seq1Range.start-1:b.length),W=new I.L(P?P.seq2Range.endExclusive+1:0,te?te.seq2Range.start-1:x.length);z.seq1Range.isEmpty?k[R]=v(z,b,x,L,W):z.seq2Range.isEmpty&&(k[R]=v(z.swap(),x,b,W,L).swap())}return k}(f,p,m),m}function M(f,p,_){if(_.length===0)return _;const m=[];m.push(_[0]);for(let x=1;x<_.length;x++){const k=m[m.length-1];let R=_[x];if(R.seq1Range.isEmpty||R.seq2Range.isEmpty){const P=R.seq1Range.start-k.seq1Range.endExclusive;let z;for(z=1;z<=P&&f.getElement(R.seq1Range.start-z)===f.getElement(R.seq1Range.endExclusive-z)&&p.getElement(R.seq2Range.start-z)===p.getElement(R.seq2Range.endExclusive-z);z++);if(z--,z===P){m[m.length-1]=new T.$8(new I.L(k.seq1Range.start,R.seq1Range.endExclusive-P),new I.L(k.seq2Range.start,R.seq2Range.endExclusive-P));continue}R=R.delta(-z)}m.push(R)}const b=[];for(let x=0;x<m.length-1;x++){const k=m[x+1];let R=m[x];if(R.seq1Range.isEmpty||R.seq2Range.isEmpty){const P=k.seq1Range.start-R.seq1Range.endExclusive;let z;for(z=0;z<P&&f.isStronglyEqual(R.seq1Range.start+z,R.seq1Range.endExclusive+z)&&p.isStronglyEqual(R.seq2Range.start+z,R.seq2Range.endExclusive+z);z++);if(z===P){m[x+1]=new T.$8(new I.L(R.seq1Range.start+P,k.seq1Range.endExclusive),new I.L(R.seq2Range.start+P,k.seq2Range.endExclusive));continue}z>0&&(R=R.delta(z))}b.push(R)}return m.length>0&&b.push(m[m.length-1]),b}function v(f,p,_,m,b){let x=1;for(;f.seq1Range.start-x>=m.start&&f.seq2Range.start-x>=b.start&&_.isStronglyEqual(f.seq2Range.start-x,f.seq2Range.endExclusive-x)&&x<100;)x++;x--;let k=0;for(;f.seq1Range.start+k<m.endExclusive&&f.seq2Range.endExclusive+k<b.endExclusive&&_.isStronglyEqual(f.seq2Range.start+k,f.seq2Range.endExclusive+k)&&k<100;)k++;if(x===0&&k===0)return f;let R=0,P=-1;for(let z=-x;z<=k;z++){const te=f.seq2Range.start+z,L=f.seq2Range.endExclusive+z,W=f.seq1Range.start+z,B=p.getBoundaryScore(W)+_.getBoundaryScore(te)+_.getBoundaryScore(L);B>P&&(P=B,R=z)}return f.delta(R)}function E(f,p,_){const m=[];for(let b of _){const x=m[m.length-1];x&&(b.seq1Range.start-x.seq1Range.endExclusive<=2||b.seq2Range.start-x.seq2Range.endExclusive<=2)?m[m.length-1]=new T.$8(x.seq1Range.join(b.seq1Range),x.seq2Range.join(b.seq2Range)):m.push(b)}return m}function w(f,p,_){const m=T.$8.invert(_,f.length),b=[];let x=new T._3(0,0);function k(R,P){if(R.offset1<x.offset1||R.offset2<x.offset2)return;const z=f.findWordContaining(R.offset1),te=p.findWordContaining(R.offset2);if(!z||!te)return;let L=new T.$8(z,te);const W=L.intersect(P);let B=W.seq1Range.length,U=W.seq2Range.length;for(;m.length>0;){const $=m[0];if(!$.seq1Range.intersects(L.seq1Range)&&!$.seq2Range.intersects(L.seq2Range))break;const G=f.findWordContaining($.seq1Range.start),ie=p.findWordContaining($.seq2Range.start),ee=new T.$8(G,ie),ne=ee.intersect($);if(B+=ne.seq1Range.length,U+=ne.seq2Range.length,L=L.join(ee),!(L.seq1Range.endExclusive>=$.seq1Range.endExclusive))break;m.shift()}B+U<2*(L.seq1Range.length+L.seq2Range.length)/3&&b.push(L),x=L.getEndExclusives()}for(;m.length>0;){const R=m.shift();R.seq1Range.isEmpty||(k(R.getStarts(),R),k(R.getEndExclusives().delta(-1),R))}return function(R,P){const z=[];for(;R.length>0||P.length>0;){const te=R[0],L=P[0];let W;W=te&&(!L||te.seq1Range.start<L.seq1Range.start)?R.shift():P.shift(),z.length>0&&z[z.length-1].seq1Range.endExclusive>=W.seq1Range.start?z[z.length-1]=z[z.length-1].join(W):z.push(W)}return z}(_,b)}function C(f,p,_){let m=_;if(m.length===0)return m;let b,x=0;do{b=!1;const k=[m[0]];for(let R=1;R<m.length;R++){let te=function(L,W){const B=new I.L(z.seq1Range.endExclusive,P.seq1Range.start);return f.getText(B).replace(/\s/g,"").length<=4&&(L.seq1Range.length+L.seq2Range.length>5||W.seq1Range.length+W.seq2Range.length>5)};const P=m[R],z=k[k.length-1];te(z,P)?(b=!0,k[k.length-1]=k[k.length-1].join(P)):k.push(P)}m=k}while(x++<10&&b);return m}function d(f,p,_){let m=_;if(m.length===0)return m;let b,x=0;do{b=!1;const R=[m[0]];for(let P=1;P<m.length;P++){let L=function(W,B){const U=new I.L(te.seq1Range.endExclusive,z.seq1Range.start);if(f.countLinesIn(U)>5||U.length>500)return!1;const $=f.getText(U).trim();if($.length>20||$.split(/\r\n|\r|\n/).length>1)return!1;const G=f.countLinesIn(W.seq1Range),ie=W.seq1Range.length,ee=p.countLinesIn(W.seq2Range),ne=W.seq2Range.length,H=f.countLinesIn(B.seq1Range),V=B.seq1Range.length,Y=p.countLinesIn(B.seq2Range),ve=B.seq2Range.length;function Te(xe){return Math.min(xe,130)}return Math.pow(Math.pow(Te(40*G+ie),1.5)+Math.pow(Te(40*ee+ne),1.5),1.5)+Math.pow(Math.pow(Te(40*H+V),1.5)+Math.pow(Te(40*Y+ve),1.5),1.5)>74184.96480721243};const z=m[P],te=R[R.length-1];L(te,z)?(b=!0,R[R.length-1]=R[R.length-1].join(z)):R.push(z)}m=R}while(x++<10&&b);const k=[];return s.kj(m,(R,P,z)=>{let te=P;function L(ie){return ie.length>0&&ie.trim().length<=3&&P.seq1Range.length+P.seq2Range.length>100}const W=f.extendToFullLines(P.seq1Range),B=f.getText(new I.L(W.start,P.seq1Range.start));L(B)&&(te=te.deltaStart(-B.length));const U=f.getText(new I.L(P.seq1Range.endExclusive,W.endExclusive));L(U)&&(te=te.deltaEnd(U.length));const $=T.$8.fromOffsetPairs(R?R.getEndExclusives():T._3.zero,z?z.getStarts():T._3.max),G=te.intersect($);k.length>0&&G.getStarts().equals(k[k.length-1].getEndExclusives())?k[k.length-1]=k[k.length-1].join(G):k.push(G)}),k}},3837:(dt,pe,h)=>{h.d(pe,{p:()=>s,t:()=>I});class s{constructor(T,J,M){this.changes=T,this.moves=J,this.hitTimeout=M}}class I{constructor(T,J){this.lineRangeMapping=T,this.changes=J}}},9331:(dt,pe,h)=>{h.d(pe,{WL:()=>v,q6:()=>d,wm:()=>C});var s=h(4327),I=h(9955),T=h(5365),J=h(8061),M=h(5787);class v{static inverse(f,p,_){const m=[];let b=1,x=1;for(let R of f){const P=new v(new I.M(b,R.original.startLineNumber),new I.M(x,R.modified.startLineNumber));P.modified.isEmpty||m.push(P),b=R.original.endLineNumberExclusive,x=R.modified.endLineNumberExclusive}const k=new v(new I.M(b,p+1),new I.M(x,_+1));return k.modified.isEmpty||m.push(k),m}static clip(f,p,_){const m=[];for(let b of f){const x=b.original.intersect(p),k=b.modified.intersect(_);x&&!x.isEmpty&&k&&!k.isEmpty&&m.push(new v(x,k))}return m}constructor(f,p){this.original=f,this.modified=p}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new v(this.modified,this.original)}join(f){return new v(this.original.join(f.original),this.modified.join(f.modified))}toRangeMapping(){const f=this.original.toInclusiveRange(),p=this.modified.toInclusiveRange();if(f&&p)return new d(f,p);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(this.modified.startLineNumber!==1||this.original.startLineNumber!==1)throw new s.D7("not a valid diff");return new d(new J.Q(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new J.Q(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}return new d(new J.Q(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new J.Q(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(f,p){if(w(this.original.endLineNumberExclusive,f)&&w(this.modified.endLineNumberExclusive,p))return new d(new J.Q(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new J.Q(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new d(J.Q.fromPositions(new T.y(this.original.startLineNumber,1),E(new T.y(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),f)),J.Q.fromPositions(new T.y(this.modified.startLineNumber,1),E(new T.y(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),p)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new d(J.Q.fromPositions(E(new T.y(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),f),E(new T.y(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),f)),J.Q.fromPositions(E(new T.y(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),p),E(new T.y(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),p)));throw new s.D7}}function E(f,p){if(f.lineNumber<1)return new T.y(1,1);if(f.lineNumber>p.length)return new T.y(p.length,p[p.length-1].length+1);const _=p[f.lineNumber-1];return f.column>_.length+1?new T.y(f.lineNumber,_.length+1):f}function w(f,p){return f>=1&&f<=p.length}class C extends v{static fromRangeMappings(f){const p=I.M.join(f.map((m)=>I.M.fromRangeInclusive(m.originalRange))),_=I.M.join(f.map((m)=>I.M.fromRangeInclusive(m.modifiedRange)));return new C(p,_,f)}constructor(f,p,_){super(f,p),this.innerChanges=_}flip(){return new C(this.modified,this.original,this.innerChanges?.map((f)=>f.flip()))}withInnerChangesFromLineRanges(){return new C(this.original,this.modified,[this.toRangeMapping()])}}class d{static assertSorted(f){for(let p=1;p<f.length;p++){const _=f[p-1],m=f[p];if(!_.originalRange.getEndPosition().isBeforeOrEqual(m.originalRange.getStartPosition())||!_.modifiedRange.getEndPosition().isBeforeOrEqual(m.modifiedRange.getStartPosition()))throw new s.D7("Range mappings must be sorted")}}constructor(f,p){this.originalRange=f,this.modifiedRange=p}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new d(this.modifiedRange,this.originalRange)}toTextEdit(f){const p=f.getValueOfRange(this.modifiedRange);return new M.WR(this.originalRange,p)}}},2595:(dt,pe,h)=>{h.d(pe,{f:()=>s});class s{constructor(I,T,J,M,v,E,w){this.id=I,this.label=T,this.alias=J,this.metadata=M,this._precondition=v,this._run=E,this._contextKeyService=w}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(I){return this.isSupported()?this._run(I):Promise.resolve(void 0)}}},2596:(dt,pe,h)=>{h.d(pe,{_:()=>s});const s={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},5741:(dt,pe,h)=>{h.d(pe,{R:()=>s});var s,I=h(9746),T=h(1540);(function(J){J.editorSimpleInput=new T.N1("editorSimpleInput",!1,!0),J.editorTextFocus=new T.N1("editorTextFocus",!1,I.kg("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),J.focus=new T.N1("editorFocus",!1,I.kg("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),J.textInputFocus=new T.N1("textInputFocus",!1,I.kg("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),J.readOnly=new T.N1("editorReadonly",!1,I.kg("editorReadonly","Whether the editor is read-only")),J.inDiffEditor=new T.N1("inDiffEditor",!1,I.kg("inDiffEditor","Whether the context is a diff editor")),J.isEmbeddedDiffEditor=new T.N1("isEmbeddedDiffEditor",!1,I.kg("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),J.inMultiDiffEditor=new T.N1("inMultiDiffEditor",!1,I.kg("inMultiDiffEditor","Whether the context is a multi diff editor")),J.multiDiffEditorAllCollapsed=new T.N1("multiDiffEditorAllCollapsed",void 0,I.kg("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),J.hasChanges=new T.N1("diffEditorHasChanges",!1,I.kg("diffEditorHasChanges","Whether the diff editor has changes")),J.comparingMovedCode=new T.N1("comparingMovedCode",!1,I.kg("comparingMovedCode","Whether a moved code block is selected for comparison")),J.accessibleDiffViewerVisible=new T.N1("accessibleDiffViewerVisible",!1,I.kg("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),J.diffEditorRenderSideBySideInlineBreakpointReached=new T.N1("diffEditorRenderSideBySideInlineBreakpointReached",!1,I.kg("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),J.diffEditorInlineMode=new T.N1("diffEditorInlineMode",!1,I.kg("diffEditorInlineMode","Whether inline mode is active")),J.diffEditorOriginalWritable=new T.N1("diffEditorOriginalWritable",!1,I.kg("diffEditorOriginalWritable","Whether modified is writable in the diff editor")),J.diffEditorModifiedWritable=new T.N1("diffEditorModifiedWritable",!1,I.kg("diffEditorModifiedWritable","Whether modified is writable in the diff editor")),J.diffEditorOriginalUri=new T.N1("diffEditorOriginalUri","",I.kg("diffEditorOriginalUri","The uri of the original document")),J.diffEditorModifiedUri=new T.N1("diffEditorModifiedUri","",I.kg("diffEditorModifiedUri","The uri of the modified document")),J.columnSelection=new T.N1("editorColumnSelection",!1,I.kg("editorColumnSelection","Whether `editor.columnSelection` is enabled")),J.writable=J.readOnly.toNegated(),J.hasNonEmptySelection=new T.N1("editorHasSelection",!1,I.kg("editorHasSelection","Whether the editor has text selected")),J.hasOnlyEmptySelection=J.hasNonEmptySelection.toNegated(),J.hasMultipleSelections=new T.N1("editorHasMultipleSelections",!1,I.kg("editorHasMultipleSelections","Whether the editor has multiple selections")),J.hasSingleSelection=J.hasMultipleSelections.toNegated(),J.tabMovesFocus=new T.N1("editorTabMovesFocus",!1,I.kg("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),J.tabDoesNotMoveFocus=J.tabMovesFocus.toNegated(),J.isInEmbeddedEditor=new T.N1("isInEmbeddedEditor",!1,!0),J.canUndo=new T.N1("canUndo",!1,!0),J.canRedo=new T.N1("canRedo",!1,!0),J.hoverVisible=new T.N1("editorHoverVisible",!1,I.kg("editorHoverVisible","Whether the editor hover is visible")),J.hoverFocused=new T.N1("editorHoverFocused",!1,I.kg("editorHoverFocused","Whether the editor hover is focused")),J.stickyScrollFocused=new T.N1("stickyScrollFocused",!1,I.kg("stickyScrollFocused","Whether the sticky scroll is focused")),J.stickyScrollVisible=new T.N1("stickyScrollVisible",!1,I.kg("stickyScrollVisible","Whether the sticky scroll is visible")),J.standaloneColorPickerVisible=new T.N1("standaloneColorPickerVisible",!1,I.kg("standaloneColorPickerVisible","Whether the standalone color picker is visible")),J.standaloneColorPickerFocused=new T.N1("standaloneColorPickerFocused",!1,I.kg("standaloneColorPickerFocused","Whether the standalone color picker is focused")),J.inCompositeEditor=new T.N1("inCompositeEditor",void 0,I.kg("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),J.notInCompositeEditor=J.inCompositeEditor.toNegated(),J.languageId=new T.N1("editorLangId","",I.kg("editorLangId","The language identifier of the editor")),J.hasCompletionItemProvider=new T.N1("editorHasCompletionItemProvider",!1,I.kg("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),J.hasCodeActionsProvider=new T.N1("editorHasCodeActionsProvider",!1,I.kg("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),J.hasCodeLensProvider=new T.N1("editorHasCodeLensProvider",!1,I.kg("editorHasCodeLensProvider","Whether the editor has a code lens provider")),J.hasDefinitionProvider=new T.N1("editorHasDefinitionProvider",!1,I.kg("editorHasDefinitionProvider","Whether the editor has a definition provider")),J.hasDeclarationProvider=new T.N1("editorHasDeclarationProvider",!1,I.kg("editorHasDeclarationProvider","Whether the editor has a declaration provider")),J.hasImplementationProvider=new T.N1("editorHasImplementationProvider",!1,I.kg("editorHasImplementationProvider","Whether the editor has an implementation provider")),J.hasTypeDefinitionProvider=new T.N1("editorHasTypeDefinitionProvider",!1,I.kg("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),J.hasHoverProvider=new T.N1("editorHasHoverProvider",!1,I.kg("editorHasHoverProvider","Whether the editor has a hover provider")),J.hasDocumentHighlightProvider=new T.N1("editorHasDocumentHighlightProvider",!1,I.kg("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),J.hasDocumentSymbolProvider=new T.N1("editorHasDocumentSymbolProvider",!1,I.kg("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),J.hasReferenceProvider=new T.N1("editorHasReferenceProvider",!1,I.kg("editorHasReferenceProvider","Whether the editor has a reference provider")),J.hasRenameProvider=new T.N1("editorHasRenameProvider",!1,I.kg("editorHasRenameProvider","Whether the editor has a rename provider")),J.hasSignatureHelpProvider=new T.N1("editorHasSignatureHelpProvider",!1,I.kg("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),J.hasInlayHintsProvider=new T.N1("editorHasInlayHintsProvider",!1,I.kg("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),J.hasDocumentFormattingProvider=new T.N1("editorHasDocumentFormattingProvider",!1,I.kg("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),J.hasDocumentSelectionFormattingProvider=new T.N1("editorHasDocumentSelectionFormattingProvider",!1,I.kg("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),J.hasMultipleDocumentFormattingProvider=new T.N1("editorHasMultipleDocumentFormattingProvider",!1,I.kg("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),J.hasMultipleDocumentSelectionFormattingProvider=new T.N1("editorHasMultipleDocumentSelectionFormattingProvider",!1,I.kg("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(s||(s={}))},426:(dt,pe,h)=>{h.d(pe,{T:()=>T,x:()=>I});const s=[];function I(J){s.push(J)}function T(){return s.slice(0)}},5910:(dt,pe,h)=>{h.d(pe,{x:()=>s});class s{static getLanguageId(I){return(255&I)>>>0}static getTokenType(I){return(768&I)>>>8}static containsBalancedBrackets(I){return!!(1024&I)}static getFontStyle(I){return(30720&I)>>>11}static getForeground(I){return(16744448&I)>>>15}static getBackground(I){return(4278190080&I)>>>24}static getClassNameFromMetadata(I){let T="mtk"+this.getForeground(I);const J=this.getFontStyle(I);return 1&J&&(T+=" mtki"),2&J&&(T+=" mtkb"),4&J&&(T+=" mtku"),8&J&&(T+=" mtks"),T}static getInlineStyleFromMetadata(I,T){const J=this.getForeground(I),M=this.getFontStyle(I);let v=`color: ${T[J]};`;1&M&&(v+="font-style: italic;"),2&M&&(v+="font-weight: bold;");let E="";return 4&M&&(E+=" underline"),8&M&&(E+=" line-through"),E&&(v+=`text-decoration:${E};`),v}static getPresentationFromMetadata(I){const T=this.getForeground(I),J=this.getFontStyle(I);return{foreground:T,italic:Boolean(1&J),bold:Boolean(2&J),underline:Boolean(4&J),strikethrough:Boolean(8&J)}}}},4403:(dt,pe,h)=>{h.d(pe,{f:()=>T});var s=h(3958),I=h(8019);function T(J,M,v,E,w,C){if(Array.isArray(J)){let d=0;for(let f of J){const p=T(f,M,v,E,w,C);if(p===10)return p;p>d&&(d=p)}return d}if(typeof J=="string")return E?J==="*"?5:J===v?10:0:0;if(J){const{language:d,pattern:f,scheme:p,hasAccessToAllModels:_,notebookType:m}=J;if(!E&&!_)return 0;m&&w&&(M=w);let b=0;if(p)if(p===M.scheme)b=10;else{if(p!=="*")return 0;b=5}if(d)if(d===v)b=10;else{if(d!=="*")return 0;b=Math.max(b,5)}if(m)if(m===C)b=10;else{if(m!=="*"||C===void 0)return 0;b=Math.max(b,5)}if(f){let x;if(x=typeof f=="string"?f:{...f,base:I.S8(f.base)},x!==M.fsPath&&!s.YW(x,M.fsPath))return 0;b=10}return b}return 0}},4364:(dt,pe,h)=>{h.d(pe,{uB:()=>U,HC:()=>C,Kb:()=>_,FX:()=>f,rY:()=>k,lO:()=>G,M$:()=>w,r4:()=>$,qw:()=>d,sm:()=>H,v_:()=>ie,OV:()=>W,YT:()=>B,GE:()=>R,WA:()=>p,gP:()=>L,ou:()=>b,dG:()=>ee,$M:()=>x,OB:()=>ne,PK:()=>te,Iu:()=>P});var s=h(5915),I=h(7264),T=h(8061),J=h(2106),M=h(998);class v{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new J.vl,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(V){this._onDidChange.fire({changedLanguages:V,changedColorMap:!1})}register(V,Y){return this._tokenizationSupports.set(V,Y),this.handleChange([V]),M.s(()=>{this._tokenizationSupports.get(V)===Y&&(this._tokenizationSupports.delete(V),this.handleChange([V]))})}get(V){return this._tokenizationSupports.get(V)||null}registerFactory(V,Y){this._factories.get(V)?.dispose();const ve=new E(this,V,Y);return this._factories.set(V,ve),M.s(()=>{const Te=this._factories.get(V);Te&&Te===ve&&(this._factories.delete(V),Te.dispose())})}async getOrCreate(V){const Y=this.get(V);if(Y)return Y;const ve=this._factories.get(V);return!ve||ve.isResolved?null:(await ve.resolve(),this.get(V))}isResolved(V){if(this.get(V))return!0;const Y=this._factories.get(V);return!(Y&&!Y.isResolved)}setColorMap(V){this._colorMap=V,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class E extends M.jG{get isResolved(){return this._isResolved}constructor(V,Y,ve){super(),this._registry=V,this._languageId=Y,this._factory=ve,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const V=await this._factory.tokenizationSupport;this._isResolved=!0,V&&!this._isDisposed&&this._register(this._registry.register(this._languageId,V))}}var w,C,d,f,p,_,m=h(9746);class b{constructor(V,Y,ve){this.offset=V,this.type=Y,this.language=ve,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class x{constructor(V,Y){this.tokens=V,this.endState=Y,this._tokenizationResultBrand=void 0}}class k{constructor(V,Y){this.tokens=V,this.endState=Y,this._encodedTokenizationResultBrand=void 0}}(function(V){V[V.Increase=0]="Increase",V[V.Decrease=1]="Decrease"})(w||(w={})),function(V){const Y=new Map;Y.set(0,s.W.symbolMethod),Y.set(1,s.W.symbolFunction),Y.set(2,s.W.symbolConstructor),Y.set(3,s.W.symbolField),Y.set(4,s.W.symbolVariable),Y.set(5,s.W.symbolClass),Y.set(6,s.W.symbolStruct),Y.set(7,s.W.symbolInterface),Y.set(8,s.W.symbolModule),Y.set(9,s.W.symbolProperty),Y.set(10,s.W.symbolEvent),Y.set(11,s.W.symbolOperator),Y.set(12,s.W.symbolUnit),Y.set(13,s.W.symbolValue),Y.set(15,s.W.symbolEnum),Y.set(14,s.W.symbolConstant),Y.set(15,s.W.symbolEnum),Y.set(16,s.W.symbolEnumMember),Y.set(17,s.W.symbolKeyword),Y.set(27,s.W.symbolSnippet),Y.set(18,s.W.symbolText),Y.set(19,s.W.symbolColor),Y.set(20,s.W.symbolFile),Y.set(21,s.W.symbolReference),Y.set(22,s.W.symbolCustomColor),Y.set(23,s.W.symbolFolder),Y.set(24,s.W.symbolTypeParameter),Y.set(25,s.W.account),Y.set(26,s.W.issues),V.toIcon=function(Te){let xe=Y.get(Te);return xe||(console.info("No codicon found for CompletionItemKind "+Te),xe=s.W.symbolProperty),xe};const ve=new Map;ve.set("method",0),ve.set("function",1),ve.set("constructor",2),ve.set("field",3),ve.set("variable",4),ve.set("class",5),ve.set("struct",6),ve.set("interface",7),ve.set("module",8),ve.set("property",9),ve.set("event",10),ve.set("operator",11),ve.set("unit",12),ve.set("value",13),ve.set("constant",14),ve.set("enum",15),ve.set("enum-member",16),ve.set("enumMember",16),ve.set("keyword",17),ve.set("snippet",27),ve.set("text",18),ve.set("color",19),ve.set("file",20),ve.set("reference",21),ve.set("customcolor",22),ve.set("folder",23),ve.set("type-parameter",24),ve.set("typeParameter",24),ve.set("account",25),ve.set("issue",26),V.fromString=function(Te,xe){let Be=ve.get(Te);return Be!==void 0||xe||(Be=9),Be}}(C||(C={})),function(V){V[V.Automatic=0]="Automatic",V[V.Explicit=1]="Explicit"}(d||(d={}));class R{constructor(V,Y,ve,Te){this.range=V,this.text=Y,this.completionKind=ve,this.isSnippetText=Te}equals(V){return T.Q.lift(this.range).equalsRange(V.range)&&this.text===V.text&&this.completionKind===V.completionKind&&this.isSnippetText===V.isSnippetText}}function P(V){return V&&I.r.isUri(V.uri)&&T.Q.isIRange(V.range)&&(T.Q.isIRange(V.originSelectionRange)||T.Q.isIRange(V.targetSelectionRange))}(function(V){V[V.Automatic=0]="Automatic",V[V.PasteAs=1]="PasteAs"})(f||(f={})),function(V){V[V.Invoke=1]="Invoke",V[V.TriggerCharacter=2]="TriggerCharacter",V[V.ContentChange=3]="ContentChange"}(p||(p={})),function(V){V[V.Text=0]="Text",V[V.Read=1]="Read",V[V.Write=2]="Write"}(_||(_={}));const z={17:m.kg("Array","array"),16:m.kg("Boolean","boolean"),4:m.kg("Class","class"),13:m.kg("Constant","constant"),8:m.kg("Constructor","constructor"),9:m.kg("Enum","enumeration"),21:m.kg("EnumMember","enumeration member"),23:m.kg("Event","event"),7:m.kg("Field","field"),0:m.kg("File","file"),11:m.kg("Function","function"),10:m.kg("Interface","interface"),19:m.kg("Key","key"),5:m.kg("Method","method"),1:m.kg("Module","module"),2:m.kg("Namespace","namespace"),20:m.kg("Null","null"),15:m.kg("Number","number"),18:m.kg("Object","object"),24:m.kg("Operator","operator"),3:m.kg("Package","package"),6:m.kg("Property","property"),14:m.kg("String","string"),22:m.kg("Struct","struct"),25:m.kg("TypeParameter","type parameter"),12:m.kg("Variable","variable")};function te(V,Y){return m.kg("symbolAriaLabel","{0} ({1})",V,z[Y])}var L,W,B,U,$;(function(V){const Y=new Map;Y.set(0,s.W.symbolFile),Y.set(1,s.W.symbolModule),Y.set(2,s.W.symbolNamespace),Y.set(3,s.W.symbolPackage),Y.set(4,s.W.symbolClass),Y.set(5,s.W.symbolMethod),Y.set(6,s.W.symbolProperty),Y.set(7,s.W.symbolField),Y.set(8,s.W.symbolConstructor),Y.set(9,s.W.symbolEnum),Y.set(10,s.W.symbolInterface),Y.set(11,s.W.symbolFunction),Y.set(12,s.W.symbolVariable),Y.set(13,s.W.symbolConstant),Y.set(14,s.W.symbolString),Y.set(15,s.W.symbolNumber),Y.set(16,s.W.symbolBoolean),Y.set(17,s.W.symbolArray),Y.set(18,s.W.symbolObject),Y.set(19,s.W.symbolKey),Y.set(20,s.W.symbolNull),Y.set(21,s.W.symbolEnumMember),Y.set(22,s.W.symbolStruct),Y.set(23,s.W.symbolEvent),Y.set(24,s.W.symbolOperator),Y.set(25,s.W.symbolTypeParameter),V.toIcon=function(ve){let Te=Y.get(ve);return Te||(console.info("No codicon found for SymbolKind "+ve),Te=s.W.symbolProperty),Te}})(L||(L={}));class G{static{this.Comment=new G("comment")}static{this.Imports=new G("imports")}static{this.Region=new G("region")}static fromValue(V){switch(V){case"comment":return G.Comment;case"imports":return G.Imports;case"region":return G.Region}return new G(V)}constructor(V){this.value=V}}(function(V){V[V.AIGenerated=1]="AIGenerated"})(W||(W={})),function(V){V[V.Invoke=0]="Invoke",V[V.Automatic=1]="Automatic"}(B||(B={})),function(V){V.is=function(Y){return!(!Y||typeof Y!="object")&&typeof Y.id=="string"&&typeof Y.title=="string"}}(U||(U={})),function(V){V[V.Type=1]="Type",V[V.Parameter=2]="Parameter"}($||($={}));class ie{constructor(V){this.createSupport=V,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then((V)=>{V&&V.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const ee=new v,ne=new v;var H;(function(V){V[V.Invoke=0]="Invoke",V[V.Automatic=1]="Automatic"})(H||(H={}))},645:(dt,pe,h)=>{h.d(pe,{$f:()=>M,MU:()=>v,Yb:()=>w,_t:()=>E,vn:()=>J});var s=h(6844),I=h(9550),T=h(1032);function J(C,d,f,p=!0,_){if(C<4)return null;const m=_.getLanguageConfiguration(d.tokenization.getLanguageId()).indentRulesSupport;if(!m)return null;const b=new T.no(d,m,_);if(f<=1)return{indentation:"",action:null};for(let k=f-1;k>0&&d.getLineContent(k)==="";k--)if(k===1)return{indentation:"",action:null};const x=function(k,R,P){const z=k.tokenization.getLanguageIdAtPosition(R,0);if(R>1){let te,L=-1;for(te=R-1;te>=1;te--){if(k.tokenization.getLanguageIdAtPosition(te,0)!==z)return L;const W=k.getLineContent(te);if(!P.shouldIgnore(te)&&!/^\s+$/.test(W)&&W!=="")return te;L=te}}return-1}(d,f,b);if(x<0)return null;if(x<1)return{indentation:"",action:null};if(b.shouldIncrease(x)||b.shouldIndentNextLine(x)){const k=d.getLineContent(x);return{indentation:s.UU(k),action:I.l.Indent,line:x}}if(b.shouldDecrease(x)){const k=d.getLineContent(x);return{indentation:s.UU(k),action:null,line:x}}{if(x===1)return{indentation:s.UU(d.getLineContent(x)),action:null,line:x};const k=x-1,R=m.getIndentMetadata(d.getLineContent(k));if(!(3&R)&&4&R){let P=0;for(let z=k-1;z>0;z--)if(!b.shouldIndentNextLine(z)){P=z;break}return{indentation:s.UU(d.getLineContent(P+1)),action:null,line:P+1}}if(p)return{indentation:s.UU(d.getLineContent(x)),action:null,line:x};for(let P=x;P>0;P--){if(b.shouldIncrease(P))return{indentation:s.UU(d.getLineContent(P)),action:I.l.Indent,line:P};if(b.shouldIndentNextLine(P)){let z=0;for(let te=P-1;te>0;te--)if(!b.shouldIndentNextLine(P)){z=te;break}return{indentation:s.UU(d.getLineContent(z+1)),action:null,line:z+1}}if(b.shouldDecrease(P))return{indentation:s.UU(d.getLineContent(P)),action:null,line:P}}return{indentation:s.UU(d.getLineContent(1)),action:null,line:1}}}function M(C,d,f,p,_,m){if(C<4)return null;const b=m.getLanguageConfiguration(f);if(!b)return null;const x=m.getLanguageConfiguration(f).indentRulesSupport;if(!x)return null;const k=new T.no(d,x,m),R=J(C,d,p,void 0,m);if(R){const P=R.line;if(P!==void 0){let z=!0;for(let te=P;te<p-1;te++)if(!/^\s*$/.test(d.getLineContent(te))){z=!1;break}if(z){const te=b.onEnter(C,"",d.getLineContent(P),"");if(te){let L=s.UU(d.getLineContent(P));return te.removeText&&(L=L.substring(0,L.length-te.removeText)),te.indentAction===I.l.Indent||te.indentAction===I.l.IndentOutdent?L=_.shiftIndent(L):te.indentAction===I.l.Outdent&&(L=_.unshiftIndent(L)),k.shouldDecrease(p)&&(L=_.unshiftIndent(L)),te.appendText&&(L+=te.appendText),s.UU(L)}}}return k.shouldDecrease(p)?R.action===I.l.Indent?R.indentation:_.unshiftIndent(R.indentation):R.action===I.l.Indent?_.shiftIndent(R.indentation):R.indentation}return null}function v(C,d,f,p,_){if(C<4)return null;const m=d.getLanguageIdAtPosition(f.startLineNumber,f.startColumn),b=_.getLanguageConfiguration(m).indentRulesSupport;if(!b)return null;d.tokenization.forceTokenization(f.startLineNumber);const x=new T.V(d,_).getProcessedTokenContextAroundRange(f),k=x.afterRangeProcessedTokens,R=x.beforeRangeProcessedTokens,P=s.UU(R.getLineContent()),z=function($,G,ie){return{tokenization:{getLineTokens:(ee)=>ee===G?ie:$.tokenization.getLineTokens(ee),getLanguageId:()=>$.getLanguageId(),getLanguageIdAtPosition:(ee,ne)=>$.getLanguageIdAtPosition(ee,ne)},getLineContent:(ee)=>ee===G?ie.getLineContent():$.getLineContent(ee)}}(d,f.startLineNumber,R),te=T.WR(d,f.getStartPosition()),L=d.getLineContent(f.startLineNumber),W=s.UU(L),B=J(C,z,f.startLineNumber+1,void 0,_);if(!B){const $=te?W:P;return{beforeEnter:$,afterEnter:$}}let U=te?W:B.indentation;return B.action===I.l.Indent&&(U=p.shiftIndent(U)),b.shouldDecrease(k.getLineContent())&&(U=p.unshiftIndent(U)),{beforeEnter:te?W:P,afterEnter:U}}function E(C,d,f,p,_,m){const b=C.autoIndent;if(b<4)return null;if(T.WR(d,f.getStartPosition()))return null;const x=d.getLanguageIdAtPosition(f.startLineNumber,f.startColumn),k=m.getLanguageConfiguration(x).indentRulesSupport;if(!k)return null;const R=new T.V(d,m).getProcessedTokenContextAroundRange(f),P=R.beforeRangeProcessedTokens.getLineContent(),z=R.afterRangeProcessedTokens.getLineContent(),te=P+z,L=P+p+z;if(!k.shouldDecrease(te)&&k.shouldDecrease(L)){const B=J(b,d,f.startLineNumber,!1,m);if(!B)return null;let U=B.indentation;return B.action!==I.l.Indent&&(U=_.unshiftIndent(U)),U}const W=f.startLineNumber-1;if(W>0){const B=d.getLineContent(W);if(k.shouldIndentNextLine(B)&&k.shouldIncrease(L)){const U=J(b,d,f.startLineNumber,!1,m),$=U?.indentation;if($!==void 0){const G=d.getLineContent(f.startLineNumber),ie=s.UU(G),ee=_.shiftIndent($)===ie,ne=/^\s*$/.test(te),H=C.autoClosingPairs.autoClosingPairsOpenByEnd.get(p),V=H&&H.length>0;if(ee&&V&&ne)return $}}}return null}function w(C,d,f){const p=f.getLanguageConfiguration(C.getLanguageId()).indentRulesSupport;return p?d<1||d>C.getLineCount()?null:p.getIndentMetadata(C.getLineContent(d)):null}},794:(dt,pe,h)=>{h.d(pe,{h:()=>J});var s=h(9550),I=h(2394),T=h(1032);function J(M,v,E,w){v.tokenization.forceTokenization(E.startLineNumber);const C=v.getLanguageIdAtPosition(E.startLineNumber,E.startColumn),d=w.getLanguageConfiguration(C);if(!d)return null;const f=new T.V(v,w).getProcessedTokenContextAroundRange(E),p=f.previousLineProcessedTokens.getLineContent(),_=f.beforeRangeProcessedTokens.getLineContent(),m=f.afterRangeProcessedTokens.getLineContent(),b=d.onEnter(M,p,_,m);if(!b)return null;const x=b.indentAction;let k=b.appendText;const R=b.removeText||0;k?x===s.l.Indent&&(k="\t"+k):k=x===s.l.Indent||x===s.l.IndentOutdent?"\t":"";let P=I.Cw(v,E.startLineNumber,E.startColumn);return R&&(P=P.substring(0,P.length-R)),{indentAction:x,appendText:k,removeText:R,indentation:P}}},7922:(dt,pe,h)=>{h.d(pe,{L:()=>s});const s=h(2399).u1("languageService")},9550:(dt,pe,h)=>{var s;h.d(pe,{GB:()=>T,i3:()=>I,l:()=>s}),function(M){M[M.None=0]="None",M[M.Indent=1]="Indent",M[M.IndentOutdent=2]="IndentOutdent",M[M.Outdent=3]="Outdent"}(s||(s={}));class I{constructor(M){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=M.open,this.close=M.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(M.notIn))for(let v=0,E=M.notIn.length;v<E;v++)switch(M.notIn[v]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(M){switch(M){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(M,v){if(M.getTokenCount()===0)return!0;const E=M.findTokenIndexAtOffset(v-2),w=M.getStandardTokenType(E);return this.isOK(w)}_findNeutralCharacterInRange(M,v){for(let E=M;E<=v;E++){const w=String.fromCharCode(E);if(!this.open.includes(w)&&!this.close.includes(w))return w}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class T{constructor(M){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(let v of M)J(this.autoClosingPairsOpenByStart,v.open.charAt(0),v),J(this.autoClosingPairsOpenByEnd,v.open.charAt(v.open.length-1),v),J(this.autoClosingPairsCloseByStart,v.close.charAt(0),v),J(this.autoClosingPairsCloseByEnd,v.close.charAt(v.close.length-1),v),v.close.length===1&&v.open.length===1&&J(this.autoClosingPairsCloseSingleChar,v.close,v)}}function J(M,v,E){M.has(v)?M.get(v).push(E):M.set(v,[E])}},2394:(dt,pe,h)=>{h.d(pe,{JZ:()=>ie,Cw:()=>V});var s=h(2106),I=h(998),T=h(6844),J=h(8782),M=h(9550);class v{static{this.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t"}static{this.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t"}constructor(he){if(he.autoClosingPairs?this._autoClosingPairs=he.autoClosingPairs.map((Q)=>new M.i3(Q)):he.brackets?this._autoClosingPairs=he.brackets.map((Q)=>new M.i3({open:Q[0],close:Q[1]})):this._autoClosingPairs=[],he.__electricCharacterSupport&&he.__electricCharacterSupport.docComment){const Q=he.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new M.i3({open:Q.open,close:Q.close||""}))}this._autoCloseBeforeForQuotes=typeof he.autoCloseBefore=="string"?he.autoCloseBefore:v.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof he.autoCloseBefore=="string"?he.autoCloseBefore:v.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=he.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(he){return he?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}var E=h(3338),w=h(9184),C=h(1804);class d{constructor(he){this._richEditBrackets=he}getElectricCharacters(){const he=[];if(this._richEditBrackets)for(let Q of this._richEditBrackets.brackets)for(let re of Q.close){const Je=re.charAt(re.length-1);he.push(Je)}return E.dM(he)}onElectricCharacter(he,Q,re){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const Je=Q.findTokenIndexAtOffset(re-1);if(w.Yo(Q.getStandardTokenType(Je)))return null;const Se=this._richEditBrackets.reversedRegex,Pe=Q.getLineContent().substring(0,re-1)+he,Le=C.Fu.findPrevBracketInRange(Se,1,Pe,0,Pe.length);if(!Le)return null;const Ve=Pe.substring(Le.startColumn-1,Le.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Ve])return null;const g=Q.getActualLineContentBefore(Le.startColumn-1);return/^\s*$/.test(g)?{matchOpenBracket:Ve}:null}}function f(he){return he.global&&(he.lastIndex=0),!0}class p{constructor(he){this._indentationRules=he}shouldIncrease(he){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&f(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(he))}shouldDecrease(he){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&f(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(he))}shouldIndentNextLine(he){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&f(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(he))}shouldIgnore(he){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&f(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(he))}getIndentMetadata(he){let Q=0;return this.shouldIncrease(he)&&(Q+=1),this.shouldDecrease(he)&&(Q+=2),this.shouldIndentNextLine(he)&&(Q+=4),this.shouldIgnore(he)&&(Q+=8),Q}}var _=h(4327);class m{constructor(he){(he=he||{}).brackets=he.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],he.brackets.forEach((Q)=>{const re=m._createOpenBracketRegExp(Q[0]),Je=m._createCloseBracketRegExp(Q[1]);re&&Je&&this._brackets.push({open:Q[0],openRegExp:re,close:Q[1],closeRegExp:Je})}),this._regExpRules=he.onEnterRules||[]}onEnter(he,Q,re,Je){if(he>=3)for(let Se=0,Pe=this._regExpRules.length;Se<Pe;Se++){const Le=this._regExpRules[Se];if([{reg:Le.beforeText,text:re},{reg:Le.afterText,text:Je},{reg:Le.previousLineText,text:Q}].every((Ve)=>!Ve.reg||(Ve.reg.lastIndex=0,Ve.reg.test(Ve.text))))return Le.action}if(he>=2&&re.length>0&&Je.length>0)for(let Se=0,Pe=this._brackets.length;Se<Pe;Se++){const Le=this._brackets[Se];if(Le.openRegExp.test(re)&&Le.closeRegExp.test(Je))return{indentAction:M.l.IndentOutdent}}if(he>=2&&re.length>0){for(let Se=0,Pe=this._brackets.length;Se<Pe;Se++)if(this._brackets[Se].openRegExp.test(re))return{indentAction:M.l.Indent}}return null}static _createOpenBracketRegExp(he){let Q=T.bm(he);return/\B/.test(Q.charAt(0))||(Q="\\b"+Q),Q+="\\s*$",m._safeRegExp(Q)}static _createCloseBracketRegExp(he){let Q=T.bm(he);return/\B/.test(Q.charAt(Q.length-1))||(Q+="\\b"),Q="^\\s*"+Q,m._safeRegExp(Q)}static _safeRegExp(he){try{return new RegExp(he)}catch(Q){return _.dz(Q),null}}}var b=h(2399),x=h(5753),k=h(7922),R=h(6726),P=h(4957),z=h(6260);class te{constructor(he,Q){this.languageId=he;const re=Q.brackets?L(Q.brackets):[],Je=new z.VV((Le)=>{const Ve=new Set;return{info:new B(this,Le,Ve),closing:Ve}}),Se=new z.VV((Le)=>{const Ve=new Set,g=new Set;return{info:new U(this,Le,Ve,g),opening:Ve,openingColorized:g}});for(let[Le,Ve]of re){const g=Je.get(Le),ge=Se.get(Ve);g.closing.add(ge.info),ge.opening.add(g.info)}const Pe=Q.colorizedBracketPairs?L(Q.colorizedBracketPairs):re.filter((Le)=>!(Le[0]==="<"&&Le[1]===">"));for(let[Le,Ve]of Pe){const g=Je.get(Le),ge=Se.get(Ve);g.closing.add(ge.info),ge.openingColorized.add(g.info),ge.opening.add(g.info)}this._openingBrackets=new Map([...Je.cachedValues].map(([Le,Ve])=>[Le,Ve.info])),this._closingBrackets=new Map([...Se.cachedValues].map(([Le,Ve])=>[Le,Ve.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(he){return this._openingBrackets.get(he)}getClosingBracketInfo(he){return this._closingBrackets.get(he)}getBracketInfo(he){return this.getOpeningBracketInfo(he)||this.getClosingBracketInfo(he)}getBracketRegExp(he){const Q=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return C.xb(Q,he)}}function L(he){return he.filter(([Q,re])=>Q!==""&&re!=="")}class W{constructor(he,Q){this.config=he,this.bracketText=Q}get languageId(){return this.config.languageId}}class B extends W{constructor(he,Q,re){super(he,Q),this.openedBrackets=re,this.isOpeningBracket=!0}}class U extends W{constructor(he,Q,re,Je){super(he,Q),this.openingBrackets=re,this.openingColorizedBrackets=Je,this.isOpeningBracket=!1}closes(he){return he.config===this.config&&this.openingBrackets.has(he)}closesColorized(he){return he.config===this.config&&this.openingColorizedBrackets.has(he)}getOpeningBrackets(){return[...this.openingBrackets]}}var $=function(he,Q){return function(re,Je){Q(re,Je,he)}};class G{constructor(he){this.languageId=he}affects(he){return!this.languageId||this.languageId===he}}const ie=b.u1("languageConfigurationService");let ee=class extends I.jG{constructor(he,Q){super(),this.configurationService=he,this.languageService=Q,this._registry=this._register(new Be),this.onDidChangeEmitter=this._register(new s.vl),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const re=new Set(Object.values(ne));this._register(this.configurationService.onDidChangeConfiguration((Je)=>{const Se=Je.change.keys.some((Le)=>re.has(Le)),Pe=Je.change.overrides.filter(([Le,Ve])=>Ve.some((g)=>re.has(g))).map(([Le])=>Le);if(Se)this.configurations.clear(),this.onDidChangeEmitter.fire(new G(void 0));else for(let Le of Pe)this.languageService.isRegisteredLanguageId(Le)&&(this.configurations.delete(Le),this.onDidChangeEmitter.fire(new G(Le)))})),this._register(this._registry.onDidChange((Je)=>{this.configurations.delete(Je.languageId),this.onDidChangeEmitter.fire(new G(Je.languageId))}))}register(he,Q,re){return this._registry.register(he,Q,re)}getLanguageConfiguration(he){let Q=this.configurations.get(he);return Q||(Q=function(re,Je,Se,Pe){let Le=Je.getLanguageConfiguration(re);if(!Le){if(!Pe.isRegisteredLanguageId(re))return new Ie(re,{});Le=new Ie(re,{})}const Ve=function(ge,We){const de=We.getValue(ne.brackets,{overrideIdentifier:ge}),be=We.getValue(ne.colorizedBracketPairs,{overrideIdentifier:ge});return{brackets:H(de),colorizedBracketPairs:H(be)}}(Le.languageId,Se),g=ve([Le.underlyingConfig,Ve]);return new Ie(Le.languageId,g)}(he,this._registry,this.configurationService,this.languageService),this.configurations.set(he,Q)),Q}};ee=function(he,Q,re,Je){var Se,Pe=arguments.length,Le=Pe<3?Q:Je===null?Je=Object.getOwnPropertyDescriptor(Q,re):Je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Le=Reflect.decorate(he,Q,re,Je);else for(var Ve=he.length-1;Ve>=0;Ve--)(Se=he[Ve])&&(Le=(Pe<3?Se(Le):Pe>3?Se(Q,re,Le):Se(Q,re))||Le);return Pe>3&&Le&&Object.defineProperty(Q,re,Le),Le}([$(0,x.pG),$(1,k.L)],ee);const ne={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function H(he){if(Array.isArray(he))return he.map((Q)=>{if(Array.isArray(Q)&&Q.length===2)return[Q[0],Q[1]]}).filter((Q)=>!!Q)}function V(he,Q,re){const Je=he.getLineContent(Q);let Se=T.UU(Je);return Se.length>re-1&&(Se=Se.substring(0,re-1)),Se}class Y{constructor(he){this.languageId=he,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(he,Q){const re=new Te(he,Q,++this._order);return this._entries.push(re),this._resolved=null,I.s(()=>{for(let Je=0;Je<this._entries.length;Je++)if(this._entries[Je]===re){this._entries.splice(Je,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const he=this._resolve();he&&(this._resolved=new Ie(this.languageId,he))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(Te.cmp),ve(this._entries.map((he)=>he.configuration)))}}function ve(he){let Q={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(let re of he)Q={comments:re.comments||Q.comments,brackets:re.brackets||Q.brackets,wordPattern:re.wordPattern||Q.wordPattern,indentationRules:re.indentationRules||Q.indentationRules,onEnterRules:re.onEnterRules||Q.onEnterRules,autoClosingPairs:re.autoClosingPairs||Q.autoClosingPairs,surroundingPairs:re.surroundingPairs||Q.surroundingPairs,autoCloseBefore:re.autoCloseBefore||Q.autoCloseBefore,folding:re.folding||Q.folding,colorizedBracketPairs:re.colorizedBracketPairs||Q.colorizedBracketPairs,__electricCharacterSupport:re.__electricCharacterSupport||Q.__electricCharacterSupport};return Q}class Te{constructor(he,Q,re){this.configuration=he,this.priority=Q,this.order=re}static cmp(he,Q){return he.priority===Q.priority?he.order-Q.order:he.priority-Q.priority}}class xe{constructor(he){this.languageId=he}}class Be extends I.jG{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new s.vl),this.onDidChange=this._onDidChange.event,this._register(this.register(P.vH,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(he,Q,re=0){let Je=this._entries.get(he);Je||(Je=new Y(he),this._entries.set(he,Je));const Se=Je.register(Q,re);return this._onDidChange.fire(new xe(he)),I.s(()=>{Se.dispose(),this._onDidChange.fire(new xe(he))})}getLanguageConfiguration(he){return this._entries.get(he)?.getResolvedConfiguration()||null}}class Ie{constructor(he,Q){this.languageId=he,this.underlyingConfig=Q,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new m(this.underlyingConfig):null,this.comments=Ie._handleComments(this.underlyingConfig),this.characterPair=new v(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||J.Ld,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new p(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new te(he,this.underlyingConfig)}getWordDefinition(){return J.Io(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new C.az(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new d(this.brackets)),this._electricCharacter}onEnter(he,Q,re,Je){return this._onEnterSupport?this._onEnterSupport.onEnter(he,Q,re,Je):null}getAutoClosingPairs(){return new M.GB(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(he){return this.characterPair.getAutoCloseBeforeSet(he)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(he){const Q=he.comments;if(!Q)return null;const re={};if(Q.lineComment&&(re.lineCommentToken=Q.lineComment),Q.blockComment){const[Je,Se]=Q.blockComment;re.blockCommentStartToken=Je,re.blockCommentEndToken=Se}return re}}R.v(ie,ee,1)},4957:(dt,pe,h)=>{h.d(pe,{W6:()=>v,vH:()=>E});var s=h(9746),I=h(2106),T=h(7167),J=h(3720),M=h(7142);const v=new class{constructor(){this._onDidChangeLanguages=new I.vl,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(w){return this._languages.push(w),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let C=0,d=this._languages.length;C<d;C++)if(this._languages[C]===w)return void this._languages.splice(C,1)}}}getLanguages(){return this._languages}};T.O.add("editor.modesRegistry",v);const E="plaintext";v.registerLanguage({id:E,extensions:[".txt"],aliases:[s.kg("plainText.alias","Plain Text"),"text"],mimetypes:[J.K.text]}),T.O.as(M.Fd.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},7036:(dt,pe,h)=>{h.d(pe,{$H:()=>T,Lh:()=>J,r3:()=>I});var s=h(4364);const I=new class{clone(){return this}equals(M){return this===M}};function T(M,v){return new s.$M([new s.ou(0,"",M)],v)}function J(M,v){const E=new Uint32Array(2);return E[0]=0,E[1]=(32768|M|33554432)>>>0,new s.rY(E,v===null?I:v)}},9184:(dt,pe,h)=>{function s(J,M){const v=J.getCount(),E=J.findTokenIndexAtOffset(M),w=J.getLanguageId(E);let C=E;for(;C+1<v&&J.getLanguageId(C+1)===w;)C++;let d=E;for(;d>0&&J.getLanguageId(d-1)===w;)d--;return new I(J,w,d,C+1,J.getStartOffset(d),J.getEndOffset(C))}h.d(pe,{BQ:()=>s,Yo:()=>T});class I{constructor(J,M,v,E,w,C){this._scopedLineTokensBrand=void 0,this._actual=J,this.languageId=M,this._firstTokenIndex=v,this._lastTokenIndex=E,this.firstCharOffset=w,this._lastCharOffset=C,this.languageIdCodec=J.languageIdCodec}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(J){return this._actual.getLineContent().substring(0,this.firstCharOffset+J)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(J){return this._actual.findTokenIndexAtOffset(J+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(J){return this._actual.getStandardTokenType(J+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}}function T(J){return!!(3&J)}},1032:(dt,pe,h)=>{h.d(pe,{V:()=>M,WR:()=>E,no:()=>J});var s=h(6844),I=h(9184),T=h(7445);class J{constructor(w,C,d){this._indentRulesSupport=C,this._indentationLineProcessor=new v(w,d)}shouldIncrease(w,C){const d=this._indentationLineProcessor.getProcessedLine(w,C);return this._indentRulesSupport.shouldIncrease(d)}shouldDecrease(w,C){const d=this._indentationLineProcessor.getProcessedLine(w,C);return this._indentRulesSupport.shouldDecrease(d)}shouldIgnore(w,C){const d=this._indentationLineProcessor.getProcessedLine(w,C);return this._indentRulesSupport.shouldIgnore(d)}shouldIndentNextLine(w,C){const d=this._indentationLineProcessor.getProcessedLine(w,C);return this._indentRulesSupport.shouldIndentNextLine(d)}}class M{constructor(w,C){this.model=w,this.indentationLineProcessor=new v(w,C)}getProcessedTokenContextAroundRange(w){return{beforeRangeProcessedTokens:this._getProcessedTokensBeforeRange(w),afterRangeProcessedTokens:this._getProcessedTokensAfterRange(w),previousLineProcessedTokens:this._getProcessedPreviousLineTokens(w)}}_getProcessedTokensBeforeRange(w){this.model.tokenization.forceTokenization(w.startLineNumber);const C=this.model.tokenization.getLineTokens(w.startLineNumber),d=I.BQ(C,w.startColumn-1);let f;if(E(this.model,w.getStartPosition())){const p=w.startColumn-1-d.firstCharOffset,_=d.firstCharOffset,m=_+p;f=C.sliceAndInflate(_,m,0)}else{const p=w.startColumn-1;f=C.sliceAndInflate(0,p,0)}return this.indentationLineProcessor.getProcessedTokens(f)}_getProcessedTokensAfterRange(w){const C=w.isEmpty()?w.getStartPosition():w.getEndPosition();this.model.tokenization.forceTokenization(C.lineNumber);const d=this.model.tokenization.getLineTokens(C.lineNumber),f=I.BQ(d,C.column-1),p=C.column-1-f.firstCharOffset,_=f.firstCharOffset+p,m=f.firstCharOffset+f.getLineLength(),b=d.sliceAndInflate(_,m,0);return this.indentationLineProcessor.getProcessedTokens(b)}_getProcessedPreviousLineTokens(w){this.model.tokenization.forceTokenization(w.startLineNumber);const C=this.model.tokenization.getLineTokens(w.startLineNumber),d=I.BQ(C,w.startColumn-1),f=T.f.createEmpty("",d.languageIdCodec),p=w.startLineNumber-1;if(p===0)return f;if(d.firstCharOffset!==0)return f;const _=((b)=>{this.model.tokenization.forceTokenization(b);const x=this.model.tokenization.getLineTokens(b),k=this.model.getLineMaxColumn(b)-1;return I.BQ(x,k)})(p);if(d.languageId!==_.languageId)return f;const m=_.toIViewLineTokens();return this.indentationLineProcessor.getProcessedTokens(m)}}class v{constructor(w,C){this.model=w,this.languageConfigurationService=C}getProcessedLine(w,C){this.model.tokenization.forceTokenization?.(w);const d=this.model.tokenization.getLineTokens(w);let f=this.getProcessedTokens(d).getLineContent();return C!==void 0&&(f=((p,_)=>{const m=s.UU(p);return _+p.substring(m.length)})(f,C)),f}getProcessedTokens(w){const C=w.getLanguageId(0),d=this.languageConfigurationService.getLanguageConfiguration(C).bracketsNew.getBracketRegExp({global:!0}),f=[];return w.forEach((p)=>{const _=w.getStandardTokenType(p);let m=w.getTokenText(p);((x)=>x===2||x===3||x===1)(_)&&(m=m.replace(d,""));const b=w.getMetadata(p);f.push({text:m,metadata:b})}),T.f.createFromTextAndMetadata(f,w.languageIdCodec)}}function E(w,C){w.tokenization.forceTokenization(C.lineNumber);const d=w.tokenization.getLineTokens(C.lineNumber),f=I.BQ(d,C.column-1),p=f.firstCharOffset===0,_=d.getLanguageId(0)===f.languageId;return!p&&!_}},1804:(dt,pe,h)=>{h.d(pe,{Fu:()=>p,az:()=>M,xb:()=>d});var s=h(6844),I=h(4324),T=h(8061);class J{constructor(_,m,b,x,k,R){this._richEditBracketBrand=void 0,this.languageId=_,this.index=m,this.open=b,this.close=x,this.forwardRegex=k,this.reversedRegex=R,this._openSet=J._toSet(this.open),this._closeSet=J._toSet(this.close)}isOpen(_){return this._openSet.has(_)}isClose(_){return this._closeSet.has(_)}static _toSet(_){const m=new Set;for(let b of _)m.add(b);return m}}class M{constructor(_,m){this._richEditBracketsBrand=void 0;const b=function(x){const k=x.length;x=x.map((L)=>[L[0].toLowerCase(),L[1].toLowerCase()]);const R=[];for(let L=0;L<k;L++)R[L]=L;const P=(L,W)=>{const[B,U]=L,[$,G]=W;return B===$||B===G||U===$||U===G},z=(L,W)=>{const B=Math.min(L,W),U=Math.max(L,W);for(let $=0;$<k;$++)R[$]===U&&(R[$]=B)};for(let L=0;L<k;L++){const W=x[L];for(let B=L+1;B<k;B++)P(W,x[B])&&z(R[L],R[B])}const te=[];for(let L=0;L<k;L++){const W=[],B=[];for(let U=0;U<k;U++)if(R[U]===L){const[$,G]=x[U];W.push($),B.push(G)}W.length>0&&te.push({open:W,close:B})}return te}(m);this.brackets=b.map((x,k)=>new J(_,k,x.open,x.close,function(R,P,z,te){let L=[];L=L.concat(R),L=L.concat(P);for(let W=0,B=L.length;W<B;W++)v(L[W],z,te,L);return L=w(L),L.sort(E),L.reverse(),d(L)}(x.open,x.close,b,k),function(R,P,z,te){let L=[];L=L.concat(R),L=L.concat(P);for(let W=0,B=L.length;W<B;W++)v(L[W],z,te,L);return L=w(L),L.sort(E),L.reverse(),d(L.map(f))}(x.open,x.close,b,k))),this.forwardRegex=function(x){let k=[];for(let R of x){for(let P of R.open)k.push(P);for(let P of R.close)k.push(P)}return k=w(k),d(k)}(this.brackets),this.reversedRegex=function(x){let k=[];for(let R of x){for(let P of R.open)k.push(P);for(let P of R.close)k.push(P)}return k=w(k),d(k.map(f))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(let x of this.brackets){for(let k of x.open)this.textIsBracket[k]=x,this.textIsOpenBracket[k]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,k.length);for(let k of x.close)this.textIsBracket[k]=x,this.textIsOpenBracket[k]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,k.length)}}}function v(_,m,b,x){for(let k=0,R=m.length;k<R;k++){if(k===b)continue;const P=m[k];for(let z of P.open)z.indexOf(_)>=0&&x.push(z);for(let z of P.close)z.indexOf(_)>=0&&x.push(z)}}function E(_,m){return _.length-m.length}function w(_){if(_.length<=1)return _;const m=[],b=new Set;for(let x of _)b.has(x)||(m.push(x),b.add(x));return m}function C(_){const m=/^[\w ]+$/.test(_);return _=s.bm(_),m?`\\b${_}\\b`:_}function d(_,m){const b=`(${_.map(C).join(")|(")})`;return s.OS(b,!0,m)}const f=function(){let _=null,m=null;return function(b){return _!==b&&(_=b,m=function(x){const k=new Uint16Array(x.length);let R=0;for(let P=x.length-1;P>=0;P--)k[R++]=x.charCodeAt(P);return I.b7().decode(k)}(_)),m}}();class p{static _findPrevBracketInText(_,m,b,x){const k=b.match(_);if(!k)return null;const R=b.length-(k.index||0),P=k[0].length,z=x+R;return new T.Q(m,z-P+1,m,z+1)}static findPrevBracketInRange(_,m,b,x,k){const R=f(b).substring(b.length-k,b.length-x);return this._findPrevBracketInText(_,m,R,x)}static findNextBracketInText(_,m,b,x){const k=b.match(_);if(!k)return null;const R=k.index||0,P=k[0].length;if(P===0)return null;const z=x+R;return new T.Q(m,z+1,m,z+1+P)}static findNextBracketInRange(_,m,b,x,k){const R=b.substring(x,k);return this.findNextBracketInText(_,m,R,x)}}},1458:(dt,pe,h)=>{h.d(pe,{Yj:()=>v,s0:()=>E});var s=h(6844),I=h(7445),T=h(4364),J=h(7036);const M={getInitialState:()=>J.r3,tokenizeEncoded:(C,d,f)=>J.Lh(0,f)};async function v(C,d,f){if(!f)return w(d,C.languageIdCodec,M);const p=await T.dG.getOrCreate(f);return w(d,C.languageIdCodec,p||M)}function E(C,d,f,p,_,m,b){let x="<div>",k=p,R=0,P=!0;for(let z=0,te=d.getCount();z<te;z++){const L=d.getEndOffset(z);if(L<=p)continue;let W="";for(;k<L&&k<_;k++){const B=C.charCodeAt(k);switch(B){case 9:{let U=m-(k+R)%m;for(R+=U-1;U>0;)b&&P?(W+="&#160;",P=!1):(W+=" ",P=!0),U--;break}case 60:W+="&lt;",P=!1;break;case 62:W+="&gt;",P=!1;break;case 38:W+="&amp;",P=!1;break;case 0:W+="&#00;",P=!1;break;case 65279:case 8232:case 8233:case 133:W+="\uFFFD",P=!1;break;case 13:W+="&#8203",P=!1;break;case 32:b&&P?(W+="&#160;",P=!1):(W+=" ",P=!0);break;default:W+=String.fromCharCode(B),P=!1}}if(x+=`<span style="${d.getInlineStyle(z,f)}">${W}</span>`,L>_||k>=_)break}return x+="</div>",x}function w(C,d,f){let p='<div class="monaco-tokenized-source">';const _=s.uz(C);let m=f.getInitialState();for(let b=0,x=_.length;b<x;b++){const k=_[b];b>0&&(p+="<br/>");const R=f.tokenizeEncoded(k,!0,m);I.f.convertToEndOffset(R.tokens,k.length);const P=new I.f(R.tokens,k,d).inflate();let z=0;for(let te=0,L=P.getCount();te<L;te++){const W=P.getClassName(te),B=P.getEndOffset(te);p+=`<span class="${W}">${s.ih(k.substring(z,B))}</span>`,z=B}m=R.endState}return p+="</div>",p}},6055:(dt,pe,h)=>{h.d(pe,{A5:()=>s,Dg:()=>v,F4:()=>d,L5:()=>C,VW:()=>T,Wo:()=>w,X2:()=>M,ZS:()=>I,nk:()=>E,vd:()=>f});var s,I,T,J=h(1386);(function(p){p[p.Left=1]="Left",p[p.Center=2]="Center",p[p.Right=4]="Right",p[p.Full=7]="Full"})(s||(s={})),function(p){p[p.Left=1]="Left",p[p.Center=2]="Center",p[p.Right=3]="Right"}(I||(I={})),function(p){p[p.Both=0]="Both",p[p.Right=1]="Right",p[p.Left=2]="Left",p[p.None=3]="None"}(T||(T={}));class M{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(p){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|p.tabSize),p.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|p.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=Boolean(p.insertSpaces),this.defaultEOL=0|p.defaultEOL,this.trimAutoWhitespace=Boolean(p.trimAutoWhitespace),this.bracketPairColorizationOptions=p.bracketPairColorizationOptions}equals(p){return this.tabSize===p.tabSize&&this._indentSizeIsTabSize===p._indentSizeIsTabSize&&this.indentSize===p.indentSize&&this.insertSpaces===p.insertSpaces&&this.defaultEOL===p.defaultEOL&&this.trimAutoWhitespace===p.trimAutoWhitespace&&J.aI(this.bracketPairColorizationOptions,p.bracketPairColorizationOptions)}createChangeEvent(p){return{tabSize:this.tabSize!==p.tabSize,indentSize:this.indentSize!==p.indentSize,insertSpaces:this.insertSpaces!==p.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==p.trimAutoWhitespace}}}class v{constructor(p,_){this._findMatchBrand=void 0,this.range=p,this.matches=_}}function E(p){return p&&typeof p.read=="function"}class w{constructor(p,_,m,b,x,k){this.identifier=p,this.range=_,this.text=m,this.forceMoveMarkers=b,this.isAutoWhitespaceEdit=x,this._isTracked=k}}class C{constructor(p,_,m){this.regex=p,this.wordSeparators=_,this.simpleSearch=m}}class d{constructor(p,_,m){this.reverseEdits=p,this.changes=_,this.trimAutoWhitespaceLineNumbers=m}}function f(p){return!p.isTooLargeForSyncing()&&!p.isForSimpleWidget}},4651:(dt,pe,h)=>{h.d(pe,{Gc:()=>x,Nn:()=>v,Xw:()=>E,rh:()=>b,yF:()=>m});var s=h(4327),I=h(2549),T=h(4883),J=h(756);class M{get length(){return this._length}constructor(k){this._length=k}}class v extends M{static create(k,R,P){let z=k.length;return R&&(z=T.QB(z,R.length)),P&&(z=T.QB(z,P.length)),new v(z,k,R,P,R?R.missingOpeningBracketIds:J.gV.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(k){switch(k){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const k=[];return k.push(this.openingBracket),this.child&&k.push(this.child),this.closingBracket&&k.push(this.closingBracket),k}constructor(k,R,P,z,te){super(k),this.openingBracket=R,this.child=P,this.closingBracket=z,this.missingOpeningBracketIds=te}canBeReused(k){return this.closingBracket!==null&&!k.intersects(this.missingOpeningBracketIds)}deepClone(){return new v(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(k,R){return this.child?this.child.computeMinIndentation(T.QB(k,this.openingBracket.length),R):Number.MAX_SAFE_INTEGER}}class E extends M{static create23(k,R,P,z=!1){let{length:te,missingOpeningBracketIds:L}=k;if(k.listHeight!==R.listHeight)throw new Error("Invalid list heights");if(te=T.QB(te,R.length),L=L.merge(R.missingOpeningBracketIds),P){if(k.listHeight!==P.listHeight)throw new Error("Invalid list heights");te=T.QB(te,P.length),L=L.merge(P.missingOpeningBracketIds)}return z?new C(te,k.listHeight+1,k,R,P,L):new w(te,k.listHeight+1,k,R,P,L)}static getEmpty(){return new f(T.Vp,0,[],J.gV.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(k,R,P){super(k),this.listHeight=R,this._missingOpeningBracketIds=P,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const k=this.childrenLength;if(k===0)return;const R=this.getChild(k-1),P=R.kind===4?R.toMutable():R;return R!==P&&this.setChild(k-1,P),P}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const k=this.getChild(0),R=k.kind===4?k.toMutable():k;return k!==R&&this.setChild(0,R),R}canBeReused(k){if(k.intersects(this.missingOpeningBracketIds))return!1;if(this.childrenLength===0)return!1;let R=this;for(;R.kind===4;){const P=R.childrenLength;if(P===0)throw new s.D7;R=R.getChild(P-1)}return R.canBeReused(k)}handleChildrenChanged(){this.throwIfImmutable();const k=this.childrenLength;let R=this.getChild(0).length,P=this.getChild(0).missingOpeningBracketIds;for(let z=1;z<k;z++){const te=this.getChild(z);R=T.QB(R,te.length),P=P.merge(te.missingOpeningBracketIds)}this._length=R,this._missingOpeningBracketIds=P,this.cachedMinIndentation=-1}computeMinIndentation(k,R){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let P=Number.MAX_SAFE_INTEGER,z=k;for(let te=0;te<this.childrenLength;te++){const L=this.getChild(te);L&&(P=Math.min(P,L.computeMinIndentation(z,R)),z=T.QB(z,L.length))}return this.cachedMinIndentation=P,P}}class w extends E{get childrenLength(){return this._item3!==null?3:2}getChild(k){switch(k){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(k,R){switch(k){case 0:return void(this._item1=R);case 1:return void(this._item2=R);case 2:return void(this._item3=R)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(k,R,P,z,te,L){super(k,R,L),this._item1=P,this._item2=z,this._item3=te}deepClone(){return new w(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(k){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=k,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const k=this._item3;return this._item3=null,this.handleChildrenChanged(),k}prependChildOfSameHeight(k){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=k,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const k=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),k}toMutable(){return this}}class C extends w{toMutable(){return new w(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class d extends E{get childrenLength(){return this._children.length}getChild(k){return this._children[k]}setChild(k,R){this._children[k]=R}get children(){return this._children}constructor(k,R,P,z){super(k,R,z),this._children=P}deepClone(){const k=new Array(this._children.length);for(let R=0;R<this._children.length;R++)k[R]=this._children[R].deepClone();return new d(this.length,this.listHeight,k,this.missingOpeningBracketIds)}appendChildOfSameHeight(k){this.throwIfImmutable(),this._children.push(k),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const k=this._children.pop();return this.handleChildrenChanged(),k}prependChildOfSameHeight(k){this.throwIfImmutable(),this._children.unshift(k),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const k=this._children.shift();return this.handleChildrenChanged(),k}toMutable(){return this}}class f extends d{toMutable(){return new d(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const p=[];class _ extends M{get listHeight(){return 0}get childrenLength(){return 0}getChild(k){return null}get children(){return p}deepClone(){return this}}class m extends _{get kind(){return 0}get missingOpeningBracketIds(){return J.gV.getEmpty()}canBeReused(k){return!0}computeMinIndentation(k,R){const P=T.l4(k),z=(P.columnCount===0?P.lineCount:P.lineCount+1)+1,te=T.eu(T.QB(k,this.length))+1;let L=Number.MAX_SAFE_INTEGER;for(let W=z;W<=te;W++){const B=R.getLineFirstNonWhitespaceColumn(W),U=R.getLineContent(W);if(B===0)continue;const $=I.A.visibleColumnFromColumn(U,B,R.getOptions().tabSize);L=Math.min(L,$)}return L}}class b extends _{static create(k,R,P){return new b(k,R,P)}get kind(){return 1}get missingOpeningBracketIds(){return J.gV.getEmpty()}constructor(k,R,P){super(k),this.bracketInfo=R,this.bracketIds=P}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(k){return!1}computeMinIndentation(k,R){return Number.MAX_SAFE_INTEGER}}class x extends _{get kind(){return 3}constructor(k,R){super(R),this.missingOpeningBracketIds=k}canBeReused(k){return!k.intersects(this.missingOpeningBracketIds)}computeMinIndentation(k,R){return Number.MAX_SAFE_INTEGER}}},2994:(dt,pe,h)=>{h.d(pe,{W:()=>J,c:()=>T});var s=h(8061),I=h(4883);class T{static fromModelContentChanges(v){return v.map((E)=>{const w=s.Q.lift(E.range);return new T(I.VL(w.getStartPosition()),I.VL(w.getEndPosition()),I.rR(E.text))}).reverse()}constructor(v,E,w){this.startOffset=v,this.endOffset=E,this.newLength=w}toString(){return`[${I.l4(this.startOffset)}...${I.l4(this.endOffset)}) -> ${I.l4(this.newLength)}`}}class J{constructor(v){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=v.map((E)=>M.from(E))}getOffsetBeforeChange(v){return this.adjustNextEdit(v),this.translateCurToOld(v)}getDistanceToNextChange(v){this.adjustNextEdit(v);const E=this.edits[this.nextEditIdx],w=E?this.translateOldToCur(E.offsetObj):null;return w===null?null:I.MS(v,w)}translateOldToCur(v){return v.lineCount===this.deltaLineIdxInOld?I.qe(v.lineCount+this.deltaOldToNewLineCount,v.columnCount+this.deltaOldToNewColumnCount):I.qe(v.lineCount+this.deltaOldToNewLineCount,v.columnCount)}translateCurToOld(v){const E=I.l4(v);return E.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?I.qe(E.lineCount-this.deltaOldToNewLineCount,E.columnCount-this.deltaOldToNewColumnCount):I.qe(E.lineCount-this.deltaOldToNewLineCount,E.columnCount)}adjustNextEdit(v){for(;this.nextEditIdx<this.edits.length;){const E=this.edits[this.nextEditIdx],w=this.translateOldToCur(E.endOffsetAfterObj);if(!I.vr(w,v))break;{this.nextEditIdx++;const C=I.l4(w),d=I.l4(this.translateOldToCur(E.endOffsetBeforeObj)),f=C.lineCount-d.lineCount;this.deltaOldToNewLineCount+=f;const p=this.deltaLineIdxInOld===E.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,_=C.columnCount-d.columnCount;this.deltaOldToNewColumnCount=p+_,this.deltaLineIdxInOld=E.endOffsetBeforeObj.lineCount}}}}class M{static from(v){return new M(v.startOffset,v.endOffset,v.newLength)}constructor(v,E,w){this.endOffsetBeforeObj=I.l4(E),this.endOffsetAfterObj=I.l4(I.QB(v,w)),this.offsetObj=I.l4(v)}}},5702:(dt,pe,h)=>{h.d(pe,{Z:()=>E});var s=h(6844),I=h(4651),T=h(4883),J=h(756),M=h(3206);class v{static createFromLanguage(w,C){function d(p){return C.getKey(`${p.languageId}:::${p.bracketText}`)}const f=new Map;for(let p of w.bracketsNew.openingBrackets){const _=T.qe(0,p.bracketText.length),m=d(p),b=J.gV.getEmpty().add(m,J.FD);f.set(p.bracketText,new M.ou(_,1,m,b,I.rh.create(_,p,b)))}for(let p of w.bracketsNew.closingBrackets){const _=T.qe(0,p.bracketText.length);let m=J.gV.getEmpty();const b=p.getOpeningBrackets();for(let x of b)m=m.add(d(x),J.FD);f.set(p.bracketText,new M.ou(_,2,d(b[0]),m,I.rh.create(_,p,m)))}return new v(f)}constructor(w){this.map=w,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const w=[...this.map.keys()];return w.sort(),w.reverse(),w.map((C)=>function(d){let f=s.bm(d);return/^[\w ]+/.test(d)&&(f=`\\b${f}`),/[\w ]+$/.test(d)&&(f=`${f}\\b`),f}(C)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const w=this.getRegExpStr();this._regExpGlobal=w?new RegExp(w,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(w){return this.map.get(w.toLowerCase())}findClosingTokenText(w){for(let[C,d]of this.map)if(d.kind===2&&d.bracketIds.intersects(w))return C}get isEmpty(){return this.map.size===0}}class E{constructor(w,C){this.denseKeyProvider=w,this.getLanguageConfiguration=C,this.languageIdToBracketTokens=new Map}didLanguageChange(w){return this.languageIdToBracketTokens.has(w)}getSingleLanguageBracketTokens(w){let C=this.languageIdToBracketTokens.get(w);return C||(C=v.createFromLanguage(this.getLanguageConfiguration(w),this.denseKeyProvider),this.languageIdToBracketTokens.set(w,C)),C}}},7132:(dt,pe,h)=>{h.d(pe,{M:()=>J});var s=h(3338),I=h(2994),T=h(4883);function J(E,w){if(E.length===0)return w;if(w.length===0)return E;const C=new s.j3(v(E)),d=v(w);d.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let f=C.dequeue();function p(x){if(x===void 0){const R=C.takeWhile((P)=>!0)||[];return f&&R.unshift(f),R}const k=[];for(;f&&!T.Vh(x);){const[R,P]=f.splitAt(x);k.push(R),x=T.MS(R.lengthAfter,x),f=P??C.dequeue()}return T.Vh(x)||k.push(new M(!1,x,x)),k}const _=[];function m(x,k,R){if(_.length>0&&T.wP(_[_.length-1].endOffset,x)){const P=_[_.length-1];_[_.length-1]=new I.c(P.startOffset,k,T.QB(P.newLength,R))}else _.push({startOffset:x,endOffset:k,newLength:R})}let b=T.Vp;for(let x of d){const k=p(x.lengthBefore);if(x.modified){const R=T.pW(k,(z)=>z.lengthBefore),P=T.QB(b,R);m(b,P,x.lengthAfter),b=P}else for(let R of k){const P=b;b=T.QB(b,R.lengthBefore),R.modified&&m(P,b,R.lengthAfter)}}return _}class M{constructor(E,w,C){this.modified=E,this.lengthBefore=w,this.lengthAfter=C}splitAt(E){const w=T.MS(E,this.lengthAfter);return T.wP(w,T.Vp)?[this,void 0]:this.modified?[new M(this.modified,this.lengthBefore,E),new M(this.modified,T.Vp,w)]:[new M(this.modified,E,E),new M(this.modified,w,w)]}toString(){return`${this.modified?"M":"U"}:${T.l4(this.lengthBefore)} -> ${T.l4(this.lengthAfter)}`}}function v(E){const w=[];let C=T.Vp;for(let d of E){const f=T.MS(C,d.startOffset);T.Vh(f)||w.push(new M(!1,f,f));const p=T.MS(d.startOffset,d.endOffset);w.push(new M(!0,p,d.newLength)),C=d.endOffset}return w}},4883:(dt,pe,h)=>{h.d(pe,{C7:()=>J,MS:()=>b,QB:()=>p,Qx:()=>z,VL:()=>P,Vh:()=>v,Vp:()=>M,eu:()=>d,l4:()=>C,o0:()=>R,pW:()=>_,qe:()=>w,rR:()=>te,sS:()=>f,vr:()=>k,wP:()=>m,zG:()=>x});var s=h(6844),I=h(8061),T=h(8357);function J(L,W,B,U){return L!==B?w(B-L,U):w(0,U-W)}const M=0;function v(L){return L===0}const E=67108864;function w(L,W){return L*E+W}function C(L){const W=L,B=Math.floor(W/E),U=W-B*E;return new T.W(B,U)}function d(L){return Math.floor(L/E)}function f(L){return L}function p(L,W){let B=L+W;return W>=E&&(B-=L%E),B}function _(L,W){return L.reduce((B,U)=>p(B,W(U)),M)}function m(L,W){return L===W}function b(L,W){const B=L,U=W;if(U-B<=0)return M;const $=Math.floor(B/E),G=Math.floor(U/E),ie=U-G*E;return $===G?w(0,ie-(B-$*E)):w(G-$,ie)}function x(L,W){return L<W}function k(L,W){return L<=W}function R(L,W){return L>=W}function P(L){return w(L.lineNumber-1,L.column-1)}function z(L,W){const B=L,U=Math.floor(B/E),$=B-U*E,G=W,ie=Math.floor(G/E),ee=G-ie*E;return new I.Q(U+1,$+1,ie+1,ee+1)}function te(L){const W=s.uz(L);return w(W.length-1,W[W.length-1].length)}},8302:(dt,pe,h)=>{h.d(pe,{T:()=>f});var s=h(4651),I=h(2994),T=h(756),J=h(4883);function M(_,m=!1){if(_.length===0)return null;if(_.length===1)return _[0];let b=_.length;for(;b>3;){const x=b>>1;for(let k=0;k<x;k++){const R=k<<1;_[k]=s.Xw.create23(_[R],_[R+1],R+3===b?_[R+2]:null,m)}b=x}return s.Xw.create23(_[0],_[1],b>=3?_[2]:null,m)}function v(_,m){return Math.abs(_.listHeight-m.listHeight)}function E(_,m){return _.listHeight===m.listHeight?s.Xw.create23(_,m,null,!1):_.listHeight>m.listHeight?function(b,x){let k=b=b.toMutable();const R=[];let P;for(;;){if(x.listHeight===k.listHeight){P=x;break}if(k.kind!==4)throw new Error("unexpected");R.push(k),k=k.makeLastElementMutable()}for(let z=R.length-1;z>=0;z--){const te=R[z];P?te.childrenLength>=3?P=s.Xw.create23(te.unappendChild(),P,null,!1):(te.appendChildOfSameHeight(P),P=void 0):te.handleChildrenChanged()}return P?s.Xw.create23(b,P,null,!1):b}(_,m):function(b,x){let k=b=b.toMutable();const R=[];for(;x.listHeight!==k.listHeight;){if(k.kind!==4)throw new Error("unexpected");R.push(k),k=k.makeFirstElementMutable()}let P=x;for(let z=R.length-1;z>=0;z--){const te=R[z];P?te.childrenLength>=3?P=s.Xw.create23(P,te.unprependChild(),null,!1):(te.prependChildOfSameHeight(P),P=void 0):te.handleChildrenChanged()}return P?s.Xw.create23(P,b,null,!1):b}(m,_)}class w{constructor(_){this.lastOffset=J.Vp,this.nextNodes=[_],this.offsets=[J.Vp],this.idxs=[]}readLongestNodeAt(_,m){if(J.zG(_,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=_;;){const b=d(this.nextNodes);if(!b)return;const x=d(this.offsets);if(J.zG(_,x))return;if(J.zG(x,_))if(J.QB(x,b.length)<=_)this.nextNodeAfterCurrent();else{const k=C(b);k!==-1?(this.nextNodes.push(b.getChild(k)),this.offsets.push(x),this.idxs.push(k)):this.nextNodeAfterCurrent()}else{if(m(b))return this.nextNodeAfterCurrent(),b;{const k=C(b);if(k===-1)return void this.nextNodeAfterCurrent();this.nextNodes.push(b.getChild(k)),this.offsets.push(x),this.idxs.push(k)}}}}nextNodeAfterCurrent(){for(;;){const _=d(this.offsets),m=d(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const b=d(this.nextNodes),x=C(b,this.idxs[this.idxs.length-1]);if(x!==-1){this.nextNodes.push(b.getChild(x)),this.offsets.push(J.QB(_,m.length)),this.idxs[this.idxs.length-1]=x;break}this.idxs.pop()}}}function C(_,m=-1){for(;;){if(++m>=_.childrenLength)return-1;if(_.getChild(m))return m}}function d(_){return _.length>0?_[_.length-1]:void 0}function f(_,m,b,x){return new p(_,m,b,x).parseDocument()}class p{constructor(_,m,b,x){if(this.tokenizer=_,this.createImmutableLists=x,this._itemsConstructed=0,this._itemsFromCache=0,b&&x)throw new Error("Not supported");this.oldNodeReader=b?new w(b):void 0,this.positionMapper=new I.W(m)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let _=this.parseList(T.gV.getEmpty(),0);return _||(_=s.Xw.getEmpty()),_}parseList(_,m){const b=[];for(;;){let k=this.tryReadChildFromCache(_);if(!k){const R=this.tokenizer.peek();if(!R||R.kind===2&&R.bracketIds.intersects(_))break;k=this.parseChild(_,m+1)}k.kind===4&&k.childrenLength===0||b.push(k)}return this.oldNodeReader?function(k){if(k.length===0)return null;if(k.length===1)return k[0];let R=0;function P(){if(R>=k.length)return null;const L=R,W=k[L].listHeight;for(R++;R<k.length&&k[R].listHeight===W;)R++;return R-L>=2?M(L===0&&R===k.length?k:k.slice(L,R),!1):k[L]}let z=P(),te=P();if(!te)return z;for(let L=P();L;L=P())v(z,te)<=v(te,L)?(z=E(z,te),te=L):te=E(te,L);return E(z,te)}(b):M(b,this.createImmutableLists)}tryReadChildFromCache(_){if(this.oldNodeReader){const m=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(m===null||!J.Vh(m)){const b=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(x)=>!(m!==null&&!J.zG(x.length,m))&&x.canBeReused(_));if(b)return this._itemsFromCache++,this.tokenizer.skip(b.length),b}}}parseChild(_,m){this._itemsConstructed++;const b=this.tokenizer.read();switch(b.kind){case 2:return new s.Gc(b.bracketIds,b.length);case 0:return b.astNode;case 1:{if(m>300)return new s.yF(b.length);const x=_.merge(b.bracketIds),k=this.parseList(x,m+1),R=this.tokenizer.peek();return R&&R.kind===2&&(R.bracketId===b.bracketId||R.bracketIds.intersects(b.bracketIds))?(this.tokenizer.read(),s.Nn.create(b.astNode,k,R.astNode)):s.Nn.create(b.astNode,k,null)}default:throw new Error("unexpected")}}}},756:(dt,pe,h)=>{h.d(pe,{FD:()=>T,Mg:()=>J,gV:()=>I});const s=[];class I{static{this.cache=new Array(129)}static create(M,v){if(M<=128&&v.length===0){let E=I.cache[M];return E||(E=new I(M,v),I.cache[M]=E),E}return new I(M,v)}static{this.empty=I.create(0,s)}static getEmpty(){return this.empty}constructor(M,v){this.items=M,this.additionalItems=v}add(M,v){const E=v.getKey(M);let w=E>>5;if(w===0){const d=1<<E|this.items;return d===this.items?this:I.create(d,this.additionalItems)}w--;const C=this.additionalItems.slice(0);for(;C.length<w;)C.push(0);return C[w]|=1<<(31&E),I.create(this.items,C)}merge(M){const v=this.items|M.items;if(this.additionalItems===s&&M.additionalItems===s)return v===this.items?this:v===M.items?M:I.create(v,s);const E=[];for(let w=0;w<Math.max(this.additionalItems.length,M.additionalItems.length);w++){const C=this.additionalItems[w]||0,d=M.additionalItems[w]||0;E.push(C|d)}return I.create(v,E)}intersects(M){if(this.items&M.items)return!0;for(let v=0;v<Math.min(this.additionalItems.length,M.additionalItems.length);v++)if(this.additionalItems[v]&M.additionalItems[v])return!0;return!1}}const T={getKey:(M)=>M};class J{constructor(){this.items=new Map}getKey(M){let v=this.items.get(M);return v===void 0&&(v=this.items.size,this.items.set(M,v)),v}}},3206:(dt,pe,h)=>{h.d(pe,{_:()=>C,ou:()=>v,tk:()=>E});var s=h(4327),I=h(5910),T=h(4651),J=h(4883),M=h(756);class v{constructor(d,f,p,_,m){this.length=d,this.kind=f,this.bracketId=p,this.bracketIds=_,this.astNode=m}}class E{constructor(d,f){this.textModel=d,this.bracketTokens=f,this.reader=new w(this.textModel,this.bracketTokens),this._offset=J.Vp,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=d.getLineCount(),this.textBufferLastLineLength=d.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return J.qe(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(d){this.didPeek=!1,this._offset=J.QB(this._offset,d);const f=J.l4(this._offset);this.reader.setPosition(f.lineCount,f.columnCount)}read(){let d;return this.peeked?(this.didPeek=!1,d=this.peeked):d=this.reader.read(),d&&(this._offset=J.QB(this._offset,d.length)),d}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class w{constructor(d,f){this.textModel=d,this.bracketTokens=f,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=d.getLineCount(),this.textBufferLastLineLength=d.getLineLength(this.textBufferLineCount)}setPosition(d,f){d===this.lineIdx?(this.lineCharOffset=f,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=d,this.lineCharOffset=f,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const m=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=J.sS(m.length),m}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const d=this.lineIdx,f=this.lineCharOffset;let p=0;for(;;){const m=this.lineTokens,b=m.getCount();let x=null;if(this.lineTokenOffset<b){const k=m.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<b&&k===m.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const R=I.x.getTokenType(k)===0,P=I.x.containsBalancedBrackets(k),z=m.getEndOffset(this.lineTokenOffset);if(P&&R&&this.lineCharOffset<z){const te=m.getLanguageId(this.lineTokenOffset),L=this.line.substring(this.lineCharOffset,z),W=this.bracketTokens.getSingleLanguageBracketTokens(te),B=W.regExpGlobal;if(B){B.lastIndex=0;const U=B.exec(L);U&&(x=W.getToken(U[0]),x&&(this.lineCharOffset+=U.index))}}if(p+=z-this.lineCharOffset,x){if(d!==this.lineIdx||f!==this.lineCharOffset){this.peekedToken=x;break}return this.lineCharOffset+=J.sS(x.length),x}this.lineTokenOffset++,this.lineCharOffset=z}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,p+=33,p>1000)break}if(p>1500)break}const _=J.C7(d,f,this.lineIdx,this.lineCharOffset);return new v(_,0,-1,M.gV.getEmpty(),new T.yF(_))}}class C{constructor(d,f){this.text=d,this._offset=J.Vp,this.idx=0;const p=f.getRegExpStr(),_=p?new RegExp(p+"|\n","gi"):null,m=[];let b,x=0,k=0,R=0,P=0;const z=[];for(let W=0;W<60;W++)z.push(new v(J.qe(0,W),0,-1,M.gV.getEmpty(),new T.yF(J.qe(0,W))));const te=[];for(let W=0;W<60;W++)te.push(new v(J.qe(1,W),0,-1,M.gV.getEmpty(),new T.yF(J.qe(1,W))));if(_)for(_.lastIndex=0;(b=_.exec(d))!==null;){const W=b.index,B=b[0];if(B==="\n")x++,k=W+1;else{if(R!==W){let U;if(P===x){const $=W-R;if($<z.length)U=z[$];else{const G=J.qe(0,$);U=new v(G,0,-1,M.gV.getEmpty(),new T.yF(G))}}else{const $=x-P,G=W-k;if($===1&&G<te.length)U=te[G];else{const ie=J.qe($,G);U=new v(ie,0,-1,M.gV.getEmpty(),new T.yF(ie))}}m.push(U)}m.push(f.getToken(B)),R=W+B.length,P=x}}const L=d.length;if(R!==L){const W=P===x?J.qe(0,L-R):J.qe(x-P,L-k);m.push(new v(W,0,-1,M.gV.getEmpty(),new T.yF(W)))}this.length=J.qe(x,L-k),this.tokens=m}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(d){throw new s.EM}}},4296:(dt,pe,h)=>{h.d(pe,{Th:()=>_,z8:()=>m});var s=h(9746),I=h(4327),T=h(3702),J=h(7264),M=h(6949),v=h(2802),E=h(2467);function w(b){return b.toString()}class C{static create(b,x){const k=b.getAlternativeVersionId(),R=p(b);return new C(k,k,R,R,x,x,[])}constructor(b,x,k,R,P,z,te){this.beforeVersionId=b,this.afterVersionId=x,this.beforeEOL=k,this.afterEOL=R,this.beforeCursorState=P,this.afterCursorState=z,this.changes=te}append(b,x,k,R,P){x.length>0&&(this.changes=M.x(this.changes,x)),this.afterEOL=k,this.afterVersionId=R,this.afterCursorState=P}static _writeSelectionsSize(b){return 4+16*(b?b.length:0)}static _writeSelections(b,x,k){if(v.Sw(b,x?x.length:0,k),k+=4,x)for(let R of x)v.Sw(b,R.selectionStartLineNumber,k),k+=4,v.Sw(b,R.selectionStartColumn,k),k+=4,v.Sw(b,R.positionLineNumber,k),k+=4,v.Sw(b,R.positionColumn,k),k+=4;return k}static _readSelections(b,x,k){const R=v.bb(b,x);x+=4;for(let P=0;P<R;P++){const z=v.bb(b,x);x+=4;const te=v.bb(b,x);x+=4;const L=v.bb(b,x);x+=4;const W=v.bb(b,x);x+=4,k.push(new T.L(z,te,L,W))}return x}serialize(){let b=10+C._writeSelectionsSize(this.beforeCursorState)+C._writeSelectionsSize(this.afterCursorState)+4;for(let R of this.changes)b+=R.writeSize();const x=new Uint8Array(b);let k=0;v.Sw(x,this.beforeVersionId,k),k+=4,v.Sw(x,this.afterVersionId,k),k+=4,v.Gs(x,this.beforeEOL,k),k+=1,v.Gs(x,this.afterEOL,k),k+=1,k=C._writeSelections(x,this.beforeCursorState,k),k=C._writeSelections(x,this.afterCursorState,k),v.Sw(x,this.changes.length,k),k+=4;for(let R of this.changes)k=R.write(x,k);return x.buffer}static deserialize(b){const x=new Uint8Array(b);let k=0;const R=v.bb(x,k);k+=4;const P=v.bb(x,k);k+=4;const z=v.pJ(x,k);k+=1;const te=v.pJ(x,k);k+=1;const L=[];k=C._readSelections(x,k,L);const W=[];k=C._readSelections(x,k,W);const B=v.bb(x,k);k+=4;const U=[];for(let $=0;$<B;$++)k=M.k.read(x,k,U);return new C(R,P,z,te,L,W,U)}}class d{get type(){return 0}get resource(){return J.r.isUri(this.model)?this.model:this.model.uri}constructor(b,x,k,R){this.label=b,this.code=x,this.model=k,this._data=C.create(k,R)}toString(){return(this._data instanceof C?this._data:C.deserialize(this._data)).changes.map((b)=>b.toString()).join(", ")}matchesResource(b){return(J.r.isUri(this.model)?this.model:this.model.uri).toString()===b.toString()}setModel(b){this.model=b}canAppend(b){return this.model===b&&this._data instanceof C}append(b,x,k,R,P){this._data instanceof C&&this._data.append(b,x,k,R,P)}close(){this._data instanceof C&&(this._data=this._data.serialize())}open(){this._data instanceof C||(this._data=C.deserialize(this._data))}undo(){if(J.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const b=C.deserialize(this._data);this.model._applyUndo(b.changes,b.beforeEOL,b.beforeVersionId,b.beforeCursorState)}redo(){if(J.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const b=C.deserialize(this._data);this.model._applyRedo(b.changes,b.afterEOL,b.afterVersionId,b.afterCursorState)}heapSize(){return this._data instanceof C&&(this._data=this._data.serialize()),this._data.byteLength+168}}class f{get resources(){return this._editStackElementsArr.map((b)=>b.resource)}constructor(b,x,k){this.label=b,this.code=x,this.type=1,this._isOpen=!0,this._editStackElementsArr=k.slice(0),this._editStackElementsMap=new Map;for(let R of this._editStackElementsArr){const P=w(R.resource);this._editStackElementsMap.set(P,R)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(b){const x=w(b);return this._editStackElementsMap.has(x)}setModel(b){const x=w(J.r.isUri(b)?b:b.uri);this._editStackElementsMap.has(x)&&this._editStackElementsMap.get(x).setModel(b)}canAppend(b){if(!this._isOpen)return!1;const x=w(b.uri);return!!this._editStackElementsMap.has(x)&&this._editStackElementsMap.get(x).canAppend(b)}append(b,x,k,R,P){const z=w(b.uri);this._editStackElementsMap.get(z).append(b,x,k,R,P)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(let b of this._editStackElementsArr)b.undo()}redo(){for(let b of this._editStackElementsArr)b.redo()}heapSize(b){const x=w(b);return this._editStackElementsMap.has(x)?this._editStackElementsMap.get(x).heapSize():0}split(){return this._editStackElementsArr}toString(){const b=[];for(let x of this._editStackElementsArr)b.push(`${E.P8(x.resource)}: ${x}`);return`{${b.join(", ")}}`}}function p(b){return b.getEOL()==="\n"?0:1}function _(b){return!!b&&(b instanceof d||b instanceof f)}class m{constructor(b,x){this._model=b,this._undoRedoService=x}pushStackElement(){const b=this._undoRedoService.getLastElement(this._model.uri);_(b)&&b.close()}popStackElement(){const b=this._undoRedoService.getLastElement(this._model.uri);_(b)&&b.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(b,x){const k=this._undoRedoService.getLastElement(this._model.uri);if(_(k)&&k.canAppend(this._model))return k;const R=new d(s.kg("edit","Typing"),"undoredo.textBufferEdit",this._model,b);return this._undoRedoService.pushElement(R,x),R}pushEOL(b){const x=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(b),x.append(this._model,[],p(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(b,x,k,R){const P=this._getOrCreateEditStackElement(b,R),z=this._model.applyEdits(x,!0),te=m._computeCursorState(k,z),L=z.map((W,B)=>({index:B,textChange:W.textChange}));return L.sort((W,B)=>W.textChange.oldPosition===B.textChange.oldPosition?W.index-B.index:W.textChange.oldPosition-B.textChange.oldPosition),P.append(this._model,L.map((W)=>W.textChange),p(this._model),this._model.getAlternativeVersionId(),te),te}static _computeCursorState(b,x){try{return b?b(x):null}catch(k){return I.dz(k),null}}}},2818:(dt,pe,h)=>{h.d(pe,{P:()=>C,k:()=>d});var s=h(7393),I=h(6844),T=h(2549),J=h(8061),M=h(2177),v=h(969),E=h(779),w=h(4327);class C extends M._{constructor(f,p){super(),this.textModel=f,this.languageConfigurationService=p}getLanguageConfiguration(f){return this.languageConfigurationService.getLanguageConfiguration(f)}_computeIndentLevel(f){return v.G(this.textModel.getLineContent(f+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(f,p,_){this.assertNotDisposed();const m=this.textModel.getLineCount();if(f<1||f>m)throw new w.D7("Illegal value for lineNumber");const b=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,x=Boolean(b&&b.offSide);let k=-2,R=-1,P=-2,z=-1;const te=(Y)=>{if(k!==-1&&(k===-2||k>Y-1)){k=-1,R=-1;for(let ve=Y-2;ve>=0;ve--){const Te=this._computeIndentLevel(ve);if(Te>=0){k=ve,R=Te;break}}}if(P===-2){P=-1,z=-1;for(let ve=Y;ve<m;ve++){const Te=this._computeIndentLevel(ve);if(Te>=0){P=ve,z=Te;break}}}};let L=-2,W=-1,B=-2,U=-1;const $=(Y)=>{if(L===-2){L=-1,W=-1;for(let ve=Y-2;ve>=0;ve--){const Te=this._computeIndentLevel(ve);if(Te>=0){L=ve,W=Te;break}}}if(B!==-1&&(B===-2||B<Y-1)){B=-1,U=-1;for(let ve=Y;ve<m;ve++){const Te=this._computeIndentLevel(ve);if(Te>=0){B=ve,U=Te;break}}}};let G=0,ie=!0,ee=0,ne=!0,H=0,V=0;for(let Y=0;ie||ne;Y++){const ve=f-Y,Te=f+Y;Y>1&&(ve<1||ve<p)&&(ie=!1),Y>1&&(Te>m||Te>_)&&(ne=!1),Y>50000&&(ie=!1,ne=!1);let xe=-1;if(ie&&ve>=1){const Ie=this._computeIndentLevel(ve-1);Ie>=0?(P=ve-1,z=Ie,xe=Math.ceil(Ie/this.textModel.getOptions().indentSize)):(te(ve),xe=this._getIndentLevelForWhitespaceLine(x,R,z))}let Be=-1;if(ne&&Te<=m){const Ie=this._computeIndentLevel(Te-1);Ie>=0?(L=Te-1,W=Ie,Be=Math.ceil(Ie/this.textModel.getOptions().indentSize)):($(Te),Be=this._getIndentLevelForWhitespaceLine(x,W,U))}if(Y!==0){if(Y===1){if(Te<=m&&Be>=0&&V+1===Be){ie=!1,G=Te,ee=Te,H=Be;continue}if(ve>=1&&xe>=0&&xe-1===V){ne=!1,G=ve,ee=ve,H=xe;continue}if(G=f,ee=f,H=V,H===0)return{startLineNumber:G,endLineNumber:ee,indent:H}}ie&&(xe>=H?G=ve:ie=!1),ne&&(Be>=H?ee=Te:ne=!1)}else V=xe}return{startLineNumber:G,endLineNumber:ee,indent:H}}getLinesBracketGuides(f,p,_,m){const b=[];for(let z=f;z<=p;z++)b.push([]);const x=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new J.Q(f,1,p,this.textModel.getLineMaxColumn(p))).toArray();let k;if(_&&x.length>0){const z=(f<=_.lineNumber&&_.lineNumber<=p?x:this.textModel.bracketPairs.getBracketPairsInRange(J.Q.fromPositions(_)).toArray()).filter((te)=>J.Q.strictContainsPosition(te.range,_));k=s.Uk(z,(te)=>!0)?.range}const R=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,P=new d;for(let z of x){if(!z.closingBracketRange)continue;const te=k&&z.range.equalsRange(k);if(!te&&!m.includeInactive)continue;const L=P.getInlineClassName(z.nestingLevel,z.nestingLevelOfEqualBracketType,R)+(m.highlightActive&&te?" "+P.activeClassName:""),W=z.openingBracketRange.getStartPosition(),B=z.closingBracketRange.getStartPosition(),U=m.horizontalGuides===E.N6.Enabled||m.horizontalGuides===E.N6.EnabledForActive&&te;if(z.range.startLineNumber===z.range.endLineNumber){U&&b[z.range.startLineNumber-f].push(new E.TH(-1,z.openingBracketRange.getEndPosition().column,L,new E.pv(!1,B.column),-1,-1));continue}const $=this.getVisibleColumnFromPosition(B),G=this.getVisibleColumnFromPosition(z.openingBracketRange.getStartPosition()),ie=Math.min(G,$,z.minVisibleColumnIndentation+1);let ee=!1;I.HG(this.textModel.getLineContent(z.closingBracketRange.startLineNumber))<z.closingBracketRange.startColumn-1&&(ee=!0);const ne=Math.max(W.lineNumber,f),H=Math.min(B.lineNumber,p),V=ee?1:0;for(let Y=ne;Y<H+V;Y++)b[Y-f].push(new E.TH(ie,-1,L,null,Y===W.lineNumber?W.column:-1,Y===B.lineNumber?B.column:-1));U&&(W.lineNumber>=f&&G>ie&&b[W.lineNumber-f].push(new E.TH(ie,-1,L,new E.pv(!1,W.column),-1,-1)),B.lineNumber<=p&&$>ie&&b[B.lineNumber-f].push(new E.TH(ie,-1,L,new E.pv(!ee,B.column),-1,-1)))}for(let z of b)z.sort((te,L)=>te.visibleColumn-L.visibleColumn);return b}getVisibleColumnFromPosition(f){return T.A.visibleColumnFromColumn(this.textModel.getLineContent(f.lineNumber),f.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(f,p){this.assertNotDisposed();const _=this.textModel.getLineCount();if(f<1||f>_)throw new Error("Illegal value for startLineNumber");if(p<1||p>_)throw new Error("Illegal value for endLineNumber");const m=this.textModel.getOptions(),b=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,x=Boolean(b&&b.offSide),k=new Array(p-f+1);let R=-2,P=-1,z=-2,te=-1;for(let L=f;L<=p;L++){const W=L-f,B=this._computeIndentLevel(L-1);if(B>=0)R=L-1,P=B,k[W]=Math.ceil(B/m.indentSize);else{if(R===-2){R=-1,P=-1;for(let U=L-2;U>=0;U--){const $=this._computeIndentLevel(U);if($>=0){R=U,P=$;break}}}if(z!==-1&&(z===-2||z<L-1)){z=-1,te=-1;for(let U=L;U<_;U++){const $=this._computeIndentLevel(U);if($>=0){z=U,te=$;break}}}k[W]=this._getIndentLevelForWhitespaceLine(x,P,te)}}return k}_getIndentLevelForWhitespaceLine(f,p,_){const m=this.textModel.getOptions();return p===-1||_===-1?0:p<_?1+Math.floor(p/m.indentSize):p===_||f?Math.ceil(_/m.indentSize):1+Math.floor(_/m.indentSize)}}class d{constructor(){this.activeClassName="indent-active"}getInlineClassName(f,p,_){return this.getInlineClassNameOfLevel(_?p:f)}getInlineClassNameOfLevel(f){return"bracket-indent-guide lvl-"+f%30}}},6158:(dt,pe,h)=>{h.d(pe,{N:()=>T,c2:()=>J});var s=h(3338),I=h(7512);class T{constructor(v){this.values=v,this.prefixSum=new Uint32Array(v.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(v,E){v=I.j(v);const w=this.values,C=this.prefixSum,d=E.length;return d!==0&&(this.values=new Uint32Array(w.length+d),this.values.set(w.subarray(0,v),0),this.values.set(w.subarray(v),v+d),this.values.set(E,v),v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(C.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(v,E){return v=I.j(v),E=I.j(E),this.values[v]!==E&&(this.values[v]=E,v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),!0)}removeValues(v,E){v=I.j(v),E=I.j(E);const w=this.values,C=this.prefixSum;if(v>=w.length)return!1;const d=w.length-v;return E>=d&&(E=d),E!==0&&(this.values=new Uint32Array(w.length-E),this.values.set(w.subarray(0,v),0),this.values.set(w.subarray(v+E),v),this.prefixSum=new Uint32Array(this.values.length),v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(C.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(v){return v<0?0:(v=I.j(v),this._getPrefixSum(v))}_getPrefixSum(v){if(v<=this.prefixSumValidIndex[0])return this.prefixSum[v];let E=this.prefixSumValidIndex[0]+1;E===0&&(this.prefixSum[0]=this.values[0],E++),v>=this.values.length&&(v=this.values.length-1);for(let w=E;w<=v;w++)this.prefixSum[w]=this.prefixSum[w-1]+this.values[w];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],v),this.prefixSum[v]}getIndexOf(v){v=Math.floor(v),this.getTotalSum();let E=0,w=this.values.length-1,C=0,d=0,f=0;for(;E<=w;)if(C=E+(w-E)/2|0,d=this.prefixSum[C],f=d-this.values[C],v<f)w=C-1;else{if(!(v>=d))break;E=C+1}return new M(C,v-f)}}class J{constructor(v){this._values=v,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(v){return this._ensureValid(),v===0?0:this._prefixSum[v-1]}getIndexOf(v){this._ensureValid();const E=this._indexBySum[v],w=E>0?this._prefixSum[E-1]:0;return new M(E,v-w)}removeValues(v,E){this._values.splice(v,E),this._invalidate(v)}insertValues(v,E){this._values=s.nK(this._values,v,E),this._invalidate(v)}_invalidate(v){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,v-1)}_ensureValid(){if(!this._isValid){for(let v=this._validEndIndex+1,E=this._values.length;v<E;v++){const w=this._values[v],C=v>0?this._prefixSum[v-1]:0;this._prefixSum[v]=C+w;for(let d=0;d<w;d++)this._indexBySum[C+d]=v}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(v,E){this._values[v]!==E&&(this._values[v]=E,this._invalidate(v))}}class M{constructor(v,E){this.index=v,this.remainder=E,this._prefixSumIndexOfResultBrand=void 0,this.index=v,this.remainder=E}}},1907:(dt,pe,h)=>{h.d(pe,{Ho:()=>vn,kI:()=>$n,Bz:()=>Ot});var s=h(3338),I=h(4901),T=h(4327),J=h(2106),M=h(998),v=h(6844),E=h(7264),w=h(3902),C=h(7999),d=h(5365),f=h(8061),p=h(3702),_=h(2590),m=h(7922),b=h(2394),x=h(6055),k=h(9184),R=h(1804);class P{constructor(N,Z,j,_e){this.range=N,this.nestingLevel=Z,this.nestingLevelOfEqualBracketType=j,this.isInvalid=_e}}class z{constructor(N,Z,j,_e,Ne,Oe){this.range=N,this.openingBracketRange=Z,this.closingBracketRange=j,this.nestingLevel=_e,this.nestingLevelOfEqualBracketType=Ne,this.bracketPairNode=Oe}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class te extends z{constructor(N,Z,j,_e,Ne,Oe,Ke){super(N,Z,j,_e,Ne,Oe),this.minVisibleColumnIndentation=Ke}}var L=h(2994),W=h(5702),B=h(4883),U=h(8302),$=h(756),G=h(3206),ie=h(7132);class ee extends M.jG{didLanguageChange(N){return this.brackets.didLanguageChange(N)}constructor(N,Z){if(super(),this.textModel=N,this.getLanguageConfiguration=Z,this.didChangeEmitter=new J.vl,this.denseKeyProvider=new $.Mg,this.brackets=new W.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],N.tokenization.hasTokens)N.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const j=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),_e=new G._(this.textModel.getValue(),j);this.initialAstWithoutTokens=U.T(_e,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const N=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,N||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:N}){const Z=N.map((j)=>new L.c(B.qe(j.fromLineNumber-1,0),B.qe(j.toLineNumber,0),B.qe(j.toLineNumber-j.fromLineNumber+1,0)));this.handleEdits(Z,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(N){const Z=L.c.fromModelContentChanges(N.changes);this.handleEdits(Z,!1)}handleEdits(N,Z){const j=ie.M(this.queuedTextEdits,N);this.queuedTextEdits=j,this.initialAstWithoutTokens&&!Z&&(this.queuedTextEditsForInitialAstWithoutTokens=ie.M(this.queuedTextEditsForInitialAstWithoutTokens,N))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(N,Z,j){const _e=Z,Ne=new G.tk(this.textModel,this.brackets);return U.T(Ne,N,_e,j)}getBracketsInRange(N,Z){this.flushQueue();const j=B.qe(N.startLineNumber-1,N.startColumn-1),_e=B.qe(N.endLineNumber-1,N.endColumn-1);return new s.c1((Ne)=>{const Oe=this.initialAstWithoutTokens||this.astWithTokens;V(Oe,B.Vp,Oe.length,j,_e,Ne,0,0,new Map,Z)})}getBracketPairsInRange(N,Z){this.flushQueue();const j=B.VL(N.getStartPosition()),_e=B.VL(N.getEndPosition());return new s.c1((Ne)=>{const Oe=this.initialAstWithoutTokens||this.astWithTokens,Ke=new Y(Ne,Z,this.textModel);ve(Oe,B.Vp,Oe.length,j,_e,Ke,0,new Map)})}getFirstBracketAfter(N){this.flushQueue();const Z=this.initialAstWithoutTokens||this.astWithTokens;return H(Z,B.Vp,Z.length,B.VL(N))}getFirstBracketBefore(N){this.flushQueue();const Z=this.initialAstWithoutTokens||this.astWithTokens;return ne(Z,B.Vp,Z.length,B.VL(N))}}function ne(N,Z,j,_e){if(N.kind===4||N.kind===2){const Ne=[];for(let Oe of N.children)j=B.QB(Z,Oe.length),Ne.push({nodeOffsetStart:Z,nodeOffsetEnd:j}),Z=j;for(let Oe=Ne.length-1;Oe>=0;Oe--){const{nodeOffsetStart:Ke,nodeOffsetEnd:wt}=Ne[Oe];if(B.zG(Ke,_e)){const kt=ne(N.children[Oe],Ke,wt,_e);if(kt)return kt}}return null}if(N.kind===3)return null;if(N.kind===1){const Ne=B.Qx(Z,j);return{bracketInfo:N.bracketInfo,range:Ne}}return null}function H(N,Z,j,_e){if(N.kind===4||N.kind===2){for(let Ne of N.children){if(j=B.QB(Z,Ne.length),B.zG(_e,j)){const Oe=H(Ne,Z,j,_e);if(Oe)return Oe}Z=j}return null}if(N.kind===3)return null;if(N.kind===1){const Ne=B.Qx(Z,j);return{bracketInfo:N.bracketInfo,range:Ne}}return null}function V(N,Z,j,_e,Ne,Oe,Ke,wt,kt,Et,st=!1){if(Ke>200)return!0;e:for(;;)switch(N.kind){case 4:{const Bt=N.childrenLength;for(let Rt=0;Rt<Bt;Rt++){const en=N.getChild(Rt);if(en){if(j=B.QB(Z,en.length),B.vr(Z,Ne)&&B.o0(j,_e)){if(B.o0(j,Ne)){N=en;continue e}if(!V(en,Z,j,_e,Ne,Oe,Ke,0,kt,Et))return!1}Z=j}}return!0}case 2:{const Bt=!Et||!N.closingBracket||N.closingBracket.bracketInfo.closesColorized(N.openingBracket.bracketInfo);let Rt=0;if(kt){let hn=kt.get(N.openingBracket.text);hn===void 0&&(hn=0),Rt=hn,Bt&&(hn++,kt.set(N.openingBracket.text,hn))}const en=N.childrenLength;for(let hn=0;hn<en;hn++){const je=N.getChild(hn);if(je){if(j=B.QB(Z,je.length),B.vr(Z,Ne)&&B.o0(j,_e)){if(B.o0(j,Ne)&&je.kind!==1){N=je,Bt?(Ke++,wt=Rt+1):wt=Rt;continue e}if((Bt||je.kind!==1||!N.closingBracket)&&!V(je,Z,j,_e,Ne,Oe,Bt?Ke+1:Ke,Bt?Rt+1:Rt,kt,Et,!N.closingBracket))return!1}Z=j}}return kt?.set(N.openingBracket.text,Rt),!0}case 3:{const Bt=B.Qx(Z,j);return Oe(new P(Bt,Ke-1,0,!0))}case 1:{const Bt=B.Qx(Z,j);return Oe(new P(Bt,Ke-1,wt-1,st))}case 0:return!0}}class Y{constructor(N,Z,j){this.push=N,this.includeMinIndentation=Z,this.textModel=j}}function ve(N,Z,j,_e,Ne,Oe,Ke,wt){if(Ke>200)return!0;let kt=!0;if(N.kind===2){let Et=0;if(wt){let Rt=wt.get(N.openingBracket.text);Rt===void 0&&(Rt=0),Et=Rt,Rt++,wt.set(N.openingBracket.text,Rt)}const st=B.QB(Z,N.openingBracket.length);let Bt=-1;if(Oe.includeMinIndentation&&(Bt=N.computeMinIndentation(Z,Oe.textModel)),kt=Oe.push(new te(B.Qx(Z,j),B.Qx(Z,st),N.closingBracket?B.Qx(B.QB(st,N.child?.length||B.Vp),j):void 0,Ke,Et,N,Bt)),Z=st,kt&&N.child){const Rt=N.child;if(j=B.QB(Z,Rt.length),B.vr(Z,Ne)&&B.o0(j,_e)&&(kt=ve(Rt,Z,j,_e,Ne,Oe,Ke+1,wt),!kt))return!1}wt?.set(N.openingBracket.text,Et)}else{let Et=Z;for(let st of N.children){const Bt=Et;if(Et=B.QB(Et,st.length),B.vr(Bt,Ne)&&B.vr(_e,Et)&&(kt=ve(st,Bt,Et,_e,Ne,Oe,Ke,wt),!kt))return!1}}return kt}class Te extends M.jG{get canBuildAST(){return this.textModel.getValueLength()<=5000000}constructor(N,Z){super(),this.textModel=N,this.languageConfigurationService=Z,this.bracketPairsTree=this._register(new M.HE),this.onDidChangeEmitter=new J.vl,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1}handleLanguageConfigurationServiceChange(N){N.languageId&&!this.bracketPairsTree.value?.object.didLanguageChange(N.languageId)||(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(N){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(N){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(N){this.bracketPairsTree.value?.object.handleContentChanged(N)}handleDidChangeBackgroundTokenizationState(){this.bracketPairsTree.value?.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(N){this.bracketPairsTree.value?.object.handleDidChangeTokens(N)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const j=new M.Cm;this.bracketPairsTree.value=(N=j.add(new ee(this.textModel,(_e)=>this.languageConfigurationService.getLanguageConfiguration(_e))),Z=j,{object:N,dispose:()=>Z?.dispose()}),j.add(this.bracketPairsTree.value.object.onDidChange((_e)=>this.onDidChangeEmitter.fire(_e))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire());var N,Z}getBracketPairsInRange(N){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(N,!1)||s.c1.empty}getBracketPairsInRangeWithMinIndentation(N){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(N,!0)||s.c1.empty}getBracketsInRange(N,Z=!1){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketsInRange(N,Z)||s.c1.empty}findMatchingBracketUp(N,Z,j){const _e=this.textModel.validatePosition(Z),Ne=this.textModel.getLanguageIdAtPosition(_e.lineNumber,_e.column);if(this.canBuildAST){const Oe=this.languageConfigurationService.getLanguageConfiguration(Ne).bracketsNew.getClosingBracketInfo(N);if(!Oe)return null;const Ke=this.getBracketPairsInRange(f.Q.fromPositions(Z,Z)).findLast((wt)=>Oe.closes(wt.openingBracketInfo));return Ke?Ke.openingBracketRange:null}{const Oe=N.toLowerCase(),Ke=this.languageConfigurationService.getLanguageConfiguration(Ne).brackets;if(!Ke)return null;const wt=Ke.textIsBracket[Oe];return wt?Ie(this._findMatchingBracketUp(wt,_e,xe(j))):null}}matchBracket(N,Z){if(this.canBuildAST){const j=this.getBracketPairsInRange(f.Q.fromPositions(N,N)).filter((_e)=>_e.closingBracketRange!==void 0&&(_e.openingBracketRange.containsPosition(N)||_e.closingBracketRange.containsPosition(N))).findLastMaxBy(s.VE((_e)=>_e.openingBracketRange.containsPosition(N)?_e.openingBracketRange:_e.closingBracketRange,f.Q.compareRangesUsingStarts));return j?[j.openingBracketRange,j.closingBracketRange]:null}{const j=xe(Z);return this._matchBracket(this.textModel.validatePosition(N),j)}}_establishBracketSearchOffsets(N,Z,j,_e){const Ne=Z.getCount(),Oe=Z.getLanguageId(_e);let Ke=Math.max(0,N.column-1-j.maxBracketLength);for(let kt=_e-1;kt>=0;kt--){const Et=Z.getEndOffset(kt);if(Et<=Ke)break;if(k.Yo(Z.getStandardTokenType(kt))||Z.getLanguageId(kt)!==Oe){Ke=Et;break}}let wt=Math.min(Z.getLineContent().length,N.column-1+j.maxBracketLength);for(let kt=_e+1;kt<Ne;kt++){const Et=Z.getStartOffset(kt);if(Et>=wt)break;if(k.Yo(Z.getStandardTokenType(kt))||Z.getLanguageId(kt)!==Oe){wt=Et;break}}return{searchStartOffset:Ke,searchEndOffset:wt}}_matchBracket(N,Z){const j=N.lineNumber,_e=this.textModel.tokenization.getLineTokens(j),Ne=this.textModel.getLineContent(j),Oe=_e.findTokenIndexAtOffset(N.column-1);if(Oe<0)return null;const Ke=this.languageConfigurationService.getLanguageConfiguration(_e.getLanguageId(Oe)).brackets;if(Ke&&!k.Yo(_e.getStandardTokenType(Oe))){let{searchStartOffset:wt,searchEndOffset:kt}=this._establishBracketSearchOffsets(N,_e,Ke,Oe),Et=null;for(;;){const st=R.Fu.findNextBracketInRange(Ke.forwardRegex,j,Ne,wt,kt);if(!st)break;if(st.startColumn<=N.column&&N.column<=st.endColumn){const Bt=Ne.substring(st.startColumn-1,st.endColumn-1).toLowerCase(),Rt=this._matchFoundBracket(st,Ke.textIsBracket[Bt],Ke.textIsOpenBracket[Bt],Z);if(Rt){if(Rt instanceof Be)return null;Et=Rt}}wt=st.endColumn-1}if(Et)return Et}if(Oe>0&&_e.getStartOffset(Oe)===N.column-1){const wt=Oe-1,kt=this.languageConfigurationService.getLanguageConfiguration(_e.getLanguageId(wt)).brackets;if(kt&&!k.Yo(_e.getStandardTokenType(wt))){const{searchStartOffset:Et,searchEndOffset:st}=this._establishBracketSearchOffsets(N,_e,kt,wt),Bt=R.Fu.findPrevBracketInRange(kt.reversedRegex,j,Ne,Et,st);if(Bt&&Bt.startColumn<=N.column&&N.column<=Bt.endColumn){const Rt=Ne.substring(Bt.startColumn-1,Bt.endColumn-1).toLowerCase(),en=this._matchFoundBracket(Bt,kt.textIsBracket[Rt],kt.textIsOpenBracket[Rt],Z);if(en)return en instanceof Be?null:en}}}return null}_matchFoundBracket(N,Z,j,_e){if(!Z)return null;const Ne=j?this._findMatchingBracketDown(Z,N.getEndPosition(),_e):this._findMatchingBracketUp(Z,N.getStartPosition(),_e);return Ne?Ne instanceof Be?Ne:[N,Ne]:null}_findMatchingBracketUp(N,Z,j){const{languageId:_e,reversedRegex:Ne}=N;let Oe=-1,Ke=0;const wt=(kt,Et,st,Bt)=>{for(;;){if(j&&++Ke%100==0&&!j())return Be.INSTANCE;const Rt=R.Fu.findPrevBracketInRange(Ne,kt,Et,st,Bt);if(!Rt)break;const en=Et.substring(Rt.startColumn-1,Rt.endColumn-1).toLowerCase();if(N.isOpen(en)?Oe++:N.isClose(en)&&Oe--,Oe===0)return Rt;Bt=Rt.startColumn-1}return null};for(let kt=Z.lineNumber;kt>=1;kt--){const Et=this.textModel.tokenization.getLineTokens(kt),st=Et.getCount(),Bt=this.textModel.getLineContent(kt);let Rt=st-1,en=Bt.length,hn=Bt.length;kt===Z.lineNumber&&(Rt=Et.findTokenIndexAtOffset(Z.column-1),en=Z.column-1,hn=Z.column-1);let je=!0;for(;Rt>=0;Rt--){const ze=Et.getLanguageId(Rt)===_e&&!k.Yo(Et.getStandardTokenType(Rt));if(ze)je?en=Et.getStartOffset(Rt):(en=Et.getStartOffset(Rt),hn=Et.getEndOffset(Rt));else if(je&&en!==hn){const De=wt(kt,Bt,en,hn);if(De)return De}je=ze}if(je&&en!==hn){const ze=wt(kt,Bt,en,hn);if(ze)return ze}}return null}_findMatchingBracketDown(N,Z,j){const{languageId:_e,forwardRegex:Ne}=N;let Oe=1,Ke=0;const wt=(Et,st,Bt,Rt)=>{for(;;){if(j&&++Ke%100==0&&!j())return Be.INSTANCE;const en=R.Fu.findNextBracketInRange(Ne,Et,st,Bt,Rt);if(!en)break;const hn=st.substring(en.startColumn-1,en.endColumn-1).toLowerCase();if(N.isOpen(hn)?Oe++:N.isClose(hn)&&Oe--,Oe===0)return en;Bt=en.endColumn-1}return null},kt=this.textModel.getLineCount();for(let Et=Z.lineNumber;Et<=kt;Et++){const st=this.textModel.tokenization.getLineTokens(Et),Bt=st.getCount(),Rt=this.textModel.getLineContent(Et);let en=0,hn=0,je=0;Et===Z.lineNumber&&(en=st.findTokenIndexAtOffset(Z.column-1),hn=Z.column-1,je=Z.column-1);let ze=!0;for(;en<Bt;en++){const De=st.getLanguageId(en)===_e&&!k.Yo(st.getStandardTokenType(en));if(De)ze||(hn=st.getStartOffset(en)),je=st.getEndOffset(en);else if(ze&&hn!==je){const Ce=wt(Et,Rt,hn,je);if(Ce)return Ce}ze=De}if(ze&&hn!==je){const De=wt(Et,Rt,hn,je);if(De)return De}}return null}findPrevBracket(N){const Z=this.textModel.validatePosition(N);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketBefore(Z)||null;let j=null,_e=null,Ne=null;for(let Oe=Z.lineNumber;Oe>=1;Oe--){const Ke=this.textModel.tokenization.getLineTokens(Oe),wt=Ke.getCount(),kt=this.textModel.getLineContent(Oe);let Et=wt-1,st=kt.length,Bt=kt.length;if(Oe===Z.lineNumber){Et=Ke.findTokenIndexAtOffset(Z.column-1),st=Z.column-1,Bt=Z.column-1;const en=Ke.getLanguageId(Et);j!==en&&(j=en,_e=this.languageConfigurationService.getLanguageConfiguration(j).brackets,Ne=this.languageConfigurationService.getLanguageConfiguration(j).bracketsNew)}let Rt=!0;for(;Et>=0;Et--){const en=Ke.getLanguageId(Et);if(j!==en){if(_e&&Ne&&Rt&&st!==Bt){const je=R.Fu.findPrevBracketInRange(_e.reversedRegex,Oe,kt,st,Bt);if(je)return this._toFoundBracket(Ne,je);Rt=!1}j=en,_e=this.languageConfigurationService.getLanguageConfiguration(j).brackets,Ne=this.languageConfigurationService.getLanguageConfiguration(j).bracketsNew}const hn=!!_e&&!k.Yo(Ke.getStandardTokenType(Et));if(hn)Rt?st=Ke.getStartOffset(Et):(st=Ke.getStartOffset(Et),Bt=Ke.getEndOffset(Et));else if(Ne&&_e&&Rt&&st!==Bt){const je=R.Fu.findPrevBracketInRange(_e.reversedRegex,Oe,kt,st,Bt);if(je)return this._toFoundBracket(Ne,je)}Rt=hn}if(Ne&&_e&&Rt&&st!==Bt){const en=R.Fu.findPrevBracketInRange(_e.reversedRegex,Oe,kt,st,Bt);if(en)return this._toFoundBracket(Ne,en)}}return null}findNextBracket(N){const Z=this.textModel.validatePosition(N);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketAfter(Z)||null;const j=this.textModel.getLineCount();let _e=null,Ne=null,Oe=null;for(let Ke=Z.lineNumber;Ke<=j;Ke++){const wt=this.textModel.tokenization.getLineTokens(Ke),kt=wt.getCount(),Et=this.textModel.getLineContent(Ke);let st=0,Bt=0,Rt=0;if(Ke===Z.lineNumber){st=wt.findTokenIndexAtOffset(Z.column-1),Bt=Z.column-1,Rt=Z.column-1;const hn=wt.getLanguageId(st);_e!==hn&&(_e=hn,Ne=this.languageConfigurationService.getLanguageConfiguration(_e).brackets,Oe=this.languageConfigurationService.getLanguageConfiguration(_e).bracketsNew)}let en=!0;for(;st<kt;st++){const hn=wt.getLanguageId(st);if(_e!==hn){if(Oe&&Ne&&en&&Bt!==Rt){const ze=R.Fu.findNextBracketInRange(Ne.forwardRegex,Ke,Et,Bt,Rt);if(ze)return this._toFoundBracket(Oe,ze);en=!1}_e=hn,Ne=this.languageConfigurationService.getLanguageConfiguration(_e).brackets,Oe=this.languageConfigurationService.getLanguageConfiguration(_e).bracketsNew}const je=!!Ne&&!k.Yo(wt.getStandardTokenType(st));if(je)en||(Bt=wt.getStartOffset(st)),Rt=wt.getEndOffset(st);else if(Oe&&Ne&&en&&Bt!==Rt){const ze=R.Fu.findNextBracketInRange(Ne.forwardRegex,Ke,Et,Bt,Rt);if(ze)return this._toFoundBracket(Oe,ze)}en=je}if(Oe&&Ne&&en&&Bt!==Rt){const hn=R.Fu.findNextBracketInRange(Ne.forwardRegex,Ke,Et,Bt,Rt);if(hn)return this._toFoundBracket(Oe,hn)}}return null}findEnclosingBrackets(N,Z){const j=this.textModel.validatePosition(N);if(this.canBuildAST){const Rt=f.Q.fromPositions(j),en=this.getBracketPairsInRange(f.Q.fromPositions(j,j)).findLast((hn)=>hn.closingBracketRange!==void 0&&hn.range.strictContainsRange(Rt));return en?[en.openingBracketRange,en.closingBracketRange]:null}const _e=xe(Z),Ne=this.textModel.getLineCount(),Oe=new Map;let Ke=[];const wt=(Rt,en)=>{if(!Oe.has(Rt)){const hn=[];for(let je=0,ze=en?en.brackets.length:0;je<ze;je++)hn[je]=0;Oe.set(Rt,hn)}Ke=Oe.get(Rt)};let kt=0;const Et=(Rt,en,hn,je,ze)=>{for(;;){if(_e&&++kt%100==0&&!_e())return Be.INSTANCE;const De=R.Fu.findNextBracketInRange(Rt.forwardRegex,en,hn,je,ze);if(!De)break;const Ce=hn.substring(De.startColumn-1,De.endColumn-1).toLowerCase(),ut=Rt.textIsBracket[Ce];if(ut&&(ut.isOpen(Ce)?Ke[ut.index]++:ut.isClose(Ce)&&Ke[ut.index]--,Ke[ut.index]===-1))return this._matchFoundBracket(De,ut,!1,_e);je=De.endColumn-1}return null};let st=null,Bt=null;for(let Rt=j.lineNumber;Rt<=Ne;Rt++){const en=this.textModel.tokenization.getLineTokens(Rt),hn=en.getCount(),je=this.textModel.getLineContent(Rt);let ze=0,De=0,Ce=0;if(Rt===j.lineNumber){ze=en.findTokenIndexAtOffset(j.column-1),De=j.column-1,Ce=j.column-1;const Tt=en.getLanguageId(ze);st!==Tt&&(st=Tt,Bt=this.languageConfigurationService.getLanguageConfiguration(st).brackets,wt(st,Bt))}let ut=!0;for(;ze<hn;ze++){const Tt=en.getLanguageId(ze);if(st!==Tt){if(Bt&&ut&&De!==Ce){const sn=Et(Bt,Rt,je,De,Ce);if(sn)return Ie(sn);ut=!1}st=Tt,Bt=this.languageConfigurationService.getLanguageConfiguration(st).brackets,wt(st,Bt)}const Ht=!!Bt&&!k.Yo(en.getStandardTokenType(ze));if(Ht)ut||(De=en.getStartOffset(ze)),Ce=en.getEndOffset(ze);else if(Bt&&ut&&De!==Ce){const sn=Et(Bt,Rt,je,De,Ce);if(sn)return Ie(sn)}ut=Ht}if(Bt&&ut&&De!==Ce){const Tt=Et(Bt,Rt,je,De,Ce);if(Tt)return Ie(Tt)}}return null}_toFoundBracket(N,Z){if(!Z)return null;let j=this.textModel.getValueInRange(Z);j=j.toLowerCase();const _e=N.getBracketInfo(j);return _e?{range:Z,bracketInfo:_e}:null}}function xe(N){if(N===void 0)return()=>!0;{const Z=Date.now();return()=>Date.now()-Z<=N}}class Be{static{this.INSTANCE=new Be}constructor(){this._searchCanceledBrand=void 0}}function Ie(N){return N instanceof Be?null:N}var he=h(8295),Q=h(9044);class re extends M.jG{constructor(N){super(),this.textModel=N,this.colorProvider=new Je,this.onDidChangeEmitter=new J.vl,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=N.getOptions().bracketPairColorizationOptions,this._register(N.bracketPairs.onDidChange((Z)=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(N){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(N,Z,j,_e){return _e||Z===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(N,!0).map((Ne)=>({id:`bracket${Ne.range.toString()}-${Ne.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Ne,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:Ne.range})).toArray():[]}getAllDecorations(N,Z){return N===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new f.Q(1,1,this.textModel.getLineCount(),1),N,Z):[]}}class Je{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(N,Z){return N.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(Z?N.nestingLevelOfEqualBracketType:N.nestingLevel)}getInlineClassNameOfLevel(N){return"bracket-highlighting-"+N%30}}Q.zy((N,Z)=>{const j=[he.sN,he.lQ,he.ss,he.l5,he.sH,he.zp],_e=new Je;Z.addRule(`.monaco-editor .${_e.unexpectedClosingBracketClassName} { color: ${N.getColor(he.s7)}; }`);const Ne=j.map((Oe)=>N.getColor(Oe)).filter((Oe)=>!!Oe).filter((Oe)=>!Oe.isTransparent());for(let Oe=0;Oe<30;Oe++){const Ke=Ne[Oe%Ne.length];Z.addRule(`.monaco-editor .${_e.getInlineClassNameOfLevel(Oe)} { color: ${Ke}; }`)}});var Se=h(4296),Pe=h(2818);class Le{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Ve(N,Z,j,_e,Ne){let Oe;for(Ne.spacesDiff=0,Ne.looksLikeAlignment=!1,Oe=0;Oe<Z&&Oe<_e&&N.charCodeAt(Oe)===j.charCodeAt(Oe);Oe++);let Ke=0,wt=0;for(let Rt=Oe;Rt<Z;Rt++)N.charCodeAt(Rt)===32?Ke++:wt++;let kt=0,Et=0;for(let Rt=Oe;Rt<_e;Rt++)j.charCodeAt(Rt)===32?kt++:Et++;if(Ke>0&&wt>0)return;if(kt>0&&Et>0)return;const st=Math.abs(wt-Et),Bt=Math.abs(Ke-kt);if(st===0)return Ne.spacesDiff=Bt,void(Bt>0&&0<=kt-1&&kt-1<N.length&&kt<j.length&&j.charCodeAt(kt)!==32&&N.charCodeAt(kt-1)===32&&N.charCodeAt(N.length-1)===44&&(Ne.looksLikeAlignment=!0));Bt%st!=0||(Ne.spacesDiff=Bt/st)}function g(N,Z,j){const _e=Math.min(N.getLineCount(),1e4);let Ne=0,Oe=0,Ke="",wt=0;const kt=[2,4,6,8,3,5,7],Et=[0,0,0,0,0,0,0,0,0],st=new Le;for(let en=1;en<=_e;en++){const hn=N.getLineLength(en),je=N.getLineContent(en),ze=hn<=65536;let De=!1,Ce=0,ut=0,Tt=0;for(let sn=0,Vn=hn;sn<Vn;sn++){const yn=ze?je.charCodeAt(sn):N.getLineCharCode(en,sn);if(yn===9)Tt++;else{if(yn!==32){De=!0,Ce=sn;break}ut++}}if(!De)continue;if(Tt>0?Ne++:ut>1&&Oe++,Ve(Ke,wt,je,Ce,st),st.looksLikeAlignment&&(!j||Z!==st.spacesDiff))continue;const Ht=st.spacesDiff;Ht<=8&&Et[Ht]++,Ke=je,wt=Ce}let Bt=j;Ne!==Oe&&(Bt=Ne<Oe);let Rt=Z;if(Bt){let en=Bt?0:0.1*_e;kt.forEach((hn)=>{const je=Et[hn];je>en&&(en=je,Rt=hn)}),Rt===4&&Et[4]>0&&Et[2]>0&&Et[2]>=Et[4]/2&&(Rt=2)}return{insertSpaces:Bt,tabSize:Rt}}function ge(N){return(1&N.metadata)>>>0}function We(N,Z){N.metadata=254&N.metadata|Z}function de(N){return(2&N.metadata)>>>1==1}function be(N,Z){N.metadata=253&N.metadata|(Z?1:0)<<1}function ae(N){return(4&N.metadata)>>>2==1}function O(N,Z){N.metadata=251&N.metadata|(Z?1:0)<<2}function Ue(N){return(64&N.metadata)>>>6==1}function Ye(N,Z){N.metadata=191&N.metadata|(Z?1:0)<<6}function Fe(N,Z){N.metadata=231&N.metadata|Z<<3}function oe(N,Z){N.metadata=223&N.metadata|(Z?1:0)<<5}class rt{constructor(N,Z,j){this.metadata=0,this.parent=this,this.left=this,this.right=this,We(this,1),this.start=Z,this.end=j,this.delta=0,this.maxEnd=j,this.id=N,this.ownerId=0,this.options=null,O(this,!1),Ye(this,!1),Fe(this,1),oe(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=Z,this.cachedAbsoluteEnd=j,this.range=null,be(this,!1)}reset(N,Z,j,_e){this.start=Z,this.end=j,this.maxEnd=j,this.cachedVersionId=N,this.cachedAbsoluteStart=Z,this.cachedAbsoluteEnd=j,this.range=_e}setOptions(N){this.options=N;const Z=this.options.className;O(this,Z==="squiggly-error"||Z==="squiggly-warning"||Z==="squiggly-info"),Ye(this,this.options.glyphMarginClassName!==null),Fe(this,this.options.stickiness),oe(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(N,Z,j){this.cachedVersionId!==j&&(this.range=null),this.cachedVersionId=j,this.cachedAbsoluteStart=N,this.cachedAbsoluteEnd=Z}detach(){this.parent=null,this.left=null,this.right=null}}const lt=new rt(null,0,0);lt.parent=lt,lt.left=lt,lt.right=lt,We(lt,0);class ye{constructor(){this.root=lt,this.requestNormalizeDelta=!1}intervalSearch(N,Z,j,_e,Ne,Oe){return this.root===lt?[]:function(Ke,wt,kt,Et,st,Bt,Rt){let en=Ke.root,hn=0,je=0,ze=0,De=0;const Ce=[];let ut=0;for(;en!==lt;)if(de(en))be(en.left,!1),be(en.right,!1),en===en.parent.right&&(hn-=en.parent.delta),en=en.parent;else{if(!de(en.left)){if(je=hn+en.maxEnd,je<wt){be(en,!0);continue}if(en.left!==lt){en=en.left;continue}}if(ze=hn+en.start,ze>kt)be(en,!0);else{if(De=hn+en.end,De>=wt){en.setCachedOffsets(ze,De,Bt);let Tt=!0;Et&&en.ownerId&&en.ownerId!==Et&&(Tt=!1),st&&ae(en)&&(Tt=!1),Rt&&!Ue(en)&&(Tt=!1),Tt&&(Ce[ut++]=en)}be(en,!0),en.right===lt||de(en.right)||(hn+=en.delta,en=en.right)}}return be(Ke.root,!1),Ce}(this,N,Z,j,_e,Ne,Oe)}search(N,Z,j,_e){return this.root===lt?[]:function(Ne,Oe,Ke,wt,kt){let Et=Ne.root,st=0,Bt=0,Rt=0;const en=[];let hn=0;for(;Et!==lt;){if(de(Et)){be(Et.left,!1),be(Et.right,!1),Et===Et.parent.right&&(st-=Et.parent.delta),Et=Et.parent;continue}if(Et.left!==lt&&!de(Et.left)){Et=Et.left;continue}Bt=st+Et.start,Rt=st+Et.end,Et.setCachedOffsets(Bt,Rt,wt);let je=!0;Oe&&Et.ownerId&&Et.ownerId!==Oe&&(je=!1),Ke&&ae(Et)&&(je=!1),kt&&!Ue(Et)&&(je=!1),je&&(en[hn++]=Et),be(Et,!0),Et.right===lt||de(Et.right)||(st+=Et.delta,Et=Et.right)}return be(Ne.root,!1),en}(this,N,Z,j,_e)}collectNodesFromOwner(N){return function(Z,j){let _e=Z.root;const Ne=[];let Oe=0;for(;_e!==lt;)de(_e)?(be(_e.left,!1),be(_e.right,!1),_e=_e.parent):_e.left===lt||de(_e.left)?(_e.ownerId===j&&(Ne[Oe++]=_e),be(_e,!0),_e.right===lt||de(_e.right)||(_e=_e.right)):_e=_e.left;return be(Z.root,!1),Ne}(this,N)}collectNodesPostOrder(){return function(N){let Z=N.root;const j=[];let _e=0;for(;Z!==lt;)de(Z)?(be(Z.left,!1),be(Z.right,!1),Z=Z.parent):Z.left===lt||de(Z.left)?Z.right===lt||de(Z.right)?(j[_e++]=Z,be(Z,!0)):Z=Z.right:Z=Z.left;return be(N.root,!1),j}(this)}insert(N){Zt(this,N),this._normalizeDeltaIfNecessary()}delete(N){jt(this,N),this._normalizeDeltaIfNecessary()}resolveNode(N,Z){const j=N;let _e=0;for(;N!==this.root;)N===N.parent.right&&(_e+=N.parent.delta),N=N.parent;const Ne=j.start+_e,Oe=j.end+_e;j.setCachedOffsets(Ne,Oe,Z)}acceptReplace(N,Z,j,_e){const Ne=function(Oe,Ke,wt){let kt=Oe.root,Et=0,st=0,Bt=0,Rt=0;const en=[];let hn=0;for(;kt!==lt;)if(de(kt))be(kt.left,!1),be(kt.right,!1),kt===kt.parent.right&&(Et-=kt.parent.delta),kt=kt.parent;else{if(!de(kt.left)){if(st=Et+kt.maxEnd,st<Ke){be(kt,!0);continue}if(kt.left!==lt){kt=kt.left;continue}}Bt=Et+kt.start,Bt>wt?be(kt,!0):(Rt=Et+kt.end,Rt>=Ke&&(kt.setCachedOffsets(Bt,Rt,0),en[hn++]=kt),be(kt,!0),kt.right===lt||de(kt.right)||(Et+=kt.delta,kt=kt.right))}return be(Oe.root,!1),en}(this,N,N+Z);for(let Oe=0,Ke=Ne.length;Oe<Ke;Oe++)jt(this,Ne[Oe]);this._normalizeDeltaIfNecessary(),function(Oe,Ke,wt,kt){let Et=Oe.root,st=0,Bt=0,Rt=0;const en=kt-(wt-Ke);for(;Et!==lt;)if(de(Et))be(Et.left,!1),be(Et.right,!1),Et===Et.parent.right&&(st-=Et.parent.delta),rn(Et),Et=Et.parent;else{if(!de(Et.left)){if(Bt=st+Et.maxEnd,Bt<Ke){be(Et,!0);continue}if(Et.left!==lt){Et=Et.left;continue}}Rt=st+Et.start,Rt>wt?(Et.start+=en,Et.end+=en,Et.delta+=en,(Et.delta<-1073741824||Et.delta>1073741824)&&(Oe.requestNormalizeDelta=!0),be(Et,!0)):(be(Et,!0),Et.right===lt||de(Et.right)||(st+=Et.delta,Et=Et.right))}be(Oe.root,!1)}(this,N,N+Z,j),this._normalizeDeltaIfNecessary();for(let Oe=0,Ke=Ne.length;Oe<Ke;Oe++){const wt=Ne[Oe];wt.start=wt.cachedAbsoluteStart,wt.end=wt.cachedAbsoluteEnd,Mt(wt,N,N+Z,j,_e),wt.maxEnd=wt.end,Zt(this,wt)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(N){let Z=N.root,j=0;for(;Z!==lt;)Z.left===lt||de(Z.left)?Z.right===lt||de(Z.right)?(Z.start=j+Z.start,Z.end=j+Z.end,Z.delta=0,rn(Z),be(Z,!0),be(Z.left,!1),be(Z.right,!1),Z===Z.parent.right&&(j-=Z.parent.delta),Z=Z.parent):(j+=Z.delta,Z=Z.right):Z=Z.left;be(N.root,!1)}(this))}}function pt(N,Z,j,_e){return N<j||!(N>j)&&_e!==1&&(_e===2||Z)}function Mt(N,Z,j,_e,Ne){const Oe=function(ze){return(24&ze.metadata)>>>3}(N),Ke=Oe===0||Oe===2,wt=Oe===1||Oe===2,kt=j-Z,Et=_e,st=Math.min(kt,Et),Bt=N.start;let Rt=!1;const en=N.end;let hn=!1;Z<=Bt&&en<=j&&function(ze){return(32&ze.metadata)>>>5==1}(N)&&(N.start=Z,Rt=!0,N.end=Z,hn=!0);{const ze=Ne?1:kt>0?2:0;!Rt&&pt(Bt,Ke,Z,ze)&&(Rt=!0),!hn&&pt(en,wt,Z,ze)&&(hn=!0)}if(st>0&&!Ne){const ze=kt>Et?2:0;!Rt&&pt(Bt,Ke,Z+st,ze)&&(Rt=!0),!hn&&pt(en,wt,Z+st,ze)&&(hn=!0)}{const ze=Ne?1:0;!Rt&&pt(Bt,Ke,j,ze)&&(N.start=Z+Et,Rt=!0),!hn&&pt(en,wt,j,ze)&&(N.end=Z+Et,hn=!0)}const je=Et-kt;Rt||(N.start=Math.max(0,Bt+je)),hn||(N.end=Math.max(0,en+je)),N.start>N.end&&(N.end=N.start)}function Zt(N,Z){if(N.root===lt)return Z.parent=lt,Z.left=lt,Z.right=lt,We(Z,0),N.root=Z,N.root;(function(_e,Ne){let Oe=0,Ke=_e.root;const{start:wt,end:kt}=Ne;for(;;)if(Et=wt,st=kt,Bt=Ke.start+Oe,Rt=Ke.end+Oe,(Et===Bt?st-Rt:Et-Bt)<0){if(Ke.left===lt){Ne.start-=Oe,Ne.end-=Oe,Ne.maxEnd-=Oe,Ke.left=Ne;break}Ke=Ke.left}else{if(Ke.right===lt){Ne.start-=Oe+Ke.delta,Ne.end-=Oe+Ke.delta,Ne.maxEnd-=Oe+Ke.delta,Ke.right=Ne;break}Oe+=Ke.delta,Ke=Ke.right}var Et,st,Bt,Rt;Ne.parent=Ke,Ne.left=lt,Ne.right=lt,We(Ne,1)})(N,Z),Sn(Z.parent);let j=Z;for(;j!==N.root&&ge(j.parent)===1;)if(j.parent===j.parent.parent.left){const _e=j.parent.parent.right;ge(_e)===1?(We(j.parent,0),We(_e,0),We(j.parent.parent,1),j=j.parent.parent):(j===j.parent.right&&(j=j.parent,nn(N,j)),We(j.parent,0),We(j.parent.parent,1),gn(N,j.parent.parent))}else{const _e=j.parent.parent.left;ge(_e)===1?(We(j.parent,0),We(_e,0),We(j.parent.parent,1),j=j.parent.parent):(j===j.parent.left&&(j=j.parent,gn(N,j)),We(j.parent,0),We(j.parent.parent,1),nn(N,j.parent.parent))}return We(N.root,0),Z}function jt(N,Z){let j,_e;if(Z.left===lt?(j=Z.right,_e=Z,j.delta+=Z.delta,(j.delta<-1073741824||j.delta>1073741824)&&(N.requestNormalizeDelta=!0),j.start+=Z.delta,j.end+=Z.delta):Z.right===lt?(j=Z.left,_e=Z):(_e=function(Ke){for(;Ke.left!==lt;)Ke=Ke.left;return Ke}(Z.right),j=_e.right,j.start+=_e.delta,j.end+=_e.delta,j.delta+=_e.delta,(j.delta<-1073741824||j.delta>1073741824)&&(N.requestNormalizeDelta=!0),_e.start+=Z.delta,_e.end+=Z.delta,_e.delta=Z.delta,(_e.delta<-1073741824||_e.delta>1073741824)&&(N.requestNormalizeDelta=!0)),_e===N.root)return N.root=j,We(j,0),Z.detach(),xn(),rn(j),void(N.root.parent=lt);const Ne=ge(_e)===1;if(_e===_e.parent.left?_e.parent.left=j:_e.parent.right=j,_e===Z?j.parent=_e.parent:(_e.parent===Z?j.parent=_e:j.parent=_e.parent,_e.left=Z.left,_e.right=Z.right,_e.parent=Z.parent,We(_e,ge(Z)),Z===N.root?N.root=_e:Z===Z.parent.left?Z.parent.left=_e:Z.parent.right=_e,_e.left!==lt&&(_e.left.parent=_e),_e.right!==lt&&(_e.right.parent=_e)),Z.detach(),Ne)return Sn(j.parent),_e!==Z&&(Sn(_e),Sn(_e.parent)),void xn();let Oe;for(Sn(j),Sn(j.parent),_e!==Z&&(Sn(_e),Sn(_e.parent));j!==N.root&&ge(j)===0;)j===j.parent.left?(Oe=j.parent.right,ge(Oe)===1&&(We(Oe,0),We(j.parent,1),nn(N,j.parent),Oe=j.parent.right),ge(Oe.left)===0&&ge(Oe.right)===0?(We(Oe,1),j=j.parent):(ge(Oe.right)===0&&(We(Oe.left,0),We(Oe,1),gn(N,Oe),Oe=j.parent.right),We(Oe,ge(j.parent)),We(j.parent,0),We(Oe.right,0),nn(N,j.parent),j=N.root)):(Oe=j.parent.left,ge(Oe)===1&&(We(Oe,0),We(j.parent,1),gn(N,j.parent),Oe=j.parent.left),ge(Oe.left)===0&&ge(Oe.right)===0?(We(Oe,1),j=j.parent):(ge(Oe.left)===0&&(We(Oe.right,0),We(Oe,1),nn(N,Oe),Oe=j.parent.left),We(Oe,ge(j.parent)),We(j.parent,0),We(Oe.left,0),gn(N,j.parent),j=N.root));We(j,0),xn()}function xn(){lt.parent=lt,lt.delta=0,lt.start=0,lt.end=0}function nn(N,Z){const j=Z.right;j.delta+=Z.delta,(j.delta<-1073741824||j.delta>1073741824)&&(N.requestNormalizeDelta=!0),j.start+=Z.delta,j.end+=Z.delta,Z.right=j.left,j.left!==lt&&(j.left.parent=Z),j.parent=Z.parent,Z.parent===lt?N.root=j:Z===Z.parent.left?Z.parent.left=j:Z.parent.right=j,j.left=Z,Z.parent=j,rn(Z),rn(j)}function gn(N,Z){const j=Z.left;Z.delta-=j.delta,(Z.delta<-1073741824||Z.delta>1073741824)&&(N.requestNormalizeDelta=!0),Z.start-=j.delta,Z.end-=j.delta,Z.left=j.right,j.right!==lt&&(j.right.parent=Z),j.parent=Z.parent,Z.parent===lt?N.root=j:Z===Z.parent.right?Z.parent.right=j:Z.parent.left=j,j.right=Z,Z.parent=j,rn(Z),rn(j)}function pn(N){let Z=N.end;if(N.left!==lt){const j=N.left.maxEnd;j>Z&&(Z=j)}if(N.right!==lt){const j=N.right.maxEnd+N.delta;j>Z&&(Z=j)}return Z}function rn(N){N.maxEnd=pn(N)}function Sn(N){for(;N!==lt;){const Z=pn(N);if(N.maxEnd===Z)return;N.maxEnd=Z,N=N.parent}}class Mn{constructor(N,Z){this.piece=N,this.color=Z,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Bn)return wi(this.right);let N=this;for(;N.parent!==Bn&&N.parent.left!==N;)N=N.parent;return N.parent===Bn?Bn:N.parent}prev(){if(this.left!==Bn)return Mi(this.left);let N=this;for(;N.parent!==Bn&&N.parent.right!==N;)N=N.parent;return N.parent===Bn?Bn:N.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Bn=new Mn(null,0);function wi(N){for(;N.left!==Bn;)N=N.left;return N}function Mi(N){for(;N.right!==Bn;)N=N.right;return N}function Oi(N){return N===Bn?0:N.size_left+N.piece.length+Oi(N.right)}function En(N){return N===Bn?0:N.lf_left+N.piece.lineFeedCnt+En(N.right)}function li(){Bn.parent=Bn}function si(N,Z){const j=Z.right;j.size_left+=Z.size_left+(Z.piece?Z.piece.length:0),j.lf_left+=Z.lf_left+(Z.piece?Z.piece.lineFeedCnt:0),Z.right=j.left,j.left!==Bn&&(j.left.parent=Z),j.parent=Z.parent,Z.parent===Bn?N.root=j:Z.parent.left===Z?Z.parent.left=j:Z.parent.right=j,j.left=Z,Z.parent=j}function ti(N,Z){const j=Z.left;Z.left=j.right,j.right!==Bn&&(j.right.parent=Z),j.parent=Z.parent,Z.size_left-=j.size_left+(j.piece?j.piece.length:0),Z.lf_left-=j.lf_left+(j.piece?j.piece.lineFeedCnt:0),Z.parent===Bn?N.root=j:Z===Z.parent.right?Z.parent.right=j:Z.parent.left=j,j.right=Z,Z.parent=j}function Ln(N,Z){let j,_e;if(Z.left===Bn?(_e=Z,j=_e.right):Z.right===Bn?(_e=Z,j=_e.left):(_e=wi(Z.right),j=_e.right),_e===N.root)return N.root=j,j.color=0,Z.detach(),li(),void(N.root.parent=Bn);const Ne=_e.color===1;if(_e===_e.parent.left?_e.parent.left=j:_e.parent.right=j,_e===Z?(j.parent=_e.parent,Ni(N,j)):(_e.parent===Z?j.parent=_e:j.parent=_e.parent,Ni(N,j),_e.left=Z.left,_e.right=Z.right,_e.parent=Z.parent,_e.color=Z.color,Z===N.root?N.root=_e:Z===Z.parent.left?Z.parent.left=_e:Z.parent.right=_e,_e.left!==Bn&&(_e.left.parent=_e),_e.right!==Bn&&(_e.right.parent=_e),_e.size_left=Z.size_left,_e.lf_left=Z.lf_left,Ni(N,_e)),Z.detach(),j.parent.left===j){const Ke=Oi(j),wt=En(j);if(Ke!==j.parent.size_left||wt!==j.parent.lf_left){const kt=Ke-j.parent.size_left,Et=wt-j.parent.lf_left;j.parent.size_left=Ke,j.parent.lf_left=wt,xi(N,j.parent,kt,Et)}}if(Ni(N,j.parent),Ne)return void li();let Oe;for(;j!==N.root&&j.color===0;)j===j.parent.left?(Oe=j.parent.right,Oe.color===1&&(Oe.color=0,j.parent.color=1,si(N,j.parent),Oe=j.parent.right),Oe.left.color===0&&Oe.right.color===0?(Oe.color=1,j=j.parent):(Oe.right.color===0&&(Oe.left.color=0,Oe.color=1,ti(N,Oe),Oe=j.parent.right),Oe.color=j.parent.color,j.parent.color=0,Oe.right.color=0,si(N,j.parent),j=N.root)):(Oe=j.parent.left,Oe.color===1&&(Oe.color=0,j.parent.color=1,ti(N,j.parent),Oe=j.parent.left),Oe.left.color===0&&Oe.right.color===0?(Oe.color=1,j=j.parent):(Oe.left.color===0&&(Oe.right.color=0,Oe.color=1,si(N,Oe),Oe=j.parent.left),Oe.color=j.parent.color,j.parent.color=0,Oe.left.color=0,ti(N,j.parent),j=N.root));j.color=0,li()}function Xn(N,Z){for(Ni(N,Z);Z!==N.root&&Z.parent.color===1;)if(Z.parent===Z.parent.parent.left){const j=Z.parent.parent.right;j.color===1?(Z.parent.color=0,j.color=0,Z.parent.parent.color=1,Z=Z.parent.parent):(Z===Z.parent.right&&si(N,Z=Z.parent),Z.parent.color=0,Z.parent.parent.color=1,ti(N,Z.parent.parent))}else{const j=Z.parent.parent.left;j.color===1?(Z.parent.color=0,j.color=0,Z.parent.parent.color=1,Z=Z.parent.parent):(Z===Z.parent.left&&ti(N,Z=Z.parent),Z.parent.color=0,Z.parent.parent.color=1,si(N,Z.parent.parent))}N.root.color=0}function xi(N,Z,j,_e){for(;Z!==N.root&&Z!==Bn;)Z.parent.left===Z&&(Z.parent.size_left+=j,Z.parent.lf_left+=_e),Z=Z.parent}function Ni(N,Z){let j=0,_e=0;if(Z!==N.root){for(;Z!==N.root&&Z===Z.parent.right;)Z=Z.parent;if(Z!==N.root)for(j=Oi((Z=Z.parent).left)-Z.size_left,_e=En(Z.left)-Z.lf_left,Z.size_left+=j,Z.lf_left+=_e;Z!==N.root&&(j!==0||_e!==0);)Z.parent.left===Z&&(Z.parent.size_left+=j,Z.parent.lf_left+=_e),Z=Z.parent}}Bn.parent=Bn,Bn.left=Bn,Bn.right=Bn,Bn.color=0;var Ii=h(104);const er=65535;function Zi(N){let Z;return Z=N[N.length-1]<65536?new Uint16Array(N.length):new Uint32Array(N.length),Z.set(N,0),Z}class tr{constructor(N,Z,j,_e,Ne){this.lineStarts=N,this.cr=Z,this.lf=j,this.crlf=_e,this.isBasicASCII=Ne}}function rr(N,Z=!0){const j=[0];let _e=1;for(let Ne=0,Oe=N.length;Ne<Oe;Ne++){const Ke=N.charCodeAt(Ne);Ke===13?Ne+1<Oe&&N.charCodeAt(Ne+1)===10?(j[_e++]=Ne+2,Ne++):j[_e++]=Ne+1:Ke===10&&(j[_e++]=Ne+1)}return Z?Zi(j):j}class yi{constructor(N,Z,j,_e,Ne){this.bufferIndex=N,this.start=Z,this.end=j,this.lineFeedCnt=_e,this.length=Ne}}class un{constructor(N,Z){this.buffer=N,this.lineStarts=Z}}class ft{constructor(N,Z){this._pieces=[],this._tree=N,this._BOM=Z,this._index=0,N.root!==Bn&&N.iterate(N.root,(j)=>(j!==Bn&&this._pieces.push(j.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Yn{constructor(N){this._limit=N,this._cache=[]}get(N){for(let Z=this._cache.length-1;Z>=0;Z--){const j=this._cache[Z];if(j.nodeStartOffset<=N&&j.nodeStartOffset+j.node.piece.length>=N)return j}return null}get2(N){for(let Z=this._cache.length-1;Z>=0;Z--){const j=this._cache[Z];if(j.nodeStartLineNumber&&j.nodeStartLineNumber<N&&j.nodeStartLineNumber+j.node.piece.lineFeedCnt>=N)return j}return null}set(N){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(N)}validate(N){let Z=!1;const j=this._cache;for(let _e=0;_e<j.length;_e++){const Ne=j[_e];(Ne.node.parent===null||Ne.nodeStartOffset>=N)&&(j[_e]=null,Z=!0)}if(Z){const _e=[];for(let Ne of j)Ne!==null&&_e.push(Ne);this._cache=_e}}}class Nt{constructor(N,Z,j){this.create(N,Z,j)}create(N,Z,j){this._buffers=[new un("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Bn,this._lineCnt=1,this._length=0,this._EOL=Z,this._EOLLength=Z.length,this._EOLNormalized=j;let _e=null;for(let Ne=0,Oe=N.length;Ne<Oe;Ne++)if(N[Ne].buffer.length>0){N[Ne].lineStarts||(N[Ne].lineStarts=rr(N[Ne].buffer));const Ke=new yi(Ne+1,{line:0,column:0},{line:N[Ne].lineStarts.length-1,column:N[Ne].buffer.length-N[Ne].lineStarts[N[Ne].lineStarts.length-1]},N[Ne].lineStarts.length-1,N[Ne].buffer.length);this._buffers.push(N[Ne]),_e=this.rbInsertRight(_e,Ke)}this._searchCache=new Yn(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(N){const Z=65535-Math.floor(21845),j=2*Z;let _e="",Ne=0;const Oe=[];if(this.iterate(this.root,(Ke)=>{const wt=this.getNodeContent(Ke),kt=wt.length;if(Ne<=Z||Ne+kt<j)return _e+=wt,Ne+=kt,!0;const Et=_e.replace(/\r\n|\r|\n/g,N);return Oe.push(new un(Et,rr(Et))),_e=wt,Ne=kt,!0}),Ne>0){const Ke=_e.replace(/\r\n|\r|\n/g,N);Oe.push(new un(Ke,rr(Ke)))}this.create(Oe,N,!0)}getEOL(){return this._EOL}setEOL(N){this._EOL=N,this._EOLLength=this._EOL.length,this.normalizeEOL(N)}createSnapshot(N){return new ft(this,N)}getOffsetAt(N,Z){let j=0,_e=this.root;for(;_e!==Bn;)if(_e.left!==Bn&&_e.lf_left+1>=N)_e=_e.left;else{if(_e.lf_left+_e.piece.lineFeedCnt+1>=N)return j+=_e.size_left,j+(this.getAccumulatedValue(_e,N-_e.lf_left-2)+Z-1);N-=_e.lf_left+_e.piece.lineFeedCnt,j+=_e.size_left+_e.piece.length,_e=_e.right}return j}getPositionAt(N){N=Math.floor(N),N=Math.max(0,N);let Z=this.root,j=0;const _e=N;for(;Z!==Bn;)if(Z.size_left!==0&&Z.size_left>=N)Z=Z.left;else{if(Z.size_left+Z.piece.length>=N){const Ne=this.getIndexOf(Z,N-Z.size_left);if(j+=Z.lf_left+Ne.index,Ne.index===0){const Oe=_e-this.getOffsetAt(j+1,1);return new d.y(j+1,Oe+1)}return new d.y(j+1,Ne.remainder+1)}if(N-=Z.size_left+Z.piece.length,j+=Z.lf_left+Z.piece.lineFeedCnt,Z.right===Bn){const Ne=_e-N-this.getOffsetAt(j+1,1);return new d.y(j+1,Ne+1)}Z=Z.right}return new d.y(1,1)}getValueInRange(N,Z){if(N.startLineNumber===N.endLineNumber&&N.startColumn===N.endColumn)return"";const j=this.nodeAt2(N.startLineNumber,N.startColumn),_e=this.nodeAt2(N.endLineNumber,N.endColumn),Ne=this.getValueInRange2(j,_e);return Z?Z===this._EOL&&this._EOLNormalized&&Z===this.getEOL()&&this._EOLNormalized?Ne:Ne.replace(/\r\n|\r|\n/g,Z):Ne}getValueInRange2(N,Z){if(N.node===Z.node){const Ke=N.node,wt=this._buffers[Ke.piece.bufferIndex].buffer,kt=this.offsetInBuffer(Ke.piece.bufferIndex,Ke.piece.start);return wt.substring(kt+N.remainder,kt+Z.remainder)}let j=N.node;const _e=this._buffers[j.piece.bufferIndex].buffer,Ne=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);let Oe=_e.substring(Ne+N.remainder,Ne+j.piece.length);for(j=j.next();j!==Bn;){const Ke=this._buffers[j.piece.bufferIndex].buffer,wt=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);if(j===Z.node){Oe+=Ke.substring(wt,wt+Z.remainder);break}Oe+=Ke.substr(wt,j.piece.length),j=j.next()}return Oe}getLinesContent(){const N=[];let Z=0,j="",_e=!1;return this.iterate(this.root,(Ne)=>{if(Ne===Bn)return!0;const Oe=Ne.piece;let Ke=Oe.length;if(Ke===0)return!0;const wt=this._buffers[Oe.bufferIndex].buffer,kt=this._buffers[Oe.bufferIndex].lineStarts,Et=Oe.start.line,st=Oe.end.line;let Bt=kt[Et]+Oe.start.column;if(_e&&(wt.charCodeAt(Bt)===10&&(Bt++,Ke--),N[Z++]=j,j="",_e=!1,Ke===0))return!0;if(Et===st)return this._EOLNormalized||wt.charCodeAt(Bt+Ke-1)!==13?j+=wt.substr(Bt,Ke):(_e=!0,j+=wt.substr(Bt,Ke-1)),!0;j+=this._EOLNormalized?wt.substring(Bt,Math.max(Bt,kt[Et+1]-this._EOLLength)):wt.substring(Bt,kt[Et+1]).replace(/(\r\n|\r|\n)$/,""),N[Z++]=j;for(let Rt=Et+1;Rt<st;Rt++)j=this._EOLNormalized?wt.substring(kt[Rt],kt[Rt+1]-this._EOLLength):wt.substring(kt[Rt],kt[Rt+1]).replace(/(\r\n|\r|\n)$/,""),N[Z++]=j;return this._EOLNormalized||wt.charCodeAt(kt[st]+Oe.end.column-1)!==13?j=wt.substr(kt[st],Oe.end.column):(_e=!0,Oe.end.column===0?Z--:j=wt.substr(kt[st],Oe.end.column-1)),!0}),_e&&(N[Z++]=j,j=""),N[Z++]=j,N}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(N){return this._lastVisitedLine.lineNumber===N||(this._lastVisitedLine.lineNumber=N,N===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(N):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(N,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(N).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(N){if(N.remainder===N.node.piece.length){const Z=N.node.next();if(!Z)return 0;const j=this._buffers[Z.piece.bufferIndex],_e=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);return j.buffer.charCodeAt(_e)}{const Z=this._buffers[N.node.piece.bufferIndex],j=this.offsetInBuffer(N.node.piece.bufferIndex,N.node.piece.start)+N.remainder;return Z.buffer.charCodeAt(j)}}getLineCharCode(N,Z){const j=this.nodeAt2(N,Z+1);return this._getCharCode(j)}getLineLength(N){if(N===this.getLineCount()){const Z=this.getOffsetAt(N,1);return this.getLength()-Z}return this.getOffsetAt(N+1,1)-this.getOffsetAt(N,1)-this._EOLLength}findMatchesInNode(N,Z,j,_e,Ne,Oe,Ke,wt,kt,Et,st){const Bt=this._buffers[N.piece.bufferIndex],Rt=this.offsetInBuffer(N.piece.bufferIndex,N.piece.start),en=this.offsetInBuffer(N.piece.bufferIndex,Ne),hn=this.offsetInBuffer(N.piece.bufferIndex,Oe);let je;const ze={line:0,column:0};let De,Ce;Z._wordSeparators?(De=Bt.buffer.substring(en,hn),Ce=(ut)=>ut+en,Z.reset(0)):(De=Bt.buffer,Ce=(ut)=>ut,Z.reset(en));do if(je=Z.next(De),je){if(Ce(je.index)>=hn)return Et;this.positionInBuffer(N,Ce(je.index)-Rt,ze);const ut=this.getLineFeedCnt(N.piece.bufferIndex,Ne,ze),Tt=ze.line===Ne.line?ze.column-Ne.column+_e:ze.column+1,Ht=Tt+je[0].length;if(st[Et++]=Ii.dr(new f.Q(j+ut,Tt,j+ut,Ht),je,wt),Ce(je.index)+je[0].length>=hn)return Et;if(Et>=kt)return Et}while(je);return Et}findMatchesLineByLine(N,Z,j,_e){const Ne=[];let Oe=0;const Ke=new Ii.W5(Z.wordSeparators,Z.regex);let wt=this.nodeAt2(N.startLineNumber,N.startColumn);if(wt===null)return[];const kt=this.nodeAt2(N.endLineNumber,N.endColumn);if(kt===null)return[];let Et=this.positionInBuffer(wt.node,wt.remainder);const st=this.positionInBuffer(kt.node,kt.remainder);if(wt.node===kt.node)return this.findMatchesInNode(wt.node,Ke,N.startLineNumber,N.startColumn,Et,st,Z,j,_e,Oe,Ne),Ne;let Bt=N.startLineNumber,Rt=wt.node;for(;Rt!==kt.node;){const hn=this.getLineFeedCnt(Rt.piece.bufferIndex,Et,Rt.piece.end);if(hn>=1){const ze=this._buffers[Rt.piece.bufferIndex].lineStarts,De=this.offsetInBuffer(Rt.piece.bufferIndex,Rt.piece.start),Ce=ze[Et.line+hn],ut=Bt===N.startLineNumber?N.startColumn:1;if(Oe=this.findMatchesInNode(Rt,Ke,Bt,ut,Et,this.positionInBuffer(Rt,Ce-De),Z,j,_e,Oe,Ne),Oe>=_e)return Ne;Bt+=hn}const je=Bt===N.startLineNumber?N.startColumn-1:0;if(Bt===N.endLineNumber){const ze=this.getLineContent(Bt).substring(je,N.endColumn-1);return Oe=this._findMatchesInLine(Z,Ke,ze,N.endLineNumber,je,Oe,Ne,j,_e),Ne}if(Oe=this._findMatchesInLine(Z,Ke,this.getLineContent(Bt).substr(je),Bt,je,Oe,Ne,j,_e),Oe>=_e)return Ne;Bt++,wt=this.nodeAt2(Bt,1),Rt=wt.node,Et=this.positionInBuffer(wt.node,wt.remainder)}if(Bt===N.endLineNumber){const hn=Bt===N.startLineNumber?N.startColumn-1:0,je=this.getLineContent(Bt).substring(hn,N.endColumn-1);return Oe=this._findMatchesInLine(Z,Ke,je,N.endLineNumber,hn,Oe,Ne,j,_e),Ne}const en=Bt===N.startLineNumber?N.startColumn:1;return Oe=this.findMatchesInNode(kt.node,Ke,Bt,en,Et,st,Z,j,_e,Oe,Ne),Ne}_findMatchesInLine(N,Z,j,_e,Ne,Oe,Ke,wt,kt){const Et=N.wordSeparators;if(!wt&&N.simpleSearch){const Bt=N.simpleSearch,Rt=Bt.length,en=j.length;let hn=-Rt;for(;(hn=j.indexOf(Bt,hn+Rt))!==-1;)if((!Et||Ii.wC(Et,j,en,hn,Rt))&&(Ke[Oe++]=new x.Dg(new f.Q(_e,hn+1+Ne,_e,hn+1+Rt+Ne),null),Oe>=kt))return Oe;return Oe}let st;Z.reset(0);do if(st=Z.next(j),st&&(Ke[Oe++]=Ii.dr(new f.Q(_e,st.index+1+Ne,_e,st.index+1+st[0].length+Ne),st,wt),Oe>=kt))return Oe;while(st);return Oe}insert(N,Z,j=!1){if(this._EOLNormalized=this._EOLNormalized&&j,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Bn){const{node:_e,remainder:Ne,nodeStartOffset:Oe}=this.nodeAt(N),Ke=_e.piece,wt=Ke.bufferIndex,kt=this.positionInBuffer(_e,Ne);if(_e.piece.bufferIndex===0&&Ke.end.line===this._lastChangeBufferPos.line&&Ke.end.column===this._lastChangeBufferPos.column&&Oe+Ke.length===N&&Z.length<er)return this.appendToNode(_e,Z),void this.computeBufferMetadata();if(Oe===N)this.insertContentToNodeLeft(Z,_e),this._searchCache.validate(N);else if(Oe+_e.piece.length>N){const Et=[];let st=new yi(Ke.bufferIndex,kt,Ke.end,this.getLineFeedCnt(Ke.bufferIndex,kt,Ke.end),this.offsetInBuffer(wt,Ke.end)-this.offsetInBuffer(wt,kt));if(this.shouldCheckCRLF()&&this.endWithCR(Z)&&this.nodeCharCodeAt(_e,Ne)===10){const en={line:st.start.line+1,column:0};st=new yi(st.bufferIndex,en,st.end,this.getLineFeedCnt(st.bufferIndex,en,st.end),st.length-1),Z+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(Z))if(this.nodeCharCodeAt(_e,Ne-1)===13){const en=this.positionInBuffer(_e,Ne-1);this.deleteNodeTail(_e,en),Z="\r"+Z,_e.piece.length===0&&Et.push(_e)}else this.deleteNodeTail(_e,kt);else this.deleteNodeTail(_e,kt);const Bt=this.createNewPieces(Z);st.length>0&&this.rbInsertRight(_e,st);let Rt=_e;for(let en=0;en<Bt.length;en++)Rt=this.rbInsertRight(Rt,Bt[en]);this.deleteNodes(Et)}else this.insertContentToNodeRight(Z,_e)}else{const _e=this.createNewPieces(Z);let Ne=this.rbInsertLeft(null,_e[0]);for(let Oe=1;Oe<_e.length;Oe++)Ne=this.rbInsertRight(Ne,_e[Oe])}this.computeBufferMetadata()}delete(N,Z){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",Z<=0||this.root===Bn)return;const j=this.nodeAt(N),_e=this.nodeAt(N+Z),Ne=j.node,Oe=_e.node;if(Ne===Oe){const st=this.positionInBuffer(Ne,j.remainder),Bt=this.positionInBuffer(Ne,_e.remainder);if(j.nodeStartOffset===N){if(Z===Ne.piece.length){const Rt=Ne.next();return Ln(this,Ne),this.validateCRLFWithPrevNode(Rt),void this.computeBufferMetadata()}return this.deleteNodeHead(Ne,Bt),this._searchCache.validate(N),this.validateCRLFWithPrevNode(Ne),void this.computeBufferMetadata()}return j.nodeStartOffset+Ne.piece.length===N+Z?(this.deleteNodeTail(Ne,st),this.validateCRLFWithNextNode(Ne),void this.computeBufferMetadata()):(this.shrinkNode(Ne,st,Bt),void this.computeBufferMetadata())}const Ke=[],wt=this.positionInBuffer(Ne,j.remainder);this.deleteNodeTail(Ne,wt),this._searchCache.validate(N),Ne.piece.length===0&&Ke.push(Ne);const kt=this.positionInBuffer(Oe,_e.remainder);this.deleteNodeHead(Oe,kt),Oe.piece.length===0&&Ke.push(Oe);for(let st=Ne.next();st!==Bn&&st!==Oe;st=st.next())Ke.push(st);const Et=Ne.piece.length===0?Ne.prev():Ne;this.deleteNodes(Ke),this.validateCRLFWithNextNode(Et),this.computeBufferMetadata()}insertContentToNodeLeft(N,Z){const j=[];if(this.shouldCheckCRLF()&&this.endWithCR(N)&&this.startWithLF(Z)){const Oe=Z.piece,Ke={line:Oe.start.line+1,column:0},wt=new yi(Oe.bufferIndex,Ke,Oe.end,this.getLineFeedCnt(Oe.bufferIndex,Ke,Oe.end),Oe.length-1);Z.piece=wt,N+="\n",xi(this,Z,-1,-1),Z.piece.length===0&&j.push(Z)}const _e=this.createNewPieces(N);let Ne=this.rbInsertLeft(Z,_e[_e.length-1]);for(let Oe=_e.length-2;Oe>=0;Oe--)Ne=this.rbInsertLeft(Ne,_e[Oe]);this.validateCRLFWithPrevNode(Ne),this.deleteNodes(j)}insertContentToNodeRight(N,Z){this.adjustCarriageReturnFromNext(N,Z)&&(N+="\n");const j=this.createNewPieces(N),_e=this.rbInsertRight(Z,j[0]);let Ne=_e;for(let Oe=1;Oe<j.length;Oe++)Ne=this.rbInsertRight(Ne,j[Oe]);this.validateCRLFWithPrevNode(_e)}positionInBuffer(N,Z,j){const _e=N.piece,Ne=N.piece.bufferIndex,Oe=this._buffers[Ne].lineStarts,Ke=Oe[_e.start.line]+_e.start.column+Z;let wt=_e.start.line,kt=_e.end.line,Et=0,st=0,Bt=0;for(;wt<=kt&&(Et=wt+(kt-wt)/2|0,Bt=Oe[Et],Et!==kt);)if(st=Oe[Et+1],Ke<Bt)kt=Et-1;else{if(!(Ke>=st))break;wt=Et+1}return j?(j.line=Et,j.column=Ke-Bt,null):{line:Et,column:Ke-Bt}}getLineFeedCnt(N,Z,j){if(j.column===0)return j.line-Z.line;const _e=this._buffers[N].lineStarts;if(j.line===_e.length-1)return j.line-Z.line;const Ne=_e[j.line+1],Oe=_e[j.line]+j.column;if(Ne>Oe+1)return j.line-Z.line;const Ke=Oe-1;return this._buffers[N].buffer.charCodeAt(Ke)===13?j.line-Z.line+1:j.line-Z.line}offsetInBuffer(N,Z){return this._buffers[N].lineStarts[Z.line]+Z.column}deleteNodes(N){for(let Z=0;Z<N.length;Z++)Ln(this,N[Z])}createNewPieces(N){if(N.length>er){const kt=[];for(;N.length>er;){const st=N.charCodeAt(65534);let Bt;st===13||st>=55296&&st<=56319?(Bt=N.substring(0,65534),N=N.substring(65534)):(Bt=N.substring(0,er),N=N.substring(er));const Rt=rr(Bt);kt.push(new yi(this._buffers.length,{line:0,column:0},{line:Rt.length-1,column:Bt.length-Rt[Rt.length-1]},Rt.length-1,Bt.length)),this._buffers.push(new un(Bt,Rt))}const Et=rr(N);return kt.push(new yi(this._buffers.length,{line:0,column:0},{line:Et.length-1,column:N.length-Et[Et.length-1]},Et.length-1,N.length)),this._buffers.push(new un(N,Et)),kt}let Z=this._buffers[0].buffer.length;const j=rr(N,!1);let _e=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===Z&&Z!==0&&this.startWithLF(N)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},_e=this._lastChangeBufferPos;for(let kt=0;kt<j.length;kt++)j[kt]+=Z+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(j.slice(1)),this._buffers[0].buffer+="_"+N,Z+=1}else{if(Z!==0)for(let kt=0;kt<j.length;kt++)j[kt]+=Z;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(j.slice(1)),this._buffers[0].buffer+=N}const Ne=this._buffers[0].buffer.length,Oe=this._buffers[0].lineStarts.length-1,Ke={line:Oe,column:Ne-this._buffers[0].lineStarts[Oe]},wt=new yi(0,_e,Ke,this.getLineFeedCnt(0,_e,Ke),Ne-Z);return this._lastChangeBufferPos=Ke,[wt]}getLineRawContent(N,Z=0){let j=this.root,_e="";const Ne=this._searchCache.get2(N);if(Ne){j=Ne.node;const Oe=this.getAccumulatedValue(j,N-Ne.nodeStartLineNumber-1),Ke=this._buffers[j.piece.bufferIndex].buffer,wt=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);if(Ne.nodeStartLineNumber+j.piece.lineFeedCnt!==N){const kt=this.getAccumulatedValue(j,N-Ne.nodeStartLineNumber);return Ke.substring(wt+Oe,wt+kt-Z)}_e=Ke.substring(wt+Oe,wt+j.piece.length)}else{let Oe=0;const Ke=N;for(;j!==Bn;)if(j.left!==Bn&&j.lf_left>=N-1)j=j.left;else{if(j.lf_left+j.piece.lineFeedCnt>N-1){const wt=this.getAccumulatedValue(j,N-j.lf_left-2),kt=this.getAccumulatedValue(j,N-j.lf_left-1),Et=this._buffers[j.piece.bufferIndex].buffer,st=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);return Oe+=j.size_left,this._searchCache.set({node:j,nodeStartOffset:Oe,nodeStartLineNumber:Ke-(N-1-j.lf_left)}),Et.substring(st+wt,st+kt-Z)}if(j.lf_left+j.piece.lineFeedCnt===N-1){const wt=this.getAccumulatedValue(j,N-j.lf_left-2),kt=this._buffers[j.piece.bufferIndex].buffer,Et=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);_e=kt.substring(Et+wt,Et+j.piece.length);break}N-=j.lf_left+j.piece.lineFeedCnt,Oe+=j.size_left+j.piece.length,j=j.right}}for(j=j.next();j!==Bn;){const Oe=this._buffers[j.piece.bufferIndex].buffer;if(j.piece.lineFeedCnt>0){const Ke=this.getAccumulatedValue(j,0),wt=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);return _e+=Oe.substring(wt,wt+Ke-Z),_e}{const Ke=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start);_e+=Oe.substr(Ke,j.piece.length)}j=j.next()}return _e}computeBufferMetadata(){let N=this.root,Z=1,j=0;for(;N!==Bn;)Z+=N.lf_left+N.piece.lineFeedCnt,j+=N.size_left+N.piece.length,N=N.right;this._lineCnt=Z,this._length=j,this._searchCache.validate(this._length)}getIndexOf(N,Z){const j=N.piece,_e=this.positionInBuffer(N,Z),Ne=_e.line-j.start.line;if(this.offsetInBuffer(j.bufferIndex,j.end)-this.offsetInBuffer(j.bufferIndex,j.start)===Z){const Oe=this.getLineFeedCnt(N.piece.bufferIndex,j.start,_e);if(Oe!==Ne)return{index:Oe,remainder:0}}return{index:Ne,remainder:_e.column}}getAccumulatedValue(N,Z){if(Z<0)return 0;const j=N.piece,_e=this._buffers[j.bufferIndex].lineStarts,Ne=j.start.line+Z+1;return Ne>j.end.line?_e[j.end.line]+j.end.column-_e[j.start.line]-j.start.column:_e[Ne]-_e[j.start.line]-j.start.column}deleteNodeTail(N,Z){const j=N.piece,_e=j.lineFeedCnt,Ne=this.offsetInBuffer(j.bufferIndex,j.end),Oe=Z,Ke=this.offsetInBuffer(j.bufferIndex,Oe),wt=this.getLineFeedCnt(j.bufferIndex,j.start,Oe),kt=wt-_e,Et=Ke-Ne,st=j.length+Et;N.piece=new yi(j.bufferIndex,j.start,Oe,wt,st),xi(this,N,Et,kt)}deleteNodeHead(N,Z){const j=N.piece,_e=j.lineFeedCnt,Ne=this.offsetInBuffer(j.bufferIndex,j.start),Oe=Z,Ke=this.getLineFeedCnt(j.bufferIndex,Oe,j.end),wt=Ke-_e,kt=Ne-this.offsetInBuffer(j.bufferIndex,Oe),Et=j.length+kt;N.piece=new yi(j.bufferIndex,Oe,j.end,Ke,Et),xi(this,N,kt,wt)}shrinkNode(N,Z,j){const _e=N.piece,Ne=_e.start,Oe=_e.end,Ke=_e.length,wt=_e.lineFeedCnt,kt=Z,Et=this.getLineFeedCnt(_e.bufferIndex,_e.start,kt),st=this.offsetInBuffer(_e.bufferIndex,Z)-this.offsetInBuffer(_e.bufferIndex,Ne);N.piece=new yi(_e.bufferIndex,_e.start,kt,Et,st),xi(this,N,st-Ke,Et-wt);const Bt=new yi(_e.bufferIndex,j,Oe,this.getLineFeedCnt(_e.bufferIndex,j,Oe),this.offsetInBuffer(_e.bufferIndex,Oe)-this.offsetInBuffer(_e.bufferIndex,j)),Rt=this.rbInsertRight(N,Bt);this.validateCRLFWithPrevNode(Rt)}appendToNode(N,Z){this.adjustCarriageReturnFromNext(Z,N)&&(Z+="\n");const j=this.shouldCheckCRLF()&&this.startWithLF(Z)&&this.endWithCR(N),_e=this._buffers[0].buffer.length;this._buffers[0].buffer+=Z;const Ne=rr(Z,!1);for(let Bt=0;Bt<Ne.length;Bt++)Ne[Bt]+=_e;if(j){const Bt=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:_e-Bt}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Ne.slice(1));const Oe=this._buffers[0].lineStarts.length-1,Ke={line:Oe,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[Oe]},wt=N.piece.length+Z.length,kt=N.piece.lineFeedCnt,Et=this.getLineFeedCnt(0,N.piece.start,Ke),st=Et-kt;N.piece=new yi(N.piece.bufferIndex,N.piece.start,Ke,Et,wt),this._lastChangeBufferPos=Ke,xi(this,N,Z.length,st)}nodeAt(N){let Z=this.root;const j=this._searchCache.get(N);if(j)return{node:j.node,nodeStartOffset:j.nodeStartOffset,remainder:N-j.nodeStartOffset};let _e=0;for(;Z!==Bn;)if(Z.size_left>N)Z=Z.left;else{if(Z.size_left+Z.piece.length>=N){_e+=Z.size_left;const Ne={node:Z,remainder:N-Z.size_left,nodeStartOffset:_e};return this._searchCache.set(Ne),Ne}N-=Z.size_left+Z.piece.length,_e+=Z.size_left+Z.piece.length,Z=Z.right}return null}nodeAt2(N,Z){let j=this.root,_e=0;for(;j!==Bn;)if(j.left!==Bn&&j.lf_left>=N-1)j=j.left;else{if(j.lf_left+j.piece.lineFeedCnt>N-1){const Ne=this.getAccumulatedValue(j,N-j.lf_left-2),Oe=this.getAccumulatedValue(j,N-j.lf_left-1);return _e+=j.size_left,{node:j,remainder:Math.min(Ne+Z-1,Oe),nodeStartOffset:_e}}if(j.lf_left+j.piece.lineFeedCnt===N-1){const Ne=this.getAccumulatedValue(j,N-j.lf_left-2);if(Ne+Z-1<=j.piece.length)return{node:j,remainder:Ne+Z-1,nodeStartOffset:_e};Z-=j.piece.length-Ne;break}N-=j.lf_left+j.piece.lineFeedCnt,_e+=j.size_left+j.piece.length,j=j.right}for(j=j.next();j!==Bn;){if(j.piece.lineFeedCnt>0){const Ne=this.getAccumulatedValue(j,0),Oe=this.offsetOfNode(j);return{node:j,remainder:Math.min(Z-1,Ne),nodeStartOffset:Oe}}if(j.piece.length>=Z-1)return{node:j,remainder:Z-1,nodeStartOffset:this.offsetOfNode(j)};Z-=j.piece.length,j=j.next()}return null}nodeCharCodeAt(N,Z){if(N.piece.lineFeedCnt<1)return-1;const j=this._buffers[N.piece.bufferIndex],_e=this.offsetInBuffer(N.piece.bufferIndex,N.piece.start)+Z;return j.buffer.charCodeAt(_e)}offsetOfNode(N){if(!N)return 0;let Z=N.size_left;for(;N!==this.root;)N.parent.right===N&&(Z+=N.parent.size_left+N.parent.piece.length),N=N.parent;return Z}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL==="\n")}startWithLF(N){if(typeof N=="string")return N.charCodeAt(0)===10;if(N===Bn||N.piece.lineFeedCnt===0)return!1;const Z=N.piece,j=this._buffers[Z.bufferIndex].lineStarts,_e=Z.start.line,Ne=j[_e]+Z.start.column;return _e!==j.length-1&&(!(j[_e+1]>Ne+1)&&this._buffers[Z.bufferIndex].buffer.charCodeAt(Ne)===10)}endWithCR(N){return typeof N=="string"?N.charCodeAt(N.length-1)===13:N!==Bn&&N.piece.lineFeedCnt!==0&&this.nodeCharCodeAt(N,N.piece.length-1)===13}validateCRLFWithPrevNode(N){if(this.shouldCheckCRLF()&&this.startWithLF(N)){const Z=N.prev();this.endWithCR(Z)&&this.fixCRLF(Z,N)}}validateCRLFWithNextNode(N){if(this.shouldCheckCRLF()&&this.endWithCR(N)){const Z=N.next();this.startWithLF(Z)&&this.fixCRLF(N,Z)}}fixCRLF(N,Z){const j=[],_e=this._buffers[N.piece.bufferIndex].lineStarts;let Ne;Ne=N.piece.end.column===0?{line:N.piece.end.line-1,column:_e[N.piece.end.line]-_e[N.piece.end.line-1]-1}:{line:N.piece.end.line,column:N.piece.end.column-1};const Oe=N.piece.length-1,Ke=N.piece.lineFeedCnt-1;N.piece=new yi(N.piece.bufferIndex,N.piece.start,Ne,Ke,Oe),xi(this,N,-1,-1),N.piece.length===0&&j.push(N);const wt={line:Z.piece.start.line+1,column:0},kt=Z.piece.length-1,Et=this.getLineFeedCnt(Z.piece.bufferIndex,wt,Z.piece.end);Z.piece=new yi(Z.piece.bufferIndex,wt,Z.piece.end,Et,kt),xi(this,Z,-1,-1),Z.piece.length===0&&j.push(Z);const st=this.createNewPieces("\r\n");this.rbInsertRight(N,st[0]);for(let Bt=0;Bt<j.length;Bt++)Ln(this,j[Bt])}adjustCarriageReturnFromNext(N,Z){if(this.shouldCheckCRLF()&&this.endWithCR(N)){const j=Z.next();if(this.startWithLF(j)){if(N+="\n",j.piece.length===1)Ln(this,j);else{const _e=j.piece,Ne={line:_e.start.line+1,column:0},Oe=_e.length-1,Ke=this.getLineFeedCnt(_e.bufferIndex,Ne,_e.end);j.piece=new yi(_e.bufferIndex,Ne,_e.end,Ke,Oe),xi(this,j,-1,-1)}return!0}}return!1}iterate(N,Z){if(N===Bn)return Z(Bn);const j=this.iterate(N.left,Z);return j?Z(N)&&this.iterate(N.right,Z):j}getNodeContent(N){if(N===Bn)return"";const Z=this._buffers[N.piece.bufferIndex],j=N.piece,_e=this.offsetInBuffer(j.bufferIndex,j.start),Ne=this.offsetInBuffer(j.bufferIndex,j.end);return Z.buffer.substring(_e,Ne)}getPieceContent(N){const Z=this._buffers[N.bufferIndex],j=this.offsetInBuffer(N.bufferIndex,N.start),_e=this.offsetInBuffer(N.bufferIndex,N.end);return Z.buffer.substring(j,_e)}rbInsertRight(N,Z){const j=new Mn(Z,1);if(j.left=Bn,j.right=Bn,j.parent=Bn,j.size_left=0,j.lf_left=0,this.root===Bn)this.root=j,j.color=0;else if(N.right===Bn)N.right=j,j.parent=N;else{const _e=wi(N.right);_e.left=j,j.parent=_e}return Xn(this,j),j}rbInsertLeft(N,Z){const j=new Mn(Z,1);if(j.left=Bn,j.right=Bn,j.parent=Bn,j.size_left=0,j.lf_left=0,this.root===Bn)this.root=j,j.color=0;else if(N.left===Bn)N.left=j,j.parent=N;else{const _e=Mi(N.left);_e.right=j,j.parent=_e}return Xn(this,j),j}}var Ci=h(6949);class Hn extends M.jG{constructor(N,Z,j,_e,Ne,Oe,Ke){super(),this._onDidChangeContent=this._register(new J.vl),this._BOM=Z,this._mightContainNonBasicASCII=!Oe,this._mightContainRTL=_e,this._mightContainUnusualLineTerminators=Ne,this._pieceTree=new Nt(N,j,Ke)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(N){return this._pieceTree.createSnapshot(N?this._BOM:"")}getOffsetAt(N,Z){return this._pieceTree.getOffsetAt(N,Z)}getPositionAt(N){return this._pieceTree.getPositionAt(N)}getRangeAt(N,Z){const j=N+Z,_e=this.getPositionAt(N),Ne=this.getPositionAt(j);return new f.Q(_e.lineNumber,_e.column,Ne.lineNumber,Ne.column)}getValueInRange(N,Z=0){if(N.isEmpty())return"";const j=this._getEndOfLine(Z);return this._pieceTree.getValueInRange(N,j)}getValueLengthInRange(N,Z=0){if(N.isEmpty())return 0;if(N.startLineNumber===N.endLineNumber)return N.endColumn-N.startColumn;const j=this.getOffsetAt(N.startLineNumber,N.startColumn),_e=this.getOffsetAt(N.endLineNumber,N.endColumn);let Ne=0;const Oe=this._getEndOfLine(Z),Ke=this.getEOL();return Oe.length!==Ke.length&&(Ne=(Oe.length-Ke.length)*(N.endLineNumber-N.startLineNumber)),_e-j+Ne}getCharacterCountInRange(N,Z=0){if(this._mightContainNonBasicASCII){let j=0;const{startLineNumber:_e,endLineNumber:Ne}=N;for(let Oe=_e;Oe<=Ne;Oe++){const Ke=this.getLineContent(Oe),wt=Oe===_e?N.startColumn-1:0,kt=Oe===Ne?N.endColumn-1:Ke.length;for(let Et=wt;Et<kt;Et++)v.pc(Ke.charCodeAt(Et))?(j+=1,Et+=1):j+=1}return j+=this._getEndOfLine(Z).length*(Ne-_e),j}return this.getValueLengthInRange(N,Z)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(N){return this._pieceTree.getLineContent(N)}getLineCharCode(N,Z){return this._pieceTree.getLineCharCode(N,Z)}getLineLength(N){return this._pieceTree.getLineLength(N)}getLineFirstNonWhitespaceColumn(N){const Z=v.HG(this.getLineContent(N));return Z===-1?0:Z+1}getLineLastNonWhitespaceColumn(N){const Z=v.lT(this.getLineContent(N));return Z===-1?0:Z+2}_getEndOfLine(N){switch(N){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(N){this._pieceTree.setEOL(N)}applyEdits(N,Z,j){let _e=this._mightContainRTL,Ne=this._mightContainUnusualLineTerminators,Oe=this._mightContainNonBasicASCII,Ke=!0,wt=[];for(let hn=0;hn<N.length;hn++){const je=N[hn];Ke&&je._isTracked&&(Ke=!1);const ze=je.range;if(je.text){let Ht=!0;Oe||(Ht=!v.aC(je.text),Oe=Ht),!_e&&Ht&&(_e=v.E_(je.text)),!Ne&&Ht&&(Ne=v.$X(je.text))}let De="",Ce=0,ut=0,Tt=0;if(je.text){let Ht;[Ce,ut,Tt,Ht]=w.W(je.text);const sn=this.getEOL();De=Ht===0||Ht===(sn==="\r\n"?2:1)?je.text:je.text.replace(/\r\n|\r|\n/g,sn)}wt[hn]={sortIndex:hn,identifier:je.identifier||null,range:ze,rangeOffset:this.getOffsetAt(ze.startLineNumber,ze.startColumn),rangeLength:this.getValueLengthInRange(ze),text:De,eolCount:Ce,firstLineLength:ut,lastLineLength:Tt,forceMoveMarkers:Boolean(je.forceMoveMarkers),isAutoWhitespaceEdit:je.isAutoWhitespaceEdit||!1}}wt.sort(Hn._sortOpsAscending);let kt=!1;for(let hn=0,je=wt.length-1;hn<je;hn++){const ze=wt[hn].range.getEndPosition(),De=wt[hn+1].range.getStartPosition();if(De.isBeforeOrEqual(ze)){if(De.isBefore(ze))throw new Error("Overlapping ranges are not allowed!");kt=!0}}Ke&&(wt=this._reduceOperations(wt));const Et=j||Z?Hn._getInverseEditRanges(wt):[],st=[];if(Z)for(let hn=0;hn<wt.length;hn++){const je=wt[hn],ze=Et[hn];if(je.isAutoWhitespaceEdit&&je.range.isEmpty())for(let De=ze.startLineNumber;De<=ze.endLineNumber;De++){let Ce="";De===ze.startLineNumber&&(Ce=this.getLineContent(je.range.startLineNumber),v.HG(Ce)!==-1)||st.push({lineNumber:De,oldContent:Ce})}}let Bt=null;if(j){let hn=0;Bt=[];for(let je=0;je<wt.length;je++){const ze=wt[je],De=Et[je],Ce=this.getValueInRange(ze.range),ut=ze.rangeOffset+hn;hn+=ze.text.length-Ce.length,Bt[je]={sortIndex:ze.sortIndex,identifier:ze.identifier,range:De,text:Ce,textChange:new Ci.k(ze.rangeOffset,Ce,ut,ze.text)}}kt||Bt.sort((je,ze)=>je.sortIndex-ze.sortIndex)}this._mightContainRTL=_e,this._mightContainUnusualLineTerminators=Ne,this._mightContainNonBasicASCII=Oe;const Rt=this._doApplyEdits(wt);let en=null;if(Z&&st.length>0){st.sort((hn,je)=>je.lineNumber-hn.lineNumber),en=[];for(let hn=0,je=st.length;hn<je;hn++){const ze=st[hn].lineNumber;if(hn>0&&st[hn-1].lineNumber===ze)continue;const De=st[hn].oldContent,Ce=this.getLineContent(ze);Ce.length!==0&&Ce!==De&&v.HG(Ce)===-1&&en.push(ze)}}return this._onDidChangeContent.fire(),new x.F4(Bt,Rt,en)}_reduceOperations(N){return N.length<1000?N:[this._toSingleEditOperation(N)]}_toSingleEditOperation(N){let Z=!1;const j=N[0].range,_e=N[N.length-1].range,Ne=new f.Q(j.startLineNumber,j.startColumn,_e.endLineNumber,_e.endColumn);let{startLineNumber:Oe,startColumn:Ke}=j;const wt=[];for(let Rt=0,en=N.length;Rt<en;Rt++){const hn=N[Rt],je=hn.range;Z=Z||hn.forceMoveMarkers,wt.push(this.getValueInRange(new f.Q(Oe,Ke,je.startLineNumber,je.startColumn))),hn.text.length>0&&wt.push(hn.text),Oe=je.endLineNumber,Ke=je.endColumn}const kt=wt.join(""),[Et,st,Bt]=w.W(kt);return{sortIndex:0,identifier:N[0].identifier,range:Ne,rangeOffset:this.getOffsetAt(Ne.startLineNumber,Ne.startColumn),rangeLength:this.getValueLengthInRange(Ne,0),text:kt,eolCount:Et,firstLineLength:st,lastLineLength:Bt,forceMoveMarkers:Z,isAutoWhitespaceEdit:!1}}_doApplyEdits(N){N.sort(Hn._sortOpsDescending);const Z=[];for(let j=0;j<N.length;j++){const _e=N[j],Ne=_e.range.startLineNumber,Oe=_e.range.startColumn,Ke=_e.range.endLineNumber,wt=_e.range.endColumn;if(Ne===Ke&&Oe===wt&&_e.text.length===0)continue;_e.text?(this._pieceTree.delete(_e.rangeOffset,_e.rangeLength),this._pieceTree.insert(_e.rangeOffset,_e.text,!0)):this._pieceTree.delete(_e.rangeOffset,_e.rangeLength);const kt=new f.Q(Ne,Oe,Ke,wt);Z.push({range:kt,rangeLength:_e.rangeLength,text:_e.text,rangeOffset:_e.rangeOffset,forceMoveMarkers:_e.forceMoveMarkers})}return Z}findMatchesLineByLine(N,Z,j,_e){return this._pieceTree.findMatchesLineByLine(N,Z,j,_e)}static _getInverseEditRanges(N){const Z=[];let j=0,_e=0,Ne=null;for(let Oe=0,Ke=N.length;Oe<Ke;Oe++){const wt=N[Oe];let kt,Et,st;if(Ne?Ne.range.endLineNumber===wt.range.startLineNumber?(kt=j,Et=_e+(wt.range.startColumn-Ne.range.endColumn)):(kt=j+(wt.range.startLineNumber-Ne.range.endLineNumber),Et=wt.range.startColumn):(kt=wt.range.startLineNumber,Et=wt.range.startColumn),wt.text.length>0){const Bt=wt.eolCount+1;st=Bt===1?new f.Q(kt,Et,kt,Et+wt.firstLineLength):new f.Q(kt,Et,kt+Bt-1,wt.lastLineLength+1)}else st=new f.Q(kt,Et,kt,Et);j=st.endLineNumber,_e=st.endColumn,Z.push(st),Ne=wt}return Z}static _sortOpsAscending(N,Z){const j=f.Q.compareRangesUsingEnds(N.range,Z.range);return j===0?N.sortIndex-Z.sortIndex:j}static _sortOpsDescending(N,Z){const j=f.Q.compareRangesUsingEnds(N.range,Z.range);return j===0?Z.sortIndex-N.sortIndex:-j}}class Xt{constructor(N,Z,j,_e,Ne,Oe,Ke,wt,kt){this._chunks=N,this._bom=Z,this._cr=j,this._lf=_e,this._crlf=Ne,this._containsRTL=Oe,this._containsUnusualLineTerminators=Ke,this._isBasicASCII=wt,this._normalizeEOL=kt}_getEOL(N){const Z=this._cr+this._lf+this._crlf,j=this._cr+this._crlf;return Z===0?N===1?"\n":"\r\n":j>Z/2?"\r\n":"\n"}create(N){const Z=this._getEOL(N),j=this._chunks;if(this._normalizeEOL&&(Z==="\r\n"&&(this._cr>0||this._lf>0)||Z==="\n"&&(this._cr>0||this._crlf>0)))for(let Ne=0,Oe=j.length;Ne<Oe;Ne++){const Ke=j[Ne].buffer.replace(/\r\n|\r|\n/g,Z),wt=rr(Ke);j[Ne]=new un(Ke,wt)}const _e=new Hn(j,this._bom,Z,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:_e,disposable:_e}}}class pi{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(N){if(N.length===0)return;this.chunks.length===0&&v.LU(N)&&(this.BOM=v.r_,N=N.substr(1));const Z=N.charCodeAt(N.length-1);Z===13||Z>=55296&&Z<=56319?(this._acceptChunk1(N.substr(0,N.length-1),!1),this._hasPreviousChar=!0,this._previousChar=Z):(this._acceptChunk1(N,!1),this._hasPreviousChar=!1,this._previousChar=Z)}_acceptChunk1(N,Z){(Z||N.length!==0)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+N):this._acceptChunk2(N))}_acceptChunk2(N){const Z=function(j,_e){j.length=0,j[0]=0;let Ne=1,Oe=0,Ke=0,wt=0,kt=!0;for(let st=0,Bt=_e.length;st<Bt;st++){const Rt=_e.charCodeAt(st);Rt===13?st+1<Bt&&_e.charCodeAt(st+1)===10?(wt++,j[Ne++]=st+2,st++):(Oe++,j[Ne++]=st+1):Rt===10?(Ke++,j[Ne++]=st+1):kt&&Rt!==9&&(Rt<32||Rt>126)&&(kt=!1)}const Et=new tr(Zi(j),Oe,Ke,wt,kt);return j.length=0,Et}(this._tmpLineStarts,N);this.chunks.push(new un(N,Z.lineStarts)),this.cr+=Z.cr,this.lf+=Z.lf,this.crlf+=Z.crlf,Z.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=v.E_(N)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=v.$X(N)))}finish(N=!0){return this._finish(),new Xt(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,N)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const N=this.chunks[this.chunks.length-1];N.buffer+=String.fromCharCode(this._previousChar);const Z=rr(N.buffer);N.lineStarts=Z,this._previousChar===13&&this.cr++}}}var Ji=h(9955),Gi=h(8782),dr=h(4364),Ui=h(2177),Xi=h(5958),Pi=h(3339),ar=h(3013),Hi=h(2532),or=h(7036);class Yi{constructor(N){this._default=N,this._store=[]}get(N){return N<this._store.length?this._store[N]:this._default}set(N,Z){for(;N>=this._store.length;)this._store[this._store.length]=this._default;this._store[N]=Z}replace(N,Z,j){if(N>=this._store.length)return;if(Z===0)return void this.insert(N,j);if(j===0)return void this.delete(N,Z);const _e=this._store.slice(0,N),Ne=this._store.slice(N+Z),Oe=function(Ke,wt){const kt=[];for(let Et=0;Et<Ke;Et++)kt[Et]=wt;return kt}(j,this._default);this._store=_e.concat(Oe,Ne)}delete(N,Z){Z===0||N>=this._store.length||this._store.splice(N,Z)}insert(N,Z){if(Z===0||N>=this._store.length)return;const j=[];for(let _e=0;_e<Z;_e++)j[_e]=this._default;this._store=s.nK(this._store,N,j)}}class _t{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(N,Z){this._startLineNumber=N,this._tokens=Z}getLineTokens(N){return this._tokens[N-this._startLineNumber]}appendLineTokens(N){this._tokens.push(N)}}class Kt{constructor(){this._tokens=[]}add(N,Z){if(this._tokens.length>0){const j=this._tokens[this._tokens.length-1];if(j.endLineNumber+1===N)return void j.appendLineTokens(Z)}this._tokens.push(new _t(N,[Z]))}finalize(){return this._tokens}}var tn=h(7445);class In{constructor(N,Z){this.tokenizationSupport=Z,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new wn(N)}getStartState(N){return this.store.getStartState(N,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class mn extends In{constructor(N,Z,j,_e){super(N,Z),this._textModel=j,this._languageIdCodec=_e}updateTokensUntilLine(N,Z){const j=this._textModel.getLanguageId();for(;;){const _e=this.getFirstInvalidLine();if(!_e||_e.lineNumber>Z)break;const Ne=this._textModel.getLineContent(_e.lineNumber),Oe=qn(this._languageIdCodec,j,this.tokenizationSupport,Ne,!0,_e.startState);N.add(_e.lineNumber,Oe.tokens),this.store.setEndState(_e.lineNumber,Oe.endState)}}getTokenTypeIfInsertingCharacter(N,Z){const j=this.getStartState(N.lineNumber);if(!j)return 0;const _e=this._textModel.getLanguageId(),Ne=this._textModel.getLineContent(N.lineNumber),Oe=Ne.substring(0,N.column-1)+Z+Ne.substring(N.column-1),Ke=qn(this._languageIdCodec,_e,this.tokenizationSupport,Oe,!0,j),wt=new tn.f(Ke.tokens,Oe,this._languageIdCodec);if(wt.getCount()===0)return 0;const kt=wt.findTokenIndexAtOffset(N.column-1);return wt.getStandardTokenType(kt)}tokenizeLineWithEdit(N,Z,j){const{lineNumber:_e,column:Ne}=N,Oe=this.getStartState(_e);if(!Oe)return null;const Ke=this._textModel.getLineContent(_e),wt=Ke.substring(0,Ne-1)+j+Ke.substring(Ne-1+Z),kt=this._textModel.getLanguageIdAtPosition(_e,0),Et=qn(this._languageIdCodec,kt,this.tokenizationSupport,wt,!0,Oe);return new tn.f(Et.tokens,wt,this._languageIdCodec)}hasAccurateTokensForLine(N){return N<this.store.getFirstInvalidEndStateLineNumberOrMax()}isCheapToTokenize(N){const Z=this.store.getFirstInvalidEndStateLineNumberOrMax();return N<Z||N===Z&&this._textModel.getLineLength(N)<2048}tokenizeHeuristically(N,Z,j){if(j<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(Z<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(N,j),{heuristicTokens:!1};let _e=this.guessStartState(Z);const Ne=this._textModel.getLanguageId();for(let Oe=Z;Oe<=j;Oe++){const Ke=this._textModel.getLineContent(Oe),wt=qn(this._languageIdCodec,Ne,this.tokenizationSupport,Ke,!0,_e);N.add(Oe,wt.tokens),_e=wt.endState}return{heuristicTokens:!0}}guessStartState(N){let Z=this._textModel.getLineFirstNonWhitespaceColumn(N);const j=[];let _e=null;for(let Ke=N-1;Z>1&&Ke>=1;Ke--){const wt=this._textModel.getLineFirstNonWhitespaceColumn(Ke);if(wt!==0&&wt<Z&&(j.push(this._textModel.getLineContent(Ke)),Z=wt,_e=this.getStartState(Ke),_e))break}_e||(_e=this.tokenizationSupport.getInitialState()),j.reverse();const Ne=this._textModel.getLanguageId();let Oe=_e;for(let Ke of j)Oe=qn(this._languageIdCodec,Ne,this.tokenizationSupport,Ke,!1,Oe).endState;return Oe}}class wn{constructor(N){this.lineCount=N,this._tokenizationStateStore=new An,this._invalidEndStatesLineNumbers=new fi,this._invalidEndStatesLineNumbers.addRange(new Hi.L(1,N+1))}getEndState(N){return this._tokenizationStateStore.getEndState(N)}setEndState(N,Z){if(!Z)throw new T.D7("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(N);const j=this._tokenizationStateStore.setEndState(N,Z);return j&&N<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Hi.L(N+1,N+2)),j}acceptChange(N,Z){this.lineCount+=Z-N.length,this._tokenizationStateStore.acceptChange(N,Z),this._invalidEndStatesLineNumbers.addRangeAndResize(new Hi.L(N.startLineNumber,N.endLineNumberExclusive),Z)}acceptChanges(N){for(let Z of N){const[j]=w.W(Z.text);this.acceptChange(new Ji.M(Z.range.startLineNumber,Z.range.endLineNumber+1),j+1)}}invalidateEndStateRange(N){this._invalidEndStatesLineNumbers.addRange(new Hi.L(N.startLineNumber,N.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(N,Z){return N===1?Z:this.getEndState(N-1)}getFirstInvalidLine(N){const Z=this.getFirstInvalidEndStateLineNumber();if(Z===null)return null;const j=this.getStartState(Z,N);if(!j)throw new T.D7("Start state must be defined");return{lineNumber:Z,startState:j}}}class An{constructor(){this._lineEndStates=new Yi(null)}getEndState(N){return this._lineEndStates.get(N)}setEndState(N,Z){const j=this._lineEndStates.get(N);return!(j&&j.equals(Z)||(this._lineEndStates.set(N,Z),0))}acceptChange(N,Z){let j=N.length;Z>0&&j>0&&(j--,Z--),this._lineEndStates.replace(N.startLineNumber,j,Z)}}class fi{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(N){const Z=this._ranges.findIndex((j)=>j.contains(N));if(Z!==-1){const j=this._ranges[Z];j.start===N?j.endExclusive===N+1?this._ranges.splice(Z,1):this._ranges[Z]=new Hi.L(N+1,j.endExclusive):j.endExclusive===N+1?this._ranges[Z]=new Hi.L(j.start,N):this._ranges.splice(Z,1,new Hi.L(j.start,N),new Hi.L(N+1,j.endExclusive))}}addRange(N){Hi.L.addRange(N,this._ranges)}addRangeAndResize(N,Z){let j=0;for(;!(j>=this._ranges.length||N.start<=this._ranges[j].endExclusive);)j++;let _e=j;for(;!(_e>=this._ranges.length||N.endExclusive<this._ranges[_e].start);)_e++;const Ne=Z-N.length;for(let Oe=_e;Oe<this._ranges.length;Oe++)this._ranges[Oe]=this._ranges[Oe].delta(Ne);if(j===_e){const Oe=new Hi.L(N.start,N.start+Z);Oe.isEmpty||this._ranges.splice(j,0,Oe)}else{const Oe=Math.min(N.start,this._ranges[j].start),Ke=Math.max(N.endExclusive,this._ranges[_e-1].endExclusive),wt=new Hi.L(Oe,Ke+Ne);wt.isEmpty?this._ranges.splice(j,_e-j):this._ranges.splice(j,_e-j,wt)}}toString(){return this._ranges.map((N)=>N.toString()).join(" + ")}}function qn(N,Z,j,_e,Ne,Oe){let Ke=null;if(j)try{Ke=j.tokenizeEncoded(_e,Ne,Oe.clone())}catch(wt){T.dz(wt)}return Ke||(Ke=or.Lh(N.encodeLanguageId(Z),Oe)),tn.f.convertToEndOffset(Ke.tokens,_e.length),Ke}class oi{constructor(N,Z){this._tokenizerWithStateStore=N,this._backgroundTokenStore=Z,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){!this._isScheduled&&this._tokenizerWithStateStore._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._isScheduled=!0,Xi.$6((N)=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(N)}))}_backgroundTokenizeWithDeadline(N){const Z=Date.now()+N.timeRemaining(),j=()=>{!this._isDisposed&&this._tokenizerWithStateStore._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._backgroundTokenizeForAtLeast1ms(),Date.now()<Z?Pi._p(j):this._beginBackgroundTokenization())};j()}_backgroundTokenizeForAtLeast1ms(){const N=this._tokenizerWithStateStore._textModel.getLineCount(),Z=new Kt,j=ar.W.create(!1);do{if(j.elapsed()>1)break;if(this._tokenizeOneInvalidLine(Z)>=N)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(Z.finalize()),this.checkFinished()}_hasLinesToTokenize(){return!!this._tokenizerWithStateStore&&!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(N){const Z=this._tokenizerWithStateStore?.getFirstInvalidLine();return Z?(this._tokenizerWithStateStore.updateTokensUntilLine(N,Z.lineNumber),Z.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(N,Z){this._tokenizerWithStateStore.store.invalidateEndStateRange(new Ji.M(N,Z))}}class Ai{constructor(){this._onDidChangeVisibleRanges=new J.vl,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const N=new nr((Z)=>{this._onDidChangeVisibleRanges.fire({view:N,state:Z})});return this._views.add(N),N}detachView(N){this._views.delete(N),this._onDidChangeVisibleRanges.fire({view:N,state:void 0})}}class nr{constructor(N){this.handleStateChange=N}setVisibleLines(N,Z){const j=N.map((_e)=>new Ji.M(_e.startLineNumber,_e.endLineNumber+1));this.handleStateChange({visibleLineRanges:j,stabilized:Z})}}class $i extends M.jG{get lineRanges(){return this._lineRanges}constructor(N){super(),this._refreshTokens=N,this.runner=this._register(new Xi.uC(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){s.aI(this._computedLineRanges,this._lineRanges,(N,Z)=>N.equals(Z))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(N){this._lineRanges=N.visibleLineRanges,N.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class ji extends M.jG{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(N,Z,j){super(),this._languageIdCodec=N,this._textModel=Z,this.getLanguageId=j,this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new J.vl),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new J.vl),this.onDidChangeTokens=this._onDidChangeTokens.event}tokenizeIfCheap(N){this.isCheapToTokenize(N)&&this.forceTokenization(N)}}class di extends ji{constructor(N,Z,j,_e){super(Z,j,_e),this._treeSitterService=N,this._tokenizationSupport=null,this._initialize()}_initialize(){const N=this.getLanguageId();this._tokenizationSupport&&this._lastLanguageId===N||(this._lastLanguageId=N,this._tokenizationSupport=dr.OB.get(N))}getLineTokens(N){const Z=this._textModel.getLineContent(N);if(this._tokenizationSupport){const j=this._tokenizationSupport.tokenizeEncoded(N,this._textModel);if(j)return new tn.f(j,Z,this._languageIdCodec)}return tn.f.createEmpty(Z,this._languageIdCodec)}resetTokenization(N=!0){N&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(N){N.isFlush&&this.resetTokenization(!1)}forceTokenization(N){}hasAccurateTokensForLine(N){return!0}isCheapToTokenize(N){return!0}getTokenTypeIfInsertingCharacter(N,Z,j){return 0}tokenizeLineWithEdit(N,Z,j){return null}get hasTokens(){return this._treeSitterService.getParseResult(this._textModel)!==void 0}}var Qi=h(5320);const wr=new Uint32Array(0).buffer;class ht{static deleteBeginning(N,Z){return N===null||N===wr?N:ht.delete(N,0,Z)}static deleteEnding(N,Z){if(N===null||N===wr)return N;const j=xt(N),_e=j[j.length-2];return ht.delete(N,Z,_e)}static delete(N,Z,j){if(N===null||N===wr||Z===j)return N;const _e=xt(N),Ne=_e.length>>>1;if(Z===0&&_e[_e.length-2]===j)return wr;const Oe=tn.f.findIndexInTokensArray(_e,Z),Ke=Oe>0?_e[Oe-1<<1]:0;if(j<_e[Oe<<1]){const Bt=j-Z;for(let Rt=Oe;Rt<Ne;Rt++)_e[Rt<<1]-=Bt;return N}let wt,kt;Ke!==Z?(_e[Oe<<1]=Z,wt=Oe+1<<1,kt=Z):(wt=Oe<<1,kt=Ke);const Et=j-Z;for(let Bt=Oe+1;Bt<Ne;Bt++){const Rt=_e[Bt<<1]-Et;Rt>kt&&(_e[wt++]=Rt,_e[wt++]=_e[1+(Bt<<1)],kt=Rt)}if(wt===_e.length)return N;const st=new Uint32Array(wt);return st.set(_e.subarray(0,wt),0),st.buffer}static append(N,Z){if(Z===wr)return N;if(N===wr)return Z;if(N===null)return N;if(Z===null)return null;const j=xt(N),_e=xt(Z),Ne=_e.length>>>1,Oe=new Uint32Array(j.length+_e.length);Oe.set(j,0);let Ke=j.length;const wt=j[j.length-2];for(let kt=0;kt<Ne;kt++)Oe[Ke++]=_e[kt<<1]+wt,Oe[Ke++]=_e[1+(kt<<1)];return Oe.buffer}static insert(N,Z,j){if(N===null||N===wr)return N;const _e=xt(N),Ne=_e.length>>>1;let Oe=tn.f.findIndexInTokensArray(_e,Z);Oe>0&&_e[Oe-1<<1]===Z&&Oe--;for(let Ke=Oe;Ke<Ne;Ke++)_e[Ke<<1]+=j;return N}}function xt(N){return N instanceof Uint32Array?N:new Uint32Array(N)}var se=h(5910);class Ae{constructor(N){this._lineTokens=[],this._len=0,this._languageIdCodec=N}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(N,Z,j){let _e=null;if(Z<this._len&&(_e=this._lineTokens[Z]),_e!==null&&_e!==wr)return new tn.f(xt(_e),j,this._languageIdCodec);const Ne=new Uint32Array(2);return Ne[0]=j.length,Ne[1]=He(this._languageIdCodec.encodeLanguageId(N)),new tn.f(Ne,j,this._languageIdCodec)}static _massageTokens(N,Z,j){const _e=j?xt(j):null;if(Z===0){let Ne=!1;if(_e&&_e.length>1&&(Ne=se.x.getLanguageId(_e[1])!==N),!Ne)return wr}if(!_e||_e.length===0){const Ne=new Uint32Array(2);return Ne[0]=Z,Ne[1]=He(N),Ne.buffer}return _e[_e.length-2]=Z,_e.byteOffset===0&&_e.byteLength===_e.buffer.byteLength?_e.buffer:_e}_ensureLine(N){for(;N>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(N,Z){Z!==0&&(N+Z>this._len&&(Z=this._len-N),this._lineTokens.splice(N,Z),this._len-=Z)}_insertLines(N,Z){if(Z===0)return;const j=[];for(let _e=0;_e<Z;_e++)j[_e]=null;this._lineTokens=s.nK(this._lineTokens,N,j),this._len+=Z}setTokens(N,Z,j,_e,Ne){const Oe=Ae._massageTokens(this._languageIdCodec.encodeLanguageId(N),j,_e);this._ensureLine(Z);const Ke=this._lineTokens[Z];return this._lineTokens[Z]=Oe,!!Ne&&!Ae._equals(Ke,Oe)}static _equals(N,Z){if(!N||!Z)return!N&&!Z;const j=xt(N),_e=xt(Z);if(j.length!==_e.length)return!1;for(let Ne=0,Oe=j.length;Ne<Oe;Ne++)if(j[Ne]!==_e[Ne])return!1;return!0}acceptEdit(N,Z,j){this._acceptDeleteRange(N),this._acceptInsertText(new d.y(N.startLineNumber,N.startColumn),Z,j)}_acceptDeleteRange(N){const Z=N.startLineNumber-1;if(Z>=this._len)return;if(N.startLineNumber===N.endLineNumber){if(N.startColumn===N.endColumn)return;return void(this._lineTokens[Z]=ht.delete(this._lineTokens[Z],N.startColumn-1,N.endColumn-1))}this._lineTokens[Z]=ht.deleteEnding(this._lineTokens[Z],N.startColumn-1);const j=N.endLineNumber-1;let _e=null;j<this._len&&(_e=ht.deleteBeginning(this._lineTokens[j],N.endColumn-1)),this._lineTokens[Z]=ht.append(this._lineTokens[Z],_e),this._deleteLines(N.startLineNumber,N.endLineNumber-N.startLineNumber)}_acceptInsertText(N,Z,j){if(Z===0&&j===0)return;const _e=N.lineNumber-1;_e>=this._len||(Z!==0?(this._lineTokens[_e]=ht.deleteEnding(this._lineTokens[_e],N.column-1),this._lineTokens[_e]=ht.insert(this._lineTokens[_e],N.column-1,j),this._insertLines(N.lineNumber,Z)):this._lineTokens[_e]=ht.insert(this._lineTokens[_e],N.column-1,j))}setMultilineTokens(N,Z){if(N.length===0)return{changes:[]};const j=[];for(let _e=0,Ne=N.length;_e<Ne;_e++){const Oe=N[_e];let Ke=0,wt=0,kt=!1;for(let Et=Oe.startLineNumber;Et<=Oe.endLineNumber;Et++)kt?(this.setTokens(Z.getLanguageId(),Et-1,Z.getLineLength(Et),Oe.getLineTokens(Et),!1),wt=Et):this.setTokens(Z.getLanguageId(),Et-1,Z.getLineLength(Et),Oe.getLineTokens(Et),!0)&&(kt=!0,Ke=Et,wt=Et);kt&&j.push({fromLineNumber:Ke,toLineNumber:wt})}return{changes:j}}}function He(N){return(32768|N|33554432|1024)>>>0}class mt{constructor(N){this._pieces=[],this._isComplete=!1,this._languageIdCodec=N}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(N,Z){this._pieces=N||[],this._isComplete=Z}setPartial(N,Z){let j=N;if(Z.length>0){const Ne=Z[0].getRange(),Oe=Z[Z.length-1].getRange();if(!Ne||!Oe)return N;j=N.plusRange(Ne).plusRange(Oe)}let _e=null;for(let Ne=0,Oe=this._pieces.length;Ne<Oe;Ne++){const Ke=this._pieces[Ne];if(Ke.endLineNumber<j.startLineNumber)continue;if(Ke.startLineNumber>j.endLineNumber){_e=_e||{index:Ne};break}if(Ke.removeTokens(j),Ke.isEmpty()){this._pieces.splice(Ne,1),Ne--,Oe--;continue}if(Ke.endLineNumber<j.startLineNumber)continue;if(Ke.startLineNumber>j.endLineNumber){_e=_e||{index:Ne};continue}const[wt,kt]=Ke.split(j);wt.isEmpty()?_e=_e||{index:Ne}:kt.isEmpty()||(this._pieces.splice(Ne,1,wt,kt),Ne++,Oe++,_e=_e||{index:Ne})}return _e=_e||{index:this._pieces.length},Z.length>0&&(this._pieces=s.nK(this._pieces,_e.index,Z)),j}isComplete(){return this._isComplete}addSparseTokens(N,Z){if(Z.getLineContent().length===0)return Z;const j=this._pieces;if(j.length===0)return Z;const _e=j[mt._findFirstPieceWithLine(j,N)].getLineTokens(N);if(!_e)return Z;const Ne=Z.getCount(),Oe=_e.getCount();let Ke=0;const wt=[];let kt=0,Et=0;const st=(Bt,Rt)=>{Bt!==Et&&(Et=Bt,wt[kt++]=Bt,wt[kt++]=Rt)};for(let Bt=0;Bt<Oe;Bt++){const Rt=_e.getStartCharacter(Bt),en=_e.getEndCharacter(Bt),hn=_e.getMetadata(Bt),je=((1&hn?2048:0)|(2&hn?4096:0)|(4&hn?8192:0)|(8&hn?16384:0)|(16&hn?16744448:0)|(32&hn?4278190080:0))>>>0,ze=~je>>>0;for(;Ke<Ne&&Z.getEndOffset(Ke)<=Rt;)st(Z.getEndOffset(Ke),Z.getMetadata(Ke)),Ke++;for(Ke<Ne&&Z.getStartOffset(Ke)<Rt&&st(Rt,Z.getMetadata(Ke));Ke<Ne&&Z.getEndOffset(Ke)<en;)st(Z.getEndOffset(Ke),Z.getMetadata(Ke)&ze|hn&je),Ke++;if(Ke<Ne)st(en,Z.getMetadata(Ke)&ze|hn&je),Z.getEndOffset(Ke)===en&&Ke++;else{const De=Math.min(Math.max(0,Ke-1),Ne-1);st(en,Z.getMetadata(De)&ze|hn&je)}}for(;Ke<Ne;)st(Z.getEndOffset(Ke),Z.getMetadata(Ke)),Ke++;return new tn.f(new Uint32Array(wt),Z.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(N,Z){let j=0,_e=N.length-1;for(;j<_e;){let Ne=j+Math.floor((_e-j)/2);if(N[Ne].endLineNumber<Z)j=Ne+1;else{if(!(N[Ne].startLineNumber>Z)){for(;Ne>j&&N[Ne-1].startLineNumber<=Z&&Z<=N[Ne-1].endLineNumber;)Ne--;return Ne}_e=Ne-1}}return j}acceptEdit(N,Z,j,_e,Ne){for(let Oe of this._pieces)Oe.acceptEdit(N,Z,j,_e,Ne)}}var At,zt=function(N,Z){return function(j,_e){Z(j,_e,N)}};let Pt=At=class extends Ui._{constructor(N,Z,j,_e,Ne,Oe,Ke){super(),this._textModel=N,this._bracketPairsTextModelPart=Z,this._languageId=j,this._attachedViews=_e,this._languageService=Ne,this._languageConfigurationService=Oe,this._treeSitterService=Ke,this._semanticTokens=new mt(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new J.vl),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new J.vl),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new J.vl),this.onDidChangeTokens=this._onDidChangeTokens.event,this._tokensDisposables=this._register(new M.Cm),this._register(this._languageConfigurationService.onDidChange((wt)=>{wt.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(J.Jh.filter(dr.OB.onDidChange,(wt)=>wt.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()})),this.createPreferredTokenProvider()}createGrammarTokens(){return this._register(new Wt(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new di(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(N){const Z=this._tokens!==void 0;this._tokens?.dispose(),this._tokens=N?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens((j)=>{this._emitModelTokensChangedEvent(j)})),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState((j)=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),Z&&this._tokens.resetTokenization()}createPreferredTokenProvider(){dr.OB.get(this._languageId)?this._tokens instanceof di||this.createTokens(!0):this._tokens instanceof Wt||this.createTokens(!1)}handleLanguageConfigurationServiceChange(N){N.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(N){if(N.isFlush)this._semanticTokens.flush();else if(!N.isEolChange)for(let Z of N.changes){const[j,_e,Ne]=w.W(Z.text);this._semanticTokens.acceptEdit(Z.range,j,_e,Ne,Z.text.length>0?Z.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(N)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(N){this.validateLineNumber(N);const Z=this._tokens.getLineTokens(N);return this._semanticTokens.addSparseTokens(N,Z)}_emitModelTokensChangedEvent(N){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(N),this._onDidChangeTokens.fire(N))}validateLineNumber(N){if(N<1||N>this._textModel.getLineCount())throw new T.D7("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(N){this.validateLineNumber(N),this._tokens.forceTokenization(N)}hasAccurateTokensForLine(N){return this.validateLineNumber(N),this._tokens.hasAccurateTokensForLine(N)}isCheapToTokenize(N){return this.validateLineNumber(N),this._tokens.isCheapToTokenize(N)}tokenizeIfCheap(N){this.validateLineNumber(N),this._tokens.tokenizeIfCheap(N)}getTokenTypeIfInsertingCharacter(N,Z,j){return this._tokens.getTokenTypeIfInsertingCharacter(N,Z,j)}tokenizeLineWithEdit(N,Z,j){return this._tokens.tokenizeLineWithEdit(N,Z,j)}setSemanticTokens(N,Z){this._semanticTokens.set(N,Z),this._emitModelTokensChangedEvent({semanticTokensApplied:N!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(N,Z){if(this.hasCompleteSemanticTokens())return;const j=this._textModel.validateRange(this._semanticTokens.setPartial(N,Z));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:j.startLineNumber,toLineNumber:j.endLineNumber}]})}getWordAtPosition(N){this.assertNotDisposed();const Z=this._textModel.validatePosition(N),j=this._textModel.getLineContent(Z.lineNumber),_e=this.getLineTokens(Z.lineNumber),Ne=_e.findTokenIndexAtOffset(Z.column-1),[Oe,Ke]=At._findLanguageBoundaries(_e,Ne),wt=Gi.Th(Z.column,this.getLanguageConfiguration(_e.getLanguageId(Ne)).getWordDefinition(),j.substring(Oe,Ke),Oe);if(wt&&wt.startColumn<=N.column&&N.column<=wt.endColumn)return wt;if(Ne>0&&Oe===Z.column-1){const[kt,Et]=At._findLanguageBoundaries(_e,Ne-1),st=Gi.Th(Z.column,this.getLanguageConfiguration(_e.getLanguageId(Ne-1)).getWordDefinition(),j.substring(kt,Et),kt);if(st&&st.startColumn<=N.column&&N.column<=st.endColumn)return st}return null}getLanguageConfiguration(N){return this._languageConfigurationService.getLanguageConfiguration(N)}static _findLanguageBoundaries(N,Z){const j=N.getLanguageId(Z);let _e=0;for(let Oe=Z;Oe>=0&&N.getLanguageId(Oe)===j;Oe--)_e=N.getStartOffset(Oe);let Ne=N.getLineContent().length;for(let Oe=Z,Ke=N.getCount();Oe<Ke&&N.getLanguageId(Oe)===j;Oe++)Ne=N.getEndOffset(Oe);return[_e,Ne]}getWordUntilPosition(N){const Z=this.getWordAtPosition(N);return Z?{word:Z.word.substr(0,N.column-Z.startColumn),startColumn:Z.startColumn,endColumn:N.column}:{word:"",startColumn:N.column,endColumn:N.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(N,Z){const j=this._textModel.validatePosition(new d.y(N,Z)),_e=this.getLineTokens(j.lineNumber);return _e.getLanguageId(_e.findTokenIndexAtOffset(j.column-1))}setLanguageId(N,Z="api"){if(this._languageId===N)return;const j={oldLanguage:this._languageId,newLanguage:N,source:Z};this._languageId=N,this._bracketPairsTextModelPart.handleDidChangeLanguage(j),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(j),this._onDidChangeLanguageConfiguration.fire({})}};Pt=At=function(N,Z,j,_e){var Ne,Oe=arguments.length,Ke=Oe<3?Z:_e===null?_e=Object.getOwnPropertyDescriptor(Z,j):_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(N,Z,j,_e);else for(var wt=N.length-1;wt>=0;wt--)(Ne=N[wt])&&(Ke=(Oe<3?Ne(Ke):Oe>3?Ne(Z,j,Ke):Ne(Z,j))||Ke);return Oe>3&&Ke&&Object.defineProperty(Z,j,Ke),Ke}([zt(4,m.L),zt(5,b.JZ),zt(6,Qi.ITreeSitterParserService)],Pt);class Wt extends ji{constructor(N,Z,j,_e){super(N,Z,j),this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new M.HE),this._tokens=new Ae(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new M.HE),this._attachedViewStates=this._register(new M.$w),this._register(dr.dG.onDidChange((Ne)=>{const Oe=this.getLanguageId();Ne.changedLanguages.indexOf(Oe)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(_e.onDidChangeVisibleRanges(({view:Ne,state:Oe})=>{if(Oe){let Ke=this._attachedViewStates.get(Ne);Ke||(Ke=new $i(()=>this.refreshRanges(Ke.lineRanges)),this._attachedViewStates.set(Ne,Ke)),Ke.handleStateChange(Oe)}else this._attachedViewStates.deleteAndDispose(Ne)}))}resetTokenization(N=!0){this._tokens.flush(),this._debugBackgroundTokens?.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new wn(this._textModel.getLineCount())),N&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const[Z,j]=(()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const _e=dr.dG.get(this.getLanguageId());if(!_e)return[null,null];let Ne;try{Ne=_e.getInitialState()}catch(Oe){return T.dz(Oe),[null,null]}return[_e,Ne]})();if(this._tokenizer=Z&&j?new mn(this._textModel.getLineCount(),Z,this._textModel,this._languageIdCodec):null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const _e={setTokens:(Ne)=>{this.setTokens(Ne)},backgroundTokenizationFinished:()=>{this._backgroundTokenizationState!==2&&(this._backgroundTokenizationState=2,this._onDidChangeBackgroundTokenizationState.fire())},setEndState:(Ne,Oe)=>{if(!this._tokenizer)return;const Ke=this._tokenizer.store.getFirstInvalidEndStateLineNumber();Ke!==null&&Ne>=Ke&&this._tokenizer?.store.setEndState(Ne,Oe)}};Z&&Z.createBackgroundTokenizer&&!Z.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=Z.createBackgroundTokenizer(this._textModel,_e)),this._backgroundTokenizer.value||this._textModel.isTooLargeForTokenization()||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new oi(this._tokenizer,_e),this._defaultBackgroundTokenizer.handleChanges()),Z?.backgroundTokenizerShouldOnlyVerifyTokens&&Z.createBackgroundTokenizer?(this._debugBackgroundTokens=new Ae(this._languageIdCodec),this._debugBackgroundStates=new wn(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=Z.createBackgroundTokenizer(this._textModel,{setTokens:(Ne)=>{this._debugBackgroundTokens?.setMultilineTokens(Ne,this._textModel)},backgroundTokenizationFinished(){},setEndState:(Ne,Oe)=>{this._debugBackgroundStates?.setEndState(Ne,Oe)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){this._defaultBackgroundTokenizer?.handleChanges()}handleDidChangeContent(N){if(N.isFlush)this.resetTokenization(!1);else if(!N.isEolChange){for(let Z of N.changes){const[j,_e]=w.W(Z.text);this._tokens.acceptEdit(Z.range,j,_e),this._debugBackgroundTokens?.acceptEdit(Z.range,j,_e)}this._debugBackgroundStates?.acceptChanges(N.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(N.changes),this._defaultBackgroundTokenizer?.handleChanges()}}setTokens(N){const{changes:Z}=this._tokens.setMultilineTokens(N,this._textModel);return Z.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:Z}),{changes:Z}}refreshAllVisibleLineTokens(){const N=Ji.M.joinMany([...this._attachedViewStates].map(([Z,j])=>j.lineRanges));this.refreshRanges(N)}refreshRanges(N){for(let Z of N)this.refreshRange(Z.startLineNumber,Z.endLineNumberExclusive-1)}refreshRange(N,Z){if(!this._tokenizer)return;N=Math.max(1,Math.min(this._textModel.getLineCount(),N)),Z=Math.min(this._textModel.getLineCount(),Z);const j=new Kt,{heuristicTokens:_e}=this._tokenizer.tokenizeHeuristically(j,N,Z),Ne=this.setTokens(j.finalize());if(_e)for(let Oe of Ne.changes)this._backgroundTokenizer.value?.requestTokens(Oe.fromLineNumber,Oe.toLineNumber+1);this._defaultBackgroundTokenizer?.checkFinished()}forceTokenization(N){const Z=new Kt;this._tokenizer?.updateTokensUntilLine(Z,N),this.setTokens(Z.finalize()),this._defaultBackgroundTokenizer?.checkFinished()}hasAccurateTokensForLine(N){return!this._tokenizer||this._tokenizer.hasAccurateTokensForLine(N)}isCheapToTokenize(N){return!this._tokenizer||this._tokenizer.isCheapToTokenize(N)}getLineTokens(N){const Z=this._textModel.getLineContent(N),j=this._tokens.getTokens(this._textModel.getLanguageId(),N-1,Z);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>N&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>N){const _e=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),N-1,Z);!j.equals(_e)&&this._debugBackgroundTokenizer.value?.reportMismatchingTokens&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(N)}return j}getTokenTypeIfInsertingCharacter(N,Z,j){if(!this._tokenizer)return 0;const _e=this._textModel.validatePosition(new d.y(N,Z));return this.forceTokenization(_e.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(_e,j)}tokenizeLineWithEdit(N,Z,j){if(!this._tokenizer)return null;const _e=this._textModel.validatePosition(N);return this.forceTokenization(_e.lineNumber),this._tokenizer.tokenizeLineWithEdit(_e,Z,j)}get hasTokens(){return this._tokens.hasTokens}}var Nn,bn=h(3455),Jn=h(2399),$e=h(8803),tt=function(N,Z){return function(j,_e){Z(j,_e,N)}};function gt(N,Z){let j;return j=typeof N=="string"?function(_e){const Ne=new pi;return Ne.acceptChunk(_e),Ne.finish()}(N):x.nk(N)?function(_e){const Ne=new pi;let Oe;for(;typeof(Oe=_e.read())=="string";)Ne.acceptChunk(Oe);return Ne.finish()}(N):N,j.create(Z)}let bt=0;class ke{constructor(N){this._source=N,this._eos=!1}read(){if(this._eos)return null;const N=[];let Z=0,j=0;for(;;){const _e=this._source.read();if(_e===null)return this._eos=!0,Z===0?null:N.join("");if(_e.length>0&&(N[Z++]=_e,j+=_e.length),j>=65536)return N.join("")}}}const qt=()=>{throw new Error("Invalid change accessor")};let Ot=class extends M.jG{static{Nn=this}static{this._MODEL_SYNC_LIMIT=52428800}static{this.LARGE_FILE_SIZE_THRESHOLD=20971520}static{this.LARGE_FILE_LINE_COUNT_THRESHOLD=300000}static{this.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456}static{this.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:_.R.tabSize,indentSize:_.R.indentSize,insertSpaces:_.R.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:_.R.trimAutoWhitespace,largeFileOptimizations:_.R.largeFileOptimizations,bracketPairColorizationOptions:_.R.bracketPairColorizationOptions}}static resolveOptions(N,Z){if(Z.detectIndentation){const j=g(N,Z.tabSize,Z.insertSpaces);return new x.X2({tabSize:j.tabSize,indentSize:"tabSize",insertSpaces:j.insertSpaces,trimAutoWhitespace:Z.trimAutoWhitespace,defaultEOL:Z.defaultEOL,bracketPairColorizationOptions:Z.bracketPairColorizationOptions})}return new x.X2(Z)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(N){return this._eventEmitter.slowEvent((Z)=>N(Z.contentChangedEvent))}onDidChangeContentOrInjectedText(N){return M.qE(this._eventEmitter.fastEvent((Z)=>N(Z)),this._onDidChangeInjectedText.event((Z)=>N(Z)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(N,Z,j,_e=null,Ne,Oe,Ke,wt){super(),this._undoRedoService=Ne,this._languageService=Oe,this._languageConfigurationService=Ke,this.instantiationService=wt,this._onWillDispose=this._register(new J.vl),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new fn((en)=>this.handleBeforeFireDecorationsChangedEvent(en))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new J.vl),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new J.vl),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new J.vl),this._eventEmitter=this._register(new Qn),this._languageSelectionListener=this._register(new M.HE),this._deltaDecorationCallCnt=0,this._attachedViews=new Ai,bt++,this.id="$model"+bt,this.isForSimpleWidget=j.isForSimpleWidget,this._associatedResource=_e==null?E.r.parse("inmemory://model/"+bt):_e,this._attachedEditorCount=0;const{textBuffer:kt,disposable:Et}=gt(N,j.defaultEOL);this._buffer=kt,this._bufferDisposable=Et,this._options=Nn.resolveOptions(this._buffer,j);const st=typeof Z=="string"?Z:Z.languageId;typeof Z!="string"&&(this._languageSelectionListener.value=Z.onDidChange(()=>this._setLanguage(Z.languageId))),this._bracketPairs=this._register(new Te(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Pe.P(this,this._languageConfigurationService)),this._decorationProvider=this._register(new re(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(Pt,this,this._bracketPairs,st,this._attachedViews);const Bt=this._buffer.getLineCount(),Rt=this._buffer.getValueLengthInRange(new f.Q(1,1,Bt,this._buffer.getLineLength(Bt)+1),0);j.largeFileOptimizations?(this._isTooLargeForTokenization=Rt>Nn.LARGE_FILE_SIZE_THRESHOLD||Bt>Nn.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=Rt>Nn.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=Rt>Nn._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=v.tk(bt),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new dn,this._commandManager=new Se.z8(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(st),this._register(this._languageConfigurationService.onDidChange((en)=>{this._bracketPairs.handleLanguageConfigurationServiceChange(en),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(en)}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const N=new Hn([],"","\n",!1,!1,!0,!0);N.dispose(),this._buffer=N,this._bufferDisposable=M.jG.None}_assertNotDisposed(){if(this._isDisposed)throw new T.D7("Model is disposed!")}_emitContentChangedEvent(N,Z){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(Z),this._bracketPairs.handleDidChangeContent(Z),this._eventEmitter.fire(new bn.Ic(N,Z)))}setValue(N){if(this._assertNotDisposed(),N==null)throw T.Qg();const{textBuffer:Z,disposable:j}=gt(N,this._options.defaultEOL);this._setValueFromTextBuffer(Z,j)}_createContentChanged2(N,Z,j,_e,Ne,Oe,Ke,wt){return{changes:[{range:N,rangeOffset:Z,rangeLength:j,text:_e}],eol:this._buffer.getEOL(),isEolChange:wt,versionId:this.getVersionId(),isUndoing:Ne,isRedoing:Oe,isFlush:Ke}}_setValueFromTextBuffer(N,Z){this._assertNotDisposed();const j=this.getFullModelRange(),_e=this.getValueLengthInRange(j),Ne=this.getLineCount(),Oe=this.getLineMaxColumn(Ne);this._buffer=N,this._bufferDisposable.dispose(),this._bufferDisposable=Z,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new dn,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new bn.HP([new bn.Wn],this._versionId,!1,!1),this._createContentChanged2(new f.Q(1,1,Ne,Oe),0,_e,this.getValue(),!1,!1,!0,!1))}setEOL(N){this._assertNotDisposed();const Z=N===1?"\r\n":"\n";if(this._buffer.getEOL()===Z)return;const j=this.getFullModelRange(),_e=this.getValueLengthInRange(j),Ne=this.getLineCount(),Oe=this.getLineMaxColumn(Ne);this._onBeforeEOLChange(),this._buffer.setEOL(Z),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new bn.HP([new bn.mS],this._versionId,!1,!1),this._createContentChanged2(new f.Q(1,1,Ne,Oe),0,_e,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const N=this.getVersionId(),Z=this._decorationsTree.collectNodesPostOrder();for(let j=0,_e=Z.length;j<_e;j++){const Ne=Z[j],Oe=Ne.range,Ke=Ne.cachedAbsoluteStart-Ne.start,wt=this._buffer.getOffsetAt(Oe.startLineNumber,Oe.startColumn),kt=this._buffer.getOffsetAt(Oe.endLineNumber,Oe.endColumn);Ne.cachedAbsoluteStart=wt,Ne.cachedAbsoluteEnd=kt,Ne.cachedVersionId=N,Ne.start=wt-Ke,Ne.end=kt-Ke,rn(Ne)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(N){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(N)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let N=0,Z=0;const j=this._buffer.getLineCount();for(let _e=1;_e<=j;_e++){const Ne=this._buffer.getLineLength(_e);Ne>=1e4?Z+=Ne:N+=Ne}return Z>N}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(N){this._assertNotDisposed();const Z=N.tabSize!==void 0?N.tabSize:this._options.tabSize,j=N.indentSize!==void 0?N.indentSize:this._options.originalIndentSize,_e=N.insertSpaces!==void 0?N.insertSpaces:this._options.insertSpaces,Ne=N.trimAutoWhitespace!==void 0?N.trimAutoWhitespace:this._options.trimAutoWhitespace,Oe=N.bracketColorizationOptions!==void 0?N.bracketColorizationOptions:this._options.bracketPairColorizationOptions,Ke=new x.X2({tabSize:Z,indentSize:j,insertSpaces:_e,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Ne,bracketPairColorizationOptions:Oe});if(this._options.equals(Ke))return;const wt=this._options.createChangeEvent(Ke);this._options=Ke,this._bracketPairs.handleDidChangeOptions(wt),this._decorationProvider.handleDidChangeOptions(wt),this._onDidChangeOptions.fire(wt)}detectIndentation(N,Z){this._assertNotDisposed();const j=g(this._buffer,Z,N);this.updateOptions({insertSpaces:j.insertSpaces,tabSize:j.tabSize,indentSize:j.tabSize})}normalizeIndentation(N){return this._assertNotDisposed(),C.P(N,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(N=null){const Z=this.findMatches(v._J.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(N,Z.map((j)=>({range:j.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(N){this._assertNotDisposed();const Z=this._validatePosition(N.lineNumber,N.column,0);return this._buffer.getOffsetAt(Z.lineNumber,Z.column)}getPositionAt(N){this._assertNotDisposed();const Z=Math.min(this._buffer.getLength(),Math.max(0,N));return this._buffer.getPositionAt(Z)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(N){this._versionId=N}_overwriteAlternativeVersionId(N){this._alternativeVersionId=N}_overwriteInitialUndoRedoSnapshot(N){this._initialUndoRedoSnapshot=N}getValue(N,Z=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new T.D7("Operation would exceed heap memory limits");const j=this.getFullModelRange(),_e=this.getValueInRange(j,N);return Z?this._buffer.getBOM()+_e:_e}createSnapshot(N=!1){return new ke(this._buffer.createSnapshot(N))}getValueLength(N,Z=!1){this._assertNotDisposed();const j=this.getFullModelRange(),_e=this.getValueLengthInRange(j,N);return Z?this._buffer.getBOM().length+_e:_e}getValueInRange(N,Z=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(N),Z)}getValueLengthInRange(N,Z=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(N),Z)}getCharacterCountInRange(N,Z=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(N),Z)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(N){if(this._assertNotDisposed(),N<1||N>this.getLineCount())throw new T.D7("Illegal value for lineNumber");return this._buffer.getLineContent(N)}getLineLength(N){if(this._assertNotDisposed(),N<1||N>this.getLineCount())throw new T.D7("Illegal value for lineNumber");return this._buffer.getLineLength(N)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new T.D7("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()==="\n"?0:1}getLineMinColumn(N){return this._assertNotDisposed(),1}getLineMaxColumn(N){if(this._assertNotDisposed(),N<1||N>this.getLineCount())throw new T.D7("Illegal value for lineNumber");return this._buffer.getLineLength(N)+1}getLineFirstNonWhitespaceColumn(N){if(this._assertNotDisposed(),N<1||N>this.getLineCount())throw new T.D7("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(N)}getLineLastNonWhitespaceColumn(N){if(this._assertNotDisposed(),N<1||N>this.getLineCount())throw new T.D7("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(N)}_validateRangeRelaxedNoAllocations(N){const Z=this._buffer.getLineCount(),j=N.startLineNumber,_e=N.startColumn;let Ne=Math.floor(typeof j!="number"||isNaN(j)?1:j),Oe=Math.floor(typeof _e!="number"||isNaN(_e)?1:_e);if(Ne<1)Ne=1,Oe=1;else if(Ne>Z)Ne=Z,Oe=this.getLineMaxColumn(Ne);else if(Oe<=1)Oe=1;else{const st=this.getLineMaxColumn(Ne);Oe>=st&&(Oe=st)}const{endLineNumber:Ke,endColumn:wt}=N;let kt=Math.floor(typeof Ke!="number"||isNaN(Ke)?1:Ke),Et=Math.floor(typeof wt!="number"||isNaN(wt)?1:wt);if(kt<1)kt=1,Et=1;else if(kt>Z)kt=Z,Et=this.getLineMaxColumn(kt);else if(Et<=1)Et=1;else{const st=this.getLineMaxColumn(kt);Et>=st&&(Et=st)}return j===Ne&&_e===Oe&&Ke===kt&&wt===Et&&N instanceof f.Q&&!(N instanceof p.L)?N:new f.Q(Ne,Oe,kt,Et)}_isValidPosition(N,Z,j){if(typeof N!="number"||typeof Z!="number")return!1;if(isNaN(N)||isNaN(Z))return!1;if(N<1||Z<1)return!1;if((0|N)!==N||(0|Z)!==Z)return!1;if(N>this._buffer.getLineCount())return!1;if(Z===1)return!0;if(Z>this.getLineMaxColumn(N))return!1;if(j===1){const _e=this._buffer.getLineCharCode(N,Z-2);if(v.pc(_e))return!1}return!0}_validatePosition(N,Z,j){const _e=Math.floor(typeof N!="number"||isNaN(N)?1:N),Ne=Math.floor(typeof Z!="number"||isNaN(Z)?1:Z),Oe=this._buffer.getLineCount();if(_e<1)return new d.y(1,1);if(_e>Oe)return new d.y(Oe,this.getLineMaxColumn(Oe));if(Ne<=1)return new d.y(_e,1);const Ke=this.getLineMaxColumn(_e);if(Ne>=Ke)return new d.y(_e,Ke);if(j===1){const wt=this._buffer.getLineCharCode(_e,Ne-2);if(v.pc(wt))return new d.y(_e,Ne-1)}return new d.y(_e,Ne)}validatePosition(N){return this._assertNotDisposed(),N instanceof d.y&&this._isValidPosition(N.lineNumber,N.column,1)?N:this._validatePosition(N.lineNumber,N.column,1)}_isValidRange(N,Z){const{startLineNumber:j,startColumn:_e,endLineNumber:Ne,endColumn:Oe}=N;if(!this._isValidPosition(j,_e,0))return!1;if(!this._isValidPosition(Ne,Oe,0))return!1;if(Z===1){const Ke=_e>1?this._buffer.getLineCharCode(j,_e-2):0,wt=Oe>1&&Oe<=this._buffer.getLineLength(Ne)?this._buffer.getLineCharCode(Ne,Oe-2):0,kt=v.pc(Ke),Et=v.pc(wt);return!kt&&!Et}return!0}validateRange(N){if(this._assertNotDisposed(),N instanceof f.Q&&!(N instanceof p.L)&&this._isValidRange(N,1))return N;const Z=this._validatePosition(N.startLineNumber,N.startColumn,0),j=this._validatePosition(N.endLineNumber,N.endColumn,0),_e=Z.lineNumber,Ne=Z.column,Oe=j.lineNumber,Ke=j.column;{const wt=Ne>1?this._buffer.getLineCharCode(_e,Ne-2):0,kt=Ke>1&&Ke<=this._buffer.getLineLength(Oe)?this._buffer.getLineCharCode(Oe,Ke-2):0,Et=v.pc(wt),st=v.pc(kt);return Et||st?_e===Oe&&Ne===Ke?new f.Q(_e,Ne-1,Oe,Ke-1):Et&&st?new f.Q(_e,Ne-1,Oe,Ke+1):Et?new f.Q(_e,Ne-1,Oe,Ke):new f.Q(_e,Ne,Oe,Ke+1):new f.Q(_e,Ne,Oe,Ke)}}modifyPosition(N,Z){this._assertNotDisposed();const j=this.getOffsetAt(N)+Z;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,j)))}getFullModelRange(){this._assertNotDisposed();const N=this.getLineCount();return new f.Q(1,1,N,this.getLineMaxColumn(N))}findMatchesLineByLine(N,Z,j,_e){return this._buffer.findMatchesLineByLine(N,Z,j,_e)}findMatches(N,Z,j,_e,Ne,Oe,Ke=999){this._assertNotDisposed();let wt=null;Z!==null&&(Array.isArray(Z)||(Z=[Z]),Z.every((st)=>f.Q.isIRange(st))&&(wt=Z.map((st)=>this.validateRange(st)))),wt===null&&(wt=[this.getFullModelRange()]),wt=wt.sort((st,Bt)=>st.startLineNumber-Bt.startLineNumber||st.startColumn-Bt.startColumn);const kt=[];let Et;if(kt.push(wt.reduce((st,Bt)=>f.Q.areIntersecting(st,Bt)?st.plusRange(Bt):(kt.push(st),Bt))),!j&&N.indexOf("\n")<0){const st=new Ii.lt(N,j,_e,Ne).parseSearchRequest();if(!st)return[];Et=(Bt)=>this.findMatchesLineByLine(Bt,st,Oe,Ke)}else Et=(st)=>Ii.hB.findMatches(this,new Ii.lt(N,j,_e,Ne),st,Oe,Ke);return kt.map(Et).reduce((st,Bt)=>st.concat(Bt),[])}findNextMatch(N,Z,j,_e,Ne,Oe){this._assertNotDisposed();const Ke=this.validatePosition(Z);if(!j&&N.indexOf("\n")<0){const wt=new Ii.lt(N,j,_e,Ne).parseSearchRequest();if(!wt)return null;const kt=this.getLineCount();let Et=new f.Q(Ke.lineNumber,Ke.column,kt,this.getLineMaxColumn(kt)),st=this.findMatchesLineByLine(Et,wt,Oe,1);return Ii.hB.findNextMatch(this,new Ii.lt(N,j,_e,Ne),Ke,Oe),st.length>0?st[0]:(Et=new f.Q(1,1,Ke.lineNumber,this.getLineMaxColumn(Ke.lineNumber)),st=this.findMatchesLineByLine(Et,wt,Oe,1),st.length>0?st[0]:null)}return Ii.hB.findNextMatch(this,new Ii.lt(N,j,_e,Ne),Ke,Oe)}findPreviousMatch(N,Z,j,_e,Ne,Oe){this._assertNotDisposed();const Ke=this.validatePosition(Z);return Ii.hB.findPreviousMatch(this,new Ii.lt(N,j,_e,Ne),Ke,Oe)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(N){if((this.getEOL()==="\n"?0:1)!==N)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(N)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(N){return N instanceof x.Wo?N:new x.Wo(N.identifier||null,this.validateRange(N.range),N.text,N.forceMoveMarkers||!1,N.isAutoWhitespaceEdit||!1,N._isTracked||!1)}_validateEditOperations(N){const Z=[];for(let j=0,_e=N.length;j<_e;j++)Z[j]=this._validateEditOperation(N[j]);return Z}pushEditOperations(N,Z,j,_e){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(N,this._validateEditOperations(Z),j,_e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(N,Z,j,_e){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const Ne=Z.map((Ke)=>({range:this.validateRange(Ke.range),text:Ke.text}));let Oe=!0;if(N)for(let Ke=0,wt=N.length;Ke<wt;Ke++){const kt=N[Ke];let Et=!1;for(let st=0,Bt=Ne.length;st<Bt;st++){const Rt=Ne[st].range,en=Rt.startLineNumber>kt.endLineNumber,hn=kt.startLineNumber>Rt.endLineNumber;if(!en&&!hn){Et=!0;break}}if(!Et){Oe=!1;break}}if(Oe)for(let Ke=0,wt=this._trimAutoWhitespaceLines.length;Ke<wt;Ke++){const kt=this._trimAutoWhitespaceLines[Ke],Et=this.getLineMaxColumn(kt);let st=!0;for(let Bt=0,Rt=Ne.length;Bt<Rt;Bt++){const en=Ne[Bt].range,hn=Ne[Bt].text;if(!(kt<en.startLineNumber||kt>en.endLineNumber||kt===en.startLineNumber&&en.startColumn===Et&&en.isEmpty()&&hn&&hn.length>0&&hn.charAt(0)==="\n"||kt===en.startLineNumber&&en.startColumn===1&&en.isEmpty()&&hn&&hn.length>0&&hn.charAt(hn.length-1)==="\n")){st=!1;break}}if(st){const Bt=new f.Q(kt,1,kt,Et);Z.push(new x.Wo(null,Bt,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(N,Z,j,_e)}_applyUndo(N,Z,j,_e){const Ne=N.map((Oe)=>{const Ke=this.getPositionAt(Oe.newPosition),wt=this.getPositionAt(Oe.newEnd);return{range:new f.Q(Ke.lineNumber,Ke.column,wt.lineNumber,wt.column),text:Oe.oldText}});this._applyUndoRedoEdits(Ne,Z,!0,!1,j,_e)}_applyRedo(N,Z,j,_e){const Ne=N.map((Oe)=>{const Ke=this.getPositionAt(Oe.oldPosition),wt=this.getPositionAt(Oe.oldEnd);return{range:new f.Q(Ke.lineNumber,Ke.column,wt.lineNumber,wt.column),text:Oe.newText}});this._applyUndoRedoEdits(Ne,Z,!1,!0,j,_e)}_applyUndoRedoEdits(N,Z,j,_e,Ne,Oe){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=j,this._isRedoing=_e,this.applyEdits(N,!1),this.setEOL(Z),this._overwriteAlternativeVersionId(Ne)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Oe),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(N,Z=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const j=this._validateEditOperations(N);return this._doApplyEdits(j,Z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(N,Z){const j=this._buffer.getLineCount(),_e=this._buffer.applyEdits(N,this._options.trimAutoWhitespace,Z),Ne=this._buffer.getLineCount(),Oe=_e.changes;if(this._trimAutoWhitespaceLines=_e.trimAutoWhitespaceLineNumbers,Oe.length!==0){for(let kt=0,Et=Oe.length;kt<Et;kt++){const st=Oe[kt];this._decorationsTree.acceptReplace(st.rangeOffset,st.rangeLength,st.text.length,st.forceMoveMarkers)}const Ke=[];this._increaseVersionId();let wt=j;for(let kt=0,Et=Oe.length;kt<Et;kt++){const st=Oe[kt],[Bt]=w.W(st.text);this._onDidChangeDecorations.fire();const Rt=st.range.startLineNumber,en=st.range.endLineNumber,hn=en-Rt,je=Bt,ze=Math.min(hn,je),De=je-hn,Ce=Ne-wt-De+Rt,ut=Ce,Tt=Ce+je,Ht=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new d.y(ut,1)),this.getOffsetAt(new d.y(Tt,this.getLineMaxColumn(Tt))),0),sn=bn.uK.fromDecorations(Ht),Vn=new s.j3(sn);for(let yn=ze;yn>=0;yn--){const qi=Rt+yn,ki=Ce+yn;Vn.takeFromEndWhile((Vr)=>Vr.lineNumber>ki);const ur=Vn.takeFromEndWhile((Vr)=>Vr.lineNumber===ki);Ke.push(new bn.U0(qi,this.getLineContent(ki),ur))}if(ze<hn){const yn=Rt+ze;Ke.push(new bn.E$(yn+1,en))}if(ze<je){const yn=new s.j3(sn),qi=Rt+ze,ki=je-ze,ur=Ne-wt-ki+qi+1,Vr=[],Fo=[];for(let ii=0;ii<ki;ii++){const no=ur+ii;Fo[ii]=this.getLineContent(no),yn.takeWhile((ui)=>ui.lineNumber<no),Vr[ii]=yn.takeWhile((ui)=>ui.lineNumber===no)}Ke.push(new bn.bg(qi+1,Rt+je,Fo,Vr))}wt+=De}this._emitContentChangedEvent(new bn.HP(Ke,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Oe,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return _e.reverseEdits===null?void 0:_e.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(N){if(N===null||N.size===0)return;const Z=Array.from(N).map((j)=>new bn.U0(j,this.getLineContent(j),this._getInjectedTextInLine(j)));this._onDidChangeInjectedText.fire(new bn.vn(Z))}changeDecorations(N,Z=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(Z,N)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(N,Z){const j={addDecoration:(Ne,Oe)=>this._deltaDecorationsImpl(N,[],[{range:Ne,options:Oe}])[0],changeDecoration:(Ne,Oe)=>{this._changeDecorationImpl(Ne,Oe)},changeDecorationOptions:(Ne,Oe)=>{this._changeDecorationOptionsImpl(Ne,Fn(Oe))},removeDecoration:(Ne)=>{this._deltaDecorationsImpl(N,[Ne],[])},deltaDecorations:(Ne,Oe)=>Ne.length===0&&Oe.length===0?[]:this._deltaDecorationsImpl(N,Ne,Oe)};let _e=null;try{_e=Z(j)}catch(Ne){T.dz(Ne)}return j.addDecoration=qt,j.changeDecoration=qt,j.changeDecorationOptions=qt,j.removeDecoration=qt,j.deltaDecorations=qt,_e}deltaDecorations(N,Z,j=0){if(this._assertNotDisposed(),N||(N=[]),N.length===0&&Z.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),T.dz(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(j,N,Z)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(N){return this.getDecorationRange(N)}_setTrackedRange(N,Z,j){const _e=N?this._decorations[N]:null;if(!_e)return Z?this._deltaDecorationsImpl(0,[],[{range:Z,options:Un[j]}],!0)[0]:null;if(!Z)return this._decorationsTree.delete(_e),delete this._decorations[_e.id],null;const Ne=this._validateRangeRelaxedNoAllocations(Z),Oe=this._buffer.getOffsetAt(Ne.startLineNumber,Ne.startColumn),Ke=this._buffer.getOffsetAt(Ne.endLineNumber,Ne.endColumn);return this._decorationsTree.delete(_e),_e.reset(this.getVersionId(),Oe,Ke,Ne),_e.setOptions(Un[j]),this._decorationsTree.insert(_e),_e.id}removeAllDecorationsWithOwnerId(N){if(this._isDisposed)return;const Z=this._decorationsTree.collectNodesFromOwner(N);for(let j=0,_e=Z.length;j<_e;j++){const Ne=Z[j];this._decorationsTree.delete(Ne),delete this._decorations[Ne.id]}}getDecorationOptions(N){const Z=this._decorations[N];return Z?Z.options:null}getDecorationRange(N){const Z=this._decorations[N];return Z?this._decorationsTree.getNodeRange(this,Z):null}getLineDecorations(N,Z=0,j=!1){return N<1||N>this.getLineCount()?[]:this.getLinesDecorations(N,N,Z,j)}getLinesDecorations(N,Z,j=0,_e=!1,Ne=!1){const Oe=this.getLineCount(),Ke=Math.min(Oe,Math.max(1,N)),wt=Math.min(Oe,Math.max(1,Z)),kt=this.getLineMaxColumn(wt),Et=new f.Q(Ke,1,wt,kt),st=this._getDecorationsInRange(Et,j,_e,Ne);return s.E4(st,this._decorationProvider.getDecorationsInRange(Et,j,_e)),st}getDecorationsInRange(N,Z=0,j=!1,_e=!1,Ne=!1){const Oe=this.validateRange(N),Ke=this._getDecorationsInRange(Oe,Z,j,Ne);return s.E4(Ke,this._decorationProvider.getDecorationsInRange(Oe,Z,j,_e)),Ke}getOverviewRulerDecorations(N=0,Z=!1){return this._decorationsTree.getAll(this,N,Z,!0,!1)}getInjectedTextDecorations(N=0){return this._decorationsTree.getAllInjectedText(this,N)}_getInjectedTextInLine(N){const Z=this._buffer.getOffsetAt(N,1),j=Z+this._buffer.getLineLength(N),_e=this._decorationsTree.getInjectedTextInInterval(this,Z,j,0);return bn.uK.fromDecorations(_e).filter((Ne)=>Ne.lineNumber===N)}getAllDecorations(N=0,Z=!1){let j=this._decorationsTree.getAll(this,N,Z,!1,!1);return j=j.concat(this._decorationProvider.getAllDecorations(N,Z)),j}getAllMarginDecorations(N=0){return this._decorationsTree.getAll(this,N,!1,!1,!0)}_getDecorationsInRange(N,Z,j,_e){const Ne=this._buffer.getOffsetAt(N.startLineNumber,N.startColumn),Oe=this._buffer.getOffsetAt(N.endLineNumber,N.endColumn);return this._decorationsTree.getAllInInterval(this,Ne,Oe,Z,j,_e)}getRangeAt(N,Z){return this._buffer.getRangeAt(N,Z-N)}_changeDecorationImpl(N,Z){const j=this._decorations[N];if(!j)return;if(j.options.after){const Ke=this.getDecorationRange(N);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ke.endLineNumber)}if(j.options.before){const Ke=this.getDecorationRange(N);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ke.startLineNumber)}const _e=this._validateRangeRelaxedNoAllocations(Z),Ne=this._buffer.getOffsetAt(_e.startLineNumber,_e.startColumn),Oe=this._buffer.getOffsetAt(_e.endLineNumber,_e.endColumn);this._decorationsTree.delete(j),j.reset(this.getVersionId(),Ne,Oe,_e),this._decorationsTree.insert(j),this._onDidChangeDecorations.checkAffectedAndFire(j.options),j.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(_e.endLineNumber),j.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(_e.startLineNumber)}_changeDecorationOptionsImpl(N,Z){const j=this._decorations[N];if(!j)return;const _e=!(!j.options.overviewRuler||!j.options.overviewRuler.color),Ne=!(!Z.overviewRuler||!Z.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(j.options),this._onDidChangeDecorations.checkAffectedAndFire(Z),j.options.after||Z.after){const wt=this._decorationsTree.getNodeRange(this,j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(wt.endLineNumber)}if(j.options.before||Z.before){const wt=this._decorationsTree.getNodeRange(this,j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(wt.startLineNumber)}const Oe=_e!==Ne,Ke=function(wt){return!!wt.after||!!wt.before}(Z)!==Cn(j);Oe||Ke?(this._decorationsTree.delete(j),j.setOptions(Z),this._decorationsTree.insert(j)):j.setOptions(Z)}_deltaDecorationsImpl(N,Z,j,_e=!1){const Ne=this.getVersionId(),Oe=Z.length;let Ke=0;const wt=j.length;let kt=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Et=new Array(wt);for(;Ke<Oe||kt<wt;){let st=null;if(Ke<Oe){do st=this._decorations[Z[Ke++]];while(!st&&Ke<Oe);if(st){if(st.options.after){const Bt=this._decorationsTree.getNodeRange(this,st);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Bt.endLineNumber)}if(st.options.before){const Bt=this._decorationsTree.getNodeRange(this,st);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Bt.startLineNumber)}this._decorationsTree.delete(st),_e||this._onDidChangeDecorations.checkAffectedAndFire(st.options)}}if(kt<wt){if(!st){const ze=++this._lastDecorationId,De=`${this._instanceId};${ze}`;st=new rt(De,0,0),this._decorations[De]=st}const Bt=j[kt],Rt=this._validateRangeRelaxedNoAllocations(Bt.range),en=Fn(Bt.options),hn=this._buffer.getOffsetAt(Rt.startLineNumber,Rt.startColumn),je=this._buffer.getOffsetAt(Rt.endLineNumber,Rt.endColumn);st.ownerId=N,st.reset(Ne,hn,je,Rt),st.setOptions(en),st.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Rt.endLineNumber),st.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Rt.startLineNumber),_e||this._onDidChangeDecorations.checkAffectedAndFire(en),this._decorationsTree.insert(st),Et[kt]=st.id,kt++}else st&&delete this._decorations[st.id]}return Et}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(N,Z){typeof N=="string"?(this._languageSelectionListener.clear(),this._setLanguage(N,Z)):(this._languageSelectionListener.value=N.onDidChange(()=>this._setLanguage(N.languageId,Z)),this._setLanguage(N.languageId,Z))}_setLanguage(N,Z){this.tokenization.setLanguageId(N,Z),this._languageService.requestRichLanguageFeatures(N)}getLanguageIdAtPosition(N,Z){return this.tokenization.getLanguageIdAtPosition(N,Z)}getWordAtPosition(N){return this._tokenizationTextModelPart.getWordAtPosition(N)}getWordUntilPosition(N){return this._tokenizationTextModelPart.getWordUntilPosition(N)}normalizePosition(N,Z){return N}getLineIndentColumn(N){return function(Z){let j=0;for(let _e of Z){if(_e!==" "&&_e!=="\t")break;j++}return j}(this.getLineContent(N))+1}};function Vt(N){return!(!N.options.overviewRuler||!N.options.overviewRuler.color)}function Cn(N){return!!N.options.after||!!N.options.before}Ot=Nn=function(N,Z,j,_e){var Ne,Oe=arguments.length,Ke=Oe<3?Z:_e===null?_e=Object.getOwnPropertyDescriptor(Z,j):_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(N,Z,j,_e);else for(var wt=N.length-1;wt>=0;wt--)(Ne=N[wt])&&(Ke=(Oe<3?Ne(Ke):Oe>3?Ne(Z,j,Ke):Ne(Z,j))||Ke);return Oe>3&&Ke&&Object.defineProperty(Z,j,Ke),Ke}([tt(4,$e.$D),tt(5,m.L),tt(6,b.JZ),tt(7,Jn._Y)],Ot);class dn{constructor(){this._decorationsTree0=new ye,this._decorationsTree1=new ye,this._injectedTextDecorationsTree=new ye}ensureAllNodesHaveRanges(N){this.getAll(N,0,!1,!1,!1)}_ensureNodesHaveRanges(N,Z){for(let j of Z)j.range===null&&(j.range=N.getRangeAt(j.cachedAbsoluteStart,j.cachedAbsoluteEnd));return Z}getAllInInterval(N,Z,j,_e,Ne,Oe){const Ke=N.getVersionId(),wt=this._intervalSearch(Z,j,_e,Ne,Ke,Oe);return this._ensureNodesHaveRanges(N,wt)}_intervalSearch(N,Z,j,_e,Ne,Oe){const Ke=this._decorationsTree0.intervalSearch(N,Z,j,_e,Ne,Oe),wt=this._decorationsTree1.intervalSearch(N,Z,j,_e,Ne,Oe),kt=this._injectedTextDecorationsTree.intervalSearch(N,Z,j,_e,Ne,Oe);return Ke.concat(wt).concat(kt)}getInjectedTextInInterval(N,Z,j,_e){const Ne=N.getVersionId(),Oe=this._injectedTextDecorationsTree.intervalSearch(Z,j,_e,!1,Ne,!1);return this._ensureNodesHaveRanges(N,Oe).filter((Ke)=>Ke.options.showIfCollapsed||!Ke.range.isEmpty())}getAllInjectedText(N,Z){const j=N.getVersionId(),_e=this._injectedTextDecorationsTree.search(Z,!1,j,!1);return this._ensureNodesHaveRanges(N,_e).filter((Ne)=>Ne.options.showIfCollapsed||!Ne.range.isEmpty())}getAll(N,Z,j,_e,Ne){const Oe=N.getVersionId(),Ke=this._search(Z,j,_e,Oe,Ne);return this._ensureNodesHaveRanges(N,Ke)}_search(N,Z,j,_e,Ne){if(j)return this._decorationsTree1.search(N,Z,_e,Ne);{const Oe=this._decorationsTree0.search(N,Z,_e,Ne),Ke=this._decorationsTree1.search(N,Z,_e,Ne),wt=this._injectedTextDecorationsTree.search(N,Z,_e,Ne);return Oe.concat(Ke).concat(wt)}}collectNodesFromOwner(N){const Z=this._decorationsTree0.collectNodesFromOwner(N),j=this._decorationsTree1.collectNodesFromOwner(N),_e=this._injectedTextDecorationsTree.collectNodesFromOwner(N);return Z.concat(j).concat(_e)}collectNodesPostOrder(){const N=this._decorationsTree0.collectNodesPostOrder(),Z=this._decorationsTree1.collectNodesPostOrder(),j=this._injectedTextDecorationsTree.collectNodesPostOrder();return N.concat(Z).concat(j)}insert(N){Cn(N)?this._injectedTextDecorationsTree.insert(N):Vt(N)?this._decorationsTree1.insert(N):this._decorationsTree0.insert(N)}delete(N){Cn(N)?this._injectedTextDecorationsTree.delete(N):Vt(N)?this._decorationsTree1.delete(N):this._decorationsTree0.delete(N)}getNodeRange(N,Z){const j=N.getVersionId();return Z.cachedVersionId!==j&&this._resolveNode(Z,j),Z.range===null&&(Z.range=N.getRangeAt(Z.cachedAbsoluteStart,Z.cachedAbsoluteEnd)),Z.range}_resolveNode(N,Z){Cn(N)?this._injectedTextDecorationsTree.resolveNode(N,Z):Vt(N)?this._decorationsTree1.resolveNode(N,Z):this._decorationsTree0.resolveNode(N,Z)}acceptReplace(N,Z,j,_e){this._decorationsTree0.acceptReplace(N,Z,j,_e),this._decorationsTree1.acceptReplace(N,Z,j,_e),this._injectedTextDecorationsTree.acceptReplace(N,Z,j,_e)}}function St(N){return N.replace(/[^a-z0-9\-_]/gi," ")}class Lt{constructor(N){this.color=N.color||"",this.darkColor=N.darkColor||""}}class on extends Lt{constructor(N){super(N),this._resolvedColor=null,this.position=typeof N.position=="number"?N.position:x.A5.Center}getColor(N){return this._resolvedColor||(N.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,N):this._resolvedColor=this._resolveColor(this.color,N)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(N,Z){if(typeof N=="string")return N;const j=N?Z.getColor(N.id):null;return j?j.toString():""}}class ln{constructor(N){this.position=N?.position??x.ZS.Center,this.persistLane=N?.persistLane}}class Dn extends Lt{constructor(N){super(N),this.position=N.position,this.sectionHeaderStyle=N.sectionHeaderStyle??null,this.sectionHeaderText=N.sectionHeaderText??null}getColor(N){return this._resolvedColor||(N.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,N):this._resolvedColor=this._resolveColor(this.color,N)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(N,Z){return typeof N=="string"?I.Q1.fromHex(N):Z.getColor(N.id)}}class vn{static from(N){return N instanceof vn?N:new vn(N)}constructor(N){this.content=N.content||"",this.inlineClassName=N.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=N.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=N.attachedData||null,this.cursorStops=N.cursorStops||null}}class $n{static register(N){return new $n(N)}static createDynamic(N){return new $n(N)}constructor(N){this.description=N.description,this.blockClassName=N.blockClassName?St(N.blockClassName):null,this.blockDoesNotCollapse=N.blockDoesNotCollapse??null,this.blockIsAfterEnd=N.blockIsAfterEnd??null,this.blockPadding=N.blockPadding??null,this.stickiness=N.stickiness||0,this.zIndex=N.zIndex||0,this.className=N.className?St(N.className):null,this.shouldFillLineOnLineBreak=N.shouldFillLineOnLineBreak??null,this.hoverMessage=N.hoverMessage||null,this.glyphMarginHoverMessage=N.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=N.lineNumberHoverMessage||null,this.isWholeLine=N.isWholeLine||!1,this.showIfCollapsed=N.showIfCollapsed||!1,this.collapseOnReplaceEdit=N.collapseOnReplaceEdit||!1,this.overviewRuler=N.overviewRuler?new on(N.overviewRuler):null,this.minimap=N.minimap?new Dn(N.minimap):null,this.glyphMargin=N.glyphMarginClassName?new ln(N.glyphMargin):null,this.glyphMarginClassName=N.glyphMarginClassName?St(N.glyphMarginClassName):null,this.linesDecorationsClassName=N.linesDecorationsClassName?St(N.linesDecorationsClassName):null,this.lineNumberClassName=N.lineNumberClassName?St(N.lineNumberClassName):null,this.linesDecorationsTooltip=N.linesDecorationsTooltip?v.jy(N.linesDecorationsTooltip):null,this.firstLineDecorationClassName=N.firstLineDecorationClassName?St(N.firstLineDecorationClassName):null,this.marginClassName=N.marginClassName?St(N.marginClassName):null,this.inlineClassName=N.inlineClassName?St(N.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=N.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=N.beforeContentClassName?St(N.beforeContentClassName):null,this.afterContentClassName=N.afterContentClassName?St(N.afterContentClassName):null,this.after=N.after?vn.from(N.after):null,this.before=N.before?vn.from(N.before):null,this.hideInCommentTokens=N.hideInCommentTokens??!1,this.hideInStringTokens=N.hideInStringTokens??!1}}$n.EMPTY=$n.register({description:"empty"});const Un=[$n.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),$n.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),$n.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),$n.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Fn(N){return N instanceof $n?N:$n.createDynamic(N)}class fn extends M.jG{constructor(N){super(),this.handleBeforeFire=N,this._actual=this._register(new J.vl),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),this._affectedInjectedTextLines?.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(N){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(N)}checkAffectedAndFire(N){this._affectsMinimap||=!!N.minimap?.position,this._affectsOverviewRuler||=!!N.overviewRuler?.color,this._affectsGlyphMargin||=!!N.glyphMarginClassName,this._affectsLineNumber||=!!N.lineNumberClassName,this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const N={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(N)}}class Qn extends M.jG{constructor(){super(),this._fastEmitter=this._register(new J.vl),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new J.vl),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(N=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=N;const Z=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(Z),this._slowEmitter.fire(Z)}}fire(N){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(N):this._deferredEvent=N:(this._fastEmitter.fire(N),this._slowEmitter.fire(N))}}},2177:(dt,pe,h)=>{h.d(pe,{_:()=>I});var s=h(998);class I extends s.jG{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},104:(dt,pe,h)=>{h.d(pe,{W5:()=>f,dr:()=>E,hB:()=>C,lt:()=>v,wC:()=>d});var s=h(6844),I=h(2862),T=h(5365),J=h(8061),M=h(6055);class v{constructor(p,_,m,b){this.searchString=p,this.isRegex=_,this.matchCase=m,this.wordSeparators=b}parseSearchRequest(){if(this.searchString==="")return null;let p;p=this.isRegex?function(b){if(!b||b.length===0)return!1;for(let x=0,k=b.length;x<k;x++){const R=b.charCodeAt(x);if(R===10)return!0;if(R===92){if(x++,x>=k)break;const P=b.charCodeAt(x);if(P===110||P===114||P===87)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let _=null;try{_=s.OS(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:p,global:!0,unicode:!0})}catch(b){return null}if(!_)return null;let m=!this.isRegex&&!p;return m&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(m=this.matchCase),new M.L5(_,this.wordSeparators?I.i(this.wordSeparators,[]):null,m?this.searchString:null)}}function E(p,_,m){if(!m)return new M.Dg(p,null);const b=[];for(let x=0,k=_.length;x<k;x++)b[x]=_[x];return new M.Dg(p,b)}class w{constructor(p){const _=[];let m=0;for(let b=0,x=p.length;b<x;b++)p.charCodeAt(b)===10&&(_[m++]=b);this._lineFeedsOffsets=_}findLineFeedCountBeforeOffset(p){const _=this._lineFeedsOffsets;let m=0,b=_.length-1;if(b===-1)return 0;if(p<=_[0])return 0;for(;m<b;){const x=m+((b-m)/2|0);_[x]>=p?b=x-1:_[x+1]>=p?(m=x,b=x):m=x+1}return m+1}}class C{static findMatches(p,_,m,b,x){const k=_.parseSearchRequest();return k?k.regex.multiline?this._doFindMatchesMultiline(p,m,new f(k.wordSeparators,k.regex),b,x):this._doFindMatchesLineByLine(p,m,k,b,x):[]}static _getMultilineMatchRange(p,_,m,b,x,k){let R,P,z=0;if(b?(z=b.findLineFeedCountBeforeOffset(x),R=_+x+z):R=_+x,b){const W=b.findLineFeedCountBeforeOffset(x+k.length)-z;P=R+k.length+W}else P=R+k.length;const te=p.getPositionAt(R),L=p.getPositionAt(P);return new J.Q(te.lineNumber,te.column,L.lineNumber,L.column)}static _doFindMatchesMultiline(p,_,m,b,x){const k=p.getOffsetAt(_.getStartPosition()),R=p.getValueInRange(_,1),P=p.getEOL()==="\r\n"?new w(R):null,z=[];let te,L=0;for(m.reset(0);te=m.next(R);)if(z[L++]=E(this._getMultilineMatchRange(p,k,R,P,te.index,te[0]),te,b),L>=x)return z;return z}static _doFindMatchesLineByLine(p,_,m,b,x){const k=[];let R=0;if(_.startLineNumber===_.endLineNumber){const z=p.getLineContent(_.startLineNumber).substring(_.startColumn-1,_.endColumn-1);return R=this._findMatchesInLine(m,z,_.startLineNumber,_.startColumn-1,R,k,b,x),k}const P=p.getLineContent(_.startLineNumber).substring(_.startColumn-1);R=this._findMatchesInLine(m,P,_.startLineNumber,_.startColumn-1,R,k,b,x);for(let z=_.startLineNumber+1;z<_.endLineNumber&&R<x;z++)R=this._findMatchesInLine(m,p.getLineContent(z),z,0,R,k,b,x);if(R<x){const z=p.getLineContent(_.endLineNumber).substring(0,_.endColumn-1);R=this._findMatchesInLine(m,z,_.endLineNumber,0,R,k,b,x)}return k}static _findMatchesInLine(p,_,m,b,x,k,R,P){const z=p.wordSeparators;if(!R&&p.simpleSearch){const W=p.simpleSearch,B=W.length,U=_.length;let $=-B;for(;($=_.indexOf(W,$+B))!==-1;)if((!z||d(z,_,U,$,B))&&(k[x++]=new M.Dg(new J.Q(m,$+1+b,m,$+1+B+b),null),x>=P))return x;return x}const te=new f(p.wordSeparators,p.regex);let L;te.reset(0);do if(L=te.next(_),L&&(k[x++]=E(new J.Q(m,L.index+1+b,m,L.index+1+L[0].length+b),L,R),x>=P))return x;while(L);return x}static findNextMatch(p,_,m,b){const x=_.parseSearchRequest();if(!x)return null;const k=new f(x.wordSeparators,x.regex);return x.regex.multiline?this._doFindNextMatchMultiline(p,m,k,b):this._doFindNextMatchLineByLine(p,m,k,b)}static _doFindNextMatchMultiline(p,_,m,b){const x=new T.y(_.lineNumber,1),k=p.getOffsetAt(x),R=p.getLineCount(),P=p.getValueInRange(new J.Q(x.lineNumber,x.column,R,p.getLineMaxColumn(R)),1),z=p.getEOL()==="\r\n"?new w(P):null;m.reset(_.column-1);const te=m.next(P);return te?E(this._getMultilineMatchRange(p,k,P,z,te.index,te[0]),te,b):_.lineNumber!==1||_.column!==1?this._doFindNextMatchMultiline(p,new T.y(1,1),m,b):null}static _doFindNextMatchLineByLine(p,_,m,b){const x=p.getLineCount(),k=_.lineNumber,R=p.getLineContent(k),P=this._findFirstMatchInLine(m,R,k,_.column,b);if(P)return P;for(let z=1;z<=x;z++){const te=(k+z-1)%x,L=p.getLineContent(te+1),W=this._findFirstMatchInLine(m,L,te+1,1,b);if(W)return W}return null}static _findFirstMatchInLine(p,_,m,b,x){p.reset(b-1);const k=p.next(_);return k?E(new J.Q(m,k.index+1,m,k.index+1+k[0].length),k,x):null}static findPreviousMatch(p,_,m,b){const x=_.parseSearchRequest();if(!x)return null;const k=new f(x.wordSeparators,x.regex);return x.regex.multiline?this._doFindPreviousMatchMultiline(p,m,k,b):this._doFindPreviousMatchLineByLine(p,m,k,b)}static _doFindPreviousMatchMultiline(p,_,m,b){const x=this._doFindMatchesMultiline(p,new J.Q(1,1,_.lineNumber,_.column),m,b,9990);if(x.length>0)return x[x.length-1];const k=p.getLineCount();return _.lineNumber!==k||_.column!==p.getLineMaxColumn(k)?this._doFindPreviousMatchMultiline(p,new T.y(k,p.getLineMaxColumn(k)),m,b):null}static _doFindPreviousMatchLineByLine(p,_,m,b){const x=p.getLineCount(),k=_.lineNumber,R=p.getLineContent(k).substring(0,_.column-1),P=this._findLastMatchInLine(m,R,k,b);if(P)return P;for(let z=1;z<=x;z++){const te=(x+k-z-1)%x,L=p.getLineContent(te+1),W=this._findLastMatchInLine(m,L,te+1,b);if(W)return W}return null}static _findLastMatchInLine(p,_,m,b){let x,k=null;for(p.reset(0);x=p.next(_);)k=E(new J.Q(m,x.index+1,m,x.index+1+x[0].length),x,b);return k}}function d(p,_,m,b,x){return function(k,R,P,z,te){if(z===0)return!0;const L=R.charCodeAt(z-1);if(k.get(L)!==0)return!0;if(L===13||L===10)return!0;if(te>0){const W=R.charCodeAt(z);if(k.get(W)!==0)return!0}return!1}(p,_,0,b,x)&&function(k,R,P,z,te){if(z+te===P)return!0;const L=R.charCodeAt(z+te);if(k.get(L)!==0)return!0;if(L===13||L===10)return!0;if(te>0){const W=R.charCodeAt(z+te-1);if(k.get(W)!==0)return!0}return!1}(p,_,m,b,x)}class f{constructor(p,_){this._wordSeparators=p,this._searchRegex=_,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(p){this._searchRegex.lastIndex=p,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(p){const _=p.length;let m;do{if(this._prevMatchStartIndex+this._prevMatchLength===_)return null;if(m=this._searchRegex.exec(p),!m)return null;const b=m.index,x=m[0].length;if(b===this._prevMatchStartIndex&&x===this._prevMatchLength){if(x===0){s.Z5(p,_,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=b,this._prevMatchLength=x,!this._wordSeparators||d(this._wordSeparators,p,_,b,x))return m}while(m);return null}}},969:(dt,pe,h)=>{function s(I,T){let J=0,M=0;const v=I.length;for(;M<v;){const E=I.charCodeAt(M);if(E===32)J++;else{if(E!==9)break;J=J-J%T+T}M++}return M===v?-1:J}h.d(pe,{G:()=>s})},3059:(dt,pe,h)=>{h.r(pe),h.d(pe,{KeyMod:()=>d,createMonacoBaseAPI:()=>f});var s=h(8903),I=h(2106),T=h(8387),J=h(7264),M=h(5365),v=h(8061),E=h(3702),w=h(4364),C=h(2783);class d{static{this.CtrlCmd=2048}static{this.Shift=1024}static{this.Alt=512}static{this.WinCtrl=256}static chord(p,_){return T.m5(p,_)}}function f(){return{editor:void 0,languages:void 0,CancellationTokenSource:s.Qi,Emitter:I.vl,KeyCode:C.DD,KeyMod:d,Position:M.y,Range:v.Q,Selection:E.L,SelectionDirection:C.SB,MarkerSeverity:C.cj,MarkerTag:C.d_,Uri:J.r,Token:w.ou}}},735:(dt,pe,h)=>{h.r(pe),h.d(pe,{BaseEditorSimpleWorker:()=>Je,EditorSimpleWorker:()=>Se,create:()=>Pe});var s=h(2111),I=h(8061),T=h(7454);class J{constructor(Le,Ve,g){const ge=new Uint8Array(Le*Ve);for(let We=0,de=Le*Ve;We<de;We++)ge[We]=g;this._data=ge,this.rows=Le,this.cols=Ve}get(Le,Ve){return this._data[Le*this.cols+Ve]}set(Le,Ve,g){this._data[Le*this.cols+Ve]=g}}class M{constructor(Le){let Ve=0,g=0;for(let We=0,de=Le.length;We<de;We++){const[be,ae,O]=Le[We];ae>Ve&&(Ve=ae),be>g&&(g=be),O>g&&(g=O)}Ve++,g++;const ge=new J(g,Ve,0);for(let We=0,de=Le.length;We<de;We++){const[be,ae,O]=Le[We];ge.set(be,ae,O)}this._states=ge,this._maxCharCode=Ve}nextState(Le,Ve){return Ve<0||Ve>=this._maxCharCode?0:this._states.get(Le,Ve)}}let v=null,E=null;class w{static _createLink(Le,Ve,g,ge,We){let de=We-1;do{const be=Ve.charCodeAt(de);if(Le.get(be)!==2)break;de--}while(de>ge);if(ge>0){const be=Ve.charCodeAt(ge-1),ae=Ve.charCodeAt(de);(be===40&&ae===41||be===91&&ae===93||be===123&&ae===125)&&de--}return{range:{startLineNumber:g,startColumn:ge+1,endLineNumber:g,endColumn:de+2},url:Ve.substring(ge,de+1)}}static computeLinks(Le,Ve=function(){return v===null&&(v=new M([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),v}()){const g=function(){if(E===null){E=new T.V(0);const We=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let be=0;be<We.length;be++)E.set(We.charCodeAt(be),1);const de=".,;:";for(let be=0;be<de.length;be++)E.set(de.charCodeAt(be),2)}return E}(),ge=[];for(let We=1,de=Le.getLineCount();We<=de;We++){const be=Le.getLineContent(We),ae=be.length;let O=0,Ue=0,Ye=0,Fe=1,oe=!1,rt=!1,lt=!1,ye=!1;for(;O<ae;){let pt=!1;const Mt=be.charCodeAt(O);if(Fe===13){let Zt;switch(Mt){case 40:oe=!0,Zt=0;break;case 41:Zt=oe?0:1;break;case 91:lt=!0,rt=!0,Zt=0;break;case 93:lt=!1,Zt=rt?0:1;break;case 123:ye=!0,Zt=0;break;case 125:Zt=ye?0:1;break;case 39:case 34:case 96:Zt=Ye===Mt?1:Ye===39||Ye===34||Ye===96?0:1;break;case 42:Zt=Ye===42?1:0;break;case 124:Zt=Ye===124?1:0;break;case 32:Zt=lt?0:1;break;default:Zt=g.get(Mt)}Zt===1&&(ge.push(w._createLink(g,be,We,Ue,O)),pt=!0)}else if(Fe===12){let Zt;Mt===91?(rt=!0,Zt=0):Zt=g.get(Mt),Zt===1?pt=!0:Fe=13}else Fe=Ve.nextState(Fe,Mt),Fe===0&&(pt=!0);pt&&(Fe=1,oe=!1,rt=!1,ye=!1,Ue=O+1,Ye=Mt),O++}Fe===13&&ge.push(w._createLink(g,be,We,Ue,ae))}return ge}}class C{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}static{this.INSTANCE=new C}navigateValueSet(Le,Ve,g,ge,We){if(Le&&Ve){const de=this.doNavigateValueSet(Ve,We);if(de)return{range:Le,value:de}}if(g&&ge){const de=this.doNavigateValueSet(ge,We);if(de)return{range:g,value:de}}return null}doNavigateValueSet(Le,Ve){const g=this.numberReplace(Le,Ve);return g!==null?g:this.textReplace(Le,Ve)}numberReplace(Le,Ve){const g=Math.pow(10,Le.length-(Le.lastIndexOf(".")+1));let ge=Number(Le);const We=parseFloat(Le);return isNaN(ge)||isNaN(We)||ge!==We?null:ge!==0||Ve?(ge=Math.floor(ge*g),ge+=Ve?g:-g,String(ge/g)):null}textReplace(Le,Ve){return this.valueSetsReplace(this._defaultValueSet,Le,Ve)}valueSetsReplace(Le,Ve,g){let ge=null;for(let We=0,de=Le.length;ge===null&&We<de;We++)ge=this.valueSetReplace(Le[We],Ve,g);return ge}valueSetReplace(Le,Ve,g){let ge=Le.indexOf(Ve);return ge>=0?(ge+=g?1:-1,ge<0?ge=Le.length-1:ge%=Le.length,Le[ge]):null}}var d=h(3059),f=h(6358),p=h(3013),_=h(9887),m=h(3837),b=h(9331),x=h(6844),k=h(7110),R=h(9955);class P{computeDiff(Le,Ve,g){const ge=new U(Le,Ve,{maxComputationTime:g.maxComputationTimeMs,shouldIgnoreTrimWhitespace:g.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),We=[];let de=null;for(let be of ge.changes){let ae,O;ae=be.originalEndLineNumber===0?new R.M(be.originalStartLineNumber+1,be.originalStartLineNumber+1):new R.M(be.originalStartLineNumber,be.originalEndLineNumber+1),O=be.modifiedEndLineNumber===0?new R.M(be.modifiedStartLineNumber+1,be.modifiedStartLineNumber+1):new R.M(be.modifiedStartLineNumber,be.modifiedEndLineNumber+1);let Ue=new b.wm(ae,O,be.charChanges?.map((Ye)=>new b.q6(new I.Q(Ye.originalStartLineNumber,Ye.originalStartColumn,Ye.originalEndLineNumber,Ye.originalEndColumn),new I.Q(Ye.modifiedStartLineNumber,Ye.modifiedStartColumn,Ye.modifiedEndLineNumber,Ye.modifiedEndColumn))));de&&(de.modified.endLineNumberExclusive!==Ue.modified.startLineNumber&&de.original.endLineNumberExclusive!==Ue.original.startLineNumber||(Ue=new b.wm(de.original.join(Ue.original),de.modified.join(Ue.modified),de.innerChanges&&Ue.innerChanges?de.innerChanges.concat(Ue.innerChanges):void 0),We.pop())),We.push(Ue),de=Ue}return k.Ft(()=>k.Xo(We,(be,ae)=>ae.original.startLineNumber-be.original.endLineNumberExclusive==ae.modified.startLineNumber-be.modified.endLineNumberExclusive&&be.original.endLineNumberExclusive<ae.original.startLineNumber&&be.modified.endLineNumberExclusive<ae.modified.startLineNumber)),new m.p(We,[],ge.quitEarly)}}function z(Le,Ve,g,ge){return new s.uP(Le,Ve,g).ComputeDiff(ge)}class te{constructor(Le){const Ve=[],g=[];for(let ge=0,We=Le.length;ge<We;ge++)Ve[ge]=$(Le[ge],1),g[ge]=G(Le[ge],1);this.lines=Le,this._startColumns=Ve,this._endColumns=g}getElements(){const Le=[];for(let Ve=0,g=this.lines.length;Ve<g;Ve++)Le[Ve]=this.lines[Ve].substring(this._startColumns[Ve]-1,this._endColumns[Ve]-1);return Le}getStrictElement(Le){return this.lines[Le]}getStartLineNumber(Le){return Le+1}getEndLineNumber(Le){return Le+1}createCharSequence(Le,Ve,g){const ge=[],We=[],de=[];let be=0;for(let ae=Ve;ae<=g;ae++){const O=this.lines[ae],Ue=Le?this._startColumns[ae]:1,Ye=Le?this._endColumns[ae]:O.length+1;for(let Fe=Ue;Fe<Ye;Fe++)ge[be]=O.charCodeAt(Fe-1),We[be]=ae+1,de[be]=Fe,be++;!Le&&ae<g&&(ge[be]=10,We[be]=ae+1,de[be]=O.length+1,be++)}return new L(ge,We,de)}}class L{constructor(Le,Ve,g){this._charCodes=Le,this._lineNumbers=Ve,this._columns=g}toString(){return"["+this._charCodes.map((Le,Ve)=>(Le===10?"\\n":String.fromCharCode(Le))+`-(${this._lineNumbers[Ve]},${this._columns[Ve]})`).join(", ")+"]"}_assertIndex(Le,Ve){if(Le<0||Le>=Ve.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(Le){return Le>0&&Le===this._lineNumbers.length?this.getEndLineNumber(Le-1):(this._assertIndex(Le,this._lineNumbers),this._lineNumbers[Le])}getEndLineNumber(Le){return Le===-1?this.getStartLineNumber(Le+1):(this._assertIndex(Le,this._lineNumbers),this._charCodes[Le]===10?this._lineNumbers[Le]+1:this._lineNumbers[Le])}getStartColumn(Le){return Le>0&&Le===this._columns.length?this.getEndColumn(Le-1):(this._assertIndex(Le,this._columns),this._columns[Le])}getEndColumn(Le){return Le===-1?this.getStartColumn(Le+1):(this._assertIndex(Le,this._columns),this._charCodes[Le]===10?1:this._columns[Le]+1)}}class W{constructor(Le,Ve,g,ge,We,de,be,ae){this.originalStartLineNumber=Le,this.originalStartColumn=Ve,this.originalEndLineNumber=g,this.originalEndColumn=ge,this.modifiedStartLineNumber=We,this.modifiedStartColumn=de,this.modifiedEndLineNumber=be,this.modifiedEndColumn=ae}static createFromDiffChange(Le,Ve,g){const ge=Ve.getStartLineNumber(Le.originalStart),We=Ve.getStartColumn(Le.originalStart),de=Ve.getEndLineNumber(Le.originalStart+Le.originalLength-1),be=Ve.getEndColumn(Le.originalStart+Le.originalLength-1),ae=g.getStartLineNumber(Le.modifiedStart),O=g.getStartColumn(Le.modifiedStart),Ue=g.getEndLineNumber(Le.modifiedStart+Le.modifiedLength-1),Ye=g.getEndColumn(Le.modifiedStart+Le.modifiedLength-1);return new W(ge,We,de,be,ae,O,Ue,Ye)}}class B{constructor(Le,Ve,g,ge,We){this.originalStartLineNumber=Le,this.originalEndLineNumber=Ve,this.modifiedStartLineNumber=g,this.modifiedEndLineNumber=ge,this.charChanges=We}static createFromDiffResult(Le,Ve,g,ge,We,de,be){let ae,O,Ue,Ye,Fe;if(Ve.originalLength===0?(ae=g.getStartLineNumber(Ve.originalStart)-1,O=0):(ae=g.getStartLineNumber(Ve.originalStart),O=g.getEndLineNumber(Ve.originalStart+Ve.originalLength-1)),Ve.modifiedLength===0?(Ue=ge.getStartLineNumber(Ve.modifiedStart)-1,Ye=0):(Ue=ge.getStartLineNumber(Ve.modifiedStart),Ye=ge.getEndLineNumber(Ve.modifiedStart+Ve.modifiedLength-1)),de&&Ve.originalLength>0&&Ve.originalLength<20&&Ve.modifiedLength>0&&Ve.modifiedLength<20&&We()){const oe=g.createCharSequence(Le,Ve.originalStart,Ve.originalStart+Ve.originalLength-1),rt=ge.createCharSequence(Le,Ve.modifiedStart,Ve.modifiedStart+Ve.modifiedLength-1);if(oe.getElements().length>0&&rt.getElements().length>0){let lt=z(oe,rt,We,!0).changes;be&&(lt=function(ye){if(ye.length<=1)return ye;const pt=[ye[0]];let Mt=pt[0];for(let Zt=1,jt=ye.length;Zt<jt;Zt++){const xn=ye[Zt],nn=xn.originalStart-(Mt.originalStart+Mt.originalLength),gn=xn.modifiedStart-(Mt.modifiedStart+Mt.modifiedLength);Math.min(nn,gn)<3?(Mt.originalLength=xn.originalStart+xn.originalLength-Mt.originalStart,Mt.modifiedLength=xn.modifiedStart+xn.modifiedLength-Mt.modifiedStart):(pt.push(xn),Mt=xn)}return pt}(lt)),Fe=[];for(let ye=0,pt=lt.length;ye<pt;ye++)Fe.push(W.createFromDiffChange(lt[ye],oe,rt))}}return new B(ae,O,Ue,Ye,Fe)}}class U{constructor(Le,Ve,g){this.shouldComputeCharChanges=g.shouldComputeCharChanges,this.shouldPostProcessCharChanges=g.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=g.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=g.shouldMakePrettyDiff,this.originalLines=Le,this.modifiedLines=Ve,this.original=new te(Le),this.modified=new te(Ve),this.continueLineDiff=ie(g.maxComputationTime),this.continueCharDiff=ie(g.maxComputationTime===0?0:Math.min(g.maxComputationTime,5000))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const Le=z(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),Ve=Le.changes,g=Le.quitEarly;if(this.shouldIgnoreTrimWhitespace){const be=[];for(let ae=0,O=Ve.length;ae<O;ae++)be.push(B.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Ve[ae],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:g,changes:be}}const ge=[];let We=0,de=0;for(let be=-1,ae=Ve.length;be<ae;be++){const O=be+1<ae?Ve[be+1]:null,Ue=O?O.originalStart:this.originalLines.length,Ye=O?O.modifiedStart:this.modifiedLines.length;for(;We<Ue&&de<Ye;){const Fe=this.originalLines[We],oe=this.modifiedLines[de];if(Fe!==oe){{let rt=$(Fe,1),lt=$(oe,1);for(;rt>1&&lt>1&&Fe.charCodeAt(rt-2)===oe.charCodeAt(lt-2);)rt--,lt--;(rt>1||lt>1)&&this._pushTrimWhitespaceCharChange(ge,We+1,1,rt,de+1,1,lt)}{let rt=G(Fe,1),lt=G(oe,1);const ye=Fe.length+1,pt=oe.length+1;for(;rt<ye&&lt<pt&&Fe.charCodeAt(rt-1)===Fe.charCodeAt(lt-1);)rt++,lt++;(rt<ye||lt<pt)&&this._pushTrimWhitespaceCharChange(ge,We+1,rt,ye,de+1,lt,pt)}}We++,de++}O&&(ge.push(B.createFromDiffResult(this.shouldIgnoreTrimWhitespace,O,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),We+=O.originalLength,de+=O.modifiedLength)}return{quitEarly:g,changes:ge}}_pushTrimWhitespaceCharChange(Le,Ve,g,ge,We,de,be){if(this._mergeTrimWhitespaceCharChange(Le,Ve,g,ge,We,de,be))return;let ae;this.shouldComputeCharChanges&&(ae=[new W(Ve,g,Ve,ge,We,de,We,be)]),Le.push(new B(Ve,Ve,We,We,ae))}_mergeTrimWhitespaceCharChange(Le,Ve,g,ge,We,de,be){const ae=Le.length;if(ae===0)return!1;const O=Le[ae-1];return O.originalEndLineNumber!==0&&O.modifiedEndLineNumber!==0&&(O.originalEndLineNumber===Ve&&O.modifiedEndLineNumber===We?(this.shouldComputeCharChanges&&O.charChanges&&O.charChanges.push(new W(Ve,g,Ve,ge,We,de,We,be)),!0):O.originalEndLineNumber+1===Ve&&O.modifiedEndLineNumber+1===We&&(O.originalEndLineNumber=Ve,O.modifiedEndLineNumber=We,this.shouldComputeCharChanges&&O.charChanges&&O.charChanges.push(new W(Ve,g,Ve,ge,We,de,We,be)),!0))}}function $(Le,Ve){const g=x.HG(Le);return g===-1?Ve:g+1}function G(Le,Ve){const g=x.lT(Le);return g===-1?Ve:g+2}function ie(Le){if(Le===0)return()=>!0;const Ve=Date.now();return()=>Date.now()-Ve<Le}var ee=h(3436),ne=h(1386),H=h(3072),V=h(4901);function Y(Le){const Ve=[];for(let g of Le){const ge=Number(g);(ge||ge===0&&g.replace(/\s/g,"")!=="")&&Ve.push(ge)}return Ve}function ve(Le,Ve,g,ge){return{red:Le/255,blue:g/255,green:Ve/255,alpha:ge}}function Te(Le,Ve){const g=Ve.index,ge=Ve[0].length;if(!g)return;const We=Le.positionAt(g);return{startLineNumber:We.lineNumber,startColumn:We.column,endLineNumber:We.lineNumber,endColumn:We.column+ge}}function xe(Le,Ve){if(!Le)return;const g=V.Q1.Format.CSS.parseHex(Ve);return g?{range:Le,color:ve(g.rgba.r,g.rgba.g,g.rgba.b,g.rgba.a)}:void 0}function Be(Le,Ve,g){if(!Le||Ve.length!==1)return;const ge=Y(Ve[0].values());return{range:Le,color:ve(ge[0],ge[1],ge[2],g?ge[3]:1)}}function Ie(Le,Ve,g){if(!Le||Ve.length!==1)return;const ge=Y(Ve[0].values()),We=new V.Q1(new V.hB(ge[0],ge[1]/100,ge[2]/100,g?ge[3]:1));return{range:Le,color:ve(We.rgba.r,We.rgba.g,We.rgba.b,We.rgba.a)}}function he(Le,Ve){return typeof Le=="string"?[...Le.matchAll(Ve)]:Le.findMatches(Ve)}var Q=h(9307),re=h(5456);class Je{constructor(){this._workerTextModelSyncServer=new re.WorkerTextModelSyncServer}dispose(){}_getModel(Le){return this._workerTextModelSyncServer.getModel(Le)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(Le){this._workerTextModelSyncServer.$acceptNewModel(Le)}$acceptModelChanged(Le,Ve){this._workerTextModelSyncServer.$acceptModelChanged(Le,Ve)}$acceptRemovedModel(Le){this._workerTextModelSyncServer.$acceptRemovedModel(Le)}async $computeUnicodeHighlights(Le,Ve,g){const ge=this._getModel(Le);return ge?_.UnicodeTextModelHighlighter.computeUnicodeHighlights(ge,Ve,g):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async $findSectionHeaders(Le,Ve){const g=this._getModel(Le);return g?Q.findSectionHeaders(g,Ve):[]}async $computeDiff(Le,Ve,g,ge){const We=this._getModel(Le),de=this._getModel(Ve);return We&&de?Se.computeDiff(We,de,g,ge):null}static computeDiff(Le,Ve,g,ge){const We=ge==="advanced"?new ee.D8:new P,de=Le.getLinesContent(),be=Ve.getLinesContent(),ae=We.computeDiff(de,be,g);function O(Ue){return Ue.map((Ye)=>[Ye.original.startLineNumber,Ye.original.endLineNumberExclusive,Ye.modified.startLineNumber,Ye.modified.endLineNumberExclusive,Ye.innerChanges?.map((Fe)=>[Fe.originalRange.startLineNumber,Fe.originalRange.startColumn,Fe.originalRange.endLineNumber,Fe.originalRange.endColumn,Fe.modifiedRange.startLineNumber,Fe.modifiedRange.startColumn,Fe.modifiedRange.endLineNumber,Fe.modifiedRange.endColumn])])}return{identical:!(ae.changes.length>0)&&this._modelsAreIdentical(Le,Ve),quitEarly:ae.hitTimeout,changes:O(ae.changes),moves:ae.moves.map((Ue)=>[Ue.lineRangeMapping.original.startLineNumber,Ue.lineRangeMapping.original.endLineNumberExclusive,Ue.lineRangeMapping.modified.startLineNumber,Ue.lineRangeMapping.modified.endLineNumberExclusive,O(Ue.changes)])}}static _modelsAreIdentical(Le,Ve){const g=Le.getLineCount();if(g!==Ve.getLineCount())return!1;for(let ge=1;ge<=g;ge++)if(Le.getLineContent(ge)!==Ve.getLineContent(ge))return!1;return!0}static{this._diffLimit=1e5}async $computeMoreMinimalEdits(Le,Ve,g){const ge=this._getModel(Le);if(!ge)return Ve;const We=[];let de;Ve=Ve.slice(0).sort((ae,O)=>ae.range&&O.range?I.Q.compareRangesUsingStarts(ae.range,O.range):(ae.range?0:1)-(O.range?0:1));let be=0;for(let ae=1;ae<Ve.length;ae++)I.Q.getEndPosition(Ve[be].range).equals(I.Q.getStartPosition(Ve[ae].range))?(Ve[be].range=I.Q.fromPositions(I.Q.getStartPosition(Ve[be].range),I.Q.getEndPosition(Ve[ae].range)),Ve[be].text+=Ve[ae].text):(be++,Ve[be]=Ve[ae]);Ve.length=be+1;for(let{range:ae,text:O,eol:Ue}of Ve){if(typeof Ue=="number"&&(de=Ue),I.Q.isEmpty(ae)&&!O)continue;const Ye=ge.getValueInRange(ae);if(O=O.replace(/\r\n|\n|\r/g,ge.eol),Ye===O)continue;if(Math.max(O.length,Ye.length)>Se._diffLimit){We.push({range:ae,text:O});continue}const Fe=s.F1(Ye,O,g),oe=ge.offsetAt(I.Q.lift(ae).getStartPosition());for(let rt of Fe){const lt=ge.positionAt(oe+rt.originalStart),ye=ge.positionAt(oe+rt.originalStart+rt.originalLength),pt={text:O.substr(rt.modifiedStart,rt.modifiedLength),range:{startLineNumber:lt.lineNumber,startColumn:lt.column,endLineNumber:ye.lineNumber,endColumn:ye.column}};ge.getValueInRange(pt.range)!==pt.text&&We.push(pt)}}return typeof de=="number"&&We.push({eol:de,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),We}async $computeLinks(Le){const Ve=this._getModel(Le);return Ve?function(g){return g&&typeof g.getLineCount=="function"&&typeof g.getLineContent=="function"?w.computeLinks(g):[]}(Ve):null}async $computeDefaultDocumentColors(Le){const Ve=this._getModel(Le);return Ve?function(g){return g&&typeof g.getValue=="function"&&typeof g.positionAt=="function"?function(ge){const We=[],de=he(ge,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(de.length>0)for(let be of de){const ae=be.filter((Fe)=>Fe!==void 0),O=ae[1],Ue=ae[2];if(!Ue)continue;let Ye;if(O==="rgb"){const Fe=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;Ye=Be(Te(ge,be),he(Ue,Fe),!1)}else if(O==="rgba"){const Fe=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;Ye=Be(Te(ge,be),he(Ue,Fe),!0)}else if(O==="hsl"){const Fe=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;Ye=Ie(Te(ge,be),he(Ue,Fe),!1)}else if(O==="hsla"){const Fe=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;Ye=Ie(Te(ge,be),he(Ue,Fe),!0)}else O==="#"&&(Ye=xe(Te(ge,be),O+Ue));Ye&&We.push(Ye)}return We}(g):[]}(Ve):null}static{this._suggestionsLimit=1e4}async $textualSuggest(Le,Ve,g,ge){const We=new p.W,de=new RegExp(g,ge),be=new Set;e:for(let ae of Le){const O=this._getModel(ae);if(O){for(let Ue of O.words(de))if(Ue!==Ve&&isNaN(Number(Ue))&&(be.add(Ue),be.size>Se._suggestionsLimit))break e}}return{words:Array.from(be),duration:We.elapsed()}}async $computeWordRanges(Le,Ve,g,ge){const We=this._getModel(Le);if(!We)return Object.create(null);const de=new RegExp(g,ge),be=Object.create(null);for(let ae=Ve.startLineNumber;ae<Ve.endLineNumber;ae++){const O=We.getLineWords(ae,de);for(let Ue of O){if(!isNaN(Number(Ue.word)))continue;let Ye=be[Ue.word];Ye||(Ye=[],be[Ue.word]=Ye),Ye.push({startLineNumber:ae,startColumn:Ue.startColumn,endLineNumber:ae,endColumn:Ue.endColumn})}}return be}async $navigateValueSet(Le,Ve,g,ge,We){const de=this._getModel(Le);if(!de)return null;const be=new RegExp(ge,We);Ve.startColumn===Ve.endColumn&&(Ve={startLineNumber:Ve.startLineNumber,startColumn:Ve.startColumn,endLineNumber:Ve.endLineNumber,endColumn:Ve.endColumn+1});const ae=de.getValueInRange(Ve),O=de.getWordAtPosition({lineNumber:Ve.startLineNumber,column:Ve.startColumn},be);if(!O)return null;const Ue=de.getValueInRange(O);return C.INSTANCE.navigateValueSet(Ve,ae,O,Ue,g)}}class Se extends Je{constructor(Le,Ve){super(),this._host=Le,this._foreignModuleFactory=Ve,this._foreignModule=null}async $ping(){return"pong"}$loadForeignModule(Le,Ve,g){const ge={host:ne.kT(g,(We,de)=>this._host.$fhr(We,de)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(ge,Ve),Promise.resolve(ne.V0(this._foreignModule))):new Promise((We,de)=>{const be=(ae)=>{this._foreignModule=ae.create(ge,Ve),We(ne.V0(this._foreignModule))};{const ae=H.zl.asBrowserUri(`${Le}.js`).toString(!0);h(9204)(`${ae}`).then(be).catch(de)}})}$fmr(Le,Ve){if(!this._foreignModule||typeof this._foreignModule[Le]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+Le));try{return Promise.resolve(this._foreignModule[Le].apply(this._foreignModule,Ve))}catch(g){return Promise.reject(g)}}}function Pe(Le){return new Se(f.EditorWorkerHost.getChannel(Le),null)}typeof importScripts=="function"&&(globalThis.monaco=d.createMonacoBaseAPI())},304:(dt,pe,h)=>{h.r(pe),h.d(pe,{IEditorWorkerService:()=>s});const s=h(2399).u1("editorWorkerService")},6358:(dt,pe,h)=>{h.r(pe),h.d(pe,{EditorWorkerHost:()=>s});class s{static{this.CHANNEL_NAME="editorWorkerHost"}static getChannel(I){return I.getChannel(s.CHANNEL_NAME)}static setChannel(I,T){I.setChannel(s.CHANNEL_NAME,T)}}},9307:(dt,pe,h)=>{h.r(pe),h.d(pe,{findSectionHeaders:()=>T});const s=new RegExp("\\bMARK:\\s*(.*)$","d"),I=/^-+|-+$/g;function T(v,E){let w=[];if(E.findRegionSectionHeaders&&E.foldingRules?.markers){const C=function(d,f){const p=[],_=d.getLineCount();for(let m=1;m<=_;m++){const b=d.getLineContent(m),x=b.match(f.foldingRules.markers.start);if(x){const k={startLineNumber:m,startColumn:x[0].length+1,endLineNumber:m,endColumn:b.length+1};if(k.endColumn>k.startColumn){const R={range:k,...M(b.substring(x[0].length)),shouldBeInComments:!1};(R.text||R.hasSeparatorLine)&&p.push(R)}}}return p}(v,E);w=w.concat(C)}if(E.findMarkSectionHeaders){const C=function(d){const f=[],p=d.getLineCount();for(let _=1;_<=p;_++)J(d.getLineContent(_),_,f);return f}(v);w=w.concat(C)}return w}function J(v,E,w){s.lastIndex=0;const C=s.exec(v);if(C){const d={startLineNumber:E,startColumn:C.indices[1][0]+1,endLineNumber:E,endColumn:C.indices[1][1]+1};if(d.endColumn>d.startColumn){const f={range:d,...M(C[1]),shouldBeInComments:!0};(f.text||f.hasSeparatorLine)&&w.push(f)}}}function M(v){const E=(v=v.trim()).startsWith("-");return{text:v=v.replace(I,""),hasSeparatorLine:E}}},5767:(dt,pe,h)=>{h.r(pe),h.d(pe,{getIconClasses:()=>w});var s=h(3072),I=h(2467),T=h(7264),J=h(4957),M=h(9971),v=h(8881);const E=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function w(d,f,p,_,m){if(v.L.isThemeIcon(m))return[`codicon-${m.id}`,"predefined-file-icon"];if(T.r.isUri(m))return[];const b=_===M.p.ROOT_FOLDER?["rootfolder-icon"]:_===M.p.FOLDER?["folder-icon"]:["file-icon"];if(p){let x;if(p.scheme===s.ny.data)x=I.B6.parseMetaData(p).get(I.B6.META_DATA_LABEL);else{const k=p.path.match(E);k?(x=C(k[2].toLowerCase()),k[1]&&b.push(`${C(k[1].toLowerCase())}-name-dir-icon`)):x=C(p.authority.toLowerCase())}if(_===M.p.ROOT_FOLDER)b.push(`${x}-root-name-folder-icon`);else if(_===M.p.FOLDER)b.push(`${x}-name-folder-icon`);else{if(x){if(b.push(`${x}-name-file-icon`),b.push("name-file-icon"),x.length<=255){const R=x.split(".");for(let P=1;P<R.length;P++)b.push(`${R.slice(P).join(".")}-ext-file-icon`)}b.push("ext-file-icon")}const k=function(R,P,z){if(!z)return null;let te=null;if(z.scheme===s.ny.data){const L=I.B6.parseMetaData(z).get(I.B6.META_DATA_MIME);L&&(te=P.getLanguageIdByMimeType(L))}else{const L=R.getModel(z);L&&(te=L.getLanguageId())}return te&&te!==J.vH?te:P.guessLanguageIdByFilepathOrFirstLine(z)}(d,f,p);k&&b.push(`${C(k)}-lang-file-icon`)}}return b}function C(d){return d.replace(/[\s]/g,"/")}},2060:(dt,pe,h)=>{h.r(pe),h.d(pe,{ILanguageFeatureDebounceService:()=>d,LanguageFeatureDebounceService:()=>m});var s=h(2344),I=h(7992),T=h(2992),J=h(8195),M=h(6726),v=h(2399),E=h(6441),w=h(3072),C=function(b,x){return function(k,R){x(k,R,b)}};const d=v.u1("ILanguageFeatureDebounceService");var f;(function(b){const x=new WeakMap;let k=0;b.of=function(R){let P=x.get(R);return P===void 0&&(P=++k,x.set(R,P)),P}})(f||(f={}));class p{constructor(b){this._default=b}get(b){return this._default}update(b,x){return this._default}default(){return this._default}}class _{constructor(b,x,k,R,P,z){this._logService=b,this._name=x,this._registry=k,this._default=R,this._min=P,this._max=z,this._cache=new I.qK(50,0.7)}_key(b){return b.id+this._registry.all(b).reduce((x,k)=>s.sN(f.of(k),x),0)}get(b){const x=this._key(b),k=this._cache.get(x);return k?T.qE(k.value,this._min,this._max):this.default()}update(b,x){const k=this._key(b);let R=this._cache.get(k);R||(R=new T.mu(6),this._cache.set(k,R));const P=T.qE(R.update(x),this._min,this._max);return w.v$(b.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${b.uri.toString()} is ${P}ms`),P}_overall(){const b=new T.Uq;for(let[,x]of this._cache)b.update(x.value);return b.value}default(){const b=0|this._overall()||this._default;return T.qE(b,this._min,this._max)}}let m=class{constructor(b,x){this._logService=b,this._data=new Map,this._isDev=x.isExtensionDevelopment||!x.isBuilt}for(b,x,k){const R=k?.min??50,P=k?.max??R**2,z=k?.key??void 0,te=`${f.of(b)},${R}${z?","+z:""}`;let L=this._data.get(te);return L||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${x}] is disabled in developed mode`),L=new p(1.5*R)):L=new _(this._logService,x,b,0|this._overallAverage()||1.5*R,R,P),this._data.set(te,L)),L}_overallAverage(){const b=new T.Uq;for(let x of this._data.values())b.update(x.default());return b.value}};m=function(b,x,k,R){var P,z=arguments.length,te=z<3?x:R===null?R=Object.getOwnPropertyDescriptor(x,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(b,x,k,R);else for(var L=b.length-1;L>=0;L--)(P=b[L])&&(te=(z<3?P(te):z>3?P(x,k,te):P(x,k))||te);return z>3&&te&&Object.defineProperty(x,k,te),te}([C(0,E.rr),C(1,J.k)],m),M.v(d,m,1)},2230:(dt,pe,h)=>{h.r(pe),h.d(pe,{ILanguageFeaturesService:()=>s});const s=h(2399).u1("ILanguageFeaturesService")},1197:(dt,pe,h)=>{h.r(pe),h.d(pe,{LanguageFeaturesService:()=>f});var s=h(2106),I=h(998),T=h(6055),J=h(4403);function M(p){return typeof p!="string"&&(Array.isArray(p)?p.every(M):!!p.exclusive)}class v{constructor(p,_,m,b,x){this.uri=p,this.languageId=_,this.notebookUri=m,this.notebookType=b,this.recursive=x}equals(p){return this.notebookType===p.notebookType&&this.languageId===p.languageId&&this.uri.toString()===p.uri.toString()&&this.notebookUri?.toString()===p.notebookUri?.toString()&&this.recursive===p.recursive}}class E{constructor(p){this._notebookInfoResolver=p,this._clock=0,this._entries=[],this._onDidChange=new s.vl,this.onDidChange=this._onDidChange.event}register(p,_){let m={selector:p,provider:_,_score:-1,_time:this._clock++};return this._entries.push(m),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),I.s(()=>{if(m){const b=this._entries.indexOf(m);b>=0&&(this._entries.splice(b,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),m=void 0)}})}has(p){return this.all(p).length>0}all(p){if(!p)return[];this._updateScores(p,!1);const _=[];for(let m of this._entries)m._score>0&&_.push(m.provider);return _}ordered(p,_=!1){const m=[];return this._orderedForEach(p,_,(b)=>m.push(b.provider)),m}orderedGroups(p){const _=[];let m,b;return this._orderedForEach(p,!1,(x)=>{m&&b===x._score?m.push(x.provider):(b=x._score,m=[x.provider],_.push(m))}),_}_orderedForEach(p,_,m){this._updateScores(p,_);for(let b of this._entries)b._score>0&&m(b)}_updateScores(p,_){const m=this._notebookInfoResolver?.(p.uri),b=m?new v(p.uri,p.getLanguageId(),m.uri,m.type,_):new v(p.uri,p.getLanguageId(),void 0,void 0,_);if(!this._lastCandidate?.equals(b)){this._lastCandidate=b;for(let x of this._entries)if(x._score=J.f(x.selector,b.uri,b.languageId,T.vd(p),b.notebookUri,b.notebookType),M(x.selector)&&x._score>0){if(!_){for(let k of this._entries)k._score=0;x._score=1000;break}x._score=0}this._entries.sort(E._compareByScoreAndTime)}}static _compareByScoreAndTime(p,_){return p._score<_._score?1:p._score>_._score?-1:w(p.selector)&&!w(_.selector)?1:!w(p.selector)&&w(_.selector)?-1:p._time<_._time?1:p._time>_._time?-1:0}}function w(p){return typeof p!="string"&&(Array.isArray(p)?p.some(w):Boolean(p.isBuiltin))}var C=h(2230),d=h(6726);class f{constructor(){this.referenceProvider=new E(this._score.bind(this)),this.renameProvider=new E(this._score.bind(this)),this.newSymbolNamesProvider=new E(this._score.bind(this)),this.codeActionProvider=new E(this._score.bind(this)),this.definitionProvider=new E(this._score.bind(this)),this.typeDefinitionProvider=new E(this._score.bind(this)),this.declarationProvider=new E(this._score.bind(this)),this.implementationProvider=new E(this._score.bind(this)),this.documentSymbolProvider=new E(this._score.bind(this)),this.inlayHintsProvider=new E(this._score.bind(this)),this.colorProvider=new E(this._score.bind(this)),this.codeLensProvider=new E(this._score.bind(this)),this.documentFormattingEditProvider=new E(this._score.bind(this)),this.documentRangeFormattingEditProvider=new E(this._score.bind(this)),this.onTypeFormattingEditProvider=new E(this._score.bind(this)),this.signatureHelpProvider=new E(this._score.bind(this)),this.hoverProvider=new E(this._score.bind(this)),this.documentHighlightProvider=new E(this._score.bind(this)),this.multiDocumentHighlightProvider=new E(this._score.bind(this)),this.selectionRangeProvider=new E(this._score.bind(this)),this.foldingRangeProvider=new E(this._score.bind(this)),this.linkProvider=new E(this._score.bind(this)),this.inlineCompletionsProvider=new E(this._score.bind(this)),this.inlineEditProvider=new E(this._score.bind(this)),this.completionProvider=new E(this._score.bind(this)),this.linkedEditingRangeProvider=new E(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new E(this._score.bind(this)),this.documentSemanticTokensProvider=new E(this._score.bind(this)),this.documentDropEditProvider=new E(this._score.bind(this)),this.documentPasteEditProvider=new E(this._score.bind(this))}_score(p){return this._notebookTypeResolver?.(p)}}d.v(C.ILanguageFeaturesService,f,1)},3930:(dt,pe,h)=>{h.r(pe),h.d(pe,{LanguageService:()=>w});var s=h(2106),I=h(998),T=h(6995),J=h(3338),M=h(4364),v=h(4957),E=h(6311);class w extends I.jG{static{this.instanceCount=0}constructor(d=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new s.vl),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new s.vl),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new s.vl({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,w.instanceCount++,this._registry=this._register(new T.LanguagesRegistry(!0,d)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){w.instanceCount--,super.dispose()}isRegisteredLanguageId(d){return this._registry.isRegisteredLanguageId(d)}getLanguageIdByLanguageName(d){return this._registry.getLanguageIdByLanguageName(d)}getLanguageIdByMimeType(d){return this._registry.getLanguageIdByMimeType(d)}guessLanguageIdByFilepathOrFirstLine(d,f){const p=this._registry.guessLanguageIdByFilepathOrFirstLine(d,f);return J.Fy(p,null)}createById(d){return new C(this.onDidChange,()=>this._createAndGetLanguageIdentifier(d))}createByFilepathOrFirstLine(d,f){return new C(this.onDidChange,()=>{const p=this.guessLanguageIdByFilepathOrFirstLine(d,f);return this._createAndGetLanguageIdentifier(p)})}_createAndGetLanguageIdentifier(d){return d&&this.isRegisteredLanguageId(d)||(d=v.vH),d}requestBasicLanguageFeatures(d){this._requestedBasicLanguages.has(d)||(this._requestedBasicLanguages.add(d),this._onDidRequestBasicLanguageFeatures.fire(d))}requestRichLanguageFeatures(d){this._requestedRichLanguages.has(d)||(this._requestedRichLanguages.add(d),this.requestBasicLanguageFeatures(d),M.dG.getOrCreate(d),this._onDidRequestRichLanguageFeatures.fire(d))}}class C{constructor(d,f){this._value=E.y0(this,d,()=>f()),this.onDidChange=s.Jh.fromObservable(this._value)}get languageId(){return this._value.get()}}},5996:(dt,pe,h)=>{h.r(pe),h.d(pe,{clearPlatformLanguageAssociations:()=>p,getLanguageIds:()=>_,registerPlatformLanguageAssociation:()=>f});var s=h(3958),I=h(3720),T=h(3072),J=h(8019),M=h(2467),v=h(6844),E=h(4957);let w=[],C=[],d=[];function f(b,x=!1){(function(k,R,P){const z=function(te){return{id:te.id,mime:te.mime,filename:te.filename,extension:te.extension,filepattern:te.filepattern,firstline:te.firstline,userConfigured:!1,filenameLowercase:te.filename?te.filename.toLowerCase():void 0,extensionLowercase:te.extension?te.extension.toLowerCase():void 0,filepatternLowercase:te.filepattern?s.qg(te.filepattern.toLowerCase()):void 0,filepatternOnPath:!!te.filepattern&&te.filepattern.indexOf(J.SA.sep)>=0}}(k);w.push(z),z.userConfigured?d.push(z):C.push(z),P&&!z.userConfigured&&w.forEach((te)=>{te.mime===z.mime||te.userConfigured||(z.extension&&te.extension===z.extension&&console.warn(`Overwriting extension <<${z.extension}>> to now point to mime <<${z.mime}>>`),z.filename&&te.filename===z.filename&&console.warn(`Overwriting filename <<${z.filename}>> to now point to mime <<${z.mime}>>`),z.filepattern&&te.filepattern===z.filepattern&&console.warn(`Overwriting filepattern <<${z.filepattern}>> to now point to mime <<${z.mime}>>`),z.firstline&&te.firstline===z.firstline&&console.warn(`Overwriting firstline <<${z.firstline}>> to now point to mime <<${z.mime}>>`))})})(b,0,x)}function p(){w=w.filter((b)=>b.userConfigured),C=[]}function _(b,x){return function(k,R){let P;if(k)switch(k.scheme){case T.ny.file:P=k.fsPath;break;case T.ny.data:P=M.B6.parseMetaData(k).get(M.B6.META_DATA_LABEL);break;case T.ny.vscodeNotebookCell:P=void 0;break;default:P=k.path}if(!P)return[{id:"unknown",mime:I.K.unknown}];P=P.toLowerCase();const z=J.P8(P),te=m(P,z,d);if(te)return[te,{id:E.vH,mime:I.K.text}];const L=m(P,z,C);if(L)return[L,{id:E.vH,mime:I.K.text}];if(R){const W=function(B){if(v.LU(B)&&(B=B.substr(1)),B.length>0)for(let U=w.length-1;U>=0;U--){const $=w[U];if(!$.firstline)continue;const G=B.match($.firstline);if(G&&G.length>0)return $}}(R);if(W)return[W,{id:E.vH,mime:I.K.text}]}return[{id:"unknown",mime:I.K.unknown}]}(b,x).map((k)=>k.id)}function m(b,x,k){let R,P,z;for(let te=k.length-1;te>=0;te--){const L=k[te];if(x===L.filenameLowercase){R=L;break}if(L.filepattern&&(!P||L.filepattern.length>P.filepattern.length)){const W=L.filepatternOnPath?b:x;L.filepatternLowercase?.(W)&&(P=L)}L.extension&&(!z||L.extension.length>z.extension.length)&&x.endsWith(L.extensionLowercase)&&(z=L)}return R||P||z||void 0}},6995:(dt,pe,h)=>{h.r(pe),h.d(pe,{LanguageIdCodec:()=>d,LanguagesRegistry:()=>f});var s=h(2106),I=h(998),T=h(6844),J=h(5996),M=h(4957),v=h(7142),E=h(7167);const w=Object.prototype.hasOwnProperty,C="vs.editor.nullLanguage";class d{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(C,0),this._register(M.vH,1),this._nextLanguageId=2}_register(p,_){this._languageIdToLanguage[_]=p,this._languageToLanguageId.set(p,_)}register(p){if(this._languageToLanguageId.has(p))return;const _=this._nextLanguageId++;this._register(p,_)}encodeLanguageId(p){return this._languageToLanguageId.get(p)||0}decodeLanguageId(p){return this._languageIdToLanguage[p]||C}}class f extends I.jG{static{this.instanceCount=0}constructor(p=!0,_=!1){super(),this._onDidChange=this._register(new s.vl),this.onDidChange=this._onDidChange.event,f.instanceCount++,this._warnOnOverwrite=_,this.languageIdCodec=new d,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},p&&(this._initializeFromRegistry(),this._register(M.W6.onDidChangeLanguages((m)=>{this._initializeFromRegistry()})))}dispose(){f.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},J.clearPlatformLanguageAssociations();const p=[].concat(M.W6.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(p)}_registerLanguages(p){for(let _ of p)this._registerLanguage(_);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((_)=>{const m=this._languages[_];m.name&&(this._nameMap[m.name]=m.identifier),m.aliases.forEach((b)=>{this._lowercaseNameMap[b.toLowerCase()]=m.identifier}),m.mimetypes.forEach((b)=>{this._mimeTypesMap[b]=m.identifier})}),E.O.as(v.Fd.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(p){const _=p.id;let m;w.call(this._languages,_)?m=this._languages[_]:(this.languageIdCodec.register(_),m={identifier:_,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[_]=m),this._mergeLanguage(m,p)}_mergeLanguage(p,_){const m=_.id;let b=null;if(Array.isArray(_.mimetypes)&&_.mimetypes.length>0&&(p.mimetypes.push(..._.mimetypes),b=_.mimetypes[0]),b||(b=`text/x-${m}`,p.mimetypes.push(b)),Array.isArray(_.extensions)){_.configuration?p.extensions=_.extensions.concat(p.extensions):p.extensions=p.extensions.concat(_.extensions);for(let R of _.extensions)J.registerPlatformLanguageAssociation({id:m,mime:b,extension:R},this._warnOnOverwrite)}if(Array.isArray(_.filenames))for(let R of _.filenames)J.registerPlatformLanguageAssociation({id:m,mime:b,filename:R},this._warnOnOverwrite),p.filenames.push(R);if(Array.isArray(_.filenamePatterns))for(let R of _.filenamePatterns)J.registerPlatformLanguageAssociation({id:m,mime:b,filepattern:R},this._warnOnOverwrite);if(typeof _.firstLine=="string"&&_.firstLine.length>0){let R=_.firstLine;R.charAt(0)!=="^"&&(R="^"+R);try{const P=new RegExp(R);T.eY(P)||J.registerPlatformLanguageAssociation({id:m,mime:b,firstline:P},this._warnOnOverwrite)}catch(P){console.warn(`[${_.id}]: Invalid regular expression \`${R}\`: `,P)}}p.aliases.push(m);let x=null;if(_.aliases!==void 0&&Array.isArray(_.aliases)&&(x=_.aliases.length===0?[null]:_.aliases),x!==null)for(let R of x)R&&R.length!==0&&p.aliases.push(R);const k=x!==null&&x.length>0;if(k&&x[0]===null);else{const R=(k?x[0]:null)||m;!k&&p.name||(p.name=R)}_.configuration&&p.configurationFiles.push(_.configuration),_.icon&&p.icons.push(_.icon)}isRegisteredLanguageId(p){return!!p&&w.call(this._languages,p)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(p){const _=p.toLowerCase();return w.call(this._lowercaseNameMap,_)?this._lowercaseNameMap[_]:null}getLanguageIdByMimeType(p){return p&&w.call(this._mimeTypesMap,p)?this._mimeTypesMap[p]:null}guessLanguageIdByFilepathOrFirstLine(p,_){return p||_?J.getLanguageIds(p,_):[]}}},886:(dt,pe,h)=>{h.r(pe),h.d(pe,{IMarkerDecorationsService:()=>s});const s=h(2399).u1("markerDecorationsService")},11:(dt,pe,h)=>{h.r(pe),h.d(pe,{MarkerDecorationsService:()=>m});var s=h(7619),I=h(998),T=h(6055),J=h(9044),M=h(8295),v=h(4830),E=h(8061),w=h(3072),C=h(2106),d=h(559),f=h(7992),p=h(8436),_=function(x,k){return function(R,P){k(R,P,x)}};let m=class extends I.jG{constructor(x,k){super(),this._markerService=k,this._onDidChangeMarker=this._register(new C.vl),this._markerDecorations=new f.fT,x.getModels().forEach((R)=>this._onModelAdded(R)),this._register(x.onModelAdded(this._onModelAdded,this)),this._register(x.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach((x)=>x.dispose()),this._markerDecorations.clear()}getMarker(x,k){const R=this._markerDecorations.get(x);return R&&R.getMarker(k)||null}_handleMarkerChange(x){x.forEach((k)=>{const R=this._markerDecorations.get(k);R&&this._updateDecorations(R)})}_onModelAdded(x){const k=new b(x);this._markerDecorations.set(x.uri,k),this._updateDecorations(k)}_onModelRemoved(x){const k=this._markerDecorations.get(x.uri);k&&(k.dispose(),this._markerDecorations.delete(x.uri)),x.uri.scheme!==w.ny.inMemory&&x.uri.scheme!==w.ny.internal&&x.uri.scheme!==w.ny.vscode||this._markerService?.read({resource:x.uri}).map((R)=>R.owner).forEach((R)=>this._markerService.remove(R,[x.uri]))}_updateDecorations(x){const k=this._markerService.read({resource:x.model.uri,take:500});x.update(k)&&this._onDidChangeMarker.fire(x.model)}};m=function(x,k,R,P){var z,te=arguments.length,L=te<3?k:P===null?P=Object.getOwnPropertyDescriptor(k,R):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(x,k,R,P);else for(var W=x.length-1;W>=0;W--)(z=x[W])&&(L=(te<3?z(L):te>3?z(k,R,L):z(k,R))||L);return te>3&&L&&Object.defineProperty(k,R,L),L}([_(0,v.IModelService),_(1,s.DR)],m);class b extends I.jG{constructor(x){super(),this.model=x,this._map=new f.cO,this._register(I.s(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(x){const{added:k,removed:R}=p.Z(new Set(this._map.keys()),new Set(x));if(k.length===0&&R.length===0)return!1;const P=R.map((L)=>this._map.get(L)),z=k.map((L)=>({range:this._createDecorationRange(this.model,L),options:this._createDecorationOption(L)})),te=this.model.deltaDecorations(P,z);for(let L of R)this._map.delete(L);for(let L=0;L<te.length;L++)this._map.set(k[L],te[L]);return!0}getMarker(x){return this._map.getKey(x.id)}_createDecorationRange(x,k){let R=E.Q.lift(k);if(k.severity!==s.cj.Hint||this._hasMarkerTag(k,1)||this._hasMarkerTag(k,2)||(R=R.setEndPosition(R.startLineNumber,R.startColumn+2)),R=x.validateRange(R),R.isEmpty()){const P=x.getLineLastNonWhitespaceColumn(R.startLineNumber)||x.getLineMaxColumn(R.startLineNumber);if(P===1||R.endColumn>=P)return R;const z=x.getWordAtPosition(R.getStartPosition());z&&(R=new E.Q(R.startLineNumber,z.startColumn,R.endLineNumber,z.endColumn))}else if(k.endColumn===Number.MAX_VALUE&&k.startColumn===1&&R.startLineNumber===R.endLineNumber){const P=x.getLineFirstNonWhitespaceColumn(k.startLineNumber);P<R.endColumn&&(R=new E.Q(R.startLineNumber,P,R.endLineNumber,R.endColumn),k.startColumn=P)}return R}_createDecorationOption(x){let k,R,P,z,te;switch(x.severity){case s.cj.Hint:k=this._hasMarkerTag(x,2)?void 0:this._hasMarkerTag(x,1)?"squiggly-unnecessary":"squiggly-hint",P=0;break;case s.cj.Info:k="squiggly-info",R=J.Yf(M.AQ),P=10,te={color:J.Yf(d.KoI),position:1};break;case s.cj.Warning:k="squiggly-warning",R=J.Yf(M.aZ),P=20,te={color:J.Yf(d.uMG),position:1};break;case s.cj.Error:default:k="squiggly-error",R=J.Yf(M.yI),P=30,te={color:J.Yf(d.yLC),position:1}}return x.tags&&(x.tags.indexOf(1)!==-1&&(z="squiggly-inline-unnecessary"),x.tags.indexOf(2)!==-1&&(z="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:k,showIfCollapsed:!0,overviewRuler:{color:R,position:T.A5.Right},minimap:te,zIndex:P,inlineClassName:z}}_hasMarkerTag(x,k){return!!x.tags&&x.tags.indexOf(k)>=0}}},4830:(dt,pe,h)=>{h.r(pe),h.d(pe,{IModelService:()=>s});const s=h(2399).u1("modelService")},931:(dt,pe,h)=>{h.r(pe),h.d(pe,{DefaultModelSHA1Computer:()=>L,ModelService:()=>te});var s,I=h(2106),T=h(998),J=h(3339),M=h(1907),v=h(2590),E=h(4957),w=h(1504),C=h(5753),d=h(8803),f=h(2344),p=h(4296),_=h(3072),m=h(1386),b=h(2399),x=function(W,B){return function(U,$){B(U,$,W)}};function k(W){return W.toString()}class R{constructor(W,B,U){this.model=W,this._modelEventListeners=new T.Cm,this.model=W,this._modelEventListeners.add(W.onWillDispose(()=>B(W))),this._modelEventListeners.add(W.onDidChangeLanguage(($)=>U(W,$)))}dispose(){this._modelEventListeners.dispose()}}const P=J.j9||J.zx?1:2;class z{constructor(W,B,U,$,G,ie,ee,ne){this.uri=W,this.initialUndoRedoSnapshot=B,this.time=U,this.sharesUndoRedoStack=$,this.heapSize=G,this.sha1=ie,this.versionId=ee,this.alternativeVersionId=ne}}let te=class extends T.jG{static{s=this}static{this.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520}constructor(W,B,U,$){super(),this._configurationService=W,this._resourcePropertiesService=B,this._undoRedoService=U,this._instantiationService=$,this._onModelAdded=this._register(new I.vl),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new I.vl),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new I.vl),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration((G)=>this._updateModelOptions(G))),this._updateModelOptions(void 0)}static _readModelOptions(W,B){let U=v.R.tabSize;if(W.editor&&W.editor.tabSize!==void 0){const ve=parseInt(W.editor.tabSize,10);isNaN(ve)||(U=ve),U<1&&(U=1)}let $="tabSize";if(W.editor&&W.editor.indentSize!==void 0&&W.editor.indentSize!=="tabSize"){const ve=parseInt(W.editor.indentSize,10);isNaN(ve)||($=Math.max(ve,1))}let G=v.R.insertSpaces;W.editor&&W.editor.insertSpaces!==void 0&&(G=W.editor.insertSpaces!=="false"&&Boolean(W.editor.insertSpaces));let ie=P;const ee=W.eol;ee==="\r\n"?ie=2:ee==="\n"&&(ie=1);let ne=v.R.trimAutoWhitespace;W.editor&&W.editor.trimAutoWhitespace!==void 0&&(ne=W.editor.trimAutoWhitespace!=="false"&&Boolean(W.editor.trimAutoWhitespace));let H=v.R.detectIndentation;W.editor&&W.editor.detectIndentation!==void 0&&(H=W.editor.detectIndentation!=="false"&&Boolean(W.editor.detectIndentation));let V=v.R.largeFileOptimizations;W.editor&&W.editor.largeFileOptimizations!==void 0&&(V=W.editor.largeFileOptimizations!=="false"&&Boolean(W.editor.largeFileOptimizations));let Y=v.R.bracketPairColorizationOptions;return W.editor?.bracketPairColorization&&typeof W.editor.bracketPairColorization=="object"&&(Y={enabled:!!W.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!W.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:B,tabSize:U,indentSize:$,insertSpaces:G,detectIndentation:H,defaultEOL:ie,trimAutoWhitespace:ne,largeFileOptimizations:V,bracketPairColorizationOptions:Y}}_getEOL(W,B){if(W)return this._resourcePropertiesService.getEOL(W,B);const U=this._configurationService.getValue("files.eol",{overrideIdentifier:B});return U&&typeof U=="string"&&U!=="auto"?U:J.OS===3||J.OS===2?"\n":"\r\n"}_shouldRestoreUndoStack(){const W=this._configurationService.getValue("files.restoreUndoStack");return typeof W!="boolean"||W}getCreationOptions(W,B,U){const $=typeof W=="string"?W:W.languageId;let G=this._modelCreationOptionsByLanguageAndResource[$+B];if(!G){const ie=this._configurationService.getValue("editor",{overrideIdentifier:$,resource:B}),ee=this._getEOL(B,$);G=s._readModelOptions({editor:ie,eol:ee},U),this._modelCreationOptionsByLanguageAndResource[$+B]=G}return G}_updateModelOptions(W){const B=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const U=Object.keys(this._models);for(let $=0,G=U.length;$<G;$++){const ie=U[$],ee=this._models[ie],ne=ee.model.getLanguageId(),H=ee.model.uri;if(W&&!W.affectsConfiguration("editor",{overrideIdentifier:ne,resource:H})&&!W.affectsConfiguration("files.eol",{overrideIdentifier:ne,resource:H}))continue;const V=B[ne+H],Y=this.getCreationOptions(ne,H,ee.model.isForSimpleWidget);s._setModelOptionsForModel(ee.model,Y,V)}}static _setModelOptionsForModel(W,B,U){U&&U.defaultEOL!==B.defaultEOL&&W.getLineCount()===1&&W.setEOL(B.defaultEOL===1?0:1),U&&U.detectIndentation===B.detectIndentation&&U.insertSpaces===B.insertSpaces&&U.tabSize===B.tabSize&&U.indentSize===B.indentSize&&U.trimAutoWhitespace===B.trimAutoWhitespace&&m.aI(U.bracketPairColorizationOptions,B.bracketPairColorizationOptions)||(B.detectIndentation?(W.detectIndentation(B.insertSpaces,B.tabSize),W.updateOptions({trimAutoWhitespace:B.trimAutoWhitespace,bracketColorizationOptions:B.bracketPairColorizationOptions})):W.updateOptions({insertSpaces:B.insertSpaces,tabSize:B.tabSize,indentSize:B.indentSize,trimAutoWhitespace:B.trimAutoWhitespace,bracketColorizationOptions:B.bracketPairColorizationOptions}))}_insertDisposedModel(W){this._disposedModels.set(k(W.uri),W),this._disposedModelsHeapSize+=W.heapSize}_removeDisposedModel(W){const B=this._disposedModels.get(k(W));return B&&(this._disposedModelsHeapSize-=B.heapSize),this._disposedModels.delete(k(W)),B}_ensureDisposedModelsHeapSize(W){if(this._disposedModelsHeapSize>W){const B=[];for(this._disposedModels.forEach((U)=>{U.sharesUndoRedoStack||B.push(U)}),B.sort((U,$)=>U.time-$.time);B.length>0&&this._disposedModelsHeapSize>W;){const U=B.shift();this._removeDisposedModel(U.uri),U.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(U.initialUndoRedoSnapshot)}}}_createModelData(W,B,U,$){const G=this.getCreationOptions(B,U,$),ie=this._instantiationService.createInstance(M.Bz,W,B,G,U);if(U&&this._disposedModels.has(k(U))){const H=this._removeDisposedModel(U),V=this._undoRedoService.getElements(U),Y=this._getSHA1Computer(),ve=!!Y.canComputeSHA1(ie)&&Y.computeSHA1(ie)===H.sha1;if(ve||H.sharesUndoRedoStack){for(let Te of V.past)p.Th(Te)&&Te.matchesResource(U)&&Te.setModel(ie);for(let Te of V.future)p.Th(Te)&&Te.matchesResource(U)&&Te.setModel(ie);this._undoRedoService.setElementsValidFlag(U,!0,(Te)=>p.Th(Te)&&Te.matchesResource(U)),ve&&(ie._overwriteVersionId(H.versionId),ie._overwriteAlternativeVersionId(H.alternativeVersionId),ie._overwriteInitialUndoRedoSnapshot(H.initialUndoRedoSnapshot))}else H.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(H.initialUndoRedoSnapshot)}const ee=k(ie.uri);if(this._models[ee])throw new Error("ModelService: Cannot add model because it already exists!");const ne=new R(ie,(H)=>this._onWillDispose(H),(H,V)=>this._onDidChangeLanguage(H,V));return this._models[ee]=ne,ne}createModel(W,B,U,$=!1){let G;return G=B?this._createModelData(W,B,U,$):this._createModelData(W,E.vH,U,$),this._onModelAdded.fire(G.model),G.model}getModels(){const W=[],B=Object.keys(this._models);for(let U=0,$=B.length;U<$;U++){const G=B[U];W.push(this._models[G].model)}return W}getModel(W){const B=k(W),U=this._models[B];return U?U.model:null}_schemaShouldMaintainUndoRedoElements(W){return W.scheme===_.ny.file||W.scheme===_.ny.vscodeRemote||W.scheme===_.ny.vscodeUserData||W.scheme===_.ny.vscodeNotebookCell||W.scheme==="fake-fs"}_onWillDispose(W){const B=k(W.uri),U=this._models[B],$=this._undoRedoService.getUriComparisonKey(W.uri)!==W.uri.toString();let G=!1,ie=0;if($||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(W.uri)){const H=this._undoRedoService.getElements(W.uri);if(H.past.length>0||H.future.length>0){for(let V of H.past)p.Th(V)&&V.matchesResource(W.uri)&&(G=!0,ie+=V.heapSize(W.uri),V.setModel(W.uri));for(let V of H.future)p.Th(V)&&V.matchesResource(W.uri)&&(G=!0,ie+=V.heapSize(W.uri),V.setModel(W.uri))}}const ee=s.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,ne=this._getSHA1Computer();if(G)if($||!(ie>ee)&&ne.canComputeSHA1(W))this._ensureDisposedModelsHeapSize(ee-ie),this._undoRedoService.setElementsValidFlag(W.uri,!1,(H)=>p.Th(H)&&H.matchesResource(W.uri)),this._insertDisposedModel(new z(W.uri,U.model.getInitialUndoRedoSnapshot(),Date.now(),$,ie,ne.computeSHA1(W),W.getVersionId(),W.getAlternativeVersionId()));else{const H=U.model.getInitialUndoRedoSnapshot();H!==null&&this._undoRedoService.restoreSnapshot(H)}else if(!$){const H=U.model.getInitialUndoRedoSnapshot();H!==null&&this._undoRedoService.restoreSnapshot(H)}delete this._models[B],U.dispose(),delete this._modelCreationOptionsByLanguageAndResource[W.getLanguageId()+W.uri],this._onModelRemoved.fire(W)}_onDidChangeLanguage(W,B){const U=B.oldLanguage,$=W.getLanguageId(),G=this.getCreationOptions(U,W.uri,W.isForSimpleWidget),ie=this.getCreationOptions($,W.uri,W.isForSimpleWidget);s._setModelOptionsForModel(W,ie,G),this._onModelModeChanged.fire({model:W,oldLanguageId:U})}_getSHA1Computer(){return new L}};te=s=function(W,B,U,$){var G,ie=arguments.length,ee=ie<3?B:$===null?$=Object.getOwnPropertyDescriptor(B,U):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(W,B,U,$);else for(var ne=W.length-1;ne>=0;ne--)(G=W[ne])&&(ee=(ie<3?G(ee):ie>3?G(B,U,ee):G(B,U))||ee);return ie>3&&ee&&Object.defineProperty(B,U,ee),ee}([x(0,C.pG),x(1,w.ITextResourcePropertiesService),x(2,d.$D),x(3,b._Y)],te);class L{static{this.MAX_MODEL_SIZE=10485760}canComputeSHA1(W){return W.getValueLength()<=L.MAX_MODEL_SIZE}computeSHA1(W){const B=new f.v7,U=W.createSnapshot();let $;for(;$=U.read();)B.update($);return B.digest()}}},7042:(dt,pe,h)=>{h.r(pe),h.d(pe,{ITextModelService:()=>s});const s=h(2399).u1("textModelService")},9376:(dt,pe,h)=>{h.r(pe),h.d(pe,{encodeSemanticTokensDto:()=>T});var s=h(2802),I=h(3339);function T(J){const M=new Uint32Array(function(E){let w=0;if(w+=2,E.type==="full")w+=1+E.data.length;else{w+=1,w+=3*E.deltas.length;for(let C of E.deltas)C.data&&(w+=C.data.length)}return w}(J));let v=0;if(M[v++]=J.id,J.type==="full")M[v++]=1,M[v++]=J.data.length,M.set(J.data,v),v+=J.data.length;else{M[v++]=2,M[v++]=J.deltas.length;for(let E of J.deltas)M[v++]=E.start,M[v++]=E.deleteCount,E.data?(M[v++]=E.data.length,M.set(E.data,v),v+=E.data.length):M[v++]=0}return function(E){const w=new Uint8Array(E.buffer,E.byteOffset,4*E.length);return I.cm()||function(C){for(let d=0,f=C.length;d<f;d+=4){const p=C[d+0],_=C[d+1],m=C[d+2],b=C[d+3];C[d+0]=b,C[d+1]=m,C[d+2]=_,C[d+3]=p}}(w),s.MB.wrap(w)}(M)}},9520:(dt,pe,h)=>{h.r(pe),h.d(pe,{SemanticTokensProviderStyling:()=>f,toMultilineTokens2:()=>p}),h(5910);var s=h(9044),I=h(6441),T=h(5365),J=h(8061),M=h(3902);class v{static create(b,x){return new v(b,new E(x))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(b,x){this._startLineNumber=b,this._tokens=x,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(b){return this._startLineNumber<=b&&b<=this._endLineNumber?this._tokens.getLineTokens(b-this._startLineNumber):null}getRange(){const b=this._tokens.getRange();return b?new J.Q(this._startLineNumber+b.startLineNumber,b.startColumn,this._startLineNumber+b.endLineNumber,b.endColumn):b}removeTokens(b){const x=b.startLineNumber-this._startLineNumber,k=b.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(x,b.startColumn-1,k,b.endColumn-1),this._updateEndLineNumber()}split(b){const x=b.startLineNumber-this._startLineNumber,k=b.endLineNumber-this._startLineNumber,[R,P,z]=this._tokens.split(x,b.startColumn-1,k,b.endColumn-1);return[new v(this._startLineNumber,R),new v(this._startLineNumber+z,P)]}applyEdit(b,x){const[k,R,P]=M.W(x);this.acceptEdit(b,k,R,P,x.length>0?x.charCodeAt(0):0)}acceptEdit(b,x,k,R,P){this._acceptDeleteRange(b),this._acceptInsertText(new T.y(b.startLineNumber,b.startColumn),x,k,R,P),this._updateEndLineNumber()}_acceptDeleteRange(b){if(b.startLineNumber===b.endLineNumber&&b.startColumn===b.endColumn)return;const x=b.startLineNumber-this._startLineNumber,k=b.endLineNumber-this._startLineNumber;if(k<0){const P=k-x;return void(this._startLineNumber-=P)}const R=this._tokens.getMaxDeltaLine();if(!(x>=R+1)){if(x<0&&k>=R+1)return this._startLineNumber=0,void this._tokens.clear();if(x<0){const P=-x;this._startLineNumber-=P,this._tokens.acceptDeleteRange(b.startColumn-1,0,0,k,b.endColumn-1)}else this._tokens.acceptDeleteRange(0,x,b.startColumn-1,k,b.endColumn-1)}}_acceptInsertText(b,x,k,R,P){if(x===0&&k===0)return;const z=b.lineNumber-this._startLineNumber;z<0?this._startLineNumber+=x:z>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(z,b.column-1,x,k,R,P)}}class E{constructor(b){this._tokens=b,this._tokenCount=b.length/4}toString(b){const x=[];for(let k=0;k<this._tokenCount;k++)x.push(`(${this._getDeltaLine(k)+b},${this._getStartCharacter(k)}-${this._getEndCharacter(k)})`);return`[${x.join(",")}]`}getMaxDeltaLine(){const b=this._getTokenCount();return b===0?-1:this._getDeltaLine(b-1)}getRange(){const b=this._getTokenCount();if(b===0)return null;const x=this._getStartCharacter(0),k=this._getDeltaLine(b-1),R=this._getEndCharacter(b-1);return new J.Q(0,x+1,k,R+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(b){return this._tokens[4*b]}_getStartCharacter(b){return this._tokens[4*b+1]}_getEndCharacter(b){return this._tokens[4*b+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(b){let x=0,k=this._getTokenCount()-1;for(;x<k;){const R=x+Math.floor((k-x)/2),P=this._getDeltaLine(R);if(P<b)x=R+1;else{if(!(P>b)){let z=R;for(;z>x&&this._getDeltaLine(z-1)===b;)z--;let te=R;for(;te<k&&this._getDeltaLine(te+1)===b;)te++;return new w(this._tokens.subarray(4*z,4*te+4))}k=R-1}}return this._getDeltaLine(x)===b?new w(this._tokens.subarray(4*x,4*x+4)):null}clear(){this._tokenCount=0}removeTokens(b,x,k,R){const P=this._tokens,z=this._tokenCount;let te=0,L=!1,W=0;for(let B=0;B<z;B++){const U=4*B,$=P[U],G=P[U+1],ie=P[U+2],ee=P[U+3];if(($>b||$===b&&ie>=x)&&($<k||$===k&&G<=R))L=!0;else{if(te===0&&(W=$),L){const ne=4*te;P[ne]=$-W,P[ne+1]=G,P[ne+2]=ie,P[ne+3]=ee}te++}}return this._tokenCount=te,W}split(b,x,k,R){const P=this._tokens,z=this._tokenCount,te=[],L=[];let W=te,B=0,U=0;for(let $=0;$<z;$++){const G=4*$,ie=P[G],ee=P[G+1],ne=P[G+2],H=P[G+3];if(ie>b||ie===b&&ne>=x){if(ie<k||ie===k&&ee<=R)continue;W!==L&&(W=L,B=0,U=ie)}W[B++]=ie-U,W[B++]=ee,W[B++]=ne,W[B++]=H}return[new E(new Uint32Array(te)),new E(new Uint32Array(L)),U]}acceptDeleteRange(b,x,k,R,P){const z=this._tokens,te=this._tokenCount,L=R-x;let W=0,B=!1;for(let U=0;U<te;U++){const $=4*U;let G=z[$],ie=z[$+1],ee=z[$+2];const ne=z[$+3];if(G<x||G===x&&ee<=k){W++;continue}if(G===x&&ie<k)G===R&&ee>P?ee-=P-k:ee=k;else if(G===x&&ie===k){if(!(G===R&&ee>P)){B=!0;continue}ee-=P-k}else if(G<R||G===R&&ie<P){if(!(G===R&&ee>P)){B=!0;continue}G=x,ie=k,ee=ie+(ee-P)}else if(G>R){if(L===0&&!B){W=te;break}G-=L}else{if(!(G===R&&ie>=P))throw new Error("Not possible!");b&&G===0&&(ie+=b,ee+=b),G-=L,ie-=P-k,ee-=P-k}const H=4*W;z[H]=G,z[H+1]=ie,z[H+2]=ee,z[H+3]=ne,W++}this._tokenCount=W}acceptInsertText(b,x,k,R,P,z){const te=k===0&&R===1&&(z>=48&&z<=57||z>=65&&z<=90||z>=97&&z<=122),L=this._tokens,W=this._tokenCount;for(let B=0;B<W;B++){const U=4*B;let $=L[U],G=L[U+1],ie=L[U+2];if(!($<b||$===b&&ie<x)){if($===b&&ie===x){if(!te)continue;ie+=1}else if($===b&&G<x&&x<ie)k===0?ie+=R:ie=x;else{if($===b&&G===x&&te)continue;if($===b)if($+=k,k===0)G+=R,ie+=R;else{const ee=ie-G;G=P+(G-x),ie=G+ee}else $+=k}L[U]=$,L[U+1]=G,L[U+2]=ie}}}}class w{constructor(b){this._tokens=b}getCount(){return this._tokens.length/4}getStartCharacter(b){return this._tokens[4*b+1]}getEndCharacter(b){return this._tokens[4*b+2]}getMetadata(b){return this._tokens[4*b+3]}}var C=h(7922),d=function(b,x){return function(k,R){x(k,R,b)}};let f=class{constructor(b,x,k,R){this._legend=b,this._themeService=x,this._languageService=k,this._logService=R,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new m}getMetadata(b,x,k){const R=this._languageService.languageIdCodec.encodeLanguageId(k),P=this._hashTable.get(b,x,R);let z;if(P)z=P.metadata;else{let te=this._legend.tokenTypes[b];const L=[];if(te){let W=x;for(let U=0;W>0&&U<this._legend.tokenModifiers.length;U++)1&W&&L.push(this._legend.tokenModifiers[U]),W>>=1;const B=this._themeService.getColorTheme().getTokenStyleMetadata(te,L,k);B===void 0?z=2147483647:(z=0,B.italic!==void 0&&(z|=1|(B.italic?1:0)<<11),B.bold!==void 0&&(z|=2|(B.bold?2:0)<<11),B.underline!==void 0&&(z|=4|(B.underline?4:0)<<11),B.strikethrough!==void 0&&(z|=8|(B.strikethrough?8:0)<<11),B.foreground&&(z|=16|B.foreground<<15),z===0&&(z=2147483647))}else z=2147483647,te="not-in-legend";this._hashTable.add(b,x,R,z)}return z}warnOverlappingSemanticTokens(b,x){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${b}, column ${x}`))}warnInvalidLengthSemanticTokens(b,x){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${b}, column ${x}`))}warnInvalidEditStart(b,x,k,R,P){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${b}, resultId: ${x}) at edit #${k}: The provided start offset ${R} is outside the previous data (length ${P}).`))}};function p(b,x,k){const R=b.data,P=b.data.length/5|0,z=Math.max(Math.ceil(P/1024),400),te=[];let L=0,W=1,B=0;for(;L<P;){const U=L;let $=Math.min(U+z,P);if($<P){let Y=$;for(;Y-1>U&&R[5*Y]===0;)Y--;if(Y-1===U){let ve=$;for(;ve+1<P&&R[5*ve]===0;)ve++;$=ve}else $=Y}let G=new Uint32Array(4*($-U)),ie=0,ee=0,ne=0,H=0;for(;L<$;){const Y=5*L,ve=R[Y],Te=R[Y+1],xe=W+ve|0,Be=ve===0?B+Te|0:Te,Ie=Be+R[Y+2]|0,he=R[Y+3],Q=R[Y+4];if(Ie<=Be)x.warnInvalidLengthSemanticTokens(xe,Be+1);else if(ne===xe&&H>Be)x.warnOverlappingSemanticTokens(xe,Be+1);else{const re=x.getMetadata(he,Q,k);re!==2147483647&&(ee===0&&(ee=xe),G[ie]=xe-ee,G[ie+1]=Be,G[ie+2]=Ie,G[ie+3]=re,ie+=4,ne=xe,H=Ie)}W=xe,B=Be,L++}ie!==G.length&&(G=G.subarray(0,ie));const V=v.create(ee,G);te.push(V)}return te}f=function(b,x,k,R){var P,z=arguments.length,te=z<3?x:R===null?R=Object.getOwnPropertyDescriptor(x,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(b,x,k,R);else for(var L=b.length-1;L>=0;L--)(P=b[L])&&(te=(z<3?P(te):z>3?P(x,k,te):P(x,k))||te);return z>3&&te&&Object.defineProperty(x,k,te),te}([d(1,s.Gy),d(2,C.L),d(3,I.rr)],f);class _{constructor(b,x,k,R){this.tokenTypeIndex=b,this.tokenModifierSet=x,this.languageId=k,this.metadata=R,this.next=null}}class m{static{this._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=m._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<m._SIZES.length?0.6666666666666666*this._currentLength:0),this._elements=[],m._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(b,x){for(let k=0;k<x;k++)b[k]=null}_hash2(b,x){return(b<<5)-b+x|0}_hashFunc(b,x,k){return this._hash2(this._hash2(b,x),k)%this._currentLength}get(b,x,k){const R=this._hashFunc(b,x,k);let P=this._elements[R];for(;P;){if(P.tokenTypeIndex===b&&P.tokenModifierSet===x&&P.languageId===k)return P;P=P.next}return null}add(b,x,k,R){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const P=this._elements;this._currentLengthIndex++,this._currentLength=m._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<m._SIZES.length?0.6666666666666666*this._currentLength:0),this._elements=[],m._nullOutEntries(this._elements,this._currentLength);for(let z of P){let te=z;for(;te;){const L=te.next;te.next=null,this._add(te),te=L}}}this._add(new _(b,x,k,R))}_add(b){const x=this._hashFunc(b.tokenTypeIndex,b.tokenModifierSet,b.languageId);b.next=this._elements[x],this._elements[x]=b}}},2891:(dt,pe,h)=>{h.r(pe),h.d(pe,{ISemanticTokensStylingService:()=>s});const s=h(2399).u1("semanticTokensStylingService")},8148:(dt,pe,h)=>{h.r(pe),h.d(pe,{SemanticTokensStylingService:()=>C});var s=h(998),I=h(7922),T=h(9044),J=h(6441),M=h(9520),v=h(2891),E=h(6726),w=function(d,f){return function(p,_){f(p,_,d)}};let C=class extends s.jG{constructor(d,f,p){super(),this._themeService=d,this._logService=f,this._languageService=p,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(d){return this._caches.has(d)||this._caches.set(d,new M.SemanticTokensProviderStyling(d.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(d)}};C=function(d,f,p,_){var m,b=arguments.length,x=b<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,p):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(d,f,p,_);else for(var k=d.length-1;k>=0;k--)(m=d[k])&&(x=(b<3?m(x):b>3?m(f,p,x):m(f,p))||x);return b>3&&x&&Object.defineProperty(f,p,x),x}([w(0,T.Gy),w(1,J.rr),w(2,I.L)],C),E.v(v.ISemanticTokensStylingService,C,1)},5456:(dt,pe,h)=>{h.r(pe),h.d(pe,{MirrorModel:()=>_,STOP_SYNC_MODEL_DELTA_TIME_MS:()=>d,WorkerTextModelSyncClient:()=>f,WorkerTextModelSyncServer:()=>p});var s=h(5958),I=h(998),T=h(7264),J=h(5365),M=h(8061),v=h(8782),E=h(6844),w=h(6158);class C{constructor(m,b,x,k){this._uri=m,this._lines=b,this._eol=x,this._versionId=k,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(m){m.eol&&m.eol!==this._eol&&(this._eol=m.eol,this._lineStarts=null);const b=m.changes;for(let x of b)this._acceptDeleteRange(x.range),this._acceptInsertText(new J.y(x.range.startLineNumber,x.range.startColumn),x.text);this._versionId=m.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const m=this._eol.length,b=this._lines.length,x=new Uint32Array(b);for(let k=0;k<b;k++)x[k]=this._lines[k].length+m;this._lineStarts=new w.N(x)}}_setLineText(m,b){this._lines[m]=b,this._lineStarts&&this._lineStarts.setValue(m,this._lines[m].length+this._eol.length)}_acceptDeleteRange(m){if(m.startLineNumber!==m.endLineNumber)this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.endLineNumber-1].substring(m.endColumn-1)),this._lines.splice(m.startLineNumber,m.endLineNumber-m.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(m.startLineNumber,m.endLineNumber-m.startLineNumber);else{if(m.startColumn===m.endColumn)return;this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.startLineNumber-1].substring(m.endColumn-1))}}_acceptInsertText(m,b){if(b.length===0)return;const x=E.uz(b);if(x.length===1)return void this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+x[0]+this._lines[m.lineNumber-1].substring(m.column-1));x[x.length-1]+=this._lines[m.lineNumber-1].substring(m.column-1),this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+x[0]);const k=new Uint32Array(x.length-1);for(let R=1;R<x.length;R++)this._lines.splice(m.lineNumber+R-1,0,x[R]),k[R-1]=x[R].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(m.lineNumber,k)}}const d=60000;class f extends I.jG{constructor(m,b,x=!1){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=m,this._modelService=b,!x){const k=new s.vb;k.cancelAndSet(()=>this._checkStopModelSync(),Math.round(d/2)),this._register(k)}}dispose(){for(let m in this._syncedModels)I.AS(this._syncedModels[m]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(m,b=!1){for(let x of m){const k=x.toString();this._syncedModels[k]||this._beginModelSync(x,b),this._syncedModels[k]&&(this._syncedModelsLastUsedTime[k]=new Date().getTime())}}_checkStopModelSync(){const m=new Date().getTime(),b=[];for(let x in this._syncedModelsLastUsedTime)m-this._syncedModelsLastUsedTime[x]>d&&b.push(x);for(let x of b)this._stopModelSync(x)}_beginModelSync(m,b){const x=this._modelService.getModel(m);if(!x)return;if(!b&&x.isTooLargeForSyncing())return;const k=m.toString();this._proxy.$acceptNewModel({url:x.uri.toString(),lines:x.getLinesContent(),EOL:x.getEOL(),versionId:x.getVersionId()});const R=new I.Cm;R.add(x.onDidChangeContent((P)=>{this._proxy.$acceptModelChanged(k.toString(),P)})),R.add(x.onWillDispose(()=>{this._stopModelSync(k)})),R.add(I.s(()=>{this._proxy.$acceptRemovedModel(k)})),this._syncedModels[k]=R}_stopModelSync(m){const b=this._syncedModels[m];delete this._syncedModels[m],delete this._syncedModelsLastUsedTime[m],I.AS(b)}}class p{constructor(){this._models=Object.create(null)}getModel(m){return this._models[m]}getModels(){const m=[];return Object.keys(this._models).forEach((b)=>m.push(this._models[b])),m}$acceptNewModel(m){this._models[m.url]=new _(T.r.parse(m.url),m.lines,m.EOL,m.versionId)}$acceptModelChanged(m,b){this._models[m]&&this._models[m].onEvents(b)}$acceptRemovedModel(m){this._models[m]&&delete this._models[m]}}class _ extends C{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(m){const b=[];for(let x=0;x<this._lines.length;x++){const k=this._lines[x],R=this.offsetAt(new J.y(x+1,1)),P=k.matchAll(m);for(let z of P)(z.index||z.index===0)&&(z.index=z.index+R),b.push(z)}return b}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(m){return this._lines[m-1]}getWordAtPosition(m,b){const x=v.Th(m.column,v.Io(b),this._lines[m.lineNumber-1],0);return x?new M.Q(m.lineNumber,x.startColumn,m.lineNumber,x.endColumn):null}words(m){const b=this._lines,x=this._wordenize.bind(this);let k=0,R="",P=0,z=[];return{*[Symbol.iterator](){for(;;)if(P<z.length){const te=R.substring(z[P].start,z[P].end);P+=1,yield te}else{if(!(k<b.length))break;R=b[k],z=x(R,m),P=0,k+=1}}}}getLineWords(m,b){const x=this._lines[m-1],k=this._wordenize(x,b),R=[];for(let P of k)R.push({word:x.substring(P.start,P.end),startColumn:P.start+1,endColumn:P.end+1});return R}_wordenize(m,b){const x=[];let k;for(b.lastIndex=0;(k=b.exec(m))&&k[0].length!==0;)x.push({start:k.index,end:k.index+k[0].length});return x}getValueInRange(m){if((m=this._validateRange(m)).startLineNumber===m.endLineNumber)return this._lines[m.startLineNumber-1].substring(m.startColumn-1,m.endColumn-1);const b=this._eol,x=m.startLineNumber-1,k=m.endLineNumber-1,R=[];R.push(this._lines[x].substring(m.startColumn-1));for(let P=x+1;P<k;P++)R.push(this._lines[P]);return R.push(this._lines[k].substring(0,m.endColumn-1)),R.join(b)}offsetAt(m){return m=this._validatePosition(m),this._ensureLineStarts(),this._lineStarts.getPrefixSum(m.lineNumber-2)+(m.column-1)}positionAt(m){m=Math.floor(m),m=Math.max(0,m),this._ensureLineStarts();const b=this._lineStarts.getIndexOf(m),x=this._lines[b.index].length;return{lineNumber:1+b.index,column:1+Math.min(b.remainder,x)}}_validateRange(m){const b=this._validatePosition({lineNumber:m.startLineNumber,column:m.startColumn}),x=this._validatePosition({lineNumber:m.endLineNumber,column:m.endColumn});return b.lineNumber!==m.startLineNumber||b.column!==m.startColumn||x.lineNumber!==m.endLineNumber||x.column!==m.endColumn?{startLineNumber:b.lineNumber,startColumn:b.column,endLineNumber:x.lineNumber,endColumn:x.column}:m}_validatePosition(m){if(!J.y.isIPosition(m))throw new Error("bad position");let{lineNumber:b,column:x}=m,k=!1;if(b<1)b=1,x=1,k=!0;else if(b>this._lines.length)b=this._lines.length,x=this._lines[b-1].length+1,k=!0;else{const R=this._lines[b-1].length+1;x<1?(x=1,k=!0):x>R&&(x=R,k=!0)}return k?{lineNumber:b,column:x}:m}}},5628:(dt,pe,h)=>{h.r(pe)},1504:(dt,pe,h)=>{h.r(pe),h.d(pe,{ITextResourceConfigurationService:()=>I,ITextResourcePropertiesService:()=>T});var s=h(2399);const I=s.u1("textResourceConfigurationService"),T=s.u1("textResourcePropertiesService")},5320:(dt,pe,h)=>{h.r(pe),h.d(pe,{ITreeSitterParserService:()=>s});const s=h(2399).u1("treeSitterParserService")},4984:(dt,pe,h)=>{h.r(pe),h.d(pe,{DraggedTreeItemsIdentifier:()=>I,TreeViewsDnDService:()=>s});class s{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(T){if(T&&this._dragOperations.has(T)){const J=this._dragOperations.get(T);return this._dragOperations.delete(T),J}}}class I{constructor(T){this.identifier=T}}},6756:(dt,pe,h)=>{h.r(pe),h.d(pe,{ITreeViewsDnDService:()=>J});var s=h(6726),I=h(2399),T=h(4984);const J=I.u1("treeViewsDndService");s.v(J,T.TreeViewsDnDService,1)},9887:(dt,pe,h)=>{h.r(pe),h.d(pe,{UnicodeTextModelHighlighter:()=>v});var s=h(8061),I=h(104),T=h(6844),J=h(7110),M=h(8782);class v{static computeUnicodeHighlights(C,d,f){const p=f?f.startLineNumber:1,_=f?f.endLineNumber:C.getLineCount(),m=new E(d),b=m.getCandidateCodePoints();let x;var k;x=b==="allNonBasicAscii"?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp((k=Array.from(b),`[${T.bm(k.map((U)=>String.fromCodePoint(U)).join(""))}]`),"g");const R=new I.W5(null,x),P=[];let z,te=!1,L=0,W=0,B=0;e:for(let U=p,$=_;U<=$;U++){const G=C.getLineContent(U),ie=G.length;R.reset(0);do if(z=R.next(G),z){let ee=z.index,ne=z.index+z[0].length;if(ee>0){const ve=G.charCodeAt(ee-1);T.pc(ve)&&ee--}if(ne+1<ie){const ve=G.charCodeAt(ne-1);T.pc(ve)&&ne++}const H=G.substring(ee,ne);let V=M.Th(ee+1,M.Ld,G,0);V&&V.endColumn<=ee+1&&(V=null);const Y=m.shouldHighlightNonBasicASCII(H,V?V.word:null);if(Y!==0){Y===3?L++:Y===2?W++:Y===1?B++:J.xb(Y);const ve=1000;if(P.length>=ve){te=!0;break e}P.push(new s.Q(U,ee+1,U,ne+1))}}while(z)}return{ranges:P,hasMore:te,ambiguousCharacterCount:L,invisibleCharacterCount:W,nonBasicAsciiCharacterCount:B}}static computeUnicodeHighlightReason(C,d){const f=new E(d);switch(f.shouldHighlightNonBasicASCII(C,null)){case 0:return null;case 2:return{kind:1};case 3:{const p=C.codePointAt(0),_=f.ambiguousCharacters.getPrimaryConfusable(p),m=T.tl.getLocales().filter((b)=>!T.tl.getInstance(new Set([...d.allowedLocales,b])).isAmbiguous(p));return{kind:0,confusableWith:String.fromCodePoint(_),notAmbiguousInLocales:m}}case 1:return{kind:2}}}}class E{constructor(C){this.options=C,this.allowedCodePoints=new Set(C.allowedCodePoints),this.ambiguousCharacters=T.tl.getInstance(new Set(C.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const C=new Set;if(this.options.invisibleCharacters)for(let d of T.y_.codePoints)w(String.fromCodePoint(d))||C.add(d);if(this.options.ambiguousCharacters)for(let d of this.ambiguousCharacters.getConfusableCodePoints())C.add(d);for(let d of this.allowedCodePoints)C.delete(d);return C}shouldHighlightNonBasicASCII(C,d){const f=C.codePointAt(0);if(this.allowedCodePoints.has(f))return 0;if(this.options.nonBasicASCII)return 1;let p=!1,_=!1;if(d)for(let m of d){const b=m.codePointAt(0),x=T.aC(m);p=p||x,x||this.ambiguousCharacters.isAmbiguous(b)||T.y_.isInvisibleCharacter(b)||(_=!0)}return!p&&_?0:this.options.invisibleCharacters&&!w(C)&&T.y_.isInvisibleCharacter(f)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(f)?3:0}}function w(C){return C===" "||C==="\n"||C==="\t"}},9204:(dt,pe,h)=>{var s={"./editorBaseApi":[3059],"./editorBaseApi.js":[3059],"./editorSimpleWorker":[735],"./editorSimpleWorker.js":[735],"./editorWorker":[304],"./editorWorker.js":[304],"./editorWorkerHost":[6358],"./editorWorkerHost.js":[6358],"./findSectionHeaders":[9307],"./findSectionHeaders.js":[9307],"./getIconClasses":[5767],"./getIconClasses.js":[5767],"./languageFeatureDebounce":[2060],"./languageFeatureDebounce.js":[2060],"./languageFeatures":[2230],"./languageFeatures.js":[2230],"./languageFeaturesService":[1197],"./languageFeaturesService.js":[1197],"./languageService":[3930],"./languageService.js":[3930],"./languagesAssociations":[5996],"./languagesAssociations.js":[5996],"./languagesRegistry":[6995],"./languagesRegistry.js":[6995],"./markerDecorations":[886],"./markerDecorations.js":[886],"./markerDecorationsService":[11],"./markerDecorationsService.js":[11],"./model":[4830],"./model.js":[4830],"./modelService":[931],"./modelService.js":[931],"./resolverService":[7042],"./resolverService.js":[7042],"./semanticTokensDto":[9376],"./semanticTokensDto.js":[9376],"./semanticTokensProviderStyling":[9520],"./semanticTokensProviderStyling.js":[9520],"./semanticTokensStyling":[2891],"./semanticTokensStyling.js":[2891],"./semanticTokensStylingService":[8148],"./semanticTokensStylingService.js":[8148],"./textModelSync/textModelSync.impl":[5456],"./textModelSync/textModelSync.impl.js":[5456],"./textModelSync/textModelSync.protocol":[5628,792],"./textModelSync/textModelSync.protocol.js":[5628,792],"./textResourceConfiguration":[1504],"./textResourceConfiguration.js":[1504],"./treeSitterParserService":[5320],"./treeSitterParserService.js":[5320],"./treeViewsDnd":[4984],"./treeViewsDnd.js":[4984],"./treeViewsDndService":[6756],"./treeViewsDndService.js":[6756],"./unicodeTextModelHighlighter":[9887],"./unicodeTextModelHighlighter.js":[9887]};function I(T){if(!h.o(s,T))return Promise.resolve().then(()=>{var v=new Error("Cannot find module '"+T+"'");throw v.code="MODULE_NOT_FOUND",v});var J=s[T],M=J[0];return Promise.all(J.slice(1).map(h.e)).then(()=>h(M))}I.keys=()=>Object.keys(s),I.id=9204,dt.exports=I},7614:(dt,pe,h)=>{var s={"./editorBaseApi":3059,"./editorBaseApi.js":3059,"./editorSimpleWorker":735,"./editorSimpleWorker.js":735,"./editorWorker":304,"./editorWorker.js":304,"./editorWorkerHost":6358,"./editorWorkerHost.js":6358,"./findSectionHeaders":9307,"./findSectionHeaders.js":9307,"./getIconClasses":5767,"./getIconClasses.js":5767,"./languageFeatureDebounce":2060,"./languageFeatureDebounce.js":2060,"./languageFeatures":2230,"./languageFeatures.js":2230,"./languageFeaturesService":1197,"./languageFeaturesService.js":1197,"./languageService":3930,"./languageService.js":3930,"./languagesAssociations":5996,"./languagesAssociations.js":5996,"./languagesRegistry":6995,"./languagesRegistry.js":6995,"./markerDecorations":886,"./markerDecorations.js":886,"./markerDecorationsService":11,"./markerDecorationsService.js":11,"./model":4830,"./model.js":4830,"./modelService":931,"./modelService.js":931,"./resolverService":7042,"./resolverService.js":7042,"./semanticTokensDto":9376,"./semanticTokensDto.js":9376,"./semanticTokensProviderStyling":9520,"./semanticTokensProviderStyling.js":9520,"./semanticTokensStyling":2891,"./semanticTokensStyling.js":2891,"./semanticTokensStylingService":8148,"./semanticTokensStylingService.js":8148,"./textModelSync/textModelSync.impl":5456,"./textModelSync/textModelSync.impl.js":5456,"./textModelSync/textModelSync.protocol":5628,"./textModelSync/textModelSync.protocol.js":5628,"./textResourceConfiguration":1504,"./textResourceConfiguration.js":1504,"./treeSitterParserService":5320,"./treeSitterParserService.js":5320,"./treeViewsDnd":4984,"./treeViewsDnd.js":4984,"./treeViewsDndService":6756,"./treeViewsDndService.js":6756,"./unicodeTextModelHighlighter":9887,"./unicodeTextModelHighlighter.js":9887};function I(J){var M=T(J);return h(M)}function T(J){if(!h.o(s,J)){var M=new Error("Cannot find module '"+J+"'");throw M.code="MODULE_NOT_FOUND",M}return s[J]}I.keys=function(){return Object.keys(s)},I.resolve=T,dt.exports=I,I.id=7614},2783:(dt,pe,h)=>{var s,I,T,J,M,v,E,w,C,d,f,p,_,m,b,x,k,R,P,z,te,L,W,B,U,$,G,ie,ee,ne,H,V,Y,ve,Te,xe,Be,Ie,he,Q,re,Je,Se,Pe,Le,Ve;h.d(pe,{A5:()=>H,Ah:()=>V,DD:()=>L,DO:()=>ve,Gn:()=>s,H_:()=>Je,Ic:()=>Y,Io:()=>J,Kb:()=>d,M$:()=>x,OV:()=>ie,QP:()=>M,Qj:()=>E,R3:()=>U,SB:()=>Ie,U7:()=>Se,VW:()=>R,VX:()=>$,WA:()=>Q,WU:()=>m,XR:()=>Be,YT:()=>ee,ZS:()=>b,_E:()=>T,cj:()=>W,dE:()=>ne,d_:()=>B,e0:()=>f,h5:()=>w,hS:()=>G,hW:()=>Te,jT:()=>he,kK:()=>Le,kf:()=>_,l:()=>k,m9:()=>Pe,of:()=>C,ok:()=>I,ov:()=>xe,p2:()=>p,qw:()=>z,r4:()=>P,sm:()=>te,t7:()=>v,tJ:()=>Ve,v0:()=>re}),function(g){g[g.Unknown=0]="Unknown",g[g.Disabled=1]="Disabled",g[g.Enabled=2]="Enabled"}(s||(s={})),function(g){g[g.Invoke=1]="Invoke",g[g.Auto=2]="Auto"}(I||(I={})),function(g){g[g.None=0]="None",g[g.KeepWhitespace=1]="KeepWhitespace",g[g.InsertAsSnippet=4]="InsertAsSnippet"}(T||(T={})),function(g){g[g.Method=0]="Method",g[g.Function=1]="Function",g[g.Constructor=2]="Constructor",g[g.Field=3]="Field",g[g.Variable=4]="Variable",g[g.Class=5]="Class",g[g.Struct=6]="Struct",g[g.Interface=7]="Interface",g[g.Module=8]="Module",g[g.Property=9]="Property",g[g.Event=10]="Event",g[g.Operator=11]="Operator",g[g.Unit=12]="Unit",g[g.Value=13]="Value",g[g.Constant=14]="Constant",g[g.Enum=15]="Enum",g[g.EnumMember=16]="EnumMember",g[g.Keyword=17]="Keyword",g[g.Text=18]="Text",g[g.Color=19]="Color",g[g.File=20]="File",g[g.Reference=21]="Reference",g[g.Customcolor=22]="Customcolor",g[g.Folder=23]="Folder",g[g.TypeParameter=24]="TypeParameter",g[g.User=25]="User",g[g.Issue=26]="Issue",g[g.Snippet=27]="Snippet"}(J||(J={})),function(g){g[g.Deprecated=1]="Deprecated"}(M||(M={})),function(g){g[g.Invoke=0]="Invoke",g[g.TriggerCharacter=1]="TriggerCharacter",g[g.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(v||(v={})),function(g){g[g.EXACT=0]="EXACT",g[g.ABOVE=1]="ABOVE",g[g.BELOW=2]="BELOW"}(E||(E={})),function(g){g[g.NotSet=0]="NotSet",g[g.ContentFlush=1]="ContentFlush",g[g.RecoverFromMarkers=2]="RecoverFromMarkers",g[g.Explicit=3]="Explicit",g[g.Paste=4]="Paste",g[g.Undo=5]="Undo",g[g.Redo=6]="Redo"}(w||(w={})),function(g){g[g.LF=1]="LF",g[g.CRLF=2]="CRLF"}(C||(C={})),function(g){g[g.Text=0]="Text",g[g.Read=1]="Read",g[g.Write=2]="Write"}(d||(d={})),function(g){g[g.None=0]="None",g[g.Keep=1]="Keep",g[g.Brackets=2]="Brackets",g[g.Advanced=3]="Advanced",g[g.Full=4]="Full"}(f||(f={})),function(g){g[g.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",g[g.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",g[g.accessibilitySupport=2]="accessibilitySupport",g[g.accessibilityPageSize=3]="accessibilityPageSize",g[g.ariaLabel=4]="ariaLabel",g[g.ariaRequired=5]="ariaRequired",g[g.autoClosingBrackets=6]="autoClosingBrackets",g[g.autoClosingComments=7]="autoClosingComments",g[g.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",g[g.autoClosingDelete=9]="autoClosingDelete",g[g.autoClosingOvertype=10]="autoClosingOvertype",g[g.autoClosingQuotes=11]="autoClosingQuotes",g[g.autoIndent=12]="autoIndent",g[g.automaticLayout=13]="automaticLayout",g[g.autoSurround=14]="autoSurround",g[g.bracketPairColorization=15]="bracketPairColorization",g[g.guides=16]="guides",g[g.codeLens=17]="codeLens",g[g.codeLensFontFamily=18]="codeLensFontFamily",g[g.codeLensFontSize=19]="codeLensFontSize",g[g.colorDecorators=20]="colorDecorators",g[g.colorDecoratorsLimit=21]="colorDecoratorsLimit",g[g.columnSelection=22]="columnSelection",g[g.comments=23]="comments",g[g.contextmenu=24]="contextmenu",g[g.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",g[g.cursorBlinking=26]="cursorBlinking",g[g.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",g[g.cursorStyle=28]="cursorStyle",g[g.cursorSurroundingLines=29]="cursorSurroundingLines",g[g.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",g[g.cursorWidth=31]="cursorWidth",g[g.disableLayerHinting=32]="disableLayerHinting",g[g.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",g[g.domReadOnly=34]="domReadOnly",g[g.dragAndDrop=35]="dragAndDrop",g[g.dropIntoEditor=36]="dropIntoEditor",g[g.emptySelectionClipboard=37]="emptySelectionClipboard",g[g.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",g[g.extraEditorClassName=39]="extraEditorClassName",g[g.fastScrollSensitivity=40]="fastScrollSensitivity",g[g.find=41]="find",g[g.fixedOverflowWidgets=42]="fixedOverflowWidgets",g[g.folding=43]="folding",g[g.foldingStrategy=44]="foldingStrategy",g[g.foldingHighlight=45]="foldingHighlight",g[g.foldingImportsByDefault=46]="foldingImportsByDefault",g[g.foldingMaximumRegions=47]="foldingMaximumRegions",g[g.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",g[g.fontFamily=49]="fontFamily",g[g.fontInfo=50]="fontInfo",g[g.fontLigatures=51]="fontLigatures",g[g.fontSize=52]="fontSize",g[g.fontWeight=53]="fontWeight",g[g.fontVariations=54]="fontVariations",g[g.formatOnPaste=55]="formatOnPaste",g[g.formatOnType=56]="formatOnType",g[g.glyphMargin=57]="glyphMargin",g[g.gotoLocation=58]="gotoLocation",g[g.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",g[g.hover=60]="hover",g[g.inDiffEditor=61]="inDiffEditor",g[g.inlineSuggest=62]="inlineSuggest",g[g.inlineEdit=63]="inlineEdit",g[g.letterSpacing=64]="letterSpacing",g[g.lightbulb=65]="lightbulb",g[g.lineDecorationsWidth=66]="lineDecorationsWidth",g[g.lineHeight=67]="lineHeight",g[g.lineNumbers=68]="lineNumbers",g[g.lineNumbersMinChars=69]="lineNumbersMinChars",g[g.linkedEditing=70]="linkedEditing",g[g.links=71]="links",g[g.matchBrackets=72]="matchBrackets",g[g.minimap=73]="minimap",g[g.mouseStyle=74]="mouseStyle",g[g.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",g[g.mouseWheelZoom=76]="mouseWheelZoom",g[g.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",g[g.multiCursorModifier=78]="multiCursorModifier",g[g.multiCursorPaste=79]="multiCursorPaste",g[g.multiCursorLimit=80]="multiCursorLimit",g[g.occurrencesHighlight=81]="occurrencesHighlight",g[g.overviewRulerBorder=82]="overviewRulerBorder",g[g.overviewRulerLanes=83]="overviewRulerLanes",g[g.padding=84]="padding",g[g.pasteAs=85]="pasteAs",g[g.parameterHints=86]="parameterHints",g[g.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",g[g.placeholder=88]="placeholder",g[g.definitionLinkOpensInPeek=89]="definitionLinkOpensInPeek",g[g.quickSuggestions=90]="quickSuggestions",g[g.quickSuggestionsDelay=91]="quickSuggestionsDelay",g[g.readOnly=92]="readOnly",g[g.readOnlyMessage=93]="readOnlyMessage",g[g.renameOnType=94]="renameOnType",g[g.renderControlCharacters=95]="renderControlCharacters",g[g.renderFinalNewline=96]="renderFinalNewline",g[g.renderLineHighlight=97]="renderLineHighlight",g[g.renderLineHighlightOnlyWhenFocus=98]="renderLineHighlightOnlyWhenFocus",g[g.renderValidationDecorations=99]="renderValidationDecorations",g[g.renderWhitespace=100]="renderWhitespace",g[g.revealHorizontalRightPadding=101]="revealHorizontalRightPadding",g[g.roundedSelection=102]="roundedSelection",g[g.rulers=103]="rulers",g[g.scrollbar=104]="scrollbar",g[g.scrollBeyondLastColumn=105]="scrollBeyondLastColumn",g[g.scrollBeyondLastLine=106]="scrollBeyondLastLine",g[g.scrollPredominantAxis=107]="scrollPredominantAxis",g[g.selectionClipboard=108]="selectionClipboard",g[g.selectionHighlight=109]="selectionHighlight",g[g.selectOnLineNumbers=110]="selectOnLineNumbers",g[g.showFoldingControls=111]="showFoldingControls",g[g.showUnused=112]="showUnused",g[g.snippetSuggestions=113]="snippetSuggestions",g[g.smartSelect=114]="smartSelect",g[g.smoothScrolling=115]="smoothScrolling",g[g.stickyScroll=116]="stickyScroll",g[g.stickyTabStops=117]="stickyTabStops",g[g.stopRenderingLineAfter=118]="stopRenderingLineAfter",g[g.suggest=119]="suggest",g[g.suggestFontSize=120]="suggestFontSize",g[g.suggestLineHeight=121]="suggestLineHeight",g[g.suggestOnTriggerCharacters=122]="suggestOnTriggerCharacters",g[g.suggestSelection=123]="suggestSelection",g[g.tabCompletion=124]="tabCompletion",g[g.tabIndex=125]="tabIndex",g[g.unicodeHighlighting=126]="unicodeHighlighting",g[g.unusualLineTerminators=127]="unusualLineTerminators",g[g.useShadowDOM=128]="useShadowDOM",g[g.useTabStops=129]="useTabStops",g[g.wordBreak=130]="wordBreak",g[g.wordSegmenterLocales=131]="wordSegmenterLocales",g[g.wordSeparators=132]="wordSeparators",g[g.wordWrap=133]="wordWrap",g[g.wordWrapBreakAfterCharacters=134]="wordWrapBreakAfterCharacters",g[g.wordWrapBreakBeforeCharacters=135]="wordWrapBreakBeforeCharacters",g[g.wordWrapColumn=136]="wordWrapColumn",g[g.wordWrapOverride1=137]="wordWrapOverride1",g[g.wordWrapOverride2=138]="wordWrapOverride2",g[g.wrappingIndent=139]="wrappingIndent",g[g.wrappingStrategy=140]="wrappingStrategy",g[g.showDeprecated=141]="showDeprecated",g[g.inlayHints=142]="inlayHints",g[g.editorClassName=143]="editorClassName",g[g.pixelRatio=144]="pixelRatio",g[g.tabFocusMode=145]="tabFocusMode",g[g.layoutInfo=146]="layoutInfo",g[g.wrappingInfo=147]="wrappingInfo",g[g.defaultColorDecorators=148]="defaultColorDecorators",g[g.colorDecoratorsActivatedOn=149]="colorDecoratorsActivatedOn",g[g.inlineCompletionsAccessibilityVerbose=150]="inlineCompletionsAccessibilityVerbose"}(p||(p={})),function(g){g[g.TextDefined=0]="TextDefined",g[g.LF=1]="LF",g[g.CRLF=2]="CRLF"}(_||(_={})),function(g){g[g.LF=0]="LF",g[g.CRLF=1]="CRLF"}(m||(m={})),function(g){g[g.Left=1]="Left",g[g.Center=2]="Center",g[g.Right=3]="Right"}(b||(b={})),function(g){g[g.Increase=0]="Increase",g[g.Decrease=1]="Decrease"}(x||(x={})),function(g){g[g.None=0]="None",g[g.Indent=1]="Indent",g[g.IndentOutdent=2]="IndentOutdent",g[g.Outdent=3]="Outdent"}(k||(k={})),function(g){g[g.Both=0]="Both",g[g.Right=1]="Right",g[g.Left=2]="Left",g[g.None=3]="None"}(R||(R={})),function(g){g[g.Type=1]="Type",g[g.Parameter=2]="Parameter"}(P||(P={})),function(g){g[g.Automatic=0]="Automatic",g[g.Explicit=1]="Explicit"}(z||(z={})),function(g){g[g.Invoke=0]="Invoke",g[g.Automatic=1]="Automatic"}(te||(te={})),function(g){g[g.DependsOnKbLayout=-1]="DependsOnKbLayout",g[g.Unknown=0]="Unknown",g[g.Backspace=1]="Backspace",g[g.Tab=2]="Tab",g[g.Enter=3]="Enter",g[g.Shift=4]="Shift",g[g.Ctrl=5]="Ctrl",g[g.Alt=6]="Alt",g[g.PauseBreak=7]="PauseBreak",g[g.CapsLock=8]="CapsLock",g[g.Escape=9]="Escape",g[g.Space=10]="Space",g[g.PageUp=11]="PageUp",g[g.PageDown=12]="PageDown",g[g.End=13]="End",g[g.Home=14]="Home",g[g.LeftArrow=15]="LeftArrow",g[g.UpArrow=16]="UpArrow",g[g.RightArrow=17]="RightArrow",g[g.DownArrow=18]="DownArrow",g[g.Insert=19]="Insert",g[g.Delete=20]="Delete",g[g.Digit0=21]="Digit0",g[g.Digit1=22]="Digit1",g[g.Digit2=23]="Digit2",g[g.Digit3=24]="Digit3",g[g.Digit4=25]="Digit4",g[g.Digit5=26]="Digit5",g[g.Digit6=27]="Digit6",g[g.Digit7=28]="Digit7",g[g.Digit8=29]="Digit8",g[g.Digit9=30]="Digit9",g[g.KeyA=31]="KeyA",g[g.KeyB=32]="KeyB",g[g.KeyC=33]="KeyC",g[g.KeyD=34]="KeyD",g[g.KeyE=35]="KeyE",g[g.KeyF=36]="KeyF",g[g.KeyG=37]="KeyG",g[g.KeyH=38]="KeyH",g[g.KeyI=39]="KeyI",g[g.KeyJ=40]="KeyJ",g[g.KeyK=41]="KeyK",g[g.KeyL=42]="KeyL",g[g.KeyM=43]="KeyM",g[g.KeyN=44]="KeyN",g[g.KeyO=45]="KeyO",g[g.KeyP=46]="KeyP",g[g.KeyQ=47]="KeyQ",g[g.KeyR=48]="KeyR",g[g.KeyS=49]="KeyS",g[g.KeyT=50]="KeyT",g[g.KeyU=51]="KeyU",g[g.KeyV=52]="KeyV",g[g.KeyW=53]="KeyW",g[g.KeyX=54]="KeyX",g[g.KeyY=55]="KeyY",g[g.KeyZ=56]="KeyZ",g[g.Meta=57]="Meta",g[g.ContextMenu=58]="ContextMenu",g[g.F1=59]="F1",g[g.F2=60]="F2",g[g.F3=61]="F3",g[g.F4=62]="F4",g[g.F5=63]="F5",g[g.F6=64]="F6",g[g.F7=65]="F7",g[g.F8=66]="F8",g[g.F9=67]="F9",g[g.F10=68]="F10",g[g.F11=69]="F11",g[g.F12=70]="F12",g[g.F13=71]="F13",g[g.F14=72]="F14",g[g.F15=73]="F15",g[g.F16=74]="F16",g[g.F17=75]="F17",g[g.F18=76]="F18",g[g.F19=77]="F19",g[g.F20=78]="F20",g[g.F21=79]="F21",g[g.F22=80]="F22",g[g.F23=81]="F23",g[g.F24=82]="F24",g[g.NumLock=83]="NumLock",g[g.ScrollLock=84]="ScrollLock",g[g.Semicolon=85]="Semicolon",g[g.Equal=86]="Equal",g[g.Comma=87]="Comma",g[g.Minus=88]="Minus",g[g.Period=89]="Period",g[g.Slash=90]="Slash",g[g.Backquote=91]="Backquote",g[g.BracketLeft=92]="BracketLeft",g[g.Backslash=93]="Backslash",g[g.BracketRight=94]="BracketRight",g[g.Quote=95]="Quote",g[g.OEM_8=96]="OEM_8",g[g.IntlBackslash=97]="IntlBackslash",g[g.Numpad0=98]="Numpad0",g[g.Numpad1=99]="Numpad1",g[g.Numpad2=100]="Numpad2",g[g.Numpad3=101]="Numpad3",g[g.Numpad4=102]="Numpad4",g[g.Numpad5=103]="Numpad5",g[g.Numpad6=104]="Numpad6",g[g.Numpad7=105]="Numpad7",g[g.Numpad8=106]="Numpad8",g[g.Numpad9=107]="Numpad9",g[g.NumpadMultiply=108]="NumpadMultiply",g[g.NumpadAdd=109]="NumpadAdd",g[g.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",g[g.NumpadSubtract=111]="NumpadSubtract",g[g.NumpadDecimal=112]="NumpadDecimal",g[g.NumpadDivide=113]="NumpadDivide",g[g.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",g[g.ABNT_C1=115]="ABNT_C1",g[g.ABNT_C2=116]="ABNT_C2",g[g.AudioVolumeMute=117]="AudioVolumeMute",g[g.AudioVolumeUp=118]="AudioVolumeUp",g[g.AudioVolumeDown=119]="AudioVolumeDown",g[g.BrowserSearch=120]="BrowserSearch",g[g.BrowserHome=121]="BrowserHome",g[g.BrowserBack=122]="BrowserBack",g[g.BrowserForward=123]="BrowserForward",g[g.MediaTrackNext=124]="MediaTrackNext",g[g.MediaTrackPrevious=125]="MediaTrackPrevious",g[g.MediaStop=126]="MediaStop",g[g.MediaPlayPause=127]="MediaPlayPause",g[g.LaunchMediaPlayer=128]="LaunchMediaPlayer",g[g.LaunchMail=129]="LaunchMail",g[g.LaunchApp2=130]="LaunchApp2",g[g.Clear=131]="Clear",g[g.MAX_VALUE=132]="MAX_VALUE"}(L||(L={})),function(g){g[g.Hint=1]="Hint",g[g.Info=2]="Info",g[g.Warning=4]="Warning",g[g.Error=8]="Error"}(W||(W={})),function(g){g[g.Unnecessary=1]="Unnecessary",g[g.Deprecated=2]="Deprecated"}(B||(B={})),function(g){g[g.Inline=1]="Inline",g[g.Gutter=2]="Gutter"}(U||(U={})),function(g){g[g.Normal=1]="Normal",g[g.Underlined=2]="Underlined"}($||($={})),function(g){g[g.UNKNOWN=0]="UNKNOWN",g[g.TEXTAREA=1]="TEXTAREA",g[g.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",g[g.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",g[g.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",g[g.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",g[g.CONTENT_TEXT=6]="CONTENT_TEXT",g[g.CONTENT_EMPTY=7]="CONTENT_EMPTY",g[g.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",g[g.CONTENT_WIDGET=9]="CONTENT_WIDGET",g[g.OVERVIEW_RULER=10]="OVERVIEW_RULER",g[g.SCROLLBAR=11]="SCROLLBAR",g[g.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",g[g.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(G||(G={})),function(g){g[g.AIGenerated=1]="AIGenerated"}(ie||(ie={})),function(g){g[g.Invoke=0]="Invoke",g[g.Automatic=1]="Automatic"}(ee||(ee={})),function(g){g[g.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",g[g.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",g[g.TOP_CENTER=2]="TOP_CENTER"}(ne||(ne={})),function(g){g[g.Left=1]="Left",g[g.Center=2]="Center",g[g.Right=4]="Right",g[g.Full=7]="Full"}(H||(H={})),function(g){g[g.Word=0]="Word",g[g.Line=1]="Line",g[g.Suggest=2]="Suggest"}(V||(V={})),function(g){g[g.Left=0]="Left",g[g.Right=1]="Right",g[g.None=2]="None",g[g.LeftOfInjectedText=3]="LeftOfInjectedText",g[g.RightOfInjectedText=4]="RightOfInjectedText"}(Y||(Y={})),function(g){g[g.Off=0]="Off",g[g.On=1]="On",g[g.Relative=2]="Relative",g[g.Interval=3]="Interval",g[g.Custom=4]="Custom"}(ve||(ve={})),function(g){g[g.None=0]="None",g[g.Text=1]="Text",g[g.Blocks=2]="Blocks"}(Te||(Te={})),function(g){g[g.Smooth=0]="Smooth",g[g.Immediate=1]="Immediate"}(xe||(xe={})),function(g){g[g.Auto=1]="Auto",g[g.Hidden=2]="Hidden",g[g.Visible=3]="Visible"}(Be||(Be={})),function(g){g[g.LTR=0]="LTR",g[g.RTL=1]="RTL"}(Ie||(Ie={})),function(g){g.Off="off",g.OnCode="onCode",g.On="on"}(he||(he={})),function(g){g[g.Invoke=1]="Invoke",g[g.TriggerCharacter=2]="TriggerCharacter",g[g.ContentChange=3]="ContentChange"}(Q||(Q={})),function(g){g[g.File=0]="File",g[g.Module=1]="Module",g[g.Namespace=2]="Namespace",g[g.Package=3]="Package",g[g.Class=4]="Class",g[g.Method=5]="Method",g[g.Property=6]="Property",g[g.Field=7]="Field",g[g.Constructor=8]="Constructor",g[g.Enum=9]="Enum",g[g.Interface=10]="Interface",g[g.Function=11]="Function",g[g.Variable=12]="Variable",g[g.Constant=13]="Constant",g[g.String=14]="String",g[g.Number=15]="Number",g[g.Boolean=16]="Boolean",g[g.Array=17]="Array",g[g.Object=18]="Object",g[g.Key=19]="Key",g[g.Null=20]="Null",g[g.EnumMember=21]="EnumMember",g[g.Struct=22]="Struct",g[g.Event=23]="Event",g[g.Operator=24]="Operator",g[g.TypeParameter=25]="TypeParameter"}(re||(re={})),function(g){g[g.Deprecated=1]="Deprecated"}(Je||(Je={})),function(g){g[g.Hidden=0]="Hidden",g[g.Blink=1]="Blink",g[g.Smooth=2]="Smooth",g[g.Phase=3]="Phase",g[g.Expand=4]="Expand",g[g.Solid=5]="Solid"}(Se||(Se={})),function(g){g[g.Line=1]="Line",g[g.Block=2]="Block",g[g.Underline=3]="Underline",g[g.LineThin=4]="LineThin",g[g.BlockOutline=5]="BlockOutline",g[g.UnderlineThin=6]="UnderlineThin"}(Pe||(Pe={})),function(g){g[g.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",g[g.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",g[g.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",g[g.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(Le||(Le={})),function(g){g[g.None=0]="None",g[g.Same=1]="Same",g[g.Indent=2]="Indent",g[g.DeepIndent=3]="DeepIndent"}(Ve||(Ve={}))},5933:(dt,pe,h)=>{h.d(pe,{E6:()=>E,Hw:()=>I,YN:()=>s,gf:()=>J,n9:()=>M,oq:()=>T,tu:()=>w,vp:()=>v});var s,I,T,J,M,v,E,w,C=h(9746);(function(d){d.inspectTokensAction=C.kg("inspectTokens","Developer: Inspect Tokens")})(s||(s={})),function(d){d.gotoLineActionLabel=C.kg("gotoLineActionLabel","Go to Line/Column...")}(I||(I={})),function(d){d.helpQuickAccessActionLabel=C.kg("helpQuickAccess","Show all Quick Access Providers")}(T||(T={})),function(d){d.quickCommandActionLabel=C.kg("quickCommandActionLabel","Command Palette"),d.quickCommandHelp=C.kg("quickCommandActionHelp","Show And Run Commands")}(J||(J={})),function(d){d.quickOutlineActionLabel=C.kg("quickOutlineActionLabel","Go to Symbol..."),d.quickOutlineByCategoryActionLabel=C.kg("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(M||(M={})),function(d){d.editorViewAccessibleLabel=C.kg("editorViewAccessibleLabel","Editor content")}(v||(v={})),function(d){d.toggleHighContrast=C.kg("toggleHighContrast","Toggle High Contrast Theme")}(E||(E={})),function(d){d.bulkEditServiceSummary=C.kg("bulkEditServiceSummary","Made {0} edits in {1} files")}(w||(w={}))},3455:(dt,pe,h)=>{h.d(pe,{E$:()=>J,HP:()=>E,Ic:()=>C,U0:()=>T,Wn:()=>s,bg:()=>M,mS:()=>v,uK:()=>I,vn:()=>w});class s{constructor(){this.changeType=1}}class I{static applyInjectedText(d,f){if(!f||f.length===0)return d;let p="",_=0;for(let m of f)p+=d.substring(_,m.column-1),_=m.column-1,p+=m.options.content;return p+=d.substring(_),p}static fromDecorations(d){const f=[];for(let p of d)p.options.before&&p.options.before.content.length>0&&f.push(new I(p.ownerId,p.range.startLineNumber,p.range.startColumn,p.options.before,0)),p.options.after&&p.options.after.content.length>0&&f.push(new I(p.ownerId,p.range.endLineNumber,p.range.endColumn,p.options.after,1));return f.sort((p,_)=>p.lineNumber===_.lineNumber?p.column===_.column?p.order-_.order:p.column-_.column:p.lineNumber-_.lineNumber),f}constructor(d,f,p,_,m){this.ownerId=d,this.lineNumber=f,this.column=p,this.options=_,this.order=m}}class T{constructor(d,f,p){this.changeType=2,this.lineNumber=d,this.detail=f,this.injectedText=p}}class J{constructor(d,f){this.changeType=3,this.fromLineNumber=d,this.toLineNumber=f}}class M{constructor(d,f,p,_){this.changeType=4,this.injectedTexts=_,this.fromLineNumber=d,this.toLineNumber=f,this.detail=p}}class v{constructor(){this.changeType=5}}class E{constructor(d,f,p,_){this.changes=d,this.versionId=f,this.isUndoing=p,this.isRedoing=_,this.resultingSelection=null}containsEvent(d){for(let f=0,p=this.changes.length;f<p;f++)if(this.changes[f].changeType===d)return!0;return!1}static merge(d,f){const p=[].concat(d.changes).concat(f.changes),_=f.versionId,m=d.isUndoing||f.isUndoing,b=d.isRedoing||f.isRedoing;return new E(p,_,m,b)}}class w{constructor(d){this.changes=d}}class C{constructor(d,f){this.rawContentChangedEvent=d,this.contentChangedEvent=f}merge(d){const f=E.merge(this.rawContentChangedEvent,d.rawContentChangedEvent),p=C._mergeChangeEvents(this.contentChangedEvent,d.contentChangedEvent);return new C(f,p)}static _mergeChangeEvents(d,f){const p=[].concat(d.changes).concat(f.changes),_=f.eol,m=f.versionId,b=d.isUndoing||f.isUndoing,x=d.isRedoing||f.isRedoing,k=d.isFlush||f.isFlush;return{changes:p,eol:_,isEolChange:d.isEolChange&&f.isEolChange,versionId:m,isUndoing:b,isRedoing:x,isFlush:k}}}},779:(dt,pe,h)=>{var s;h.d(pe,{N6:()=>s,TH:()=>I,pv:()=>T}),function(J){J[J.Disabled=0]="Disabled",J[J.EnabledForActive=1]="EnabledForActive",J[J.Enabled=2]="Enabled"}(s||(s={}));class I{constructor(J,M,v,E,w,C){if(this.visibleColumn=J,this.column=M,this.className=v,this.horizontalLine=E,this.forWrappedLinesAfterColumn=w,this.forWrappedLinesBeforeOrAtColumn=C,J!==-1==(M!==-1))throw new Error}}class T{constructor(J,M){this.top=J,this.endColumn=M}}},7445:(dt,pe,h)=>{h.d(pe,{T:()=>J,f:()=>I});var s=h(5910);class I{static{this.defaultTokenMetadata=33587200}static createEmpty(M,v){const E=I.defaultTokenMetadata,w=new Uint32Array(2);return w[0]=M.length,w[1]=E,new I(w,M,v)}static createFromTextAndMetadata(M,v){let E=0,w="";const C=new Array;for(let{text:d,metadata:f}of M)C.push(E+d.length,f),E+=d.length,w+=d;return new I(new Uint32Array(C),w,v)}constructor(M,v,E){this._lineTokensBrand=void 0,this._tokens=M,this._tokensCount=this._tokens.length>>>1,this._text=v,this.languageIdCodec=E}equals(M){return M instanceof I&&this.slicedEquals(M,0,this._tokensCount)}slicedEquals(M,v,E){if(this._text!==M._text)return!1;if(this._tokensCount!==M._tokensCount)return!1;const w=v<<1,C=w+(E<<1);for(let d=w;d<C;d++)if(this._tokens[d]!==M._tokens[d])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(M){return M>0?this._tokens[M-1<<1]:0}getMetadata(M){return this._tokens[1+(M<<1)]}getLanguageId(M){const v=this._tokens[1+(M<<1)],E=s.x.getLanguageId(v);return this.languageIdCodec.decodeLanguageId(E)}getStandardTokenType(M){const v=this._tokens[1+(M<<1)];return s.x.getTokenType(v)}getForeground(M){const v=this._tokens[1+(M<<1)];return s.x.getForeground(v)}getClassName(M){const v=this._tokens[1+(M<<1)];return s.x.getClassNameFromMetadata(v)}getInlineStyle(M,v){const E=this._tokens[1+(M<<1)];return s.x.getInlineStyleFromMetadata(E,v)}getPresentation(M){const v=this._tokens[1+(M<<1)];return s.x.getPresentationFromMetadata(v)}getEndOffset(M){return this._tokens[M<<1]}findTokenIndexAtOffset(M){return I.findIndexInTokensArray(this._tokens,M)}inflate(){return this}sliceAndInflate(M,v,E){return new T(this,M,v,E)}static convertToEndOffset(M,v){const E=(M.length>>>1)-1;for(let w=0;w<E;w++)M[w<<1]=M[w+1<<1];M[E<<1]=v}static findIndexInTokensArray(M,v){if(M.length<=2)return 0;let E=0,w=(M.length>>>1)-1;for(;E<w;){const C=E+Math.floor((w-E)/2),d=M[C<<1];if(d===v)return C+1;d<v?E=C+1:d>v&&(w=C)}return E}withInserted(M){if(M.length===0)return this;let v=0,E=0,w="";const C=new Array;let d=0;for(;;){const f=v<this._tokensCount?this._tokens[v<<1]:-1,p=E<M.length?M[E]:null;if(f!==-1&&(p===null||f<=p.offset)){w+=this._text.substring(d,f);const _=this._tokens[1+(v<<1)];C.push(w.length,_),v++,d=f}else{if(!p)break;if(p.offset>d){w+=this._text.substring(d,p.offset);const _=this._tokens[1+(v<<1)];C.push(w.length,_),d=p.offset}w+=p.text,C.push(w.length,p.tokenMetadata),E++}}return new I(new Uint32Array(C),w,this.languageIdCodec)}getTokenText(M){const v=this.getStartOffset(M),E=this.getEndOffset(M);return this._text.substring(v,E)}forEach(M){const v=this.getCount();for(let E=0;E<v;E++)M(E)}}class T{constructor(M,v,E,w){this._source=M,this._startOffset=v,this._endOffset=E,this._deltaOffset=w,this._firstTokenIndex=M.findTokenIndexAtOffset(v),this.languageIdCodec=M.languageIdCodec,this._tokensCount=0;for(let C=this._firstTokenIndex,d=M.getCount();C<d&&!(M.getStartOffset(C)>=E);C++)this._tokensCount++}getMetadata(M){return this._source.getMetadata(this._firstTokenIndex+M)}getLanguageId(M){return this._source.getLanguageId(this._firstTokenIndex+M)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(M){return M instanceof T&&this._startOffset===M._startOffset&&this._endOffset===M._endOffset&&this._deltaOffset===M._deltaOffset&&this._source.slicedEquals(M._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getStandardTokenType(M){return this._source.getStandardTokenType(this._firstTokenIndex+M)}getForeground(M){return this._source.getForeground(this._firstTokenIndex+M)}getEndOffset(M){const v=this._source.getEndOffset(this._firstTokenIndex+M);return Math.min(this._endOffset,v)-this._startOffset+this._deltaOffset}getClassName(M){return this._source.getClassName(this._firstTokenIndex+M)}getInlineStyle(M,v){return this._source.getInlineStyle(this._firstTokenIndex+M,v)}getPresentation(M){return this._source.getPresentation(this._firstTokenIndex+M)}findTokenIndexAtOffset(M){return this._source.findTokenIndexAtOffset(M+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(M){const v=this._firstTokenIndex+M,E=this._source.getStartOffset(v),w=this._source.getEndOffset(v);let C=this._source.getTokenText(v);return E<this._startOffset&&(C=C.substring(this._startOffset-E)),w>this._endOffset&&(C=C.substring(0,C.length-(w-this._endOffset))),C}forEach(M){for(let v=0;v<this.getCount();v++)M(v)}}function J(M,v){const E=v.lineNumber;if(!M.tokenization.isCheapToTokenize(E))return;M.tokenization.forceTokenization(E);const w=M.tokenization.getLineTokens(E),C=w.findTokenIndexAtOffset(v.column-1);return w.getStandardTokenType(C)}},5561:(dt,pe,h)=>{h.d(pe,{Bs:()=>M,d:()=>I});var s=h(6844);class I{constructor(v,E,w,C){this.startColumn=v,this.endColumn=E,this.className=w,this.type=C,this._lineDecorationBrand=void 0}static _equals(v,E){return v.startColumn===E.startColumn&&v.endColumn===E.endColumn&&v.className===E.className&&v.type===E.type}static equalsArr(v,E){const w=v.length;if(w!==E.length)return!1;for(let C=0;C<w;C++)if(!I._equals(v[C],E[C]))return!1;return!0}static extractWrapped(v,E,w){if(v.length===0)return v;const C=E+1,d=w+1,f=w-E,p=[];let _=0;for(let m of v)m.endColumn<=C||m.startColumn>=d||(p[_++]=new I(Math.max(1,m.startColumn-C+1),Math.min(f+1,m.endColumn-C+1),m.className,m.type));return p}static filter(v,E,w,C){if(v.length===0)return[];const d=[];let f=0;for(let p=0,_=v.length;p<_;p++){const m=v[p],b=m.range;if(b.endLineNumber<E||b.startLineNumber>E)continue;if(b.isEmpty()&&(m.type===0||m.type===3))continue;const x=b.startLineNumber===E?b.startColumn:w,k=b.endLineNumber===E?b.endColumn:C;d[f++]=new I(x,k,m.inlineClassName,m.type)}return d}static _typeCompare(v,E){const w=[2,0,1,3];return w[v]-w[E]}static compare(v,E){if(v.startColumn!==E.startColumn)return v.startColumn-E.startColumn;if(v.endColumn!==E.endColumn)return v.endColumn-E.endColumn;const w=I._typeCompare(v.type,E.type);return w!==0?w:v.className!==E.className?v.className<E.className?-1:1:0}}class T{constructor(v,E,w,C){this.startOffset=v,this.endOffset=E,this.className=w,this.metadata=C}}class J{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(v){let E=0;for(let w=0,C=v.length;w<C;w++)E|=v[w];return E}consumeLowerThan(v,E,w){for(;this.count>0&&this.stopOffsets[0]<v;){let C=0;for(;C+1<this.count&&this.stopOffsets[C]===this.stopOffsets[C+1];)C++;w.push(new T(E,this.stopOffsets[C],this.classNames.join(" "),J._metadata(this.metadata))),E=this.stopOffsets[C]+1,this.stopOffsets.splice(0,C+1),this.classNames.splice(0,C+1),this.metadata.splice(0,C+1),this.count-=C+1}return this.count>0&&E<v&&(w.push(new T(E,v-1,this.classNames.join(" "),J._metadata(this.metadata))),E=v),E}insert(v,E,w){if(this.count===0||this.stopOffsets[this.count-1]<=v)this.stopOffsets.push(v),this.classNames.push(E),this.metadata.push(w);else for(let C=0;C<this.count;C++)if(this.stopOffsets[C]>=v){this.stopOffsets.splice(C,0,v),this.classNames.splice(C,0,E),this.metadata.splice(C,0,w);break}this.count++}}class M{static normalize(v,E){if(E.length===0)return[];const w=[],C=new J;let d=0;for(let f=0,p=E.length;f<p;f++){const _=E[f];let{startColumn:m,endColumn:b}=_;const x=_.className,k=_.type===1?2:_.type===2?4:0;if(m>1){const z=v.charCodeAt(m-2);s.pc(z)&&m--}if(b>1){const z=v.charCodeAt(b-2);s.pc(z)&&b--}const R=m-1,P=b-2;d=C.consumeLowerThan(R,d,w),C.count===0&&(d=R),C.insert(P,x,k)}return C.consumeLowerThan(1073741824,d,w),w}}},9723:(dt,pe,h)=>{h.d(pe,{wZ:()=>w,MT:()=>v,zL:()=>E,UW:()=>f,Md:()=>_});var s=h(9746),I=h(6844),T=h(4324),J=h(5561);class M{constructor(x,k,R,P){this.endIndex=x,this.type=k,this.metadata=R,this.containsRTL=P,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class v{constructor(x,k){this.startOffset=x,this.endOffset=k}equals(x){return this.startOffset===x.startOffset&&this.endOffset===x.endOffset}}class E{constructor(x,k,R,P,z,te,L,W,B,U,$,G,ie,ee,ne,H,V,Y,ve){this.useMonospaceOptimizations=x,this.canUseHalfwidthRightwardsArrow=k,this.lineContent=R,this.continuesWithWrappedLine=P,this.isBasicASCII=z,this.containsRTL=te,this.fauxIndentLength=L,this.lineTokens=W,this.lineDecorations=B.sort(J.d.compare),this.tabSize=U,this.startVisibleColumn=$,this.spaceWidth=G,this.stopRenderingLineAfter=ne,this.renderWhitespace=H==="all"?4:H==="boundary"?1:H==="selection"?2:H==="trailing"?3:0,this.renderControlCharacters=V,this.fontLigatures=Y,this.selectionsOnLine=ve&&ve.sort((Te,xe)=>Te.startOffset<xe.startOffset?-1:1),Math.abs(ee-G)<Math.abs(ie-G)?(this.renderSpaceWidth=ee,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=ie,this.renderSpaceCharCode=183)}sameSelection(x){if(this.selectionsOnLine===null)return x===null;if(x===null)return!1;if(x.length!==this.selectionsOnLine.length)return!1;for(let k=0;k<this.selectionsOnLine.length;k++)if(!this.selectionsOnLine[k].equals(x[k]))return!1;return!0}equals(x){return this.useMonospaceOptimizations===x.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===x.canUseHalfwidthRightwardsArrow&&this.lineContent===x.lineContent&&this.continuesWithWrappedLine===x.continuesWithWrappedLine&&this.isBasicASCII===x.isBasicASCII&&this.containsRTL===x.containsRTL&&this.fauxIndentLength===x.fauxIndentLength&&this.tabSize===x.tabSize&&this.startVisibleColumn===x.startVisibleColumn&&this.spaceWidth===x.spaceWidth&&this.renderSpaceWidth===x.renderSpaceWidth&&this.renderSpaceCharCode===x.renderSpaceCharCode&&this.stopRenderingLineAfter===x.stopRenderingLineAfter&&this.renderWhitespace===x.renderWhitespace&&this.renderControlCharacters===x.renderControlCharacters&&this.fontLigatures===x.fontLigatures&&J.d.equalsArr(this.lineDecorations,x.lineDecorations)&&this.lineTokens.equals(x.lineTokens)&&this.sameSelection(x.selectionsOnLine)}}class w{constructor(x,k){this.partIndex=x,this.charIndex=k}}class C{static getPartIndex(x){return(4294901760&x)>>>16}static getCharIndex(x){return(65535&x)>>>0}constructor(x,k){this.length=x,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(x,k,R,P){const z=(k<<16|R)>>>0;this._data[x-1]=z,this._horizontalOffset[x-1]=P}getHorizontalOffset(x){return this._horizontalOffset.length===0?0:this._horizontalOffset[x-1]}charOffsetToPartData(x){return this.length===0?0:x<0?this._data[0]:x>=this.length?this._data[this.length-1]:this._data[x]}getDomPosition(x){const k=this.charOffsetToPartData(x-1),R=C.getPartIndex(k),P=C.getCharIndex(k);return new w(R,P)}getColumn(x,k){return this.partDataToCharOffset(x.partIndex,k,x.charIndex)+1}partDataToCharOffset(x,k,R){if(this.length===0)return 0;const P=(x<<16|R)>>>0;let z=0,te=this.length-1;for(;z+1<te;){const G=z+te>>>1,ie=this._data[G];if(ie===P)return G;ie>P?te=G:z=G}if(z===te)return z;const L=this._data[z],W=this._data[te];if(L===P)return z;if(W===P)return te;const B=C.getPartIndex(L),U=C.getCharIndex(L);let $;return $=B!==C.getPartIndex(W)?k:C.getCharIndex(W),R-U<=$-R?z:te}}class d{constructor(x,k,R){this._renderLineOutputBrand=void 0,this.characterMapping=x,this.containsRTL=k,this.containsForeignElements=R}}function f(x,k){if(x.lineContent.length===0){if(x.lineDecorations.length>0){k.appendString("<span>");let R=0,P=0,z=0;for(let L of x.lineDecorations)L.type!==1&&L.type!==2||(k.appendString('<span class="'),k.appendString(L.className),k.appendString('"></span>'),L.type===1&&(z|=1,R++),L.type===2&&(z|=2,P++));k.appendString("</span>");const te=new C(1,R+P);return te.setColumnInfo(1,R,0,0),new d(te,!1,z)}return k.appendString("<span><span></span></span>"),new d(new C(0,0),!1,0)}return function(R,P){const{fontIsMonospace:z,canUseHalfwidthRightwardsArrow:te,containsForeignElements:L,lineContent:W,len:B,isOverflowing:U,overflowingCharCount:$,parts:G,fauxIndentLength:ie,tabSize:ee,startVisibleColumn:ne,containsRTL:H,spaceWidth:V,renderSpaceCharCode:Y,renderWhitespace:ve,renderControlCharacters:Te}=R,xe=new C(B+1,G.length);let Be=!1,Ie=0,he=ne,Q=0,re=0,Je=0;H?P.appendString('<span dir="ltr">'):P.appendString("<span>");for(let Se=0,Pe=G.length;Se<Pe;Se++){const Le=G[Se],Ve=Le.endIndex,g=Le.type,ge=Le.containsRTL,We=ve!==0&&Le.isWhitespace(),de=We&&!z&&(g==="mtkw"||!L),be=Ie===Ve&&Le.isPseudoAfter();if(Q=0,P.appendString("<span "),ge&&P.appendString('style="unicode-bidi:isolate" '),P.appendString('class="'),P.appendString(de?"mtkz":g),P.appendASCIICharCode(34),We){let ae=0;{let O=Ie,Ue=he;for(;O<Ve;O++){const Ye=0|(W.charCodeAt(O)===9?ee-Ue%ee:1);ae+=Ye,O>=ie&&(Ue+=Ye)}}for(de&&(P.appendString(' style="width:'),P.appendString(String(V*ae)),P.appendString('px"')),P.appendASCIICharCode(62);Ie<Ve;Ie++){let O,Ue;if(xe.setColumnInfo(Ie+1,Se-Je,Q,re),Je=0,W.charCodeAt(Ie)===9){O=ee-he%ee|0,Ue=O,!te||Ue>1?P.appendCharCode(8594):P.appendCharCode(65515);for(let Ye=2;Ye<=Ue;Ye++)P.appendCharCode(160)}else O=2,Ue=1,P.appendCharCode(Y),P.appendCharCode(8204);Q+=O,re+=Ue,Ie>=ie&&(he+=Ue)}}else for(P.appendASCIICharCode(62);Ie<Ve;Ie++){xe.setColumnInfo(Ie+1,Se-Je,Q,re),Je=0;const ae=W.charCodeAt(Ie);let O=1,Ue=1;switch(ae){case 9:O=ee-he%ee,Ue=O;for(let Ye=1;Ye<=O;Ye++)P.appendCharCode(160);break;case 32:P.appendCharCode(160);break;case 60:P.appendString("&lt;");break;case 62:P.appendString("&gt;");break;case 38:P.appendString("&amp;");break;case 0:Te?P.appendCharCode(9216):P.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:P.appendCharCode(65533);break;default:I.ne(ae)&&Ue++,Te&&ae<32?P.appendCharCode(9216+ae):Te&&ae===127?P.appendCharCode(9249):Te&&b(ae)?(P.appendString("[U+"),P.appendString(ae.toString(16).toUpperCase().padStart(4,"0")),P.appendString("]"),O=8,Ue=O):P.appendCharCode(ae)}Q+=O,re+=Ue,Ie>=ie&&(he+=Ue)}be?Je++:Je=0,Ie>=B&&!Be&&Le.isPseudoAfter()&&(Be=!0,xe.setColumnInfo(Ie+1,Se,Q,re)),P.appendString("</span>")}return Be||xe.setColumnInfo(B+1,G.length-1,Q,re),U&&(P.appendString('<span class="mtkoverflow">'),P.appendString(s.kg("showMore","Show more ({0})",function(Se){return Se<1024?s.kg("overflow.chars","{0} chars",Se):Se<1048576?`${(Se/1024).toFixed(1)} KB`:`${(Se/1024/1024).toFixed(1)} MB`}($))),P.appendString("</span>")),P.appendString("</span>"),new d(xe,H,L)}(function(R){const P=R.lineContent;let z,te,L;R.stopRenderingLineAfter!==-1&&R.stopRenderingLineAfter<P.length?(z=!0,te=P.length-R.stopRenderingLineAfter,L=R.stopRenderingLineAfter):(z=!1,te=0,L=P.length);let W=function(U,$,G,ie,ee){const ne=[];let H=0;ie>0&&(ne[H++]=new M(ie,"",0,!1));let V=ie;for(let Y=0,ve=G.getCount();Y<ve;Y++){const Te=G.getEndOffset(Y);if(Te<=ie)continue;const xe=G.getClassName(Y);if(Te>=ee){const Ie=!!$&&I.E_(U.substring(V,ee));ne[H++]=new M(ee,xe,0,Ie);break}const Be=!!$&&I.E_(U.substring(V,Te));ne[H++]=new M(Te,xe,0,Be),V=Te}return ne}(P,R.containsRTL,R.lineTokens,R.fauxIndentLength,L);R.renderControlCharacters&&!R.isBasicASCII&&(W=function(U,$){const G=[];let ie=new M(0,"",0,!1),ee=0;for(let ne of $){const H=ne.endIndex;for(;ee<H;ee++)b(U.charCodeAt(ee))&&(ee>ie.endIndex&&(ie=new M(ee,ne.type,ne.metadata,ne.containsRTL),G.push(ie)),ie=new M(ee+1,"mtkcontrol",ne.metadata,!1),G.push(ie));ee>ie.endIndex&&(ie=new M(H,ne.type,ne.metadata,ne.containsRTL),G.push(ie))}return G}(P,W)),(R.renderWhitespace===4||R.renderWhitespace===1||R.renderWhitespace===2&&R.selectionsOnLine||R.renderWhitespace===3&&!R.continuesWithWrappedLine)&&(W=function(U,$,G,ie){const{continuesWithWrappedLine:ee,fauxIndentLength:ne,tabSize:H,startVisibleColumn:V,useMonospaceOptimizations:Y,selectionsOnLine:ve}=U,Te=U.renderWhitespace===1,xe=U.renderWhitespace===3,Be=U.renderSpaceWidth!==U.spaceWidth,Ie=[];let he=0,Q=0,re=ie[Q].type,Je=ie[Q].containsRTL,Se=ie[Q].endIndex;const Pe=ie.length;let Le,Ve=!1,g=I.HG($);g===-1?(Ve=!0,g=G,Le=G):Le=I.lT($);let ge=!1,We=0,de=ve&&ve[We],be=V%H;for(let O=ne;O<G;O++){const Ue=$.charCodeAt(O);let Ye;if(de&&O>=de.endOffset&&(We++,de=ve&&ve[We]),O<g||O>Le)Ye=!0;else if(Ue===9)Ye=!0;else if(Ue===32)if(Te)if(ge)Ye=!0;else{const Fe=O+1<G?$.charCodeAt(O+1):0;Ye=Fe===32||Fe===9}else Ye=!0;else Ye=!1;if(Ye&&ve&&(Ye=!!de&&de.startOffset<=O&&de.endOffset>O),Ye&&xe&&(Ye=Ve||O>Le),Ye&&Je&&O>=g&&O<=Le&&(Ye=!1),ge){if(!Ye||!Y&&be>=H){if(Be)for(let Fe=(he>0?Ie[he-1].endIndex:ne)+1;Fe<=O;Fe++)Ie[he++]=new M(Fe,"mtkw",1,!1);else Ie[he++]=new M(O,"mtkw",1,!1);be%=H}}else(O===Se||Ye&&O>ne)&&(Ie[he++]=new M(O,re,0,Je),be%=H);for(Ue===9?be=H:I.ne(Ue)?be+=2:be++,ge=Ye;O===Se&&(Q++,Q<Pe);)re=ie[Q].type,Je=ie[Q].containsRTL,Se=ie[Q].endIndex}let ae=!1;if(ge)if(ee&&Te){const O=G>0?$.charCodeAt(G-1):0,Ue=G>1?$.charCodeAt(G-2):0;O===32&&Ue!==32&&Ue!==9||(ae=!0)}else ae=!0;if(ae)if(Be)for(let O=(he>0?Ie[he-1].endIndex:ne)+1;O<=G;O++)Ie[he++]=new M(O,"mtkw",1,!1);else Ie[he++]=new M(G,"mtkw",1,!1);else Ie[he++]=new M(G,re,0,Je);return Ie}(R,P,L,W));let B=0;if(R.lineDecorations.length>0){for(let U=0,$=R.lineDecorations.length;U<$;U++){const G=R.lineDecorations[U];G.type===3||G.type===1?B|=1:G.type===2&&(B|=2)}W=function(U,$,G,ie){ie.sort(J.d.compare);const ee=J.Bs.normalize(U,ie),ne=ee.length;let H=0;const V=[];let Y=0,ve=0;for(let xe=0,Be=G.length;xe<Be;xe++){const Ie=G[xe],he=Ie.endIndex,Q=Ie.type,re=Ie.metadata,Je=Ie.containsRTL;for(;H<ne&&ee[H].startOffset<he;){const Se=ee[H];if(Se.startOffset>ve&&(ve=Se.startOffset,V[Y++]=new M(ve,Q,re,Je)),!(Se.endOffset+1<=he)){ve=he,V[Y++]=new M(ve,Q+" "+Se.className,re|Se.metadata,Je);break}ve=Se.endOffset+1,V[Y++]=new M(ve,Q+" "+Se.className,re|Se.metadata,Je),H++}he>ve&&(ve=he,V[Y++]=new M(ve,Q,re,Je))}const Te=G[G.length-1].endIndex;if(H<ne&&ee[H].startOffset===Te)for(;H<ne&&ee[H].startOffset===Te;){const xe=ee[H];V[Y++]=new M(ve,xe.className,xe.metadata,!1),H++}return V}(P,0,W,R.lineDecorations)}return R.containsRTL||(W=function(U,$,G){let ie=0;const ee=[];let ne=0;if(G)for(let H=0,V=$.length;H<V;H++){const Y=$[H],ve=Y.endIndex;if(ie+50<ve){const{type:Te,metadata:xe,containsRTL:Be}=Y;let Ie=-1,he=ie;for(let Q=ie;Q<ve;Q++)U.charCodeAt(Q)===32&&(Ie=Q),Ie!==-1&&Q-he>=50&&(ee[ne++]=new M(Ie+1,Te,xe,Be),he=Ie+1,Ie=-1);he!==ve&&(ee[ne++]=new M(ve,Te,xe,Be))}else ee[ne++]=Y;ie=ve}else for(let H=0,V=$.length;H<V;H++){const Y=$[H],ve=Y.endIndex,Te=ve-ie;if(Te>50){const{type:xe,metadata:Be,containsRTL:Ie}=Y,he=Math.ceil(Te/50);for(let Q=1;Q<he;Q++){const re=ie+50*Q;ee[ne++]=new M(re,xe,Be,Ie)}ee[ne++]=new M(ve,xe,Be,Ie)}else ee[ne++]=Y;ie=ve}return ee}(P,W,!R.isBasicASCII||R.fontLigatures)),new m(R.useMonospaceOptimizations,R.canUseHalfwidthRightwardsArrow,P,L,z,te,W,B,R.fauxIndentLength,R.tabSize,R.startVisibleColumn,R.containsRTL,R.spaceWidth,R.renderSpaceCharCode,R.renderWhitespace,R.renderControlCharacters)}(x),k)}class p{constructor(x,k,R,P){this.characterMapping=x,this.html=k,this.containsRTL=R,this.containsForeignElements=P}}function _(x){const k=new T.fe(1e4),R=f(x,k);return new p(R.characterMapping,k.build(),R.containsRTL,R.containsForeignElements)}class m{constructor(x,k,R,P,z,te,L,W,B,U,$,G,ie,ee,ne,H){this.fontIsMonospace=x,this.canUseHalfwidthRightwardsArrow=k,this.lineContent=R,this.len=P,this.isOverflowing=z,this.overflowingCharCount=te,this.parts=L,this.containsForeignElements=W,this.fauxIndentLength=B,this.tabSize=U,this.startVisibleColumn=$,this.containsRTL=G,this.spaceWidth=ie,this.renderSpaceCharCode=ee,this.renderWhitespace=ne,this.renderControlCharacters=H}}function b(x){return x<32?x!==9:x===127||x>=8234&&x<=8238||x>=8294&&x<=8297||x>=8206&&x<=8207||x===1564}},1608:(dt,pe,h)=>{h.d(pe,{GP:()=>v,LM:()=>J,Uv:()=>f,kI:()=>w,nt:()=>M,or:()=>C,qL:()=>E,vo:()=>d});var s=h(3338),I=h(6844),T=h(8061);class J{constructor(p,_,m,b){this._viewportBrand=void 0,this.top=0|p,this.left=0|_,this.width=0|m,this.height=0|b}}class M{constructor(p,_){this.tabSize=p,this.data=_}}class v{constructor(p,_,m,b,x,k,R){this._viewLineDataBrand=void 0,this.content=p,this.continuesWithWrappedLine=_,this.minColumn=m,this.maxColumn=b,this.startVisibleColumn=x,this.tokens=k,this.inlineDecorations=R}}class E{constructor(p,_,m,b,x,k,R,P,z,te){this.minColumn=p,this.maxColumn=_,this.content=m,this.continuesWithWrappedLine=b,this.isBasicASCII=E.isBasicASCII(m,k),this.containsRTL=E.containsRTL(m,this.isBasicASCII,x),this.tokens=R,this.inlineDecorations=P,this.tabSize=z,this.startVisibleColumn=te}static isBasicASCII(p,_){return!_||I.aC(p)}static containsRTL(p,_,m){return!(_||!m)&&I.E_(p)}}class w{constructor(p,_,m){this.range=p,this.inlineClassName=_,this.type=m}}class C{constructor(p,_,m,b){this.startOffset=p,this.endOffset=_,this.inlineClassName=m,this.inlineClassNameAffectsLetterSpacing=b}toInlineDecoration(p){return new w(new T.Q(p,this.startOffset+1,p,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class d{constructor(p,_){this._viewModelDecorationBrand=void 0,this.range=p,this.options=_}}class f{constructor(p,_,m){this.color=p,this.zIndex=_,this.data=m}static compareByRenderingProps(p,_){return p.zIndex===_.zIndex?p.color<_.color?-1:p.color>_.color?1:0:p.zIndex-_.zIndex}static equals(p,_){return p.color===_.color&&p.zIndex===_.zIndex&&s.aI(p.data,_.data)}static equalsArr(p,_){return s.aI(p,_,f.equals)}}},6803:(dt,pe,h)=>{h.d(pe,{iE:()=>I,rW:()=>T});class s{constructor(J,M,v){this._colorZoneBrand=void 0,this.from=0|J,this.to=0|M,this.colorId=0|v}static compare(J,M){return J.colorId===M.colorId?J.from===M.from?J.to-M.to:J.from-M.from:J.colorId-M.colorId}}class I{constructor(J,M,v,E){this._overviewRulerZoneBrand=void 0,this.startLineNumber=J,this.endLineNumber=M,this.heightInLines=v,this.color=E,this._colorZone=null}static compare(J,M){return J.color===M.color?J.startLineNumber===M.startLineNumber?J.heightInLines===M.heightInLines?J.endLineNumber-M.endLineNumber:J.heightInLines-M.heightInLines:J.startLineNumber-M.startLineNumber:J.color<M.color?-1:1}setColorZone(J){this._colorZone=J}getColorZones(){return this._colorZone}}class T{constructor(J){this._getVerticalOffsetForLine=J,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(J){this._zones=J,this._zones.sort(I.compare)}setLineHeight(J){return this._lineHeight!==J&&(this._lineHeight=J,this._colorZonesInvalid=!0,!0)}setPixelRatio(J){this._pixelRatio=J,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(J){return this._domWidth!==J&&(this._domWidth=J,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(J){return this._domHeight!==J&&(this._domHeight=J,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(J){return this._outerHeight!==J&&(this._outerHeight=J,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const J=this._colorZonesInvalid,M=Math.floor(this._lineHeight),v=Math.floor(this.getCanvasHeight()),E=v/Math.floor(this._outerHeight),w=Math.floor(4*this._pixelRatio/2),C=[];for(let d=0,f=this._zones.length;d<f;d++){const p=this._zones[d];if(!J){const L=p.getColorZones();if(L){C.push(L);continue}}const _=this._getVerticalOffsetForLine(p.startLineNumber),m=p.heightInLines===0?this._getVerticalOffsetForLine(p.endLineNumber)+M:_+p.heightInLines*M,b=Math.floor(E*_),x=Math.floor(E*m);let k=Math.floor((b+x)/2),R=x-k;R<w&&(R=w),k-R<0&&(k=R),k+R>v&&(k=v-R);const P=p.color;let z=this._color2Id[P];z||(z=++this._lastAssignedId,this._color2Id[P]=z,this._id2Color[z]=P);const te=new s(k-R,k+R,z);p.setColorZone(te),C.push(te)}return this._colorZonesInvalid=!1,C.sort(s.compare),C}}},1430:(dt,pe,h)=>{h.d(pe,{GN:()=>v,UB:()=>M,a6:()=>E,wc:()=>w});var s=h(5365),I=h(8061),T=h(1608),J=h(6476);class M{constructor(d,f,p,_,m){this.editorId=d,this.model=f,this.configuration=p,this._linesCollection=_,this._coordinatesConverter=m,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(d){const f=d.id;let p=this._decorationsCache[f];if(!p){const{range:_,options:m}=d;let b;if(m.isWholeLine){const x=this._coordinatesConverter.convertModelPositionToViewPosition(new s.y(_.startLineNumber,1),0,!1,!0),k=this._coordinatesConverter.convertModelPositionToViewPosition(new s.y(_.endLineNumber,this.model.getLineMaxColumn(_.endLineNumber)),1);b=new I.Q(x.lineNumber,x.column,k.lineNumber,k.column)}else b=this._coordinatesConverter.convertModelRangeToViewRange(_,1);p=new T.vo(b,m),this._decorationsCache[f]=p}return p}getMinimapDecorationsInRange(d){return this._getDecorationsInRange(d,!0,!1).decorations}getDecorationsViewportData(d){let f=this._cachedModelDecorationsResolver!==null;return f=f&&d.equalsRange(this._cachedModelDecorationsResolverViewRange),f||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(d,!1,!1),this._cachedModelDecorationsResolverViewRange=d),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(d,f=!1,p=!1){const _=new I.Q(d,this._linesCollection.getViewLineMinColumn(d),d,this._linesCollection.getViewLineMaxColumn(d));return this._getDecorationsInRange(_,f,p).inlineDecorations[0]}_getDecorationsInRange(d,f,p){const _=this._linesCollection.getDecorationsInRange(d,this.editorId,J.$C(this.configuration.options),f,p),m=d.startLineNumber,b=d.endLineNumber,x=[];let k=0;const R=[];for(let P=m;P<=b;P++)R[P-m]=[];for(let P=0,z=_.length;P<z;P++){const te=_[P],L=te.options;if(!v(this.model,te))continue;const W=this._getOrCreateViewModelDecoration(te),B=W.range;if(x[k++]=W,L.inlineClassName){const U=new T.kI(B,L.inlineClassName,L.inlineClassNameAffectsLetterSpacing?3:0),$=Math.max(m,B.startLineNumber),G=Math.min(b,B.endLineNumber);for(let ie=$;ie<=G;ie++)R[ie-m].push(U)}if(L.beforeContentClassName&&m<=B.startLineNumber&&B.startLineNumber<=b){const U=new T.kI(new I.Q(B.startLineNumber,B.startColumn,B.startLineNumber,B.startColumn),L.beforeContentClassName,1);R[B.startLineNumber-m].push(U)}if(L.afterContentClassName&&m<=B.endLineNumber&&B.endLineNumber<=b){const U=new T.kI(new I.Q(B.endLineNumber,B.endColumn,B.endLineNumber,B.endColumn),L.afterContentClassName,2);R[B.endLineNumber-m].push(U)}}return{decorations:x,inlineDecorations:R}}}function v(d,f){return!(f.options.hideInCommentTokens&&E(d,f)||f.options.hideInStringTokens&&w(d,f))}function E(d,f){return C(d,f.range,(p)=>p===1)}function w(d,f){return C(d,f.range,(p)=>p===2)}function C(d,f,p){for(let _=f.startLineNumber;_<=f.endLineNumber;_++){const m=d.tokenization.getLineTokens(_),b=_===f.startLineNumber,x=_===f.endLineNumber;let k=b?m.findTokenIndexAtOffset(f.startColumn-1):0;for(;k<m.getCount()&&!(x&&m.getStartOffset(k)>f.endColumn-1);){if(!p(m.getStandardTokenType(k)))return!1;k++}}return!0}},2105:(dt,pe,h)=>{h.d(pe,{$t:()=>m,gI:()=>b,ER:()=>x});var s=h(6844),I=h(8061),T=h(8903),J=h(998),M=h(946),v=h(1540),E=h(5525),w=h(2399),C=h(6726),d=h(9746);const f=w.u1("IEditorCancelService"),p=new v.N1("cancellableOperation",!1,d.kg("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));C.v(f,class{constructor(){this._tokens=new WeakMap}add(k,R){let P,z=this._tokens.get(k);return z||(z=k.invokeWithinContext((te)=>({key:p.bindTo(te.get(v.fN)),tokens:new E.w})),this._tokens.set(k,z)),z.key.set(!0),P=z.tokens.push(R),()=>{P&&(P(),z.key.set(!z.tokens.isEmpty()),P=void 0)}}cancel(k){const R=this._tokens.get(k);if(!R)return;const P=R.tokens.pop();P&&(P.cancel(),R.key.set(!R.tokens.isEmpty()))}},1);class _ extends T.Qi{constructor(k,R){super(R),this.editor=k,this._unregister=k.invokeWithinContext((P)=>P.get(f).add(k,this))}dispose(){this._unregister(),super.dispose()}}M.E_(new class extends M.DX{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:p})}runEditorCommand(k,R){k.get(f).cancel(R)}});class m{constructor(k,R){if(this.flags=R,1&this.flags){const P=k.getModel();this.modelVersionId=P?s.GP("{0}#{1}",P.uri.toString(),P.getVersionId()):null}else this.modelVersionId=null;4&this.flags?this.position=k.getPosition():this.position=null,2&this.flags?this.selection=k.getSelection():this.selection=null,8&this.flags?(this.scrollLeft=k.getScrollLeft(),this.scrollTop=k.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(k){if(!(k instanceof m))return!1;const R=k;return this.modelVersionId===R.modelVersionId&&this.scrollLeft===R.scrollLeft&&this.scrollTop===R.scrollTop&&!(!this.position&&R.position||this.position&&!R.position||this.position&&R.position&&!this.position.equals(R.position))&&!(!this.selection&&R.selection||this.selection&&!R.selection||this.selection&&R.selection&&!this.selection.equalsRange(R.selection))}validate(k){return this._equals(new m(k,this.flags))}}class b extends _{constructor(k,R,P,z){super(k,z),this._listener=new J.Cm,4&R&&this._listener.add(k.onDidChangeCursorPosition((te)=>{P&&I.Q.containsPosition(P,te.position)||this.cancel()})),2&R&&this._listener.add(k.onDidChangeCursorSelection((te)=>{P&&I.Q.containsRange(P,te.selection)||this.cancel()})),8&R&&this._listener.add(k.onDidScrollChange((te)=>this.cancel())),1&R&&(this._listener.add(k.onDidChangeModel((te)=>this.cancel())),this._listener.add(k.onDidChangeModelContent((te)=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class x extends T.Qi{constructor(k,R){super(R),this._listener=k.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},8801:(dt,pe,h)=>{h.d(pe,{Pj:()=>B,jX:()=>U,vg:()=>G,_V:()=>ee});var s=h(3338),I=h(8903),T=h(4327),J=h(7954),M=h(5525),v=h(9359),E=h(7264),w=h(2105),C=h(6638),d=h(5365),f=h(8061),p=h(3702),_=h(304),m=h(7042),b=h(5406),x=h(2096);class k{constructor(ne){this.value=ne,this._lower=ne.toLowerCase()}static toKey(ne){return typeof ne=="string"?ne.toLowerCase():ne._lower}}class R{constructor(ne){if(this._set=new Set,ne)for(let H of ne)this.add(H)}add(ne){this._set.add(k.toKey(ne))}has(ne){return this._set.has(k.toKey(ne))}}var P=h(2399),z=h(2230),te=h(6441),L=h(1285);function W(ne,H,V){const Y=[],ve=new R,Te=ne.ordered(V);for(let Be of Te)Y.push(Be),Be.extensionId&&ve.add(Be.extensionId);const xe=H.ordered(V);for(let Be of xe){if(Be.extensionId){if(ve.has(Be.extensionId))continue;ve.add(Be.extensionId)}Y.push({displayName:Be.displayName,extensionId:Be.extensionId,provideDocumentFormattingEdits:(Ie,he,Q)=>Be.provideDocumentRangeFormattingEdits(Ie,Ie.getFullModelRange(),he,Q)})}return Y}class B{static{this._selectors=new M.w}static setFormatterSelector(ne){return{dispose:B._selectors.unshift(ne)}}static async select(ne,H,V,Y){if(ne.length===0)return;const ve=J.f.first(B._selectors);return ve?await ve(ne,H,V,Y):void 0}}async function U(ne,H,V,Y,ve,Te,xe){const Be=ne.get(P._Y),{documentRangeFormattingEditProvider:Ie}=ne.get(z.ILanguageFeaturesService),he=C.z9(H)?H.getModel():H,Q=Ie.ordered(he),re=await B.select(Q,he,Y,2);re&&(ve.report(re),await Be.invokeFunction($,re,H,V,Te,xe))}async function $(ne,H,V,Y,ve,Te){const xe=ne.get(_.IEditorWorkerService),Be=ne.get(te.rr),Ie=ne.get(L.Nt);let he,Q;C.z9(V)?(he=V.getModel(),Q=new w.gI(V,5,void 0,ve)):(he=V,Q=new w.ER(V,ve));const re=[];let Je=0;for(let g of s._j(Y).sort(f.Q.compareRangesUsingStarts))Je>0&&f.Q.areIntersectingOrTouching(re[Je-1],g)?re[Je-1]=f.Q.fromPositions(re[Je-1].getStartPosition(),g.getEndPosition()):Je=re.push(g);const Se=async(g)=>{Be.trace("[format][provideDocumentRangeFormattingEdits] (request)",H.extensionId?.value,g);const ge=await H.provideDocumentRangeFormattingEdits(he,g,he.getFormattingOptions(),Q.token)||[];return Be.trace("[format][provideDocumentRangeFormattingEdits] (response)",H.extensionId?.value,ge),ge},Pe=(g,ge)=>{if(!g.length||!ge.length)return!1;const We=g.reduce((de,be)=>f.Q.plusRange(de,be.range),g[0].range);if(!ge.some((de)=>f.Q.intersectRanges(We,de.range)))return!1;for(let de of g)for(let be of ge)if(f.Q.intersectRanges(de.range,be.range))return!0;return!1},Le=[],Ve=[];try{if(typeof H.provideDocumentRangesFormattingEdits=="function"){Be.trace("[format][provideDocumentRangeFormattingEdits] (request)",H.extensionId?.value,re);const g=await H.provideDocumentRangesFormattingEdits(he,re,he.getFormattingOptions(),Q.token)||[];Be.trace("[format][provideDocumentRangeFormattingEdits] (response)",H.extensionId?.value,g),Ve.push(g)}else{for(let g of re){if(Q.token.isCancellationRequested)return!0;Ve.push(await Se(g))}for(let g=0;g<re.length;++g)for(let ge=g+1;ge<re.length;++ge){if(Q.token.isCancellationRequested)return!0;if(Pe(Ve[g],Ve[ge])){const We=f.Q.plusRange(re[g],re[ge]),de=await Se(We);re.splice(ge,1),re.splice(g,1),re.push(We),Ve.splice(ge,1),Ve.splice(g,1),Ve.push(de),g=0,ge=0}}}for(let g of Ve){if(Q.token.isCancellationRequested)return!0;const ge=await xe.computeMoreMinimalEdits(he.uri,g);ge&&Le.push(...ge)}}finally{Q.dispose()}if(Le.length===0)return!1;if(C.z9(V))b.c.execute(V,Le,!0),V.revealPositionInCenterIfOutsideViewport(V.getPosition(),1);else{const[{range:g}]=Le,ge=new p.L(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn);he.pushEditOperations([ge],Le.map((We)=>({text:We.text,range:f.Q.lift(We.range),forceMoveMarkers:!0})),(We)=>{for(let{range:de}of We)if(f.Q.areIntersectingOrTouching(de,ge))return[new p.L(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn)];return null})}return Ie.playSignal(L.Rh.format,{userGesture:Te}),!0}async function G(ne,H,V,Y,ve,Te){const xe=ne.get(P._Y),Be=ne.get(z.ILanguageFeaturesService),Ie=C.z9(H)?H.getModel():H,he=W(Be.documentFormattingEditProvider,Be.documentRangeFormattingEditProvider,Ie),Q=await B.select(he,Ie,V,1);Q&&(Y.report(Q),await xe.invokeFunction(ie,Q,H,V,ve,Te))}async function ie(ne,H,V,Y,ve,Te){const xe=ne.get(_.IEditorWorkerService),Be=ne.get(L.Nt);let Ie,he,Q;C.z9(V)?(Ie=V.getModel(),he=new w.gI(V,5,void 0,ve)):(Ie=V,he=new w.ER(V,ve));try{const re=await H.provideDocumentFormattingEdits(Ie,Ie.getFormattingOptions(),he.token);if(Q=await xe.computeMoreMinimalEdits(Ie.uri,re),he.token.isCancellationRequested)return!0}finally{he.dispose()}if(!Q||Q.length===0)return!1;if(C.z9(V))b.c.execute(V,Q,Y!==2),Y!==2&&V.revealPositionInCenterIfOutsideViewport(V.getPosition(),1);else{const[{range:re}]=Q,Je=new p.L(re.startLineNumber,re.startColumn,re.endLineNumber,re.endColumn);Ie.pushEditOperations([Je],Q.map((Se)=>({text:Se.text,range:f.Q.lift(Se.range),forceMoveMarkers:!0})),(Se)=>{for(let{range:Pe}of Se)if(f.Q.areIntersectingOrTouching(Pe,Je))return[new p.L(Pe.startLineNumber,Pe.startColumn,Pe.endLineNumber,Pe.endColumn)];return null})}return Be.playSignal(L.Rh.format,{userGesture:Te}),!0}function ee(ne,H,V,Y,ve,Te,xe){const Be=H.onTypeFormattingEditProvider.ordered(V);return Be.length===0||Be[0].autoFormatTriggerCharacters.indexOf(ve)<0?Promise.resolve(void 0):Promise.resolve(Be[0].provideOnTypeFormattingEdits(V,Y,ve,Te,xe)).catch(T.M_).then((Ie)=>ne.computeMoreMinimalEdits(V.uri,Ie))}x.w.registerCommand("_executeFormatRangeProvider",async function(ne,...H){const[V,Y,ve]=H;v.j(E.r.isUri(V)),v.j(f.Q.isIRange(Y));const Te=ne.get(m.ITextModelService),xe=ne.get(_.IEditorWorkerService),Be=ne.get(z.ILanguageFeaturesService),Ie=await Te.createModelReference(V);try{return async function(he,Q,re,Je,Se,Pe){const Le=Q.documentRangeFormattingEditProvider.ordered(re);for(let Ve of Le){const g=await Promise.resolve(Ve.provideDocumentRangeFormattingEdits(re,Je,Se,Pe)).catch(T.M_);if(s.EI(g))return await he.computeMoreMinimalEdits(re.uri,g)}}(xe,Be,Ie.object.textEditorModel,f.Q.lift(Y),ve,I.XO.None)}finally{Ie.dispose()}}),x.w.registerCommand("_executeFormatDocumentProvider",async function(ne,...H){const[V,Y]=H;v.j(E.r.isUri(V));const ve=ne.get(m.ITextModelService),Te=ne.get(_.IEditorWorkerService),xe=ne.get(z.ILanguageFeaturesService),Be=await ve.createModelReference(V);try{return async function(Ie,he,Q,re,Je){const Se=W(he.documentFormattingEditProvider,he.documentRangeFormattingEditProvider,Q);for(let Pe of Se){const Le=await Promise.resolve(Pe.provideDocumentFormattingEdits(Q,re,Je)).catch(T.M_);if(s.EI(Le))return await Ie.computeMoreMinimalEdits(Q.uri,Le)}}(Te,xe,Be.object.textEditorModel,Y,I.XO.None)}finally{Be.dispose()}}),x.w.registerCommand("_executeFormatOnTypeProvider",async function(ne,...H){const[V,Y,ve,Te]=H;v.j(E.r.isUri(V)),v.j(d.y.isIPosition(Y)),v.j(typeof ve=="string");const xe=ne.get(m.ITextModelService),Be=ne.get(_.IEditorWorkerService),Ie=ne.get(z.ILanguageFeaturesService),he=await xe.createModelReference(V);try{return ee(Be,Ie,he.object.textEditorModel,d.y.lift(Y),ve,Te,I.XO.None)}finally{he.dispose()}})},5406:(dt,pe,h)=>{h.d(pe,{c:()=>J});var s=h(3877),I=h(8061),T=h(878);class J{static _handleEolEdits(M,v){let E;const w=[];for(let C of v)typeof C.eol=="number"&&(E=C.eol),C.range&&typeof C.text=="string"&&w.push(C);return typeof E=="number"&&M.hasModel()&&M.getModel().pushEOL(E),w}static _isFullModelReplaceEdit(M,v){if(!M.hasModel())return!1;const E=M.getModel(),w=E.validateRange(v.range);return E.getFullModelRange().equalsRange(w)}static execute(M,v,E){E&&M.pushUndoStop();const w=T.D.capture(M),C=J._handleEolEdits(M,v);C.length===1&&J._isFullModelReplaceEdit(M,C[0])?M.executeEdits("formatEditsCommand",C.map((d)=>s.k.replace(I.Q.lift(d.range),d.text))):M.executeEdits("formatEditsCommand",C.map((d)=>s.k.replaceMove(I.Q.lift(d.range),d.text))),E&&M.pushUndoStop(),w.restoreRelativeVerticalPositionOfCursor(M)}}},6236:(dt,pe,h)=>{h.r(pe),h.d(pe,{CancellationTokenSource:()=>Fr,Emitter:()=>Dd,KeyCode:()=>Dc,KeyMod:()=>Md,MarkerSeverity:()=>Fd,MarkerTag:()=>Sl,Position:()=>Kl,Range:()=>ju,Selection:()=>ec,SelectionDirection:()=>Pd,Token:()=>Mc,Uri:()=>wl,editor:()=>eo,languages:()=>js});var s=h(6476),I=h(3059),T=h(8877),J=h(998),M=h(6844),v=h(7264),E=h(1106),w=h(946),C=h(7301),d=h(1386),f=h(5958),p=h(5585),_=h(3021),m=h(4327),b=h(3072),x=h(3338),k=h(9746);let R;R=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope"&&globalThis.workerttPolicy!==void 0?globalThis.workerttPolicy:_.H("defaultWorkerFactory",{createScriptURL:(a)=>a});class P extends J.jG{constructor(a,S,F,q,fe,Re){super(),this.id=F,this.label=q;const Ee=function(Ge,vt){const Ct=globalThis.MonacoEnvironment;if(Ct){if(typeof Ct.getWorker=="function")return Ct.getWorker("workerMain.js",vt);if(typeof Ct.getWorkerUrl=="function"){const an=Ct.getWorkerUrl("workerMain.js",vt);return new Worker(R?R.createScriptURL(an):an,{name:vt,type:"module"})}}if(Ge){const an=function(kn,jn){if(/^((http:)|(https:)|(file:)|(vscode-file:))/.test(jn)&&jn.substring(0,globalThis.origin.length)!==globalThis.origin);else{const gr=jn.lastIndexOf("?"),Ei=jn.lastIndexOf("#",gr),yr=gr>0?new URLSearchParams(jn.substring(gr+1,~Ei?Ei:void 0)):new URLSearchParams;b.SJ.addSearchParam(yr,!0,!0),jn=yr.toString()?`${jn}?${yr.toString()}#${kn}`:`${jn}#${kn}`}const bi=new Blob([x.Yc([`/*${kn}*/`,void 0,`globalThis._VSCODE_NLS_MESSAGES = ${JSON.stringify(k.Ec())};`,`globalThis._VSCODE_NLS_LANGUAGE = ${JSON.stringify(k.i8())};`,`globalThis._VSCODE_FILE_ROOT = '${globalThis._VSCODE_FILE_ROOT}';`,"const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });","globalThis.workerttPolicy = ttPolicy;",`await import(ttPolicy?.createScriptURL('${jn}') ?? '${jn}');`,"globalThis.postMessage({ type: 'vscode-worker-ready' });",`/*${kn}*/`]).join("")],{type:"application/javascript"});return URL.createObjectURL(bi)}(vt,Ge.toString(!0));return Qt=new Worker(R?R.createScriptURL(an):an,{name:vt,type:"module"}),new Promise((kn,jn)=>{Qt.onmessage=function(bi){bi.data.type==="vscode-worker-ready"&&(Qt.onmessage=null,kn(Qt))},Qt.onerror=jn})}var Qt;throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(a,q);typeof Ee.then=="function"?this.worker=Ee:this.worker=Promise.resolve(Ee),this.postMessage(S,[]),this.worker.then((Ge)=>{Ge.onmessage=function(vt){fe(vt.data)},Ge.onmessageerror=Re,typeof Ge.addEventListener=="function"&&Ge.addEventListener("error",Re)}),this._register(J.s(()=>{this.worker?.then((Ge)=>{Ge.onmessage=null,Ge.onmessageerror=null,Ge.removeEventListener("error",Re),Ge.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(a,S){this.worker?.then((F)=>{try{F.postMessage(a,S)}catch(q){m.dz(q),m.dz(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:q}))}})}}class z{constructor(a,S){this.amdModuleId=a,this.label=S,this.esmModuleLocation=b.zl.asBrowserUri(`${a}.esm.js`)}}class te{static{this.LAST_WORKER_ID=0}constructor(){this._webWorkerFailedBeforeError=!1}create(a,S,F){const q=++te.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new P(a.esmModuleLocation,a.amdModuleId,q,a.label||"anonymous"+q,S,(fe)=>{p.logOnceWebWorkerWarning(fe),this._webWorkerFailedBeforeError=fe,F(fe)})}}var L=h(8061),W=h(2394),B=h(735),U=h(4830),$=h(1504),G=h(6441),ie=h(3013),ee=h(2230),ne=h(3837),H=h(9331),V=h(9955),Y=h(4333),ve=h(5456),Te=h(6358),xe=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee},Be=function(a,S){return function(F,q){S(F,q,a)}};function Ie(a,S){const F=a.getModel(S);return!!F&&!F.isTooLargeForSyncing()}let he=class extends J.jG{constructor(a,S,F,q,fe,Re){super(),this._languageConfigurationService=fe,this._modelService=S,this._workerManager=this._register(new re(a,this._modelService)),this._logService=q,this._register(Re.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:async(Ee,Ge)=>{if(!Ie(this._modelService,Ee.uri))return Promise.resolve({links:[]});const vt=await this._workerWithResources([Ee.uri]),Ct=await vt.$computeLinks(Ee.uri.toString());return Ct&&{links:Ct}}})),this._register(Re.completionProvider.register("*",new Q(this._workerManager,F,this._modelService,this._languageConfigurationService)))}dispose(){super.dispose()}canComputeUnicodeHighlights(a){return Ie(this._modelService,a)}async computedUnicodeHighlights(a,S,F){return(await this._workerWithResources([a])).$computeUnicodeHighlights(a.toString(),S,F)}async computeDiff(a,S,F,q){const fe=await this._workerWithResources([a,S],!0),Re=await fe.$computeDiff(a.toString(),S.toString(),F,q);return Re?{identical:Re.identical,quitEarly:Re.quitEarly,changes:Ee(Re.changes),moves:Re.moves.map((Ge)=>new ne.t(new H.WL(new V.M(Ge[0],Ge[1]),new V.M(Ge[2],Ge[3])),Ee(Ge[4])))}:null;function Ee(Ge){return Ge.map((vt)=>new H.wm(new V.M(vt[0],vt[1]),new V.M(vt[2],vt[3]),vt[4]?.map((Ct)=>new H.q6(new L.Q(Ct[0],Ct[1],Ct[2],Ct[3]),new L.Q(Ct[4],Ct[5],Ct[6],Ct[7])))))}}async computeMoreMinimalEdits(a,S,F=!1){if(x.EI(S)){if(!Ie(this._modelService,a))return Promise.resolve(S);const q=ie.W.create(),fe=this._workerWithResources([a]).then((Re)=>Re.$computeMoreMinimalEdits(a.toString(),S,F));return fe.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",a.toString(!0),q.elapsed())),Promise.race([fe,f.wR(1000).then(()=>S)])}return Promise.resolve(void 0)}canNavigateValueSet(a){return Ie(this._modelService,a)}async navigateValueSet(a,S,F){const q=this._modelService.getModel(a);if(!q)return null;const fe=this._languageConfigurationService.getLanguageConfiguration(q.getLanguageId()).getWordDefinition(),Re=fe.source,Ee=fe.flags;return(await this._workerWithResources([a])).$navigateValueSet(a.toString(),S,F,Re,Ee)}canComputeWordRanges(a){return Ie(this._modelService,a)}async computeWordRanges(a,S){const F=this._modelService.getModel(a);if(!F)return Promise.resolve(null);const q=this._languageConfigurationService.getLanguageConfiguration(F.getLanguageId()).getWordDefinition(),fe=q.source,Re=q.flags;return(await this._workerWithResources([a])).$computeWordRanges(a.toString(),S,fe,Re)}async findSectionHeaders(a,S){return(await this._workerWithResources([a])).$findSectionHeaders(a.toString(),S)}async computeDefaultDocumentColors(a){return(await this._workerWithResources([a])).$computeDefaultDocumentColors(a.toString())}async _workerWithResources(a,S=!1){return await(await this._workerManager.withWorker()).workerWithSyncedResources(a,S)}};he=xe([Be(1,U.IModelService),Be(2,$.ITextResourceConfigurationService),Be(3,G.rr),Be(4,W.JZ),Be(5,ee.ILanguageFeaturesService)],he);class Q{constructor(a,S,F,q){this.languageConfigurationService=q,this._debugDisplayName="wordbasedCompletions",this._workerManager=a,this._configurationService=S,this._modelService=F}async provideCompletionItems(a,S){const F=this._configurationService.getValue(a.uri,S,"editor");if(F.wordBasedSuggestions==="off")return;const q=[];if(F.wordBasedSuggestions==="currentDocument")Ie(this._modelService,a.uri)&&q.push(a.uri);else for(let Qt of this._modelService.getModels())Ie(this._modelService,Qt.uri)&&(Qt===a?q.unshift(Qt.uri):F.wordBasedSuggestions!=="allDocuments"&&Qt.getLanguageId()!==a.getLanguageId()||q.push(Qt.uri));if(q.length===0)return;const fe=this.languageConfigurationService.getLanguageConfiguration(a.getLanguageId()).getWordDefinition(),Re=a.getWordAtPosition(S),Ee=Re?new L.Q(S.lineNumber,Re.startColumn,S.lineNumber,Re.endColumn):L.Q.fromPositions(S),Ge=Ee.setEndPosition(S.lineNumber,S.column),vt=await this._workerManager.withWorker(),Ct=await vt.textualSuggest(q,Re?.word,fe);return Ct?{duration:Ct.duration,suggestions:Ct.words.map((Qt)=>({kind:18,label:Qt,insertText:Qt,range:{insert:Ge,replace:Ee}}))}:void 0}}let re=class extends J.jG{constructor(a,S){super(),this._workerDescriptor=a,this._modelService=S,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new Y.Be).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(150000),T.G),this._register(this._modelService.onModelRemoved((F)=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&new Date().getTime()-this._lastWorkerUsedTime>300000&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Se(this._workerDescriptor,!1,this._modelService)),Promise.resolve(this._editorWorkerClient)}};re=xe([Be(1,U.IModelService)],re);class Je{constructor(a){this._instance=a,this.proxy=this._instance}dispose(){this._instance.dispose()}setChannel(a,S){throw new Error("Not supported")}}let Se=class extends J.jG{constructor(a,S,F){super(),this._workerDescriptor=a,this._disposed=!1,this._modelService=F,this._keepIdleModels=S,this._worker=null,this._modelManager=null}fhr(a,S){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(function(a){const S=typeof a=="string"?new z(a,void 0):a;return new p.SimpleWorkerClient(new te,S)}(this._workerDescriptor)),Te.EditorWorkerHost.setChannel(this._worker,this._createEditorWorkerHost())}catch(a){p.logOnceWebWorkerWarning(a),this._worker=this._createFallbackLocalWorker()}return this._worker}async _getProxy(){try{const a=this._getOrCreateWorker().proxy;return await a.$ping(),a}catch(a){return p.logOnceWebWorkerWarning(a),this._worker=this._createFallbackLocalWorker(),this._worker.proxy}}_createFallbackLocalWorker(){return new Je(new B.EditorSimpleWorker(this._createEditorWorkerHost(),null))}_createEditorWorkerHost(){return{$fhr:(a,S)=>this.fhr(a,S)}}_getOrCreateModelManager(a){return this._modelManager||(this._modelManager=this._register(new ve.WorkerTextModelSyncClient(a,this._modelService,this._keepIdleModels))),this._modelManager}async workerWithSyncedResources(a,S=!1){if(this._disposed)return Promise.reject(m.aD());const F=await this._getProxy();return this._getOrCreateModelManager(F).ensureSyncedResources(a,S),F}async textualSuggest(a,S,F){const q=await this.workerWithSyncedResources(a),fe=F.source,Re=F.flags;return q.$textualSuggest(a.map((Ee)=>Ee.toString()),S,fe,Re)}dispose(){super.dispose(),this._disposed=!0}};Se=xe([Be(2,U.IModelService)],Se);var Pe=h(2106),Le=h(5525),Ve=h(9044);let g=class extends J.jG{constructor(a){super(),this._themeService=a,this._onWillCreateCodeEditor=this._register(new Pe.vl),this._onCodeEditorAdd=this._register(new Pe.vl),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Pe.vl),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new Pe.vl),this._onDiffEditorAdd=this._register(new Pe.vl),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new Pe.vl),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Le.w,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(a){this._codeEditors[a.getId()]=a,this._onCodeEditorAdd.fire(a)}removeCodeEditor(a){delete this._codeEditors[a.getId()]&&this._onCodeEditorRemove.fire(a)}listCodeEditors(){return Object.keys(this._codeEditors).map((a)=>this._codeEditors[a])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(a){this._diffEditors[a.getId()]=a,this._onDiffEditorAdd.fire(a)}listDiffEditors(){return Object.keys(this._diffEditors).map((a)=>this._diffEditors[a])}getFocusedCodeEditor(){let a=null;const S=this.listCodeEditors();for(let F of S){if(F.hasTextFocus())return F;F.hasWidgetFocus()&&(a=F)}return a}removeDecorationType(a){const S=this._decorationOptionProviders.get(a);S&&(S.refCount--,S.refCount<=0&&(this._decorationOptionProviders.delete(a),S.dispose(),this.listCodeEditors().forEach((F)=>F.removeDecorationsByType(a))))}setModelProperty(a,S,F){const q=a.toString();let fe;this._modelProperties.has(q)?fe=this._modelProperties.get(q):(fe=new Map,this._modelProperties.set(q,fe)),fe.set(S,F)}getModelProperty(a,S){const F=a.toString();if(this._modelProperties.has(F))return this._modelProperties.get(F).get(S)}async openCodeEditor(a,S,F){for(let q of this._codeEditorOpenHandlers){const fe=await q(a,S,F);if(fe!==null)return fe}return null}registerCodeEditorOpenHandler(a){const S=this._codeEditorOpenHandlers.unshift(a);return J.s(S)}};var ge,We;g=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([(ge=0,We=Ve.Gy,function(a,S){We(a,S,ge)})],g);var de=h(1540),be=h(6726),ae=function(a,S){return function(F,q){S(F,q,a)}};let O=class extends g{constructor(a,S){super(S),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=a.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(F,q,fe)=>q?this.doOpenEditor(q,F):null))}_checkContextKey(){let a=!1;for(let S of this.listCodeEditors())if(!S.isSimpleWidget){a=!0;break}this._editorIsOpen.set(a)}setActiveCodeEditor(a){this._activeCodeEditor=a}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(a,S){if(!this.findModel(a,S.resource)){if(S.resource){const q=S.resource.scheme;if(q===b.ny.http||q===b.ny.https)return Y.CE(S.resource.toString()),a}return null}const F=S.options?S.options.selection:null;if(F)if(typeof F.endLineNumber=="number"&&typeof F.endColumn=="number")a.setSelection(F),a.revealRangeInCenter(F,1);else{const q={lineNumber:F.startLineNumber,column:F.startColumn};a.setPosition(q),a.revealPositionInCenter(q,1)}return a}findModel(a,S){const F=a.getModel();return F&&F.uri.toString()!==S.toString()?null:F}};O=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([ae(0,de.fN),ae(1,Ve.Gy)],O),be.v(C.T,O,0);var Ue=h(2399);const Ye=Ue.u1("layoutService");var Fe=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee},oe=function(a,S){return function(F,q){S(F,q,a)}};let rt=class{get mainContainer(){return x.Fy(this._codeEditorService.listCodeEditors())?.getContainerDomNode()??T.G.document.body}get activeContainer(){return(this._codeEditorService.getFocusedCodeEditor()??this._codeEditorService.getActiveCodeEditor())?.getContainerDomNode()??this.mainContainer}get mainContainerDimension(){return Y.tG(this.mainContainer)}get activeContainerDimension(){return Y.tG(this.activeContainer)}get containers(){return x.Yc(this._codeEditorService.listCodeEditors().map((a)=>a.getContainerDomNode()))}getContainer(){return this.activeContainer}whenContainerStylesLoaded(){}focus(){this._codeEditorService.getFocusedCodeEditor()?.focus()}constructor(a){this._codeEditorService=a,this.onDidLayoutMainContainer=Pe.Jh.None,this.onDidLayoutActiveContainer=Pe.Jh.None,this.onDidLayoutContainer=Pe.Jh.None,this.onDidChangeActiveContainer=Pe.Jh.None,this.onDidAddContainer=Pe.Jh.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};rt=Fe([oe(0,C.T)],rt);let lt=class extends rt{get mainContainer(){return this._container}constructor(a,S){super(S),this._container=a}};lt=Fe([oe(1,C.T)],lt),be.v(Ye,rt,1);var ye=h(6459),pt=h(4535),Mt=h(9879),Zt=h(8803),jt=function(a,S){return function(F,q){S(F,q,a)}};function xn(a){return a.scheme===b.ny.file?a.fsPath:a.path}let nn=0;class gn{constructor(a,S,F,q,fe,Re,Ee){this.id=++nn,this.type=0,this.actual=a,this.label=a.label,this.confirmBeforeUndo=a.confirmBeforeUndo||!1,this.resourceLabel=S,this.strResource=F,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=q,this.groupOrder=fe,this.sourceId=Re,this.sourceOrder=Ee,this.isValid=!0}setValid(a){this.isValid=a}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class pn{constructor(a,S){this.resourceLabel=a,this.reason=S}}class rn{constructor(){this.elements=new Map}createMessage(){const a=[],S=[];for(let[,q]of this.elements)(q.reason===0?a:S).push(q.resourceLabel);const F=[];return a.length>0&&F.push(k.kg({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",a.join(", "))),S.length>0&&F.push(k.kg({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",S.join(", "))),F.join("\n")}get size(){return this.elements.size}has(a){return this.elements.has(a)}set(a,S){this.elements.set(a,S)}delete(a){return this.elements.delete(a)}}class Sn{constructor(a,S,F,q,fe,Re,Ee){this.id=++nn,this.type=1,this.actual=a,this.label=a.label,this.confirmBeforeUndo=a.confirmBeforeUndo||!1,this.resourceLabels=S,this.strResources=F,this.groupId=q,this.groupOrder=fe,this.sourceId=Re,this.sourceOrder=Ee,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(a,S,F){this.removedResources||(this.removedResources=new rn),this.removedResources.has(S)||this.removedResources.set(S,new pn(a,F))}setValid(a,S,F){F?this.invalidatedResources&&(this.invalidatedResources.delete(S),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new rn),this.invalidatedResources.has(S)||this.invalidatedResources.set(S,new pn(a,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Mn{constructor(a,S){this.resourceLabel=a,this.strResource=S,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(let a of this._past)a.type===1&&a.removeResource(this.resourceLabel,this.strResource,0);for(let a of this._future)a.type===1&&a.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const a=[];a.push(`* ${this.strResource}:`);for(let S=0;S<this._past.length;S++)a.push(`   * [UNDO] ${this._past[S]}`);for(let S=this._future.length-1;S>=0;S--)a.push(`   * [REDO] ${this._future[S]}`);return a.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(a,S){a.type===1?a.setValid(this.resourceLabel,this.strResource,S):a.setValid(S)}setElementsValidFlag(a,S){for(let F of this._past)S(F.actual)&&this._setElementValidFlag(F,a);for(let F of this._future)S(F.actual)&&this._setElementValidFlag(F,a)}pushElement(a){for(let S of this._future)S.type===1&&S.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(a),this.versionId++}createSnapshot(a){const S=[];for(let F=0,q=this._past.length;F<q;F++)S.push(this._past[F].id);for(let F=this._future.length-1;F>=0;F--)S.push(this._future[F].id);return new Zt.To(a,S)}restoreSnapshot(a){const S=a.elements.length;let F=!0,q=0,fe=-1;for(let Ee=0,Ge=this._past.length;Ee<Ge;Ee++,q++){const vt=this._past[Ee];F&&(q>=S||vt.id!==a.elements[q])&&(F=!1,fe=0),F||vt.type!==1||vt.removeResource(this.resourceLabel,this.strResource,0)}let Re=-1;for(let Ee=this._future.length-1;Ee>=0;Ee--,q++){const Ge=this._future[Ee];F&&(q>=S||Ge.id!==a.elements[q])&&(F=!1,Re=Ee),F||Ge.type!==1||Ge.removeResource(this.resourceLabel,this.strResource,0)}fe!==-1&&(this._past=this._past.slice(0,fe)),Re!==-1&&(this._future=this._future.slice(Re+1)),this.versionId++}getElements(){const a=[],S=[];for(let F of this._past)a.push(F.actual);for(let F of this._future)S.push(F.actual);return{past:a,future:S}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(a,S){for(let F=this._past.length-1;F>=0;F--)if(this._past[F]===a){S.has(this.strResource)?this._past[F]=S.get(this.strResource):this._past.splice(F,1);break}this.versionId++}splitFutureWorkspaceElement(a,S){for(let F=this._future.length-1;F>=0;F--)if(this._future[F]===a){S.has(this.strResource)?this._future[F]=S.get(this.strResource):this._future.splice(F,1);break}this.versionId++}moveBackward(a){this._past.pop(),this._future.push(a),this.versionId++}moveForward(a){this._future.pop(),this._past.push(a),this.versionId++}}class Bn{constructor(a){this.editStacks=a,this._versionIds=[];for(let S=0,F=this.editStacks.length;S<F;S++)this._versionIds[S]=this.editStacks[S].versionId}isValid(){for(let a=0,S=this.editStacks.length;a<S;a++)if(this._versionIds[a]!==this.editStacks[a].versionId)return!1;return!0}}const wi=new Mn("","");wi.locked=!0;let Mi=class{constructor(a,S){this._dialogService=a,this._notificationService=S,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(a){for(let S of this._uriComparisonKeyComputers)if(S[0]===a.scheme)return S[1].getComparisonKey(a);return a.toString()}_print(a){console.log("------------------------------------"),console.log(`AFTER ${a}: `);const S=[];for(let F of this._editStacks)S.push(F[1].toString());console.log(S.join("\n"))}pushElement(a,S=Zt.I_.None,F=Zt.Ym.None){if(a.type===0){const q=xn(a.resource),fe=this.getUriComparisonKey(a.resource);this._pushElement(new gn(a,q,fe,S.id,S.nextOrder(),F.id,F.nextOrder()))}else{const q=new Set,fe=[],Re=[];for(let Ee of a.resources){const Ge=xn(Ee),vt=this.getUriComparisonKey(Ee);q.has(vt)||(q.add(vt),fe.push(Ge),Re.push(vt))}fe.length===1?this._pushElement(new gn(a,fe[0],Re[0],S.id,S.nextOrder(),F.id,F.nextOrder())):this._pushElement(new Sn(a,fe,Re,S.id,S.nextOrder(),F.id,F.nextOrder()))}}_pushElement(a){for(let S=0,F=a.strResources.length;S<F;S++){const q=a.resourceLabels[S],fe=a.strResources[S];let Re;this._editStacks.has(fe)?Re=this._editStacks.get(fe):(Re=new Mn(q,fe),this._editStacks.set(fe,Re)),Re.pushElement(a)}}getLastElement(a){const S=this.getUriComparisonKey(a);if(this._editStacks.has(S)){const F=this._editStacks.get(S);if(F.hasFutureElements())return null;const q=F.getClosestPastElement();return q?q.actual:null}return null}_splitPastWorkspaceElement(a,S){const F=a.actual.split(),q=new Map;for(let fe of F){const Re=xn(fe.resource),Ee=this.getUriComparisonKey(fe.resource),Ge=new gn(fe,Re,Ee,0,0,0,0);q.set(Ge.strResource,Ge)}for(let fe of a.strResources)S&&S.has(fe)||this._editStacks.get(fe).splitPastWorkspaceElement(a,q)}_splitFutureWorkspaceElement(a,S){const F=a.actual.split(),q=new Map;for(let fe of F){const Re=xn(fe.resource),Ee=this.getUriComparisonKey(fe.resource),Ge=new gn(fe,Re,Ee,0,0,0,0);q.set(Ge.strResource,Ge)}for(let fe of a.strResources)S&&S.has(fe)||this._editStacks.get(fe).splitFutureWorkspaceElement(a,q)}removeElements(a){const S=typeof a=="string"?a:this.getUriComparisonKey(a);this._editStacks.has(S)&&(this._editStacks.get(S).dispose(),this._editStacks.delete(S))}setElementsValidFlag(a,S,F){const q=this.getUriComparisonKey(a);this._editStacks.has(q)&&this._editStacks.get(q).setElementsValidFlag(S,F)}createSnapshot(a){const S=this.getUriComparisonKey(a);return this._editStacks.has(S)?this._editStacks.get(S).createSnapshot(a):new Zt.To(a,[])}restoreSnapshot(a){const S=this.getUriComparisonKey(a.resource);if(this._editStacks.has(S)){const F=this._editStacks.get(S);F.restoreSnapshot(a),F.hasPastElements()||F.hasFutureElements()||(F.dispose(),this._editStacks.delete(S))}}getElements(a){const S=this.getUriComparisonKey(a);return this._editStacks.has(S)?this._editStacks.get(S).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(a){if(!a)return[null,null];let S=null,F=null;for(let[q,fe]of this._editStacks){const Re=fe.getClosestPastElement();Re&&Re.sourceId===a&&(!S||Re.sourceOrder>S.sourceOrder)&&(S=Re,F=q)}return[S,F]}canUndo(a){if(a instanceof Zt.Ym){const[,F]=this._findClosestUndoElementWithSource(a.id);return!!F}const S=this.getUriComparisonKey(a);return!!this._editStacks.has(S)&&this._editStacks.get(S).hasPastElements()}_onError(a,S){m.dz(a);for(let F of S.strResources)this.removeElements(F);this._notificationService.error(a)}_acquireLocks(a){for(let S of a.editStacks)if(S.locked)throw new Error("Cannot acquire edit stack lock");for(let S of a.editStacks)S.locked=!0;return()=>{for(let S of a.editStacks)S.locked=!1}}_safeInvokeWithLocks(a,S,F,q,fe){const Re=this._acquireLocks(F);let Ee;try{Ee=S()}catch(Ge){return Re(),q.dispose(),this._onError(Ge,a)}return Ee?Ee.then(()=>(Re(),q.dispose(),fe()),(Ge)=>(Re(),q.dispose(),this._onError(Ge,a))):(Re(),q.dispose(),fe())}async _invokeWorkspacePrepare(a){if(a.actual.prepareUndoRedo===void 0)return J.jG.None;const S=a.actual.prepareUndoRedo();return S===void 0?J.jG.None:S}_invokeResourcePrepare(a,S){if(a.actual.type!==1||a.actual.prepareUndoRedo===void 0)return S(J.jG.None);const F=a.actual.prepareUndoRedo();return F?J.Xm(F)?S(F):F.then((q)=>S(q)):S(J.jG.None)}_getAffectedEditStacks(a){const S=[];for(let F of a.strResources)S.push(this._editStacks.get(F)||wi);return new Bn(S)}_tryToSplitAndUndo(a,S,F,q){if(S.canSplit())return this._splitPastWorkspaceElement(S,F),this._notificationService.warn(q),new Oi(this._undo(a,0,!0));for(let fe of S.strResources)this.removeElements(fe);return this._notificationService.warn(q),new Oi}_checkWorkspaceUndo(a,S,F,q){if(S.removedResources)return this._tryToSplitAndUndo(a,S,S.removedResources,k.kg({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",S.label,S.removedResources.createMessage()));if(q&&S.invalidatedResources)return this._tryToSplitAndUndo(a,S,S.invalidatedResources,k.kg({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",S.label,S.invalidatedResources.createMessage()));const fe=[];for(let Ee of F.editStacks)Ee.getClosestPastElement()!==S&&fe.push(Ee.resourceLabel);if(fe.length>0)return this._tryToSplitAndUndo(a,S,null,k.kg({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",S.label,fe.join(", ")));const Re=[];for(let Ee of F.editStacks)Ee.locked&&Re.push(Ee.resourceLabel);return Re.length>0?this._tryToSplitAndUndo(a,S,null,k.kg({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",S.label,Re.join(", "))):F.isValid()?null:this._tryToSplitAndUndo(a,S,null,k.kg({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",S.label))}_workspaceUndo(a,S,F){const q=this._getAffectedEditStacks(S),fe=this._checkWorkspaceUndo(a,S,q,!1);return fe?fe.returnValue:this._confirmAndExecuteWorkspaceUndo(a,S,q,F)}_isPartOfUndoGroup(a){if(!a.groupId)return!1;for(let[,S]of this._editStacks){const F=S.getClosestPastElement();if(F){if(F===a){const q=S.getSecondClosestPastElement();if(q&&q.groupId===a.groupId)return!0}if(F.groupId===a.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(a,S,F,q){if(S.canSplit()&&!this._isPartOfUndoGroup(S)){let Ee;(function(Ct){Ct[Ct.All=0]="All",Ct[Ct.This=1]="This",Ct[Ct.Cancel=2]="Cancel"})(Ee||(Ee={}));const{result:Ge}=await this._dialogService.prompt({type:ye.A.Info,message:k.kg("confirmWorkspace","Would you like to undo '{0}' across all files?",S.label),buttons:[{label:k.kg({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",F.editStacks.length),run:()=>Ee.All},{label:k.kg({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>Ee.This}],cancelButton:{run:()=>Ee.Cancel}});if(Ge===Ee.Cancel)return;if(Ge===Ee.This)return this._splitPastWorkspaceElement(S,null),this._undo(a,0,!0);const vt=this._checkWorkspaceUndo(a,S,F,!1);if(vt)return vt.returnValue;q=!0}let fe;try{fe=await this._invokeWorkspacePrepare(S)}catch(Ee){return this._onError(Ee,S)}const Re=this._checkWorkspaceUndo(a,S,F,!0);if(Re)return fe.dispose(),Re.returnValue;for(let Ee of F.editStacks)Ee.moveBackward(S);return this._safeInvokeWithLocks(S,()=>S.actual.undo(),F,fe,()=>this._continueUndoInGroup(S.groupId,q))}_resourceUndo(a,S,F){if(S.isValid){if(!a.locked)return this._invokeResourcePrepare(S,(q)=>(a.moveBackward(S),this._safeInvokeWithLocks(S,()=>S.actual.undo(),new Bn([a]),q,()=>this._continueUndoInGroup(S.groupId,F))));{const q=k.kg({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",S.label);this._notificationService.warn(q)}}else a.flushAllElements()}_findClosestUndoElementInGroup(a){if(!a)return[null,null];let S=null,F=null;for(let[q,fe]of this._editStacks){const Re=fe.getClosestPastElement();Re&&Re.groupId===a&&(!S||Re.groupOrder>S.groupOrder)&&(S=Re,F=q)}return[S,F]}_continueUndoInGroup(a,S){if(!a)return;const[,F]=this._findClosestUndoElementInGroup(a);return F?this._undo(F,0,S):void 0}undo(a){if(a instanceof Zt.Ym){const[,S]=this._findClosestUndoElementWithSource(a.id);return S?this._undo(S,a.id,!1):void 0}return typeof a=="string"?this._undo(a,0,!1):this._undo(this.getUriComparisonKey(a),0,!1)}_undo(a,S=0,F){if(!this._editStacks.has(a))return;const q=this._editStacks.get(a),fe=q.getClosestPastElement();if(fe){if(fe.groupId){const[Re,Ee]=this._findClosestUndoElementInGroup(fe.groupId);if(fe!==Re&&Ee)return this._undo(Ee,S,F)}if((fe.sourceId!==S||fe.confirmBeforeUndo)&&!F)return this._confirmAndContinueUndo(a,S,fe);try{return fe.type===1?this._workspaceUndo(a,fe,F):this._resourceUndo(q,fe,F)}finally{}}}async _confirmAndContinueUndo(a,S,F){if((await this._dialogService.confirm({message:k.kg("confirmDifferentSource","Would you like to undo '{0}'?",F.label),primaryButton:k.kg({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:k.kg("confirmDifferentSource.no","No")})).confirmed)return this._undo(a,S,!0)}_findClosestRedoElementWithSource(a){if(!a)return[null,null];let S=null,F=null;for(let[q,fe]of this._editStacks){const Re=fe.getClosestFutureElement();Re&&Re.sourceId===a&&(!S||Re.sourceOrder<S.sourceOrder)&&(S=Re,F=q)}return[S,F]}canRedo(a){if(a instanceof Zt.Ym){const[,F]=this._findClosestRedoElementWithSource(a.id);return!!F}const S=this.getUriComparisonKey(a);return!!this._editStacks.has(S)&&this._editStacks.get(S).hasFutureElements()}_tryToSplitAndRedo(a,S,F,q){if(S.canSplit())return this._splitFutureWorkspaceElement(S,F),this._notificationService.warn(q),new Oi(this._redo(a));for(let fe of S.strResources)this.removeElements(fe);return this._notificationService.warn(q),new Oi}_checkWorkspaceRedo(a,S,F,q){if(S.removedResources)return this._tryToSplitAndRedo(a,S,S.removedResources,k.kg({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",S.label,S.removedResources.createMessage()));if(q&&S.invalidatedResources)return this._tryToSplitAndRedo(a,S,S.invalidatedResources,k.kg({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",S.label,S.invalidatedResources.createMessage()));const fe=[];for(let Ee of F.editStacks)Ee.getClosestFutureElement()!==S&&fe.push(Ee.resourceLabel);if(fe.length>0)return this._tryToSplitAndRedo(a,S,null,k.kg({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",S.label,fe.join(", ")));const Re=[];for(let Ee of F.editStacks)Ee.locked&&Re.push(Ee.resourceLabel);return Re.length>0?this._tryToSplitAndRedo(a,S,null,k.kg({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",S.label,Re.join(", "))):F.isValid()?null:this._tryToSplitAndRedo(a,S,null,k.kg({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",S.label))}_workspaceRedo(a,S){const F=this._getAffectedEditStacks(S),q=this._checkWorkspaceRedo(a,S,F,!1);return q?q.returnValue:this._executeWorkspaceRedo(a,S,F)}async _executeWorkspaceRedo(a,S,F){let q;try{q=await this._invokeWorkspacePrepare(S)}catch(Re){return this._onError(Re,S)}const fe=this._checkWorkspaceRedo(a,S,F,!0);if(fe)return q.dispose(),fe.returnValue;for(let Re of F.editStacks)Re.moveForward(S);return this._safeInvokeWithLocks(S,()=>S.actual.redo(),F,q,()=>this._continueRedoInGroup(S.groupId))}_resourceRedo(a,S){if(S.isValid){if(!a.locked)return this._invokeResourcePrepare(S,(F)=>(a.moveForward(S),this._safeInvokeWithLocks(S,()=>S.actual.redo(),new Bn([a]),F,()=>this._continueRedoInGroup(S.groupId))));{const F=k.kg({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",S.label);this._notificationService.warn(F)}}else a.flushAllElements()}_findClosestRedoElementInGroup(a){if(!a)return[null,null];let S=null,F=null;for(let[q,fe]of this._editStacks){const Re=fe.getClosestFutureElement();Re&&Re.groupId===a&&(!S||Re.groupOrder<S.groupOrder)&&(S=Re,F=q)}return[S,F]}_continueRedoInGroup(a){if(!a)return;const[,S]=this._findClosestRedoElementInGroup(a);return S?this._redo(S):void 0}redo(a){if(a instanceof Zt.Ym){const[,S]=this._findClosestRedoElementWithSource(a.id);return S?this._redo(S):void 0}return typeof a=="string"?this._redo(a):this._redo(this.getUriComparisonKey(a))}_redo(a){if(!this._editStacks.has(a))return;const S=this._editStacks.get(a),F=S.getClosestFutureElement();if(F){if(F.groupId){const[q,fe]=this._findClosestRedoElementInGroup(F.groupId);if(F!==q&&fe)return this._redo(fe)}try{return F.type===1?this._workspaceRedo(a,F):this._resourceRedo(S,F)}finally{}}}};Mi=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([jt(0,pt.X),jt(1,Mt.Ot)],Mi);class Oi{constructor(a){this.returnValue=a}}be.v(Zt.$D,Mi,1),h(2060),h(8148),h(1197);var En=h(559),li=h(428),si=h(2348),ti=h(6071),Ln=h(5753),Xn=h(9179),xi=h(5222),Ni=h(4435),Ii=h(3550),er=h(28),Zi=h(3339),tr=h(3909),rr=h(9407),yi=function(a,S){return function(F,q){S(F,q,a)}};const un=Y.$;let ft=class extends xi.x{get _targetWindow(){return Y.zk(this._target.targetElements[0])}get _targetDocumentElement(){return Y.zk(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(a){this._isLocked!==a&&(this._isLocked=a,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(a,S,F,q,fe,Re){super(),this._keybindingService=S,this._configurationService=F,this._openerService=q,this._instantiationService=fe,this._accessibilityService=Re,this._messageListeners=new J.Cm,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new Pe.vl),this._onRequestLayout=this._register(new Pe.vl),this._linkHandler=a.linkHandler||((an)=>Ii.i(this._openerService,an,er.VS(a.content)?a.content.isTrusted:void 0)),this._target="targetElements"in a.target?a.target:new Nt(a.target),this._hoverPointer=a.appearance?.showPointer?un("div.workbench-hover-pointer"):void 0,this._hover=this._register(new Xn.N4),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),a.appearance?.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),a.appearance?.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),a.additionalClasses&&this._hover.containerDomNode.classList.add(...a.additionalClasses),a.position?.forcePosition&&(this._forcePosition=!0),a.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=a.position?.hoverPosition??3,this.onmousedown(this._hover.containerDomNode,(an)=>an.stopPropagation()),this.onkeydown(this._hover.containerDomNode,(an)=>{an.equals(9)&&this.dispose()}),this._register(Y.ko(this._targetWindow,"blur",()=>this.dispose()));const Ee=un("div.hover-row.markdown-hover"),Ge=un("div.hover-contents");if(typeof a.content=="string")Ge.textContent=a.content,Ge.style.whiteSpace="pre-wrap";else if(Y.sb(a.content))Ge.appendChild(a.content),Ge.classList.add("html-hover-contents");else{const an=a.content,kn=this._instantiationService.createInstance(Ii.T,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||s.jU.fontFamily}),{element:jn}=kn.render(an,{actionHandler:{callback:(bi)=>this._linkHandler(bi),disposables:this._messageListeners},asyncRenderCallback:()=>{Ge.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});Ge.appendChild(jn)}if(Ee.appendChild(Ge),this._hover.contentsDomNode.appendChild(Ee),a.actions&&a.actions.length>0){const an=un("div.hover-row.status-bar"),kn=un("div.actions");a.actions.forEach((jn)=>{const bi=this._keybindingService.lookupKeybinding(jn.commandId),gr=bi?bi.getLabel():null;Xn.jQ.render(kn,{label:jn.label,commandId:jn.commandId,run:(Ei)=>{jn.run(Ei),this.dispose()},iconClass:jn.iconClass},gr)}),an.appendChild(kn),this._hover.containerDomNode.appendChild(an)}let vt;if(this._hoverContainer=un("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode),vt=!(a.actions&&a.actions.length>0)&&(a.persistence?.hideOnHover===void 0?typeof a.content=="string"||er.VS(a.content)&&!a.content.value.includes("](")&&!a.content.value.includes("</a>"):a.persistence.hideOnHover),a.appearance?.showHoverHint){const an=un("div.hover-row.status-bar"),kn=un("div.info");kn.textContent=k.kg("hoverhint","Hold {0} key to mouse over",Zi.zx?"Option":"Alt"),an.appendChild(kn),this._hover.containerDomNode.appendChild(an)}const Ct=[...this._target.targetElements];vt||Ct.push(this._hoverContainer);const Qt=this._register(new Yn(Ct));if(this._register(Qt.onMouseOut(()=>{this._isLocked||this.dispose()})),vt){const an=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new Yn(an)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=Qt}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const a=this._hover.containerDomNode,S=this.findLastFocusableChild(this._hover.containerDomNode);if(S){const F=Y.Hs(this._hoverContainer,un("div")),q=Y.BC(this._hoverContainer,un("div"));F.tabIndex=0,q.tabIndex=0,this._register(Y.ko(q,"focus",(fe)=>{a.focus(),fe.preventDefault()})),this._register(Y.ko(F,"focus",(fe)=>{S.focus(),fe.preventDefault()}))}}findLastFocusableChild(a){if(a.hasChildNodes())for(let S=0;S<a.childNodes.length;S++){const F=a.childNodes.item(a.childNodes.length-S-1);if(F.nodeType===F.ELEMENT_NODE){const fe=F;if(typeof fe.tabIndex=="number"&&fe.tabIndex>=0)return fe}const q=this.findLastFocusableChild(F);if(q)return q}}render(a){a.appendChild(this._hoverContainer);const S=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&Xn.vr(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),this._keybindingService.lookupKeybinding("editor.action.accessibleView")?.getAriaLabel());S&&rr.h5(S),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const a=this._target.targetElements.map((vt)=>((Ct)=>{const Qt=Y.mU(Ct),an=Ct.getBoundingClientRect();return{top:an.top*Qt,bottom:an.bottom*Qt,right:an.right*Qt,left:an.left*Qt}})(vt)),{top:S,right:F,bottom:q,left:fe}=a[0],Re=F-fe,Ee=q-S,Ge={top:S,right:F,bottom:q,left:fe,width:Re,height:Ee,center:{x:fe+Re/2,y:S+Ee/2}};if(this.adjustHorizontalHoverPosition(Ge),this.adjustVerticalHoverPosition(Ge),this.adjustHoverMaxHeight(Ge),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:Ge.left+=3,Ge.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:Ge.left-=3,Ge.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:Ge.top+=3,Ge.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:Ge.top-=3,Ge.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px"}Ge.center.x=Ge.left+Re/2,Ge.center.y=Ge.top+Ee/2}this.computeXCordinate(Ge),this.computeYCordinate(Ge),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(Ge)),this._hover.onContentsChanged()}computeXCordinate(a){const S=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=a.right:this._hoverPosition===0?this._x=a.left-S:(this._hoverPointer?this._x=a.center.x-this._hover.containerDomNode.clientWidth/2:this._x=a.left,this._x+S>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-S-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=a.left+2)}computeYCordinate(a){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=a.top:this._hoverPosition===2?this._y=a.bottom-2:this._hoverPointer?this._y=a.center.y+this._hover.containerDomNode.clientHeight/2:this._y=a.bottom,this._y>this._targetWindow.innerHeight&&(this._y=a.bottom)}adjustHorizontalHoverPosition(a){if(this._target.x!==void 0)return;const S=this._hoverPointer?3:0;if(this._forcePosition){const F=S+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=this._targetDocumentElement.clientWidth-a.right-F+"px":this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=a.left-F+"px")}else this._hoverPosition===1?this._targetDocumentElement.clientWidth-a.right<this._hover.containerDomNode.clientWidth+S&&(a.left>=this._hover.containerDomNode.clientWidth+S?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(a.left<this._hover.containerDomNode.clientWidth+S&&(this._targetDocumentElement.clientWidth-a.right>=this._hover.containerDomNode.clientWidth+S?this._hoverPosition=1:this._hoverPosition=2),a.left-this._hover.containerDomNode.clientWidth-S<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}adjustVerticalHoverPosition(a){if(this._target.y!==void 0||this._forcePosition)return;const S=this._hoverPointer?3:0;this._hoverPosition===3?a.top-this._hover.containerDomNode.clientHeight-S<0&&(this._hoverPosition=2):this._hoverPosition===2&&a.bottom+this._hover.containerDomNode.clientHeight+S>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(a){let S=this._targetWindow.innerHeight/2;if(this._forcePosition){const F=2+(this._hoverPointer?3:0);this._hoverPosition===3?S=Math.min(S,a.top-F):this._hoverPosition===2&&(S=Math.min(S,this._targetWindow.innerHeight-a.bottom-F))}if(this._hover.containerDomNode.style.maxHeight=`${S}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const F=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==F&&(this._hover.contentsDomNode.style.paddingRight=F)}}setHoverPointerPosition(a){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const S=this._hover.containerDomNode.clientHeight;S>a.height?this._hoverPointer.style.top=a.center.y-(this._y-S)-3+"px":this._hoverPointer.style.top=Math.round(S/2)-3+"px";break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const S=this._hover.containerDomNode.clientWidth;let F=Math.round(S/2)-3;const q=this._x+F;(q<a.left||q>a.right)&&(F=a.center.x-this._x-3),this._hoverPointer.style.left=`${F}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};ft=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([yi(1,ti.b),yi(2,Ln.pG),yi(3,Ni.C),yi(4,Ue._Y),yi(5,tr.j)],ft);class Yn extends xi.x{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(a){super(),this._elements=a,this._isMouseIn=!0,this._onMouseOut=this._register(new Pe.vl),this._elements.forEach((S)=>this.onmouseover(S,()=>this._onTargetMouseOver(S))),this._elements.forEach((S)=>this.onmouseleave(S,()=>this._onTargetMouseLeave(S)))}_onTargetMouseOver(a){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(a)}_onTargetMouseLeave(a){this._isMouseIn=!1,this._evaluateMouseState(a)}_evaluateMouseState(a){this._clearEvaluateMouseStateTimeout(a),this._mouseTimeout=Y.zk(a).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(a){this._mouseTimeout&&(Y.zk(a).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class Nt{constructor(a){this._element=a,this.targetElements=[this._element]}dispose(){}}var Ci,Hn=h(7594),Xt=h(1577),pi=h(2199);function Ji(a,S,F){const q=F.mode===Ci.ALIGN?F.offset:F.offset+F.size,fe=F.mode===Ci.ALIGN?F.offset+F.size:F.offset;return F.position===0?S<=a-q?q:S<=fe?fe-S:Math.max(a-S,0):S<=fe?fe-S:S<=a-q?q:0}(function(a){a[a.AVOID=0]="AVOID",a[a.ALIGN=1]="ALIGN"})(Ci||(Ci={}));class Gi extends J.jG{static{this.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"]}static{this.BUBBLE_DOWN_EVENTS=["click"]}constructor(a,S){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=J.jG.None,this.toDisposeOnSetContainer=J.jG.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Y.$(".context-view"),Y.jD(this.view),this.setContainer(a,S),this._register(J.s(()=>this.setContainer(null,1)))}setContainer(a,S){this.useFixedPosition=S!==1;const F=this.useShadowDOM;if(this.useShadowDOM=S===3,(a!==this.container||F!==this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.view.remove(),this.shadowRoot&&(this.shadowRoot=null,this.shadowRootHostElement?.remove(),this.shadowRootHostElement=null),this.container=null),a)){if(this.container=a,this.useShadowDOM){this.shadowRootHostElement=Y.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const fe=document.createElement("style");fe.textContent=dr,this.shadowRoot.appendChild(fe),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Y.$("slot"))}else this.container.appendChild(this.view);const q=new J.Cm;Gi.BUBBLE_UP_EVENTS.forEach((fe)=>{q.add(Y.b2(this.container,fe,(Re)=>{this.onDOMEvent(Re,!1)}))}),Gi.BUBBLE_DOWN_EVENTS.forEach((fe)=>{q.add(Y.b2(this.container,fe,(Re)=>{this.onDOMEvent(Re,!0)},!0))}),this.toDisposeOnSetContainer=q}}show(a){this.isVisible()&&this.hide(),Y.w_(this.view),this.view.className="context-view monaco-component",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+(a.layer??0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",Y.WU(this.view),this.toDisposeOnClean=a.render(this.view)||J.jG.None,this.delegate=a,this.doLayout(),this.delegate.focus?.()}getViewElement(){return this.view}layout(){this.isVisible()&&(this.delegate.canRelayout!==!1||Zi.un&&Xt.e.pointerEvents?(this.delegate?.layout?.(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;const a=this.delegate.getAnchor();let S;if(Y.sb(a)){const an=Y.BK(a),kn=Y.mU(a);S={top:an.top*kn,left:an.left*kn,width:an.width*kn,height:an.height*kn}}else S=function(an){const kn=an;return!!kn&&typeof kn.x=="number"&&typeof kn.y=="number"}(a)?{top:a.y,left:a.x,width:a.width||1,height:a.height||2}:{top:a.posy,left:a.posx,width:2,height:2};const F=Y.Tr(this.view),q=Y.OK(this.view),fe=this.delegate.anchorPosition||0,Re=this.delegate.anchorAlignment||0,Ee=this.delegate.anchorAxisAlignment||0;let Ge,vt;const Ct=Y.fz();if(Ee===0){const an={offset:S.top-Ct.pageYOffset,size:S.height,position:fe===0?0:1},kn={offset:S.left,size:S.width,position:Re===0?0:1,mode:Ci.ALIGN};Ge=Ji(Ct.innerHeight,q,an)+Ct.pageYOffset,pi.Q.intersects({start:Ge,end:Ge+q},{start:an.offset,end:an.offset+an.size})&&(kn.mode=Ci.AVOID),vt=Ji(Ct.innerWidth,F,kn)}else{const an={offset:S.left,size:S.width,position:Re===0?0:1},kn={offset:S.top,size:S.height,position:fe===0?0:1,mode:Ci.ALIGN};vt=Ji(Ct.innerWidth,F,an),pi.Q.intersects({start:vt,end:vt+F},{start:an.offset,end:an.offset+an.size})&&(kn.mode=Ci.AVOID),Ge=Ji(Ct.innerHeight,q,kn)+Ct.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(fe===0?"bottom":"top"),this.view.classList.add(Re===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const Qt=Y.BK(this.container);this.view.style.top=Ge-(this.useFixedPosition?Y.BK(this.view).top:Qt.top)+"px",this.view.style.left=vt-(this.useFixedPosition?Y.BK(this.view).left:Qt.left)+"px",this.view.style.width="initial"}hide(a){const S=this.delegate;this.delegate=null,S?.onHide&&S.onHide(a),this.toDisposeOnClean.dispose(),Y.jD(this.view)}isVisible(){return!!this.delegate}onDOMEvent(a,S){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(a,Y.zk(a).document.activeElement):S&&!Y.QX(a.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}const dr='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';let Ui=class extends J.jG{constructor(a){super(),this.layoutService=a,this.contextView=this._register(new Gi(this.layoutService.mainContainer,1)),this.layout(),this._register(a.onDidLayoutContainer(()=>this.layout()))}showContextView(a,S,F){let q;q=S?S===this.layoutService.getContainer(Y.zk(S))?1:F?3:2:1,this.contextView.setContainer(S??this.layoutService.activeContainer,q),this.contextView.show(a);const fe={close:()=>{this.openContextView===fe&&this.hideContextView()}};return this.openContextView=fe,fe}layout(){this.contextView.layout()}hideContextView(a){this.contextView.hide(a),this.openContextView=void 0}};Ui=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([function(a,S){return function(F,q){S(F,q,a)}}(0,Ye)],Ui);class Xi extends Ui{getContextViewElement(){return this.contextView.getViewElement()}}var Pi=h(8903),ar=h(9359);class Hi{constructor(a,S,F){this.hoverDelegate=a,this.target=S,this.fadeInAnimation=F}async update(a,S,F){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let q;if(a===void 0||ar.Kg(a)||Y.sb(a))q=a;else if(ar.Tn(a.markdown)){this._hoverWidget||this.show(k.kg("iconLabel.loading","Loading..."),S,F),this._cancellationTokenSource=new Pi.Qi;const fe=this._cancellationTokenSource.token;if(q=await a.markdown(fe),q===void 0&&(q=a.markdownNotSupportedFallback),this.isDisposed||fe.isCancellationRequested)return}else q=a.markdown??a.markdownNotSupportedFallback;this.show(q,S,F)}show(a,S,F){const q=this._hoverWidget;if(this.hasContent(a)){const fe={content:a,target:this.target,actions:F?.actions,linkHandler:F?.linkHandler,trapFocus:F?.trapFocus,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!q,showHoverHint:F?.appearance?.showHoverHint},position:{hoverPosition:2}};this._hoverWidget=this.hoverDelegate.showHover(fe,S)}q?.dispose()}hasContent(a){return!(!a||er.VS(a)&&!a.value)}get isDisposed(){return this._hoverWidget?.isDisposed}dispose(){this._hoverWidget?.dispose(),this._cancellationTokenSource?.dispose(!0),this._cancellationTokenSource=void 0}}var or=function(a,S){return function(F,q){S(F,q,a)}};let Yi=class extends J.jG{constructor(a,S,F,q,fe){super(),this._instantiationService=a,this._keybindingService=F,this._layoutService=q,this._accessibilityService=fe,this._managedHovers=new Map,S.onDidShowContextMenu(()=>this.hideHover()),this._contextViewHandler=this._register(new Ui(this._layoutService))}showHover(a,S,F){if(_t(this._currentHoverOptions)===_t(a))return;if(this._currentHover&&this._currentHoverOptions?.persistence?.sticky)return;this._currentHoverOptions=a,this._lastHoverOptions=a;const q=a.trapFocus||this._accessibilityService.isScreenReaderOptimized(),fe=Y.bq();F||(q&&fe?fe.classList.contains("monaco-hover")||(this._lastFocusedElementBeforeOpen=fe):this._lastFocusedElementBeforeOpen=void 0);const Re=new J.Cm,Ee=this._instantiationService.createInstance(ft,a);if(a.persistence?.sticky&&(Ee.isLocked=!0),Ee.onDispose(()=>{this._currentHover?.domNode&&Y.nR(this._currentHover.domNode)&&this._lastFocusedElementBeforeOpen?.focus(),this._currentHoverOptions===a&&(this._currentHoverOptions=void 0),Re.dispose()},void 0,Re),!a.container){const Ge=Y.sb(a.target)?a.target:a.target.targetElements[0];a.container=this._layoutService.getContainer(Y.zk(Ge))}if(this._contextViewHandler.showContextView(new Kt(Ee,S),a.container),Ee.onRequestLayout(()=>this._contextViewHandler.layout(),void 0,Re),a.persistence?.sticky)Re.add(Y.ko(Y.zk(a.container).document,Y.Bx.MOUSE_DOWN,(Ge)=>{Y.QX(Ge.target,Ee.domNode)||this.doHideHover()}));else{if("targetElements"in a.target)for(let vt of a.target.targetElements)Re.add(Y.ko(vt,Y.Bx.CLICK,()=>this.hideHover()));else Re.add(Y.ko(a.target,Y.Bx.CLICK,()=>this.hideHover()));const Ge=Y.bq();if(Ge){const vt=Y.zk(Ge).document;Re.add(Y.ko(Ge,Y.Bx.KEY_DOWN,(Ct)=>this._keyDown(Ct,Ee,!!a.persistence?.hideOnKeyDown))),Re.add(Y.ko(vt,Y.Bx.KEY_DOWN,(Ct)=>this._keyDown(Ct,Ee,!!a.persistence?.hideOnKeyDown))),Re.add(Y.ko(Ge,Y.Bx.KEY_UP,(Ct)=>this._keyUp(Ct,Ee))),Re.add(Y.ko(vt,Y.Bx.KEY_UP,(Ct)=>this._keyUp(Ct,Ee)))}}if("IntersectionObserver"in T.G){const Ge=new IntersectionObserver((Ct)=>this._intersectionChange(Ct,Ee),{threshold:0}),vt="targetElements"in a.target?a.target.targetElements[0]:a.target;Ge.observe(vt),Re.add(J.s(()=>Ge.disconnect()))}return this._currentHover=Ee,Ee}hideHover(){!this._currentHover?.isLocked&&this._currentHoverOptions&&this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(a,S){a[a.length-1].isIntersecting||S.dispose()}showAndFocusLastHover(){this._lastHoverOptions&&this.showHover(this._lastHoverOptions,!0,!0)}_keyDown(a,S,F){if(a.key==="Alt")return void(S.isLocked=!0);const q=new Hn.Z(a);this._keybindingService.resolveKeyboardEvent(q).getSingleModifierDispatchChords().some((fe)=>!!fe)||this._keybindingService.softDispatch(q,q.target).kind!==0||!F||this._currentHoverOptions?.trapFocus&&a.key==="Tab"||(this.hideHover(),this._lastFocusedElementBeforeOpen?.focus())}_keyUp(a,S){a.key==="Alt"&&(S.isLocked=!1,S.isMouseIn||(this.hideHover(),this._lastFocusedElementBeforeOpen?.focus()))}setupManagedHover(a,S,F,q){let fe,Re;S.setAttribute("custom-hover","true"),S.title!==""&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",S.title),S.title="");const Ee=(Ei,yr)=>{const hr=Re!==void 0;Ei&&(Re?.dispose(),Re=void 0),yr&&(fe?.dispose(),fe=void 0),hr&&(a.onDidHideHover?.(),Re=void 0)},Ge=(Ei,yr,hr,mr)=>new f.pc(async()=>{Re&&!Re.isDisposed||(Re=new Hi(a,hr||S,Ei>0),await Re.update(typeof F=="function"?F():F,yr,{...q,trapFocus:mr}))},Ei);let vt=!1;const Ct=Y.ko(S,Y.Bx.MOUSE_DOWN,()=>{vt=!0,Ee(!0,!0)},!0),Qt=Y.ko(S,Y.Bx.MOUSE_UP,()=>{vt=!1},!0),an=Y.ko(S,Y.Bx.MOUSE_LEAVE,(Ei)=>{vt=!1,Ee(!1,Ei.fromElement===S)},!0),kn=Y.ko(S,Y.Bx.MOUSE_OVER,(Ei)=>{if(fe)return;const yr=new J.Cm,hr={targetElements:[S],dispose:()=>{}};if(a.placement===void 0||a.placement==="mouse"){const mr=(Sr)=>{hr.x=Sr.x+10,Y.sb(Sr.target)&&tn(Sr.target,S)!==S&&Ee(!0,!0)};yr.add(Y.ko(S,Y.Bx.MOUSE_MOVE,mr,!0))}fe=yr,Y.sb(Ei.target)&&tn(Ei.target,S)!==S||yr.add(Ge(a.delay,!1,hr))},!0);let jn;const bi=S.tagName.toLowerCase();bi!=="input"&&bi!=="textarea"&&(jn=Y.ko(S,Y.Bx.FOCUS,()=>{if(vt||fe)return;const Ei={targetElements:[S],dispose:()=>{}},yr=new J.Cm;yr.add(Y.ko(S,Y.Bx.BLUR,()=>Ee(!0,!0),!0)),yr.add(Ge(a.delay,!1,Ei)),fe=yr},!0));const gr={show:(Ei)=>{Ee(!1,!0),Ge(0,Ei,void 0,Ei)},hide:()=>{Ee(!0,!0)},update:async(Ei,yr)=>{F=Ei,await Re?.update(F,void 0,yr)},dispose:()=>{this._managedHovers.delete(S),kn.dispose(),an.dispose(),Ct.dispose(),Qt.dispose(),jn?.dispose(),Ee(!0,!0)}};return this._managedHovers.set(S,gr),gr}showManagedHover(a){const S=this._managedHovers.get(a);S&&S.show(!0)}dispose(){this._managedHovers.forEach((a)=>a.dispose()),super.dispose()}};function _t(a){if(a!==void 0)return a?.id??a}Yi=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([or(0,Ue._Y),or(1,si.Z),or(2,ti.b),or(3,Ye),or(4,tr.j)],Yi);class Kt{get anchorPosition(){return this._hover.anchor}constructor(a,S=!1){this._hover=a,this._focus=S,this.layer=1}render(a){return this._hover.render(a),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}function tn(a,S){for(S=S??Y.zk(a).document.body;!a.hasAttribute("custom-hover")&&a!==S;)a=a.parentElement;return a}be.v(li.TN,Yi,1),Ve.zy((a,S)=>{const F=a.getColor(En.oZ8);F&&(S.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${F.transparent(0.5)}; }`),S.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${F.transparent(0.5)}; }`))});var In=h(9619),mn=h(8769),wn=h(5003),An=h(3877),fi=h(5365),qn=h(7042),oi=h(2096),Ai=h(7992),nr=h(7142),$i=h(7167);function ji(a){return Object.isFrozen(a)?a:d.ol(a)}class di{static createEmptyModel(a){return new di({},[],[],void 0,a)}constructor(a,S,F,q,fe){this._contents=a,this._keys=S,this._overrides=F,this.raw=q,this.logService=fe,this.overrideConfigurations=new Map}get rawConfiguration(){if(!this._rawConfiguration)if(this.raw?.length){const a=this.raw.map((S)=>{if(S instanceof di)return S;const F=new Qi("",this.logService);return F.parseRaw(S),F.configurationModel});this._rawConfiguration=a.reduce((S,F)=>F===S?F:S.merge(F),a[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(a){return a?Ln.gD(this.contents,a):this.contents}inspect(a,S){const F=this;return{get value(){return ji(F.rawConfiguration.getValue(a))},get override(){return S?ji(F.rawConfiguration.getOverrideValue(a,S)):void 0},get merged(){return ji(S?F.rawConfiguration.override(S).getValue(a):F.rawConfiguration.getValue(a))},get overrides(){const q=[];for(let{contents:fe,identifiers:Re,keys:Ee}of F.rawConfiguration.overrides){const Ge=new di(fe,Ee,[],void 0,F.logService).getValue(a);Ge!==void 0&&q.push({identifiers:Re,value:Ge})}return q.length?ji(q):void 0}}}getOverrideValue(a,S){const F=this.getContentsForOverrideIdentifer(S);return F?a?Ln.gD(F,a):F:void 0}override(a){let S=this.overrideConfigurations.get(a);return S||(S=this.createOverrideConfigurationModel(a),this.overrideConfigurations.set(a,S)),S}merge(...a){const S=d.Go(this.contents),F=d.Go(this.overrides),q=[...this.keys],fe=this.raw?.length?[...this.raw]:[this];for(let Re of a)if(fe.push(...Re.raw?.length?Re.raw:[Re]),!Re.isEmpty()){this.mergeContents(S,Re.contents);for(let Ee of Re.overrides){const[Ge]=F.filter((vt)=>x.aI(vt.identifiers,Ee.identifiers));Ge?(this.mergeContents(Ge.contents,Ee.contents),Ge.keys.push(...Ee.keys),Ge.keys=x.dM(Ge.keys)):F.push(d.Go(Ee))}for(let Ee of Re.keys)q.indexOf(Ee)===-1&&q.push(Ee)}return new di(S,q,F,fe.every((Re)=>Re instanceof di)?void 0:fe,this.logService)}createOverrideConfigurationModel(a){const S=this.getContentsForOverrideIdentifer(a);if(!S||typeof S!="object"||!Object.keys(S).length)return this;const F={};for(let q of x.dM([...Object.keys(this.contents),...Object.keys(S)])){let fe=this.contents[q];const Re=S[q];Re&&(typeof fe=="object"&&typeof Re=="object"?(fe=d.Go(fe),this.mergeContents(fe,Re)):fe=Re),F[q]=fe}return new di(F,this.keys,this.overrides,void 0,this.logService)}mergeContents(a,S){for(let F of Object.keys(S))F in a&&ar.Gv(a[F])&&ar.Gv(S[F])?this.mergeContents(a[F],S[F]):a[F]=d.Go(S[F])}getContentsForOverrideIdentifer(a){let S=null,F=null;const q=(fe)=>{fe&&(F?this.mergeContents(F,fe):F=d.Go(fe))};for(let fe of this.overrides)fe.identifiers.length===1&&fe.identifiers[0]===a?S=fe.contents:fe.identifiers.includes(a)&&q(fe.contents);return q(S),F}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(a,S){this.updateValue(a,S,!1)}removeValue(a){const S=this.keys.indexOf(a);S!==-1&&(this.keys.splice(S,1),Ln.iB(this.contents,a),nr.rC.test(a)&&this.overrides.splice(this.overrides.findIndex((F)=>x.aI(F.identifiers,nr.Gv(a))),1))}updateValue(a,S,F){if(Ln.kW(this.contents,a,S,(q)=>this.logService.error(q)),(F=F||this.keys.indexOf(a)===-1)&&this.keys.push(a),nr.rC.test(a)){const q=nr.Gv(a),fe={identifiers:q,keys:Object.keys(this.contents[a]),contents:Ln.ad(this.contents[a],(Ee)=>this.logService.error(Ee))},Re=this.overrides.findIndex((Ee)=>x.aI(Ee.identifiers,q));Re!==-1?this.overrides[Re]=fe:this.overrides.push(fe)}}}class Qi{constructor(a,S){this._name=a,this.logService=S,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||di.createEmptyModel(this.logService)}parseRaw(a,S){this._raw=a;const{contents:F,keys:q,overrides:fe,restricted:Re,hasExcludedProperties:Ee}=this.doParseRaw(a,S);this._configurationModel=new di(F,q,fe,Ee?[a]:void 0,this.logService),this._restrictedConfigurations=Re||[]}doParseRaw(a,S){const F=$i.O.as(nr.Fd.Configuration).getConfigurationProperties(),q=this.filter(a,F,!0,S);return a=q.raw,{contents:Ln.ad(a,(fe)=>this.logService.error(`Conflict in settings file ${this._name}: ${fe}`)),keys:Object.keys(a),overrides:this.toOverrides(a,(fe)=>this.logService.error(`Conflict in settings file ${this._name}: ${fe}`)),restricted:q.restricted,hasExcludedProperties:q.hasExcludedProperties}}filter(a,S,F,q){let fe=!1;if(!q?.scopes&&!q?.skipRestricted&&!q?.exclude?.length)return{raw:a,restricted:[],hasExcludedProperties:fe};const Re={},Ee=[];for(let Ge in a)if(nr.rC.test(Ge)&&F){const vt=this.filter(a[Ge],S,!1,q);Re[Ge]=vt.raw,fe=fe||vt.hasExcludedProperties,Ee.push(...vt.restricted)}else{const vt=S[Ge],Ct=vt?vt.scope!==void 0?vt.scope:3:void 0;vt?.restricted&&Ee.push(Ge),q.exclude?.includes(Ge)||!q.include?.includes(Ge)&&(Ct!==void 0&&q.scopes!==void 0&&!q.scopes.includes(Ct)||q.skipRestricted&&vt?.restricted)?fe=!0:Re[Ge]=a[Ge]}return{raw:Re,restricted:Ee,hasExcludedProperties:fe}}toOverrides(a,S){const F=[];for(let q of Object.keys(a))if(nr.rC.test(q)){const fe={};for(let Re in a[q])fe[Re]=a[q][Re];F.push({identifiers:nr.Gv(q),keys:Object.keys(fe),contents:Ln.ad(fe,S)})}return F}}class wr{constructor(a,S,F,q,fe,Re,Ee,Ge,vt,Ct,Qt,an,kn){this.key=a,this.overrides=S,this._value=F,this.overrideIdentifiers=q,this.defaultConfiguration=fe,this.policyConfiguration=Re,this.applicationConfiguration=Ee,this.userConfiguration=Ge,this.localUserConfiguration=vt,this.remoteUserConfiguration=Ct,this.workspaceConfiguration=Qt,this.folderConfigurationModel=an,this.memoryConfigurationModel=kn}toInspectValue(a){return a?.value!==void 0||a?.override!==void 0||a?.overrides!==void 0?a:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class ht{constructor(a,S,F,q,fe,Re,Ee,Ge,vt,Ct){this._defaultConfiguration=a,this._policyConfiguration=S,this._applicationConfiguration=F,this._localUserConfiguration=q,this._remoteUserConfiguration=fe,this._workspaceConfiguration=Re,this._folderConfigurations=Ee,this._memoryConfiguration=Ge,this._memoryConfigurationByResource=vt,this.logService=Ct,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ai.fT,this._userConfiguration=null}getValue(a,S,F){return this.getConsolidatedConfigurationModel(a,S,F).getValue(a)}updateValue(a,S,F={}){let q;F.resource?(q=this._memoryConfigurationByResource.get(F.resource),q||(q=di.createEmptyModel(this.logService),this._memoryConfigurationByResource.set(F.resource,q))):q=this._memoryConfiguration,S===void 0?q.removeValue(a):q.setValue(a,S),F.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(a,S,F){const q=this.getConsolidatedConfigurationModel(a,S,F),fe=this.getFolderConfigurationModelForResource(S.resource,F),Re=S.resource&&this._memoryConfigurationByResource.get(S.resource)||this._memoryConfiguration,Ee=new Set;for(let Ge of q.overrides)for(let vt of Ge.identifiers)q.getOverrideValue(a,vt)!==void 0&&Ee.add(vt);return new wr(a,S,q.getValue(a),Ee.size?[...Ee]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,F?this._workspaceConfiguration:void 0,fe||void 0,Re)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(a,S,F){let q=this.getConsolidatedConfigurationModelForResource(S,F);return S.overrideIdentifier&&(q=q.override(S.overrideIdentifier)),this._policyConfiguration.isEmpty()||this._policyConfiguration.getValue(a)===void 0||(q=q.merge(this._policyConfiguration)),q}getConsolidatedConfigurationModelForResource({resource:a},S){let F=this.getWorkspaceConsolidatedConfiguration();if(S&&a){const q=S.getFolder(a);q&&(F=this.getFolderConsolidatedConfiguration(q.uri)||F);const fe=this._memoryConfigurationByResource.get(a);fe&&(F=F.merge(fe))}return F}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(a){let S=this._foldersConsolidatedConfigurations.get(a);if(!S){const F=this.getWorkspaceConsolidatedConfiguration(),q=this._folderConfigurations.get(a);q?(S=F.merge(q),this._foldersConsolidatedConfigurations.set(a,S)):S=F}return S}getFolderConfigurationModelForResource(a,S){if(S&&a){const F=S.getFolder(a);if(F)return this._folderConfigurations.get(F.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((a,S)=>{const{contents:F,overrides:q,keys:fe}=this._folderConfigurations.get(S);return a.push([S,{contents:F,overrides:q,keys:fe}]),a},[])}}static parse(a,S){const F=this.parseConfigurationModel(a.defaults,S),q=this.parseConfigurationModel(a.policy,S),fe=this.parseConfigurationModel(a.application,S),Re=this.parseConfigurationModel(a.user,S),Ee=this.parseConfigurationModel(a.workspace,S),Ge=a.folders.reduce((vt,Ct)=>(vt.set(v.r.revive(Ct[0]),this.parseConfigurationModel(Ct[1],S)),vt),new Ai.fT);return new ht(F,q,fe,Re,di.createEmptyModel(S),Ee,Ge,di.createEmptyModel(S),new Ai.fT,S)}static parseConfigurationModel(a,S){return new di(a.contents,a.keys,a.overrides,void 0,S)}}class xt{constructor(a,S,F,q,fe){this.change=a,this.previous=S,this.currentConfiguraiton=F,this.currentWorkspace=q,this.logService=fe,this._marker="\n",this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(let Re of a.keys)this.affectedKeys.add(Re);for(let[,Re]of a.overrides)for(let Ee of Re)this.affectedKeys.add(Ee);this._affectsConfigStr=this._marker;for(let Re of this.affectedKeys)this._affectsConfigStr+=Re+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=ht.parse(this.previous.data,this.logService)),this._previousConfiguration}affectsConfiguration(a,S){const F=this._marker+a,q=this._affectsConfigStr.indexOf(F);if(q<0)return!1;const fe=q+F.length;if(fe>=this._affectsConfigStr.length)return!1;const Re=this._affectsConfigStr.charCodeAt(fe);if(Re!==this._markerCode1&&Re!==this._markerCode2)return!1;if(S){const Ee=this.previousConfiguration?this.previousConfiguration.getValue(a,S,this.previous?.workspace):void 0,Ge=this.currentConfiguraiton.getValue(a,S,this.currentWorkspace);return!d.aI(Ee,Ge)}return!0}}var se=h(7043);const Ae={kind:0},He={kind:1};class mt{constructor(a,S,F){this._log=F,this._defaultKeybindings=a,this._defaultBoundCommands=new Map;for(let q of a){const fe=q.command;fe&&fe.charAt(0)!=="-"&&this._defaultBoundCommands.set(fe,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=mt.handleRemovals([].concat(a).concat(S));for(let q=0,fe=this._keybindings.length;q<fe;q++){const Re=this._keybindings[q];if(Re.chords.length===0)continue;const Ee=Re.when?.substituteConstants();Ee&&Ee.type===0||this._addKeyPress(Re.chords[0],Re)}}static _isTargetedForRemoval(a,S,F){if(S){for(let q=0;q<S.length;q++)if(S[q]!==a.chords[q])return!1}if(F&&F.type!==1){if(!a.when)return!1;if(!de.jQ(F,a.when))return!1}return!0}static handleRemovals(a){const S=new Map;for(let q=0,fe=a.length;q<fe;q++){const Re=a[q];if(Re.command&&Re.command.charAt(0)==="-"){const Ee=Re.command.substring(1);S.has(Ee)?S.get(Ee).push(Re):S.set(Ee,[Re])}}if(S.size===0)return a;const F=[];for(let q=0,fe=a.length;q<fe;q++){const Re=a[q];if(!Re.command||Re.command.length===0){F.push(Re);continue}if(Re.command.charAt(0)==="-")continue;const Ee=S.get(Re.command);if(!Ee||!Re.isDefault){F.push(Re);continue}let Ge=!1;for(let vt of Ee){const Ct=vt.when;if(this._isTargetedForRemoval(Re,vt.chords,Ct)){Ge=!0;break}}Ge||F.push(Re)}return F}_addKeyPress(a,S){const F=this._map.get(a);if(F===void 0)return this._map.set(a,[S]),void this._addToLookupMap(S);for(let q=F.length-1;q>=0;q--){const fe=F[q];if(fe.command===S.command)continue;let Re=!0;for(let Ee=1;Ee<fe.chords.length&&Ee<S.chords.length;Ee++)if(fe.chords[Ee]!==S.chords[Ee]){Re=!1;break}Re&&mt.whenIsEntirelyIncluded(fe.when,S.when)&&this._removeFromLookupMap(fe)}F.push(S),this._addToLookupMap(S)}_addToLookupMap(a){if(!a.command)return;let S=this._lookupMap.get(a.command);S===void 0?(S=[a],this._lookupMap.set(a.command,S)):S.push(a)}_removeFromLookupMap(a){if(!a.command)return;const S=this._lookupMap.get(a.command);if(S!==void 0){for(let F=0,q=S.length;F<q;F++)if(S[F]===a)return void S.splice(F,1)}}static whenIsEntirelyIncluded(a,S){return!S||S.type===1||!(!a||a.type===1)&&de.M0(a,S)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(a,S){const F=this._lookupMap.get(a);if(F===void 0||F.length===0)return null;if(F.length===1)return F[0];for(let q=F.length-1;q>=0;q--){const fe=F[q];if(S.contextMatchesRules(fe.when))return fe}return F[F.length-1]}resolve(a,S,F){const q=[...S,F];this._log(`| Resolving ${q}`);const fe=this._map.get(q[0]);if(fe===void 0)return this._log("\\ No keybinding entries."),Ae;let Re=null;if(q.length<2)Re=fe;else{Re=[];for(let Ge=0,vt=fe.length;Ge<vt;Ge++){const Ct=fe[Ge];if(q.length>Ct.chords.length)continue;let Qt=!0;for(let an=1;an<q.length;an++)if(Ct.chords[an]!==q[an]){Qt=!1;break}Qt&&Re.push(Ct)}}const Ee=this._findCommand(a,Re);return Ee?q.length<Ee.chords.length?(this._log(`\\ From ${Re.length} keybinding entries, awaiting ${Ee.chords.length-q.length} more chord(s), when: ${At(Ee.when)}, source: ${zt(Ee)}.`),He):(this._log(`\\ From ${Re.length} keybinding entries, matched ${Ee.command}, when: ${At(Ee.when)}, source: ${zt(Ee)}.`),{kind:2,commandId:Ee.command,commandArgs:Ee.commandArgs,isBubble:Ee.bubble}):(this._log(`\\ From ${Re.length} keybinding entries, no when clauses matched the context.`),Ae)}_findCommand(a,S){for(let F=S.length-1;F>=0;F--){const q=S[F];if(mt._contextMatchesRules(a,q.when))return q}return null}static _contextMatchesRules(a,S){return!S||S.evaluate(a)}}function At(a){return a?`${a.serialize()}`:"no when condition"}function zt(a){return a.extensionId?a.isBuiltinExtension?`built-in extension ${a.extensionId}`:`user extension ${a.extensionId}`:a.isDefault?"built-in":"user"}const Pt=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class Wt extends J.jG{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Pe.Jh.None}get inChordMode(){return this._currentChords.length>0}constructor(a,S,F,q,fe){super(),this._contextKeyService=a,this._commandService=S,this._telemetryService=F,this._notificationService=q,this._logService=fe,this._onDidUpdateKeybindings=this._register(new Pe.vl),this._currentChords=[],this._currentChordChecker=new f.vb,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Nn.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new f.pc,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(a){this._logging&&this._logService.info(`[KeybindingService]: ${a}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(a,S){const F=this._getResolver().lookupPrimaryKeybinding(a,S||this._contextKeyService);if(F)return F.resolvedKeybinding}dispatchEvent(a,S){return this._dispatch(a,S)}softDispatch(a,S){this._log("/ Soft dispatching keyboard event");const F=this.resolveKeyboardEvent(a);if(F.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),Ae;const[q]=F.getDispatchChords();if(q===null)return this._log("\\ Keyboard event cannot be dispatched"),Ae;const fe=this._contextKeyService.getContext(S),Re=this._currentChords.map(({keypress:Ee})=>Ee);return this._getResolver().resolve(fe,Re,q)}_scheduleLeaveChordMode(){const a=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-a>5000&&this._leaveChordMode():this._leaveChordMode()},500)}_expectAnotherChord(a,S){switch(this._currentChords.push({keypress:a,label:S}),this._currentChords.length){case 0:throw m.iH("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(k.kg("first.chord","({0}) was pressed. Waiting for second key of chord...",S));break;default:{const F=this._currentChords.map(({label:q})=>q).join(", ");this._currentChordStatusMessage=this._notificationService.status(k.kg("next.chord","({0}) was pressed. Waiting for next key of chord...",F))}}this._scheduleLeaveChordMode(),se.M.enabled&&se.M.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],se.M.enable()}_dispatch(a,S){return this._doDispatch(this.resolveKeyboardEvent(a),S,!1)}_singleModifierDispatch(a,S){const F=this.resolveKeyboardEvent(a),[q]=F.getSingleModifierDispatchChords();if(q)return this._ignoreSingleModifiers.has(q)?(this._log(`+ Ignoring single modifier ${q} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Nn.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Nn.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${q}.`),this._currentSingleModifier=q,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):q===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${q} ${q}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(F,S,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${q}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[fe]=F.getChords();return this._ignoreSingleModifiers=new Nn(fe),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(a,S,F=!1){let q=!1;if(a.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let fe=null,Re=null;if(F){const[Ct]=a.getSingleModifierDispatchChords();fe=Ct,Re=Ct?[Ct]:[]}else[fe]=a.getDispatchChords(),Re=this._currentChords.map(({keypress:Ct})=>Ct);if(fe===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),q;const Ee=this._contextKeyService.getContext(S),Ge=a.getLabel(),vt=this._getResolver().resolve(Ee,Re,fe);switch(vt.kind){case 0:if(this._logService.trace("KeybindingService#dispatch",Ge,"[ No matching keybinding ]"),this.inChordMode){const Ct=this._currentChords.map(({label:Qt})=>Qt).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${Ct}, ${Ge}".`),this._notificationService.status(k.kg("missing.chord","The key combination ({0}, {1}) is not a command.",Ct,Ge),{hideAfter:1e4}),this._leaveChordMode(),q=!0}return q;case 1:return this._logService.trace("KeybindingService#dispatch",Ge,"[ Several keybindings match - more chords needed ]"),q=!0,this._expectAnotherChord(fe,Ge),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),q;case 2:if(this._logService.trace("KeybindingService#dispatch",Ge,`[ Will dispatch command ${vt.commandId} ]`),vt.commandId===null||vt.commandId===""){if(this.inChordMode){const Ct=this._currentChords.map(({label:Qt})=>Qt).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${Ct}, ${Ge}".`),this._notificationService.status(k.kg("missing.chord","The key combination ({0}, {1}) is not a command.",Ct,Ge),{hideAfter:1e4}),this._leaveChordMode(),q=!0}}else{this.inChordMode&&this._leaveChordMode(),vt.isBubble||(q=!0),this._log(`+ Invoking command ${vt.commandId}.`),this._currentlyDispatchingCommandId=vt.commandId;try{vt.commandArgs===void 0?this._commandService.executeCommand(vt.commandId).then(void 0,(Ct)=>this._notificationService.warn(Ct)):this._commandService.executeCommand(vt.commandId,vt.commandArgs).then(void 0,(Ct)=>this._notificationService.warn(Ct))}finally{this._currentlyDispatchingCommandId=null}Pt.test(vt.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:vt.commandId,from:"keybinding",detail:a.getUserSettingsLabel()??void 0})}return q}}mightProducePrintableCharacter(a){return!a.ctrlKey&&!a.metaKey&&(a.keyCode>=31&&a.keyCode<=56||a.keyCode>=21&&a.keyCode<=30)}}class Nn{static{this.EMPTY=new Nn(null)}constructor(a){this._ctrlKey=!!a&&a.ctrlKey,this._shiftKey=!!a&&a.shiftKey,this._altKey=!!a&&a.altKey,this._metaKey=!!a&&a.metaKey}has(a){switch(a){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}var bn=h(8421);class Jn{constructor(a,S,F,q,fe,Re,Ee){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=a,this.chords=a?$e(a.getDispatchChords()):[],a&&this.chords.length===0&&(this.chords=$e(a.getSingleModifierDispatchChords())),this.bubble=!!S&&S.charCodeAt(0)===94,this.command=this.bubble?S.substr(1):S,this.commandArgs=F,this.when=q,this.isDefault=fe,this.extensionId=Re,this.isBuiltinExtension=Ee}}function $e(a){const S=[];for(let F=0,q=a.length;F<q;F++){const fe=a[F];if(!fe)return[];S.push(fe)}return S}var tt=h(8387),gt=h(8315);class bt extends In.z5{constructor(a,S){if(super(),S.length===0)throw m.Qg("chords");this._os=a,this._chords=S}getLabel(){return gt.Of.toLabel(this._os,this._chords,(a)=>this._getLabel(a))}getAriaLabel(){return gt.r0.toLabel(this._os,this._chords,(a)=>this._getAriaLabel(a))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:gt.rr.toLabel(this._os,this._chords,(a)=>this._getElectronAccelerator(a))}getUserSettingsLabel(){return gt.G$.toLabel(this._os,this._chords,(a)=>this._getUserSettingsLabel(a))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map((a)=>this._getChord(a))}_getChord(a){return new In.FW(a.ctrlKey,a.shiftKey,a.altKey,a.metaKey,this._getLabel(a),this._getAriaLabel(a))}getDispatchChords(){return this._chords.map((a)=>this._getChordDispatch(a))}getSingleModifierDispatchChords(){return this._chords.map((a)=>this._getSingleModifierChordDispatch(a))}}class ke extends bt{constructor(a,S){super(S,a)}_keyCodeToUILabel(a){if(this._os===2)switch(a){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return tt.YM.toString(a)}_getLabel(a){return a.isDuplicateModifierCase()?"":this._keyCodeToUILabel(a.keyCode)}_getAriaLabel(a){return a.isDuplicateModifierCase()?"":tt.YM.toString(a.keyCode)}_getElectronAccelerator(a){return tt.YM.toElectronAccelerator(a.keyCode)}_getUserSettingsLabel(a){if(a.isDuplicateModifierCase())return"";const S=tt.YM.toUserSettingsUS(a.keyCode);return S?S.toLowerCase():S}_getChordDispatch(a){return ke.getDispatchStr(a)}static getDispatchStr(a){if(a.isModifierKey())return null;let S="";return a.ctrlKey&&(S+="ctrl+"),a.shiftKey&&(S+="shift+"),a.altKey&&(S+="alt+"),a.metaKey&&(S+="meta+"),S+=tt.YM.toString(a.keyCode),S}_getSingleModifierChordDispatch(a){return a.keyCode!==5||a.shiftKey||a.altKey||a.metaKey?a.keyCode!==4||a.ctrlKey||a.altKey||a.metaKey?a.keyCode!==6||a.ctrlKey||a.shiftKey||a.metaKey?a.keyCode!==57||a.ctrlKey||a.shiftKey||a.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(a){const S=tt.Fo[a];if(S!==-1)return S;switch(a){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(a){if(!a)return null;if(a instanceof In.dG)return a;const S=this._scanCodeToKeyCode(a.scanCode);return S===0?null:new In.dG(a.ctrlKey,a.shiftKey,a.altKey,a.metaKey,S)}static resolveKeybinding(a,S){const F=$e(a.chords.map((q)=>this._toKeyCodeChord(q)));return F.length>0?[new ke(F,S)]:[]}}var qt=h(8377),Ot=h(4023),Vt=h(6243),Cn=h(6851),dn=h(5933),St=h(2467),Lt=h(4657),on=h(3930),ln=h(7969),Dn=h(7482),vn=h(8067),$n=h(9715),Un=h(5893),Fn=h(474),fn=h(7439),Qn=h(7598),N=h(8354),Z=h(5915),j=h(9892),_e=h(8881),Ne=h(4594);const Oe=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Ke=/(&amp;)?(&amp;)([^\s&])/g;var wt,kt;(function(a){a[a.Right=0]="Right",a[a.Left=1]="Left"})(wt||(wt={})),function(a){a[a.Above=0]="Above",a[a.Below=1]="Below"}(kt||(kt={}));class Et extends fn.E{constructor(a,S,F,q){a.classList.add("monaco-menu-container"),a.setAttribute("role","presentation");const fe=document.createElement("div");fe.classList.add("monaco-menu"),fe.setAttribute("role","presentation"),super(fe,{orientation:1,actionViewItemProvider:(vt)=>this.doGetActionViewItem(vt,F,Re),context:F.context,actionRunner:F.actionRunner,ariaLabel:F.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Zi.zx||Zi.j9?[10]:[]],keyDown:!0}}),this.menuStyles=q,this.menuElement=fe,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(a,q),this._register(Fn.q.addTarget(fe)),this._register(Y.ko(fe,Y.Bx.KEY_DOWN,(vt)=>{new Hn.Z(vt).equals(2)&&vt.preventDefault()})),F.enableMnemonics&&this._register(Y.ko(fe,Y.Bx.KEY_DOWN,(vt)=>{const Ct=vt.key.toLocaleLowerCase();if(this.mnemonics.has(Ct)){Y.fs.stop(vt,!0);const Qt=this.mnemonics.get(Ct);if(Qt.length===1&&(Qt[0]instanceof Bt&&Qt[0].container&&this.focusItemByElement(Qt[0].container),Qt[0].onClick(vt)),Qt.length>1){const an=Qt.shift();an&&an.container&&(this.focusItemByElement(an.container),Qt.push(an)),this.mnemonics.set(Ct,Qt)}}})),Zi.j9&&this._register(Y.ko(fe,Y.Bx.KEY_DOWN,(vt)=>{const Ct=new Hn.Z(vt);Ct.equals(14)||Ct.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Y.fs.stop(vt,!0)):(Ct.equals(13)||Ct.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Y.fs.stop(vt,!0))})),this._register(Y.ko(this.domNode,Y.Bx.MOUSE_OUT,(vt)=>{const Ct=vt.relatedTarget;Y.QX(Ct,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),vt.stopPropagation())})),this._register(Y.ko(this.actionsList,Y.Bx.MOUSE_OVER,(vt)=>{let Ct=vt.target;if(Ct&&Y.QX(Ct,this.actionsList)&&Ct!==this.actionsList){for(;Ct.parentElement!==this.actionsList&&Ct.parentElement!==null;)Ct=Ct.parentElement;if(Ct.classList.contains("action-item")){const Qt=this.focusedItem;this.setFocusedItem(Ct),Qt!==this.focusedItem&&this.updateFocus()}}})),this._register(Fn.q.addTarget(this.actionsList)),this._register(Y.ko(this.actionsList,Fn.B.Tap,(vt)=>{let Ct=vt.initialTarget;if(Ct&&Y.QX(Ct,this.actionsList)&&Ct!==this.actionsList){for(;Ct.parentElement!==this.actionsList&&Ct.parentElement!==null;)Ct=Ct.parentElement;if(Ct.classList.contains("action-item")){const Qt=this.focusedItem;this.setFocusedItem(Ct),Qt!==this.focusedItem&&this.updateFocus()}}}));const Re={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new N.MU(fe,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const Ee=this.scrollableElement.getDomNode();Ee.style.position="",this.styleScrollElement(Ee,q),this._register(Y.ko(fe,Fn.B.Change,(vt)=>{Y.fs.stop(vt,!0);const Ct=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Ct-vt.translationY})})),this._register(Y.ko(Ee,Y.Bx.MOUSE_UP,(vt)=>{vt.preventDefault()}));const Ge=Y.zk(a);fe.style.maxHeight=`${Math.max(10,Ge.innerHeight-a.getBoundingClientRect().top-35)}px`,S=S.filter((vt,Ct)=>{if(F.submenuIds?.has(vt.id))return console.warn(`Found submenu cycle: ${vt.id}`),!1;if(vt instanceof ln.wv){if(Ct===S.length-1||Ct===0)return!1;if(S[Ct-1]instanceof ln.wv)return!1}return!0}),this.push(S,{icon:!0,label:!0,isMenu:!0}),a.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((vt)=>!(vt instanceof Rt)).forEach((vt,Ct,Qt)=>{vt.updatePositionInSet(Ct+1,Qt.length)})}initializeOrUpdateStyleSheet(a,S){this.styleSheet||(Y.Cl(a)?this.styleSheet=Y.li(a):(Et.globalStyleSheet||(Et.globalStyleSheet=Y.li()),this.styleSheet=Et.globalStyleSheet)),this.styleSheet.textContent=function(F,q){let fe=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${en(Z.W.menuSelection)}\n${en(Z.W.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n\tmargin: 0 4px;\n\tborder-radius: 4px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: 4px 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n\tmax-height: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(q){fe+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const Re=F.scrollbarShadow;Re&&(fe+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${Re} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${Re} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${Re} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const Ee=F.scrollbarSliderBackground;Ee&&(fe+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${Ee};\n\t\t\t\t}\n\t\t\t`);const Ge=F.scrollbarSliderHoverBackground;Ge&&(fe+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${Ge};\n\t\t\t\t}\n\t\t\t`);const vt=F.scrollbarSliderActiveBackground;vt&&(fe+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${vt};\n\t\t\t\t}\n\t\t\t`)}return fe}(S,Y.Cl(a))}styleScrollElement(a,S){const F=S.foregroundColor??"",q=S.backgroundColor??"",fe=S.borderColor?`1px solid ${S.borderColor}`:"",Re=S.shadowColor?`0 2px 8px ${S.shadowColor}`:"";a.style.outline=fe,a.style.borderRadius="5px",a.style.color=F,a.style.backgroundColor=q,a.style.boxShadow=Re}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(a){const S=this.focusedItem;this.setFocusedItem(a),S!==this.focusedItem&&this.updateFocus()}setFocusedItem(a){for(let S=0;S<this.actionsList.children.length;S++)if(a===this.actionsList.children[S]){this.focusedItem=S;break}}updateFocus(a){super.updateFocus(a,!0,!0),this.focusedItem!==void 0&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(a,S,F){if(a instanceof ln.wv)return new Rt(S.context,a,{icon:!0},this.menuStyles);if(a instanceof ln.YH){const q=new Bt(a,a.actions,F,{...S,submenuIds:new Set([...S.submenuIds||[],a.id])},this.menuStyles);if(S.enableMnemonics){const fe=q.getMnemonic();if(fe&&q.isEnabled()){let Re=[];this.mnemonics.has(fe)&&(Re=this.mnemonics.get(fe)),Re.push(q),this.mnemonics.set(fe,Re)}}return q}{const q={enableMnemonics:S.enableMnemonics,useEventAsContext:S.useEventAsContext};if(S.getKeyBinding){const Re=S.getKeyBinding(a);if(Re){const Ee=Re.getLabel();Ee&&(q.keybinding=Ee)}}const fe=new st(S.context,a,q,this.menuStyles);if(S.enableMnemonics){const Re=fe.getMnemonic();if(Re&&fe.isEnabled()){let Ee=[];this.mnemonics.has(Re)&&(Ee=this.mnemonics.get(Re)),Ee.push(fe),this.mnemonics.set(Re,Ee)}}return fe}}}class st extends Qn.EH{constructor(a,S,F,q){if(F.isMenu=!0,super(S,S,F),this.menuStyle=q,this.options=F,this.options.icon=F.icon!==void 0&&F.icon,this.options.label=F.label===void 0||F.label,this.cssClass="",this.options.label&&F.enableMnemonics){const fe=this.action.label;if(fe){const Re=Oe.exec(fe);Re&&(this.mnemonic=(Re[1]?Re[1]:Re[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new f.uC(()=>{this.element&&(this._register(Y.ko(this.element,Y.Bx.MOUSE_UP,(fe)=>{if(Y.fs.stop(fe,!0),Un.gm){if(new $n.P(Y.zk(this.element),fe).rightButton)return;this.onClick(fe)}else setTimeout(()=>{this.onClick(fe)},0)})),this._register(Y.ko(this.element,Y.Bx.CONTEXT_MENU,(fe)=>{Y.fs.stop(fe,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(a){super.render(a),this.element&&(this.container=a,this.item=Y.BC(this.element,Y.$("a.action-menu-item")),this._action.id===ln.wv.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=Y.BC(this.item,Y.$("span.menu-item-check"+_e.L.asCSSSelector(Z.W.menuSelection))),this.check.setAttribute("role","none"),this.label=Y.BC(this.item,Y.$("span.action-label")),this.options.label&&this.options.keybinding&&(Y.BC(this.item,Y.$("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item?.focus(),this.applyStyle()}updatePositionInSet(a,S){this.item&&(this.item.setAttribute("aria-posinset",`${a}`),this.item.setAttribute("aria-setsize",`${S}`))}updateLabel(){if(this.label&&this.options.label){Y.w_(this.label);let a=Ne.pS(this.action.label);if(a){const S=function(q){const fe=Oe,Re=fe.exec(q);if(!Re)return q;const Ee=!Re[1];return q.replace(fe,Ee?"$2$3":"").trim()}(a);this.options.enableMnemonics||(a=S),this.label.setAttribute("aria-label",S.replace(/&&/g,"&"));const F=Oe.exec(a);if(F){a=M.ih(a),Ke.lastIndex=0;let q=Ke.exec(a);for(;q&&q[1];)q=Ke.exec(a);const fe=(Re)=>Re.replace(/&amp;&amp;/g,"&amp;");q?this.label.append(M.NB(fe(a.substr(0,q.index))," "),Y.$("u",{"aria-hidden":"true"},q[3]),M.BO(fe(a.substr(q.index+q[0].length))," ")):this.label.innerText=fe(a).trim(),this.item?.setAttribute("aria-keyshortcuts",(F[1]?F[1]:F[3]).toLocaleLowerCase())}else this.label.innerText=a.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const a=this.action.checked;this.item.classList.toggle("checked",!!a),a!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",a?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const a=this.element&&this.element.classList.contains("focused"),S=a&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,F=a&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,q=a&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",fe=a&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=S??"",this.item.style.backgroundColor=F??"",this.item.style.outline=q,this.item.style.outlineOffset=fe),this.check&&(this.check.style.color=S??"")}}class Bt extends st{constructor(a,S,F,q,fe){super(a,a,q,fe),this.submenuActions=S,this.parentData=F,this.submenuOptions=q,this.mysubmenu=null,this.submenuDisposables=this._register(new J.Cm),this.mouseOver=!1,this.expandDirection=q&&q.expandDirection!==void 0?q.expandDirection:{horizontal:wt.Right,vertical:kt.Below},this.showScheduler=new f.uC(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new f.uC(()=>{this.element&&!Y.QX(Y.bq(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(a){super.render(a),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Y.BC(this.item,Y.$("span.submenu-indicator"+_e.L.asCSSSelector(Z.W.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(Y.ko(this.element,Y.Bx.KEY_UP,(S)=>{const F=new Hn.Z(S);(F.equals(17)||F.equals(3))&&(Y.fs.stop(S,!0),this.createSubmenu(!0))})),this._register(Y.ko(this.element,Y.Bx.KEY_DOWN,(S)=>{const F=new Hn.Z(S);Y.bq()===this.item&&(F.equals(17)||F.equals(3))&&Y.fs.stop(S,!0)})),this._register(Y.ko(this.element,Y.Bx.MOUSE_OVER,(S)=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(Y.ko(this.element,Y.Bx.MOUSE_LEAVE,(S)=>{this.mouseOver=!1})),this._register(Y.ko(this.element,Y.Bx.FOCUS_OUT,(S)=>{this.element&&!Y.QX(Y.bq(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(a){Y.fs.stop(a,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(a){if(this.parentData.submenu&&(a||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(a,S,F,q){const fe={top:0,left:0};return fe.left=Ji(a.width,S.width,{position:q.horizontal===wt.Right?0:1,offset:F.left,size:F.width}),fe.left>=F.left&&fe.left<F.left+F.width&&(F.left+10+S.width<=a.width&&(fe.left=F.left+10),F.top+=10,F.height=0),fe.top=Ji(a.height,S.height,{position:0,offset:F.top,size:0}),fe.top+S.height===F.top&&fe.top+F.height+S.height<=a.height&&(fe.top+=F.height),fe}createSubmenu(a=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Y.BC(this.element,Y.$("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const S=Y.zk(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),F=parseFloat(S.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Et(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new ln.HJ],this.submenuOptions,this.menuStyle);const q=this.element.getBoundingClientRect(),fe={top:q.top-F,left:q.left,height:q.height+2*F,width:q.width},Re=this.submenuContainer.getBoundingClientRect(),Ee=Y.zk(this.element),{top:Ge,left:vt}=this.calculateSubmenuMenuLayout(new Y.fg(Ee.innerWidth,Ee.innerHeight),Y.fg.lift(Re),fe,this.expandDirection);this.submenuContainer.style.left=vt-Re.left+"px",this.submenuContainer.style.top=Ge-Re.top+"px",this.submenuDisposables.add(Y.ko(this.submenuContainer,Y.Bx.KEY_UP,(Ct)=>{new Hn.Z(Ct).equals(15)&&(Y.fs.stop(Ct,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(Y.ko(this.submenuContainer,Y.Bx.KEY_DOWN,(Ct)=>{new Hn.Z(Ct).equals(15)&&Y.fs.stop(Ct,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(a),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(a){this.item&&this.item?.setAttribute("aria-expanded",a)}applyStyle(){super.applyStyle();const a=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=a??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Rt extends Qn.Z4{constructor(a,S,F,q){super(a,S,F),this.menuStyles=q}render(a){super.render(a),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function en(a){const S=j.J()[a.id];return`.codicon-${a.id}:before { content: '\\${S.toString(16)}'; }`}var hn=h(5654);class je{constructor(a,S,F,q){this.contextViewService=a,this.telemetryService=S,this.notificationService=F,this.keybindingService=q,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(a){this.options=a}showContextMenu(a){const S=a.getActions();if(!S.length)return;let F;this.focusToReturn=Y.bq();const q=Y.sb(a.domForShadowRoot)?a.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>a.getAnchor(),canRelayout:!1,anchorAlignment:a.anchorAlignment,anchorAxisAlignment:a.anchorAxisAlignment,render:(fe)=>{this.lastContainer=fe;const Re=a.getMenuClassName?a.getMenuClassName():"";Re&&(fe.className+=" "+Re),this.options.blockMouse&&(this.block=fe.appendChild(Y.$(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",this.blockDisposable?.dispose(),this.blockDisposable=Y.ko(this.block,Y.Bx.MOUSE_DOWN,(Ct)=>Ct.stopPropagation()));const Ee=new J.Cm,Ge=a.actionRunner||new ln.LN;Ge.onWillRun((Ct)=>this.onActionRun(Ct,!a.skipTelemetry),this,Ee),Ge.onDidRun(this.onDidActionRun,this,Ee),F=new Et(fe,S,{actionViewItemProvider:a.getActionViewItem,context:a.getActionsContext?a.getActionsContext():null,actionRunner:Ge,getKeyBinding:a.getKeyBinding?a.getKeyBinding:(Ct)=>this.keybindingService.lookupKeybinding(Ct.id)},hn.XS),F.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,Ee),F.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,Ee);const vt=Y.zk(fe);return Ee.add(Y.ko(vt,Y.Bx.BLUR,()=>this.contextViewService.hideContextView(!0))),Ee.add(Y.ko(vt,Y.Bx.MOUSE_DOWN,(Ct)=>{if(Ct.defaultPrevented)return;const Qt=new $n.P(vt,Ct);let an=Qt.target;if(!Qt.rightButton){for(;an;){if(an===fe)return;an=an.parentElement}this.contextViewService.hideContextView(!0)}})),J.qE(Ee,F)},focus:()=>{F?.focus(!!a.autoSelectFirstItem)},onHide:(fe)=>{a.onHide?.(!!fe),this.block&&(this.block.remove(),this.block=null),this.blockDisposable?.dispose(),this.blockDisposable=null,this.lastContainer&&(Y.bq()===this.lastContainer||Y.QX(Y.bq(),this.lastContainer))&&this.focusToReturn?.focus(),this.lastContainer=null}},q,!!q)}onActionRun(a,S){S&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:a.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(a){a.error&&!m.MB(a.error)&&this.notificationService.error(a.error)}}var ze=function(a,S){return function(F,q){S(F,q,a)}};let De=class extends J.jG{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new je(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(a,S,F,q,fe,Re){super(),this.telemetryService=a,this.notificationService=S,this.contextViewService=F,this.keybindingService=q,this.menuService=fe,this.contextKeyService=Re,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new Pe.vl),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new Pe.vl)}configure(a){this.contextMenuHandler.configure(a)}showContextMenu(a){a=Ce.transform(a,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...a,onHide:(S)=>{a.onHide?.(S),this._onDidHideContextMenu.fire()}}),Y.Di.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};var Ce;De=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([ze(0,Vt.k),ze(1,Mt.Ot),ze(2,si.l),ze(3,ti.b),ze(4,vn.ez),ze(5,de.fN)],De),function(a){a.transform=function(S,F,q){if(!((fe=S)&&fe.menuId instanceof vn.D8))return S;var fe;const{menuId:Re,menuActionOptions:Ee,contextKeyService:Ge}=S;return{...S,getActions:()=>{const vt=[];if(Re){const Ct=F.getMenuActions(Re,Ge??q,Ee);Dn.$u(Ct,vt)}return S.getActions?ln.wv.join(S.getActions(),vt):vt}}}}(Ce||(Ce={}));var ut,Tt=h(180);(function(a){a[a.API=0]="API",a[a.USER=1]="USER"})(ut||(ut={}));var Ht=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee},sn=function(a,S){return function(F,q){S(F,q,a)}};let Vn=class{constructor(a){this._commandService=a}async open(a,S){if(!b.v$(a,b.ny.command))return!1;if(!S?.allowCommands)return!0;if(typeof a=="string"&&(a=v.r.parse(a)),Array.isArray(S.allowCommands)&&!S.allowCommands.includes(a.path))return!0;let F=[];try{F=Tt.qg(decodeURIComponent(a.query))}catch{try{F=Tt.qg(a.query)}catch{}}return Array.isArray(F)||(F=[F]),await this._commandService.executeCommand(a.path,...F),!0}};Vn=Ht([sn(0,oi.d)],Vn);let yn=class{constructor(a){this._editorService=a}async open(a,S){typeof a=="string"&&(a=v.r.parse(a));const{selection:F,uri:q}=Ni.e(a);return(a=q).scheme===b.ny.file&&(a=St.Fd(a)),await this._editorService.openCodeEditor({resource:a,options:{selection:F,source:S?.fromUserGesture?ut.USER:ut.API,...S?.editorOptions}},this._editorService.getFocusedCodeEditor(),S?.openToSide),!0}};yn=Ht([sn(0,C.T)],yn);let qi=class{constructor(a,S){this._openers=new Le.w,this._validators=new Le.w,this._resolvers=new Le.w,this._resolvedUriTargets=new Ai.fT((F)=>F.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Le.w,this._defaultExternalOpener={openExternal:async(F)=>(b.fV(F,b.ny.http,b.ny.https)?Y.CE(F):T.G.location.href=F,!0)},this._openers.push({open:async(F,q)=>!(!q?.openExternal&&!b.fV(F,b.ny.mailto,b.ny.http,b.ny.https,b.ny.vsls)||(await this._doOpenExternal(F,q),0))}),this._openers.push(new Vn(S)),this._openers.push(new yn(a))}registerOpener(a){return{dispose:this._openers.unshift(a)}}async open(a,S){const F=typeof a=="string"?v.r.parse(a):a,q=this._resolvedUriTargets.get(F)??a;for(let fe of this._validators)if(!await fe.shouldOpen(q,S))return!1;for(let fe of this._openers)if(await fe.open(a,S))return!0;return!1}async resolveExternalUri(a,S){for(let F of this._resolvers)try{const q=await F.resolveExternalUri(a,S);if(q)return this._resolvedUriTargets.has(q.resolved)||this._resolvedUriTargets.set(q.resolved,a),q}catch{}throw new Error("Could not resolve external URI: "+a.toString())}async _doOpenExternal(a,S){const F=typeof a=="string"?v.r.parse(a):a;let q,fe;try{q=(await this.resolveExternalUri(F,S)).resolved}catch{q=F}if(fe=typeof a=="string"&&F.toString()===q.toString()?a:encodeURI(q.toString(!0)),S?.allowContributedOpeners){const Re=typeof S?.allowContributedOpeners=="string"?S?.allowContributedOpeners:void 0;for(let Ee of this._externalOpeners)if(await Ee.openExternal(fe,{sourceUri:F,preferredOpenerId:Re},Pi.XO.None))return!0}return this._defaultExternalOpener.openExternal(fe,{sourceUri:F},Pi.XO.None)}dispose(){this._validators.clear()}};qi=Ht([sn(0,C.T),sn(1,oi.d)],qi);var ki=h(304),ur=h(7922),Vr=h(11),Fo=h(886),ii=h(931),no=h(9381),ui=h(3027),Dr=function(a,S){return function(F,q){S(F,q,a)}};let Js=class extends J.jG{constructor(a,S){super(),this.quickInputService=a,this.instantiationService=S,this.registry=$i.O.as(no.Fd.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(a="",S){this.doShowOrPick(a,!1,S)}doShowOrPick(a,S,F){const[q,fe]=this.getOrInstantiateProvider(a,F?.enabledProviderPrefixes),Re=this.visibleQuickAccess,Ee=Re?.descriptor;if(Re&&fe&&Ee===fe)return a===fe.prefix||F?.preserveValue||(Re.picker.value=a),void this.adjustValueSelection(Re.picker,fe,F);if(fe&&!F?.preserveValue){let jn;if(Re&&Ee&&Ee!==fe){const bi=Re.value.substr(Ee.prefix.length);bi&&(jn=`${fe.prefix}${bi}`)}if(!jn){const bi=q?.defaultFilterValue;bi===no.aJ.LAST?jn=this.lastAcceptedPickerValues.get(fe):typeof bi=="string"&&(jn=`${fe.prefix}${bi}`)}typeof jn=="string"&&(a=jn)}const Ge=Re?.picker?.valueSelection,vt=Re?.picker?.value,Ct=new J.Cm,Qt=Ct.add(this.quickInputService.createQuickPick({useSeparators:!0}));let an;Qt.value=a,this.adjustValueSelection(Qt,fe,F),Qt.placeholder=F?.placeholder??fe?.placeholder,Qt.quickNavigate=F?.quickNavigateConfiguration,Qt.hideInput=!!Qt.quickNavigate&&!Re,(typeof F?.itemActivation=="number"||F?.quickNavigateConfiguration)&&(Qt.itemActivation=F?.itemActivation??ui.C1.SECOND),Qt.contextKey=fe?.contextKey,Qt.filterValue=(jn)=>jn.substring(fe?fe.prefix.length:0),S&&(an=new f.Zv,Ct.add(Pe.Jh.once(Qt.onWillAccept)((jn)=>{jn.veto(),Qt.hide()}))),Ct.add(this.registerPickerListeners(Qt,q,fe,a,F));const kn=Ct.add(new Pi.Qi);return q&&Ct.add(q.provide(Qt,kn.token,F?.providerOptions)),Pe.Jh.once(Qt.onDidHide)(()=>{Qt.selectedItems.length===0&&kn.cancel(),Ct.dispose(),an?.complete(Qt.selectedItems.slice(0))}),Qt.show(),Ge&&vt===a&&(Qt.valueSelection=Ge),S?an?.p:void 0}adjustValueSelection(a,S,F){let q;q=F?.preserveValue?[a.value.length,a.value.length]:[S?.prefix.length??0,a.value.length],a.valueSelection=q}registerPickerListeners(a,S,F,q,fe){const Re=new J.Cm,Ee=this.visibleQuickAccess={picker:a,descriptor:F,value:q};return Re.add(J.s(()=>{Ee===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),Re.add(a.onDidChangeValue((Ge)=>{const[vt]=this.getOrInstantiateProvider(Ge,fe?.enabledProviderPrefixes);vt!==S?this.show(Ge,{enabledProviderPrefixes:fe?.enabledProviderPrefixes,preserveValue:!0,providerOptions:fe?.providerOptions}):Ee.value=Ge})),F&&Re.add(a.onDidAccept(()=>{this.lastAcceptedPickerValues.set(F,a.value)})),Re}getOrInstantiateProvider(a,S){const F=this.registry.getQuickAccessProvider(a);if(!F||S&&!S?.includes(F.prefix))return[void 0,void 0];let q=this.mapProviderToDescriptor.get(F);return q||(q=this.instantiationService.createInstance(F.ctor),this.mapProviderToDescriptor.set(F,q)),[q,F]}};Js=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([Dr(0,ui.GK),Dr(1,Ue._Y)],Js);var ks=h(585),Oo=h(4061),Us=h(1818),xo=h(4664),go=h(8846);class _o{constructor(a){this.nodes=a}toString(){return this.nodes.map((a)=>typeof a=="string"?a:a.label).join("")}}(function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);Re>3&&Ee&&Object.defineProperty(S,F,Ee)})([go.B],_o.prototype,"toString",null);const xa=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi,fs={},Qo=new xo.n("quick-input-button-icon-");function Co(a,S,F){let q=a.iconClass||function(fe){if(!fe)return;let Re;const Ee=fe.dark.toString();return fs[Ee]?Re=fs[Ee]:(Re=Qo.nextId(),Y.Wt(`.${Re}, .hc-light .${Re}`,`background-image: ${Y.Tf(fe.light||fe.dark)}`),Y.Wt(`.vs-dark .${Re}, .hc-black .${Re}`,`background-image: ${Y.Tf(fe.dark)}`),fs[Ee]=Re),Re}(a.iconPath);return a.alwaysVisible&&(q=q?`${q} always-visible`:"always-visible"),{id:S,label:"",tooltip:a.tooltip||"",class:q,enabled:!0,run:F}}var ia=function(a,S){return function(F,q){S(F,q,a)}};const et="inQuickInput",Xe=new de.N1(et,!1,k.kg("inQuickInput","Whether keyboard focus is inside the quick input control")),Yt=de.M$.has(et),Ut="quickInputType",zn=new de.N1(Ut,void 0,k.kg("quickInputType","The type of the currently visible quick input")),Wn="cursorAtEndOfQuickInputBox",ei=new de.N1(Wn,!1,k.kg("cursorAtEndOfQuickInputBox","Whether the cursor in the quick input is at the end of the input box")),Fi=de.M$.has(Wn),Ar={iconClass:_e.L.asClassName(Z.W.quickInputBack),tooltip:k.kg("quickInput.back","Back"),handle:-1};class Di extends J.jG{static{this.noPromptMessage=k.kg("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel")}constructor(a){super(),this.ui=a,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._leftButtons=[],this._rightButtons=[],this._inlineButtons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=Di.noPromptMessage,this._severity=ye.A.Ignore,this.onDidTriggerButtonEmitter=this._register(new Pe.vl),this.onDidHideEmitter=this._register(new Pe.vl),this.onWillHideEmitter=this._register(new Pe.vl),this.onDisposeEmitter=this._register(new Pe.vl),this.visibleDisposables=this._register(new J.Cm),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(a){this._title=a,this.update()}get description(){return this._description}set description(a){this._description=a,this.update()}get step(){return this._steps}set step(a){this._steps=a,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(a){this._totalSteps=a,this.update()}get enabled(){return this._enabled}set enabled(a){this._enabled=a,this.update()}get contextKey(){return this._contextKey}set contextKey(a){this._contextKey=a,this.update()}get busy(){return this._busy}set busy(a){this._busy=a,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(a){const S=this._ignoreFocusOut!==a&&!Zi.un;this._ignoreFocusOut=a&&!Zi.un,S&&this.update()}get titleButtons(){return this._leftButtons.length?[...this._leftButtons,this._rightButtons]:this._rightButtons}get buttons(){return[...this._leftButtons,...this._rightButtons,...this._inlineButtons]}set buttons(a){this._leftButtons=a.filter((S)=>S===Ar),this._rightButtons=a.filter((S)=>S!==Ar&&S.location!==ui.dH.Inline),this._inlineButtons=a.filter((S)=>S.location===ui.dH.Inline),this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(a){this._toggles=a??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(a){this._validationMessage=a,this.update()}get severity(){return this._severity}set severity(a){this._severity=a,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((a)=>{this.buttons.indexOf(a)!==-1&&this.onDidTriggerButtonEmitter.fire(a)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(a=ui.kF.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:a})}willHide(a=ui.kF.Other){this.onWillHideEmitter.fire({reason:a})}update(){if(!this.visible)return;const a=this.getTitle();a&&this.ui.title.textContent!==a?this.ui.title.textContent=a:a||this.ui.title.innerHTML==="&nbsp;"||(this.ui.title.innerText="\xA0");const S=this.getDescription();if(this.ui.description1.textContent!==S&&(this.ui.description1.textContent=S),this.ui.description2.textContent!==S&&(this.ui.description2.textContent=S),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Y.Ln(this.ui.widget,this._widget):Y.Ln(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new f.pc,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const q=this._leftButtons.map((Ee,Ge)=>Co(Ee,`id-${Ge}`,async()=>this.onDidTriggerButtonEmitter.fire(Ee)));this.ui.leftActionBar.push(q,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const fe=this._rightButtons.map((Ee,Ge)=>Co(Ee,`id-${Ge}`,async()=>this.onDidTriggerButtonEmitter.fire(Ee)));this.ui.rightActionBar.push(fe,{icon:!0,label:!1}),this.ui.inlineActionBar.clear();const Re=this._inlineButtons.map((Ee,Ge)=>Co(Ee,`id-${Ge}`,async()=>this.onDidTriggerButtonEmitter.fire(Ee)));this.ui.inlineActionBar.push(Re,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const q=this.toggles?.filter((fe)=>fe instanceof ks.l)??[];this.ui.inputBox.toggles=q}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const F=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==F&&(this._lastValidationMessage=F,Y.Ln(this.ui.message),function(q,fe,Re){Y.Ln(fe);const Ee=function(vt){const Ct=[];let Qt,an=0;for(;Qt=xa.exec(vt);){Qt.index-an>0&&Ct.push(vt.substring(an,Qt.index));const[,kn,jn,,bi]=Qt;bi?Ct.push({label:kn,href:jn,title:bi}):Ct.push({label:kn,href:jn}),an=Qt.index+Qt[0].length}return an<vt.length&&Ct.push(vt.substring(an)),new _o(Ct)}(q);let Ge=0;for(let vt of Ee.nodes)if(typeof vt=="string")fe.append(...Us.n(vt));else{let Ct=vt.title;!Ct&&vt.href.startsWith("command:")?Ct=k.kg("executeCommand","Click to execute command '{0}'",vt.href.substring(8)):Ct||(Ct=vt.href);const Qt=Y.$("a",{href:vt.href,title:Ct,tabIndex:Ge++},vt.label);Qt.style.textDecoration="underline";const an=(Ei)=>{Y.sd(Ei)&&Y.fs.stop(Ei,!0),Re.callback(vt.href)},kn=Re.disposables.add(new Oo.f(Qt,Y.Bx.CLICK)).event,jn=Re.disposables.add(new Oo.f(Qt,Y.Bx.KEY_DOWN)).event,bi=Pe.Jh.chain(jn,(Ei)=>Ei.filter((yr)=>{const hr=new Hn.Z(yr);return hr.equals(10)||hr.equals(3)}));Re.disposables.add(Fn.q.addTarget(Qt));const gr=Re.disposables.add(new Oo.f(Qt,Fn.B.Tap)).event;Pe.Jh.any(kn,gr,bi)(an,null,Re.disposables),fe.appendChild(Qt)}}(F,this.ui.message,{callback:(q)=>{this.ui.linkOpenerDelegate(q)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?k.kg("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(a){if(this.ui.inputBox.showDecoration(a),a!==ye.A.Ignore){const S=this.ui.inputBox.stylesForType(a);this.ui.message.style.color=S.foreground?`${S.foreground}`:"",this.ui.message.style.backgroundColor=S.background?`${S.background}`:"",this.ui.message.style.border=S.border?`1px solid ${S.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}class xr extends Di{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Pe.vl),this.onWillAcceptEmitter=this._register(new Pe.vl),this.onDidAcceptEmitter=this._register(new Pe.vl),this.onDidCustomEmitter=this._register(new Pe.vl),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=ui.C1.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Pe.vl),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Pe.vl),this.onDidTriggerItemButtonEmitter=this._register(new Pe.vl),this.onDidTriggerSeparatorButtonEmitter=this._register(new Pe.vl),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this._focusEventBufferer=new Pe.at,this.type="quickPick",this.filterValue=(a)=>a,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}static{this.DEFAULT_ARIA_LABEL=k.kg("quickInputBox.ariaLabel","Type to narrow down results.")}get quickNavigate(){return this._quickNavigate}set quickNavigate(a){this._quickNavigate=a,this.update()}get value(){return this._value}set value(a){this.doSetValue(a)}doSetValue(a,S){this._value!==a&&(this._value=a,S||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(a){this._ariaLabel=a,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(a){this._placeholder=a,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(a){this.ui.list.scrollTop=a}set items(a){this._items=a,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(a){this._canSelectMany=a,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(a){this._canAcceptInBackground=a}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(a){this._matchOnDescription=a,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(a){this._matchOnDetail=a,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(a){this._matchOnLabel=a,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(a){this._matchOnLabelMode=a,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(a){this._sortByLabel=a,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(a){this._keepScrollPosition=a}get itemActivation(){return this._itemActivation}set itemActivation(a){this._itemActivation=a}get activeItems(){return this._activeItems}set activeItems(a){this._activeItems=a,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(a){this._selectedItems=a,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?ui.Ym:this.ui.keyMods}get valueSelection(){const a=this.ui.inputBox.getSelection();if(a)return[a.start,a.end]}set valueSelection(a){this._valueSelection=a,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(a){this._customButton=a,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(a){this._customButtonLabel=a,this.update()}get customHover(){return this._customButtonHover}set customHover(a){this._customButtonHover=a,this.update()}get ok(){return this._ok}set ok(a){this._ok=a,this.update()}get hideInput(){return!!this._hideInput}set hideInput(a){this._hideInput=a,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(ui.Fp.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((a)=>{this.doSetValue(a,!0)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this._focusEventBufferer.wrapEvent(this.ui.list.onDidChangeFocus,(a,S)=>S)((a)=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&x.aI(a,this._activeItems,(S,F)=>S===F)||(this._activeItems=a,this.onDidChangeActiveEmitter.fire(a))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:a,event:S})=>{this.canSelectMany?a.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&x.aI(a,this._selectedItems,(F,q)=>F===q)||(this._selectedItems=a,this.onDidChangeSelectionEmitter.fire(a),a.length&&this.handleAccept(Y.Er(S)&&S.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((a)=>{this.canSelectMany&&this.visible&&(this.selectedItemsToConfirm!==this._selectedItems&&x.aI(a,this._selectedItems,(S,F)=>S===F)||(this._selectedItems=a,this.onDidChangeSelectionEmitter.fire(a)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered((a)=>this.onDidTriggerItemButtonEmitter.fire(a))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered((a)=>this.onDidTriggerSeparatorButtonEmitter.fire(a))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(a){let S=!1;this.onWillAcceptEmitter.fire({veto:()=>S=!0}),S||this.onDidAcceptEmitter.fire({inBackground:a})}registerQuickNavigation(){return Y.ko(this.ui.container,Y.Bx.KEY_UP,(a)=>{if(this.canSelectMany||!this._quickNavigate)return;const S=new Hn.Z(a),F=S.keyCode;this._quickNavigate.keybindings.some((q)=>{const fe=q.getChords();return!(fe.length>1||(fe[0].shiftKey&&F===4?S.ctrlKey||S.altKey||S.metaKey:!(fe[0].altKey&&F===6||fe[0].ctrlKey&&F===5||fe[0].metaKey&&F===57)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const a=this.keepScrollPosition?this.scrollTop:0,S=!!this.description,F={title:!!this.title||!!this.step||!!this.titleButtons.length,description:S,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||S,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(F),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let q=this.ariaLabel;!q&&F.inputBox&&(q=this.placeholder||xr.DEFAULT_ARIA_LABEL,this.title&&(q+=` - ${this.title}`)),this.ui.list.ariaLabel!==q&&(this.ui.list.ariaLabel=q??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated&&(this.itemsUpdated=!1,this._focusEventBufferer.bufferEvents(()=>{switch(this.ui.list.setElements(this.items),this.ui.list.shouldLoop=!this.canSelectMany,this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this._itemActivation){case ui.C1.NONE:this._itemActivation=ui.C1.FIRST;break;case ui.C1.SECOND:this.ui.list.focus(ui.Fp.Second),this._itemActivation=ui.C1.FIRST;break;case ui.C1.LAST:this.ui.list.focus(ui.Fp.Last),this._itemActivation=ui.C1.FIRST;break;default:this.trySelectFirst()}})),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",F.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(ui.Fp.First)),this.keepScrollPosition&&(this.scrollTop=a)}focus(a){this.ui.list.focus(a),this.canSelectMany&&this.ui.list.domFocus()}accept(a){a&&!this._canAcceptInBackground||this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(a??!1))}}class Ri extends Di{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new Pe.vl),this.onDidAcceptEmitter=this._register(new Pe.vl),this.type="inputBox",this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(a){this._value=a||"",this.update()}get placeholder(){return this._placeholder}set placeholder(a){this._placeholder=a,this.update()}get password(){return this._password}set password(a){this._password=a,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((a)=>{a!==this.value&&(this._value=a,this.onDidValueChangeEmitter.fire(a))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const a={title:!!this.title||!!this.step||!!this.titleButtons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(a),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}let Rr=class extends li.fO{constructor(a,S){super("element",!1,(F)=>this.getOverrideOptions(F),a,S)}getOverrideOptions(a){return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:(Y.sb(a.content)?a.content.textContent??"":typeof a.content=="string"?a.content:a.content.value).includes("\n"),skipFadeInAnimation:!0}}}};Rr=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([ia(0,Ln.pG),ia(1,li.TN)],Rr);var zr=h(1373),Ts=h(9233);const lr="done",bo="active",Jr="infinite",pr="infinite-long-running",Cr="discrete";class zo extends J.jG{static{this.LONG_RUNNING_INFINITE_THRESHOLD=1e4}constructor(a,S){super(),this.progressSignal=this._register(new J.HE),this.workedVal=0,this.showDelayedScheduler=this._register(new f.uC(()=>Y.WU(this.element),0)),this.longRunningScheduler=this._register(new f.uC(()=>this.infiniteLongRunning(),zo.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(a,S)}create(a,S){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),a.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=S?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(bo,Jr,pr,Cr),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}stop(){return this.doDone(!1)}doDone(a){return this.element.classList.add(lr),this.element.classList.contains(Jr)?(this.bit.style.opacity="0",a?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",a?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Cr,lr,pr),this.element.classList.add(bo,Jr),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(pr)}getContainer(){return this.element}}var Pr=h(6595);const qr=Y.$;class is extends J.jG{constructor(a,S,F){super(),this.parent=a,this.onKeyDown=(fe)=>Y.b2(this.findInput.inputBox.inputElement,Y.Bx.KEY_DOWN,fe),this.onDidChange=(fe)=>this.findInput.onDidChange(fe),this.container=Y.BC(this.parent,qr(".quick-input-box")),this.findInput=this._register(new Pr.c(this.container,void 0,{label:"",inputBoxStyles:S,toggleStyles:F}));const q=this.findInput.inputBox.inputElement;q.role="combobox",q.ariaHasPopup="menu",q.ariaAutoComplete="list",q.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(a){this.findInput.setValue(a)}select(a=null){this.findInput.inputBox.select(a)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(a){this.findInput.inputBox.setPlaceHolder(a)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(a){this.findInput.inputBox.inputElement.type=a?"password":"text"}set enabled(a){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!a)}set toggles(a){this.findInput.setAdditionalToggles(a)}setAttribute(a,S){this.findInput.inputBox.inputElement.setAttribute(a,S)}showDecoration(a){a===ye.A.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:a===ye.A.Info?1:a===ye.A.Warning?2:3,content:""})}stylesForType(a){return this.findInput.inputBox.stylesForType(a===ye.A.Info?1:a===ye.A.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var Ho=h(3532),Zl=h(4431),Yo=h(5095),Jd=h(9563),jo=h(3946);const ra=new jo.d(()=>{const a=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:a,collatorIsNumeric:a.resolvedOptions().numeric}});new jo.d(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new jo.d(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var nl,il=h(3043),fr=h(6311),rs=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee},Ca=function(a,S){return function(F,q){S(F,q,a)}};const Wo=Y.$;class $o{constructor(a,S,F){this.index=a,this.hasCheckbox=S,this._hidden=!1,this._init=new jo.d(()=>{const q=F.label??"",fe=Ne._k(q).text.trim(),Re=F.ariaLabel||[q,this.saneDescription,this.saneDetail].map((Ee)=>Ne.R$(Ee)).filter((Ee)=>!!Ee).join(", ");return{saneLabel:q,saneSortLabel:fe,saneAriaLabel:Re}}),this._saneDescription=F.description,this._saneTooltip=F.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(a){this._element=a}get hidden(){return this._hidden}set hidden(a){this._hidden=a}get saneDescription(){return this._saneDescription}set saneDescription(a){this._saneDescription=a}get saneDetail(){return this._saneDetail}set saneDetail(a){this._saneDetail=a}get saneTooltip(){return this._saneTooltip}set saneTooltip(a){this._saneTooltip=a}get labelHighlights(){return this._labelHighlights}set labelHighlights(a){this._labelHighlights=a}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(a){this._descriptionHighlights=a}get detailHighlights(){return this._detailHighlights}set detailHighlights(a){this._detailHighlights=a}}class Wr extends $o{constructor(a,S,F,q,fe,Re){super(a,S,fe),this.fireButtonTriggered=F,this._onChecked=q,this.item=fe,this._separator=Re,this._checked=!1,this.onChecked=S?Pe.Jh.map(Pe.Jh.filter(this._onChecked.event,(Ee)=>Ee.element===this),(Ee)=>Ee.checked):Pe.Jh.None,this._saneDetail=fe.detail,this._labelHighlights=fe.highlights?.label,this._descriptionHighlights=fe.highlights?.description,this._detailHighlights=fe.highlights?.detail}get separator(){return this._separator}set separator(a){this._separator=a}get checked(){return this._checked}set checked(a){a!==this._checked&&(this._checked=a,this._onChecked.fire({element:this,checked:a}))}get checkboxDisabled(){return!!this.item.disabled}}var vo;(function(a){a[a.NONE=0]="NONE",a[a.MOUSE_HOVER=1]="MOUSE_HOVER",a[a.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(vo||(vo={}));class _r extends $o{constructor(a,S,F){super(a,!1,F),this.fireSeparatorButtonTriggered=S,this.separator=F,this.children=new Array,this.focusInsideSeparator=vo.NONE}}class As{getHeight(a){return a instanceof _r?30:a.saneDetail?44:22}getTemplateId(a){return a instanceof Wr?oa.ID:sa.ID}}class rl{getWidgetAriaLabel(){return k.kg("quickInput","Quick Input")}getAriaLabel(a){return a.separator?.label?`${a.saneAriaLabel}, ${a.separator.label}`:a.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(a){return a.hasCheckbox?"checkbox":"option"}isChecked(a){if(a.hasCheckbox&&a instanceof Wr)return{get value(){return a.checked},onDidChange:(S)=>a.onChecked(()=>S())}}}class Ea{constructor(a){this.hoverDelegate=a}renderTemplate(a){const S=Object.create(null);S.toDisposeElement=new J.Cm,S.toDisposeTemplate=new J.Cm,S.entry=Y.BC(a,Wo(".quick-input-list-entry"));const F=Y.BC(S.entry,Wo("label.quick-input-list-label"));S.toDisposeTemplate.add(Y.b2(F,Y.Bx.CLICK,(vt)=>{S.checkbox.offsetParent||vt.preventDefault()})),S.checkbox=Y.BC(F,Wo("input.quick-input-list-checkbox")),S.checkbox.type="checkbox";const q=Y.BC(F,Wo(".quick-input-list-rows")),fe=Y.BC(q,Wo(".quick-input-list-row")),Re=Y.BC(q,Wo(".quick-input-list-row"));S.label=new Zl.s(fe,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),S.toDisposeTemplate.add(S.label),S.icon=Y.Hs(S.label.element,Wo(".quick-input-list-icon"));const Ee=Y.BC(fe,Wo(".quick-input-list-entry-keybinding"));S.keybinding=new Yo.x(Ee,Zi.OS),S.toDisposeTemplate.add(S.keybinding);const Ge=Y.BC(Re,Wo(".quick-input-list-label-meta"));return S.detail=new Zl.s(Ge,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),S.toDisposeTemplate.add(S.detail),S.separator=Y.BC(S.entry,Wo(".quick-input-list-separator")),S.actionBar=new fn.E(S.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),S.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),S.toDisposeTemplate.add(S.actionBar),S}disposeTemplate(a){a.toDisposeElement.dispose(),a.toDisposeTemplate.dispose()}disposeElement(a,S,F){F.toDisposeElement.clear(),F.actionBar.clear()}}let oa=class extends Ea{static{nl=this}static{this.ID="quickpickitem"}constructor(a,S){super(a),this.themeService=S,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return nl.ID}renderTemplate(a){const S=super.renderTemplate(a);return S.toDisposeTemplate.add(Y.b2(S.checkbox,Y.Bx.CHANGE,(F)=>{S.element.checked=S.checkbox.checked})),S}renderElement(a,S,F){const q=a.element;F.element=q,q.element=F.entry??void 0;const fe=q.item;F.checkbox.checked=q.checked,F.toDisposeElement.add(q.onChecked((an)=>F.checkbox.checked=an)),F.checkbox.disabled=q.checkboxDisabled;const{labelHighlights:Re,descriptionHighlights:Ee,detailHighlights:Ge}=q;if(fe.iconPath){const an=Jd.HD(this.themeService.getColorTheme().type)?fe.iconPath.dark:fe.iconPath.light??fe.iconPath.dark,kn=v.r.revive(an);F.icon.className="quick-input-list-icon",F.icon.style.backgroundImage=Y.Tf(kn)}else F.icon.style.backgroundImage="",F.icon.className=fe.iconClass?`quick-input-list-icon ${fe.iconClass}`:"";let vt;!q.saneTooltip&&q.saneDescription&&(vt={markdown:{value:q.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:q.saneDescription});const Ct={matches:Re||[],descriptionTitle:vt,descriptionMatches:Ee||[],labelEscapeNewLines:!0};if(Ct.extraClasses=fe.iconClasses,Ct.italic=fe.italic,Ct.strikethrough=fe.strikethrough,F.entry.classList.remove("quick-input-list-separator-as-item"),F.label.setLabel(q.saneLabel,q.saneDescription,Ct),F.keybinding.set(fe.keybinding),q.saneDetail){let an;q.saneTooltip||(an={markdown:{value:q.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:q.saneDetail}),F.detail.element.style.display="",F.detail.setLabel(q.saneDetail,void 0,{matches:Ge,title:an,labelEscapeNewLines:!0})}else F.detail.element.style.display="none";q.separator?.label?(F.separator.textContent=q.separator.label,F.separator.style.display="",this.addItemWithSeparator(q)):F.separator.style.display="none",F.entry.classList.toggle("quick-input-list-separator-border",!!q.separator);const Qt=fe.buttons;Qt&&Qt.length?(F.actionBar.push(Qt.map((an,kn)=>Co(an,`id-${kn}`,()=>q.fireButtonTriggered({button:an,item:q.item}))),{icon:!0,label:!1}),F.entry.classList.add("has-actions")):F.entry.classList.remove("has-actions")}disposeElement(a,S,F){this.removeItemWithSeparator(a.element),super.disposeElement(a,S,F)}isItemWithSeparatorVisible(a){return this._itemsWithSeparatorsFrequency.has(a)}addItemWithSeparator(a){this._itemsWithSeparatorsFrequency.set(a,(this._itemsWithSeparatorsFrequency.get(a)||0)+1)}removeItemWithSeparator(a){const S=this._itemsWithSeparatorsFrequency.get(a)||0;S>1?this._itemsWithSeparatorsFrequency.set(a,S-1):this._itemsWithSeparatorsFrequency.delete(a)}};oa=nl=rs([Ca(1,Ve.Gy)],oa);class sa extends Ea{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}static{this.ID="quickpickseparator"}get templateId(){return sa.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(a){return this._visibleSeparatorsFrequency.has(a)}renderTemplate(a){const S=super.renderTemplate(a);return S.checkbox.style.display="none",S}renderElement(a,S,F){const q=a.element;F.element=q,q.element=F.entry??void 0,q.element.classList.toggle("focus-inside",!!q.focusInsideSeparator);const fe=q.separator,{labelHighlights:Re,descriptionHighlights:Ee,detailHighlights:Ge}=q;let vt;F.icon.style.backgroundImage="",F.icon.className="",!q.saneTooltip&&q.saneDescription&&(vt={markdown:{value:q.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:q.saneDescription});const Ct={matches:Re||[],descriptionTitle:vt,descriptionMatches:Ee||[],labelEscapeNewLines:!0};if(F.entry.classList.add("quick-input-list-separator-as-item"),F.label.setLabel(q.saneLabel,q.saneDescription,Ct),q.saneDetail){let an;q.saneTooltip||(an={markdown:{value:q.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:q.saneDetail}),F.detail.element.style.display="",F.detail.setLabel(q.saneDetail,void 0,{matches:Ge,title:an,labelEscapeNewLines:!0})}else F.detail.element.style.display="none";F.separator.style.display="none",F.entry.classList.add("quick-input-list-separator-border");const Qt=fe.buttons;Qt&&Qt.length?(F.actionBar.push(Qt.map((an,kn)=>Co(an,`id-${kn}`,()=>q.fireSeparatorButtonTriggered({button:an,separator:q.separator}))),{icon:!0,label:!1}),F.entry.classList.add("has-actions")):F.entry.classList.remove("has-actions"),this.addSeparator(q)}disposeElement(a,S,F){this.removeSeparator(a.element),this.isSeparatorVisible(a.element)||a.element.element?.classList.remove("focus-inside"),super.disposeElement(a,S,F)}addSeparator(a){this._visibleSeparatorsFrequency.set(a,(this._visibleSeparatorsFrequency.get(a)||0)+1)}removeSeparator(a){const S=this._visibleSeparatorsFrequency.get(a)||0;S>1?this._visibleSeparatorsFrequency.set(a,S-1):this._visibleSeparatorsFrequency.delete(a)}}let co=class extends J.jG{constructor(a,S,F,q,fe,Re){super(),this.parent=a,this.hoverDelegate=S,this.linkOpenerDelegate=F,this.accessibilityService=Re,this._onKeyDown=new Pe.vl,this._onLeave=new Pe.vl,this.onLeave=this._onLeave.event,this._visibleCountObservable=fr.FY("VisibleCount",0),this.onChangedVisibleCount=Pe.Jh.fromObservable(this._visibleCountObservable,this._store),this._allVisibleCheckedObservable=fr.FY("AllVisibleChecked",!1),this.onChangedAllVisibleChecked=Pe.Jh.fromObservable(this._allVisibleCheckedObservable,this._store),this._checkedCountObservable=fr.FY("CheckedCount",0),this.onChangedCheckedCount=Pe.Jh.fromObservable(this._checkedCountObservable,this._store),this._checkedElementsObservable=fr.Zh({equalsFn:x.aI},new Array),this.onChangedCheckedElements=Pe.Jh.fromObservable(this._checkedElementsObservable,this._store),this._onButtonTriggered=new Pe.vl,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new Pe.vl,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._elementChecked=new Pe.vl,this._elementCheckedEventBufferer=new Pe.at,this._hasCheckboxes=!1,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new J.Cm),this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._shouldLoop=!0,this._container=Y.BC(this.parent,Wo(".quick-input-list")),this._separatorRenderer=new sa(S),this._itemRenderer=fe.createInstance(oa,S),this._tree=this._register(fe.createInstance(Ho.zL,"QuickInput",this._container,new As,[this._itemRenderer,this._separatorRenderer],{filter:{filter:(Ee)=>Ee.hidden?0:Ee instanceof _r?2:1},sorter:{compare:(Ee,Ge)=>this.sortByLabel&&this._lastQueryString?function(vt,Ct,Qt){const an=vt.labelHighlights||[],kn=Ct.labelHighlights||[];return an.length&&!kn.length?-1:!an.length&&kn.length?1:an.length===0&&kn.length===0?0:function(jn,bi,gr){const Ei=jn.toLowerCase(),yr=bi.toLowerCase(),hr=function(zi,Or,Hr){const Tr=zi.toLowerCase(),oo=Or.toLowerCase(),Wi=Tr.startsWith(Hr),Ir=oo.startsWith(Hr);if(Wi!==Ir)return Wi?-1:1;if(Wi&&Ir){if(Tr.length<oo.length)return-1;if(Tr.length>oo.length)return 1}return 0}(jn,bi,gr);if(hr)return hr;const mr=Ei.endsWith(gr);if(mr!==yr.endsWith(gr))return mr?-1:1;const Sr=function(zi,Or){const Hr=zi||"",Tr=Or||"",oo=ra.value.collator.compare(Hr,Tr);return ra.value.collatorIsNumeric&&oo===0&&Hr!==Tr?Hr<Tr?-1:1:oo}(Ei,yr);return Sr!==0?Sr:Ei.localeCompare(yr)}(vt.saneSortLabel,Ct.saneSortLabel,Qt)}(Ee,Ge,this._lastQueryString.toLowerCase()):0},accessibilityProvider:new rl,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:il.KP.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=q,this._registerListeners()}get onDidChangeFocus(){return Pe.Jh.map(this._tree.onDidChangeFocus,(a)=>a.elements.filter((S)=>S instanceof Wr).map((S)=>S.item),this._store)}get onDidChangeSelection(){return Pe.Jh.map(this._tree.onDidChangeSelection,(a)=>({items:a.elements.filter((S)=>S instanceof Wr).map((S)=>S.item),event:a.browserEvent}),this._store)}get displayed(){return this._container.style.display!=="none"}set displayed(a){this._container.style.display=a?"":"none"}get scrollTop(){return this._tree.scrollTop}set scrollTop(a){this._tree.scrollTop=a}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(a){this._tree.ariaLabel=a??""}set enabled(a){this._tree.getHTMLElement().style.pointerEvents=a?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(a){this._matchOnDescription=a}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(a){this._matchOnDetail=a}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(a){this._matchOnLabel=a}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(a){this._matchOnLabelMode=a}get sortByLabel(){return this._sortByLabel}set sortByLabel(a){this._sortByLabel=a}get shouldLoop(){return this._shouldLoop}set shouldLoop(a){this._shouldLoop=a}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnTreeModelChanged(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown((a)=>{const S=new Hn.Z(a);S.keyCode===10&&this.toggleCheckbox(),this._onKeyDown.fire(S)}))}_registerOnContainerClick(){this._register(Y.ko(this._container,Y.Bx.CLICK,(a)=>{(a.x||a.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(Y.ko(this._container,Y.Bx.AUXCLICK,(a)=>{a.button===1&&this._onLeave.fire()}))}_registerOnTreeModelChanged(){this._register(this._tree.onDidChangeModel(()=>{const a=this._itemElements.filter((S)=>!S.hidden).length;this._visibleCountObservable.set(a,void 0),this._hasCheckboxes&&this._updateCheckedObservables()}))}_registerOnElementChecked(){this._register(this._elementCheckedEventBufferer.wrapEvent(this._elementChecked.event,(a,S)=>S)((a)=>this._updateCheckedObservables()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu((a)=>{a.element&&(a.browserEvent.preventDefault(),this._tree.setSelection([a.element]))}))}_registerHoverListeners(){const a=this._register(new f.Th(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async(S)=>{if(Y.nY(S.browserEvent.target))a.cancel();else if(Y.nY(S.browserEvent.relatedTarget)||!Y.QX(S.browserEvent.relatedTarget,S.element?.element))try{await a.trigger(async()=>{S.element instanceof Wr&&this.showHover(S.element)})}catch(F){if(!m.MB(F))throw F}})),this._register(this._tree.onMouseOut((S)=>{Y.QX(S.browserEvent.relatedTarget,S.element?.element)||a.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus((a)=>{const S=a.elements[0]?this._tree.getParentElement(a.elements[0]):null;for(let F of this._separatorRenderer.visibleSeparators){const q=F===S;!!(F.focusInsideSeparator&vo.ACTIVE_ITEM)!==q&&(q?F.focusInsideSeparator|=vo.ACTIVE_ITEM:F.focusInsideSeparator&=~vo.ACTIVE_ITEM,this._tree.rerender(F))}})),this._register(this._tree.onMouseOver((a)=>{const S=a.element?this._tree.getParentElement(a.element):null;for(let F of this._separatorRenderer.visibleSeparators)F===S&&(F.focusInsideSeparator&vo.MOUSE_HOVER||(F.focusInsideSeparator|=vo.MOUSE_HOVER,this._tree.rerender(F)))})),this._register(this._tree.onMouseOut((a)=>{const S=a.element?this._tree.getParentElement(a.element):null;for(let F of this._separatorRenderer.visibleSeparators)F===S&&F.focusInsideSeparator&vo.MOUSE_HOVER&&(F.focusInsideSeparator&=~vo.MOUSE_HOVER,this._tree.rerender(F))}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection((a)=>{const S=a.elements.filter((F)=>F instanceof Wr);S.length!==a.elements.length&&(a.elements.length===1&&a.elements[0]instanceof _r&&(this._tree.setFocus([a.elements[0].children[0]]),this._tree.reveal(a.elements[0],0)),this._tree.setSelection(S))}))}setAllVisibleChecked(a){this._elementCheckedEventBufferer.bufferEvents(()=>{this._itemElements.forEach((S)=>{S.hidden||S.checkboxDisabled||(S.checked=a)})})}setElements(a){let S;this._elementDisposable.clear(),this._lastQueryString=void 0,this._inputElements=a,this._hasCheckboxes=this.parent.classList.contains("show-checkboxes"),this._itemElements=new Array,this._elementTree=a.reduce((F,q,fe)=>{let Re;if(q.type==="separator"){if(!q.buttons)return F;S=new _r(fe,(Ee)=>this._onSeparatorButtonTriggered.fire(Ee),q),Re=S}else{const Ee=fe>0?a[fe-1]:void 0;let Ge;Ee&&Ee.type==="separator"&&!Ee.buttons&&(S=void 0,Ge=Ee);const vt=new Wr(fe,this._hasCheckboxes,(Ct)=>this._onButtonTriggered.fire(Ct),this._elementChecked,q,Ge);if(this._itemElements.push(vt),S)return S.children.push(vt),F;Re=vt}return F.push(Re),F},new Array),this._setElementsToTree(this._elementTree),this.accessibilityService.isScreenReaderOptimized()&&setTimeout(()=>{const F=this._tree.getHTMLElement().querySelector(".monaco-list-row.focused"),q=F?.parentNode;if(F&&q){const fe=F.nextSibling;F.remove(),q.insertBefore(F,fe)}},0)}setFocusedElements(a){const S=a.map((F)=>this._itemElements.find((q)=>q.item===F)).filter((F)=>!!F).filter((F)=>!F.hidden);if(this._tree.setFocus(S),a.length>0){const F=this._tree.getFocus()[0];F&&this._tree.reveal(F)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(a){const S=a.map((F)=>this._itemElements.find((q)=>q.item===F)).filter((F)=>!!F);this._tree.setSelection(S)}getCheckedElements(){return this._itemElements.filter((a)=>a.checked).map((a)=>a.item)}setCheckedElements(a){this._elementCheckedEventBufferer.bufferEvents(()=>{const S=new Set;for(let F of a)S.add(F);for(let F of this._itemElements)F.checked=S.has(F.item)})}focus(a){if(this._itemElements.length)switch(a===ui.Fp.Second&&this._itemElements.length<2&&(a=ui.Fp.First),a){case ui.Fp.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,(S)=>S.element instanceof Wr);break;case ui.Fp.Second:{this._tree.scrollTop=0;let S=!1;this._tree.focusFirst(void 0,(F)=>F.element instanceof Wr&&(!!S||(S=!S,!1)));break}case ui.Fp.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,(S)=>S.element instanceof Wr);break;case ui.Fp.Next:{const S=this._tree.getFocus();this._tree.focusNext(void 0,this._shouldLoop,void 0,(q)=>q.element instanceof Wr&&(this._tree.reveal(q.element),!0));const F=this._tree.getFocus();S.length&&S[0]===F[0]&&S[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}case ui.Fp.Previous:{const S=this._tree.getFocus();this._tree.focusPrevious(void 0,this._shouldLoop,void 0,(q)=>{if(!(q.element instanceof Wr))return!1;const fe=this._tree.getParentElement(q.element);return fe===null||fe.children[0]!==q.element?this._tree.reveal(q.element):this._tree.reveal(fe),!0});const F=this._tree.getFocus();S.length&&S[0]===F[0]&&S[0]===this._itemElements[0]&&this._onLeave.fire();break}case ui.Fp.NextPage:this._tree.focusNextPage(void 0,(S)=>S.element instanceof Wr&&(this._tree.reveal(S.element),!0));break;case ui.Fp.PreviousPage:this._tree.focusPreviousPage(void 0,(S)=>{if(!(S.element instanceof Wr))return!1;const F=this._tree.getParentElement(S.element);return F===null||F.children[0]!==S.element?this._tree.reveal(S.element):this._tree.reveal(F),!0});break;case ui.Fp.NextSeparator:{let S=!1;const F=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,(q)=>{if(S)return!0;if(q.element instanceof _r)S=!0,this._separatorRenderer.isSeparatorVisible(q.element)?this._tree.reveal(q.element.children[0]):this._tree.reveal(q.element,0);else if(q.element instanceof Wr){if(q.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(q.element)?this._tree.reveal(q.element):this._tree.reveal(q.element,0),!0;if(q.element===this._elementTree[0])return this._tree.reveal(q.element,0),!0}return!1}),F===this._tree.getFocus()[0]&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,(q)=>q.element instanceof Wr));break}case ui.Fp.PreviousSeparator:{let S,F=!!this._tree.getFocus()[0]?.separator;this._tree.focusPrevious(void 0,!0,void 0,(q)=>{if(q.element instanceof _r)F?S||(this._separatorRenderer.isSeparatorVisible(q.element)?this._tree.reveal(q.element):this._tree.reveal(q.element,0),S=q.element.children[0]):F=!0;else if(q.element instanceof Wr&&!S){if(q.element.separator)this._itemRenderer.isItemWithSeparatorVisible(q.element)?this._tree.reveal(q.element):this._tree.reveal(q.element,0),S=q.element;else if(q.element===this._elementTree[0])return this._tree.reveal(q.element,0),!0}return!1}),S&&this._tree.setFocus([S]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(a){this._tree.getHTMLElement().style.maxHeight=a?44*Math.floor(a/44)+6+"px":"",this._tree.layout()}filter(a){if(this._lastQueryString=a,!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const S=a;if((a=a.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let F;this._itemElements.forEach((q)=>{let fe;fe=this.matchOnLabelMode==="fuzzy"?this.matchOnLabel?Ne.pz(a,Ne._k(q.saneLabel))??void 0:void 0:this.matchOnLabel?function(Ge,vt){const{text:Ct,iconOffsets:Qt}=vt;if(!Qt||Qt.length===0)return ol(Ge,Ct);const an=M.NB(Ct," "),kn=Ct.length-an.length,jn=ol(Ge,an);if(jn)for(let bi of jn){const gr=Qt[bi.start+kn]+kn;bi.start+=gr,bi.end+=gr}return jn}(S,Ne._k(q.saneLabel))??void 0:void 0;const Re=this.matchOnDescription?Ne.pz(a,Ne._k(q.saneDescription||""))??void 0:void 0,Ee=this.matchOnDetail?Ne.pz(a,Ne._k(q.saneDetail||""))??void 0:void 0;if(fe||Re||Ee?(q.labelHighlights=fe,q.descriptionHighlights=Re,q.detailHighlights=Ee,q.hidden=!1):(q.labelHighlights=void 0,q.descriptionHighlights=void 0,q.detailHighlights=void 0,q.hidden=!q.item||!q.item.alwaysShow),q.item?q.separator=void 0:q.separator&&(q.hidden=!0),!this.sortByLabel){const Ge=q.index&&this._inputElements[q.index-1]||void 0;Ge?.type!=="separator"||Ge.buttons||(F=Ge),F&&!q.hidden&&(q.separator=F,F=void 0)}})}else this._itemElements.forEach((F)=>{F.labelHighlights=void 0,F.descriptionHighlights=void 0,F.detailHighlights=void 0,F.hidden=!1;const q=F.index&&this._inputElements[F.index-1];F.item&&(F.separator=q&&q.type==="separator"&&!q.buttons?q:void 0)});return this._setElementsToTree(this._sortByLabel&&a?this._itemElements:this._elementTree),this._tree.layout(),!0}toggleCheckbox(){this._elementCheckedEventBufferer.bufferEvents(()=>{const a=this._tree.getFocus().filter((F)=>F instanceof Wr),S=this._allVisibleChecked(a);for(let F of a)F.checkboxDisabled||(F.checked=!S)})}style(a){this._tree.style(a)}toggleHover(){const a=this._tree.getFocus()[0];if(!(a?.saneTooltip&&a instanceof Wr))return;if(this._lastHover&&!this._lastHover.isDisposed)return void this._lastHover.dispose();this.showHover(a);const S=new J.Cm;S.add(this._tree.onDidChangeFocus((F)=>{F.elements[0]instanceof Wr&&this.showHover(F.elements[0])})),this._lastHover&&S.add(this._lastHover),this._elementDisposable.add(S)}_setElementsToTree(a){const S=new Array;for(let F of a)F instanceof _r?S.push({element:F,collapsible:!1,collapsed:!1,children:F.children.map((q)=>({element:q,collapsible:!1,collapsed:!1}))}):S.push({element:F,collapsible:!1,collapsed:!1});this._tree.setChildren(null,S)}_allVisibleChecked(a,S=!0){for(let F=0,q=a.length;F<q;F++){const fe=a[F];if(!fe.hidden){if(!fe.checked)return!1;S=!0}}return S}_updateCheckedObservables(){fr.Rn((a)=>{this._allVisibleCheckedObservable.set(this._allVisibleChecked(this._itemElements,!1),a);const S=this._itemElements.filter((F)=>F.checked).length;this._checkedCountObservable.set(S,a),this._checkedElementsObservable.set(this.getCheckedElements(),a)})}showHover(a){this._lastHover&&!this._lastHover.isDisposed&&(this.hoverDelegate.onDidHideHover?.(),this._lastHover?.dispose()),a.element&&a.saneTooltip&&(this._lastHover=this.hoverDelegate.showHover({content:a.saneTooltip,target:a.element,linkHandler:(S)=>{this.linkOpenerDelegate(S)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};function ol(a,S){const F=S.toLowerCase().indexOf(a.toLowerCase());return F!==-1?[{start:F,end:F+a.length}]:null}rs([go.B],co.prototype,"onDidChangeFocus",null),rs([go.B],co.prototype,"onDidChangeSelection",null),co=rs([Ca(4,Ue._Y),Ca(5,tr.j)],co);var aa=h(3034);const Ns={weight:200,when:de.M$.and(de.M$.equals(Ut,"quickPick"),Yt),metadata:{description:k.kg("quickPick","Used while in the context of the quick pick. If you change one keybinding for this command, you should change all of the other keybindings (modifier variants) of this command as well.")}};function Yr(a,S={}){bn.f.registerCommandAndKeybindingRule({...Ns,...a,secondary:ms(a.primary,a.secondary??[],S)})}const Is=Zi.zx?256:2048;function ms(a,S,F={}){return F.withAltMod&&S.push(512+a),F.withCtrlMod&&(S.push(Is+a),F.withAltMod&&S.push(512+Is+a)),F.withCmdMod&&Zi.zx&&(S.push(2048+a),F.withCtrlMod&&S.push(2304+a),F.withAltMod&&(S.push(2560+a),F.withCtrlMod&&S.push(2816+a))),S}function uo(a,S){return(F)=>{const q=F.get(ui.GK).currentQuickInput;if(q)return S&&q.quickNavigate?q.focus(S):q.focus(a)}}Yr({id:"quickInput.pageNext",primary:12,handler:uo(ui.Fp.NextPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0}),Yr({id:"quickInput.pagePrevious",primary:11,handler:uo(ui.Fp.PreviousPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0}),Yr({id:"quickInput.first",primary:Is+14,handler:uo(ui.Fp.First)},{withAltMod:!0,withCmdMod:!0}),Yr({id:"quickInput.last",primary:Is+13,handler:uo(ui.Fp.Last)},{withAltMod:!0,withCmdMod:!0}),Yr({id:"quickInput.next",primary:18,handler:uo(ui.Fp.Next)},{withCtrlMod:!0}),Yr({id:"quickInput.previous",primary:16,handler:uo(ui.Fp.Previous)},{withCtrlMod:!0});const Bs=k.kg("quickInput.nextSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the next item. If we are not in quick access mode, this will navigate to the next separator."),sl=k.kg("quickInput.previousSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the previous item. If we are not in quick access mode, this will navigate to the previous separator.");Zi.zx?(Yr({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:2066,handler:uo(ui.Fp.NextSeparator,ui.Fp.Next),metadata:{description:Bs}}),Yr({id:"quickInput.nextSeparator",primary:2578,secondary:[2322],handler:uo(ui.Fp.NextSeparator)},{withCtrlMod:!0}),Yr({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:2064,handler:uo(ui.Fp.PreviousSeparator,ui.Fp.Previous),metadata:{description:sl}}),Yr({id:"quickInput.previousSeparator",primary:2576,secondary:[2320],handler:uo(ui.Fp.PreviousSeparator)},{withCtrlMod:!0})):(Yr({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:530,handler:uo(ui.Fp.NextSeparator,ui.Fp.Next),metadata:{description:Bs}}),Yr({id:"quickInput.nextSeparator",primary:2578,handler:uo(ui.Fp.NextSeparator)}),Yr({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:528,handler:uo(ui.Fp.PreviousSeparator,ui.Fp.Previous),metadata:{description:sl}}),Yr({id:"quickInput.previousSeparator",primary:2576,handler:uo(ui.Fp.PreviousSeparator)})),Yr({id:"quickInput.acceptInBackground",when:de.M$.and(Ns.when,de.M$.or(aa.J7.negate(),Fi)),primary:17,weight:250,handler:(a)=>{a.get(ui.GK).currentQuickInput?.accept(!0)}},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});var Ja,ka=function(a,S){return function(F,q){S(F,q,a)}};const io=Y.$;let Ta=class extends J.jG{static{Ja=this}static{this.MAX_WIDTH=600}get currentQuickInput(){return this.controller??void 0}get container(){return this._container}constructor(a,S,F,q){super(),this.options=a,this.layoutService=S,this.instantiationService=F,this.contextKeyService=q,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Pe.vl),this.onDidCustomEmitter=this._register(new Pe.vl),this.onDidTriggerButtonEmitter=this._register(new Pe.vl),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Pe.vl),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Pe.vl),this.onHide=this.onHideEmitter.event,this.inQuickInputContext=Xe.bindTo(this.contextKeyService),this.quickInputTypeContext=zn.bindTo(this.contextKeyService),this.endOfQuickInputBoxContext=ei.bindTo(this.contextKeyService),this.idPrefix=a.idPrefix,this._container=a.container,this.styles=a.styles,this._register(Pe.Jh.runAndSubscribe(Y.Iv,({window:fe,disposables:Re})=>this.registerKeyModsListeners(fe,Re),{window:T.G,disposables:this._store})),this._register(Y.q3((fe)=>{this.ui&&Y.zk(this.ui.container)===fe&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(a,S){const F=(q)=>{this.keyMods.ctrlCmd=q.ctrlKey||q.metaKey,this.keyMods.alt=q.altKey};for(let q of[Y.Bx.KEY_DOWN,Y.Bx.KEY_UP,Y.Bx.MOUSE_DOWN])S.add(Y.ko(a,q,F,!0))}getUI(a){if(this.ui)return a&&Y.zk(this._container)!==Y.zk(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const S=Y.BC(this._container,io(".quick-input-widget.show-file-icons"));S.tabIndex=-1,S.style.display="none";const F=Y.li(S),q=Y.BC(S,io(".quick-input-titlebar")),fe=this._register(new fn.E(q,{hoverDelegate:this.options.hoverDelegate}));fe.domNode.classList.add("quick-input-left-action-bar");const Re=Y.BC(q,io(".quick-input-title")),Ee=this._register(new fn.E(q,{hoverDelegate:this.options.hoverDelegate}));Ee.domNode.classList.add("quick-input-right-action-bar");const Ge=Y.BC(S,io(".quick-input-header")),vt=Y.BC(Ge,io("input.quick-input-check-all"));vt.type="checkbox",vt.setAttribute("aria-label",k.kg("quickInput.checkAll","Toggle all checkboxes")),this._register(Y.b2(vt,Y.Bx.CHANGE,(Vi)=>{const Lo=vt.checked;Ir.setAllVisibleChecked(Lo)})),this._register(Y.ko(vt,Y.Bx.CLICK,(Vi)=>{(Vi.x||Vi.y)&&kn.setFocus()}));const Ct=Y.BC(Ge,io(".quick-input-description")),Qt=Y.BC(Ge,io(".quick-input-and-message")),an=Y.BC(Qt,io(".quick-input-filter")),kn=this._register(new is(an,this.styles.inputBox,this.styles.toggle));kn.setAttribute("aria-describedby",`${this.idPrefix}message`);const jn=Y.BC(an,io(".quick-input-visible-count"));jn.setAttribute("aria-live","polite"),jn.setAttribute("aria-atomic","true");const bi=new Ts.x(jn,{countFormat:k.kg({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),gr=Y.BC(an,io(".quick-input-count"));gr.setAttribute("aria-live","polite");const Ei=new Ts.x(gr,{countFormat:k.kg({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),yr=this._register(new fn.E(Ge,{hoverDelegate:this.options.hoverDelegate}));yr.domNode.classList.add("quick-input-inline-action-bar");const hr=Y.BC(Ge,io(".quick-input-action")),mr=this._register(new zr.$(hr,this.styles.button));mr.label=k.kg("ok","OK"),this._register(mr.onDidClick((Vi)=>{this.onDidAcceptEmitter.fire()}));const Sr=Y.BC(Ge,io(".quick-input-action")),zi=this._register(new zr.$(Sr,{...this.styles.button,supportIcons:!0}));zi.label=k.kg("custom","Custom"),this._register(zi.onDidClick((Vi)=>{this.onDidCustomEmitter.fire()}));const Or=Y.BC(Qt,io(`#${this.idPrefix}message.quick-input-message`)),Hr=this._register(new zo(S,this.styles.progressBar));Hr.getContainer().classList.add("quick-input-progress");const Tr=Y.BC(S,io(".quick-input-html-widget"));Tr.tabIndex=-1;const oo=Y.BC(S,io(".quick-input-description")),Wi=this.idPrefix+"list",Ir=this._register(this.instantiationService.createInstance(co,S,this.options.hoverDelegate,this.options.linkOpenerDelegate,Wi));kn.setAttribute("aria-controls",Wi),this._register(Ir.onDidChangeFocus(()=>{kn.setAttribute("aria-activedescendant",Ir.getActiveDescendant()??"")})),this._register(Ir.onChangedAllVisibleChecked((Vi)=>{vt.checked=Vi})),this._register(Ir.onChangedVisibleCount((Vi)=>{bi.setCount(Vi)})),this._register(Ir.onChangedCheckedCount((Vi)=>{Ei.setCount(Vi)})),this._register(Ir.onLeave(()=>{setTimeout(()=>{this.controller&&(kn.setFocus(),this.controller instanceof xr&&this.controller.canSelectMany&&Ir.clearFocus())},0)}));const To=Y.w5(S);return this._register(To),this._register(Y.ko(S,Y.Bx.FOCUS,(Vi)=>{const Lo=this.getUI();if(Y.QX(Vi.relatedTarget,Lo.inputContainer)){const Ua=Lo.inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==Ua&&this.endOfQuickInputBoxContext.set(Ua)}Y.QX(Vi.relatedTarget,Lo.container)||(this.inQuickInputContext.set(!0),this.previousFocusElement=Y.sb(Vi.relatedTarget)?Vi.relatedTarget:void 0)},!0)),this._register(To.onDidBlur(()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(ui.kF.Blur),this.inQuickInputContext.set(!1),this.endOfQuickInputBoxContext.set(!1),this.previousFocusElement=void 0})),this._register(kn.onKeyDown((Vi)=>{const Lo=this.getUI().inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==Lo&&this.endOfQuickInputBoxContext.set(Lo)})),this._register(Y.ko(S,Y.Bx.FOCUS,(Vi)=>{kn.setFocus()})),this._register(Y.b2(S,Y.Bx.KEY_DOWN,(Vi)=>{if(!Y.QX(Vi.target,Tr))switch(Vi.keyCode){case 3:Y.fs.stop(Vi,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:Y.fs.stop(Vi,!0),this.hide(ui.kF.Gesture);break;case 2:if(!Vi.altKey&&!Vi.ctrlKey&&!Vi.metaKey){const Lo=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(S.classList.contains("show-checkboxes")?Lo.push("input"):Lo.push("input[type=text]"),this.getUI().list.displayed&&Lo.push(".monaco-list"),this.getUI().message&&Lo.push(".quick-input-message a"),this.getUI().widget){if(Y.QX(Vi.target,this.getUI().widget))break;Lo.push(".quick-input-html-widget")}const Ua=S.querySelectorAll(Lo.join(", "));Vi.shiftKey&&Vi.target===Ua[0]?(Y.fs.stop(Vi,!0),Ir.clearFocus()):!Vi.shiftKey&&Y.QX(Vi.target,Ua[Ua.length-1])&&(Y.fs.stop(Vi,!0),Ua[0].focus())}break;case 10:Vi.ctrlKey&&(Y.fs.stop(Vi,!0),this.getUI().list.toggleHover())}})),this.ui={container:S,styleSheet:F,leftActionBar:fe,titleBar:q,title:Re,description1:oo,description2:Ct,widget:Tr,rightActionBar:Ee,inlineActionBar:yr,checkAll:vt,inputContainer:Qt,filterContainer:an,inputBox:kn,visibleCountContainer:jn,visibleCount:bi,countContainer:gr,count:Ei,okContainer:hr,ok:mr,message:Or,customButtonContainer:Sr,customButton:zi,list:Ir,progressBar:Hr,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:(Vi)=>this.show(Vi),hide:()=>this.hide(),setVisibilities:(Vi)=>this.setVisibilities(Vi),setEnabled:(Vi)=>this.setEnabled(Vi),setContextKey:(Vi)=>this.options.setContextKey(Vi),linkOpenerDelegate:(Vi)=>this.options.linkOpenerDelegate(Vi)},this.updateStyles(),this.ui}reparentUI(a){this.ui&&(this._container=a,Y.BC(this._container,this.ui.container))}pick(a,S={},F=Pi.XO.None){return new Promise((q,fe)=>{let Re=(Ct)=>{Re=q,S.onKeyMods?.(Ee.keyMods),q(Ct)};if(F.isCancellationRequested)return void Re(void 0);const Ee=this.createQuickPick({useSeparators:!0});let Ge;const vt=[Ee,Ee.onDidAccept(()=>{if(Ee.canSelectMany)Re(Ee.selectedItems.slice()),Ee.hide();else{const Ct=Ee.activeItems[0];Ct&&(Re(Ct),Ee.hide())}}),Ee.onDidChangeActive((Ct)=>{const Qt=Ct[0];Qt&&S.onDidFocus&&S.onDidFocus(Qt)}),Ee.onDidChangeSelection((Ct)=>{if(!Ee.canSelectMany){const Qt=Ct[0];Qt&&(Re(Qt),Ee.hide())}}),Ee.onDidTriggerItemButton((Ct)=>S.onDidTriggerItemButton&&S.onDidTriggerItemButton({...Ct,removeItem:()=>{const Qt=Ee.items.indexOf(Ct.item);if(Qt!==-1){const an=Ee.items.slice(),kn=an.splice(Qt,1),jn=Ee.activeItems.filter((gr)=>gr!==kn[0]),bi=Ee.keepScrollPosition;Ee.keepScrollPosition=!0,Ee.items=an,jn&&(Ee.activeItems=jn),Ee.keepScrollPosition=bi}}})),Ee.onDidTriggerSeparatorButton((Ct)=>S.onDidTriggerSeparatorButton?.(Ct)),Ee.onDidChangeValue((Ct)=>{!Ge||Ct||Ee.activeItems.length===1&&Ee.activeItems[0]===Ge||(Ee.activeItems=[Ge])}),F.onCancellationRequested(()=>{Ee.hide()}),Ee.onDidHide(()=>{J.AS(vt),Re(void 0)})];Ee.title=S.title,S.value&&(Ee.value=S.value),Ee.canSelectMany=!!S.canPickMany,Ee.placeholder=S.placeHolder,Ee.ignoreFocusOut=!!S.ignoreFocusLost,Ee.matchOnDescription=!!S.matchOnDescription,Ee.matchOnDetail=!!S.matchOnDetail,Ee.matchOnLabel=S.matchOnLabel===void 0||S.matchOnLabel,Ee.quickNavigate=S.quickNavigate,Ee.hideInput=!!S.hideInput,Ee.contextKey=S.contextKey,Ee.busy=!0,Promise.all([a,S.activeItem]).then(([Ct,Qt])=>{Ge=Qt,Ee.busy=!1,Ee.items=Ct,Ee.canSelectMany&&(Ee.selectedItems=Ct.filter((an)=>an.type!=="separator"&&an.picked)),Ge&&(Ee.activeItems=[Ge])}),Ee.show(),Promise.resolve(a).then(void 0,(Ct)=>{fe(Ct),Ee.hide()})})}createQuickPick(a={useSeparators:!1}){const S=this.getUI(!0);return new xr(S)}createInputBox(){const a=this.getUI(!0);return new Ri(a)}show(a){const S=this.getUI(!0);this.onShowEmitter.fire();const F=this.controller;this.controller=a,F?.didHide(),this.setEnabled(!0),S.leftActionBar.clear(),S.title.textContent="",S.description1.textContent="",S.description2.textContent="",Y.Ln(S.widget),S.rightActionBar.clear(),S.inlineActionBar.clear(),S.checkAll.checked=!1,S.inputBox.placeholder="",S.inputBox.password=!1,S.inputBox.showDecoration(ye.A.Ignore),S.visibleCount.setCount(0),S.count.setCount(0),Y.Ln(S.message),S.progressBar.stop(),S.list.setElements([]),S.list.matchOnDescription=!1,S.list.matchOnDetail=!1,S.list.matchOnLabel=!0,S.list.sortByLabel=!0,S.ignoreFocusOut=!1,S.inputBox.toggles=void 0;const q=this.options.backKeybindingLabel();Ar.tooltip=q?k.kg("quickInput.backWithKeybinding","Back ({0})",q):k.kg("quickInput.back","Back"),S.container.style.display="",this.updateLayout(),S.inputBox.setFocus(),this.quickInputTypeContext.set(a.type)}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(a){const S=this.getUI();S.title.style.display=a.title?"":"none",S.description1.style.display=a.description&&(a.inputBox||a.checkAll)?"":"none",S.description2.style.display=!a.description||a.inputBox||a.checkAll?"none":"",S.checkAll.style.display=a.checkAll?"":"none",S.inputContainer.style.display=a.inputBox?"":"none",S.filterContainer.style.display=a.inputBox?"":"none",S.visibleCountContainer.style.display=a.visibleCount?"":"none",S.countContainer.style.display=a.count?"":"none",S.okContainer.style.display=a.ok?"":"none",S.customButtonContainer.style.display=a.customButton?"":"none",S.message.style.display=a.message?"":"none",S.progressBar.getContainer().style.display=a.progressBar?"":"none",S.list.displayed=!!a.list,S.container.classList.toggle("show-checkboxes",!!a.checkBox),S.container.classList.toggle("hidden-input",!a.inputBox&&!a.description),this.updateLayout()}setEnabled(a){if(a!==this.enabled){this.enabled=a;for(let S of this.getUI().leftActionBar.viewItems)S.action.enabled=a;for(let S of this.getUI().rightActionBar.viewItems)S.action.enabled=a;this.getUI().checkAll.disabled=!a,this.getUI().inputBox.enabled=a,this.getUI().ok.enabled=a,this.getUI().list.enabled=a}}hide(a){const S=this.controller;if(!S)return;S.willHide(a);const F=this.ui?.container,q=F&&!Y.nR(F);if(this.controller=null,this.onHideEmitter.fire(),F&&(F.style.display="none"),!q){let fe=this.previousFocusElement;for(;fe&&!fe.offsetParent;)fe=fe.parentElement??void 0;fe?.offsetParent?(fe.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}S.didHide(a)}layout(a,S){this.dimension=a,this.titleBarOffset=S,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const a=this.ui.container.style,S=Math.min(0.62*this.dimension.width,Ja.MAX_WIDTH);a.width=S+"px",a.marginLeft="-"+S/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&0.4*this.dimension.height)}}applyStyles(a){this.styles=a,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:a,quickInputBackground:S,quickInputForeground:F,widgetBorder:q,widgetShadow:fe}=this.styles.widget;this.ui.titleBar.style.backgroundColor=a??"",this.ui.container.style.backgroundColor=S??"",this.ui.container.style.color=F??"",this.ui.container.style.border=q?`1px solid ${q}`:"",this.ui.container.style.boxShadow=fe?`0 0 8px 2px ${fe}`:"",this.ui.list.style(this.styles.list);const Re=[];this.styles.pickerGroup.pickerGroupBorder&&Re.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&Re.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&Re.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(Re.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&Re.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&Re.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&Re.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&Re.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&Re.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),Re.push("}"));const Ee=Re.join("\n");Ee!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=Ee)}}};Ta=Ja=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([ka(1,Ye),ka(2,Ue._Y),ka(3,de.fN)],Ta);var Rs=function(a,S){return function(F,q){S(F,q,a)}};let al=class extends Ve.lR{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get currentQuickInput(){return this.controller.currentQuickInput}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Js))),this._quickAccess}constructor(a,S,F,q,fe){super(F),this.instantiationService=a,this.contextKeyService=S,this.layoutService=q,this.configurationService=fe,this._onShow=this._register(new Pe.vl),this._onHide=this._register(new Pe.vl),this.contexts=new Map}createController(a=this.layoutService,S){const F={idPrefix:"quickInput_",container:a.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:(fe)=>this.setContextKey(fe),linkOpenerDelegate:(fe)=>{this.instantiationService.invokeFunction((Re)=>{Re.get(Ni.C).open(fe,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>a.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(Rr))},q=this._register(this.instantiationService.createInstance(Ta,{...F,...S}));return q.layout(a.activeContainerDimension,a.activeContainerOffset.quickPickTop),this._register(a.onDidLayoutActiveContainer((fe)=>{Y.zk(a.activeContainer)===Y.zk(q.container)&&q.layout(fe,a.activeContainerOffset.quickPickTop)})),this._register(a.onDidChangeActiveContainer(()=>{q.isVisible()||q.layout(a.activeContainerDimension,a.activeContainerOffset.quickPickTop)})),this._register(q.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(q.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),q}setContextKey(a){let S;a&&(S=this.contexts.get(a),S||(S=new de.N1(a,!1).bindTo(this.contextKeyService),this.contexts.set(a,S))),S&&S.get()||(this.resetContextKeys(),S?.set(!0))}resetContextKeys(){this.contexts.forEach((a)=>{a.get()&&a.reset()})}pick(a,S,F=Pi.XO.None){return this.controller.pick(a,S,F)}createQuickPick(a={useSeparators:!1}){return this.controller.createQuickPick(a)}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:En.GuP(En.ELA),quickInputForeground:En.GuP(En.HJZ),quickInputTitleBackground:En.GuP(En.er1),widgetBorder:En.GuP(En.DSL),widgetShadow:En.GuP(En.f9l)},inputBox:hn.ho,toggle:hn.mk,countBadge:hn.m$,button:hn.cv,progressBar:hn.oJ,keybindingLabel:hn.ir,list:hn.t8({listBackground:En.ELA,listFocusBackground:En.AlL,listFocusForeground:En.nH,listInactiveFocusForeground:En.nH,listInactiveSelectionIconForeground:En.c7i,listInactiveFocusBackground:En.AlL,listFocusOutline:En.buw,listInactiveFocusOutline:En.buw}),pickerGroup:{pickerGroupBorder:En.GuP(En.iwL),pickerGroupForeground:En.GuP(En.NBf)}}}};al=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([Rs(0,Ue._Y),Rs(1,de.fN),Rs(2,Ve.Gy),Rs(3,Ye),Rs(4,Ln.pG)],al);var ll=h(8289),Vs=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee},ho=function(a,S){return function(F,q){S(F,q,a)}};let la=class extends al{constructor(a,S,F,q,fe,Re){super(S,F,q,new lt(a.getContainerDomNode(),fe),Re),this.host=void 0;const Ee=yo.get(a);if(Ee){const Ge=Ee.widget;this.host={_serviceBrand:void 0,get mainContainer(){return Ge.getDomNode()},getContainer:()=>Ge.getDomNode(),whenContainerStylesLoaded(){},get containers(){return[Ge.getDomNode()]},get activeContainer(){return Ge.getDomNode()},get mainContainerDimension(){return a.getLayoutInfo()},get activeContainerDimension(){return a.getLayoutInfo()},get onDidLayoutMainContainer(){return a.onDidLayoutChange},get onDidLayoutActiveContainer(){return a.onDidLayoutChange},get onDidLayoutContainer(){return Pe.Jh.map(a.onDidLayoutChange,(vt)=>({container:Ge.getDomNode(),dimension:vt}))},get onDidChangeActiveContainer(){return Pe.Jh.None},get onDidAddContainer(){return Pe.Jh.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>a.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};la=Vs([ho(1,Ue._Y),ho(2,de.fN),ho(3,Ve.Gy),ho(4,C.T),ho(5,Ln.pG)],la);let os=class{get activeService(){const a=this.codeEditorService.getFocusedCodeEditor();if(!a)throw new Error("Quick input service needs a focused editor to work.");let S=this.mapEditorToService.get(a);if(!S){const F=S=this.instantiationService.createInstance(la,a);this.mapEditorToService.set(a,S),ll.P(a.onDidDispose)(()=>{F.dispose(),this.mapEditorToService.delete(a)})}return S}get currentQuickInput(){return this.activeService.currentQuickInput}get quickAccess(){return this.activeService.quickAccess}constructor(a,S){this.instantiationService=a,this.codeEditorService=S,this.mapEditorToService=new Map}pick(a,S,F=Pi.XO.None){return this.activeService.pick(a,S,F)}createQuickPick(a={useSeparators:!1}){return this.activeService.createQuickPick(a)}createInputBox(){return this.activeService.createInputBox()}};os=Vs([ho(0,Ue._Y),ho(1,C.T)],os);class yo{static{this.ID="editor.controller.quickInput"}static get(a){return a.getContribution(yo.ID)}constructor(a){this.editor=a,this.widget=new gs(this.editor)}dispose(){this.widget.dispose()}}class gs{static{this.ID="editor.contrib.quickInputWidget"}constructor(a){this.codeEditor=a,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return gs.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}w.HW(yo.ID,yo,4);var Aa=h(3582),kr=h(3616),ss=function(a,S){return function(F,q){S(F,q,a)}};let Qr=class extends J.jG{constructor(a,S,F){super(),this._contextKeyService=a,this._layoutService=S,this._configurationService=F,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Pe.vl,this._onDidChangeReducedMotion=new Pe.vl,this._onDidChangeLinkUnderline=new Pe.vl,this._accessibilityModeEnabledContext=tr.f.bindTo(this._contextKeyService);const q=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((Re)=>{Re.affectsConfiguration("editor.accessibilitySupport")&&(q(),this._onDidChangeScreenReaderOptimized.fire()),Re.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),q(),this._register(this.onDidChangeScreenReaderOptimized(()=>q()));const fe=T.G.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=fe.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._linkUnderlinesEnabled=this._configurationService.getValue("accessibility.underlineLinks"),this.initReducedMotionListeners(fe),this.initLinkUnderlineListeners()}initReducedMotionListeners(a){this._register(Y.ko(a,"change",()=>{this._systemMotionReduced=a.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const S=()=>{const F=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",F),this._layoutService.mainContainer.classList.toggle("enable-motion",!F)};S(),this._register(this.onDidChangeReducedMotion(()=>S()))}initLinkUnderlineListeners(){this._register(this._configurationService.onDidChangeConfiguration((S)=>{if(S.affectsConfiguration("accessibility.underlineLinks")){const F=this._configurationService.getValue("accessibility.underlineLinks");this._linkUnderlinesEnabled=F,this._onDidChangeLinkUnderline.fire()}}));const a=()=>{const S=this._linkUnderlinesEnabled;this._layoutService.mainContainer.classList.toggle("underline-links",S)};a(),this._register(this.onDidChangeLinkUnderlines(()=>a()))}onDidChangeLinkUnderlines(a){return this._onDidChangeLinkUnderline.event(a)}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const a=this._configurationService.getValue("editor.accessibilitySupport");return a==="on"||a==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const a=this._configMotionReduced;return a==="on"||a==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};Qr=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([ss(0,de.fN),ss(1,Ye),ss(2,Ln.pG)],Qr);var Kr,Gs=h(3810),Ul=h(2344),cl=function(a,S){return function(F,q){S(F,q,a)}};const Ls="application/vnd.code.resources";let dl=class extends J.jG{static{Kr=this}constructor(a,S){super(),this.layoutService=a,this.logService=S,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(Un.nr||Un.c8)&&this.installWebKitWriteTextWorkaround(),this._register(Pe.Jh.runAndSubscribe(Y.Iv,({window:F,disposables:q})=>{q.add(Y.ko(F.document,"copy",()=>this.clearResourcesState()))},{window:T.G,disposables:this._store}))}installWebKitWriteTextWorkaround(){const a=()=>{const S=new f.Zv;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=S,Y.fz().navigator.clipboard.write([new ClipboardItem({"text/plain":S.p})]).catch(async(F)=>{F instanceof Error&&F.name==="NotAllowedError"&&S.isRejected||this.logService.error(F)})};this._register(Pe.Jh.runAndSubscribe(this.layoutService.onDidAddContainer,({container:S,disposables:F})=>{F.add(Y.ko(S,"click",a)),F.add(Y.ko(S,"keydown",a))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(a,S){if(this.clearResourcesState(),S)this.mapTextToType.set(S,a);else{if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(a);try{return await Y.fz().navigator.clipboard.writeText(a)}catch(F){console.error(F)}this.fallbackWriteText(a)}}fallbackWriteText(a){const S=Y.a(),F=S.activeElement,q=S.body.appendChild(Y.$("textarea",{"aria-hidden":!0}));q.style.height="1px",q.style.width="1px",q.style.position="absolute",q.value=a,q.focus(),q.select(),S.execCommand("copy"),Y.sb(F)&&F.focus(),q.remove()}async readText(a){if(a)return this.mapTextToType.get(a)||"";try{return await Y.fz().navigator.clipboard.readText()}catch(S){console.error(S)}return""}async readFindText(){return this.findText}async writeFindText(a){this.findText=a}static{this.MAX_RESOURCE_STATE_SOURCE_LENGTH=1000}async readResources(){try{const S=await Y.fz().navigator.clipboard.read();for(let F of S)if(F.types.includes(`web ${Ls}`)){const q=await F.getType(`web ${Ls}`);return JSON.parse(await q.text()).map((fe)=>v.r.from(fe))}}catch(S){}const a=await this.computeResourcesStateHash();return this.resourcesStateHash!==a&&this.clearResourcesState(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const a=await this.readText();return Ul.tW(a.substring(0,Kr.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearInternalState(){this.clearResourcesState()}clearResourcesState(){this.resources=[],this.resourcesStateHash=void 0}};dl=Kr=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([cl(0,Ye),cl(1,G.rr)],dl);var Na=h(957),Ds=h(7954),_s=h(6525);const lo="data-keybinding-context";class qo{constructor(a,S){this._id=a,this._parent=S,this._value=Object.create(null),this._value._contextId=a}get value(){return{...this._value}}setValue(a,S){return this._value[a]!==S&&(this._value[a]=S,!0)}removeValue(a){return a in this._value&&(delete this._value[a],!0)}getValue(a){const S=this._value[a];return S===void 0&&this._parent?this._parent.getValue(a):S}}class Ko extends qo{static{this.INSTANCE=new Ko}constructor(){super(-1,null)}setValue(a,S){return!1}removeValue(a){return!1}getValue(a){}}class ca extends qo{static{this._keyPrefix="config."}constructor(a,S,F){super(a,null),this._configurationService=S,this._values=_s.cB.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((q)=>{if(q.source===7){const fe=Array.from(this._values,([Re])=>Re);this._values.clear(),F.fire(new da(fe))}else{const fe=[];for(let Re of q.affectedKeys){const Ee=`config.${Re}`,Ge=this._values.findSuperstr(Ee);Ge!==void 0&&(fe.push(...Ds.f.map(Ge,([vt])=>vt)),this._values.deleteSuperstr(Ee)),this._values.has(Ee)&&(fe.push(Ee),this._values.delete(Ee))}F.fire(new da(fe))}})}dispose(){this._listener.dispose()}getValue(a){if(a.indexOf(ca._keyPrefix)!==0)return super.getValue(a);if(this._values.has(a))return this._values.get(a);const S=a.substr(ca._keyPrefix.length),F=this._configurationService.getValue(S);let q;switch(typeof F){case"number":case"boolean":case"string":q=F;break;default:q=Array.isArray(F)?JSON.stringify(F):F}return this._values.set(a,q),q}setValue(a,S){return super.setValue(a,S)}removeValue(a){return super.removeValue(a)}}class Ms{constructor(a,S,F){this._service=a,this._key=S,this._defaultValue=F,this.reset()}set(a){this._service.setContext(this._key,a)}reset(){this._defaultValue===void 0?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Ia{constructor(a){this.key=a}affectsSome(a){return a.has(this.key)}allKeysContainedIn(a){return this.affectsSome(a)}}class da{constructor(a){this.keys=a}affectsSome(a){for(let S of this.keys)if(a.has(S))return!0;return!1}allKeysContainedIn(a){return this.keys.every((S)=>a.has(S))}}class Ra{constructor(a){this.events=a}affectsSome(a){for(let S of this.events)if(S.affectsSome(a))return!0;return!1}allKeysContainedIn(a){return this.events.every((S)=>S.allKeysContainedIn(a))}}class La extends J.jG{constructor(a){super(),this._onDidChangeContext=this._register(new Pe.fV({merge:(S)=>new Ra(S)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=a}createKey(a,S){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Ms(this,a,S)}bufferChangeEvents(a){this._onDidChangeContext.pause();try{a()}finally{this._onDidChangeContext.resume()}}createScoped(a){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new ul(this,a)}contextMatchesRules(a){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const S=this.getContextValuesContainer(this._myContextId);return!a||a.evaluate(S)}getContextKeyValue(a){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(a)}setContext(a,S){if(this._isDisposed)return;const F=this.getContextValuesContainer(this._myContextId);F&&F.setValue(a,S)&&this._onDidChangeContext.fire(new Ia(a))}removeContext(a){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(a)&&this._onDidChangeContext.fire(new Ia(a))}getContext(a){return this._isDisposed?Ko.INSTANCE:this.getContextValuesContainer(function(S){for(;S;){if(S.hasAttribute(lo)){const F=S.getAttribute(lo);return F?parseInt(F,10):NaN}S=S.parentElement}return 0}(a))}dispose(){super.dispose(),this._isDisposed=!0}}let Da=class extends La{constructor(a){super(0),this._contexts=new Map,this._lastContextId=0;const S=this._register(new ca(this._myContextId,a,this._onDidChangeContext));this._contexts.set(this._myContextId,S)}getContextValuesContainer(a){return this._isDisposed?Ko.INSTANCE:this._contexts.get(a)||Ko.INSTANCE}createChildContext(a=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const S=++this._lastContextId;return this._contexts.set(S,new qo(S,this.getContextValuesContainer(a))),S}disposeContext(a){this._isDisposed||this._contexts.delete(a)}};Da=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([function(a,S){return function(F,q){S(F,q,a)}}(0,Ln.pG)],Da);class ul extends La{constructor(a,S){if(super(a.createChildContext()),this._parentChangeListener=this._register(new J.HE),this._parent=a,this._updateParentChangeListener(),this._domNode=S,this._domNode.hasAttribute(lo)){let F="";this._domNode.classList&&(F=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(F?": "+F:""))}this._domNode.setAttribute(lo,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((a)=>{var S;S=this._parent.getContextValuesContainer(this._myContextId).value,a.allKeysContainedIn(new Set(Object.keys(S)))||this._onDidChangeContext.fire(a)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(lo),super.dispose())}getContextValuesContainer(a){return this._isDisposed?Ko.INSTANCE:this._parent.getContextValuesContainer(a)}createChildContext(a=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(a)}disposeContext(a){this._isDisposed||this._parent.disposeContext(a)}}oi.w.registerCommand("_setContext",function(a,S,F){a.get(de.fN).createKey(String(S),function(q){return d.PI(q,(fe)=>typeof fe=="object"&&fe.$mid===1?v.r.revive(fe).toString():fe instanceof v.r?fe.toString():void 0)}(F))}),oi.w.registerCommand({id:"getContextKeyInfo",handler:()=>[...de.N1.all()].sort((a,S)=>a.key.localeCompare(S.key)),metadata:{description:k.kg("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),oi.w.registerCommand("_generateContextKeyInfo",function(){const a=[],S=new Set;for(let F of de.N1.all())S.has(F.key)||(S.add(F.key),a.push(F));a.sort((F,q)=>F.key.localeCompare(q.key)),console.log(JSON.stringify(a,void 0,2))});var So=h(3312);class Xs{constructor(a,S){this.key=a,this.data=S,this.incoming=new Map,this.outgoing=new Map}}class bs{constructor(a){this._hashFn=a,this._nodes=new Map}roots(){const a=[];for(let S of this._nodes.values())S.outgoing.size===0&&a.push(S);return a}insertEdge(a,S){const F=this.lookupOrInsertNode(a),q=this.lookupOrInsertNode(S);F.outgoing.set(q.key,q),q.incoming.set(F.key,F)}removeNode(a){const S=this._hashFn(a);this._nodes.delete(S);for(let F of this._nodes.values())F.outgoing.delete(S),F.incoming.delete(S)}lookupOrInsertNode(a){const S=this._hashFn(a);let F=this._nodes.get(S);return F||(F=new Xs(S,a),this._nodes.set(S,F)),F}isEmpty(){return this._nodes.size===0}toString(){const a=[];for(let[S,F]of this._nodes)a.push(`${S}\n\t(-> incoming)[${[...F.incoming.keys()].join(", ")}]\n\t(outgoing ->)[${[...F.outgoing.keys()].join(",")}]\n`);return a.join("\n")}findCycleSlow(){for(let[a,S]of this._nodes){const F=new Set([a]),q=this._findCycle(S,F);if(q)return q}}_findCycle(a,S){for(let[F,q]of a.outgoing){if(S.has(F))return[...S,F].join(" -> ");S.add(F);const fe=this._findCycle(q,S);if(fe)return fe;S.delete(F)}}}var vs=h(657);class Ma extends Error{constructor(a){super("cyclic dependency between services"),this.message=a.findCycleSlow()??`UNABLE to detect cycle, dumping graph: \n${a.toString()}`}}class ro{constructor(a=new vs.a,S=!1,F,q=!1){this._services=a,this._strict=S,this._parent=F,this._enableTracing=q,this._isDisposed=!1,this._servicesToMaybeDispose=new Set,this._children=new Set,this._activeInstantiations=new Set,this._services.set(Ue._Y,this),this._globalGraph=q?F?._globalGraph??new bs((fe)=>fe):void 0}dispose(){if(!this._isDisposed){this._isDisposed=!0,J.AS(this._children),this._children.clear();for(let a of this._servicesToMaybeDispose)J.Xm(a)&&a.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(a,S){this._throwIfDisposed();const F=this,q=new class extends ro{dispose(){F._children.delete(q),super.dispose()}}(a,this._strict,this,this._enableTracing);return this._children.add(q),S?.add(q),q}invokeFunction(a,...S){this._throwIfDisposed();const F=Zr.traceInvocation(this._enableTracing,a);let q=!1;try{return a({get:(fe)=>{if(q)throw m.iH("service accessor is only valid during the invocation of its target method");const Re=this._getOrCreateServiceInstance(fe,F);if(!Re)throw new Error(`[invokeFunction] unknown service '${fe}'`);return Re}},...S)}finally{q=!0,F.stop()}}createInstance(a,...S){let F,q;return this._throwIfDisposed(),a instanceof So.d?(F=Zr.traceCreation(this._enableTracing,a.ctor),q=this._createInstance(a.ctor,a.staticArguments.concat(S),F)):(F=Zr.traceCreation(this._enableTracing,a),q=this._createInstance(a,S,F)),F.stop(),q}_createInstance(a,S=[],F){const q=Ue._$.getServiceDependencies(a).sort((Ee,Ge)=>Ee.index-Ge.index),fe=[];for(let Ee of q){const Ge=this._getOrCreateServiceInstance(Ee.id,F);Ge||this._throwIfStrict(`[createInstance] ${a.name} depends on UNKNOWN service ${Ee.id}.`,!1),fe.push(Ge)}const Re=q.length>0?q[0].index:S.length;if(S.length!==Re){console.trace(`[createInstance] First service dependency of ${a.name} at position ${Re+1} conflicts with ${S.length} static arguments`);const Ee=Re-S.length;S=Ee>0?S.concat(new Array(Ee)):S.slice(0,Re)}return Reflect.construct(a,S.concat(fe))}_setCreatedServiceInstance(a,S){if(this._services.get(a)instanceof So.d)this._services.set(a,S);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setCreatedServiceInstance(a,S)}}_getServiceInstanceOrDescriptor(a){const S=this._services.get(a);return!S&&this._parent?this._parent._getServiceInstanceOrDescriptor(a):S}_getOrCreateServiceInstance(a,S){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(a));const F=this._getServiceInstanceOrDescriptor(a);return F instanceof So.d?this._safeCreateAndCacheServiceInstance(a,F,S.branch(a,!0)):(S.branch(a,!1),F)}_safeCreateAndCacheServiceInstance(a,S,F){if(this._activeInstantiations.has(a))throw new Error(`illegal state - RECURSIVELY instantiating service '${a}'`);this._activeInstantiations.add(a);try{return this._createAndCacheServiceInstance(a,S,F)}finally{this._activeInstantiations.delete(a)}}_createAndCacheServiceInstance(a,S,F){const q=new bs((Ge)=>Ge.id.toString());let fe=0;const Re=[{id:a,desc:S,_trace:F}],Ee=new Set;for(;Re.length;){const Ge=Re.pop();if(!Ee.has(String(Ge.id))){if(Ee.add(String(Ge.id)),q.lookupOrInsertNode(Ge),fe++>1000)throw new Ma(q);for(let vt of Ue._$.getServiceDependencies(Ge.desc.ctor)){const Ct=this._getServiceInstanceOrDescriptor(vt.id);if(Ct||this._throwIfStrict(`[createInstance] ${a} depends on ${vt.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(Ge.id),String(vt.id)),Ct instanceof So.d){const Qt={id:vt.id,desc:Ct,_trace:Ge._trace.branch(vt.id,!0)};q.insertEdge(Ge,Qt),Re.push(Qt)}}}}for(;;){const Ge=q.roots();if(Ge.length===0){if(!q.isEmpty())throw new Ma(q);break}for(let{data:vt}of Ge){if(this._getServiceInstanceOrDescriptor(vt.id)instanceof So.d){const Ct=this._createServiceInstanceWithOwner(vt.id,vt.desc.ctor,vt.desc.staticArguments,vt.desc.supportsDelayedInstantiation,vt._trace);this._setCreatedServiceInstance(vt.id,Ct)}q.removeNode(vt)}}return this._getServiceInstanceOrDescriptor(a)}_createServiceInstanceWithOwner(a,S,F=[],q,fe){if(this._services.get(a)instanceof So.d)return this._createServiceInstance(a,S,F,q,fe,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(a,S,F,q,fe);throw new Error(`illegalState - creating UNKNOWN service instance ${S.name}`)}_createServiceInstance(a,S,F=[],q,fe,Re){if(q){const Ee=new ro(void 0,this._strict,this,this._enableTracing);Ee._globalGraphImplicitDependency=String(a);const Ge=new Map,vt=new f.F6(()=>{const Ct=Ee._createInstance(S,F,fe);for(let[Qt,an]of Ge){const kn=Ct[Qt];if(typeof kn=="function")for(let jn of an)jn.disposable=kn.apply(Ct,jn.listener)}return Ge.clear(),Re.add(Ct),Ct});return new Proxy(Object.create(null),{get(Ct,Qt){if(!vt.isInitialized&&typeof Qt=="string"&&(Qt.startsWith("onDid")||Qt.startsWith("onWill"))){let jn=Ge.get(Qt);return jn||(jn=new Le.w,Ge.set(Qt,jn)),(bi,gr,Ei)=>{if(vt.isInitialized)return vt.value[Qt](bi,gr,Ei);{const yr={listener:[bi,gr,Ei],disposable:void 0},hr=jn.push(yr);return J.s(()=>{hr(),yr.disposable?.dispose()})}}}if(Qt in Ct)return Ct[Qt];const an=vt.value;let kn=an[Qt];return typeof kn!="function"||(kn=kn.bind(an),Ct[Qt]=kn),kn},set:(Ct,Qt,an)=>(vt.value[Qt]=an,!0),getPrototypeOf:(Ct)=>S.prototype})}{const Ee=this._createInstance(S,F,fe);return Re.add(Ee),Ee}}_throwIfStrict(a,S){if(S&&console.warn(a),this._strict)throw new Error(a)}}class Zr{static{this.all=new Set}static{this._None=new class extends Zr{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation(a,S){return a?new Zr(2,S.name||new Error().stack.split("\n").slice(3,4).join("\n")):Zr._None}static traceCreation(a,S){return a?new Zr(1,S.name):Zr._None}static{this._totals=0}constructor(a,S){this.type=a,this.name=S,this._start=Date.now(),this._dep=[]}branch(a,S){const F=new Zr(3,a.toString());return this._dep.push([a,S,F]),F}stop(){const a=Date.now()-this._start;Zr._totals+=a;let S=!1;const F=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${function q(fe,Re){const Ee=[],Ge=new Array(fe+1).join("\t");for(let[vt,Ct,Qt]of Re._dep)if(Ct&&Qt){S=!0,Ee.push(`${Ge}CREATES -> ${vt}`);const an=q(fe+1,Qt);an&&Ee.push(an)}else Ee.push(`${Ge}uses -> ${vt}`);return Ee.join("\n")}(1,this)}`,`DONE, took ${a.toFixed(2)}ms (grand total ${Zr._totals.toFixed(2)}ms)`];(a>2||S)&&Zr.all.add(F.join("\n"))}}var es=h(7619);const Ps=new Set([b.ny.inMemory,b.ny.vscodeSourceControl,b.ny.walkThrough,b.ny.walkThroughSnippet,b.ny.vscodeChatCodeBlock]);class hl{constructor(){this._byResource=new Ai.fT,this._byOwner=new Map}set(a,S,F){let q=this._byResource.get(a);q||(q=new Map,this._byResource.set(a,q)),q.set(S,F);let fe=this._byOwner.get(S);fe||(fe=new Ai.fT,this._byOwner.set(S,fe)),fe.set(a,F)}get(a,S){return this._byResource.get(a)?.get(S)}delete(a,S){let F=!1,q=!1;const fe=this._byResource.get(a);fe&&(F=fe.delete(S));const Re=this._byOwner.get(S);if(Re&&(q=Re.delete(a)),F!==q)throw new Error("illegal state");return F&&q}values(a){return typeof a=="string"?this._byOwner.get(a)?.values()??Ds.f.empty():v.r.isUri(a)?this._byResource.get(a)?.values()??Ds.f.empty():Ds.f.map(Ds.f.concat(...this._byOwner.values()),(S)=>S[1])}}class Pa{constructor(a){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ai.fT,this._service=a,this._subscription=a.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(a){for(let S of a){const F=this._data.get(S);F&&this._substract(F);const q=this._resourceStats(S);this._add(q),this._data.set(S,q)}}_resourceStats(a){const S={errors:0,warnings:0,infos:0,unknowns:0};if(Ps.has(a.scheme))return S;for(let{severity:F}of this._service.read({resource:a}))F===es.cj.Error?S.errors+=1:F===es.cj.Warning?S.warnings+=1:F===es.cj.Info?S.infos+=1:S.unknowns+=1;return S}_substract(a){this.errors-=a.errors,this.warnings-=a.warnings,this.infos-=a.infos,this.unknowns-=a.unknowns}_add(a){this.errors+=a.errors,this.warnings+=a.warnings,this.infos+=a.infos,this.unknowns+=a.unknowns}}class ts{constructor(){this._onMarkerChanged=new Pe.uI({delay:0,merge:ts._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new hl,this._stats=new Pa(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(a,S){for(let F of S||[])this.changeOne(a,F,[])}changeOne(a,S,F){if(x.Ct(F))this._data.delete(S,a)&&this._onMarkerChanged.fire([S]);else{const q=[];for(let fe of F){const Re=ts._toMarker(a,S,fe);Re&&q.push(Re)}this._data.set(S,a,q),this._onMarkerChanged.fire([S])}}static _toMarker(a,S,F){let{code:q,severity:fe,message:Re,source:Ee,startLineNumber:Ge,startColumn:vt,endLineNumber:Ct,endColumn:Qt,relatedInformation:an,tags:kn}=F;if(Re)return Ge=Ge>0?Ge:1,vt=vt>0?vt:1,Ct=Ct>=Ge?Ct:Ge,Qt=Qt>0?Qt:vt,{resource:S,owner:a,code:q,severity:fe,message:Re,source:Ee,startLineNumber:Ge,startColumn:vt,endLineNumber:Ct,endColumn:Qt,relatedInformation:an,tags:kn}}changeAll(a,S){const F=[],q=this._data.values(a);if(q)for(let fe of q){const Re=Ds.f.first(fe);Re&&(F.push(Re.resource),this._data.delete(Re.resource,a))}if(x.EI(S)){const fe=new Ai.fT;for(let{resource:Re,marker:Ee}of S){const Ge=ts._toMarker(a,Re,Ee);if(!Ge)continue;const vt=fe.get(Re);vt?vt.push(Ge):(fe.set(Re,[Ge]),F.push(Re))}for(let[Re,Ee]of fe)this._data.set(Re,a,Ee)}F.length>0&&this._onMarkerChanged.fire(F)}read(a=Object.create(null)){let{owner:S,resource:F,severities:q,take:fe}=a;if((!fe||fe<0)&&(fe=-1),S&&F){const Re=this._data.get(F,S);if(Re){const Ee=[];for(let Ge of Re)if(ts._accept(Ge,q)){const vt=Ee.push(Ge);if(fe>0&&vt===fe)break}return Ee}return[]}if(S||F){const Re=this._data.values(F??S),Ee=[];for(let Ge of Re)for(let vt of Ge)if(ts._accept(vt,q)){const Ct=Ee.push(vt);if(fe>0&&Ct===fe)return Ee}return Ee}{const Re=[];for(let Ee of this._data.values())for(let Ge of Ee)if(ts._accept(Ge,q)){const vt=Re.push(Ge);if(fe>0&&vt===fe)return Re}return Re}}static _accept(a,S){return S===void 0||(S&a.severity)===a.severity}static _merge(a){const S=new Ai.fT;for(let F of a)for(let q of F)S.set(q,!0);return Array.from(S.keys())}}var pl=h(840);class ua extends J.jG{get configurationModel(){return this._configurationModel}constructor(a){super(),this.logService=a,this._configurationModel=di.createEmptyModel(this.logService)}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=di.createEmptyModel(this.logService);const a=$i.O.as(nr.Fd.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(a),a)}updateConfigurationModel(a,S){const F=this.getConfigurationDefaultOverrides();for(let q of a){const fe=F[q],Re=S[q];fe!==void 0?this._configurationModel.setValue(q,fe):Re?this._configurationModel.setValue(q,Re.default):this._configurationModel.removeValue(q)}}}var Io=h(1285);class Fa extends J.jG{constructor(a,S=[]){super(),this.logger=new G.Dk([a,...S]),this._register(a.onDidChangeLogLevel((F)=>this.setLevel(F)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(a){this.logger.setLevel(a)}getLevel(){return this.logger.getLevel()}trace(a,...S){this.logger.trace(a,...S)}debug(a,...S){this.logger.debug(a,...S)}info(a,...S){this.logger.info(a,...S)}warn(a,...S){this.logger.warn(a,...S)}error(a,...S){this.logger.error(a,...S)}}var Bl=h(426),Eo=h(8195),Hs=h(5320),Nr=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee},hi=function(a,S){return function(F,q){S(F,q,a)}};class fl{constructor(a){this.disposed=!1,this.model=a,this._onWillDispose=new Pe.vl}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let ys=class{constructor(a){this.modelService=a}createModelReference(a){const S=this.modelService.getModel(a);return S?Promise.resolve(new J.BO(new fl(S))):Promise.reject(new Error("Model not found"))}};ys=Nr([hi(0,U.IModelService)],ys);class Zo{static{this.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}}}show(){return Zo.NULL_PROGRESS_RUNNER}async showWhile(a,S){await a}}class Oa{static{this.NO_OP=new Mt.Kz}info(a){return this.notify({severity:ye.A.Info,message:a})}warn(a){return this.notify({severity:ye.A.Warning,message:a})}error(a){return this.notify({severity:ye.A.Error,message:a})}notify(a){switch(a.severity){case ye.A.Error:console.error(a.message);break;case ye.A.Warning:console.warn(a.message);break;default:console.log(a.message)}return Oa.NO_OP}prompt(a,S,F,q){return Oa.NO_OP}status(a,S){return J.jG.None}}let Qa=class{constructor(a){this._onWillExecuteCommand=new Pe.vl,this._onDidExecuteCommand=new Pe.vl,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=a}executeCommand(a,...S){const F=oi.w.getCommand(a);if(!F)return Promise.reject(new Error(`command '${a}' not found`));try{this._onWillExecuteCommand.fire({commandId:a,args:S});const q=this._instantiationService.invokeFunction.apply(this._instantiationService,[F.handler,...S]);return this._onDidExecuteCommand.fire({commandId:a,args:S}),Promise.resolve(q)}catch(q){return Promise.reject(q)}}};Qa=Nr([hi(0,Ue._Y)],Qa);let Uo=class extends Wt{constructor(a,S,F,q,fe,Re){super(a,S,F,q,fe),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Ee=(Qt)=>{const an=new J.Cm;an.add(Y.ko(Qt,Y.Bx.KEY_DOWN,(kn)=>{const jn=new Hn.Z(kn);this._dispatch(jn,jn.target)&&(jn.preventDefault(),jn.stopPropagation())})),an.add(Y.ko(Qt,Y.Bx.KEY_UP,(kn)=>{const jn=new Hn.Z(kn);this._singleModifierDispatch(jn,jn.target)&&jn.preventDefault()})),this._domNodeListeners.push(new ml(Qt,an))},Ge=(Qt)=>{for(let an=0;an<this._domNodeListeners.length;an++){const kn=this._domNodeListeners[an];kn.domNode===Qt&&(this._domNodeListeners.splice(an,1),kn.dispose())}},vt=(Qt)=>{Qt.getOption(61)||Ee(Qt.getContainerDomNode())};this._register(Re.onCodeEditorAdd(vt)),this._register(Re.onCodeEditorRemove((Qt)=>{Qt.getOption(61)||Ge(Qt.getContainerDomNode())})),Re.listCodeEditors().forEach(vt);const Ct=(Qt)=>{Ee(Qt.getContainerDomNode())};this._register(Re.onDiffEditorAdd(Ct)),this._register(Re.onDiffEditorRemove((Qt)=>{Ge(Qt.getContainerDomNode())})),Re.listDiffEditors().forEach(Ct)}addDynamicKeybinding(a,S,F,q){return J.qE(oi.w.registerCommand(a,F),this.addDynamicKeybindings([{keybinding:S,command:a,when:q}]))}addDynamicKeybindings(a){const S=a.map((F)=>({keybinding:In.Zv(F.keybinding,Zi.OS),command:F.command??null,commandArgs:F.commandArgs,when:F.when,weight1:1000,weight2:0,extensionId:null,isBuiltinExtension:!1}));return this._dynamicKeybindings=this._dynamicKeybindings.concat(S),this.updateResolver(),J.s(()=>{for(let F=0;F<this._dynamicKeybindings.length;F++)if(this._dynamicKeybindings[F]===S[0])return this._dynamicKeybindings.splice(F,S.length),void this.updateResolver()})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const a=this._toNormalizedKeybindingItems(bn.f.getDefaultKeybindings(),!0),S=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new mt(a,S,(F)=>this._log(F))}return this._cachedResolver}_documentHasFocus(){return T.G.document.hasFocus()}_toNormalizedKeybindingItems(a,S){const F=[];let q=0;for(let fe of a){const Re=fe.when||void 0,Ee=fe.keybinding;if(Ee){const Ge=ke.resolveKeybinding(Ee,Zi.OS);for(let vt of Ge)F[q++]=new Jn(vt,fe.command,fe.commandArgs,Re,S,null,!1)}else F[q++]=new Jn(void 0,fe.command,fe.commandArgs,Re,S,null,!1)}return F}resolveKeyboardEvent(a){const S=new In.dG(a.ctrlKey,a.shiftKey,a.altKey,a.metaKey,a.keyCode);return new ke([S],Zi.OS)}};Uo=Nr([hi(0,de.fN),hi(1,oi.d),hi(2,Vt.k),hi(3,Mt.Ot),hi(4,G.rr),hi(5,C.T)],Uo);class ml extends J.jG{constructor(a,S){super(),this.domNode=a,this._register(S)}}function Vl(a){return a&&typeof a=="object"&&(!a.overrideIdentifier||typeof a.overrideIdentifier=="string")&&(!a.resource||a.resource instanceof v.r)}let i=class{constructor(a){this.logService=a,this._onDidChangeConfiguration=new Pe.vl,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const S=new ua(a);this._configuration=new ht(S.reload(),di.createEmptyModel(a),di.createEmptyModel(a),di.createEmptyModel(a),di.createEmptyModel(a),di.createEmptyModel(a),new Ai.fT,di.createEmptyModel(a),new Ai.fT,a),S.dispose()}getValue(a,S){const F=typeof a=="string"?a:void 0,q=Vl(a)?a:Vl(S)?S:{};return this._configuration.getValue(F,q,void 0)}updateValues(a){const S={data:this._configuration.toData()},F=[];for(let q of a){const[fe,Re]=q;this.getValue(fe)!==Re&&(this._configuration.updateValue(fe,Re),F.push(fe))}if(F.length>0){const q=new xt({keys:F,overrides:[]},S,this._configuration,void 0,this.logService);q.source=8,this._onDidChangeConfiguration.fire(q)}return Promise.resolve()}updateValue(a,S,F,q){return this.updateValues([[a,S]])}inspect(a,S={}){return this._configuration.inspect(a,S,void 0)}};i=Nr([hi(0,G.rr)],i);let c=class{constructor(a,S,F){this.configurationService=a,this.modelService=S,this.languageService=F,this._onDidChangeConfiguration=new Pe.vl,this.configurationService.onDidChangeConfiguration((q)=>{this._onDidChangeConfiguration.fire({affectedKeys:q.affectedKeys,affectsConfiguration:(fe,Re)=>q.affectsConfiguration(Re)})})}getValue(a,S,F){const q=fi.y.isIPosition(S)?S:null,fe=q?typeof F=="string"?F:void 0:typeof S=="string"?S:void 0,Re=a?this.getLanguage(a,q):void 0;return fe===void 0?this.configurationService.getValue({resource:a,overrideIdentifier:Re}):this.configurationService.getValue(fe,{resource:a,overrideIdentifier:Re})}getLanguage(a,S){const F=this.modelService.getModel(a);return F?S?F.getLanguageIdAtPosition(S.lineNumber,S.column):F.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(a)}};c=Nr([hi(0,Ln.pG),hi(1,U.IModelService),hi(2,ur.L)],c);let y=class{constructor(a){this.configurationService=a}getEOL(a,S){const F=this.configurationService.getValue("files.eol",{overrideIdentifier:S,resource:a});return F&&typeof F=="string"&&F!=="auto"?F:Zi.j9||Zi.zx?"\n":"\r\n"}};y=Nr([hi(0,Ln.pG)],y);class D{static{this.SCHEME="inmemory"}constructor(){const a=v.r.from({scheme:D.SCHEME,authority:"model",path:"/"});this.workspace={id:Cn.cn,folders:[new Cn.mX({uri:a,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(a){return a&&a.scheme===D.SCHEME?this.workspace.folders[0]:null}}function X(a,S,F){if(!S)return;if(!(a instanceof i))return;const q=[];Object.keys(S).forEach((fe)=>{wn.vf(fe)&&q.push([`editor.${fe}`,S[fe]]),F&&wn.Gn(fe)&&q.push([`diffEditor.${fe}`,S[fe]])}),q.length>0&&a.updateValues(q)}let ce=class{constructor(a){this._modelService=a}hasPreviewHandler(){return!1}async apply(a,S){const F=Array.isArray(a)?a:mn.jN.convert(a),q=new Map;for(let Ee of F){if(!(Ee instanceof mn.cw))throw new Error("bad edit - only text edits are supported");const Ge=this._modelService.getModel(Ee.resource);if(!Ge)throw new Error("bad edit - model not found");if(typeof Ee.versionId=="number"&&Ge.getVersionId()!==Ee.versionId)throw new Error("bad state - model changed in the meantime");let vt=q.get(Ge);vt||(vt=[],q.set(Ge,vt)),vt.push(An.k.replaceMove(L.Q.lift(Ee.textEdit.range),Ee.textEdit.text))}let fe=0,Re=0;for(let[Ee,Ge]of q)Ee.pushStackElement(),Ee.pushEditOperations([],Ge,()=>[]),Ee.pushStackElement(),Re+=1,fe+=Ge.length;return{ariaSummary:M.GP(dn.tu.bulkEditServiceSummary,fe,Re),isApplied:fe>0}}};ce=Nr([hi(0,U.IModelService)],ce);let me=class extends Xi{constructor(a,S){super(a),this._codeEditorService=S}showContextView(a,S,F){if(!S){const q=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();q&&(S=q.getContainerDomNode())}return super.showContextView(a,S,F)}};me=Nr([hi(0,Ye),hi(1,C.T)],me);class Ze extends on.LanguageService{constructor(){super()}}let qe=class extends De{constructor(a,S,F,q,fe,Re){super(a,S,F,q,fe,Re),this.configure({blockMouse:!1})}};qe=Nr([hi(0,Vt.k),hi(1,Mt.Ot),hi(2,si.l),hi(3,ti.b),hi(4,vn.ez),hi(5,de.fN)],qe);const it={amdModuleId:"vs/editor/common/services/editorSimpleWorker",esmModuleLocation:void 0,label:"editorWorkerService"};let at=class extends he{constructor(a,S,F,q,fe){super(it,a,S,F,q,fe)}};var ot;at=Nr([hi(0,U.IModelService),hi(1,$.ITextResourceConfigurationService),hi(2,G.rr),hi(3,W.JZ),hi(4,ee.ILanguageFeaturesService)],at),be.v(G.rr,class extends Fa{constructor(){super(new G.Cr)}},0),be.v(Ln.pG,i,0),be.v($.ITextResourceConfigurationService,c,0),be.v($.ITextResourcePropertiesService,y,0),be.v(Cn.VR,D,0),be.v(qt.L,class{getUriLabel(a,S){return a.scheme==="file"?a.fsPath:a.path}getUriBasenameLabel(a){return St.P8(a)}},0),be.v(Vt.k,class{publicLog2(){}},0),be.v(pt.X,class{async confirm(a){return{confirmed:this.doConfirm(a.message,a.detail),checkboxChecked:!1}}doConfirm(a,S){let F=a;return S&&(F=F+"\n\n"+S),T.G.confirm(F)}async prompt(a){let S;if(this.doConfirm(a.message,a.detail)){const F=[...a.buttons??[]];a.cancelButton&&typeof a.cancelButton!="string"&&typeof a.cancelButton!="boolean"&&F.push(a.cancelButton),S=await F[0]?.run({checkboxChecked:!1})}return{result:S}}async error(a,S){await this.prompt({type:ye.A.Error,message:a,detail:S})}},0),be.v(Eo.k,class{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}},0),be.v(Mt.Ot,Oa,0),be.v(es.DR,ts,0),be.v(ur.L,Ze,0),be.v(kr.L,Aa.Sx,0),be.v(U.IModelService,ii.ModelService,0),be.v(Fo.IMarkerDecorationsService,Vr.MarkerDecorationsService,0),be.v(de.fN,Da,0),be.v(Ot.G5,class{withProgress(a,S,F){return S({report:()=>{}})}},0),be.v(Ot.N8,Zo,0),be.v(pl.CS,pl.pc,0),be.v(ki.IEditorWorkerService,at,0),be.v(mn.nu,ce,0),be.v(Lt.L,class{constructor(){this._neverEmitter=new Pe.vl,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}},0),be.v(qn.ITextModelService,ys,0),be.v(tr.j,Qr,0),be.v(Ho.PE,Ho.aG,0),be.v(oi.d,Qa,0),be.v(ti.b,Uo,0),be.v(ui.GK,os,0),be.v(si.l,me,0),be.v(Ni.C,qi,0),be.v(Na.h,dl,0),be.v(si.Z,qe,0),be.v(vn.ez,Gs.$,0),be.v(Io.Nt,class{async playSignal(a,S){}},0),be.v(Hs.ITreeSitterParserService,class{getParseResult(a){}},0),function(a){const S=new vs.a;for(let[Ee,Ge]of be.N())S.set(Ee,Ge);const F=new ro(S,!0);S.set(Ue._Y,F),a.get=function(Ee){q||Re({});const Ge=S.get(Ee);if(!Ge)throw new Error("Missing service "+Ee);return Ge instanceof So.d?F.invokeFunction((vt)=>vt.get(Ee)):Ge};let q=!1;const fe=new Pe.vl;function Re(Ee){if(q)return F;q=!0;for(let[vt,Ct]of be.N())S.get(vt)||S.set(vt,Ct);for(let vt in Ee)if(Ee.hasOwnProperty(vt)){const Ct=Ue.u1(vt);S.get(Ct)instanceof So.d&&S.set(Ct,Ee[vt])}const Ge=Bl.T();for(let vt of Ge)try{F.createInstance(vt)}catch(Ct){m.dz(Ct)}return fe.fire(),F}a.initialize=Re,a.withServices=function(Ee){if(q)return Ee();const Ge=new J.Cm,vt=Ge.add(fe.event(()=>{vt.dispose(),Ge.add(Ee())}));return Ge}}(ot||(ot={}));class Jt extends Se{constructor(a,S){super({amdModuleId:it.amdModuleId,esmModuleLocation:it.esmModuleLocation,label:S.label},S.keepIdleModels||!1,a),this._foreignModuleId=S.moduleId,this._foreignModuleCreateData=S.createData||null,this._foreignModuleHost=S.host||null,this._foreignProxy=null}fhr(a,S){if(!this._foreignModuleHost||typeof this._foreignModuleHost[a]!="function")return Promise.reject(new Error("Missing method "+a+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[a].apply(this._foreignModuleHost,S))}catch(F){return Promise.reject(F)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((a)=>{const S=this._foreignModuleHost?d.V0(this._foreignModuleHost):[];return a.$loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,S).then((F)=>{this._foreignModuleCreateData=null;const q=(Ee,Ge)=>a.$fmr(Ee,Ge),fe=(Ee,Ge)=>function(){const vt=Array.prototype.slice.call(arguments,0);return Ge(Ee,vt)},Re={};for(let Ee of F)Re[Ee]=fe(Ee,q);return Re})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(a){return this.workerWithSyncedResources(a).then((S)=>this.getProxy())}}var Ft=h(4587),$t=h(8060),Gt=h(2596),_n=h(4364),Pn=h(4957),Zn=h(7036),ni=h(6055),Gn=h(2783),ri=h(7445),ci=h(9723),ai=h(1608);function vi(a){return typeof a=="string"}function gi(a){return!vi(a)}function sr(a){return!a}function Si(a,S){return a.ignoreCase&&S?S.toLowerCase():S}function cr(a){return a.replace(/[&<>'"_]/g,"-")}function _i(a,S){return new Error(`${a.languageId}: ${S}`)}function Gr(a,S,F,q,fe){let Re=null;return S.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(Ee,Ge,vt,Ct,Qt,an,kn,jn,bi){return sr(vt)?sr(Ct)?!sr(Qt)&&Qt<q.length?Si(a,q[Qt]):!sr(kn)&&a&&typeof a[kn]=="string"?a[kn]:(Re===null&&(Re=fe.split("."),Re.unshift(fe)),!sr(an)&&an<Re.length?Si(a,Re[an]):""):Si(a,F):"$"})}function wo(a,S){let F=S;for(;F&&F.length>0;){const q=a.tokenizer[F];if(q)return q;const fe=F.lastIndexOf(".");F=fe<0?null:F.substr(0,fe)}return null}var ir;class Ki{static{this._INSTANCE=new Ki(5)}static create(a,S){return this._INSTANCE.create(a,S)}constructor(a){this._maxCacheDepth=a,this._entries=Object.create(null)}create(a,S){if(a!==null&&a.depth>=this._maxCacheDepth)return new Er(a,S);let F=Er.getStackElementId(a);F.length>0&&(F+="|"),F+=S;let q=this._entries[F];return q||(q=new Er(a,S),this._entries[F]=q,q)}}class Er{constructor(a,S){this.parent=a,this.state=S,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(a){let S="";for(;a!==null;)S.length>0&&(S+="|"),S+=a.state,a=a.parent;return S}static _equals(a,S){for(;a!==null&&S!==null;){if(a===S)return!0;if(a.state!==S.state)return!1;a=a.parent,S=S.parent}return a===null&&S===null}equals(a){return Er._equals(this,a)}push(a){return Ki.create(this,a)}pop(){return this.parent}popall(){let a=this;for(;a.parent;)a=a.parent;return a}switchTo(a){return Ki.create(this.parent,a)}}class Mr{constructor(a,S){this.languageId=a,this.state=S}equals(a){return this.languageId===a.languageId&&this.state.equals(a.state)}clone(){return this.state.clone()===this.state?this:new Mr(this.languageId,this.state)}}class Ur{static{this._INSTANCE=new Ur(5)}static create(a,S){return this._INSTANCE.create(a,S)}constructor(a){this._maxCacheDepth=a,this._entries=Object.create(null)}create(a,S){if(S!==null)return new Xr(a,S);if(a!==null&&a.depth>=this._maxCacheDepth)return new Xr(a,S);const F=Er.getStackElementId(a);let q=this._entries[F];return q||(q=new Xr(a,null),this._entries[F]=q,q)}}class Xr{constructor(a,S){this.stack=a,this.embeddedLanguageData=S}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Ur.create(this.stack,this.embeddedLanguageData)}equals(a){return a instanceof Xr&&!!this.stack.equals(a.stack)&&(this.embeddedLanguageData===null&&a.embeddedLanguageData===null||this.embeddedLanguageData!==null&&a.embeddedLanguageData!==null&&this.embeddedLanguageData.equals(a.embeddedLanguageData))}}class as{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(a){this._languageId=a}emit(a,S){this._lastTokenType===S&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=S,this._lastTokenLanguage=this._languageId,this._tokens.push(new _n.ou(a,S,this._languageId)))}nestedLanguageTokenize(a,S,F,q){const{languageId:fe,state:Re}=F,Ee=_n.dG.get(fe);if(!Ee)return this.enterLanguage(fe),this.emit(q,""),Re;const Ge=Ee.tokenize(a,S,Re);if(q!==0)for(let vt of Ge.tokens)this._tokens.push(new _n.ou(vt.offset+q,vt.type,vt.language));else this._tokens=this._tokens.concat(Ge.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,Ge.endState}finalize(a){return new _n.$M(this._tokens,a)}}class ls{constructor(a,S){this._languageService=a,this._theme=S,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(a){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(a)}emit(a,S){const F=1024|this._theme.match(this._currentLanguageId,S);this._lastTokenMetadata!==F&&(this._lastTokenMetadata=F,this._tokens.push(a),this._tokens.push(F))}static _merge(a,S,F){const q=a!==null?a.length:0,fe=S.length,Re=F!==null?F.length:0;if(q===0&&fe===0&&Re===0)return new Uint32Array(0);if(q===0&&fe===0)return F;if(fe===0&&Re===0)return a;const Ee=new Uint32Array(q+fe+Re);a!==null&&Ee.set(a);for(let Ge=0;Ge<fe;Ge++)Ee[q+Ge]=S[Ge];return F!==null&&Ee.set(F,q+fe),Ee}nestedLanguageTokenize(a,S,F,q){const{languageId:fe,state:Re}=F,Ee=_n.dG.get(fe);if(!Ee)return this.enterLanguage(fe),this.emit(q,""),Re;const Ge=Ee.tokenizeEncoded(a,S,Re);if(q!==0)for(let vt=0,Ct=Ge.tokens.length;vt<Ct;vt+=2)Ge.tokens[vt]+=q;return this._prependTokens=ls._merge(this._prependTokens,this._tokens,Ge.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,Ge.endState}finalize(a){return new _n.rY(ls._merge(this._prependTokens,this._tokens,null),a)}}let Jo=ir=class extends J.jG{constructor(a,S,F,q,fe){super(),this._configurationService=fe,this._languageService=a,this._standaloneThemeService=S,this._languageId=F,this._lexer=q,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let Re=!1;this._register(_n.dG.onDidChange((Ee)=>{if(Re)return;let Ge=!1;for(let vt=0,Ct=Ee.changedLanguages.length;vt<Ct;vt++){const Qt=Ee.changedLanguages[vt];if(this._embeddedLanguages[Qt]){Ge=!0;break}}Ge&&(Re=!0,_n.dG.handleChange([this._languageId]),Re=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration((Ee)=>{Ee.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const a=[];for(let S in this._embeddedLanguages){const F=_n.dG.get(S);if(F){if(F instanceof ir){const q=F.getLoadStatus();q.loaded===!1&&a.push(q.promise)}}else _n.dG.isResolved(S)||a.push(_n.dG.getOrCreate(S))}return a.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(a).then((S)=>{})}}getInitialState(){const a=Ki.create(null,this._lexer.start);return Ur.create(a,null)}tokenize(a,S,F){if(a.length>=this._maxTokenizationLineLength)return Zn.$H(this._languageId,F);const q=new as,fe=this._tokenize(a,S,F,q);return q.finalize(fe)}tokenizeEncoded(a,S,F){if(a.length>=this._maxTokenizationLineLength)return Zn.Lh(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),F);const q=new ls(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),fe=this._tokenize(a,S,F,q);return q.finalize(fe)}_tokenize(a,S,F,q){return F.embeddedLanguageData?this._nestedTokenize(a,S,F,0,q):this._myTokenize(a,S,F,0,q)}_findLeavingNestedLanguageOffset(a,S){let F=this._lexer.tokenizer[S.stack.state];if(!F&&(F=wo(this._lexer,S.stack.state),!F))throw _i(this._lexer,"tokenizer state is not defined: "+S.stack.state);let q=-1,fe=!1;for(let Re of F){if(!gi(Re.action)||Re.action.nextEmbedded!=="@pop")continue;fe=!0;let Ee=Re.resolveRegex(S.stack.state);const Ge=Ee.source;if(Ge.substr(0,4)==="^(?:"&&Ge.substr(Ge.length-1,1)===")"){const Ct=(Ee.ignoreCase?"i":"")+(Ee.unicode?"u":"");Ee=new RegExp(Ge.substr(4,Ge.length-5),Ct)}const vt=a.search(Ee);vt===-1||vt!==0&&Re.matchOnlyAtLineStart||(q===-1||vt<q)&&(q=vt)}if(!fe)throw _i(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+S.stack.state);return q}_nestedTokenize(a,S,F,q,fe){const Re=this._findLeavingNestedLanguageOffset(a,F);if(Re===-1){const vt=fe.nestedLanguageTokenize(a,S,F.embeddedLanguageData,q);return Ur.create(F.stack,new Mr(F.embeddedLanguageData.languageId,vt))}const Ee=a.substring(0,Re);Ee.length>0&&fe.nestedLanguageTokenize(Ee,!1,F.embeddedLanguageData,q);const Ge=a.substring(Re);return this._myTokenize(Ge,S,F,q+Re,fe)}_safeRuleName(a){return a?a.name:"(unknown)"}_myTokenize(a,S,F,q,fe){fe.enterLanguage(this._languageId);const Re=a.length,Ee=S&&this._lexer.includeLF?a+"\n":a,Ge=Ee.length;let{embeddedLanguageData:vt,stack:Ct}=F,Qt=0,an=null,kn=!0;for(;kn||Qt<Ge;){const gr=Qt,Ei=Ct.depth,yr=an?an.groups.length:0,hr=Ct.state;let mr=null,Sr=null,zi=null,Or=null,Hr=null;if(an){mr=an.matches;const Wi=an.groups.shift();Sr=Wi.matched,zi=Wi.action,Or=an.rule,an.groups.length===0&&(an=null)}else{if(!kn&&Qt>=Ge)break;kn=!1;let Wi=this._lexer.tokenizer[hr];if(!Wi&&(Wi=wo(this._lexer,hr),!Wi))throw _i(this._lexer,"tokenizer state is not defined: "+hr);const Ir=Ee.substr(Qt);for(let To of Wi)if((Qt===0||!To.matchOnlyAtLineStart)&&(mr=Ir.match(To.resolveRegex(hr)),mr)){Sr=mr[0],zi=To.action;break}}if(mr||(mr=[""],Sr=""),zi||(Qt<Ge&&(mr=[Ee.charAt(Qt)],Sr=mr[0]),zi=this._lexer.defaultToken),Sr===null)break;for(Qt+=Sr.length;!function(Wi){return Array.isArray(Wi)}(zi)&&gi(zi)&&zi.test;)zi=zi.test(Sr,mr,hr,Qt===Ge);let Tr=null;if(typeof zi=="string"||Array.isArray(zi))Tr=zi;else if(zi.group)Tr=zi.group;else if(zi.token!==null&&zi.token!==void 0){if(Tr=zi.tokenSubst?Gr(this._lexer,zi.token,Sr,mr,hr):zi.token,zi.nextEmbedded)if(zi.nextEmbedded==="@pop"){if(!vt)throw _i(this._lexer,"cannot pop embedded language if not inside one");vt=null}else{if(vt)throw _i(this._lexer,"cannot enter embedded language from within an embedded language");Hr=Gr(this._lexer,zi.nextEmbedded,Sr,mr,hr)}if(zi.goBack&&(Qt=Math.max(0,Qt-zi.goBack)),zi.switchTo&&typeof zi.switchTo=="string"){let Wi=Gr(this._lexer,zi.switchTo,Sr,mr,hr);if(Wi[0]==="@"&&(Wi=Wi.substr(1)),!wo(this._lexer,Wi))throw _i(this._lexer,"trying to switch to a state '"+Wi+"' that is undefined in rule: "+this._safeRuleName(Or));Ct=Ct.switchTo(Wi)}else{if(zi.transform&&typeof zi.transform=="function")throw _i(this._lexer,"action.transform not supported");if(zi.next)if(zi.next==="@push"){if(Ct.depth>=this._lexer.maxStack)throw _i(this._lexer,"maximum tokenizer stack size reached: ["+Ct.state+","+Ct.parent.state+",...]");Ct=Ct.push(hr)}else if(zi.next==="@pop"){if(Ct.depth<=1)throw _i(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Or));Ct=Ct.pop()}else if(zi.next==="@popall")Ct=Ct.popall();else{let Wi=Gr(this._lexer,zi.next,Sr,mr,hr);if(Wi[0]==="@"&&(Wi=Wi.substr(1)),!wo(this._lexer,Wi))throw _i(this._lexer,"trying to set a next state '"+Wi+"' that is undefined in rule: "+this._safeRuleName(Or));Ct=Ct.push(Wi)}}zi.log&&typeof zi.log=="string"&&(jn=this._lexer,bi=this._lexer.languageId+": "+Gr(this._lexer,zi.log,Sr,mr,hr),console.log(`${jn.languageId}: ${bi}`))}if(Tr===null)throw _i(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Or));const oo=(Wi)=>{const Ir=this._languageService.getLanguageIdByLanguageName(Wi)||this._languageService.getLanguageIdByMimeType(Wi)||Wi,To=this._getNestedEmbeddedLanguageData(Ir);if(Qt<Ge){const Vi=a.substr(Qt);return this._nestedTokenize(Vi,S,Ur.create(Ct,To),q+Qt,fe)}return Ur.create(Ct,To)};if(Array.isArray(Tr)){if(an&&an.groups.length>0)throw _i(this._lexer,"groups cannot be nested: "+this._safeRuleName(Or));if(mr.length!==Tr.length+1)throw _i(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Or));let Wi=0;for(let Ir=1;Ir<mr.length;Ir++)Wi+=mr[Ir].length;if(Wi!==Sr.length)throw _i(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Or));an={rule:Or,matches:mr,groups:[]};for(let Ir=0;Ir<Tr.length;Ir++)an.groups[Ir]={action:Tr[Ir],matched:mr[Ir+1]};Qt-=Sr.length}else{{if(Tr==="@rematch"&&(Qt-=Sr.length,Sr="",mr=null,Tr="",Hr!==null))return oo(Hr);if(Sr.length===0){if(Ge===0||Ei!==Ct.depth||hr!==Ct.state||(an?an.groups.length:0)!==yr)continue;throw _i(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Or))}let Wi=null;if(vi(Tr)&&Tr.indexOf("@brackets")===0){const Ir=Tr.substr(9),To=Bo(this._lexer,Sr);if(!To)throw _i(this._lexer,"@brackets token returned but no bracket defined as: "+Sr);Wi=cr(To.token+Ir)}else Wi=cr(Tr===""?"":Tr+this._lexer.tokenPostfix);gr<Re&&fe.emit(gr+q,Wi)}if(Hr!==null)return oo(Hr)}}var jn,bi;return Ur.create(Ct,vt)}_getNestedEmbeddedLanguageData(a){if(!this._languageService.isRegisteredLanguageId(a))return new Mr(a,Zn.r3);a!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(a),_n.dG.getOrCreate(a),this._embeddedLanguages[a]=!0);const S=_n.dG.get(a);return new Mr(a,S?S.getInitialState():Zn.r3)}};function Bo(a,S){if(!S)return null;S=Si(a,S);const F=a.brackets;for(let q of F){if(q.open===S)return{token:q.token,bracketType:1};if(q.close===S)return{token:q.token,bracketType:-1}}return null}Jo=ir=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([function(a,S){return function(F,q){S(F,q,a)}}(4,Ln.pG)],Jo);const ha=_.H("standaloneColorizer",{createHTML:(a)=>a});class Jc{static colorizeElement(a,S,F,q){const fe=(q=q||{}).theme||"vs",Re=q.mimeType||F.getAttribute("lang")||F.getAttribute("data-lang");if(!Re)return console.error("Mode not detected"),Promise.resolve();const Ee=S.getLanguageIdByMimeType(Re)||Re;a.setTheme(fe);const Ge=F.firstChild?F.firstChild.nodeValue:"";return F.className+=" "+fe,this.colorize(S,Ge||"",Ee,q).then((vt)=>{const Ct=ha?.createHTML(vt)??vt;F.innerHTML=Ct},(vt)=>console.error(vt))}static async colorize(a,S,F,q){const fe=a.languageIdCodec;let Re=4;q&&typeof q.tabSize=="number"&&(Re=q.tabSize),M.LU(S)&&(S=S.substr(1));const Ee=M.uz(S);if(!a.isRegisteredLanguageId(F))return kc(Ee,Re,fe);const Ge=await _n.dG.getOrCreate(F);return Ge?function(vt,Ct,Qt,an){return new Promise((kn,jn)=>{const bi=()=>{const gr=function(Ei,yr,hr,mr){let Sr=[],zi=hr.getInitialState();for(let Or=0,Hr=Ei.length;Or<Hr;Or++){const Tr=Ei[Or],oo=hr.tokenizeEncoded(Tr,!0,zi);ri.f.convertToEndOffset(oo.tokens,Tr.length);const Wi=new ri.f(oo.tokens,Tr,mr),Ir=ai.qL.isBasicASCII(Tr,!0),To=ai.qL.containsRTL(Tr,Ir,!0),Vi=ci.Md(new ci.zL(!1,!0,Tr,!1,Ir,To,0,Wi.inflate(),[],yr,0,0,0,0,-1,"none",!1,!1,null));Sr=Sr.concat(Vi.html),Sr.push("<br/>"),zi=oo.endState}return Sr.join("")}(vt,Ct,Qt,an);if(Qt instanceof Jo){const Ei=Qt.getLoadStatus();if(Ei.loaded===!1)return void Ei.promise.then(bi,jn)}kn(gr)};bi()})}(Ee,Re,Ge,fe):kc(Ee,Re,fe)}static colorizeLine(a,S,F,q,fe=4){const Re=ai.qL.isBasicASCII(a,S),Ee=ai.qL.containsRTL(a,Re,F);return ci.Md(new ci.zL(!1,!0,a,!1,Re,Ee,0,q,[],fe,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(a,S,F=4){const q=a.getLineContent(S);a.tokenization.forceTokenization(S);const fe=a.tokenization.getLineTokens(S).inflate();return this.colorizeLine(q,a.mightContainNonBasicASCII(),a.mightContainRTL(),fe,F)}}function kc(a,S,F){let q=[];const fe=new Uint32Array(2);fe[0]=0,fe[1]=33587200;for(let Re=0,Ee=a.length;Re<Ee;Re++){const Ge=a[Re];fe[0]=Ge.length;const vt=new ri.f(fe,Ge,F),Ct=ai.qL.isBasicASCII(Ge,!0),Qt=ai.qL.containsRTL(Ge,Ct,!0),an=ci.Md(new ci.zL(!1,!0,Ge,!1,Ct,Qt,0,vt,[],S,0,0,0,0,-1,"none",!1,!1,null));q=q.concat(an.html),q.push("<br/>")}return q.join("")}var Rn=h(9783),cs=h(2595),kd=h(2603),$u=h(5568),Zu=h(396),gl=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee},br=function(a,S){return function(F,q){S(F,q,a)}};let Uu=0,Tc=!1,Ro=class extends Rn.x{constructor(a,S,F,q,fe,Re,Ee,Ge,vt,Ct,Qt,an,kn){const jn={...S};jn.ariaLabel=jn.ariaLabel||dn.vp.editorViewAccessibleLabel,super(a,jn,{},F,q,fe,Re,vt,Ct,Qt,an,kn),this._standaloneKeybindingService=Ge instanceof Uo?Ge:null,function(bi){if(!bi){if(Tc)return;Tc=!0}rr.vr(bi||T.G.document.body)}(jn.ariaContainerElement),$u.MW((bi,gr)=>F.createInstance(li.fO,bi,gr,{})),Zu.e(Ee)}addCommand(a,S,F){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const q="DYNAMIC_"+ ++Uu,fe=de.M$.deserialize(F);return this._standaloneKeybindingService.addDynamicKeybinding(q,a,S,fe),q}createContextKey(a,S){return this._contextKeyService.createKey(a,S)}addAction(a){if(typeof a.id!="string"||typeof a.label!="string"||typeof a.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),J.jG.None;const{id:S,label:F}=a,q=de.M$.and(de.M$.equals("editorId",this.getId()),de.M$.deserialize(a.precondition)),fe=a.keybindings,Re=de.M$.and(q,de.M$.deserialize(a.keybindingContext)),Ee=a.contextMenuGroupId||null,Ge=a.contextMenuOrder||0,vt=(kn,...jn)=>Promise.resolve(a.run(this,...jn)),Ct=new J.Cm,Qt=this.getId()+":"+S;if(Ct.add(oi.w.registerCommand(Qt,vt)),Ee){const kn={command:{id:Qt,title:F},when:q,group:Ee,order:Ge};Ct.add(vn.ZG.appendMenuItem(vn.D8.EditorContext,kn))}if(Array.isArray(fe))for(let kn of fe)Ct.add(this._standaloneKeybindingService.addDynamicKeybinding(Qt,kn,vt,Re));const an=new cs.f(Qt,F,F,void 0,q,(...kn)=>Promise.resolve(a.run(this,...kn)),this._contextKeyService);return this._actions.set(S,an),Ct.add(J.s(()=>{this._actions.delete(S)})),Ct}_triggerCommand(a,S){if(this._codeEditorService instanceof O)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(a,S)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(a,S)}};Ro=gl([br(2,Ue._Y),br(3,C.T),br(4,oi.d),br(5,de.fN),br(6,li.TN),br(7,ti.b),br(8,Ve.Gy),br(9,Mt.Ot),br(10,tr.j),br(11,W.JZ),br(12,ee.ILanguageFeaturesService)],Ro);let Gl=class extends Ro{constructor(a,S,F,q,fe,Re,Ee,Ge,vt,Ct,Qt,an,kn,jn,bi,gr){const Ei={...S};X(Qt,Ei,!1);const yr=vt.registerEditorContainer(a);typeof Ei.theme=="string"&&vt.setTheme(Ei.theme),Ei.autoDetectHighContrast!==void 0&&vt.setAutoDetectHighContrast(Boolean(Ei.autoDetectHighContrast));const hr=Ei.model;let mr;if(delete Ei.model,super(a,Ei,F,q,fe,Re,Ee,Ge,vt,Ct,an,bi,gr),this._configurationService=Qt,this._standaloneThemeService=vt,this._register(yr),hr===void 0){const Sr=jn.getLanguageIdByMimeType(Ei.language)||Ei.language||Pn.vH;mr=Bu(kn,jn,Ei.value||"",Sr,void 0),this._ownsModel=!0}else mr=hr,this._ownsModel=!1;if(this._attachModel(mr),mr){const Sr={oldModelUrl:null,newModelUrl:mr.uri};this._onDidChangeModel.fire(Sr)}}dispose(){super.dispose()}updateOptions(a){X(this._configurationService,a,!1),typeof a.theme=="string"&&this._standaloneThemeService.setTheme(a.theme),a.autoDetectHighContrast!==void 0&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(a.autoDetectHighContrast)),super.updateOptions(a)}_postDetachModelCleanup(a){super._postDetachModelCleanup(a),a&&this._ownsModel&&(a.dispose(),this._ownsModel=!1)}};Gl=gl([br(2,Ue._Y),br(3,C.T),br(4,oi.d),br(5,de.fN),br(6,li.TN),br(7,ti.b),br(8,kr.L),br(9,Mt.Ot),br(10,Ln.pG),br(11,tr.j),br(12,U.IModelService),br(13,ur.L),br(14,W.JZ),br(15,ee.ILanguageFeaturesService)],Gl);let Td=class extends kd.T{constructor(a,S,F,q,fe,Re,Ee,Ge,vt,Ct,Qt,an){const kn={...S};X(Ge,kn,!0);const jn=Re.registerEditorContainer(a);typeof kn.theme=="string"&&Re.setTheme(kn.theme),kn.autoDetectHighContrast!==void 0&&Re.setAutoDetectHighContrast(Boolean(kn.autoDetectHighContrast)),super(a,kn,{},q,F,fe,an,Ct),this._configurationService=Ge,this._standaloneThemeService=Re,this._register(jn)}dispose(){super.dispose()}updateOptions(a){X(this._configurationService,a,!0),typeof a.theme=="string"&&this._standaloneThemeService.setTheme(a.theme),a.autoDetectHighContrast!==void 0&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(a.autoDetectHighContrast)),super.updateOptions(a)}_createInnerEditor(a,S,F){return a.createInstance(Ro,S,F)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(a,S,F){return this.getModifiedEditor().addCommand(a,S,F)}createContextKey(a,S){return this.getModifiedEditor().createContextKey(a,S)}addAction(a){return this.getModifiedEditor().addAction(a)}};function Bu(a,S,F,q,fe){if(F=F||"",!q){const Re=F.indexOf("\n");let Ee=F;return Re!==-1&&(Ee=F.substring(0,Re)),za(a,F,S.createByFilepathOrFirstLine(fe||null,Ee),fe)}return za(a,F,S.createById(q),fe)}function za(a,S,F,q){return a.createModel(S,F,q)}Td=gl([br(2,Ue._Y),br(3,de.fN),br(4,C.T),br(5,kr.L),br(6,Mt.Ot),br(7,Ln.pG),br(8,si.Z),br(9,Ot.N8),br(10,Na.h),br(11,Io.Nt)],Td);var Ad=h(1807),Vu=h(7393),ko=h(4442),Ac=h(4513),Gu=h(2744),_l=h(2532),pa=h(3702),Xl=h(5741),Nd=h(1988),Fs=h(583),fa=h(6551),Wa=function(a,S){return function(F,q){S(F,q,a)}};class Hl{constructor(a,S){this.viewModel=a,this.deltaScrollVertical=S}getId(){return this.viewModel}}let bl=class extends J.jG{constructor(a,S,F,q,fe){super(),this._container=a,this._overflowWidgetsDomNode=S,this._workbenchUIElementFactory=F,this._instantiationService=q,this._viewModel=ko.FY(this,void 0),this._collapsed=fr.un(this,(Ge)=>this._viewModel.read(Ge)?.collapsed.read(Ge)),this._editorContentHeight=ko.FY(this,500),this.contentHeight=fr.un(this,(Ge)=>(this._collapsed.read(Ge)?0:this._editorContentHeight.read(Ge))+this._outerEditorHeight),this._modifiedContentWidth=ko.FY(this,0),this._modifiedWidth=ko.FY(this,0),this._originalContentWidth=ko.FY(this,0),this._originalWidth=ko.FY(this,0),this.maxScroll=fr.un(this,(Ge)=>{const vt=this._modifiedContentWidth.read(Ge)-this._modifiedWidth.read(Ge),Ct=this._originalContentWidth.read(Ge)-this._originalWidth.read(Ge);return vt>Ct?{maxScroll:vt,width:this._modifiedWidth.read(Ge)}:{maxScroll:Ct,width:this._originalWidth.read(Ge)}}),this._elements=Y.h("div.multiDiffEntry",[Y.h("div.header@header",[Y.h("div.header-content",[Y.h("div.collapse-button@collapseButton"),Y.h("div.file-path",[Y.h("div.title.modified.show-file-icons@primaryPath",[]),Y.h("div.status.deleted@status",["R"]),Y.h("div.title.original.show-file-icons@secondaryPath",[])]),Y.h("div.actions@actions")])]),Y.h("div.editorParent",[Y.h("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(kd.T,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=Nd.Ud(this.editor.getModifiedEditor()).isFocused,this.isOriginalFocused=Nd.Ud(this.editor.getOriginalEditor()).isFocused,this.isFocused=fr.un(this,(Ge)=>this.isModifedFocused.read(Ge)||this.isOriginalFocused.read(Ge)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=this._register(new J.Cm),this._headerHeight=40,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const Re=new zr.$(this._elements.collapseButton,{});this._register(fr.fm((Ge)=>{Re.element.className="",Re.icon=this._collapsed.read(Ge)?Z.W.chevronRight:Z.W.chevronDown})),this._register(Re.onDidClick(()=>{this._viewModel.get()?.collapsed.set(!this._collapsed.get(),void 0)})),this._register(fr.fm((Ge)=>{this._elements.editor.style.display=this._collapsed.read(Ge)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange((Ge)=>{const vt=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(vt,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange((Ge)=>{const vt=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(vt,void 0)})),this._register(this.editor.onDidContentSizeChange((Ge)=>{ko.YY((vt)=>{this._editorContentHeight.set(Ge.contentHeight,vt),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),vt),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),vt)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange((Ge)=>{if(this._isSettingScrollTop)return;if(!Ge.scrollTopChanged||!this._data)return;const vt=Ge.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(vt)})),this._register(fr.fm((Ge)=>{const vt=this._viewModel.read(Ge)?.isActive.read(Ge);this._elements.root.classList.toggle("active",vt)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._contextKeyService=this._register(fe.createScoped(this._elements.actions));const Ee=this._register(this._instantiationService.createChild(new vs.a([de.fN,this._contextKeyService])));this._register(Ee.createInstance(Fs.m,this._elements.actions,vn.D8.MultiDiffEditorFileToolbar,{actionRunner:this._register(new fa.I(()=>this._viewModel.get()?.modifiedUri)),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:(Ge)=>Ge.startsWith("navigation")},actionViewItemProvider:(Ge,vt)=>Dn.rN(Ee,Ge,vt)}))}setScrollLeft(a){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(a):this.editor.getOriginalEditor().setScrollLeft(a)}setData(a){function S(q){return{...q,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}if(this._data=a,!a)return void ko.YY((q)=>{this._viewModel.set(void 0,q),this.editor.setDiffModel(null,q),this._dataStore.clear()});const F=a.viewModel.documentDiffItem;if(ko.YY((q)=>{this._resourceLabel?.setUri(a.viewModel.modifiedUri??a.viewModel.originalUri,{strikethrough:a.viewModel.modifiedUri===void 0});let fe=!1,Re=!1,Ee=!1,Ge="";a.viewModel.modifiedUri&&a.viewModel.originalUri&&a.viewModel.modifiedUri.path!==a.viewModel.originalUri.path?(Ge="R",fe=!0):a.viewModel.modifiedUri?a.viewModel.originalUri||(Ge="A",Ee=!0):(Ge="D",Re=!0),this._elements.status.classList.toggle("renamed",fe),this._elements.status.classList.toggle("deleted",Re),this._elements.status.classList.toggle("added",Ee),this._elements.status.innerText=Ge,this._resourceLabel2?.setUri(fe?a.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(a.viewModel,q),this.editor.setDiffModel(a.viewModel.diffEditorViewModelRef,q),this.editor.updateOptions(S(F.options??{}))}),F.onOptionsDidChange&&this._dataStore.add(F.onOptionsDidChange(()=>{this.editor.updateOptions(S(F.options??{}))})),a.viewModel.isAlive.recomputeInitiallyAndOnChange(this._dataStore,(q)=>{q||this.setData(void 0)}),a.viewModel.documentDiffItem.contextKeys)for(let[q,fe]of Object.entries(a.viewModel.documentDiffItem.contextKeys))this._contextKeyService.createKey(q,fe)}render(a,S,F,q){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${a.start}px`,this._elements.root.style.height=`${a.length}px`,this._elements.root.style.width=`${S}px`,this._elements.root.style.position="absolute";const fe=a.length-this._headerHeight,Re=Math.max(0,Math.min(q.start-a.start,fe));this._elements.header.style.transform=`translateY(${Re}px)`,ko.YY((Ee)=>{this.editor.layout({width:S-16-2,height:a.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=F,this.editor.getOriginalEditor().setScrollTop(F)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",Re>0||F>0),this._elements.header.classList.toggle("collapsed",Re===fe)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};bl=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([Wa(3,Ue._Y),Wa(4,de.fN)],bl);class Id{constructor(a){this._create=a,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(a){let S;if(this._unused.size===0)S=this._create(a),this._itemData.set(S,a);else{const F=[...this._unused.values()];S=F.find((q)=>this._itemData.get(q).getId()===a.getId())??F[0],this._unused.delete(S),this._itemData.set(S,a),S.setData(a)}return this._used.add(S),{object:S,dispose:()=>{this._used.delete(S),this._unused.size>5?S.dispose():this._unused.add(S)}}}dispose(){for(let a of this._used)a.dispose();for(let a of this._unused)a.dispose();this._used.clear(),this._unused.clear()}}var Yl=function(a,S){return function(F,q){S(F,q,a)}};let jl=class extends J.jG{constructor(a,S,F,q,fe,Re){super(),this._element=a,this._dimension=S,this._viewModel=F,this._workbenchUIElementFactory=q,this._parentContextKeyService=fe,this._parentInstantiationService=Re,this._scrollableElements=Y.h("div.scrollContent",[Y.h("div@content",{style:{overflow:"hidden"}}),Y.h("div.monaco-editor@overflowWidgetsDomNode",{})]),this._scrollable=this._register(new Ac.yE({forceIntegerValues:!1,scheduleAtNextAnimationFrame:(Ge)=>Y.PG(Y.zk(this._element),Ge),smoothScrollDuration:100})),this._scrollableElement=this._register(new N.oO(this._scrollableElements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this._elements=Y.h("div.monaco-component.multiDiffEditor",{},[Y.h("div",{},[this._scrollableElement.getDomNode()]),Y.h("div.placeholder@placeholder",{},[Y.h("div",[k.kg("noChangedFiles","No Changed Files")])])]),this._sizeObserver=this._register(new Gu.pN(this._element,void 0)),this._objectPool=this._register(new Id((Ge)=>{const vt=this._instantiationService.createInstance(bl,this._scrollableElements.content,this._scrollableElements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return vt.setData(Ge),vt})),this.scrollTop=fr.y0(this,this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=fr.y0(this,this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItemsInfo=fr.rm(this,(Ge,vt)=>{const Ct=this._viewModel.read(Ge);if(!Ct)return{items:[],getItem:(kn)=>{throw new m.D7}};const Qt=Ct.items.read(Ge),an=new Map;return{items:Qt.map((kn)=>{const jn=vt.add(new Rd(kn,this._objectPool,this.scrollLeft,(gr)=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+gr})})),bi=this._lastDocStates?.[jn.getKey()];return bi&&ko.Rn((gr)=>{jn.setViewState(bi,gr)}),an.set(kn,jn),jn}),getItem:(kn)=>an.get(kn)}}),this._viewItems=this._viewItemsInfo.map(this,(Ge)=>Ge.items),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(Ge,vt)=>Ge.reduce((Ct,Qt)=>Ct+Qt.contentHeight.read(vt)+this._spaceBetweenPx,0)),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._register(this._parentInstantiationService.createChild(new vs.a([de.fN,this._contextKeyService]))),this._lastDocStates={},this._contextKeyService.createKey(Xl.R.inMultiDiffEditor.key,!0),this._register(fr.yC((Ge,vt)=>{const Ct=this._viewModel.read(Ge);if(Ct&&Ct.contextKeys)for(let[Qt,an]of Object.entries(Ct.contextKeys)){const kn=this._contextKeyService.createKey(Qt,void 0);kn.set(an),vt.add(J.s(()=>kn.reset()))}}));const Ee=this._parentContextKeyService.createKey(Xl.R.multiDiffEditorAllCollapsed.key,!1);this._register(fr.fm((Ge)=>{const vt=this._viewModel.read(Ge);if(vt){const Ct=vt.items.read(Ge).every((Qt)=>Qt.collapsed.read(Ge));Ee.set(Ct)}})),this._register(fr.fm((Ge)=>{const vt=this._dimension.read(Ge);this._sizeObserver.observe(vt)})),this._register(fr.fm((Ge)=>{const vt=this._viewItems.read(Ge);this._elements.placeholder.classList.toggle("visible",vt.length===0)})),this._scrollableElements.content.style.position="relative",this._register(fr.fm((Ge)=>{const vt=this._sizeObserver.height.read(Ge);this._scrollableElements.root.style.height=`${vt}px`;const Ct=this._totalHeight.read(Ge);this._scrollableElements.content.style.height=`${Ct}px`;const Qt=this._sizeObserver.width.read(Ge);let an=Qt;const kn=this._viewItems.read(Ge),jn=Vu.Cn(kn,x.VE((bi)=>bi.maxScroll.read(Ge).maxScroll,x.U9));jn&&(an=Qt+jn.maxScroll.read(Ge).maxScroll),this._scrollableElement.setScrollDimensions({width:Qt,height:vt,scrollHeight:Ct,scrollWidth:an})})),a.replaceChildren(this._elements.root),this._register(J.s(()=>{a.replaceChildren()})),this._register(this._register(fr.fm((Ge)=>{ko.YY((vt)=>{this.render(Ge)})})))}render(a){const S=this.scrollTop.read(a);let F=0,q=0,fe=0;const Re=this._sizeObserver.height.read(a),Ee=_l.L.ofStartAndLength(S,Re),Ge=this._sizeObserver.width.read(a);for(let vt of this._viewItems.read(a)){const Ct=vt.contentHeight.read(a),Qt=Math.min(Ct,Re),an=_l.L.ofStartAndLength(q,Qt),kn=_l.L.ofStartAndLength(fe,Ct);if(kn.isBefore(Ee))F-=Ct-Qt,vt.hide();else if(kn.isAfter(Ee))vt.hide();else{const jn=Math.max(0,Math.min(Ee.start-kn.start,Ct-Qt));F-=jn;const bi=_l.L.ofStartAndLength(S+F,Re);vt.render(an,jn,Ge,bi)}q+=Qt+this._spaceBetweenPx,fe+=Ct+this._spaceBetweenPx}this._scrollableElements.content.style.transform=`translateY(${-(S+F)}px)`}};jl=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([Yl(4,de.fN),Yl(5,Ue._Y)],jl);class Rd extends J.jG{constructor(a,S,F,q){super(),this.viewModel=a,this._objectPool=S,this._scrollLeft=F,this._deltaScrollVertical=q,this._templateRef=this._register(ko.X2(this,void 0)),this.contentHeight=fr.un(this,(fe)=>this._templateRef.read(fe)?.object.contentHeight?.read(fe)??this.viewModel.lastTemplateData.read(fe).contentHeight),this.maxScroll=fr.un(this,(fe)=>this._templateRef.read(fe)?.object.maxScroll.read(fe)??{maxScroll:0,scrollWidth:0}),this.template=fr.un(this,(fe)=>this._templateRef.read(fe)?.object),this._isHidden=fr.FY(this,!1),this._isFocused=fr.un(this,(fe)=>this.template.read(fe)?.isFocused.read(fe)??!1),this.viewModel.setIsFocused(this._isFocused,void 0),this._register(fr.fm((fe)=>{const Re=this._scrollLeft.read(fe);this._templateRef.read(fe)?.object.setScrollLeft(Re)})),this._register(fr.fm((fe)=>{const Re=this._templateRef.read(fe);Re&&this._isHidden.read(fe)&&(Re.object.isFocused.read(fe)||this._clear())}))}dispose(){this._clear(),super.dispose()}toString(){return`VirtualViewItem(${this.viewModel.documentDiffItem.modified?.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(a,S){this.viewModel.collapsed.set(a.collapsed,S),this._updateTemplateData(S);const F=this.viewModel.lastTemplateData.get(),q=a.selections?.map(pa.L.liftSelection);this.viewModel.lastTemplateData.set({...F,selections:q},S);const fe=this._templateRef.get();fe&&q&&fe.object.editor.setSelections(q)}_updateTemplateData(a){const S=this._templateRef.get();S&&this.viewModel.lastTemplateData.set({contentHeight:S.object.contentHeight.get(),selections:S.object.editor.getSelections()??void 0},a)}_clear(){const a=this._templateRef.get();a&&ko.Rn((S)=>{this._updateTemplateData(S),a.object.hide(),this._templateRef.set(void 0,S)})}hide(){this._isHidden.set(!0,void 0)}render(a,S,F,q){this._isHidden.set(!1,void 0);let fe=this._templateRef.get();if(!fe){fe=this._objectPool.getUnusedObj(new Hl(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(fe,void 0);const Re=this.viewModel.lastTemplateData.get().selections;Re&&fe.object.editor.setSelections(Re)}fe.object.render(a,F,S,q)}}En.x1A("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},k.kg("multiDiffEditor.headerBackground","The background color of the diff editor's header")),En.x1A("multiDiffEditor.background",En.YtV,k.kg("multiDiffEditor.background","The background color of the multi file diff editor")),En.x1A("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},k.kg("multiDiffEditor.border","The border color of the multi file diff editor"));let Nc=class extends J.jG{constructor(a,S,F){super(),this._element=a,this._workbenchUIElementFactory=S,this._instantiationService=F,this._dimension=fr.FY(this,void 0),this._viewModel=fr.FY(this,void 0),this._widgetImpl=fr.rm(this,(q,fe)=>(Ad.b(bl,q),fe.add(this._instantiationService.createInstance(Ad.b(jl,q),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register(fr.OI(this._widgetImpl))}};function ql(a){const S=ot.get(ti.b);return S instanceof Uo?S.addDynamicKeybindings(a.map((F)=>({keybinding:F.keybinding,command:F.command,commandArgs:F.commandArgs,when:de.M$.deserialize(F.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),J.jG.None)}Nc=function(a,S,F,q){var fe,Re=arguments.length,Ee=Re<3?S:q===null?q=Object.getOwnPropertyDescriptor(S,F):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(a,S,F,q);else for(var Ge=a.length-1;Ge>=0;Ge--)(fe=a[Ge])&&(Ee=(Re<3?fe(Ee):Re>3?fe(S,F,Ee):fe(S,F))||Ee);return Re>3&&Ee&&Object.defineProperty(S,F,Ee),Ee}([function(a,S){return function(F,q){S(F,q,a)}}(2,Ue._Y)],Nc);var Ss=h(4901);function Ys(a,S){return typeof a=="boolean"?a:S}function Ld(a,S){return typeof a=="string"?a:S}function Ic(a,S=!1){S&&(a=a.map(function(q){return q.toLowerCase()}));const F=function(q){const fe={};for(let Re of q)fe[Re]=!0;return fe}(a);return S?function(q){return F[q.toLowerCase()]!==void 0&&F.hasOwnProperty(q.toLowerCase())}:function(q){return F[q]!==void 0&&F.hasOwnProperty(q)}}function Rc(a,S,F){S=S.replace(/@@/g,"");let q,fe=0;do q=!1,S=S.replace(/@(\w+)/g,function(Ee,Ge){q=!0;let vt="";if(typeof a[Ge]=="string")vt=a[Ge];else{if(!(a[Ge]&&a[Ge]instanceof RegExp))throw a[Ge]===void 0?_i(a,"language definition does not contain attribute '"+Ge+"', used at: "+S):_i(a,"attribute reference '"+Ge+"' must be a string, used at: "+S);vt=a[Ge].source}return sr(vt)?"":"(?:"+vt+")"}),fe++;while(q&&fe<5);S=S.replace(/\x01/g,"@");const Re=(a.ignoreCase?"i":"")+(a.unicode?"u":"");if(F&&S.match(/\$[sS](\d\d?)/g)){let Ee=null,Ge=null;return(vt)=>(Ge&&Ee===vt||(Ee=vt,Ge=new RegExp(function(Ct,Qt,an){let kn=null;return Qt.replace(/\$[sS](\d\d?)/g,function(jn,bi){return kn===null&&(kn=an.split("."),kn.unshift(an)),!sr(bi)&&bi<kn.length?Si(Ct,kn[bi]):""})}(a,S,vt),Re)),Ge)}return new RegExp(S,Re)}function $a(a,S,F,q){let fe=-1,Re=F,Ee=F.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);Ee&&(Ee[3]&&(fe=parseInt(Ee[3]),Ee[2]&&(fe+=100)),Re=Ee[4]);let Ge,vt="~",Ct=Re;if(Re&&Re.length!==0?/^\w*$/.test(Ct)?vt="==":(Ee=Re.match(/^(@|!@|~|!~|==|!=)(.*)$/),Ee&&(vt=Ee[1],Ct=Ee[2])):(vt="!=",Ct=""),vt!=="~"&&vt!=="!~"||!/^(\w|\|)*$/.test(Ct))if(vt==="@"||vt==="!@"){const Qt=a[Ct];if(!Qt)throw _i(a,"the @ match target '"+Ct+"' is not defined, in rule: "+S);if(!function(kn,jn){if(!jn)return!1;if(!Array.isArray(jn))return!1;for(let bi of jn)if(typeof bi!="string")return!1;return!0}(0,Qt))throw _i(a,"the @ match target '"+Ct+"' must be an array of strings, in rule: "+S);const an=Ic(Qt,a.ignoreCase);Ge=function(kn){return vt==="@"?an(kn):!an(kn)}}else if(vt==="~"||vt==="!~")if(Ct.indexOf("$")<0){const Qt=Rc(a,"^"+Ct+"$",!1);Ge=function(an){return vt==="~"?Qt.test(an):!Qt.test(an)}}else Ge=function(Qt,an,kn,jn){return Rc(a,"^"+Gr(a,Ct,an,kn,jn)+"$",!1).test(Qt)};else if(Ct.indexOf("$")<0){const Qt=Si(a,Ct);Ge=function(an){return vt==="=="?an===Qt:an!==Qt}}else{const Qt=Si(a,Ct);Ge=function(an,kn,jn,bi,gr){const Ei=Gr(a,Qt,kn,jn,bi);return vt==="=="?an===Ei:an!==Ei}}else{const Qt=Ic(Ct.split("|"),a.ignoreCase);Ge=function(an){return vt==="~"?Qt(an):!Qt(an)}}return fe===-1?{name:F,value:q,test:function(Qt,an,kn,jn){return Ge(Qt,Qt,an,kn,jn)}}:{name:F,value:q,test:function(Qt,an,kn,jn){const bi=function(gr,Ei,yr,hr){if(hr<0)return gr;if(hr<Ei.length)return Ei[hr];if(hr>=100){hr-=100;const mr=yr.split(".");if(mr.unshift(yr),hr<mr.length)return mr[hr]}return null}(Qt,an,kn,fe);return Ge(bi||"",Qt,an,kn,jn)}}}function ma(a,S,F){if(F){if(typeof F=="string")return F;if(F.token||F.token===""){if(typeof F.token!="string")throw _i(a,"a 'token' attribute must be of type string, in rule: "+S);{const q={token:F.token};if(F.token.indexOf("$")>=0&&(q.tokenSubst=!0),typeof F.bracket=="string")if(F.bracket==="@open")q.bracket=1;else{if(F.bracket!=="@close")throw _i(a,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+S);q.bracket=-1}if(F.next){if(typeof F.next!="string")throw _i(a,"the next state must be a string value in rule: "+S);{let fe=F.next;if(!/^(@pop|@push|@popall)$/.test(fe)&&(fe[0]==="@"&&(fe=fe.substr(1)),fe.indexOf("$")<0&&!function(Re,Ee){let Ge=Ee;for(;Ge&&Ge.length>0;){if(Re.stateNames[Ge])return!0;const vt=Ge.lastIndexOf(".");Ge=vt<0?null:Ge.substr(0,vt)}return!1}(a,Gr(a,fe,"",[],""))))throw _i(a,"the next state '"+F.next+"' is not defined in rule: "+S);q.next=fe}}return typeof F.goBack=="number"&&(q.goBack=F.goBack),typeof F.switchTo=="string"&&(q.switchTo=F.switchTo),typeof F.log=="string"&&(q.log=F.log),typeof F.nextEmbedded=="string"&&(q.nextEmbedded=F.nextEmbedded,a.usesEmbedded=!0),q}}if(Array.isArray(F)){const q=[];for(let fe=0,Re=F.length;fe<Re;fe++)q[fe]=ma(a,S,F[fe]);return{group:q}}if(F.cases){const q=[];for(let Re in F.cases)if(F.cases.hasOwnProperty(Re)){const Ee=ma(a,S,F.cases[Re]);Re==="@default"||Re==="@"||Re===""?q.push({test:void 0,value:Ee,name:Re}):Re==="@eos"?q.push({test:function(Ge,vt,Ct,Qt){return Qt},value:Ee,name:Re}):q.push($a(a,S,Re,Ee))}const fe=a.defaultToken;return{test:function(Re,Ee,Ge,vt){for(let Ct of q)if(!Ct.test||Ct.test(Re,Ee,Ge,vt))return Ct.value;return fe}}}throw _i(a,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+S)}return{token:""}}class Xu{constructor(a){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=a}setRegex(a,S){let F;if(typeof S=="string")F=S;else{if(!(S instanceof RegExp))throw _i(a,"rules must start with a match string or regular expression: "+this.name);F=S.source}this.matchOnlyAtLineStart=F.length>0&&F[0]==="^",this.name=this.name+": "+F,this.regex=Rc(a,"^(?:"+(this.matchOnlyAtLineStart?F.substr(1):F)+")",!0)}setAction(a,S){this.action=ma(a,this.name,S)}resolveRegex(a){return this.regex instanceof RegExp?this.regex:this.regex(a)}}function Hu(a,S){if(!S||typeof S!="object")throw new Error("Monarch: expecting a language definition object");const F={languageId:a,includeLF:Ys(S.includeLF,!1),noThrow:!1,maxStack:100,start:typeof S.start=="string"?S.start:null,ignoreCase:Ys(S.ignoreCase,!1),unicode:Ys(S.unicode,!1),tokenPostfix:Ld(S.tokenPostfix,"."+a),defaultToken:Ld(S.defaultToken,"source"),usesEmbedded:!1,stateNames:{},tokenizer:{},brackets:[]},q=S;function fe(Ee,Ge,vt){for(let Ct of vt){let Qt=Ct.include;if(Qt){if(typeof Qt!="string")throw _i(F,"an 'include' attribute must be a string at: "+Ee);if(Qt[0]==="@"&&(Qt=Qt.substr(1)),!S.tokenizer[Qt])throw _i(F,"include target '"+Qt+"' is not defined at: "+Ee);fe(Ee+"."+Qt,Ge,S.tokenizer[Qt])}else{const an=new Xu(Ee);if(Array.isArray(Ct)&&Ct.length>=1&&Ct.length<=3)if(an.setRegex(q,Ct[0]),Ct.length>=3)if(typeof Ct[1]=="string")an.setAction(q,{token:Ct[1],next:Ct[2]});else{if(typeof Ct[1]!="object")throw _i(F,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+Ee);{const kn=Ct[1];kn.next=Ct[2],an.setAction(q,kn)}}else an.setAction(q,Ct[1]);else{if(!Ct.regex)throw _i(F,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+Ee);Ct.name&&typeof Ct.name=="string"&&(an.name=Ct.name),Ct.matchOnlyAtStart&&(an.matchOnlyAtLineStart=Ys(Ct.matchOnlyAtLineStart,!1)),an.setRegex(q,Ct.regex),an.setAction(q,Ct.action)}Ge.push(an)}}}if(q.languageId=a,q.includeLF=F.includeLF,q.ignoreCase=F.ignoreCase,q.unicode=F.unicode,q.noThrow=F.noThrow,q.usesEmbedded=F.usesEmbedded,q.stateNames=S.tokenizer,q.defaultToken=F.defaultToken,!S.tokenizer||typeof S.tokenizer!="object")throw _i(F,"a language definition must define the 'tokenizer' attribute as an object");F.tokenizer=[];for(let Ee in S.tokenizer)if(S.tokenizer.hasOwnProperty(Ee)){F.start||(F.start=Ee);const Ge=S.tokenizer[Ee];F.tokenizer[Ee]=new Array,fe("tokenizer."+Ee,F.tokenizer[Ee],Ge)}if(F.usesEmbedded=q.usesEmbedded,S.brackets){if(!Array.isArray(S.brackets))throw _i(F,"the 'brackets' attribute must be defined as an array")}else S.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const Re=[];for(let Ee of S.brackets){let Ge=Ee;if(Ge&&Array.isArray(Ge)&&Ge.length===3&&(Ge={token:Ge[2],open:Ge[0],close:Ge[1]}),Ge.open===Ge.close)throw _i(F,"open and close brackets in a 'brackets' attribute must be different: "+Ge.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if(typeof Ge.open!="string"||typeof Ge.token!="string"||typeof Ge.close!="string")throw _i(F,"every element in the 'brackets' array must be a '{open,close,token}' object or array");Re.push({token:Ge.token+F.tokenPostfix,open:Si(F,Ge.open),close:Si(F,Ge.close)})}return F.brackets=Re,F.noThrow=!0,F}class Vo{constructor(a,S){this._languageId=a,this._actual=S}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(a,S,F){if(typeof this._actual.tokenize=="function")return Za.adaptTokenize(this._languageId,this._actual,a,F);throw new Error("Not supported!")}tokenizeEncoded(a,S,F){const q=this._actual.tokenizeEncoded(a,F);return new _n.rY(q.tokens,q.endState)}}class Za{constructor(a,S,F,q){this._languageId=a,this._actual=S,this._languageService=F,this._standaloneThemeService=q}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(a,S){const F=[];let q=0;for(let fe=0,Re=a.length;fe<Re;fe++){const Ee=a[fe];let Ge=Ee.startIndex;fe===0?Ge=0:Ge<q&&(Ge=q),F[fe]=new _n.ou(Ge,Ee.scopes,S),q=Ge}return F}static adaptTokenize(a,S,F,q){const fe=S.tokenize(F,q),Re=Za._toClassicTokens(fe.tokens,a);let Ee;return Ee=fe.endState.equals(q)?q:fe.endState,new _n.$M(Re,Ee)}tokenize(a,S,F){return Za.adaptTokenize(this._languageId,this._actual,a,F)}_toBinaryTokens(a,S){const F=a.encodeLanguageId(this._languageId),q=this._standaloneThemeService.getColorTheme().tokenTheme,fe=[];let Re=0,Ee=0;for(let vt=0,Ct=S.length;vt<Ct;vt++){const Qt=S[vt],an=1024|q.match(F,Qt.scopes);if(Re>0&&fe[Re-1]===an)continue;let kn=Qt.startIndex;vt===0?kn=0:kn<Ee&&(kn=Ee),fe[Re++]=kn,fe[Re++]=an,Ee=kn}const Ge=new Uint32Array(Re);for(let vt=0;vt<Re;vt++)Ge[vt]=fe[vt];return Ge}tokenizeEncoded(a,S,F){const q=this._actual.tokenize(a,F),fe=this._toBinaryTokens(this._languageService.languageIdCodec,q.tokens);let Re;return Re=q.endState.equals(F)?F:q.endState,new _n.rY(fe,Re)}}function vl(a){return a&&typeof a.then=="function"}function yl(a,S){return function(F){return"tokenizeEncoded"in F}(S)?new Vo(a,S):new Za(a,S,ot.get(ur.L),ot.get(kr.L))}function Lc(a,S){const F=new _n.v_(async()=>{const q=await Promise.resolve(S.create());return q?typeof q.getInitialState=="function"?yl(a,q):new Jo(ot.get(ur.L),ot.get(kr.L),a,Hu(a,q),ot.get(Ln.pG)):null});return _n.dG.registerFactory(a,F)}var Yu=h(8801);s.qB.wrappingIndent.defaultValue=0,s.qB.glyphMargin.defaultValue=!1,s.qB.autoIndent.defaultValue=3,s.qB.overviewRulerLanes.defaultValue=2,Yu.Pj.setFormatterSelector((a,S,F)=>Promise.resolve(a[0]));const $r=I.createMonacoBaseAPI();$r.editor={create:function(a,S,F){return ot.initialize(F||{}).createInstance(Gl,a,S)},getEditors:function(){return ot.get(C.T).listCodeEditors()},getDiffEditors:function(){return ot.get(C.T).listDiffEditors()},onDidCreateEditor:function(a){return ot.get(C.T).onCodeEditorAdd((S)=>{a(S)})},onDidCreateDiffEditor:function(a){return ot.get(C.T).onDiffEditorAdd((S)=>{a(S)})},createDiffEditor:function(a,S,F){return ot.initialize(F||{}).createInstance(Td,a,S)},addCommand:function(a){if(typeof a.id!="string"||typeof a.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return oi.w.registerCommand(a.id,a.run)},addEditorAction:function(a){if(typeof a.id!="string"||typeof a.label!="string"||typeof a.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const S=de.M$.deserialize(a.precondition),F=new J.Cm;if(F.add(oi.w.registerCommand(a.id,(q,...fe)=>w.DX.runEditorCommand(q,fe,S,(Re,Ee,Ge)=>Promise.resolve(a.run(Ee,...Ge))))),a.contextMenuGroupId){const q={command:{id:a.id,title:a.label},when:S,group:a.contextMenuGroupId,order:a.contextMenuOrder||0};F.add(vn.ZG.appendMenuItem(vn.D8.EditorContext,q))}if(Array.isArray(a.keybindings)){const q=ot.get(ti.b);if(q instanceof Uo){const fe=de.M$.and(S,de.M$.deserialize(a.keybindingContext));F.add(q.addDynamicKeybindings(a.keybindings.map((Re)=>({keybinding:Re,command:a.id,when:fe}))))}else console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService")}return F},addKeybindingRule:function(a){return ql([a])},addKeybindingRules:ql,createModel:function(a,S,F){const q=ot.get(ur.L),fe=q.getLanguageIdByMimeType(S)||S;return Bu(ot.get(U.IModelService),q,a,fe,F)},setModelLanguage:function(a,S){const F=ot.get(ur.L),q=F.getLanguageIdByMimeType(S)||S||Pn.vH;a.setLanguage(F.createById(q))},setModelMarkers:function(a,S,F){a&&ot.get(es.DR).changeOne(S,a.uri,F)},getModelMarkers:function(a){return ot.get(es.DR).read(a)},removeAllMarkers:function(a){ot.get(es.DR).changeAll(a,[])},onDidChangeMarkers:function(a){return ot.get(es.DR).onMarkerChanged(a)},getModels:function(){return ot.get(U.IModelService).getModels()},getModel:function(a){return ot.get(U.IModelService).getModel(a)},onDidCreateModel:function(a){return ot.get(U.IModelService).onModelAdded(a)},onWillDisposeModel:function(a){return ot.get(U.IModelService).onModelRemoved(a)},onDidChangeModelLanguage:function(a){return ot.get(U.IModelService).onModelLanguageChanged((S)=>{a({model:S.model,oldLanguage:S.oldLanguageId})})},createWebWorker:function(a){return function(S,F){return new Jt(S,F)}(ot.get(U.IModelService),a)},colorizeElement:function(a,S){const F=ot.get(ur.L),q=ot.get(kr.L);return Jc.colorizeElement(q,F,a,S).then(()=>{q.registerEditorContainer(a)})},colorize:function(a,S,F){const q=ot.get(ur.L);return ot.get(kr.L).registerEditorContainer(T.G.document.body),Jc.colorize(q,a,S,F)},colorizeModelLine:function(a,S,F=4){return ot.get(kr.L).registerEditorContainer(T.G.document.body),Jc.colorizeModelLine(a,S,F)},tokenize:function(a,S){_n.dG.getOrCreate(S);const F=(Re=S,_n.dG.get(Re)||{getInitialState:()=>Zn.r3,tokenize:(Ge,vt,Ct)=>Zn.$H(Re,Ct)}),q=M.uz(a),fe=[];var Re;let Ee=F.getInitialState();for(let Ge=0,vt=q.length;Ge<vt;Ge++){const Ct=q[Ge],Qt=F.tokenize(Ct,!0,Ee);fe[Ge]=Qt.tokens,Ee=Qt.endState}return fe},defineTheme:function(a,S){ot.get(kr.L).defineTheme(a,S)},setTheme:function(a){ot.get(kr.L).setTheme(a)},remeasureFonts:function(){E.T.clearAllFontInfos()},registerCommand:function(a,S){return oi.w.registerCommand({id:a,handler:S})},registerLinkOpener:function(a){return ot.get(Ni.C).registerOpener({open:async(S)=>(typeof S=="string"&&(S=v.r.parse(S)),a.open(S))})},registerEditorOpener:function(a){return ot.get(C.T).registerCodeEditorOpenHandler(async(S,F,q)=>{if(!F)return null;const fe=S.options?.selection;let Re;return fe&&typeof fe.endLineNumber=="number"&&typeof fe.endColumn=="number"?Re=fe:fe&&(Re={lineNumber:fe.startLineNumber,column:fe.startColumn}),await a.openCodeEditor(F,S.resource,Re)?F:null})},AccessibilitySupport:Gn.Gn,ContentWidgetPositionPreference:Gn.Qj,CursorChangeReason:Gn.h5,DefaultEndOfLine:Gn.of,EditorAutoIndentStrategy:Gn.e0,EditorOption:Gn.p2,EndOfLinePreference:Gn.kf,EndOfLineSequence:Gn.WU,MinimapPosition:Gn.R3,MinimapSectionHeaderStyle:Gn.VX,MouseTargetType:Gn.hS,OverlayWidgetPositionPreference:Gn.dE,OverviewRulerLane:Gn.A5,GlyphMarginLane:Gn.ZS,RenderLineNumbersType:Gn.DO,RenderMinimap:Gn.hW,ScrollbarVisibility:Gn.XR,ScrollType:Gn.ov,TextEditorCursorBlinkingStyle:Gn.U7,TextEditorCursorStyle:Gn.m9,TrackedRangeStickiness:Gn.kK,WrappingIndent:Gn.tJ,InjectedTextCursorStops:Gn.VW,PositionAffinity:Gn.Ic,ShowLightbulbIconMode:Gn.jT,ConfigurationChangedEvent:s.lw,BareFontInfo:$t._8,FontInfo:$t.YJ,TextModelResolvedOptions:ni.X2,FindMatch:ni.Dg,ApplyUpdateResult:s.hZ,EditorZoom:Ft.D,createMultiFileDiffEditor:function(a,S){const F=ot.initialize(S||{});return new Nc(a,{},F)},EditorType:Gt._,EditorOptions:s.qB},$r.languages={register:function(a){Pn.W6.registerLanguage(a)},getLanguages:function(){let a=[];return a=a.concat(Pn.W6.getLanguages()),a},onLanguage:function(a,S){return ot.withServices(()=>{const F=ot.get(ur.L).onDidRequestRichLanguageFeatures((q)=>{q===a&&(F.dispose(),S())});return F})},onLanguageEncountered:function(a,S){return ot.withServices(()=>{const F=ot.get(ur.L).onDidRequestBasicLanguageFeatures((q)=>{q===a&&(F.dispose(),S())});return F})},getEncodedLanguageId:function(a){return ot.get(ur.L).languageIdCodec.encodeLanguageId(a)},setLanguageConfiguration:function(a,S){if(!ot.get(ur.L).isRegisteredLanguageId(a))throw new Error(`Cannot set configuration for unknown language ${a}`);return ot.get(W.JZ).register(a,S,100)},setColorMap:function(a){const S=ot.get(kr.L);if(a){const F=[null];for(let q=1,fe=a.length;q<fe;q++)F[q]=Ss.Q1.fromHex(a[q]);S.setColorMapOverride(F)}else S.setColorMapOverride(null)},registerTokensProviderFactory:Lc,setTokensProvider:function(a,S){if(!ot.get(ur.L).isRegisteredLanguageId(a))throw new Error(`Cannot set tokens provider for unknown language ${a}`);return vl(S)?Lc(a,{create:()=>S}):_n.dG.register(a,yl(a,S))},setMonarchTokensProvider:function(a,S){return vl(S)?Lc(a,{create:()=>S}):_n.dG.register(a,((F)=>new Jo(ot.get(ur.L),ot.get(kr.L),a,Hu(a,F),ot.get(Ln.pG)))(S))},registerReferenceProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).referenceProvider.register(a,S)},registerRenameProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).renameProvider.register(a,S)},registerNewSymbolNameProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).newSymbolNamesProvider.register(a,S)},registerCompletionItemProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).completionProvider.register(a,S)},registerSignatureHelpProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).signatureHelpProvider.register(a,S)},registerHoverProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).hoverProvider.register(a,{provideHover:async(F,q,fe,Re)=>{const Ee=F.getWordAtPosition(q);return Promise.resolve(S.provideHover(F,q,fe,Re)).then((Ge)=>{if(Ge)return!Ge.range&&Ee&&(Ge.range=new L.Q(q.lineNumber,Ee.startColumn,q.lineNumber,Ee.endColumn)),Ge.range||(Ge.range=new L.Q(q.lineNumber,q.column,q.lineNumber,q.column)),Ge})}})},registerDocumentSymbolProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).documentSymbolProvider.register(a,S)},registerDocumentHighlightProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).documentHighlightProvider.register(a,S)},registerLinkedEditingRangeProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).linkedEditingRangeProvider.register(a,S)},registerDefinitionProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).definitionProvider.register(a,S)},registerImplementationProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).implementationProvider.register(a,S)},registerTypeDefinitionProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).typeDefinitionProvider.register(a,S)},registerCodeLensProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).codeLensProvider.register(a,S)},registerCodeActionProvider:function(a,S,F){return ot.get(ee.ILanguageFeaturesService).codeActionProvider.register(a,{providedCodeActionKinds:F?.providedCodeActionKinds,documentation:F?.documentation,provideCodeActions:(q,fe,Re,Ee)=>{const Ge=ot.get(es.DR).read({resource:q.uri}).filter((vt)=>L.Q.areIntersectingOrTouching(vt,fe));return S.provideCodeActions(q,fe,{markers:Ge,only:Re.only,trigger:Re.trigger},Ee)},resolveCodeAction:S.resolveCodeAction})},registerDocumentFormattingEditProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).documentFormattingEditProvider.register(a,S)},registerDocumentRangeFormattingEditProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(a,S)},registerOnTypeFormattingEditProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).onTypeFormattingEditProvider.register(a,S)},registerLinkProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).linkProvider.register(a,S)},registerColorProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).colorProvider.register(a,S)},registerFoldingRangeProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).foldingRangeProvider.register(a,S)},registerDeclarationProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).declarationProvider.register(a,S)},registerSelectionRangeProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).selectionRangeProvider.register(a,S)},registerDocumentSemanticTokensProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).documentSemanticTokensProvider.register(a,S)},registerDocumentRangeSemanticTokensProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(a,S)},registerInlineCompletionsProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).inlineCompletionsProvider.register(a,S)},registerInlineEditProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).inlineEditProvider.register(a,S)},registerInlayHintsProvider:function(a,S){return ot.get(ee.ILanguageFeaturesService).inlayHintsProvider.register(a,S)},DocumentHighlightKind:Gn.Kb,CompletionItemKind:Gn.Io,CompletionItemTag:Gn.QP,CompletionItemInsertTextRule:Gn._E,SymbolKind:Gn.v0,SymbolTag:Gn.H_,IndentAction:Gn.l,CompletionTriggerKind:Gn.t7,SignatureHelpTriggerKind:Gn.WA,InlayHintKind:Gn.r4,InlineCompletionTriggerKind:Gn.qw,InlineEditTriggerKind:Gn.sm,CodeActionTriggerType:Gn.ok,NewSymbolNameTag:Gn.OV,NewSymbolNameTriggerKind:Gn.YT,PartialAcceptTriggerKind:Gn.Ah,HoverVerbosityAction:Gn.M$,FoldingRangeKind:_n.lO,SelectedSuggestionInfo:_n.GE};const{CancellationTokenSource:Fr,Emitter:Dd,KeyCode:Dc,KeyMod:Md,Position:Kl,Range:ju,Selection:ec,SelectionDirection:Pd,MarkerSeverity:Fd,MarkerTag:Sl,Uri:wl,Token:Mc,editor:eo,languages:js}=$r;(globalThis.MonacoEnvironment?.globalAPI||typeof define=="function"&&h.amdO)&&(globalThis.monaco=$r),globalThis.require!==void 0&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},3582:(dt,pe,h)=>{h.d(pe,{aQ:()=>ne,nr:()=>H,Sx:()=>Ie,po:()=>ee,tj:()=>ie});var s=h(4333),I=h(5893),T=h(4901),J=h(2106),M=h(4364),v=h(5910);class E{constructor(he,Q,re,Je,Se){this._parsedThemeRuleBrand=void 0,this.token=he,this.index=Q,this.fontStyle=re,this.foreground=Je,this.background=Se}}const w=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class C{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(he){if(he===null)return 0;const Q=he.match(w);if(!Q)throw new Error("Illegal value for token color: "+he);he=Q[1].toUpperCase();let re=this._color2id.get(he);return re||(re=++this._lastColorId,this._color2id.set(he,re),this._id2color[re]=T.Q1.fromHex("#"+he),re)}getColorMap(){return this._id2color.slice(0)}}class d{static createFromRawTokenTheme(he,Q){return this.createFromParsedTokenTheme(function(re){if(!re||!Array.isArray(re))return[];const Je=[];let Se=0;for(let Pe=0,Le=re.length;Pe<Le;Pe++){const Ve=re[Pe];let g=-1;if(typeof Ve.fontStyle=="string"){g=0;const de=Ve.fontStyle.split(" ");for(let be=0,ae=de.length;be<ae;be++)switch(de[be]){case"italic":g|=1;break;case"bold":g|=2;break;case"underline":g|=4;break;case"strikethrough":g|=8}}let ge=null;typeof Ve.foreground=="string"&&(ge=Ve.foreground);let We=null;typeof Ve.background=="string"&&(We=Ve.background),Je[Se++]=new E(Ve.token||"",Pe,g,ge,We)}return Je}(he),Q)}static createFromParsedTokenTheme(he,Q){return function(re,Je){re.sort((be,ae)=>{const O=function(Ue,Ye){return Ue<Ye?-1:Ue>Ye?1:0}(be.token,ae.token);return O!==0?O:be.index-ae.index});let Se=0,Pe="000000",Le="ffffff";for(;re.length>=1&&re[0].token==="";){const be=re.shift();be.fontStyle!==-1&&(Se=be.fontStyle),be.foreground!==null&&(Pe=be.foreground),be.background!==null&&(Le=be.background)}const Ve=new C;for(let be of Je)Ve.getId(be);const g=Ve.getId(Pe),ge=Ve.getId(Le),We=new p(Se,g,ge),de=new _(We);for(let be=0,ae=re.length;be<ae;be++){const O=re[be];de.insert(O.token,O.fontStyle,Ve.getId(O.foreground),Ve.getId(O.background))}return new d(Ve,de)}(he,Q)}constructor(he,Q){this._colorMap=he,this._root=Q,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(he){return this._root.match(he)}match(he,Q){let re=this._cache.get(Q);if(re===void 0){const Je=this._match(Q),Se=function(Pe){const Le=Pe.match(f);if(!Le)return 0;switch(Le[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(Q);re=(Je.metadata|Se<<8)>>>0,this._cache.set(Q,re)}return(re|he)>>>0}}const f=/\b(comment|string|regex|regexp)\b/;class p{constructor(he,Q,re){this._themeTrieElementRuleBrand=void 0,this._fontStyle=he,this._foreground=Q,this._background=re,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new p(this._fontStyle,this._foreground,this._background)}acceptOverwrite(he,Q,re){he!==-1&&(this._fontStyle=he),Q!==0&&(this._foreground=Q),re!==0&&(this._background=re),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class _{constructor(he){this._themeTrieElementBrand=void 0,this._mainRule=he,this._children=new Map}match(he){if(he==="")return this._mainRule;const Q=he.indexOf(".");let re,Je;Q===-1?(re=he,Je=""):(re=he.substring(0,Q),Je=he.substring(Q+1));const Se=this._children.get(re);return Se!==void 0?Se.match(Je):this._mainRule}insert(he,Q,re,Je){if(he==="")return void this._mainRule.acceptOverwrite(Q,re,Je);const Se=he.indexOf(".");let Pe,Le;Se===-1?(Pe=he,Le=""):(Pe=he.substring(0,Se),Le=he.substring(Se+1));let Ve=this._children.get(Pe);Ve===void 0&&(Ve=new _(this._mainRule.clone()),this._children.set(Pe,Ve)),Ve.insert(Le,Q,re,Je)}}var m=h(8295),b=h(559);const x={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[b.YtV]:"#FFFFFE",[b.By2]:"#000000",[b.tan]:"#E5EBF1",[m.vV]:"#D3D3D3",[m.H0]:"#939393",[b.QwA]:"#ADD6FF4D"}},k={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[b.YtV]:"#1E1E1E",[b.By2]:"#D4D4D4",[b.tan]:"#3A3D41",[m.vV]:"#404040",[m.H0]:"#707070",[b.QwA]:"#ADD6FF26"}},R={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[b.YtV]:"#000000",[b.By2]:"#FFFFFF",[m.vV]:"#FFFFFF",[m.H0]:"#FFFFFF"}},P={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[b.YtV]:"#FFFFFF",[b.By2]:"#292929",[m.vV]:"#292929",[m.H0]:"#292929"}};var z=h(7167),te=h(9044),L=h(998),W=h(9563),B=h(8881),U=h(1210);class ${getIcon(he){const Q=U.HT();let re=he.defaults;for(;B.L.isThemeIcon(re);){const Je=Q.getIcon(re.id);if(!Je)return;re=Je.defaults}return re}}var G=h(8877);const ie="vs",ee="vs-dark",ne="hc-black",H="hc-light",V=z.O.as(b.FdG.ColorContribution),Y=z.O.as(te.Fd.ThemingContribution);class ve{constructor(he,Q){this.semanticHighlighting=!1,this.themeData=Q;const re=Q.base;he.length>0?(Te(he)?this.id=he:this.id=re+" "+he,this.themeName=he):(this.id=re,this.themeName=re),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const he=new Map;for(let Q in this.themeData.colors)he.set(Q,T.Q1.fromHex(this.themeData.colors[Q]));if(this.themeData.inherit){const Q=xe(this.themeData.base);for(let re in Q.colors)he.has(re)||he.set(re,T.Q1.fromHex(Q.colors[re]))}this.colors=he}return this.colors}getColor(he,Q){return this.getColors().get(he)||(Q!==!1?this.getDefault(he):void 0)}getDefault(he){let Q=this.defaultColors[he];return Q||(Q=V.resolveDefaultColor(he,this),this.defaultColors[he]=Q,Q)}defines(he){return this.getColors().has(he)}get type(){switch(this.base){case ie:return W.zM.LIGHT;case ne:return W.zM.HIGH_CONTRAST_DARK;case H:return W.zM.HIGH_CONTRAST_LIGHT;default:return W.zM.DARK}}get tokenTheme(){if(!this._tokenTheme){let he=[],Q=[];if(this.themeData.inherit){const Se=xe(this.themeData.base);he=Se.rules,Se.encodedTokensColors&&(Q=Se.encodedTokensColors)}const re=this.themeData.colors["editor.foreground"],Je=this.themeData.colors["editor.background"];if(re||Je){const Se={token:""};re&&(Se.foreground=re),Je&&(Se.background=Je),he.push(Se)}he=he.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(Q=this.themeData.encodedTokensColors),this._tokenTheme=d.createFromRawTokenTheme(he,Q)}return this._tokenTheme}getTokenStyleMetadata(he,Q,re){const Je=this.tokenTheme._match([he].concat(Q).join(".")).metadata,Se=v.x.getForeground(Je),Pe=v.x.getFontStyle(Je);return{foreground:Se,italic:Boolean(1&Pe),bold:Boolean(2&Pe),underline:Boolean(4&Pe),strikethrough:Boolean(8&Pe)}}}function Te(he){return he===ie||he===ee||he===ne||he===H}function xe(he){switch(he){case ie:return x;case ee:return k;case ne:return R;case H:return P}}function Be(he){const Q=xe(he);return new ve(he,Q)}class Ie extends L.jG{constructor(){super(),this._onColorThemeChange=this._register(new J.vl),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new J.vl),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new $,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(ie,Be(ie)),this._knownThemes.set(ee,Be(ee)),this._knownThemes.set(ne,Be(ne)),this._knownThemes.set(H,Be(H));const he=this._register(function(Q){const re=new L.Cm,Je=re.add(new J.vl),Se=U.HT();return re.add(Se.onDidChange(()=>Je.fire())),Q&&re.add(Q.onDidProductIconThemeChange(()=>Je.fire())),{dispose:()=>re.dispose(),onDidChange:Je.event,getCSS(){const Pe=Q?Q.getProductIconTheme():new $,Le={},Ve=[],g=[];for(let ge of Se.getIcons()){const We=Pe.getIcon(ge);if(!We)continue;const de=We.font,be=`--vscode-icon-${ge.id}-font-family`,ae=`--vscode-icon-${ge.id}-content`;de?(Le[de.id]=de.definition,g.push(`${be}: ${s.yt(de.id)};`,`${ae}: '${We.fontCharacter}';`),Ve.push(`.codicon-${ge.id}:before { content: '${We.fontCharacter}'; font-family: ${s.yt(de.id)}; }`)):(g.push(`${ae}: '${We.fontCharacter}'; ${be}: 'codicon';`),Ve.push(`.codicon-${ge.id}:before { content: '${We.fontCharacter}'; }`))}for(let ge in Le){const We=Le[ge],de=We.weight?`font-weight: ${We.weight};`:"",be=We.style?`font-style: ${We.style};`:"",ae=We.src.map((O)=>`${s.Tf(O.location)} format('${O.format}')`).join(", ");Ve.push(`@font-face { src: ${ae}; font-family: ${s.yt(ge)};${de}${be} font-display: block; }`)}return Ve.push(`:root { ${g.join(" ")} }`),Ve.join("\n")}}}(this));this._codiconCSS=he.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(ie),this._onOSSchemeChanged(),this._register(he.onDidChange(()=>{this._codiconCSS=he.getCSS(),this._updateCSS()})),I.Dy(G.G,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(he){return s.Cl(he)?this._registerShadowDomContainer(he):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=s.li(void 0,(he)=>{he.className="monaco-colors",he.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),L.jG.None}_registerShadowDomContainer(he){const Q=s.li(he,(re)=>{re.className="monaco-colors",re.textContent=this._allCSS});return this._styleElements.push(Q),{dispose:()=>{for(let re=0;re<this._styleElements.length;re++)if(this._styleElements[re]===Q)return void this._styleElements.splice(re,1)}}}defineTheme(he,Q){if(!/^[a-z0-9\-]+$/i.test(he))throw new Error("Illegal theme name!");if(!Te(Q.base)&&!Te(he))throw new Error("Illegal theme base!");this._knownThemes.set(he,new ve(he,Q)),Te(he)&&this._knownThemes.forEach((re)=>{re.base===he&&re.notifyBaseUpdated()}),this._theme.themeName===he&&this.setTheme(he)}getColorTheme(){return this._theme}setColorMapOverride(he){this._colorMapOverride=he,this._updateThemeOrColorMap()}setTheme(he){let Q;Q=this._knownThemes.has(he)?this._knownThemes.get(he):this._knownThemes.get(ie),this._updateActualTheme(Q)}_updateActualTheme(he){he&&this._theme!==he&&(this._theme=he,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const he=G.G.matchMedia("(forced-colors: active)").matches;if(he!==W.Bb(this._theme.type)){let Q;Q=W.HD(this._theme.type)?he?ne:ee:he?H:ie,this._updateActualTheme(this._knownThemes.get(Q))}}}setAutoDetectHighContrast(he){this._autoDetectHighContrast=he,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const he=[],Q={},re={addRule:(Pe)=>{Q[Pe]||(he.push(Pe),Q[Pe]=!0)}};Y.getThemingParticipants().forEach((Pe)=>Pe(this._theme,re,this._environment));const Je=[];for(let Pe of V.getColors()){const Le=this._theme.getColor(Pe.id,!0);Le&&Je.push(`${b.Bbc(Pe.id)}: ${Le.toString()};`)}re.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${Je.join("\n")} }`);const Se=this._colorMapOverride||this._theme.tokenTheme.getColorMap();re.addRule(function(Pe){const Le=[];for(let Ve=1,g=Pe.length;Ve<g;Ve++){const ge=Pe[Ve];Le[Ve]=`.mtk${Ve} { color: ${ge}; }`}return Le.push(".mtki { font-style: italic; }"),Le.push(".mtkb { font-weight: bold; }"),Le.push(".mtku { text-decoration: underline; text-underline-position: under; }"),Le.push(".mtks { text-decoration: line-through; }"),Le.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),Le.join("\n")}(Se)),this._themeCSS=he.join("\n"),this._updateCSS(),M.dG.setColorMap(Se),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((he)=>he.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},3616:(dt,pe,h)=>{h.d(pe,{L:()=>s});const s=h(2399).u1("themeService")},2745:(dt,pe,h)=>{h.r(pe),h.d(pe,{CompletionAdapter:()=>Cn,DefinitionAdapter:()=>fn,DiagnosticsAdapter:()=>Ot,DocumentColorAdapter:()=>Et,DocumentFormattingEditProvider:()=>Ke,DocumentHighlightAdapter:()=>Un,DocumentLinkAdapter:()=>Oe,DocumentRangeFormattingEditProvider:()=>wt,DocumentSymbolAdapter:()=>j,FoldingRangeAdapter:()=>st,HoverAdapter:()=>Dn,ReferenceAdapter:()=>N,RenameAdapter:()=>Z,SelectionRangeAdapter:()=>Bt,WorkerManager:()=>bt,fromPosition:()=>dn,fromRange:()=>St,setupMode:()=>Rt,toRange:()=>Lt,toTextEdit:()=>ln});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(je,ze,De,Ce)=>{if(ze&&typeof ze=="object"||typeof ze=="function")for(let ut of J(ze))M.call(je,ut)||ut===De||I(je,ut,{get:()=>ze[ut],enumerable:!(Ce=T(ze,ut))||Ce.enumerable});return je},E={};v(E,s,"default");var w,C,d,f,p,_,m,b,x,k,R,P,z,te,L,W,B,U,$,G,ie,ee,ne,H,V,Y,ve,Te,xe,Be,Ie,he,Q,re,Je,Se,Pe,Le,Ve,g,ge,We,de,be,ae,O,Ue,Ye,Fe,oe,rt,lt,ye,pt,Mt,Zt,jt,xn,nn,gn,pn,rn,Sn,Mn,Bn,wi,Mi,Oi,En,li,si,ti,Ln,Xn,xi,Ni,Ii,er,Zi,tr,rr,yi,un,ft,Yn,Nt,Ci,Hn,Xt,pi,Ji,Gi,dr,Ui,Xi,Pi,ar,Hi,or,Yi,_t,Kt,tn,In,mn,wn,An,fi,qn,oi,Ai,nr,$i,ji,di,Qi,wr,ht,xt,se,Ae,He,mt,At,zt,Pt,Wt,Nn,bn,Jn,$e,tt,gt,bt=class{constructor(je){this._defaults=je,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30000),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>120000&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=E.editor.createWebWorker({moduleId:"vs/language/css/cssWorker",label:this._defaults.languageId,createData:{options:this._defaults.options,languageId:this._defaults.languageId}}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...je){let ze;return this._getClient().then((De)=>{ze=De}).then((De)=>{if(this._worker)return this._worker.withSyncedResources(je)}).then((De)=>ze)}};(w||(w={})).is=function(je){return typeof je=="string"},(C||(C={})).is=function(je){return typeof je=="string"},(f=d||(d={})).MIN_VALUE=-2147483648,f.MAX_VALUE=2147483647,f.is=function(je){return typeof je=="number"&&f.MIN_VALUE<=je&&je<=f.MAX_VALUE},(_=p||(p={})).MIN_VALUE=0,_.MAX_VALUE=2147483647,_.is=function(je){return typeof je=="number"&&_.MIN_VALUE<=je&&je<=_.MAX_VALUE},(b=m||(m={})).create=function(je,ze){return je===Number.MAX_VALUE&&(je=p.MAX_VALUE),ze===Number.MAX_VALUE&&(ze=p.MAX_VALUE),{line:je,character:ze}},b.is=function(je){let ze=je;return ke.objectLiteral(ze)&&ke.uinteger(ze.line)&&ke.uinteger(ze.character)},(k=x||(x={})).create=function(je,ze,De,Ce){if(ke.uinteger(je)&&ke.uinteger(ze)&&ke.uinteger(De)&&ke.uinteger(Ce))return{start:m.create(je,ze),end:m.create(De,Ce)};if(m.is(je)&&m.is(ze))return{start:je,end:ze};throw new Error(`Range#create called with invalid arguments[${je}, ${ze}, ${De}, ${Ce}]`)},k.is=function(je){let ze=je;return ke.objectLiteral(ze)&&m.is(ze.start)&&m.is(ze.end)},(P=R||(R={})).create=function(je,ze){return{uri:je,range:ze}},P.is=function(je){let ze=je;return ke.objectLiteral(ze)&&x.is(ze.range)&&(ke.string(ze.uri)||ke.undefined(ze.uri))},(te=z||(z={})).create=function(je,ze,De,Ce){return{targetUri:je,targetRange:ze,targetSelectionRange:De,originSelectionRange:Ce}},te.is=function(je){let ze=je;return ke.objectLiteral(ze)&&x.is(ze.targetRange)&&ke.string(ze.targetUri)&&x.is(ze.targetSelectionRange)&&(x.is(ze.originSelectionRange)||ke.undefined(ze.originSelectionRange))},(W=L||(L={})).create=function(je,ze,De,Ce){return{red:je,green:ze,blue:De,alpha:Ce}},W.is=function(je){const ze=je;return ke.objectLiteral(ze)&&ke.numberRange(ze.red,0,1)&&ke.numberRange(ze.green,0,1)&&ke.numberRange(ze.blue,0,1)&&ke.numberRange(ze.alpha,0,1)},(U=B||(B={})).create=function(je,ze){return{range:je,color:ze}},U.is=function(je){const ze=je;return ke.objectLiteral(ze)&&x.is(ze.range)&&L.is(ze.color)},(G=$||($={})).create=function(je,ze,De){return{label:je,textEdit:ze,additionalTextEdits:De}},G.is=function(je){const ze=je;return ke.objectLiteral(ze)&&ke.string(ze.label)&&(ke.undefined(ze.textEdit)||Se.is(ze))&&(ke.undefined(ze.additionalTextEdits)||ke.typedArray(ze.additionalTextEdits,Se.is))},(ee=ie||(ie={})).Comment="comment",ee.Imports="imports",ee.Region="region",(H=ne||(ne={})).create=function(je,ze,De,Ce,ut,Tt){const Ht={startLine:je,endLine:ze};return ke.defined(De)&&(Ht.startCharacter=De),ke.defined(Ce)&&(Ht.endCharacter=Ce),ke.defined(ut)&&(Ht.kind=ut),ke.defined(Tt)&&(Ht.collapsedText=Tt),Ht},H.is=function(je){const ze=je;return ke.objectLiteral(ze)&&ke.uinteger(ze.startLine)&&ke.uinteger(ze.startLine)&&(ke.undefined(ze.startCharacter)||ke.uinteger(ze.startCharacter))&&(ke.undefined(ze.endCharacter)||ke.uinteger(ze.endCharacter))&&(ke.undefined(ze.kind)||ke.string(ze.kind))},(Y=V||(V={})).create=function(je,ze){return{location:je,message:ze}},Y.is=function(je){let ze=je;return ke.defined(ze)&&R.is(ze.location)&&ke.string(ze.message)},(Te=ve||(ve={})).Error=1,Te.Warning=2,Te.Information=3,Te.Hint=4,(Be=xe||(xe={})).Unnecessary=1,Be.Deprecated=2,(Ie||(Ie={})).is=function(je){const ze=je;return ke.objectLiteral(ze)&&ke.string(ze.href)},(Q=he||(he={})).create=function(je,ze,De,Ce,ut,Tt){let Ht={range:je,message:ze};return ke.defined(De)&&(Ht.severity=De),ke.defined(Ce)&&(Ht.code=Ce),ke.defined(ut)&&(Ht.source=ut),ke.defined(Tt)&&(Ht.relatedInformation=Tt),Ht},Q.is=function(je){var ze;let De=je;return ke.defined(De)&&x.is(De.range)&&ke.string(De.message)&&(ke.number(De.severity)||ke.undefined(De.severity))&&(ke.integer(De.code)||ke.string(De.code)||ke.undefined(De.code))&&(ke.undefined(De.codeDescription)||ke.string((ze=De.codeDescription)===null||ze===void 0?void 0:ze.href))&&(ke.string(De.source)||ke.undefined(De.source))&&(ke.undefined(De.relatedInformation)||ke.typedArray(De.relatedInformation,V.is))},(Je=re||(re={})).create=function(je,ze,...De){let Ce={title:je,command:ze};return ke.defined(De)&&De.length>0&&(Ce.arguments=De),Ce},Je.is=function(je){let ze=je;return ke.defined(ze)&&ke.string(ze.title)&&ke.string(ze.command)},(Pe=Se||(Se={})).replace=function(je,ze){return{range:je,newText:ze}},Pe.insert=function(je,ze){return{range:{start:je,end:je},newText:ze}},Pe.del=function(je){return{range:je,newText:""}},Pe.is=function(je){const ze=je;return ke.objectLiteral(ze)&&ke.string(ze.newText)&&x.is(ze.range)},(Ve=Le||(Le={})).create=function(je,ze,De){const Ce={label:je};return ze!==void 0&&(Ce.needsConfirmation=ze),De!==void 0&&(Ce.description=De),Ce},Ve.is=function(je){const ze=je;return ke.objectLiteral(ze)&&ke.string(ze.label)&&(ke.boolean(ze.needsConfirmation)||ze.needsConfirmation===void 0)&&(ke.string(ze.description)||ze.description===void 0)},(g||(g={})).is=function(je){const ze=je;return ke.string(ze)},(We=ge||(ge={})).replace=function(je,ze,De){return{range:je,newText:ze,annotationId:De}},We.insert=function(je,ze,De){return{range:{start:je,end:je},newText:ze,annotationId:De}},We.del=function(je,ze){return{range:je,newText:"",annotationId:ze}},We.is=function(je){const ze=je;return Se.is(ze)&&(Le.is(ze.annotationId)||g.is(ze.annotationId))},(be=de||(de={})).create=function(je,ze){return{textDocument:je,edits:ze}},be.is=function(je){let ze=je;return ke.defined(ze)&&Zt.is(ze.textDocument)&&Array.isArray(ze.edits)},(O=ae||(ae={})).create=function(je,ze,De){let Ce={kind:"create",uri:je};return ze===void 0||ze.overwrite===void 0&&ze.ignoreIfExists===void 0||(Ce.options=ze),De!==void 0&&(Ce.annotationId=De),Ce},O.is=function(je){let ze=je;return ze&&ze.kind==="create"&&ke.string(ze.uri)&&(ze.options===void 0||(ze.options.overwrite===void 0||ke.boolean(ze.options.overwrite))&&(ze.options.ignoreIfExists===void 0||ke.boolean(ze.options.ignoreIfExists)))&&(ze.annotationId===void 0||g.is(ze.annotationId))},(Ye=Ue||(Ue={})).create=function(je,ze,De,Ce){let ut={kind:"rename",oldUri:je,newUri:ze};return De===void 0||De.overwrite===void 0&&De.ignoreIfExists===void 0||(ut.options=De),Ce!==void 0&&(ut.annotationId=Ce),ut},Ye.is=function(je){let ze=je;return ze&&ze.kind==="rename"&&ke.string(ze.oldUri)&&ke.string(ze.newUri)&&(ze.options===void 0||(ze.options.overwrite===void 0||ke.boolean(ze.options.overwrite))&&(ze.options.ignoreIfExists===void 0||ke.boolean(ze.options.ignoreIfExists)))&&(ze.annotationId===void 0||g.is(ze.annotationId))},(oe=Fe||(Fe={})).create=function(je,ze,De){let Ce={kind:"delete",uri:je};return ze===void 0||ze.recursive===void 0&&ze.ignoreIfNotExists===void 0||(Ce.options=ze),De!==void 0&&(Ce.annotationId=De),Ce},oe.is=function(je){let ze=je;return ze&&ze.kind==="delete"&&ke.string(ze.uri)&&(ze.options===void 0||(ze.options.recursive===void 0||ke.boolean(ze.options.recursive))&&(ze.options.ignoreIfNotExists===void 0||ke.boolean(ze.options.ignoreIfNotExists)))&&(ze.annotationId===void 0||g.is(ze.annotationId))},(rt||(rt={})).is=function(je){let ze=je;return ze&&(ze.changes!==void 0||ze.documentChanges!==void 0)&&(ze.documentChanges===void 0||ze.documentChanges.every((De)=>ke.string(De.kind)?ae.is(De)||Ue.is(De)||Fe.is(De):de.is(De)))},(ye=lt||(lt={})).create=function(je){return{uri:je}},ye.is=function(je){let ze=je;return ke.defined(ze)&&ke.string(ze.uri)},(Mt=pt||(pt={})).create=function(je,ze){return{uri:je,version:ze}},Mt.is=function(je){let ze=je;return ke.defined(ze)&&ke.string(ze.uri)&&ke.integer(ze.version)},(jt=Zt||(Zt={})).create=function(je,ze){return{uri:je,version:ze}},jt.is=function(je){let ze=je;return ke.defined(ze)&&ke.string(ze.uri)&&(ze.version===null||ke.integer(ze.version))},(nn=xn||(xn={})).create=function(je,ze,De,Ce){return{uri:je,languageId:ze,version:De,text:Ce}},nn.is=function(je){let ze=je;return ke.defined(ze)&&ke.string(ze.uri)&&ke.string(ze.languageId)&&ke.integer(ze.version)&&ke.string(ze.text)},(pn=gn||(gn={})).PlainText="plaintext",pn.Markdown="markdown",pn.is=function(je){const ze=je;return ze===pn.PlainText||ze===pn.Markdown},(rn||(rn={})).is=function(je){const ze=je;return ke.objectLiteral(je)&&gn.is(ze.kind)&&ke.string(ze.value)},(Mn=Sn||(Sn={})).Text=1,Mn.Method=2,Mn.Function=3,Mn.Constructor=4,Mn.Field=5,Mn.Variable=6,Mn.Class=7,Mn.Interface=8,Mn.Module=9,Mn.Property=10,Mn.Unit=11,Mn.Value=12,Mn.Enum=13,Mn.Keyword=14,Mn.Snippet=15,Mn.Color=16,Mn.File=17,Mn.Reference=18,Mn.Folder=19,Mn.EnumMember=20,Mn.Constant=21,Mn.Struct=22,Mn.Event=23,Mn.Operator=24,Mn.TypeParameter=25,(wi=Bn||(Bn={})).PlainText=1,wi.Snippet=2,(Mi||(Mi={})).Deprecated=1,(En=Oi||(Oi={})).create=function(je,ze,De){return{newText:je,insert:ze,replace:De}},En.is=function(je){const ze=je;return ze&&ke.string(ze.newText)&&x.is(ze.insert)&&x.is(ze.replace)},(si=li||(li={})).asIs=1,si.adjustIndentation=2,(ti||(ti={})).is=function(je){const ze=je;return ze&&(ke.string(ze.detail)||ze.detail===void 0)&&(ke.string(ze.description)||ze.description===void 0)},(Ln||(Ln={})).create=function(je){return{label:je}},(Xn||(Xn={})).create=function(je,ze){return{items:je||[],isIncomplete:!!ze}},(Ni=xi||(xi={})).fromPlainText=function(je){return je.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},Ni.is=function(je){const ze=je;return ke.string(ze)||ke.objectLiteral(ze)&&ke.string(ze.language)&&ke.string(ze.value)},(Ii||(Ii={})).is=function(je){let ze=je;return!!ze&&ke.objectLiteral(ze)&&(rn.is(ze.contents)||xi.is(ze.contents)||ke.typedArray(ze.contents,xi.is))&&(je.range===void 0||x.is(je.range))},(er||(er={})).create=function(je,ze){return ze?{label:je,documentation:ze}:{label:je}},(Zi||(Zi={})).create=function(je,ze,...De){let Ce={label:je};return ke.defined(ze)&&(Ce.documentation=ze),ke.defined(De)?Ce.parameters=De:Ce.parameters=[],Ce},(rr=tr||(tr={})).Text=1,rr.Read=2,rr.Write=3,(yi||(yi={})).create=function(je,ze){let De={range:je};return ke.number(ze)&&(De.kind=ze),De},(ft=un||(un={})).File=1,ft.Module=2,ft.Namespace=3,ft.Package=4,ft.Class=5,ft.Method=6,ft.Property=7,ft.Field=8,ft.Constructor=9,ft.Enum=10,ft.Interface=11,ft.Function=12,ft.Variable=13,ft.Constant=14,ft.String=15,ft.Number=16,ft.Boolean=17,ft.Array=18,ft.Object=19,ft.Key=20,ft.Null=21,ft.EnumMember=22,ft.Struct=23,ft.Event=24,ft.Operator=25,ft.TypeParameter=26,(Yn||(Yn={})).Deprecated=1,(Nt||(Nt={})).create=function(je,ze,De,Ce,ut){let Tt={name:je,kind:ze,location:{uri:Ce,range:De}};return ut&&(Tt.containerName=ut),Tt},(Ci||(Ci={})).create=function(je,ze,De,Ce){return Ce!==void 0?{name:je,kind:ze,location:{uri:De,range:Ce}}:{name:je,kind:ze,location:{uri:De}}},(Xt=Hn||(Hn={})).create=function(je,ze,De,Ce,ut,Tt){let Ht={name:je,detail:ze,kind:De,range:Ce,selectionRange:ut};return Tt!==void 0&&(Ht.children=Tt),Ht},Xt.is=function(je){let ze=je;return ze&&ke.string(ze.name)&&ke.number(ze.kind)&&x.is(ze.range)&&x.is(ze.selectionRange)&&(ze.detail===void 0||ke.string(ze.detail))&&(ze.deprecated===void 0||ke.boolean(ze.deprecated))&&(ze.children===void 0||Array.isArray(ze.children))&&(ze.tags===void 0||Array.isArray(ze.tags))},(Ji=pi||(pi={})).Empty="",Ji.QuickFix="quickfix",Ji.Refactor="refactor",Ji.RefactorExtract="refactor.extract",Ji.RefactorInline="refactor.inline",Ji.RefactorRewrite="refactor.rewrite",Ji.Source="source",Ji.SourceOrganizeImports="source.organizeImports",Ji.SourceFixAll="source.fixAll",(dr=Gi||(Gi={})).Invoked=1,dr.Automatic=2,(Xi=Ui||(Ui={})).create=function(je,ze,De){let Ce={diagnostics:je};return ze!=null&&(Ce.only=ze),De!=null&&(Ce.triggerKind=De),Ce},Xi.is=function(je){let ze=je;return ke.defined(ze)&&ke.typedArray(ze.diagnostics,he.is)&&(ze.only===void 0||ke.typedArray(ze.only,ke.string))&&(ze.triggerKind===void 0||ze.triggerKind===Gi.Invoked||ze.triggerKind===Gi.Automatic)},(ar=Pi||(Pi={})).create=function(je,ze,De){let Ce={title:je},ut=!0;return typeof ze=="string"?(ut=!1,Ce.kind=ze):re.is(ze)?Ce.command=ze:Ce.edit=ze,ut&&De!==void 0&&(Ce.kind=De),Ce},ar.is=function(je){let ze=je;return ze&&ke.string(ze.title)&&(ze.diagnostics===void 0||ke.typedArray(ze.diagnostics,he.is))&&(ze.kind===void 0||ke.string(ze.kind))&&(ze.edit!==void 0||ze.command!==void 0)&&(ze.command===void 0||re.is(ze.command))&&(ze.isPreferred===void 0||ke.boolean(ze.isPreferred))&&(ze.edit===void 0||rt.is(ze.edit))},(or=Hi||(Hi={})).create=function(je,ze){let De={range:je};return ke.defined(ze)&&(De.data=ze),De},or.is=function(je){let ze=je;return ke.defined(ze)&&x.is(ze.range)&&(ke.undefined(ze.command)||re.is(ze.command))},(_t=Yi||(Yi={})).create=function(je,ze){return{tabSize:je,insertSpaces:ze}},_t.is=function(je){let ze=je;return ke.defined(ze)&&ke.uinteger(ze.tabSize)&&ke.boolean(ze.insertSpaces)},(tn=Kt||(Kt={})).create=function(je,ze,De){return{range:je,target:ze,data:De}},tn.is=function(je){let ze=je;return ke.defined(ze)&&x.is(ze.range)&&(ke.undefined(ze.target)||ke.string(ze.target))},(mn=In||(In={})).create=function(je,ze){return{range:je,parent:ze}},mn.is=function(je){let ze=je;return ke.objectLiteral(ze)&&x.is(ze.range)&&(ze.parent===void 0||mn.is(ze.parent))},(An=wn||(wn={})).namespace="namespace",An.type="type",An.class="class",An.enum="enum",An.interface="interface",An.struct="struct",An.typeParameter="typeParameter",An.parameter="parameter",An.variable="variable",An.property="property",An.enumMember="enumMember",An.event="event",An.function="function",An.method="method",An.macro="macro",An.keyword="keyword",An.modifier="modifier",An.comment="comment",An.string="string",An.number="number",An.regexp="regexp",An.operator="operator",An.decorator="decorator",(qn=fi||(fi={})).declaration="declaration",qn.definition="definition",qn.readonly="readonly",qn.static="static",qn.deprecated="deprecated",qn.abstract="abstract",qn.async="async",qn.modification="modification",qn.documentation="documentation",qn.defaultLibrary="defaultLibrary",(oi||(oi={})).is=function(je){const ze=je;return ke.objectLiteral(ze)&&(ze.resultId===void 0||typeof ze.resultId=="string")&&Array.isArray(ze.data)&&(ze.data.length===0||typeof ze.data[0]=="number")},(nr=Ai||(Ai={})).create=function(je,ze){return{range:je,text:ze}},nr.is=function(je){const ze=je;return ze!=null&&x.is(ze.range)&&ke.string(ze.text)},(ji=$i||($i={})).create=function(je,ze,De){return{range:je,variableName:ze,caseSensitiveLookup:De}},ji.is=function(je){const ze=je;return ze!=null&&x.is(ze.range)&&ke.boolean(ze.caseSensitiveLookup)&&(ke.string(ze.variableName)||ze.variableName===void 0)},(Qi=di||(di={})).create=function(je,ze){return{range:je,expression:ze}},Qi.is=function(je){const ze=je;return ze!=null&&x.is(ze.range)&&(ke.string(ze.expression)||ze.expression===void 0)},(ht=wr||(wr={})).create=function(je,ze){return{frameId:je,stoppedLocation:ze}},ht.is=function(je){const ze=je;return ke.defined(ze)&&x.is(je.stoppedLocation)},(se=xt||(xt={})).Type=1,se.Parameter=2,se.is=function(je){return je===1||je===2},(He=Ae||(Ae={})).create=function(je){return{value:je}},He.is=function(je){const ze=je;return ke.objectLiteral(ze)&&(ze.tooltip===void 0||ke.string(ze.tooltip)||rn.is(ze.tooltip))&&(ze.location===void 0||R.is(ze.location))&&(ze.command===void 0||re.is(ze.command))},(At=mt||(mt={})).create=function(je,ze,De){const Ce={position:je,label:ze};return De!==void 0&&(Ce.kind=De),Ce},At.is=function(je){const ze=je;return ke.objectLiteral(ze)&&m.is(ze.position)&&(ke.string(ze.label)||ke.typedArray(ze.label,Ae.is))&&(ze.kind===void 0||xt.is(ze.kind))&&ze.textEdits===void 0||ke.typedArray(ze.textEdits,Se.is)&&(ze.tooltip===void 0||ke.string(ze.tooltip)||rn.is(ze.tooltip))&&(ze.paddingLeft===void 0||ke.boolean(ze.paddingLeft))&&(ze.paddingRight===void 0||ke.boolean(ze.paddingRight))},(zt||(zt={})).createSnippet=function(je){return{kind:"snippet",value:je}},(Pt||(Pt={})).create=function(je,ze,De,Ce){return{insertText:je,filterText:ze,range:De,command:Ce}},(Wt||(Wt={})).create=function(je){return{items:je}},(bn=Nn||(Nn={})).Invoked=0,bn.Automatic=1,(Jn||(Jn={})).create=function(je,ze){return{range:je,text:ze}},($e||($e={})).create=function(je,ze){return{triggerKind:je,selectedCompletionInfo:ze}},(tt||(tt={})).is=function(je){const ze=je;return ke.objectLiteral(ze)&&C.is(ze.uri)&&ke.string(ze.name)},function(je){function ze(De,Ce){if(De.length<=1)return De;const ut=De.length/2|0,Tt=De.slice(0,ut),Ht=De.slice(ut);ze(Tt,Ce),ze(Ht,Ce);let sn=0,Vn=0,yn=0;for(;sn<Tt.length&&Vn<Ht.length;){let qi=Ce(Tt[sn],Ht[Vn]);De[yn++]=qi<=0?Tt[sn++]:Ht[Vn++]}for(;sn<Tt.length;)De[yn++]=Tt[sn++];for(;Vn<Ht.length;)De[yn++]=Ht[Vn++];return De}je.create=function(De,Ce,ut,Tt){return new qt(De,Ce,ut,Tt)},je.is=function(De){let Ce=De;return!!(ke.defined(Ce)&&ke.string(Ce.uri)&&(ke.undefined(Ce.languageId)||ke.string(Ce.languageId))&&ke.uinteger(Ce.lineCount)&&ke.func(Ce.getText)&&ke.func(Ce.positionAt)&&ke.func(Ce.offsetAt))},je.applyEdits=function(De,Ce){let ut=De.getText(),Tt=ze(Ce,(sn,Vn)=>{let yn=sn.range.start.line-Vn.range.start.line;return yn===0?sn.range.start.character-Vn.range.start.character:yn}),Ht=ut.length;for(let sn=Tt.length-1;sn>=0;sn--){let Vn=Tt[sn],yn=De.offsetAt(Vn.range.start),qi=De.offsetAt(Vn.range.end);if(!(qi<=Ht))throw new Error("Overlapping edit");ut=ut.substring(0,yn)+Vn.newText+ut.substring(qi,ut.length),Ht=yn}return ut}}(gt||(gt={}));var ke,qt=class{constructor(je,ze,De,Ce){this._uri=je,this._languageId=ze,this._version=De,this._content=Ce,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(je){if(je){let ze=this.offsetAt(je.start),De=this.offsetAt(je.end);return this._content.substring(ze,De)}return this._content}update(je,ze){this._content=je.text,this._version=ze,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let je=[],ze=this._content,De=!0;for(let Ce=0;Ce<ze.length;Ce++){De&&(je.push(Ce),De=!1);let ut=ze.charAt(Ce);De=ut==="\r"||ut==="\n",ut==="\r"&&Ce+1<ze.length&&ze.charAt(Ce+1)==="\n"&&Ce++}De&&ze.length>0&&je.push(ze.length),this._lineOffsets=je}return this._lineOffsets}positionAt(je){je=Math.max(Math.min(je,this._content.length),0);let ze=this.getLineOffsets(),De=0,Ce=ze.length;if(Ce===0)return m.create(0,je);for(;De<Ce;){let Tt=Math.floor((De+Ce)/2);ze[Tt]>je?Ce=Tt:De=Tt+1}let ut=De-1;return m.create(ut,je-ze[ut])}offsetAt(je){let ze=this.getLineOffsets();if(je.line>=ze.length)return this._content.length;if(je.line<0)return 0;let De=ze[je.line],Ce=je.line+1<ze.length?ze[je.line+1]:this._content.length;return Math.max(Math.min(De+je.character,Ce),De)}get lineCount(){return this.getLineOffsets().length}};(function(je){const ze=Object.prototype.toString;je.defined=function(De){return De!==void 0},je.undefined=function(De){return De===void 0},je.boolean=function(De){return De===!0||De===!1},je.string=function(De){return ze.call(De)==="[object String]"},je.number=function(De){return ze.call(De)==="[object Number]"},je.numberRange=function(De,Ce,ut){return ze.call(De)==="[object Number]"&&Ce<=De&&De<=ut},je.integer=function(De){return ze.call(De)==="[object Number]"&&-2147483648<=De&&De<=2147483647},je.uinteger=function(De){return ze.call(De)==="[object Number]"&&0<=De&&De<=2147483647},je.func=function(De){return ze.call(De)==="[object Function]"},je.objectLiteral=function(De){return De!==null&&typeof De=="object"},je.typedArray=function(De,Ce){return Array.isArray(De)&&De.every(Ce)}})(ke||(ke={}));var Ot=class{constructor(je,ze,De){this._languageId=je,this._worker=ze,this._disposables=[],this._listener=Object.create(null);const Ce=(Tt)=>{let Ht,sn=Tt.getLanguageId();sn===this._languageId&&(this._listener[Tt.uri.toString()]=Tt.onDidChangeContent(()=>{window.clearTimeout(Ht),Ht=window.setTimeout(()=>this._doValidate(Tt.uri,sn),500)}),this._doValidate(Tt.uri,sn))},ut=(Tt)=>{E.editor.setModelMarkers(Tt,this._languageId,[]);let Ht=Tt.uri.toString(),sn=this._listener[Ht];sn&&(sn.dispose(),delete this._listener[Ht])};this._disposables.push(E.editor.onDidCreateModel(Ce)),this._disposables.push(E.editor.onWillDisposeModel(ut)),this._disposables.push(E.editor.onDidChangeModelLanguage((Tt)=>{ut(Tt.model),Ce(Tt.model)})),this._disposables.push(De((Tt)=>{E.editor.getModels().forEach((Ht)=>{Ht.getLanguageId()===this._languageId&&(ut(Ht),Ce(Ht))})})),this._disposables.push({dispose:()=>{E.editor.getModels().forEach(ut);for(let Tt in this._listener)this._listener[Tt].dispose()}}),E.editor.getModels().forEach(Ce)}dispose(){this._disposables.forEach((je)=>je&&je.dispose()),this._disposables.length=0}_doValidate(je,ze){this._worker(je).then((De)=>De.doValidation(je.toString())).then((De)=>{const Ce=De.map((Tt)=>function(Ht,sn){let Vn=typeof sn.code=="number"?String(sn.code):sn.code;return{severity:Vt(sn.severity),startLineNumber:sn.range.start.line+1,startColumn:sn.range.start.character+1,endLineNumber:sn.range.end.line+1,endColumn:sn.range.end.character+1,message:sn.message,code:Vn,source:sn.source}}(0,Tt));let ut=E.editor.getModel(je);ut&&ut.getLanguageId()===ze&&E.editor.setModelMarkers(ut,ze,Ce)}).then(void 0,(De)=>{console.error(De)})}};function Vt(je){switch(je){case ve.Error:return E.MarkerSeverity.Error;case ve.Warning:return E.MarkerSeverity.Warning;case ve.Information:return E.MarkerSeverity.Info;case ve.Hint:return E.MarkerSeverity.Hint;default:return E.MarkerSeverity.Info}}var Cn=class{constructor(je,ze){this._worker=je,this._triggerCharacters=ze}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(je,ze,De,Ce){const ut=je.uri;return this._worker(ut).then((Tt)=>Tt.doComplete(ut.toString(),dn(ze))).then((Tt)=>{if(!Tt)return;const Ht=je.getWordUntilPosition(ze),sn=new E.Range(ze.lineNumber,Ht.startColumn,ze.lineNumber,Ht.endColumn),Vn=Tt.items.map((yn)=>{const qi={label:yn.label,insertText:yn.insertText||yn.label,sortText:yn.sortText,filterText:yn.filterText,documentation:yn.documentation,detail:yn.detail,command:(ki=yn.command,ki&&ki.command==="editor.action.triggerSuggest"?{id:ki.command,title:ki.title,arguments:ki.arguments}:void 0),range:sn,kind:on(yn.kind)};var ki,ur;return yn.textEdit&&((ur=yn.textEdit).insert!==void 0&&ur.replace!==void 0?qi.range={insert:Lt(yn.textEdit.insert),replace:Lt(yn.textEdit.replace)}:qi.range=Lt(yn.textEdit.range),qi.insertText=yn.textEdit.newText),yn.additionalTextEdits&&(qi.additionalTextEdits=yn.additionalTextEdits.map(ln)),yn.insertTextFormat===Bn.Snippet&&(qi.insertTextRules=E.languages.CompletionItemInsertTextRule.InsertAsSnippet),qi});return{isIncomplete:Tt.isIncomplete,suggestions:Vn}})}};function dn(je){if(je)return{character:je.column-1,line:je.lineNumber-1}}function St(je){if(je)return{start:{line:je.startLineNumber-1,character:je.startColumn-1},end:{line:je.endLineNumber-1,character:je.endColumn-1}}}function Lt(je){if(je)return new E.Range(je.start.line+1,je.start.character+1,je.end.line+1,je.end.character+1)}function on(je){const ze=E.languages.CompletionItemKind;switch(je){case Sn.Text:return ze.Text;case Sn.Method:return ze.Method;case Sn.Function:return ze.Function;case Sn.Constructor:return ze.Constructor;case Sn.Field:return ze.Field;case Sn.Variable:return ze.Variable;case Sn.Class:return ze.Class;case Sn.Interface:return ze.Interface;case Sn.Module:return ze.Module;case Sn.Property:return ze.Property;case Sn.Unit:return ze.Unit;case Sn.Value:return ze.Value;case Sn.Enum:return ze.Enum;case Sn.Keyword:return ze.Keyword;case Sn.Snippet:return ze.Snippet;case Sn.Color:return ze.Color;case Sn.File:return ze.File;case Sn.Reference:return ze.Reference}return ze.Property}function ln(je){if(je)return{range:Lt(je.range),text:je.newText}}var Dn=class{constructor(je){this._worker=je}provideHover(je,ze,De){let Ce=je.uri;return this._worker(Ce).then((ut)=>ut.doHover(Ce.toString(),dn(ze))).then((ut)=>{if(ut)return{range:Lt(ut.range),contents:$n(ut.contents)}})}};function vn(je){return typeof je=="string"?{value:je}:(ze=je)&&typeof ze=="object"&&typeof ze.kind=="string"?je.kind==="plaintext"?{value:je.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:je.value}:{value:"```"+je.language+"\n"+je.value+"\n```\n"};var ze}function $n(je){if(je)return Array.isArray(je)?je.map(vn):[vn(je)]}var Un=class{constructor(je){this._worker=je}provideDocumentHighlights(je,ze,De){const Ce=je.uri;return this._worker(Ce).then((ut)=>ut.findDocumentHighlights(Ce.toString(),dn(ze))).then((ut)=>{if(ut)return ut.map((Tt)=>({range:Lt(Tt.range),kind:Fn(Tt.kind)}))})}};function Fn(je){switch(je){case tr.Read:return E.languages.DocumentHighlightKind.Read;case tr.Write:return E.languages.DocumentHighlightKind.Write;case tr.Text:return E.languages.DocumentHighlightKind.Text}return E.languages.DocumentHighlightKind.Text}var fn=class{constructor(je){this._worker=je}provideDefinition(je,ze,De){const Ce=je.uri;return this._worker(Ce).then((ut)=>ut.findDefinition(Ce.toString(),dn(ze))).then((ut)=>{if(ut)return[Qn(ut)]})}};function Qn(je){return{uri:E.Uri.parse(je.uri),range:Lt(je.range)}}var N=class{constructor(je){this._worker=je}provideReferences(je,ze,De,Ce){const ut=je.uri;return this._worker(ut).then((Tt)=>Tt.findReferences(ut.toString(),dn(ze))).then((Tt)=>{if(Tt)return Tt.map(Qn)})}},Z=class{constructor(je){this._worker=je}provideRenameEdits(je,ze,De,Ce){const ut=je.uri;return this._worker(ut).then((Tt)=>Tt.doRename(ut.toString(),dn(ze),De)).then((Tt)=>function(Ht){if(!Ht||!Ht.changes)return;let sn=[];for(let Vn in Ht.changes){const yn=E.Uri.parse(Vn);for(let qi of Ht.changes[Vn])sn.push({resource:yn,versionId:void 0,textEdit:{range:Lt(qi.range),text:qi.newText}})}return{edits:sn}}(Tt))}},j=class{constructor(je){this._worker=je}provideDocumentSymbols(je,ze){const De=je.uri;return this._worker(De).then((Ce)=>Ce.findDocumentSymbols(De.toString())).then((Ce)=>{if(Ce)return Ce.map((ut)=>("children"in ut)?_e(ut):{name:ut.name,detail:"",containerName:ut.containerName,kind:Ne(ut.kind),range:Lt(ut.location.range),selectionRange:Lt(ut.location.range),tags:[]})})}};function _e(je){return{name:je.name,detail:je.detail??"",kind:Ne(je.kind),range:Lt(je.range),selectionRange:Lt(je.selectionRange),tags:je.tags??[],children:(je.children??[]).map((ze)=>_e(ze))}}function Ne(je){let ze=E.languages.SymbolKind;switch(je){case un.File:return ze.File;case un.Module:return ze.Module;case un.Namespace:return ze.Namespace;case un.Package:return ze.Package;case un.Class:return ze.Class;case un.Method:return ze.Method;case un.Property:return ze.Property;case un.Field:return ze.Field;case un.Constructor:return ze.Constructor;case un.Enum:return ze.Enum;case un.Interface:return ze.Interface;case un.Function:return ze.Function;case un.Variable:return ze.Variable;case un.Constant:return ze.Constant;case un.String:return ze.String;case un.Number:return ze.Number;case un.Boolean:return ze.Boolean;case un.Array:return ze.Array}return ze.Function}var Oe=class{constructor(je){this._worker=je}provideLinks(je,ze){const De=je.uri;return this._worker(De).then((Ce)=>Ce.findDocumentLinks(De.toString())).then((Ce)=>{if(Ce)return{links:Ce.map((ut)=>({range:Lt(ut.range),url:ut.target}))}})}},Ke=class{constructor(je){this._worker=je}provideDocumentFormattingEdits(je,ze,De){const Ce=je.uri;return this._worker(Ce).then((ut)=>ut.format(Ce.toString(),null,kt(ze)).then((Tt)=>{if(Tt&&Tt.length!==0)return Tt.map(ln)}))}},wt=class{constructor(je){this._worker=je,this.canFormatMultipleRanges=!1}provideDocumentRangeFormattingEdits(je,ze,De,Ce){const ut=je.uri;return this._worker(ut).then((Tt)=>Tt.format(ut.toString(),St(ze),kt(De)).then((Ht)=>{if(Ht&&Ht.length!==0)return Ht.map(ln)}))}};function kt(je){return{tabSize:je.tabSize,insertSpaces:je.insertSpaces}}var Et=class{constructor(je){this._worker=je}provideDocumentColors(je,ze){const De=je.uri;return this._worker(De).then((Ce)=>Ce.findDocumentColors(De.toString())).then((Ce)=>{if(Ce)return Ce.map((ut)=>({color:ut.color,range:Lt(ut.range)}))})}provideColorPresentations(je,ze,De){const Ce=je.uri;return this._worker(Ce).then((ut)=>ut.getColorPresentations(Ce.toString(),ze.color,St(ze.range))).then((ut)=>{if(ut)return ut.map((Tt)=>{let Ht={label:Tt.label};return Tt.textEdit&&(Ht.textEdit=ln(Tt.textEdit)),Tt.additionalTextEdits&&(Ht.additionalTextEdits=Tt.additionalTextEdits.map(ln)),Ht})})}},st=class{constructor(je){this._worker=je}provideFoldingRanges(je,ze,De){const Ce=je.uri;return this._worker(Ce).then((ut)=>ut.getFoldingRanges(Ce.toString(),ze)).then((ut)=>{if(ut)return ut.map((Tt)=>{const Ht={start:Tt.startLine+1,end:Tt.endLine+1};return Tt.kind!==void 0&&(Ht.kind=function(sn){switch(sn){case ie.Comment:return E.languages.FoldingRangeKind.Comment;case ie.Imports:return E.languages.FoldingRangeKind.Imports;case ie.Region:return E.languages.FoldingRangeKind.Region}}(Tt.kind)),Ht})})}},Bt=class{constructor(je){this._worker=je}provideSelectionRanges(je,ze,De){const Ce=je.uri;return this._worker(Ce).then((ut)=>ut.getSelectionRanges(Ce.toString(),ze.map(dn))).then((ut)=>{if(ut)return ut.map((Tt)=>{const Ht=[];for(;Tt;)Ht.push({range:Lt(Tt.range)}),Tt=Tt.parent;return Ht})})}};function Rt(je){const ze=[],De=[],Ce=new bt(je);ze.push(Ce);const ut=(...Tt)=>Ce.getLanguageServiceWorker(...Tt);return function(){const{languageId:Tt,modeConfiguration:Ht}=je;hn(De),Ht.completionItems&&De.push(E.languages.registerCompletionItemProvider(Tt,new Cn(ut,["/","-",":"]))),Ht.hovers&&De.push(E.languages.registerHoverProvider(Tt,new Dn(ut))),Ht.documentHighlights&&De.push(E.languages.registerDocumentHighlightProvider(Tt,new Un(ut))),Ht.definitions&&De.push(E.languages.registerDefinitionProvider(Tt,new fn(ut))),Ht.references&&De.push(E.languages.registerReferenceProvider(Tt,new N(ut))),Ht.documentSymbols&&De.push(E.languages.registerDocumentSymbolProvider(Tt,new j(ut))),Ht.rename&&De.push(E.languages.registerRenameProvider(Tt,new Z(ut))),Ht.colors&&De.push(E.languages.registerColorProvider(Tt,new Et(ut))),Ht.foldingRanges&&De.push(E.languages.registerFoldingRangeProvider(Tt,new st(ut))),Ht.diagnostics&&De.push(new Ot(Tt,ut,je.onDidChange)),Ht.selectionRanges&&De.push(E.languages.registerSelectionRangeProvider(Tt,new Bt(ut))),Ht.documentFormattingEdits&&De.push(E.languages.registerDocumentFormattingEditProvider(Tt,new Ke(ut))),Ht.documentRangeFormattingEdits&&De.push(E.languages.registerDocumentRangeFormattingEditProvider(Tt,new wt(ut)))}(),ze.push(en(De)),en(ze)}function en(je){return{dispose:()=>hn(je)}}function hn(je){for(;je.length;)je.pop().dispose()}},2077:(dt,pe,h)=>{h.r(pe),h.d(pe,{CompletionAdapter:()=>Cn,DefinitionAdapter:()=>fn,DiagnosticsAdapter:()=>Ot,DocumentColorAdapter:()=>Et,DocumentFormattingEditProvider:()=>Ke,DocumentHighlightAdapter:()=>Un,DocumentLinkAdapter:()=>Oe,DocumentRangeFormattingEditProvider:()=>wt,DocumentSymbolAdapter:()=>j,FoldingRangeAdapter:()=>st,HoverAdapter:()=>Dn,ReferenceAdapter:()=>N,RenameAdapter:()=>Z,SelectionRangeAdapter:()=>Bt,WorkerManager:()=>bt,fromPosition:()=>dn,fromRange:()=>St,setupMode:()=>hn,setupMode1:()=>en,toRange:()=>Lt,toTextEdit:()=>ln});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(De,Ce,ut,Tt)=>{if(Ce&&typeof Ce=="object"||typeof Ce=="function")for(let Ht of J(Ce))M.call(De,Ht)||Ht===ut||I(De,Ht,{get:()=>Ce[Ht],enumerable:!(Tt=T(Ce,Ht))||Tt.enumerable});return De},E={};v(E,s,"default");var w,C,d,f,p,_,m,b,x,k,R,P,z,te,L,W,B,U,$,G,ie,ee,ne,H,V,Y,ve,Te,xe,Be,Ie,he,Q,re,Je,Se,Pe,Le,Ve,g,ge,We,de,be,ae,O,Ue,Ye,Fe,oe,rt,lt,ye,pt,Mt,Zt,jt,xn,nn,gn,pn,rn,Sn,Mn,Bn,wi,Mi,Oi,En,li,si,ti,Ln,Xn,xi,Ni,Ii,er,Zi,tr,rr,yi,un,ft,Yn,Nt,Ci,Hn,Xt,pi,Ji,Gi,dr,Ui,Xi,Pi,ar,Hi,or,Yi,_t,Kt,tn,In,mn,wn,An,fi,qn,oi,Ai,nr,$i,ji,di,Qi,wr,ht,xt,se,Ae,He,mt,At,zt,Pt,Wt,Nn,bn,Jn,$e,tt,gt,bt=class{constructor(De){this._defaults=De,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30000),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>120000&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=E.editor.createWebWorker({moduleId:"vs/language/html/htmlWorker",createData:{languageSettings:this._defaults.options,languageId:this._defaults.languageId},label:this._defaults.languageId}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...De){let Ce;return this._getClient().then((ut)=>{Ce=ut}).then((ut)=>{if(this._worker)return this._worker.withSyncedResources(De)}).then((ut)=>Ce)}};(w||(w={})).is=function(De){return typeof De=="string"},(C||(C={})).is=function(De){return typeof De=="string"},(f=d||(d={})).MIN_VALUE=-2147483648,f.MAX_VALUE=2147483647,f.is=function(De){return typeof De=="number"&&f.MIN_VALUE<=De&&De<=f.MAX_VALUE},(_=p||(p={})).MIN_VALUE=0,_.MAX_VALUE=2147483647,_.is=function(De){return typeof De=="number"&&_.MIN_VALUE<=De&&De<=_.MAX_VALUE},(b=m||(m={})).create=function(De,Ce){return De===Number.MAX_VALUE&&(De=p.MAX_VALUE),Ce===Number.MAX_VALUE&&(Ce=p.MAX_VALUE),{line:De,character:Ce}},b.is=function(De){let Ce=De;return ke.objectLiteral(Ce)&&ke.uinteger(Ce.line)&&ke.uinteger(Ce.character)},(k=x||(x={})).create=function(De,Ce,ut,Tt){if(ke.uinteger(De)&&ke.uinteger(Ce)&&ke.uinteger(ut)&&ke.uinteger(Tt))return{start:m.create(De,Ce),end:m.create(ut,Tt)};if(m.is(De)&&m.is(Ce))return{start:De,end:Ce};throw new Error(`Range#create called with invalid arguments[${De}, ${Ce}, ${ut}, ${Tt}]`)},k.is=function(De){let Ce=De;return ke.objectLiteral(Ce)&&m.is(Ce.start)&&m.is(Ce.end)},(P=R||(R={})).create=function(De,Ce){return{uri:De,range:Ce}},P.is=function(De){let Ce=De;return ke.objectLiteral(Ce)&&x.is(Ce.range)&&(ke.string(Ce.uri)||ke.undefined(Ce.uri))},(te=z||(z={})).create=function(De,Ce,ut,Tt){return{targetUri:De,targetRange:Ce,targetSelectionRange:ut,originSelectionRange:Tt}},te.is=function(De){let Ce=De;return ke.objectLiteral(Ce)&&x.is(Ce.targetRange)&&ke.string(Ce.targetUri)&&x.is(Ce.targetSelectionRange)&&(x.is(Ce.originSelectionRange)||ke.undefined(Ce.originSelectionRange))},(W=L||(L={})).create=function(De,Ce,ut,Tt){return{red:De,green:Ce,blue:ut,alpha:Tt}},W.is=function(De){const Ce=De;return ke.objectLiteral(Ce)&&ke.numberRange(Ce.red,0,1)&&ke.numberRange(Ce.green,0,1)&&ke.numberRange(Ce.blue,0,1)&&ke.numberRange(Ce.alpha,0,1)},(U=B||(B={})).create=function(De,Ce){return{range:De,color:Ce}},U.is=function(De){const Ce=De;return ke.objectLiteral(Ce)&&x.is(Ce.range)&&L.is(Ce.color)},(G=$||($={})).create=function(De,Ce,ut){return{label:De,textEdit:Ce,additionalTextEdits:ut}},G.is=function(De){const Ce=De;return ke.objectLiteral(Ce)&&ke.string(Ce.label)&&(ke.undefined(Ce.textEdit)||Se.is(Ce))&&(ke.undefined(Ce.additionalTextEdits)||ke.typedArray(Ce.additionalTextEdits,Se.is))},(ee=ie||(ie={})).Comment="comment",ee.Imports="imports",ee.Region="region",(H=ne||(ne={})).create=function(De,Ce,ut,Tt,Ht,sn){const Vn={startLine:De,endLine:Ce};return ke.defined(ut)&&(Vn.startCharacter=ut),ke.defined(Tt)&&(Vn.endCharacter=Tt),ke.defined(Ht)&&(Vn.kind=Ht),ke.defined(sn)&&(Vn.collapsedText=sn),Vn},H.is=function(De){const Ce=De;return ke.objectLiteral(Ce)&&ke.uinteger(Ce.startLine)&&ke.uinteger(Ce.startLine)&&(ke.undefined(Ce.startCharacter)||ke.uinteger(Ce.startCharacter))&&(ke.undefined(Ce.endCharacter)||ke.uinteger(Ce.endCharacter))&&(ke.undefined(Ce.kind)||ke.string(Ce.kind))},(Y=V||(V={})).create=function(De,Ce){return{location:De,message:Ce}},Y.is=function(De){let Ce=De;return ke.defined(Ce)&&R.is(Ce.location)&&ke.string(Ce.message)},(Te=ve||(ve={})).Error=1,Te.Warning=2,Te.Information=3,Te.Hint=4,(Be=xe||(xe={})).Unnecessary=1,Be.Deprecated=2,(Ie||(Ie={})).is=function(De){const Ce=De;return ke.objectLiteral(Ce)&&ke.string(Ce.href)},(Q=he||(he={})).create=function(De,Ce,ut,Tt,Ht,sn){let Vn={range:De,message:Ce};return ke.defined(ut)&&(Vn.severity=ut),ke.defined(Tt)&&(Vn.code=Tt),ke.defined(Ht)&&(Vn.source=Ht),ke.defined(sn)&&(Vn.relatedInformation=sn),Vn},Q.is=function(De){var Ce;let ut=De;return ke.defined(ut)&&x.is(ut.range)&&ke.string(ut.message)&&(ke.number(ut.severity)||ke.undefined(ut.severity))&&(ke.integer(ut.code)||ke.string(ut.code)||ke.undefined(ut.code))&&(ke.undefined(ut.codeDescription)||ke.string((Ce=ut.codeDescription)===null||Ce===void 0?void 0:Ce.href))&&(ke.string(ut.source)||ke.undefined(ut.source))&&(ke.undefined(ut.relatedInformation)||ke.typedArray(ut.relatedInformation,V.is))},(Je=re||(re={})).create=function(De,Ce,...ut){let Tt={title:De,command:Ce};return ke.defined(ut)&&ut.length>0&&(Tt.arguments=ut),Tt},Je.is=function(De){let Ce=De;return ke.defined(Ce)&&ke.string(Ce.title)&&ke.string(Ce.command)},(Pe=Se||(Se={})).replace=function(De,Ce){return{range:De,newText:Ce}},Pe.insert=function(De,Ce){return{range:{start:De,end:De},newText:Ce}},Pe.del=function(De){return{range:De,newText:""}},Pe.is=function(De){const Ce=De;return ke.objectLiteral(Ce)&&ke.string(Ce.newText)&&x.is(Ce.range)},(Ve=Le||(Le={})).create=function(De,Ce,ut){const Tt={label:De};return Ce!==void 0&&(Tt.needsConfirmation=Ce),ut!==void 0&&(Tt.description=ut),Tt},Ve.is=function(De){const Ce=De;return ke.objectLiteral(Ce)&&ke.string(Ce.label)&&(ke.boolean(Ce.needsConfirmation)||Ce.needsConfirmation===void 0)&&(ke.string(Ce.description)||Ce.description===void 0)},(g||(g={})).is=function(De){const Ce=De;return ke.string(Ce)},(We=ge||(ge={})).replace=function(De,Ce,ut){return{range:De,newText:Ce,annotationId:ut}},We.insert=function(De,Ce,ut){return{range:{start:De,end:De},newText:Ce,annotationId:ut}},We.del=function(De,Ce){return{range:De,newText:"",annotationId:Ce}},We.is=function(De){const Ce=De;return Se.is(Ce)&&(Le.is(Ce.annotationId)||g.is(Ce.annotationId))},(be=de||(de={})).create=function(De,Ce){return{textDocument:De,edits:Ce}},be.is=function(De){let Ce=De;return ke.defined(Ce)&&Zt.is(Ce.textDocument)&&Array.isArray(Ce.edits)},(O=ae||(ae={})).create=function(De,Ce,ut){let Tt={kind:"create",uri:De};return Ce===void 0||Ce.overwrite===void 0&&Ce.ignoreIfExists===void 0||(Tt.options=Ce),ut!==void 0&&(Tt.annotationId=ut),Tt},O.is=function(De){let Ce=De;return Ce&&Ce.kind==="create"&&ke.string(Ce.uri)&&(Ce.options===void 0||(Ce.options.overwrite===void 0||ke.boolean(Ce.options.overwrite))&&(Ce.options.ignoreIfExists===void 0||ke.boolean(Ce.options.ignoreIfExists)))&&(Ce.annotationId===void 0||g.is(Ce.annotationId))},(Ye=Ue||(Ue={})).create=function(De,Ce,ut,Tt){let Ht={kind:"rename",oldUri:De,newUri:Ce};return ut===void 0||ut.overwrite===void 0&&ut.ignoreIfExists===void 0||(Ht.options=ut),Tt!==void 0&&(Ht.annotationId=Tt),Ht},Ye.is=function(De){let Ce=De;return Ce&&Ce.kind==="rename"&&ke.string(Ce.oldUri)&&ke.string(Ce.newUri)&&(Ce.options===void 0||(Ce.options.overwrite===void 0||ke.boolean(Ce.options.overwrite))&&(Ce.options.ignoreIfExists===void 0||ke.boolean(Ce.options.ignoreIfExists)))&&(Ce.annotationId===void 0||g.is(Ce.annotationId))},(oe=Fe||(Fe={})).create=function(De,Ce,ut){let Tt={kind:"delete",uri:De};return Ce===void 0||Ce.recursive===void 0&&Ce.ignoreIfNotExists===void 0||(Tt.options=Ce),ut!==void 0&&(Tt.annotationId=ut),Tt},oe.is=function(De){let Ce=De;return Ce&&Ce.kind==="delete"&&ke.string(Ce.uri)&&(Ce.options===void 0||(Ce.options.recursive===void 0||ke.boolean(Ce.options.recursive))&&(Ce.options.ignoreIfNotExists===void 0||ke.boolean(Ce.options.ignoreIfNotExists)))&&(Ce.annotationId===void 0||g.is(Ce.annotationId))},(rt||(rt={})).is=function(De){let Ce=De;return Ce&&(Ce.changes!==void 0||Ce.documentChanges!==void 0)&&(Ce.documentChanges===void 0||Ce.documentChanges.every((ut)=>ke.string(ut.kind)?ae.is(ut)||Ue.is(ut)||Fe.is(ut):de.is(ut)))},(ye=lt||(lt={})).create=function(De){return{uri:De}},ye.is=function(De){let Ce=De;return ke.defined(Ce)&&ke.string(Ce.uri)},(Mt=pt||(pt={})).create=function(De,Ce){return{uri:De,version:Ce}},Mt.is=function(De){let Ce=De;return ke.defined(Ce)&&ke.string(Ce.uri)&&ke.integer(Ce.version)},(jt=Zt||(Zt={})).create=function(De,Ce){return{uri:De,version:Ce}},jt.is=function(De){let Ce=De;return ke.defined(Ce)&&ke.string(Ce.uri)&&(Ce.version===null||ke.integer(Ce.version))},(nn=xn||(xn={})).create=function(De,Ce,ut,Tt){return{uri:De,languageId:Ce,version:ut,text:Tt}},nn.is=function(De){let Ce=De;return ke.defined(Ce)&&ke.string(Ce.uri)&&ke.string(Ce.languageId)&&ke.integer(Ce.version)&&ke.string(Ce.text)},(pn=gn||(gn={})).PlainText="plaintext",pn.Markdown="markdown",pn.is=function(De){const Ce=De;return Ce===pn.PlainText||Ce===pn.Markdown},(rn||(rn={})).is=function(De){const Ce=De;return ke.objectLiteral(De)&&gn.is(Ce.kind)&&ke.string(Ce.value)},(Mn=Sn||(Sn={})).Text=1,Mn.Method=2,Mn.Function=3,Mn.Constructor=4,Mn.Field=5,Mn.Variable=6,Mn.Class=7,Mn.Interface=8,Mn.Module=9,Mn.Property=10,Mn.Unit=11,Mn.Value=12,Mn.Enum=13,Mn.Keyword=14,Mn.Snippet=15,Mn.Color=16,Mn.File=17,Mn.Reference=18,Mn.Folder=19,Mn.EnumMember=20,Mn.Constant=21,Mn.Struct=22,Mn.Event=23,Mn.Operator=24,Mn.TypeParameter=25,(wi=Bn||(Bn={})).PlainText=1,wi.Snippet=2,(Mi||(Mi={})).Deprecated=1,(En=Oi||(Oi={})).create=function(De,Ce,ut){return{newText:De,insert:Ce,replace:ut}},En.is=function(De){const Ce=De;return Ce&&ke.string(Ce.newText)&&x.is(Ce.insert)&&x.is(Ce.replace)},(si=li||(li={})).asIs=1,si.adjustIndentation=2,(ti||(ti={})).is=function(De){const Ce=De;return Ce&&(ke.string(Ce.detail)||Ce.detail===void 0)&&(ke.string(Ce.description)||Ce.description===void 0)},(Ln||(Ln={})).create=function(De){return{label:De}},(Xn||(Xn={})).create=function(De,Ce){return{items:De||[],isIncomplete:!!Ce}},(Ni=xi||(xi={})).fromPlainText=function(De){return De.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},Ni.is=function(De){const Ce=De;return ke.string(Ce)||ke.objectLiteral(Ce)&&ke.string(Ce.language)&&ke.string(Ce.value)},(Ii||(Ii={})).is=function(De){let Ce=De;return!!Ce&&ke.objectLiteral(Ce)&&(rn.is(Ce.contents)||xi.is(Ce.contents)||ke.typedArray(Ce.contents,xi.is))&&(De.range===void 0||x.is(De.range))},(er||(er={})).create=function(De,Ce){return Ce?{label:De,documentation:Ce}:{label:De}},(Zi||(Zi={})).create=function(De,Ce,...ut){let Tt={label:De};return ke.defined(Ce)&&(Tt.documentation=Ce),ke.defined(ut)?Tt.parameters=ut:Tt.parameters=[],Tt},(rr=tr||(tr={})).Text=1,rr.Read=2,rr.Write=3,(yi||(yi={})).create=function(De,Ce){let ut={range:De};return ke.number(Ce)&&(ut.kind=Ce),ut},(ft=un||(un={})).File=1,ft.Module=2,ft.Namespace=3,ft.Package=4,ft.Class=5,ft.Method=6,ft.Property=7,ft.Field=8,ft.Constructor=9,ft.Enum=10,ft.Interface=11,ft.Function=12,ft.Variable=13,ft.Constant=14,ft.String=15,ft.Number=16,ft.Boolean=17,ft.Array=18,ft.Object=19,ft.Key=20,ft.Null=21,ft.EnumMember=22,ft.Struct=23,ft.Event=24,ft.Operator=25,ft.TypeParameter=26,(Yn||(Yn={})).Deprecated=1,(Nt||(Nt={})).create=function(De,Ce,ut,Tt,Ht){let sn={name:De,kind:Ce,location:{uri:Tt,range:ut}};return Ht&&(sn.containerName=Ht),sn},(Ci||(Ci={})).create=function(De,Ce,ut,Tt){return Tt!==void 0?{name:De,kind:Ce,location:{uri:ut,range:Tt}}:{name:De,kind:Ce,location:{uri:ut}}},(Xt=Hn||(Hn={})).create=function(De,Ce,ut,Tt,Ht,sn){let Vn={name:De,detail:Ce,kind:ut,range:Tt,selectionRange:Ht};return sn!==void 0&&(Vn.children=sn),Vn},Xt.is=function(De){let Ce=De;return Ce&&ke.string(Ce.name)&&ke.number(Ce.kind)&&x.is(Ce.range)&&x.is(Ce.selectionRange)&&(Ce.detail===void 0||ke.string(Ce.detail))&&(Ce.deprecated===void 0||ke.boolean(Ce.deprecated))&&(Ce.children===void 0||Array.isArray(Ce.children))&&(Ce.tags===void 0||Array.isArray(Ce.tags))},(Ji=pi||(pi={})).Empty="",Ji.QuickFix="quickfix",Ji.Refactor="refactor",Ji.RefactorExtract="refactor.extract",Ji.RefactorInline="refactor.inline",Ji.RefactorRewrite="refactor.rewrite",Ji.Source="source",Ji.SourceOrganizeImports="source.organizeImports",Ji.SourceFixAll="source.fixAll",(dr=Gi||(Gi={})).Invoked=1,dr.Automatic=2,(Xi=Ui||(Ui={})).create=function(De,Ce,ut){let Tt={diagnostics:De};return Ce!=null&&(Tt.only=Ce),ut!=null&&(Tt.triggerKind=ut),Tt},Xi.is=function(De){let Ce=De;return ke.defined(Ce)&&ke.typedArray(Ce.diagnostics,he.is)&&(Ce.only===void 0||ke.typedArray(Ce.only,ke.string))&&(Ce.triggerKind===void 0||Ce.triggerKind===Gi.Invoked||Ce.triggerKind===Gi.Automatic)},(ar=Pi||(Pi={})).create=function(De,Ce,ut){let Tt={title:De},Ht=!0;return typeof Ce=="string"?(Ht=!1,Tt.kind=Ce):re.is(Ce)?Tt.command=Ce:Tt.edit=Ce,Ht&&ut!==void 0&&(Tt.kind=ut),Tt},ar.is=function(De){let Ce=De;return Ce&&ke.string(Ce.title)&&(Ce.diagnostics===void 0||ke.typedArray(Ce.diagnostics,he.is))&&(Ce.kind===void 0||ke.string(Ce.kind))&&(Ce.edit!==void 0||Ce.command!==void 0)&&(Ce.command===void 0||re.is(Ce.command))&&(Ce.isPreferred===void 0||ke.boolean(Ce.isPreferred))&&(Ce.edit===void 0||rt.is(Ce.edit))},(or=Hi||(Hi={})).create=function(De,Ce){let ut={range:De};return ke.defined(Ce)&&(ut.data=Ce),ut},or.is=function(De){let Ce=De;return ke.defined(Ce)&&x.is(Ce.range)&&(ke.undefined(Ce.command)||re.is(Ce.command))},(_t=Yi||(Yi={})).create=function(De,Ce){return{tabSize:De,insertSpaces:Ce}},_t.is=function(De){let Ce=De;return ke.defined(Ce)&&ke.uinteger(Ce.tabSize)&&ke.boolean(Ce.insertSpaces)},(tn=Kt||(Kt={})).create=function(De,Ce,ut){return{range:De,target:Ce,data:ut}},tn.is=function(De){let Ce=De;return ke.defined(Ce)&&x.is(Ce.range)&&(ke.undefined(Ce.target)||ke.string(Ce.target))},(mn=In||(In={})).create=function(De,Ce){return{range:De,parent:Ce}},mn.is=function(De){let Ce=De;return ke.objectLiteral(Ce)&&x.is(Ce.range)&&(Ce.parent===void 0||mn.is(Ce.parent))},(An=wn||(wn={})).namespace="namespace",An.type="type",An.class="class",An.enum="enum",An.interface="interface",An.struct="struct",An.typeParameter="typeParameter",An.parameter="parameter",An.variable="variable",An.property="property",An.enumMember="enumMember",An.event="event",An.function="function",An.method="method",An.macro="macro",An.keyword="keyword",An.modifier="modifier",An.comment="comment",An.string="string",An.number="number",An.regexp="regexp",An.operator="operator",An.decorator="decorator",(qn=fi||(fi={})).declaration="declaration",qn.definition="definition",qn.readonly="readonly",qn.static="static",qn.deprecated="deprecated",qn.abstract="abstract",qn.async="async",qn.modification="modification",qn.documentation="documentation",qn.defaultLibrary="defaultLibrary",(oi||(oi={})).is=function(De){const Ce=De;return ke.objectLiteral(Ce)&&(Ce.resultId===void 0||typeof Ce.resultId=="string")&&Array.isArray(Ce.data)&&(Ce.data.length===0||typeof Ce.data[0]=="number")},(nr=Ai||(Ai={})).create=function(De,Ce){return{range:De,text:Ce}},nr.is=function(De){const Ce=De;return Ce!=null&&x.is(Ce.range)&&ke.string(Ce.text)},(ji=$i||($i={})).create=function(De,Ce,ut){return{range:De,variableName:Ce,caseSensitiveLookup:ut}},ji.is=function(De){const Ce=De;return Ce!=null&&x.is(Ce.range)&&ke.boolean(Ce.caseSensitiveLookup)&&(ke.string(Ce.variableName)||Ce.variableName===void 0)},(Qi=di||(di={})).create=function(De,Ce){return{range:De,expression:Ce}},Qi.is=function(De){const Ce=De;return Ce!=null&&x.is(Ce.range)&&(ke.string(Ce.expression)||Ce.expression===void 0)},(ht=wr||(wr={})).create=function(De,Ce){return{frameId:De,stoppedLocation:Ce}},ht.is=function(De){const Ce=De;return ke.defined(Ce)&&x.is(De.stoppedLocation)},(se=xt||(xt={})).Type=1,se.Parameter=2,se.is=function(De){return De===1||De===2},(He=Ae||(Ae={})).create=function(De){return{value:De}},He.is=function(De){const Ce=De;return ke.objectLiteral(Ce)&&(Ce.tooltip===void 0||ke.string(Ce.tooltip)||rn.is(Ce.tooltip))&&(Ce.location===void 0||R.is(Ce.location))&&(Ce.command===void 0||re.is(Ce.command))},(At=mt||(mt={})).create=function(De,Ce,ut){const Tt={position:De,label:Ce};return ut!==void 0&&(Tt.kind=ut),Tt},At.is=function(De){const Ce=De;return ke.objectLiteral(Ce)&&m.is(Ce.position)&&(ke.string(Ce.label)||ke.typedArray(Ce.label,Ae.is))&&(Ce.kind===void 0||xt.is(Ce.kind))&&Ce.textEdits===void 0||ke.typedArray(Ce.textEdits,Se.is)&&(Ce.tooltip===void 0||ke.string(Ce.tooltip)||rn.is(Ce.tooltip))&&(Ce.paddingLeft===void 0||ke.boolean(Ce.paddingLeft))&&(Ce.paddingRight===void 0||ke.boolean(Ce.paddingRight))},(zt||(zt={})).createSnippet=function(De){return{kind:"snippet",value:De}},(Pt||(Pt={})).create=function(De,Ce,ut,Tt){return{insertText:De,filterText:Ce,range:ut,command:Tt}},(Wt||(Wt={})).create=function(De){return{items:De}},(bn=Nn||(Nn={})).Invoked=0,bn.Automatic=1,(Jn||(Jn={})).create=function(De,Ce){return{range:De,text:Ce}},($e||($e={})).create=function(De,Ce){return{triggerKind:De,selectedCompletionInfo:Ce}},(tt||(tt={})).is=function(De){const Ce=De;return ke.objectLiteral(Ce)&&C.is(Ce.uri)&&ke.string(Ce.name)},function(De){function Ce(ut,Tt){if(ut.length<=1)return ut;const Ht=ut.length/2|0,sn=ut.slice(0,Ht),Vn=ut.slice(Ht);Ce(sn,Tt),Ce(Vn,Tt);let yn=0,qi=0,ki=0;for(;yn<sn.length&&qi<Vn.length;){let ur=Tt(sn[yn],Vn[qi]);ut[ki++]=ur<=0?sn[yn++]:Vn[qi++]}for(;yn<sn.length;)ut[ki++]=sn[yn++];for(;qi<Vn.length;)ut[ki++]=Vn[qi++];return ut}De.create=function(ut,Tt,Ht,sn){return new qt(ut,Tt,Ht,sn)},De.is=function(ut){let Tt=ut;return!!(ke.defined(Tt)&&ke.string(Tt.uri)&&(ke.undefined(Tt.languageId)||ke.string(Tt.languageId))&&ke.uinteger(Tt.lineCount)&&ke.func(Tt.getText)&&ke.func(Tt.positionAt)&&ke.func(Tt.offsetAt))},De.applyEdits=function(ut,Tt){let Ht=ut.getText(),sn=Ce(Tt,(yn,qi)=>{let ki=yn.range.start.line-qi.range.start.line;return ki===0?yn.range.start.character-qi.range.start.character:ki}),Vn=Ht.length;for(let yn=sn.length-1;yn>=0;yn--){let qi=sn[yn],ki=ut.offsetAt(qi.range.start),ur=ut.offsetAt(qi.range.end);if(!(ur<=Vn))throw new Error("Overlapping edit");Ht=Ht.substring(0,ki)+qi.newText+Ht.substring(ur,Ht.length),Vn=ki}return Ht}}(gt||(gt={}));var ke,qt=class{constructor(De,Ce,ut,Tt){this._uri=De,this._languageId=Ce,this._version=ut,this._content=Tt,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(De){if(De){let Ce=this.offsetAt(De.start),ut=this.offsetAt(De.end);return this._content.substring(Ce,ut)}return this._content}update(De,Ce){this._content=De.text,this._version=Ce,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let De=[],Ce=this._content,ut=!0;for(let Tt=0;Tt<Ce.length;Tt++){ut&&(De.push(Tt),ut=!1);let Ht=Ce.charAt(Tt);ut=Ht==="\r"||Ht==="\n",Ht==="\r"&&Tt+1<Ce.length&&Ce.charAt(Tt+1)==="\n"&&Tt++}ut&&Ce.length>0&&De.push(Ce.length),this._lineOffsets=De}return this._lineOffsets}positionAt(De){De=Math.max(Math.min(De,this._content.length),0);let Ce=this.getLineOffsets(),ut=0,Tt=Ce.length;if(Tt===0)return m.create(0,De);for(;ut<Tt;){let sn=Math.floor((ut+Tt)/2);Ce[sn]>De?Tt=sn:ut=sn+1}let Ht=ut-1;return m.create(Ht,De-Ce[Ht])}offsetAt(De){let Ce=this.getLineOffsets();if(De.line>=Ce.length)return this._content.length;if(De.line<0)return 0;let ut=Ce[De.line],Tt=De.line+1<Ce.length?Ce[De.line+1]:this._content.length;return Math.max(Math.min(ut+De.character,Tt),ut)}get lineCount(){return this.getLineOffsets().length}};(function(De){const Ce=Object.prototype.toString;De.defined=function(ut){return ut!==void 0},De.undefined=function(ut){return ut===void 0},De.boolean=function(ut){return ut===!0||ut===!1},De.string=function(ut){return Ce.call(ut)==="[object String]"},De.number=function(ut){return Ce.call(ut)==="[object Number]"},De.numberRange=function(ut,Tt,Ht){return Ce.call(ut)==="[object Number]"&&Tt<=ut&&ut<=Ht},De.integer=function(ut){return Ce.call(ut)==="[object Number]"&&-2147483648<=ut&&ut<=2147483647},De.uinteger=function(ut){return Ce.call(ut)==="[object Number]"&&0<=ut&&ut<=2147483647},De.func=function(ut){return Ce.call(ut)==="[object Function]"},De.objectLiteral=function(ut){return ut!==null&&typeof ut=="object"},De.typedArray=function(ut,Tt){return Array.isArray(ut)&&ut.every(Tt)}})(ke||(ke={}));var Ot=class{constructor(De,Ce,ut){this._languageId=De,this._worker=Ce,this._disposables=[],this._listener=Object.create(null);const Tt=(sn)=>{let Vn,yn=sn.getLanguageId();yn===this._languageId&&(this._listener[sn.uri.toString()]=sn.onDidChangeContent(()=>{window.clearTimeout(Vn),Vn=window.setTimeout(()=>this._doValidate(sn.uri,yn),500)}),this._doValidate(sn.uri,yn))},Ht=(sn)=>{E.editor.setModelMarkers(sn,this._languageId,[]);let Vn=sn.uri.toString(),yn=this._listener[Vn];yn&&(yn.dispose(),delete this._listener[Vn])};this._disposables.push(E.editor.onDidCreateModel(Tt)),this._disposables.push(E.editor.onWillDisposeModel(Ht)),this._disposables.push(E.editor.onDidChangeModelLanguage((sn)=>{Ht(sn.model),Tt(sn.model)})),this._disposables.push(ut((sn)=>{E.editor.getModels().forEach((Vn)=>{Vn.getLanguageId()===this._languageId&&(Ht(Vn),Tt(Vn))})})),this._disposables.push({dispose:()=>{E.editor.getModels().forEach(Ht);for(let sn in this._listener)this._listener[sn].dispose()}}),E.editor.getModels().forEach(Tt)}dispose(){this._disposables.forEach((De)=>De&&De.dispose()),this._disposables.length=0}_doValidate(De,Ce){this._worker(De).then((ut)=>ut.doValidation(De.toString())).then((ut)=>{const Tt=ut.map((sn)=>function(Vn,yn){let qi=typeof yn.code=="number"?String(yn.code):yn.code;return{severity:Vt(yn.severity),startLineNumber:yn.range.start.line+1,startColumn:yn.range.start.character+1,endLineNumber:yn.range.end.line+1,endColumn:yn.range.end.character+1,message:yn.message,code:qi,source:yn.source}}(0,sn));let Ht=E.editor.getModel(De);Ht&&Ht.getLanguageId()===Ce&&E.editor.setModelMarkers(Ht,Ce,Tt)}).then(void 0,(ut)=>{console.error(ut)})}};function Vt(De){switch(De){case ve.Error:return E.MarkerSeverity.Error;case ve.Warning:return E.MarkerSeverity.Warning;case ve.Information:return E.MarkerSeverity.Info;case ve.Hint:return E.MarkerSeverity.Hint;default:return E.MarkerSeverity.Info}}var Cn=class{constructor(De,Ce){this._worker=De,this._triggerCharacters=Ce}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(De,Ce,ut,Tt){const Ht=De.uri;return this._worker(Ht).then((sn)=>sn.doComplete(Ht.toString(),dn(Ce))).then((sn)=>{if(!sn)return;const Vn=De.getWordUntilPosition(Ce),yn=new E.Range(Ce.lineNumber,Vn.startColumn,Ce.lineNumber,Vn.endColumn),qi=sn.items.map((ki)=>{const ur={label:ki.label,insertText:ki.insertText||ki.label,sortText:ki.sortText,filterText:ki.filterText,documentation:ki.documentation,detail:ki.detail,command:(Vr=ki.command,Vr&&Vr.command==="editor.action.triggerSuggest"?{id:Vr.command,title:Vr.title,arguments:Vr.arguments}:void 0),range:yn,kind:on(ki.kind)};var Vr,Fo;return ki.textEdit&&((Fo=ki.textEdit).insert!==void 0&&Fo.replace!==void 0?ur.range={insert:Lt(ki.textEdit.insert),replace:Lt(ki.textEdit.replace)}:ur.range=Lt(ki.textEdit.range),ur.insertText=ki.textEdit.newText),ki.additionalTextEdits&&(ur.additionalTextEdits=ki.additionalTextEdits.map(ln)),ki.insertTextFormat===Bn.Snippet&&(ur.insertTextRules=E.languages.CompletionItemInsertTextRule.InsertAsSnippet),ur});return{isIncomplete:sn.isIncomplete,suggestions:qi}})}};function dn(De){if(De)return{character:De.column-1,line:De.lineNumber-1}}function St(De){if(De)return{start:{line:De.startLineNumber-1,character:De.startColumn-1},end:{line:De.endLineNumber-1,character:De.endColumn-1}}}function Lt(De){if(De)return new E.Range(De.start.line+1,De.start.character+1,De.end.line+1,De.end.character+1)}function on(De){const Ce=E.languages.CompletionItemKind;switch(De){case Sn.Text:return Ce.Text;case Sn.Method:return Ce.Method;case Sn.Function:return Ce.Function;case Sn.Constructor:return Ce.Constructor;case Sn.Field:return Ce.Field;case Sn.Variable:return Ce.Variable;case Sn.Class:return Ce.Class;case Sn.Interface:return Ce.Interface;case Sn.Module:return Ce.Module;case Sn.Property:return Ce.Property;case Sn.Unit:return Ce.Unit;case Sn.Value:return Ce.Value;case Sn.Enum:return Ce.Enum;case Sn.Keyword:return Ce.Keyword;case Sn.Snippet:return Ce.Snippet;case Sn.Color:return Ce.Color;case Sn.File:return Ce.File;case Sn.Reference:return Ce.Reference}return Ce.Property}function ln(De){if(De)return{range:Lt(De.range),text:De.newText}}var Dn=class{constructor(De){this._worker=De}provideHover(De,Ce,ut){let Tt=De.uri;return this._worker(Tt).then((Ht)=>Ht.doHover(Tt.toString(),dn(Ce))).then((Ht)=>{if(Ht)return{range:Lt(Ht.range),contents:$n(Ht.contents)}})}};function vn(De){return typeof De=="string"?{value:De}:(Ce=De)&&typeof Ce=="object"&&typeof Ce.kind=="string"?De.kind==="plaintext"?{value:De.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:De.value}:{value:"```"+De.language+"\n"+De.value+"\n```\n"};var Ce}function $n(De){if(De)return Array.isArray(De)?De.map(vn):[vn(De)]}var Un=class{constructor(De){this._worker=De}provideDocumentHighlights(De,Ce,ut){const Tt=De.uri;return this._worker(Tt).then((Ht)=>Ht.findDocumentHighlights(Tt.toString(),dn(Ce))).then((Ht)=>{if(Ht)return Ht.map((sn)=>({range:Lt(sn.range),kind:Fn(sn.kind)}))})}};function Fn(De){switch(De){case tr.Read:return E.languages.DocumentHighlightKind.Read;case tr.Write:return E.languages.DocumentHighlightKind.Write;case tr.Text:return E.languages.DocumentHighlightKind.Text}return E.languages.DocumentHighlightKind.Text}var fn=class{constructor(De){this._worker=De}provideDefinition(De,Ce,ut){const Tt=De.uri;return this._worker(Tt).then((Ht)=>Ht.findDefinition(Tt.toString(),dn(Ce))).then((Ht)=>{if(Ht)return[Qn(Ht)]})}};function Qn(De){return{uri:E.Uri.parse(De.uri),range:Lt(De.range)}}var N=class{constructor(De){this._worker=De}provideReferences(De,Ce,ut,Tt){const Ht=De.uri;return this._worker(Ht).then((sn)=>sn.findReferences(Ht.toString(),dn(Ce))).then((sn)=>{if(sn)return sn.map(Qn)})}},Z=class{constructor(De){this._worker=De}provideRenameEdits(De,Ce,ut,Tt){const Ht=De.uri;return this._worker(Ht).then((sn)=>sn.doRename(Ht.toString(),dn(Ce),ut)).then((sn)=>function(Vn){if(!Vn||!Vn.changes)return;let yn=[];for(let qi in Vn.changes){const ki=E.Uri.parse(qi);for(let ur of Vn.changes[qi])yn.push({resource:ki,versionId:void 0,textEdit:{range:Lt(ur.range),text:ur.newText}})}return{edits:yn}}(sn))}},j=class{constructor(De){this._worker=De}provideDocumentSymbols(De,Ce){const ut=De.uri;return this._worker(ut).then((Tt)=>Tt.findDocumentSymbols(ut.toString())).then((Tt)=>{if(Tt)return Tt.map((Ht)=>("children"in Ht)?_e(Ht):{name:Ht.name,detail:"",containerName:Ht.containerName,kind:Ne(Ht.kind),range:Lt(Ht.location.range),selectionRange:Lt(Ht.location.range),tags:[]})})}};function _e(De){return{name:De.name,detail:De.detail??"",kind:Ne(De.kind),range:Lt(De.range),selectionRange:Lt(De.selectionRange),tags:De.tags??[],children:(De.children??[]).map((Ce)=>_e(Ce))}}function Ne(De){let Ce=E.languages.SymbolKind;switch(De){case un.File:return Ce.File;case un.Module:return Ce.Module;case un.Namespace:return Ce.Namespace;case un.Package:return Ce.Package;case un.Class:return Ce.Class;case un.Method:return Ce.Method;case un.Property:return Ce.Property;case un.Field:return Ce.Field;case un.Constructor:return Ce.Constructor;case un.Enum:return Ce.Enum;case un.Interface:return Ce.Interface;case un.Function:return Ce.Function;case un.Variable:return Ce.Variable;case un.Constant:return Ce.Constant;case un.String:return Ce.String;case un.Number:return Ce.Number;case un.Boolean:return Ce.Boolean;case un.Array:return Ce.Array}return Ce.Function}var Oe=class{constructor(De){this._worker=De}provideLinks(De,Ce){const ut=De.uri;return this._worker(ut).then((Tt)=>Tt.findDocumentLinks(ut.toString())).then((Tt)=>{if(Tt)return{links:Tt.map((Ht)=>({range:Lt(Ht.range),url:Ht.target}))}})}},Ke=class{constructor(De){this._worker=De}provideDocumentFormattingEdits(De,Ce,ut){const Tt=De.uri;return this._worker(Tt).then((Ht)=>Ht.format(Tt.toString(),null,kt(Ce)).then((sn)=>{if(sn&&sn.length!==0)return sn.map(ln)}))}},wt=class{constructor(De){this._worker=De,this.canFormatMultipleRanges=!1}provideDocumentRangeFormattingEdits(De,Ce,ut,Tt){const Ht=De.uri;return this._worker(Ht).then((sn)=>sn.format(Ht.toString(),St(Ce),kt(ut)).then((Vn)=>{if(Vn&&Vn.length!==0)return Vn.map(ln)}))}};function kt(De){return{tabSize:De.tabSize,insertSpaces:De.insertSpaces}}var Et=class{constructor(De){this._worker=De}provideDocumentColors(De,Ce){const ut=De.uri;return this._worker(ut).then((Tt)=>Tt.findDocumentColors(ut.toString())).then((Tt)=>{if(Tt)return Tt.map((Ht)=>({color:Ht.color,range:Lt(Ht.range)}))})}provideColorPresentations(De,Ce,ut){const Tt=De.uri;return this._worker(Tt).then((Ht)=>Ht.getColorPresentations(Tt.toString(),Ce.color,St(Ce.range))).then((Ht)=>{if(Ht)return Ht.map((sn)=>{let Vn={label:sn.label};return sn.textEdit&&(Vn.textEdit=ln(sn.textEdit)),sn.additionalTextEdits&&(Vn.additionalTextEdits=sn.additionalTextEdits.map(ln)),Vn})})}},st=class{constructor(De){this._worker=De}provideFoldingRanges(De,Ce,ut){const Tt=De.uri;return this._worker(Tt).then((Ht)=>Ht.getFoldingRanges(Tt.toString(),Ce)).then((Ht)=>{if(Ht)return Ht.map((sn)=>{const Vn={start:sn.startLine+1,end:sn.endLine+1};return sn.kind!==void 0&&(Vn.kind=function(yn){switch(yn){case ie.Comment:return E.languages.FoldingRangeKind.Comment;case ie.Imports:return E.languages.FoldingRangeKind.Imports;case ie.Region:return E.languages.FoldingRangeKind.Region}}(sn.kind)),Vn})})}},Bt=class{constructor(De){this._worker=De}provideSelectionRanges(De,Ce,ut){const Tt=De.uri;return this._worker(Tt).then((Ht)=>Ht.getSelectionRanges(Tt.toString(),Ce.map(dn))).then((Ht)=>{if(Ht)return Ht.map((sn)=>{const Vn=[];for(;sn;)Vn.push({range:Lt(sn.range)}),sn=sn.parent;return Vn})})}},Rt=class extends Cn{constructor(De){super(De,[".",":","<",'"',"=","/"])}};function en(De){const Ce=new bt(De),ut=(...Ht)=>Ce.getLanguageServiceWorker(...Ht);let Tt=De.languageId;E.languages.registerCompletionItemProvider(Tt,new Rt(ut)),E.languages.registerHoverProvider(Tt,new Dn(ut)),E.languages.registerDocumentHighlightProvider(Tt,new Un(ut)),E.languages.registerLinkProvider(Tt,new Oe(ut)),E.languages.registerFoldingRangeProvider(Tt,new st(ut)),E.languages.registerDocumentSymbolProvider(Tt,new j(ut)),E.languages.registerSelectionRangeProvider(Tt,new Bt(ut)),E.languages.registerRenameProvider(Tt,new Z(ut)),Tt==="html"&&(E.languages.registerDocumentFormattingEditProvider(Tt,new Ke(ut)),E.languages.registerDocumentRangeFormattingEditProvider(Tt,new wt(ut)))}function hn(De){const Ce=[],ut=[],Tt=new bt(De);Ce.push(Tt);const Ht=(...sn)=>Tt.getLanguageServiceWorker(...sn);return function(){const{languageId:sn,modeConfiguration:Vn}=De;ze(ut),Vn.completionItems&&ut.push(E.languages.registerCompletionItemProvider(sn,new Rt(Ht))),Vn.hovers&&ut.push(E.languages.registerHoverProvider(sn,new Dn(Ht))),Vn.documentHighlights&&ut.push(E.languages.registerDocumentHighlightProvider(sn,new Un(Ht))),Vn.links&&ut.push(E.languages.registerLinkProvider(sn,new Oe(Ht))),Vn.documentSymbols&&ut.push(E.languages.registerDocumentSymbolProvider(sn,new j(Ht))),Vn.rename&&ut.push(E.languages.registerRenameProvider(sn,new Z(Ht))),Vn.foldingRanges&&ut.push(E.languages.registerFoldingRangeProvider(sn,new st(Ht))),Vn.selectionRanges&&ut.push(E.languages.registerSelectionRangeProvider(sn,new Bt(Ht))),Vn.documentFormattingEdits&&ut.push(E.languages.registerDocumentFormattingEditProvider(sn,new Ke(Ht))),Vn.documentRangeFormattingEdits&&ut.push(E.languages.registerDocumentRangeFormattingEditProvider(sn,new wt(Ht)))}(),Ce.push(je(ut)),je(Ce)}function je(De){return{dispose:()=>ze(De)}}function ze(De){for(;De.length;)De.pop().dispose()}},4839:(dt,pe,h)=>{h.r(pe),h.d(pe,{CompletionAdapter:()=>Cn,DefinitionAdapter:()=>fn,DiagnosticsAdapter:()=>Ot,DocumentColorAdapter:()=>Bt,DocumentFormattingEditProvider:()=>Ke,DocumentHighlightAdapter:()=>Un,DocumentLinkAdapter:()=>Oe,DocumentRangeFormattingEditProvider:()=>wt,DocumentSymbolAdapter:()=>j,FoldingRangeAdapter:()=>Rt,HoverAdapter:()=>Dn,ReferenceAdapter:()=>N,RenameAdapter:()=>Z,SelectionRangeAdapter:()=>en,WorkerManager:()=>bt,fromPosition:()=>dn,fromRange:()=>St,getWorker:()=>_o,setupMode:()=>fs,toRange:()=>Lt,toTextEdit:()=>ln});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(et,Xe,Yt,Ut)=>{if(Xe&&typeof Xe=="object"||typeof Xe=="function")for(let zn of J(Xe))M.call(et,zn)||zn===Yt||I(et,zn,{get:()=>Xe[zn],enumerable:!(Ut=T(Xe,zn))||Ut.enumerable});return et},E={};v(E,s,"default");var w,C,d,f,p,_,m,b,x,k,R,P,z,te,L,W,B,U,$,G,ie,ee,ne,H,V,Y,ve,Te,xe,Be,Ie,he,Q,re,Je,Se,Pe,Le,Ve,g,ge,We,de,be,ae,O,Ue,Ye,Fe,oe,rt,lt,ye,pt,Mt,Zt,jt,xn,nn,gn,pn,rn,Sn,Mn,Bn,wi,Mi,Oi,En,li,si,ti,Ln,Xn,xi,Ni,Ii,er,Zi,tr,rr,yi,un,ft,Yn,Nt,Ci,Hn,Xt,pi,Ji,Gi,dr,Ui,Xi,Pi,ar,Hi,or,Yi,_t,Kt,tn,In,mn,wn,An,fi,qn,oi,Ai,nr,$i,ji,di,Qi,wr,ht,xt,se,Ae,He,mt,At,zt,Pt,Wt,Nn,bn,Jn,$e,tt,gt,bt=class{constructor(et){this._defaults=et,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30000),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>120000&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=E.editor.createWebWorker({moduleId:"vs/language/json/jsonWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest}}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...et){let Xe;return this._getClient().then((Yt)=>{Xe=Yt}).then((Yt)=>{if(this._worker)return this._worker.withSyncedResources(et)}).then((Yt)=>Xe)}};(w||(w={})).is=function(et){return typeof et=="string"},(C||(C={})).is=function(et){return typeof et=="string"},(f=d||(d={})).MIN_VALUE=-2147483648,f.MAX_VALUE=2147483647,f.is=function(et){return typeof et=="number"&&f.MIN_VALUE<=et&&et<=f.MAX_VALUE},(_=p||(p={})).MIN_VALUE=0,_.MAX_VALUE=2147483647,_.is=function(et){return typeof et=="number"&&_.MIN_VALUE<=et&&et<=_.MAX_VALUE},(b=m||(m={})).create=function(et,Xe){return et===Number.MAX_VALUE&&(et=p.MAX_VALUE),Xe===Number.MAX_VALUE&&(Xe=p.MAX_VALUE),{line:et,character:Xe}},b.is=function(et){let Xe=et;return ke.objectLiteral(Xe)&&ke.uinteger(Xe.line)&&ke.uinteger(Xe.character)},(k=x||(x={})).create=function(et,Xe,Yt,Ut){if(ke.uinteger(et)&&ke.uinteger(Xe)&&ke.uinteger(Yt)&&ke.uinteger(Ut))return{start:m.create(et,Xe),end:m.create(Yt,Ut)};if(m.is(et)&&m.is(Xe))return{start:et,end:Xe};throw new Error(`Range#create called with invalid arguments[${et}, ${Xe}, ${Yt}, ${Ut}]`)},k.is=function(et){let Xe=et;return ke.objectLiteral(Xe)&&m.is(Xe.start)&&m.is(Xe.end)},(P=R||(R={})).create=function(et,Xe){return{uri:et,range:Xe}},P.is=function(et){let Xe=et;return ke.objectLiteral(Xe)&&x.is(Xe.range)&&(ke.string(Xe.uri)||ke.undefined(Xe.uri))},(te=z||(z={})).create=function(et,Xe,Yt,Ut){return{targetUri:et,targetRange:Xe,targetSelectionRange:Yt,originSelectionRange:Ut}},te.is=function(et){let Xe=et;return ke.objectLiteral(Xe)&&x.is(Xe.targetRange)&&ke.string(Xe.targetUri)&&x.is(Xe.targetSelectionRange)&&(x.is(Xe.originSelectionRange)||ke.undefined(Xe.originSelectionRange))},(W=L||(L={})).create=function(et,Xe,Yt,Ut){return{red:et,green:Xe,blue:Yt,alpha:Ut}},W.is=function(et){const Xe=et;return ke.objectLiteral(Xe)&&ke.numberRange(Xe.red,0,1)&&ke.numberRange(Xe.green,0,1)&&ke.numberRange(Xe.blue,0,1)&&ke.numberRange(Xe.alpha,0,1)},(U=B||(B={})).create=function(et,Xe){return{range:et,color:Xe}},U.is=function(et){const Xe=et;return ke.objectLiteral(Xe)&&x.is(Xe.range)&&L.is(Xe.color)},(G=$||($={})).create=function(et,Xe,Yt){return{label:et,textEdit:Xe,additionalTextEdits:Yt}},G.is=function(et){const Xe=et;return ke.objectLiteral(Xe)&&ke.string(Xe.label)&&(ke.undefined(Xe.textEdit)||Se.is(Xe))&&(ke.undefined(Xe.additionalTextEdits)||ke.typedArray(Xe.additionalTextEdits,Se.is))},(ee=ie||(ie={})).Comment="comment",ee.Imports="imports",ee.Region="region",(H=ne||(ne={})).create=function(et,Xe,Yt,Ut,zn,Wn){const ei={startLine:et,endLine:Xe};return ke.defined(Yt)&&(ei.startCharacter=Yt),ke.defined(Ut)&&(ei.endCharacter=Ut),ke.defined(zn)&&(ei.kind=zn),ke.defined(Wn)&&(ei.collapsedText=Wn),ei},H.is=function(et){const Xe=et;return ke.objectLiteral(Xe)&&ke.uinteger(Xe.startLine)&&ke.uinteger(Xe.startLine)&&(ke.undefined(Xe.startCharacter)||ke.uinteger(Xe.startCharacter))&&(ke.undefined(Xe.endCharacter)||ke.uinteger(Xe.endCharacter))&&(ke.undefined(Xe.kind)||ke.string(Xe.kind))},(Y=V||(V={})).create=function(et,Xe){return{location:et,message:Xe}},Y.is=function(et){let Xe=et;return ke.defined(Xe)&&R.is(Xe.location)&&ke.string(Xe.message)},(Te=ve||(ve={})).Error=1,Te.Warning=2,Te.Information=3,Te.Hint=4,(Be=xe||(xe={})).Unnecessary=1,Be.Deprecated=2,(Ie||(Ie={})).is=function(et){const Xe=et;return ke.objectLiteral(Xe)&&ke.string(Xe.href)},(Q=he||(he={})).create=function(et,Xe,Yt,Ut,zn,Wn){let ei={range:et,message:Xe};return ke.defined(Yt)&&(ei.severity=Yt),ke.defined(Ut)&&(ei.code=Ut),ke.defined(zn)&&(ei.source=zn),ke.defined(Wn)&&(ei.relatedInformation=Wn),ei},Q.is=function(et){var Xe;let Yt=et;return ke.defined(Yt)&&x.is(Yt.range)&&ke.string(Yt.message)&&(ke.number(Yt.severity)||ke.undefined(Yt.severity))&&(ke.integer(Yt.code)||ke.string(Yt.code)||ke.undefined(Yt.code))&&(ke.undefined(Yt.codeDescription)||ke.string((Xe=Yt.codeDescription)===null||Xe===void 0?void 0:Xe.href))&&(ke.string(Yt.source)||ke.undefined(Yt.source))&&(ke.undefined(Yt.relatedInformation)||ke.typedArray(Yt.relatedInformation,V.is))},(Je=re||(re={})).create=function(et,Xe,...Yt){let Ut={title:et,command:Xe};return ke.defined(Yt)&&Yt.length>0&&(Ut.arguments=Yt),Ut},Je.is=function(et){let Xe=et;return ke.defined(Xe)&&ke.string(Xe.title)&&ke.string(Xe.command)},(Pe=Se||(Se={})).replace=function(et,Xe){return{range:et,newText:Xe}},Pe.insert=function(et,Xe){return{range:{start:et,end:et},newText:Xe}},Pe.del=function(et){return{range:et,newText:""}},Pe.is=function(et){const Xe=et;return ke.objectLiteral(Xe)&&ke.string(Xe.newText)&&x.is(Xe.range)},(Ve=Le||(Le={})).create=function(et,Xe,Yt){const Ut={label:et};return Xe!==void 0&&(Ut.needsConfirmation=Xe),Yt!==void 0&&(Ut.description=Yt),Ut},Ve.is=function(et){const Xe=et;return ke.objectLiteral(Xe)&&ke.string(Xe.label)&&(ke.boolean(Xe.needsConfirmation)||Xe.needsConfirmation===void 0)&&(ke.string(Xe.description)||Xe.description===void 0)},(g||(g={})).is=function(et){const Xe=et;return ke.string(Xe)},(We=ge||(ge={})).replace=function(et,Xe,Yt){return{range:et,newText:Xe,annotationId:Yt}},We.insert=function(et,Xe,Yt){return{range:{start:et,end:et},newText:Xe,annotationId:Yt}},We.del=function(et,Xe){return{range:et,newText:"",annotationId:Xe}},We.is=function(et){const Xe=et;return Se.is(Xe)&&(Le.is(Xe.annotationId)||g.is(Xe.annotationId))},(be=de||(de={})).create=function(et,Xe){return{textDocument:et,edits:Xe}},be.is=function(et){let Xe=et;return ke.defined(Xe)&&Zt.is(Xe.textDocument)&&Array.isArray(Xe.edits)},(O=ae||(ae={})).create=function(et,Xe,Yt){let Ut={kind:"create",uri:et};return Xe===void 0||Xe.overwrite===void 0&&Xe.ignoreIfExists===void 0||(Ut.options=Xe),Yt!==void 0&&(Ut.annotationId=Yt),Ut},O.is=function(et){let Xe=et;return Xe&&Xe.kind==="create"&&ke.string(Xe.uri)&&(Xe.options===void 0||(Xe.options.overwrite===void 0||ke.boolean(Xe.options.overwrite))&&(Xe.options.ignoreIfExists===void 0||ke.boolean(Xe.options.ignoreIfExists)))&&(Xe.annotationId===void 0||g.is(Xe.annotationId))},(Ye=Ue||(Ue={})).create=function(et,Xe,Yt,Ut){let zn={kind:"rename",oldUri:et,newUri:Xe};return Yt===void 0||Yt.overwrite===void 0&&Yt.ignoreIfExists===void 0||(zn.options=Yt),Ut!==void 0&&(zn.annotationId=Ut),zn},Ye.is=function(et){let Xe=et;return Xe&&Xe.kind==="rename"&&ke.string(Xe.oldUri)&&ke.string(Xe.newUri)&&(Xe.options===void 0||(Xe.options.overwrite===void 0||ke.boolean(Xe.options.overwrite))&&(Xe.options.ignoreIfExists===void 0||ke.boolean(Xe.options.ignoreIfExists)))&&(Xe.annotationId===void 0||g.is(Xe.annotationId))},(oe=Fe||(Fe={})).create=function(et,Xe,Yt){let Ut={kind:"delete",uri:et};return Xe===void 0||Xe.recursive===void 0&&Xe.ignoreIfNotExists===void 0||(Ut.options=Xe),Yt!==void 0&&(Ut.annotationId=Yt),Ut},oe.is=function(et){let Xe=et;return Xe&&Xe.kind==="delete"&&ke.string(Xe.uri)&&(Xe.options===void 0||(Xe.options.recursive===void 0||ke.boolean(Xe.options.recursive))&&(Xe.options.ignoreIfNotExists===void 0||ke.boolean(Xe.options.ignoreIfNotExists)))&&(Xe.annotationId===void 0||g.is(Xe.annotationId))},(rt||(rt={})).is=function(et){let Xe=et;return Xe&&(Xe.changes!==void 0||Xe.documentChanges!==void 0)&&(Xe.documentChanges===void 0||Xe.documentChanges.every((Yt)=>ke.string(Yt.kind)?ae.is(Yt)||Ue.is(Yt)||Fe.is(Yt):de.is(Yt)))},(ye=lt||(lt={})).create=function(et){return{uri:et}},ye.is=function(et){let Xe=et;return ke.defined(Xe)&&ke.string(Xe.uri)},(Mt=pt||(pt={})).create=function(et,Xe){return{uri:et,version:Xe}},Mt.is=function(et){let Xe=et;return ke.defined(Xe)&&ke.string(Xe.uri)&&ke.integer(Xe.version)},(jt=Zt||(Zt={})).create=function(et,Xe){return{uri:et,version:Xe}},jt.is=function(et){let Xe=et;return ke.defined(Xe)&&ke.string(Xe.uri)&&(Xe.version===null||ke.integer(Xe.version))},(nn=xn||(xn={})).create=function(et,Xe,Yt,Ut){return{uri:et,languageId:Xe,version:Yt,text:Ut}},nn.is=function(et){let Xe=et;return ke.defined(Xe)&&ke.string(Xe.uri)&&ke.string(Xe.languageId)&&ke.integer(Xe.version)&&ke.string(Xe.text)},(pn=gn||(gn={})).PlainText="plaintext",pn.Markdown="markdown",pn.is=function(et){const Xe=et;return Xe===pn.PlainText||Xe===pn.Markdown},(rn||(rn={})).is=function(et){const Xe=et;return ke.objectLiteral(et)&&gn.is(Xe.kind)&&ke.string(Xe.value)},(Mn=Sn||(Sn={})).Text=1,Mn.Method=2,Mn.Function=3,Mn.Constructor=4,Mn.Field=5,Mn.Variable=6,Mn.Class=7,Mn.Interface=8,Mn.Module=9,Mn.Property=10,Mn.Unit=11,Mn.Value=12,Mn.Enum=13,Mn.Keyword=14,Mn.Snippet=15,Mn.Color=16,Mn.File=17,Mn.Reference=18,Mn.Folder=19,Mn.EnumMember=20,Mn.Constant=21,Mn.Struct=22,Mn.Event=23,Mn.Operator=24,Mn.TypeParameter=25,(wi=Bn||(Bn={})).PlainText=1,wi.Snippet=2,(Mi||(Mi={})).Deprecated=1,(En=Oi||(Oi={})).create=function(et,Xe,Yt){return{newText:et,insert:Xe,replace:Yt}},En.is=function(et){const Xe=et;return Xe&&ke.string(Xe.newText)&&x.is(Xe.insert)&&x.is(Xe.replace)},(si=li||(li={})).asIs=1,si.adjustIndentation=2,(ti||(ti={})).is=function(et){const Xe=et;return Xe&&(ke.string(Xe.detail)||Xe.detail===void 0)&&(ke.string(Xe.description)||Xe.description===void 0)},(Ln||(Ln={})).create=function(et){return{label:et}},(Xn||(Xn={})).create=function(et,Xe){return{items:et||[],isIncomplete:!!Xe}},(Ni=xi||(xi={})).fromPlainText=function(et){return et.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},Ni.is=function(et){const Xe=et;return ke.string(Xe)||ke.objectLiteral(Xe)&&ke.string(Xe.language)&&ke.string(Xe.value)},(Ii||(Ii={})).is=function(et){let Xe=et;return!!Xe&&ke.objectLiteral(Xe)&&(rn.is(Xe.contents)||xi.is(Xe.contents)||ke.typedArray(Xe.contents,xi.is))&&(et.range===void 0||x.is(et.range))},(er||(er={})).create=function(et,Xe){return Xe?{label:et,documentation:Xe}:{label:et}},(Zi||(Zi={})).create=function(et,Xe,...Yt){let Ut={label:et};return ke.defined(Xe)&&(Ut.documentation=Xe),ke.defined(Yt)?Ut.parameters=Yt:Ut.parameters=[],Ut},(rr=tr||(tr={})).Text=1,rr.Read=2,rr.Write=3,(yi||(yi={})).create=function(et,Xe){let Yt={range:et};return ke.number(Xe)&&(Yt.kind=Xe),Yt},(ft=un||(un={})).File=1,ft.Module=2,ft.Namespace=3,ft.Package=4,ft.Class=5,ft.Method=6,ft.Property=7,ft.Field=8,ft.Constructor=9,ft.Enum=10,ft.Interface=11,ft.Function=12,ft.Variable=13,ft.Constant=14,ft.String=15,ft.Number=16,ft.Boolean=17,ft.Array=18,ft.Object=19,ft.Key=20,ft.Null=21,ft.EnumMember=22,ft.Struct=23,ft.Event=24,ft.Operator=25,ft.TypeParameter=26,(Yn||(Yn={})).Deprecated=1,(Nt||(Nt={})).create=function(et,Xe,Yt,Ut,zn){let Wn={name:et,kind:Xe,location:{uri:Ut,range:Yt}};return zn&&(Wn.containerName=zn),Wn},(Ci||(Ci={})).create=function(et,Xe,Yt,Ut){return Ut!==void 0?{name:et,kind:Xe,location:{uri:Yt,range:Ut}}:{name:et,kind:Xe,location:{uri:Yt}}},(Xt=Hn||(Hn={})).create=function(et,Xe,Yt,Ut,zn,Wn){let ei={name:et,detail:Xe,kind:Yt,range:Ut,selectionRange:zn};return Wn!==void 0&&(ei.children=Wn),ei},Xt.is=function(et){let Xe=et;return Xe&&ke.string(Xe.name)&&ke.number(Xe.kind)&&x.is(Xe.range)&&x.is(Xe.selectionRange)&&(Xe.detail===void 0||ke.string(Xe.detail))&&(Xe.deprecated===void 0||ke.boolean(Xe.deprecated))&&(Xe.children===void 0||Array.isArray(Xe.children))&&(Xe.tags===void 0||Array.isArray(Xe.tags))},(Ji=pi||(pi={})).Empty="",Ji.QuickFix="quickfix",Ji.Refactor="refactor",Ji.RefactorExtract="refactor.extract",Ji.RefactorInline="refactor.inline",Ji.RefactorRewrite="refactor.rewrite",Ji.Source="source",Ji.SourceOrganizeImports="source.organizeImports",Ji.SourceFixAll="source.fixAll",(dr=Gi||(Gi={})).Invoked=1,dr.Automatic=2,(Xi=Ui||(Ui={})).create=function(et,Xe,Yt){let Ut={diagnostics:et};return Xe!=null&&(Ut.only=Xe),Yt!=null&&(Ut.triggerKind=Yt),Ut},Xi.is=function(et){let Xe=et;return ke.defined(Xe)&&ke.typedArray(Xe.diagnostics,he.is)&&(Xe.only===void 0||ke.typedArray(Xe.only,ke.string))&&(Xe.triggerKind===void 0||Xe.triggerKind===Gi.Invoked||Xe.triggerKind===Gi.Automatic)},(ar=Pi||(Pi={})).create=function(et,Xe,Yt){let Ut={title:et},zn=!0;return typeof Xe=="string"?(zn=!1,Ut.kind=Xe):re.is(Xe)?Ut.command=Xe:Ut.edit=Xe,zn&&Yt!==void 0&&(Ut.kind=Yt),Ut},ar.is=function(et){let Xe=et;return Xe&&ke.string(Xe.title)&&(Xe.diagnostics===void 0||ke.typedArray(Xe.diagnostics,he.is))&&(Xe.kind===void 0||ke.string(Xe.kind))&&(Xe.edit!==void 0||Xe.command!==void 0)&&(Xe.command===void 0||re.is(Xe.command))&&(Xe.isPreferred===void 0||ke.boolean(Xe.isPreferred))&&(Xe.edit===void 0||rt.is(Xe.edit))},(or=Hi||(Hi={})).create=function(et,Xe){let Yt={range:et};return ke.defined(Xe)&&(Yt.data=Xe),Yt},or.is=function(et){let Xe=et;return ke.defined(Xe)&&x.is(Xe.range)&&(ke.undefined(Xe.command)||re.is(Xe.command))},(_t=Yi||(Yi={})).create=function(et,Xe){return{tabSize:et,insertSpaces:Xe}},_t.is=function(et){let Xe=et;return ke.defined(Xe)&&ke.uinteger(Xe.tabSize)&&ke.boolean(Xe.insertSpaces)},(tn=Kt||(Kt={})).create=function(et,Xe,Yt){return{range:et,target:Xe,data:Yt}},tn.is=function(et){let Xe=et;return ke.defined(Xe)&&x.is(Xe.range)&&(ke.undefined(Xe.target)||ke.string(Xe.target))},(mn=In||(In={})).create=function(et,Xe){return{range:et,parent:Xe}},mn.is=function(et){let Xe=et;return ke.objectLiteral(Xe)&&x.is(Xe.range)&&(Xe.parent===void 0||mn.is(Xe.parent))},(An=wn||(wn={})).namespace="namespace",An.type="type",An.class="class",An.enum="enum",An.interface="interface",An.struct="struct",An.typeParameter="typeParameter",An.parameter="parameter",An.variable="variable",An.property="property",An.enumMember="enumMember",An.event="event",An.function="function",An.method="method",An.macro="macro",An.keyword="keyword",An.modifier="modifier",An.comment="comment",An.string="string",An.number="number",An.regexp="regexp",An.operator="operator",An.decorator="decorator",(qn=fi||(fi={})).declaration="declaration",qn.definition="definition",qn.readonly="readonly",qn.static="static",qn.deprecated="deprecated",qn.abstract="abstract",qn.async="async",qn.modification="modification",qn.documentation="documentation",qn.defaultLibrary="defaultLibrary",(oi||(oi={})).is=function(et){const Xe=et;return ke.objectLiteral(Xe)&&(Xe.resultId===void 0||typeof Xe.resultId=="string")&&Array.isArray(Xe.data)&&(Xe.data.length===0||typeof Xe.data[0]=="number")},(nr=Ai||(Ai={})).create=function(et,Xe){return{range:et,text:Xe}},nr.is=function(et){const Xe=et;return Xe!=null&&x.is(Xe.range)&&ke.string(Xe.text)},(ji=$i||($i={})).create=function(et,Xe,Yt){return{range:et,variableName:Xe,caseSensitiveLookup:Yt}},ji.is=function(et){const Xe=et;return Xe!=null&&x.is(Xe.range)&&ke.boolean(Xe.caseSensitiveLookup)&&(ke.string(Xe.variableName)||Xe.variableName===void 0)},(Qi=di||(di={})).create=function(et,Xe){return{range:et,expression:Xe}},Qi.is=function(et){const Xe=et;return Xe!=null&&x.is(Xe.range)&&(ke.string(Xe.expression)||Xe.expression===void 0)},(ht=wr||(wr={})).create=function(et,Xe){return{frameId:et,stoppedLocation:Xe}},ht.is=function(et){const Xe=et;return ke.defined(Xe)&&x.is(et.stoppedLocation)},(se=xt||(xt={})).Type=1,se.Parameter=2,se.is=function(et){return et===1||et===2},(He=Ae||(Ae={})).create=function(et){return{value:et}},He.is=function(et){const Xe=et;return ke.objectLiteral(Xe)&&(Xe.tooltip===void 0||ke.string(Xe.tooltip)||rn.is(Xe.tooltip))&&(Xe.location===void 0||R.is(Xe.location))&&(Xe.command===void 0||re.is(Xe.command))},(At=mt||(mt={})).create=function(et,Xe,Yt){const Ut={position:et,label:Xe};return Yt!==void 0&&(Ut.kind=Yt),Ut},At.is=function(et){const Xe=et;return ke.objectLiteral(Xe)&&m.is(Xe.position)&&(ke.string(Xe.label)||ke.typedArray(Xe.label,Ae.is))&&(Xe.kind===void 0||xt.is(Xe.kind))&&Xe.textEdits===void 0||ke.typedArray(Xe.textEdits,Se.is)&&(Xe.tooltip===void 0||ke.string(Xe.tooltip)||rn.is(Xe.tooltip))&&(Xe.paddingLeft===void 0||ke.boolean(Xe.paddingLeft))&&(Xe.paddingRight===void 0||ke.boolean(Xe.paddingRight))},(zt||(zt={})).createSnippet=function(et){return{kind:"snippet",value:et}},(Pt||(Pt={})).create=function(et,Xe,Yt,Ut){return{insertText:et,filterText:Xe,range:Yt,command:Ut}},(Wt||(Wt={})).create=function(et){return{items:et}},(bn=Nn||(Nn={})).Invoked=0,bn.Automatic=1,(Jn||(Jn={})).create=function(et,Xe){return{range:et,text:Xe}},($e||($e={})).create=function(et,Xe){return{triggerKind:et,selectedCompletionInfo:Xe}},(tt||(tt={})).is=function(et){const Xe=et;return ke.objectLiteral(Xe)&&C.is(Xe.uri)&&ke.string(Xe.name)},function(et){function Xe(Yt,Ut){if(Yt.length<=1)return Yt;const zn=Yt.length/2|0,Wn=Yt.slice(0,zn),ei=Yt.slice(zn);Xe(Wn,Ut),Xe(ei,Ut);let Fi=0,Ar=0,Di=0;for(;Fi<Wn.length&&Ar<ei.length;){let xr=Ut(Wn[Fi],ei[Ar]);Yt[Di++]=xr<=0?Wn[Fi++]:ei[Ar++]}for(;Fi<Wn.length;)Yt[Di++]=Wn[Fi++];for(;Ar<ei.length;)Yt[Di++]=ei[Ar++];return Yt}et.create=function(Yt,Ut,zn,Wn){return new qt(Yt,Ut,zn,Wn)},et.is=function(Yt){let Ut=Yt;return!!(ke.defined(Ut)&&ke.string(Ut.uri)&&(ke.undefined(Ut.languageId)||ke.string(Ut.languageId))&&ke.uinteger(Ut.lineCount)&&ke.func(Ut.getText)&&ke.func(Ut.positionAt)&&ke.func(Ut.offsetAt))},et.applyEdits=function(Yt,Ut){let zn=Yt.getText(),Wn=Xe(Ut,(Fi,Ar)=>{let Di=Fi.range.start.line-Ar.range.start.line;return Di===0?Fi.range.start.character-Ar.range.start.character:Di}),ei=zn.length;for(let Fi=Wn.length-1;Fi>=0;Fi--){let Ar=Wn[Fi],Di=Yt.offsetAt(Ar.range.start),xr=Yt.offsetAt(Ar.range.end);if(!(xr<=ei))throw new Error("Overlapping edit");zn=zn.substring(0,Di)+Ar.newText+zn.substring(xr,zn.length),ei=Di}return zn}}(gt||(gt={}));var ke,qt=class{constructor(et,Xe,Yt,Ut){this._uri=et,this._languageId=Xe,this._version=Yt,this._content=Ut,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(et){if(et){let Xe=this.offsetAt(et.start),Yt=this.offsetAt(et.end);return this._content.substring(Xe,Yt)}return this._content}update(et,Xe){this._content=et.text,this._version=Xe,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let et=[],Xe=this._content,Yt=!0;for(let Ut=0;Ut<Xe.length;Ut++){Yt&&(et.push(Ut),Yt=!1);let zn=Xe.charAt(Ut);Yt=zn==="\r"||zn==="\n",zn==="\r"&&Ut+1<Xe.length&&Xe.charAt(Ut+1)==="\n"&&Ut++}Yt&&Xe.length>0&&et.push(Xe.length),this._lineOffsets=et}return this._lineOffsets}positionAt(et){et=Math.max(Math.min(et,this._content.length),0);let Xe=this.getLineOffsets(),Yt=0,Ut=Xe.length;if(Ut===0)return m.create(0,et);for(;Yt<Ut;){let Wn=Math.floor((Yt+Ut)/2);Xe[Wn]>et?Ut=Wn:Yt=Wn+1}let zn=Yt-1;return m.create(zn,et-Xe[zn])}offsetAt(et){let Xe=this.getLineOffsets();if(et.line>=Xe.length)return this._content.length;if(et.line<0)return 0;let Yt=Xe[et.line],Ut=et.line+1<Xe.length?Xe[et.line+1]:this._content.length;return Math.max(Math.min(Yt+et.character,Ut),Yt)}get lineCount(){return this.getLineOffsets().length}};(function(et){const Xe=Object.prototype.toString;et.defined=function(Yt){return Yt!==void 0},et.undefined=function(Yt){return Yt===void 0},et.boolean=function(Yt){return Yt===!0||Yt===!1},et.string=function(Yt){return Xe.call(Yt)==="[object String]"},et.number=function(Yt){return Xe.call(Yt)==="[object Number]"},et.numberRange=function(Yt,Ut,zn){return Xe.call(Yt)==="[object Number]"&&Ut<=Yt&&Yt<=zn},et.integer=function(Yt){return Xe.call(Yt)==="[object Number]"&&-2147483648<=Yt&&Yt<=2147483647},et.uinteger=function(Yt){return Xe.call(Yt)==="[object Number]"&&0<=Yt&&Yt<=2147483647},et.func=function(Yt){return Xe.call(Yt)==="[object Function]"},et.objectLiteral=function(Yt){return Yt!==null&&typeof Yt=="object"},et.typedArray=function(Yt,Ut){return Array.isArray(Yt)&&Yt.every(Ut)}})(ke||(ke={}));var Ot=class{constructor(et,Xe,Yt){this._languageId=et,this._worker=Xe,this._disposables=[],this._listener=Object.create(null);const Ut=(Wn)=>{let ei,Fi=Wn.getLanguageId();Fi===this._languageId&&(this._listener[Wn.uri.toString()]=Wn.onDidChangeContent(()=>{window.clearTimeout(ei),ei=window.setTimeout(()=>this._doValidate(Wn.uri,Fi),500)}),this._doValidate(Wn.uri,Fi))},zn=(Wn)=>{E.editor.setModelMarkers(Wn,this._languageId,[]);let ei=Wn.uri.toString(),Fi=this._listener[ei];Fi&&(Fi.dispose(),delete this._listener[ei])};this._disposables.push(E.editor.onDidCreateModel(Ut)),this._disposables.push(E.editor.onWillDisposeModel(zn)),this._disposables.push(E.editor.onDidChangeModelLanguage((Wn)=>{zn(Wn.model),Ut(Wn.model)})),this._disposables.push(Yt((Wn)=>{E.editor.getModels().forEach((ei)=>{ei.getLanguageId()===this._languageId&&(zn(ei),Ut(ei))})})),this._disposables.push({dispose:()=>{E.editor.getModels().forEach(zn);for(let Wn in this._listener)this._listener[Wn].dispose()}}),E.editor.getModels().forEach(Ut)}dispose(){this._disposables.forEach((et)=>et&&et.dispose()),this._disposables.length=0}_doValidate(et,Xe){this._worker(et).then((Yt)=>Yt.doValidation(et.toString())).then((Yt)=>{const Ut=Yt.map((Wn)=>function(ei,Fi){let Ar=typeof Fi.code=="number"?String(Fi.code):Fi.code;return{severity:Vt(Fi.severity),startLineNumber:Fi.range.start.line+1,startColumn:Fi.range.start.character+1,endLineNumber:Fi.range.end.line+1,endColumn:Fi.range.end.character+1,message:Fi.message,code:Ar,source:Fi.source}}(0,Wn));let zn=E.editor.getModel(et);zn&&zn.getLanguageId()===Xe&&E.editor.setModelMarkers(zn,Xe,Ut)}).then(void 0,(Yt)=>{console.error(Yt)})}};function Vt(et){switch(et){case ve.Error:return E.MarkerSeverity.Error;case ve.Warning:return E.MarkerSeverity.Warning;case ve.Information:return E.MarkerSeverity.Info;case ve.Hint:return E.MarkerSeverity.Hint;default:return E.MarkerSeverity.Info}}var Cn=class{constructor(et,Xe){this._worker=et,this._triggerCharacters=Xe}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(et,Xe,Yt,Ut){const zn=et.uri;return this._worker(zn).then((Wn)=>Wn.doComplete(zn.toString(),dn(Xe))).then((Wn)=>{if(!Wn)return;const ei=et.getWordUntilPosition(Xe),Fi=new E.Range(Xe.lineNumber,ei.startColumn,Xe.lineNumber,ei.endColumn),Ar=Wn.items.map((Di)=>{const xr={label:Di.label,insertText:Di.insertText||Di.label,sortText:Di.sortText,filterText:Di.filterText,documentation:Di.documentation,detail:Di.detail,command:(Ri=Di.command,Ri&&Ri.command==="editor.action.triggerSuggest"?{id:Ri.command,title:Ri.title,arguments:Ri.arguments}:void 0),range:Fi,kind:on(Di.kind)};var Ri,Rr;return Di.textEdit&&((Rr=Di.textEdit).insert!==void 0&&Rr.replace!==void 0?xr.range={insert:Lt(Di.textEdit.insert),replace:Lt(Di.textEdit.replace)}:xr.range=Lt(Di.textEdit.range),xr.insertText=Di.textEdit.newText),Di.additionalTextEdits&&(xr.additionalTextEdits=Di.additionalTextEdits.map(ln)),Di.insertTextFormat===Bn.Snippet&&(xr.insertTextRules=E.languages.CompletionItemInsertTextRule.InsertAsSnippet),xr});return{isIncomplete:Wn.isIncomplete,suggestions:Ar}})}};function dn(et){if(et)return{character:et.column-1,line:et.lineNumber-1}}function St(et){if(et)return{start:{line:et.startLineNumber-1,character:et.startColumn-1},end:{line:et.endLineNumber-1,character:et.endColumn-1}}}function Lt(et){if(et)return new E.Range(et.start.line+1,et.start.character+1,et.end.line+1,et.end.character+1)}function on(et){const Xe=E.languages.CompletionItemKind;switch(et){case Sn.Text:return Xe.Text;case Sn.Method:return Xe.Method;case Sn.Function:return Xe.Function;case Sn.Constructor:return Xe.Constructor;case Sn.Field:return Xe.Field;case Sn.Variable:return Xe.Variable;case Sn.Class:return Xe.Class;case Sn.Interface:return Xe.Interface;case Sn.Module:return Xe.Module;case Sn.Property:return Xe.Property;case Sn.Unit:return Xe.Unit;case Sn.Value:return Xe.Value;case Sn.Enum:return Xe.Enum;case Sn.Keyword:return Xe.Keyword;case Sn.Snippet:return Xe.Snippet;case Sn.Color:return Xe.Color;case Sn.File:return Xe.File;case Sn.Reference:return Xe.Reference}return Xe.Property}function ln(et){if(et)return{range:Lt(et.range),text:et.newText}}var Dn=class{constructor(et){this._worker=et}provideHover(et,Xe,Yt){let Ut=et.uri;return this._worker(Ut).then((zn)=>zn.doHover(Ut.toString(),dn(Xe))).then((zn)=>{if(zn)return{range:Lt(zn.range),contents:$n(zn.contents)}})}};function vn(et){return typeof et=="string"?{value:et}:(Xe=et)&&typeof Xe=="object"&&typeof Xe.kind=="string"?et.kind==="plaintext"?{value:et.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:et.value}:{value:"```"+et.language+"\n"+et.value+"\n```\n"};var Xe}function $n(et){if(et)return Array.isArray(et)?et.map(vn):[vn(et)]}var Un=class{constructor(et){this._worker=et}provideDocumentHighlights(et,Xe,Yt){const Ut=et.uri;return this._worker(Ut).then((zn)=>zn.findDocumentHighlights(Ut.toString(),dn(Xe))).then((zn)=>{if(zn)return zn.map((Wn)=>({range:Lt(Wn.range),kind:Fn(Wn.kind)}))})}};function Fn(et){switch(et){case tr.Read:return E.languages.DocumentHighlightKind.Read;case tr.Write:return E.languages.DocumentHighlightKind.Write;case tr.Text:return E.languages.DocumentHighlightKind.Text}return E.languages.DocumentHighlightKind.Text}var fn=class{constructor(et){this._worker=et}provideDefinition(et,Xe,Yt){const Ut=et.uri;return this._worker(Ut).then((zn)=>zn.findDefinition(Ut.toString(),dn(Xe))).then((zn)=>{if(zn)return[Qn(zn)]})}};function Qn(et){return{uri:E.Uri.parse(et.uri),range:Lt(et.range)}}var N=class{constructor(et){this._worker=et}provideReferences(et,Xe,Yt,Ut){const zn=et.uri;return this._worker(zn).then((Wn)=>Wn.findReferences(zn.toString(),dn(Xe))).then((Wn)=>{if(Wn)return Wn.map(Qn)})}},Z=class{constructor(et){this._worker=et}provideRenameEdits(et,Xe,Yt,Ut){const zn=et.uri;return this._worker(zn).then((Wn)=>Wn.doRename(zn.toString(),dn(Xe),Yt)).then((Wn)=>function(ei){if(!ei||!ei.changes)return;let Fi=[];for(let Ar in ei.changes){const Di=E.Uri.parse(Ar);for(let xr of ei.changes[Ar])Fi.push({resource:Di,versionId:void 0,textEdit:{range:Lt(xr.range),text:xr.newText}})}return{edits:Fi}}(Wn))}},j=class{constructor(et){this._worker=et}provideDocumentSymbols(et,Xe){const Yt=et.uri;return this._worker(Yt).then((Ut)=>Ut.findDocumentSymbols(Yt.toString())).then((Ut)=>{if(Ut)return Ut.map((zn)=>("children"in zn)?_e(zn):{name:zn.name,detail:"",containerName:zn.containerName,kind:Ne(zn.kind),range:Lt(zn.location.range),selectionRange:Lt(zn.location.range),tags:[]})})}};function _e(et){return{name:et.name,detail:et.detail??"",kind:Ne(et.kind),range:Lt(et.range),selectionRange:Lt(et.selectionRange),tags:et.tags??[],children:(et.children??[]).map((Xe)=>_e(Xe))}}function Ne(et){let Xe=E.languages.SymbolKind;switch(et){case un.File:return Xe.File;case un.Module:return Xe.Module;case un.Namespace:return Xe.Namespace;case un.Package:return Xe.Package;case un.Class:return Xe.Class;case un.Method:return Xe.Method;case un.Property:return Xe.Property;case un.Field:return Xe.Field;case un.Constructor:return Xe.Constructor;case un.Enum:return Xe.Enum;case un.Interface:return Xe.Interface;case un.Function:return Xe.Function;case un.Variable:return Xe.Variable;case un.Constant:return Xe.Constant;case un.String:return Xe.String;case un.Number:return Xe.Number;case un.Boolean:return Xe.Boolean;case un.Array:return Xe.Array}return Xe.Function}var Oe=class{constructor(et){this._worker=et}provideLinks(et,Xe){const Yt=et.uri;return this._worker(Yt).then((Ut)=>Ut.findDocumentLinks(Yt.toString())).then((Ut)=>{if(Ut)return{links:Ut.map((zn)=>({range:Lt(zn.range),url:zn.target}))}})}},Ke=class{constructor(et){this._worker=et}provideDocumentFormattingEdits(et,Xe,Yt){const Ut=et.uri;return this._worker(Ut).then((zn)=>zn.format(Ut.toString(),null,kt(Xe)).then((Wn)=>{if(Wn&&Wn.length!==0)return Wn.map(ln)}))}},wt=class{constructor(et){this._worker=et,this.canFormatMultipleRanges=!1}provideDocumentRangeFormattingEdits(et,Xe,Yt,Ut){const zn=et.uri;return this._worker(zn).then((Wn)=>Wn.format(zn.toString(),St(Xe),kt(Yt)).then((ei)=>{if(ei&&ei.length!==0)return ei.map(ln)}))}};function kt(et){return{tabSize:et.tabSize,insertSpaces:et.insertSpaces}}var Et,st,Bt=class{constructor(et){this._worker=et}provideDocumentColors(et,Xe){const Yt=et.uri;return this._worker(Yt).then((Ut)=>Ut.findDocumentColors(Yt.toString())).then((Ut)=>{if(Ut)return Ut.map((zn)=>({color:zn.color,range:Lt(zn.range)}))})}provideColorPresentations(et,Xe,Yt){const Ut=et.uri;return this._worker(Ut).then((zn)=>zn.getColorPresentations(Ut.toString(),Xe.color,St(Xe.range))).then((zn)=>{if(zn)return zn.map((Wn)=>{let ei={label:Wn.label};return Wn.textEdit&&(ei.textEdit=ln(Wn.textEdit)),Wn.additionalTextEdits&&(ei.additionalTextEdits=Wn.additionalTextEdits.map(ln)),ei})})}},Rt=class{constructor(et){this._worker=et}provideFoldingRanges(et,Xe,Yt){const Ut=et.uri;return this._worker(Ut).then((zn)=>zn.getFoldingRanges(Ut.toString(),Xe)).then((zn)=>{if(zn)return zn.map((Wn)=>{const ei={start:Wn.startLine+1,end:Wn.endLine+1};return Wn.kind!==void 0&&(ei.kind=function(Fi){switch(Fi){case ie.Comment:return E.languages.FoldingRangeKind.Comment;case ie.Imports:return E.languages.FoldingRangeKind.Imports;case ie.Region:return E.languages.FoldingRangeKind.Region}}(Wn.kind)),ei})})}},en=class{constructor(et){this._worker=et}provideSelectionRanges(et,Xe,Yt){const Ut=et.uri;return this._worker(Ut).then((zn)=>zn.getSelectionRanges(Ut.toString(),Xe.map(dn))).then((zn)=>{if(zn)return zn.map((Wn)=>{const ei=[];for(;Wn;)ei.push({range:Lt(Wn.range)}),Wn=Wn.parent;return ei})})}};function hn(et){return et===32||et===9}function je(et){return et===10||et===13}function ze(et){return et>=48&&et<=57}(st=Et||(Et={}))[st.lineFeed=10]="lineFeed",st[st.carriageReturn=13]="carriageReturn",st[st.space=32]="space",st[st._0=48]="_0",st[st._1=49]="_1",st[st._2=50]="_2",st[st._3=51]="_3",st[st._4=52]="_4",st[st._5=53]="_5",st[st._6=54]="_6",st[st._7=55]="_7",st[st._8=56]="_8",st[st._9=57]="_9",st[st.a=97]="a",st[st.b=98]="b",st[st.c=99]="c",st[st.d=100]="d",st[st.e=101]="e",st[st.f=102]="f",st[st.g=103]="g",st[st.h=104]="h",st[st.i=105]="i",st[st.j=106]="j",st[st.k=107]="k",st[st.l=108]="l",st[st.m=109]="m",st[st.n=110]="n",st[st.o=111]="o",st[st.p=112]="p",st[st.q=113]="q",st[st.r=114]="r",st[st.s=115]="s",st[st.t=116]="t",st[st.u=117]="u",st[st.v=118]="v",st[st.w=119]="w",st[st.x=120]="x",st[st.y=121]="y",st[st.z=122]="z",st[st.A=65]="A",st[st.B=66]="B",st[st.C=67]="C",st[st.D=68]="D",st[st.E=69]="E",st[st.F=70]="F",st[st.G=71]="G",st[st.H=72]="H",st[st.I=73]="I",st[st.J=74]="J",st[st.K=75]="K",st[st.L=76]="L",st[st.M=77]="M",st[st.N=78]="N",st[st.O=79]="O",st[st.P=80]="P",st[st.Q=81]="Q",st[st.R=82]="R",st[st.S=83]="S",st[st.T=84]="T",st[st.U=85]="U",st[st.V=86]="V",st[st.W=87]="W",st[st.X=88]="X",st[st.Y=89]="Y",st[st.Z=90]="Z",st[st.asterisk=42]="asterisk",st[st.backslash=92]="backslash",st[st.closeBrace=125]="closeBrace",st[st.closeBracket=93]="closeBracket",st[st.colon=58]="colon",st[st.comma=44]="comma",st[st.dot=46]="dot",st[st.doubleQuote=34]="doubleQuote",st[st.minus=45]="minus",st[st.openBrace=123]="openBrace",st[st.openBracket=91]="openBracket",st[st.plus=43]="plus",st[st.slash=47]="slash",st[st.formFeed=12]="formFeed",st[st.tab=9]="tab",new Array(20).fill(0).map((et,Xe)=>" ".repeat(Xe));var De,Ce=200;new Array(Ce).fill(0).map((et,Xe)=>"\n"+" ".repeat(Xe)),new Array(Ce).fill(0).map((et,Xe)=>"\r"+" ".repeat(Xe)),new Array(Ce).fill(0).map((et,Xe)=>"\r\n"+" ".repeat(Xe)),new Array(Ce).fill(0).map((et,Xe)=>"\n"+"\t".repeat(Xe)),new Array(Ce).fill(0).map((et,Xe)=>"\r"+"\t".repeat(Xe)),new Array(Ce).fill(0).map((et,Xe)=>"\r\n"+"\t".repeat(Xe)),(De||(De={})).DEFAULT={allowTrailingComma:!1};var ut,Tt,Ht,sn,Vn,yn,qi=function(et,Xe=!1){const Yt=et.length;let Ut=0,zn="",Wn=0,ei=16,Fi=0,Ar=0,Di=0,xr=0,Ri=0;function Rr(lr,bo){let Jr=0,pr=0;for(;Jr<lr||!bo;){let Cr=et.charCodeAt(Ut);if(Cr>=48&&Cr<=57)pr=16*pr+Cr-48;else if(Cr>=65&&Cr<=70)pr=16*pr+Cr-65+10;else{if(!(Cr>=97&&Cr<=102))break;pr=16*pr+Cr-97+10}Ut++,Jr++}return Jr<lr&&(pr=-1),pr}function zr(){if(zn="",Ri=0,Wn=Ut,Ar=Fi,xr=Di,Ut>=Yt)return Wn=Yt,ei=17;let lr=et.charCodeAt(Ut);if(hn(lr)){do Ut++,zn+=String.fromCharCode(lr),lr=et.charCodeAt(Ut);while(hn(lr));return ei=15}if(je(lr))return Ut++,zn+=String.fromCharCode(lr),lr===13&&et.charCodeAt(Ut)===10&&(Ut++,zn+="\n"),Fi++,Di=Ut,ei=14;switch(lr){case 123:return Ut++,ei=1;case 125:return Ut++,ei=2;case 91:return Ut++,ei=3;case 93:return Ut++,ei=4;case 58:return Ut++,ei=6;case 44:return Ut++,ei=5;case 34:return Ut++,zn=function(){let Jr="",pr=Ut;for(;;){if(Ut>=Yt){Jr+=et.substring(pr,Ut),Ri=2;break}const Cr=et.charCodeAt(Ut);if(Cr===34){Jr+=et.substring(pr,Ut),Ut++;break}if(Cr!==92){if(Cr>=0&&Cr<=31){if(je(Cr)){Jr+=et.substring(pr,Ut),Ri=2;break}Ri=6}Ut++}else{if(Jr+=et.substring(pr,Ut),Ut++,Ut>=Yt){Ri=2;break}switch(et.charCodeAt(Ut++)){case 34:Jr+='"';break;case 92:Jr+="\\";break;case 47:Jr+="/";break;case 98:Jr+="\b";break;case 102:Jr+="\f";break;case 110:Jr+="\n";break;case 114:Jr+="\r";break;case 116:Jr+="\t";break;case 117:const zo=Rr(4,!0);zo>=0?Jr+=String.fromCharCode(zo):Ri=4;break;default:Ri=5}pr=Ut}}return Jr}(),ei=10;case 47:const bo=Ut-1;if(et.charCodeAt(Ut+1)===47){for(Ut+=2;Ut<Yt&&!je(et.charCodeAt(Ut));)Ut++;return zn=et.substring(bo,Ut),ei=12}if(et.charCodeAt(Ut+1)===42){Ut+=2;const Jr=Yt-1;let pr=!1;for(;Ut<Jr;){const Cr=et.charCodeAt(Ut);if(Cr===42&&et.charCodeAt(Ut+1)===47){Ut+=2,pr=!0;break}Ut++,je(Cr)&&(Cr===13&&et.charCodeAt(Ut)===10&&Ut++,Fi++,Di=Ut)}return pr||(Ut++,Ri=1),zn=et.substring(bo,Ut),ei=13}return zn+=String.fromCharCode(lr),Ut++,ei=16;case 45:if(zn+=String.fromCharCode(lr),Ut++,Ut===Yt||!ze(et.charCodeAt(Ut)))return ei=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return zn+=function(){let Jr=Ut;if(et.charCodeAt(Ut)===48)Ut++;else for(Ut++;Ut<et.length&&ze(et.charCodeAt(Ut));)Ut++;if(Ut<et.length&&et.charCodeAt(Ut)===46){if(Ut++,!(Ut<et.length&&ze(et.charCodeAt(Ut))))return Ri=3,et.substring(Jr,Ut);for(Ut++;Ut<et.length&&ze(et.charCodeAt(Ut));)Ut++}let pr=Ut;if(Ut<et.length&&(et.charCodeAt(Ut)===69||et.charCodeAt(Ut)===101))if(Ut++,(Ut<et.length&&et.charCodeAt(Ut)===43||et.charCodeAt(Ut)===45)&&Ut++,Ut<et.length&&ze(et.charCodeAt(Ut))){for(Ut++;Ut<et.length&&ze(et.charCodeAt(Ut));)Ut++;pr=Ut}else Ri=3;return et.substring(Jr,pr)}(),ei=11;default:for(;Ut<Yt&&Ts(lr);)Ut++,lr=et.charCodeAt(Ut);if(Wn!==Ut){switch(zn=et.substring(Wn,Ut),zn){case"true":return ei=8;case"false":return ei=9;case"null":return ei=7}return ei=16}return zn+=String.fromCharCode(lr),Ut++,ei=16}}function Ts(lr){if(hn(lr)||je(lr))return!1;switch(lr){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(lr){Ut=lr,zn="",Wn=0,ei=16,Ri=0},getPosition:()=>Ut,scan:Xe?function(){let lr;do lr=zr();while(lr>=12&&lr<=15);return lr}:zr,getToken:()=>ei,getTokenValue:()=>zn,getTokenOffset:()=>Wn,getTokenLength:()=>Ut-Wn,getTokenStartLine:()=>Ar,getTokenStartCharacter:()=>Wn-xr,getTokenError:()=>Ri}};(Tt=ut||(ut={}))[Tt.None=0]="None",Tt[Tt.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",Tt[Tt.UnexpectedEndOfString=2]="UnexpectedEndOfString",Tt[Tt.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",Tt[Tt.InvalidUnicode=4]="InvalidUnicode",Tt[Tt.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",Tt[Tt.InvalidCharacter=6]="InvalidCharacter",(sn=Ht||(Ht={}))[sn.OpenBraceToken=1]="OpenBraceToken",sn[sn.CloseBraceToken=2]="CloseBraceToken",sn[sn.OpenBracketToken=3]="OpenBracketToken",sn[sn.CloseBracketToken=4]="CloseBracketToken",sn[sn.CommaToken=5]="CommaToken",sn[sn.ColonToken=6]="ColonToken",sn[sn.NullKeyword=7]="NullKeyword",sn[sn.TrueKeyword=8]="TrueKeyword",sn[sn.FalseKeyword=9]="FalseKeyword",sn[sn.StringLiteral=10]="StringLiteral",sn[sn.NumericLiteral=11]="NumericLiteral",sn[sn.LineCommentTrivia=12]="LineCommentTrivia",sn[sn.BlockCommentTrivia=13]="BlockCommentTrivia",sn[sn.LineBreakTrivia=14]="LineBreakTrivia",sn[sn.Trivia=15]="Trivia",sn[sn.Unknown=16]="Unknown",sn[sn.EOF=17]="EOF",(yn=Vn||(Vn={}))[yn.InvalidSymbol=1]="InvalidSymbol",yn[yn.InvalidNumberFormat=2]="InvalidNumberFormat",yn[yn.PropertyNameExpected=3]="PropertyNameExpected",yn[yn.ValueExpected=4]="ValueExpected",yn[yn.ColonExpected=5]="ColonExpected",yn[yn.CommaExpected=6]="CommaExpected",yn[yn.CloseBraceExpected=7]="CloseBraceExpected",yn[yn.CloseBracketExpected=8]="CloseBracketExpected",yn[yn.EndOfFileExpected=9]="EndOfFileExpected",yn[yn.InvalidCommentToken=10]="InvalidCommentToken",yn[yn.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",yn[yn.UnexpectedEndOfString=12]="UnexpectedEndOfString",yn[yn.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",yn[yn.InvalidUnicode=14]="InvalidUnicode",yn[yn.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",yn[yn.InvalidCharacter=16]="InvalidCharacter";var ki,ur="delimiter.bracket.json",Vr="delimiter.array.json",Fo="delimiter.colon.json",ii="delimiter.comma.json",no="keyword.json",ui="keyword.json",Dr="string.value.json",Js="number.json",ks="string.key.json",Oo="comment.block.json",Us="comment.line.json",xo=class et{constructor(Xe,Yt){this.parent=Xe,this.type=Yt}static pop(Xe){return Xe?Xe.parent:null}static push(Xe,Yt){return new et(Xe,Yt)}static equals(Xe,Yt){if(!Xe&&!Yt)return!0;if(!Xe||!Yt)return!1;for(;Xe&&Yt;){if(Xe===Yt)return!0;if(Xe.type!==Yt.type)return!1;Xe=Xe.parent,Yt=Yt.parent}return!0}},go=class et{constructor(Xe,Yt,Ut,zn){this._state=Xe,this.scanError=Yt,this.lastWasColon=Ut,this.parents=zn}clone(){return new et(this._state,this.scanError,this.lastWasColon,this.parents)}equals(Xe){return Xe===this||!!(Xe&&Xe instanceof et)&&this.scanError===Xe.scanError&&this.lastWasColon===Xe.lastWasColon&&xo.equals(this.parents,Xe.parents)}getStateData(){return this._state}setStateData(Xe){this._state=Xe}};function _o(){return new Promise((et,Xe)=>{if(!ki)return Xe("JSON not registered!");et(ki)})}var xa=class extends Ot{constructor(et,Xe,Yt){super(et,Xe,Yt.onDidChange),this._disposables.push(E.editor.onWillDisposeModel((Ut)=>{this._resetSchema(Ut.uri)})),this._disposables.push(E.editor.onDidChangeModelLanguage((Ut)=>{this._resetSchema(Ut.model.uri)}))}_resetSchema(et){this._worker().then((Xe)=>{Xe.resetSchema(et.toString())})}};function fs(et){const Xe=[],Yt=[],Ut=new bt(et);function zn(){const{languageId:ei,modeConfiguration:Fi}=et;var Ar;Co(Yt),Fi.documentFormattingEdits&&Yt.push(E.languages.registerDocumentFormattingEditProvider(ei,new Ke(ki))),Fi.documentRangeFormattingEdits&&Yt.push(E.languages.registerDocumentRangeFormattingEditProvider(ei,new wt(ki))),Fi.completionItems&&Yt.push(E.languages.registerCompletionItemProvider(ei,new Cn(ki,[" ",":",'"']))),Fi.hovers&&Yt.push(E.languages.registerHoverProvider(ei,new Dn(ki))),Fi.documentSymbols&&Yt.push(E.languages.registerDocumentSymbolProvider(ei,new j(ki))),Fi.tokens&&Yt.push(E.languages.setTokensProvider(ei,(Ar=!0,{getInitialState:()=>new go(null,null,!1,null),tokenize:(Di,xr)=>function(Ri,Rr,zr,Ts=0){let lr=0,bo=!1;switch(zr.scanError){case 2:Rr='"'+Rr,lr=1;break;case 1:Rr="/*"+Rr,lr=2}const Jr=qi(Rr);let{lastWasColon:pr,parents:Cr}=zr;const zo={tokens:[],endState:zr.clone()};for(;;){let Pr=Ts+Jr.getPosition(),qr="";const is=Jr.scan();if(is===17)break;if(Pr===Ts+Jr.getPosition())throw new Error("Scanner did not advance, next 3 characters are: "+Rr.substr(Jr.getPosition(),3));switch(bo&&(Pr-=lr),bo=lr>0,is){case 1:Cr=xo.push(Cr,0),qr=ur,pr=!1;break;case 2:Cr=xo.pop(Cr),qr=ur,pr=!1;break;case 3:Cr=xo.push(Cr,1),qr=Vr,pr=!1;break;case 4:Cr=xo.pop(Cr),qr=Vr,pr=!1;break;case 6:qr=Fo,pr=!0;break;case 5:qr=ii,pr=!1;break;case 8:case 9:qr=no,pr=!1;break;case 7:qr=ui,pr=!1;break;case 10:const Ho=Cr?Cr.type:0;qr=pr||Ho===1?Dr:ks,pr=!1;break;case 11:qr=Js,pr=!1}if(Ri)switch(is){case 12:qr=Us;break;case 13:qr=Oo}zo.endState=new go(zr.getStateData(),Jr.getTokenError(),pr,Cr),zo.tokens.push({startIndex:Pr,scopes:qr})}return zo}(Ar,Di,xr)}))),Fi.colors&&Yt.push(E.languages.registerColorProvider(ei,new Bt(ki))),Fi.foldingRanges&&Yt.push(E.languages.registerFoldingRangeProvider(ei,new Rt(ki))),Fi.diagnostics&&Yt.push(new xa(ei,ki,et)),Fi.selectionRanges&&Yt.push(E.languages.registerSelectionRangeProvider(ei,new en(ki)))}Xe.push(Ut),ki=(...ei)=>Ut.getLanguageServiceWorker(...ei),zn(),Xe.push(E.languages.setLanguageConfiguration(et.languageId,ia));let Wn=et.modeConfiguration;return et.onDidChange((ei)=>{ei.modeConfiguration!==Wn&&(Wn=ei.modeConfiguration,zn())}),Xe.push(Qo(Yt)),Qo(Xe)}function Qo(et){return{dispose:()=>Co(et)}}function Co(et){for(;et.length;)et.pop().dispose()}var ia={wordPattern:/(-?\d*\.\d\w*)|([^\[\{\]\}\:\"\,\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}]}},9664:(dt,pe,h)=>{h.d(pe,{IF:()=>b});var s=h(6236),I=Object.defineProperty,T=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,v=(R,P,z,te)=>{if(P&&typeof P=="object"||typeof P=="function")for(let L of J(P))M.call(R,L)||L===z||I(R,L,{get:()=>P[L],enumerable:!(te=T(P,L))||te.enumerable});return R},E={};v(E,s,"default");var w=((R)=>(R[R.None=0]="None",R[R.CommonJS=1]="CommonJS",R[R.AMD=2]="AMD",R[R.UMD=3]="UMD",R[R.System=4]="System",R[R.ES2015=5]="ES2015",R[R.ESNext=99]="ESNext",R))(w||{}),C=((R)=>(R[R.None=0]="None",R[R.Preserve=1]="Preserve",R[R.React=2]="React",R[R.ReactNative=3]="ReactNative",R[R.ReactJSX=4]="ReactJSX",R[R.ReactJSXDev=5]="ReactJSXDev",R))(C||{}),d=((R)=>(R[R.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",R[R.LineFeed=1]="LineFeed",R))(d||{}),f=((R)=>(R[R.ES3=0]="ES3",R[R.ES5=1]="ES5",R[R.ES2015=2]="ES2015",R[R.ES2016=3]="ES2016",R[R.ES2017=4]="ES2017",R[R.ES2018=5]="ES2018",R[R.ES2019=6]="ES2019",R[R.ES2020=7]="ES2020",R[R.ESNext=99]="ESNext",R[R.JSON=100]="JSON",R[R.Latest=99]="Latest",R))(f||{}),p=((R)=>(R[R.Classic=1]="Classic",R[R.NodeJs=2]="NodeJs",R))(p||{}),_=class{constructor(R,P,z,te,L){this._onDidChange=new E.Emitter,this._onDidExtraLibsChange=new E.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(R),this.setDiagnosticsOptions(P),this.setWorkerOptions(z),this.setInlayHintsOptions(te),this.setModeConfiguration(L),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(R,P){let z;if(z=P===void 0?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:P,this._extraLibs[z]&&this._extraLibs[z].content===R)return{dispose:()=>{}};let te=1;return this._removedExtraLibs[z]&&(te=this._removedExtraLibs[z]+1),this._extraLibs[z]&&(te=this._extraLibs[z].version+1),this._extraLibs[z]={content:R,version:te},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let L=this._extraLibs[z];L&&L.version===te&&(delete this._extraLibs[z],this._removedExtraLibs[z]=te,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(R){for(let P in this._extraLibs)this._removedExtraLibs[P]=this._extraLibs[P].version;if(this._extraLibs=Object.create(null),R&&R.length>0)for(let P of R){const z=P.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,te=P.content;let L=1;this._removedExtraLibs[z]&&(L=this._removedExtraLibs[z]+1),this._extraLibs[z]={content:te,version:L}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(R){this._compilerOptions=R||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(R){this._diagnosticsOptions=R||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(R){this._workerOptions=R||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(R){this._inlayHintsOptions=R||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(R){}setEagerModelSync(R){this._eagerModelSync=R}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(R){this._modeConfiguration=R||Object.create(null),this._onDidChange.fire(void 0)}},m={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},b=new _({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},m),x=new _({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},m);function k(){return Promise.resolve().then(h.bind(h,9355))}E.languages.typescript={ModuleKind:w,JsxEmit:C,NewLineKind:d,ScriptTarget:f,ModuleResolutionKind:p,typescriptVersion:"5.4.5",typescriptDefaults:b,javascriptDefaults:x,getTypeScriptWorker:()=>k().then((R)=>R.getTypeScriptWorker()),getJavaScriptWorker:()=>k().then((R)=>R.getJavaScriptWorker())},E.languages.onLanguage("typescript",()=>k().then((R)=>R.setupTypeScript(b))),E.languages.onLanguage("javascript",()=>k().then((R)=>R.setupJavaScript(x)))},9355:(dt,pe,h)=>{h.r(pe),h.d(pe,{Adapter:()=>_,CodeActionAdaptor:()=>H,DefinitionAdapter:()=>te,DiagnosticsAdapter:()=>b,DocumentHighlightAdapter:()=>z,FormatAdapter:()=>ee,FormatHelper:()=>ie,FormatOnTypeAdapter:()=>ne,InlayHintsAdapter:()=>Y,Kind:()=>B,LibFiles:()=>m,OutlineAdapter:()=>W,QuickInfoAdapter:()=>P,ReferenceAdapter:()=>L,RenameAdapter:()=>V,SignatureHelpAdapter:()=>R,SuggestAdapter:()=>x,WorkerManager:()=>C,flattenDiagnosticMessageText:()=>f,getJavaScriptWorker:()=>xe,getTypeScriptWorker:()=>Be,setupJavaScript:()=>Te,setupTypeScript:()=>ve});var s=h(6236),I=h(9664),T=Object.defineProperty,J=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,E=(Q,re,Je,Se)=>{if(re&&typeof re=="object"||typeof re=="function")for(let Pe of M(re))v.call(Q,Pe)||Pe===Je||T(Q,Pe,{get:()=>re[Pe],enumerable:!(Se=J(re,Pe))||Se.enumerable});return Q},w={};E(w,s,"default");var C=class{constructor(Q,re){this._modeId=Q,this._defaults=re,this._worker=null,this._client=null,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker()),this._updateExtraLibsToken=0,this._extraLibsChangeListener=this._defaults.onDidExtraLibsChange(()=>this._updateExtraLibs())}dispose(){this._configChangeListener.dispose(),this._extraLibsChangeListener.dispose(),this._stopWorker()}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}async _updateExtraLibs(){if(!this._worker)return;const Q=++this._updateExtraLibsToken,re=await this._worker.getProxy();this._updateExtraLibsToken===Q&&re.updateExtraLibs(this._defaults.getExtraLibs())}_getClient(){return this._client||(this._client=(async()=>(this._worker=w.editor.createWebWorker({moduleId:"vs/language/typescript/tsWorker",label:this._modeId,keepIdleModels:!0,createData:{compilerOptions:this._defaults.getCompilerOptions(),extraLibs:this._defaults.getExtraLibs(),customWorkerPath:this._defaults.workerOptions.customWorkerPath,inlayHintsOptions:this._defaults.inlayHintsOptions}}),this._defaults.getEagerModelSync()?await this._worker.withSyncedResources(w.editor.getModels().filter((Q)=>Q.getLanguageId()===this._modeId).map((Q)=>Q.uri)):await this._worker.getProxy()))()),this._client}async getLanguageServiceWorker(...Q){const re=await this._getClient();return this._worker&&await this._worker.withSyncedResources(Q),re}},d={};function f(Q,re,Je=0){if(typeof Q=="string")return Q;if(Q===void 0)return"";let Se="";if(Je){Se+=re;for(let Pe=0;Pe<Je;Pe++)Se+="  "}if(Se+=Q.messageText,Je++,Q.next)for(let Pe of Q.next)Se+=f(Pe,re,Je);return Se}function p(Q){return Q?Q.map((re)=>re.text).join(""):""}d["lib.d.ts"]=!0,d["lib.decorators.d.ts"]=!0,d["lib.decorators.legacy.d.ts"]=!0,d["lib.dom.asynciterable.d.ts"]=!0,d["lib.dom.d.ts"]=!0,d["lib.dom.iterable.d.ts"]=!0,d["lib.es2015.collection.d.ts"]=!0,d["lib.es2015.core.d.ts"]=!0,d["lib.es2015.d.ts"]=!0,d["lib.es2015.generator.d.ts"]=!0,d["lib.es2015.iterable.d.ts"]=!0,d["lib.es2015.promise.d.ts"]=!0,d["lib.es2015.proxy.d.ts"]=!0,d["lib.es2015.reflect.d.ts"]=!0,d["lib.es2015.symbol.d.ts"]=!0,d["lib.es2015.symbol.wellknown.d.ts"]=!0,d["lib.es2016.array.include.d.ts"]=!0,d["lib.es2016.d.ts"]=!0,d["lib.es2016.full.d.ts"]=!0,d["lib.es2016.intl.d.ts"]=!0,d["lib.es2017.d.ts"]=!0,d["lib.es2017.date.d.ts"]=!0,d["lib.es2017.full.d.ts"]=!0,d["lib.es2017.intl.d.ts"]=!0,d["lib.es2017.object.d.ts"]=!0,d["lib.es2017.sharedmemory.d.ts"]=!0,d["lib.es2017.string.d.ts"]=!0,d["lib.es2017.typedarrays.d.ts"]=!0,d["lib.es2018.asyncgenerator.d.ts"]=!0,d["lib.es2018.asynciterable.d.ts"]=!0,d["lib.es2018.d.ts"]=!0,d["lib.es2018.full.d.ts"]=!0,d["lib.es2018.intl.d.ts"]=!0,d["lib.es2018.promise.d.ts"]=!0,d["lib.es2018.regexp.d.ts"]=!0,d["lib.es2019.array.d.ts"]=!0,d["lib.es2019.d.ts"]=!0,d["lib.es2019.full.d.ts"]=!0,d["lib.es2019.intl.d.ts"]=!0,d["lib.es2019.object.d.ts"]=!0,d["lib.es2019.string.d.ts"]=!0,d["lib.es2019.symbol.d.ts"]=!0,d["lib.es2020.bigint.d.ts"]=!0,d["lib.es2020.d.ts"]=!0,d["lib.es2020.date.d.ts"]=!0,d["lib.es2020.full.d.ts"]=!0,d["lib.es2020.intl.d.ts"]=!0,d["lib.es2020.number.d.ts"]=!0,d["lib.es2020.promise.d.ts"]=!0,d["lib.es2020.sharedmemory.d.ts"]=!0,d["lib.es2020.string.d.ts"]=!0,d["lib.es2020.symbol.wellknown.d.ts"]=!0,d["lib.es2021.d.ts"]=!0,d["lib.es2021.full.d.ts"]=!0,d["lib.es2021.intl.d.ts"]=!0,d["lib.es2021.promise.d.ts"]=!0,d["lib.es2021.string.d.ts"]=!0,d["lib.es2021.weakref.d.ts"]=!0,d["lib.es2022.array.d.ts"]=!0,d["lib.es2022.d.ts"]=!0,d["lib.es2022.error.d.ts"]=!0,d["lib.es2022.full.d.ts"]=!0,d["lib.es2022.intl.d.ts"]=!0,d["lib.es2022.object.d.ts"]=!0,d["lib.es2022.regexp.d.ts"]=!0,d["lib.es2022.sharedmemory.d.ts"]=!0,d["lib.es2022.string.d.ts"]=!0,d["lib.es2023.array.d.ts"]=!0,d["lib.es2023.collection.d.ts"]=!0,d["lib.es2023.d.ts"]=!0,d["lib.es2023.full.d.ts"]=!0,d["lib.es5.d.ts"]=!0,d["lib.es6.d.ts"]=!0,d["lib.esnext.collection.d.ts"]=!0,d["lib.esnext.d.ts"]=!0,d["lib.esnext.decorators.d.ts"]=!0,d["lib.esnext.disposable.d.ts"]=!0,d["lib.esnext.full.d.ts"]=!0,d["lib.esnext.intl.d.ts"]=!0,d["lib.esnext.object.d.ts"]=!0,d["lib.esnext.promise.d.ts"]=!0,d["lib.scripthost.d.ts"]=!0,d["lib.webworker.asynciterable.d.ts"]=!0,d["lib.webworker.d.ts"]=!0,d["lib.webworker.importscripts.d.ts"]=!0,d["lib.webworker.iterable.d.ts"]=!0;var _=class{constructor(Q){this._worker=Q}_textSpanToRange(Q,re){let Je=Q.getPositionAt(re.start),Se=Q.getPositionAt(re.start+re.length),{lineNumber:Pe,column:Le}=Je,{lineNumber:Ve,column:g}=Se;return{startLineNumber:Pe,startColumn:Le,endLineNumber:Ve,endColumn:g}}},m=class{constructor(Q){this._worker=Q,this._libFiles={},this._hasFetchedLibFiles=!1,this._fetchLibFilesPromise=null}isLibFile(Q){return!!Q&&Q.path.indexOf("/lib.")===0&&!!d[Q.path.slice(1)]}getOrCreateModel(Q){const re=w.Uri.parse(Q),Je=w.editor.getModel(re);if(Je)return Je;if(this.isLibFile(re)&&this._hasFetchedLibFiles)return w.editor.createModel(this._libFiles[re.path.slice(1)],"typescript",re);const Se=I.IF.getExtraLibs()[Q];return Se?w.editor.createModel(Se.content,"typescript",re):null}_containsLibFile(Q){for(let re of Q)if(this.isLibFile(re))return!0;return!1}async fetchLibFilesIfNecessary(Q){this._containsLibFile(Q)&&await this._fetchLibFiles()}_fetchLibFiles(){return this._fetchLibFilesPromise||(this._fetchLibFilesPromise=this._worker().then((Q)=>Q.getLibFiles()).then((Q)=>{this._hasFetchedLibFiles=!0,this._libFiles=Q})),this._fetchLibFilesPromise}},b=class extends _{constructor(Q,re,Je,Se){super(Se),this._libFiles=Q,this._defaults=re,this._selector=Je,this._disposables=[],this._listener=Object.create(null);const Pe=(g)=>{if(g.getLanguageId()!==Je)return;const ge=()=>{const{onlyVisible:ae}=this._defaults.getDiagnosticsOptions();ae?g.isAttachedToEditor()&&this._doValidate(g):this._doValidate(g)};let We;const de=g.onDidChangeContent(()=>{clearTimeout(We),We=window.setTimeout(ge,500)}),be=g.onDidChangeAttached(()=>{const{onlyVisible:ae}=this._defaults.getDiagnosticsOptions();ae&&(g.isAttachedToEditor()?ge():w.editor.setModelMarkers(g,this._selector,[]))});this._listener[g.uri.toString()]={dispose(){de.dispose(),be.dispose(),clearTimeout(We)}},ge()},Le=(g)=>{w.editor.setModelMarkers(g,this._selector,[]);const ge=g.uri.toString();this._listener[ge]&&(this._listener[ge].dispose(),delete this._listener[ge])};this._disposables.push(w.editor.onDidCreateModel((g)=>Pe(g))),this._disposables.push(w.editor.onWillDisposeModel(Le)),this._disposables.push(w.editor.onDidChangeModelLanguage((g)=>{Le(g.model),Pe(g.model)})),this._disposables.push({dispose(){for(let g of w.editor.getModels())Le(g)}});const Ve=()=>{for(let g of w.editor.getModels())Le(g),Pe(g)};this._disposables.push(this._defaults.onDidChange(Ve)),this._disposables.push(this._defaults.onDidExtraLibsChange(Ve)),w.editor.getModels().forEach((g)=>Pe(g))}dispose(){this._disposables.forEach((Q)=>Q&&Q.dispose()),this._disposables=[]}async _doValidate(Q){const re=await this._worker(Q.uri);if(Q.isDisposed())return;const Je=[],{noSyntaxValidation:Se,noSemanticValidation:Pe,noSuggestionDiagnostics:Le}=this._defaults.getDiagnosticsOptions();Se||Je.push(re.getSyntacticDiagnostics(Q.uri.toString())),Pe||Je.push(re.getSemanticDiagnostics(Q.uri.toString())),Le||Je.push(re.getSuggestionDiagnostics(Q.uri.toString()));const Ve=await Promise.all(Je);if(!Ve||Q.isDisposed())return;const g=Ve.reduce((We,de)=>de.concat(We),[]).filter((We)=>(this._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(We.code)===-1),ge=g.map((We)=>We.relatedInformation||[]).reduce((We,de)=>de.concat(We),[]).map((We)=>We.file?w.Uri.parse(We.file.fileName):null);await this._libFiles.fetchLibFilesIfNecessary(ge),Q.isDisposed()||w.editor.setModelMarkers(Q,this._selector,g.map((We)=>this._convertDiagnostics(Q,We)))}_convertDiagnostics(Q,re){const Je=re.start||0,Se=re.length||1,{lineNumber:Pe,column:Le}=Q.getPositionAt(Je),{lineNumber:Ve,column:g}=Q.getPositionAt(Je+Se),ge=[];return re.reportsUnnecessary&&ge.push(w.MarkerTag.Unnecessary),re.reportsDeprecated&&ge.push(w.MarkerTag.Deprecated),{severity:this._tsDiagnosticCategoryToMarkerSeverity(re.category),startLineNumber:Pe,startColumn:Le,endLineNumber:Ve,endColumn:g,message:f(re.messageText,"\n"),code:re.code.toString(),tags:ge,relatedInformation:this._convertRelatedInformation(Q,re.relatedInformation)}}_convertRelatedInformation(Q,re){if(!re)return[];const Je=[];return re.forEach((Se)=>{let Pe=Q;if(Se.file&&(Pe=this._libFiles.getOrCreateModel(Se.file.fileName)),!Pe)return;const Le=Se.start||0,Ve=Se.length||1,{lineNumber:g,column:ge}=Pe.getPositionAt(Le),{lineNumber:We,column:de}=Pe.getPositionAt(Le+Ve);Je.push({resource:Pe.uri,startLineNumber:g,startColumn:ge,endLineNumber:We,endColumn:de,message:f(Se.messageText,"\n")})}),Je}_tsDiagnosticCategoryToMarkerSeverity(Q){switch(Q){case 1:return w.MarkerSeverity.Error;case 3:return w.MarkerSeverity.Info;case 0:return w.MarkerSeverity.Warning;case 2:return w.MarkerSeverity.Hint}return w.MarkerSeverity.Info}},x=class Q extends _{get triggerCharacters(){return["."]}async provideCompletionItems(re,Je,Se,Pe){const Le=re.getWordUntilPosition(Je),Ve=new w.Range(Je.lineNumber,Le.startColumn,Je.lineNumber,Le.endColumn),g=re.uri,ge=re.getOffsetAt(Je),We=await this._worker(g);if(re.isDisposed())return;const de=await We.getCompletionsAtPosition(g.toString(),ge);return de&&!re.isDisposed()?{suggestions:de.entries.map((be)=>{let ae=Ve;if(be.replacementSpan){const Ue=re.getPositionAt(be.replacementSpan.start),Ye=re.getPositionAt(be.replacementSpan.start+be.replacementSpan.length);ae=new w.Range(Ue.lineNumber,Ue.column,Ye.lineNumber,Ye.column)}const O=[];return be.kindModifiers!==void 0&&be.kindModifiers.indexOf("deprecated")!==-1&&O.push(w.languages.CompletionItemTag.Deprecated),{uri:g,position:Je,offset:ge,range:ae,label:be.name,insertText:be.name,sortText:be.sortText,kind:Q.convertKind(be.kind),tags:O}})}:void 0}async resolveCompletionItem(re,Je){const Se=re,Pe=Se.uri,Le=Se.position,Ve=Se.offset,g=await this._worker(Pe),ge=await g.getCompletionEntryDetails(Pe.toString(),Ve,Se.label);return ge?{uri:Pe,position:Le,label:ge.name,kind:Q.convertKind(ge.kind),detail:p(ge.displayParts),documentation:{value:Q.createDocumentationString(ge)}}:Se}static convertKind(re){switch(re){case B.primitiveType:case B.keyword:return w.languages.CompletionItemKind.Keyword;case B.variable:case B.localVariable:return w.languages.CompletionItemKind.Variable;case B.memberVariable:case B.memberGetAccessor:case B.memberSetAccessor:return w.languages.CompletionItemKind.Field;case B.function:case B.memberFunction:case B.constructSignature:case B.callSignature:case B.indexSignature:return w.languages.CompletionItemKind.Function;case B.enum:return w.languages.CompletionItemKind.Enum;case B.module:return w.languages.CompletionItemKind.Module;case B.class:return w.languages.CompletionItemKind.Class;case B.interface:return w.languages.CompletionItemKind.Interface;case B.warning:return w.languages.CompletionItemKind.File}return w.languages.CompletionItemKind.Property}static createDocumentationString(re){let Je=p(re.documentation);if(re.tags)for(let Se of re.tags)Je+=`\n\n${k(Se)}`;return Je}};function k(Q){let re=`*@${Q.name}*`;if(Q.name==="param"&&Q.text){const[Je,...Se]=Q.text;re+=`\`${Je.text}\``,Se.length>0&&(re+=` \u2014 ${Se.map((Pe)=>Pe.text).join(" ")}`)}else Array.isArray(Q.text)?re+=` \u2014 ${Q.text.map((Je)=>Je.text).join(" ")}`:Q.text&&(re+=` \u2014 ${Q.text}`);return re}var R=class Q extends _{constructor(){super(...arguments),this.signatureHelpTriggerCharacters=["(",","]}static _toSignatureHelpTriggerReason(re){switch(re.triggerKind){case w.languages.SignatureHelpTriggerKind.TriggerCharacter:return re.triggerCharacter?re.isRetrigger?{kind:"retrigger",triggerCharacter:re.triggerCharacter}:{kind:"characterTyped",triggerCharacter:re.triggerCharacter}:{kind:"invoked"};case w.languages.SignatureHelpTriggerKind.ContentChange:return re.isRetrigger?{kind:"retrigger"}:{kind:"invoked"};case w.languages.SignatureHelpTriggerKind.Invoke:default:return{kind:"invoked"}}}async provideSignatureHelp(re,Je,Se,Pe){const Le=re.uri,Ve=re.getOffsetAt(Je),g=await this._worker(Le);if(re.isDisposed())return;const ge=await g.getSignatureHelpItems(Le.toString(),Ve,{triggerReason:Q._toSignatureHelpTriggerReason(Pe)});if(!ge||re.isDisposed())return;const We={activeSignature:ge.selectedItemIndex,activeParameter:ge.argumentIndex,signatures:[]};return ge.items.forEach((de)=>{const be={label:"",parameters:[]};be.documentation={value:p(de.documentation)},be.label+=p(de.prefixDisplayParts),de.parameters.forEach((ae,O,Ue)=>{const Ye=p(ae.displayParts),Fe={label:Ye,documentation:{value:p(ae.documentation)}};be.label+=Ye,be.parameters.push(Fe),O<Ue.length-1&&(be.label+=p(de.separatorDisplayParts))}),be.label+=p(de.suffixDisplayParts),We.signatures.push(be)}),{value:We,dispose(){}}}},P=class extends _{async provideHover(Q,re,Je){const Se=Q.uri,Pe=Q.getOffsetAt(re),Le=await this._worker(Se);if(Q.isDisposed())return;const Ve=await Le.getQuickInfoAtPosition(Se.toString(),Pe);if(!Ve||Q.isDisposed())return;const g=p(Ve.documentation),ge=Ve.tags?Ve.tags.map((de)=>k(de)).join("  \n\n"):"",We=p(Ve.displayParts);return{range:this._textSpanToRange(Q,Ve.textSpan),contents:[{value:"```typescript\n"+We+"\n```\n"},{value:g+(ge?"\n\n"+ge:"")}]}}},z=class extends _{async provideDocumentHighlights(Q,re,Je){const Se=Q.uri,Pe=Q.getOffsetAt(re),Le=await this._worker(Se);if(Q.isDisposed())return;const Ve=await Le.getDocumentHighlights(Se.toString(),Pe,[Se.toString()]);return Ve&&!Q.isDisposed()?Ve.flatMap((g)=>g.highlightSpans.map((ge)=>({range:this._textSpanToRange(Q,ge.textSpan),kind:ge.kind==="writtenReference"?w.languages.DocumentHighlightKind.Write:w.languages.DocumentHighlightKind.Text}))):void 0}},te=class extends _{constructor(Q,re){super(re),this._libFiles=Q}async provideDefinition(Q,re,Je){const Se=Q.uri,Pe=Q.getOffsetAt(re),Le=await this._worker(Se);if(Q.isDisposed())return;const Ve=await Le.getDefinitionAtPosition(Se.toString(),Pe);if(!Ve||Q.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(Ve.map((ge)=>w.Uri.parse(ge.fileName))),Q.isDisposed())return;const g=[];for(let ge of Ve){const We=this._libFiles.getOrCreateModel(ge.fileName);We&&g.push({uri:We.uri,range:this._textSpanToRange(We,ge.textSpan)})}return g}},L=class extends _{constructor(Q,re){super(re),this._libFiles=Q}async provideReferences(Q,re,Je,Se){const Pe=Q.uri,Le=Q.getOffsetAt(re),Ve=await this._worker(Pe);if(Q.isDisposed())return;const g=await Ve.getReferencesAtPosition(Pe.toString(),Le);if(!g||Q.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(g.map((We)=>w.Uri.parse(We.fileName))),Q.isDisposed())return;const ge=[];for(let We of g){const de=this._libFiles.getOrCreateModel(We.fileName);de&&ge.push({uri:de.uri,range:this._textSpanToRange(de,We.textSpan)})}return ge}},W=class extends _{async provideDocumentSymbols(Q,re){const Je=Q.uri,Se=await this._worker(Je);if(Q.isDisposed())return;const Pe=await Se.getNavigationTree(Je.toString());if(!Pe||Q.isDisposed())return;const Le=(Ve,g)=>({name:Ve.text,detail:"",kind:U[Ve.kind]||w.languages.SymbolKind.Variable,range:this._textSpanToRange(Q,Ve.spans[0]),selectionRange:this._textSpanToRange(Q,Ve.spans[0]),tags:[],children:Ve.childItems?.map((ge)=>Le(ge,Ve.text)),containerName:g});return Pe.childItems?Pe.childItems.map((Ve)=>Le(Ve)):[]}},B=class{static{this.unknown=""}static{this.keyword="keyword"}static{this.script="script"}static{this.module="module"}static{this.class="class"}static{this.interface="interface"}static{this.type="type"}static{this.enum="enum"}static{this.variable="var"}static{this.localVariable="local var"}static{this.function="function"}static{this.localFunction="local function"}static{this.memberFunction="method"}static{this.memberGetAccessor="getter"}static{this.memberSetAccessor="setter"}static{this.memberVariable="property"}static{this.constructorImplementation="constructor"}static{this.callSignature="call"}static{this.indexSignature="index"}static{this.constructSignature="construct"}static{this.parameter="parameter"}static{this.typeParameter="type parameter"}static{this.primitiveType="primitive type"}static{this.label="label"}static{this.alias="alias"}static{this.const="const"}static{this.let="let"}static{this.warning="warning"}},U=Object.create(null);U[B.module]=w.languages.SymbolKind.Module,U[B.class]=w.languages.SymbolKind.Class,U[B.enum]=w.languages.SymbolKind.Enum,U[B.interface]=w.languages.SymbolKind.Interface,U[B.memberFunction]=w.languages.SymbolKind.Method,U[B.memberVariable]=w.languages.SymbolKind.Property,U[B.memberGetAccessor]=w.languages.SymbolKind.Property,U[B.memberSetAccessor]=w.languages.SymbolKind.Property,U[B.variable]=w.languages.SymbolKind.Variable,U[B.const]=w.languages.SymbolKind.Variable,U[B.localVariable]=w.languages.SymbolKind.Variable,U[B.variable]=w.languages.SymbolKind.Variable,U[B.function]=w.languages.SymbolKind.Function,U[B.localFunction]=w.languages.SymbolKind.Function;var $,G,ie=class extends _{static _convertOptions(Q){return{ConvertTabsToSpaces:Q.insertSpaces,TabSize:Q.tabSize,IndentSize:Q.tabSize,IndentStyle:2,NewLineCharacter:"\n",InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}}_convertTextChanges(Q,re){return{text:re.newText,range:this._textSpanToRange(Q,re.span)}}},ee=class extends ie{constructor(){super(...arguments),this.canFormatMultipleRanges=!1}async provideDocumentRangeFormattingEdits(Q,re,Je,Se){const Pe=Q.uri,Le=Q.getOffsetAt({lineNumber:re.startLineNumber,column:re.startColumn}),Ve=Q.getOffsetAt({lineNumber:re.endLineNumber,column:re.endColumn}),g=await this._worker(Pe);if(Q.isDisposed())return;const ge=await g.getFormattingEditsForRange(Pe.toString(),Le,Ve,ie._convertOptions(Je));return ge&&!Q.isDisposed()?ge.map((We)=>this._convertTextChanges(Q,We)):void 0}},ne=class extends ie{get autoFormatTriggerCharacters(){return[";","}","\n"]}async provideOnTypeFormattingEdits(Q,re,Je,Se,Pe){const Le=Q.uri,Ve=Q.getOffsetAt(re),g=await this._worker(Le);if(Q.isDisposed())return;const ge=await g.getFormattingEditsAfterKeystroke(Le.toString(),Ve,Je,ie._convertOptions(Se));return ge&&!Q.isDisposed()?ge.map((We)=>this._convertTextChanges(Q,We)):void 0}},H=class extends ie{async provideCodeActions(Q,re,Je,Se){const Pe=Q.uri,Le=Q.getOffsetAt({lineNumber:re.startLineNumber,column:re.startColumn}),Ve=Q.getOffsetAt({lineNumber:re.endLineNumber,column:re.endColumn}),g=ie._convertOptions(Q.getOptions()),ge=Je.markers.filter((be)=>be.code).map((be)=>be.code).map(Number),We=await this._worker(Pe);if(Q.isDisposed())return;const de=await We.getCodeFixesAtPosition(Pe.toString(),Le,Ve,ge,g);return!de||Q.isDisposed()?{actions:[],dispose:()=>{}}:{actions:de.filter((be)=>be.changes.filter((ae)=>ae.isNewFile).length===0).map((be)=>this._tsCodeFixActionToMonacoCodeAction(Q,Je,be)),dispose:()=>{}}}_tsCodeFixActionToMonacoCodeAction(Q,re,Je){const Se=[];for(let Pe of Je.changes)for(let Le of Pe.textChanges)Se.push({resource:Q.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(Q,Le.span),text:Le.newText}});return{title:Je.description,edit:{edits:Se},diagnostics:re.markers,kind:"quickfix"}}},V=class extends _{constructor(Q,re){super(re),this._libFiles=Q}async provideRenameEdits(Q,re,Je,Se){const Pe=Q.uri,Le=Pe.toString(),Ve=Q.getOffsetAt(re),g=await this._worker(Pe);if(Q.isDisposed())return;const ge=await g.getRenameInfo(Le,Ve,{allowRenameOfImportPath:!1});if(ge.canRename===!1)return{edits:[],rejectReason:ge.localizedErrorMessage};if(ge.fileToRename!==void 0)throw new Error("Renaming files is not supported.");const We=await g.findRenameLocations(Le,Ve,!1,!1,!1);if(!We||Q.isDisposed())return;const de=[];for(let be of We){const ae=this._libFiles.getOrCreateModel(be.fileName);if(!ae)throw new Error(`Unknown file ${be.fileName}.`);de.push({resource:ae.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(ae,be.textSpan),text:Je}})}return{edits:de}}},Y=class extends _{async provideInlayHints(Q,re,Je){const Se=Q.uri,Pe=Se.toString(),Le=Q.getOffsetAt({lineNumber:re.startLineNumber,column:re.startColumn}),Ve=Q.getOffsetAt({lineNumber:re.endLineNumber,column:re.endColumn}),g=await this._worker(Se);return Q.isDisposed()?null:{hints:(await g.provideInlayHints(Pe,Le,Ve)).map((ge)=>({...ge,label:ge.text,position:Q.getPositionAt(ge.position),kind:this._convertHintKind(ge.kind)})),dispose:()=>{}}}_convertHintKind(Q){return Q==="Parameter"?w.languages.InlayHintKind.Parameter:w.languages.InlayHintKind.Type}};function ve(Q){G=Ie(Q,"typescript")}function Te(Q){$=Ie(Q,"javascript")}function xe(){return new Promise((Q,re)=>{if(!$)return re("JavaScript not registered!");Q($)})}function Be(){return new Promise((Q,re)=>{if(!G)return re("TypeScript not registered!");Q(G)})}function Ie(Q,re){const Je=[],Se=[],Pe=new C(re,Q);Je.push(Pe);const Le=(...g)=>Pe.getLanguageServiceWorker(...g),Ve=new m(Le);return function(){const{modeConfiguration:g}=Q;he(Se),g.completionItems&&Se.push(w.languages.registerCompletionItemProvider(re,new x(Le))),g.signatureHelp&&Se.push(w.languages.registerSignatureHelpProvider(re,new R(Le))),g.hovers&&Se.push(w.languages.registerHoverProvider(re,new P(Le))),g.documentHighlights&&Se.push(w.languages.registerDocumentHighlightProvider(re,new z(Le))),g.definitions&&Se.push(w.languages.registerDefinitionProvider(re,new te(Ve,Le))),g.references&&Se.push(w.languages.registerReferenceProvider(re,new L(Ve,Le))),g.documentSymbols&&Se.push(w.languages.registerDocumentSymbolProvider(re,new W(Le))),g.rename&&Se.push(w.languages.registerRenameProvider(re,new V(Ve,Le))),g.documentRangeFormattingEdits&&Se.push(w.languages.registerDocumentRangeFormattingEditProvider(re,new ee(Le))),g.onTypeFormattingEdits&&Se.push(w.languages.registerOnTypeFormattingEditProvider(re,new ne(Le))),g.codeActions&&Se.push(w.languages.registerCodeActionProvider(re,new H(Le))),g.inlayHints&&Se.push(w.languages.registerInlayHintsProvider(re,new Y(Le))),g.diagnostics&&Se.push(new b(Ve,Q,re,Le))}(),Je.push(function(g){return{dispose:()=>he(g)}}(Se)),Le}function he(Q){for(;Q.length;)Q.pop().dispose()}},9746:(dt,pe,h)=>{function s(){return globalThis._VSCODE_NLS_MESSAGES}function I(){return globalThis._VSCODE_NLS_LANGUAGE}h.d(pe,{i8:()=>I,Ec:()=>s,kg:()=>M,aS:()=>E});const T=I()==="pseudo"||typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function J(w,C){let d;return d=C.length===0?w:w.replace(/\{(\d+)\}/g,(f,p)=>{const _=p[0],m=C[_];let b=f;return typeof m=="string"?b=m:typeof m!="number"&&typeof m!="boolean"&&m!=null||(b=String(m)),b}),T&&(d="\uFF3B"+d.replace(/[aouei]/g,"$&$&")+"\uFF3D"),d}function M(w,C,...d){return J(typeof w=="number"?v(w,C):C,d)}function v(w,C){const d=s()?.[w];if(typeof d!="string"){if(typeof C=="string")return C;throw new Error(`!!! NLS MISSING: ${w} !!!`)}return d}function E(w,C,...d){let f;f=typeof w=="number"?v(w,C):C;const p=J(f,d);return{value:p,original:C===f?p:J(C,d)}}},3909:(dt,pe,h)=>{h.d(pe,{f:()=>T,j:()=>I});var s=h(1540);const I=h(2399).u1("accessibilityService"),T=new s.N1("accessibilityModeEnabled",!1)},1285:(dt,pe,h)=>{h.d(pe,{Nt:()=>I,Rh:()=>M});var s=h(9746);const I=h(2399).u1("accessibilitySignalService");Symbol("AcknowledgeDocCommentsToken");class T{static register(v){return new T(v.fileName)}static{this.error=T.register({fileName:"error.mp3"})}static{this.warning=T.register({fileName:"warning.mp3"})}static{this.success=T.register({fileName:"success.mp3"})}static{this.foldedArea=T.register({fileName:"foldedAreas.mp3"})}static{this.break=T.register({fileName:"break.mp3"})}static{this.quickFixes=T.register({fileName:"quickFixes.mp3"})}static{this.taskCompleted=T.register({fileName:"taskCompleted.mp3"})}static{this.taskFailed=T.register({fileName:"taskFailed.mp3"})}static{this.terminalBell=T.register({fileName:"terminalBell.mp3"})}static{this.diffLineInserted=T.register({fileName:"diffLineInserted.mp3"})}static{this.diffLineDeleted=T.register({fileName:"diffLineDeleted.mp3"})}static{this.diffLineModified=T.register({fileName:"diffLineModified.mp3"})}static{this.chatRequestSent=T.register({fileName:"chatRequestSent.mp3"})}static{this.chatResponseReceived1=T.register({fileName:"chatResponseReceived1.mp3"})}static{this.chatResponseReceived2=T.register({fileName:"chatResponseReceived2.mp3"})}static{this.chatResponseReceived3=T.register({fileName:"chatResponseReceived3.mp3"})}static{this.chatResponseReceived4=T.register({fileName:"chatResponseReceived4.mp3"})}static{this.clear=T.register({fileName:"clear.mp3"})}static{this.save=T.register({fileName:"save.mp3"})}static{this.format=T.register({fileName:"format.mp3"})}static{this.voiceRecordingStarted=T.register({fileName:"voiceRecordingStarted.mp3"})}static{this.voiceRecordingStopped=T.register({fileName:"voiceRecordingStopped.mp3"})}static{this.progress=T.register({fileName:"progress.mp3"})}constructor(v){this.fileName=v}}class J{constructor(v){this.randomOneOf=v}}class M{constructor(v,E,w,C,d,f){this.sound=v,this.name=E,this.legacySoundSettingsKey=w,this.settingsKey=C,this.legacyAnnouncementSettingsKey=d,this.announcementMessage=f}static{this._signals=new Set}static register(v){const E=new J("randomOneOf"in v.sound?v.sound.randomOneOf:[v.sound]),w=new M(E,v.name,v.legacySoundSettingsKey,v.settingsKey,v.legacyAnnouncementSettingsKey,v.announcementMessage);return M._signals.add(w),w}static{this.errorAtPosition=M.register({name:s.kg("accessibilitySignals.positionHasError.name","Error at Position"),sound:T.error,announcementMessage:s.kg("accessibility.signals.positionHasError","Error"),settingsKey:"accessibility.signals.positionHasError",delaySettingsKey:"accessibility.signalOptions.delays.errorAtPosition"})}static{this.warningAtPosition=M.register({name:s.kg("accessibilitySignals.positionHasWarning.name","Warning at Position"),sound:T.warning,announcementMessage:s.kg("accessibility.signals.positionHasWarning","Warning"),settingsKey:"accessibility.signals.positionHasWarning",delaySettingsKey:"accessibility.signalOptions.delays.warningAtPosition"})}static{this.errorOnLine=M.register({name:s.kg("accessibilitySignals.lineHasError.name","Error on Line"),sound:T.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:s.kg("accessibility.signals.lineHasError","Error on Line"),settingsKey:"accessibility.signals.lineHasError"})}static{this.warningOnLine=M.register({name:s.kg("accessibilitySignals.lineHasWarning.name","Warning on Line"),sound:T.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:s.kg("accessibility.signals.lineHasWarning","Warning on Line"),settingsKey:"accessibility.signals.lineHasWarning"})}static{this.foldedArea=M.register({name:s.kg("accessibilitySignals.lineHasFoldedArea.name","Folded Area on Line"),sound:T.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:s.kg("accessibility.signals.lineHasFoldedArea","Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"})}static{this.break=M.register({name:s.kg("accessibilitySignals.lineHasBreakpoint.name","Breakpoint on Line"),sound:T.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:s.kg("accessibility.signals.lineHasBreakpoint","Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"})}static{this.inlineSuggestion=M.register({name:s.kg("accessibilitySignals.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:T.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"})}static{this.terminalQuickFix=M.register({name:s.kg("accessibilitySignals.terminalQuickFix.name","Terminal Quick Fix"),sound:T.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:s.kg("accessibility.signals.terminalQuickFix","Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"})}static{this.onDebugBreak=M.register({name:s.kg("accessibilitySignals.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:T.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:s.kg("accessibility.signals.onDebugBreak","Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"})}static{this.noInlayHints=M.register({name:s.kg("accessibilitySignals.noInlayHints","No Inlay Hints on Line"),sound:T.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:s.kg("accessibility.signals.noInlayHints","No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"})}static{this.taskCompleted=M.register({name:s.kg("accessibilitySignals.taskCompleted","Task Completed"),sound:T.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:s.kg("accessibility.signals.taskCompleted","Task Completed"),settingsKey:"accessibility.signals.taskCompleted"})}static{this.taskFailed=M.register({name:s.kg("accessibilitySignals.taskFailed","Task Failed"),sound:T.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:s.kg("accessibility.signals.taskFailed","Task Failed"),settingsKey:"accessibility.signals.taskFailed"})}static{this.terminalCommandFailed=M.register({name:s.kg("accessibilitySignals.terminalCommandFailed","Terminal Command Failed"),sound:T.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:s.kg("accessibility.signals.terminalCommandFailed","Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"})}static{this.terminalCommandSucceeded=M.register({name:s.kg("accessibilitySignals.terminalCommandSucceeded","Terminal Command Succeeded"),sound:T.success,announcementMessage:s.kg("accessibility.signals.terminalCommandSucceeded","Command Succeeded"),settingsKey:"accessibility.signals.terminalCommandSucceeded"})}static{this.terminalBell=M.register({name:s.kg("accessibilitySignals.terminalBell","Terminal Bell"),sound:T.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:s.kg("accessibility.signals.terminalBell","Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"})}static{this.notebookCellCompleted=M.register({name:s.kg("accessibilitySignals.notebookCellCompleted","Notebook Cell Completed"),sound:T.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:s.kg("accessibility.signals.notebookCellCompleted","Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"})}static{this.notebookCellFailed=M.register({name:s.kg("accessibilitySignals.notebookCellFailed","Notebook Cell Failed"),sound:T.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:s.kg("accessibility.signals.notebookCellFailed","Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"})}static{this.diffLineInserted=M.register({name:s.kg("accessibilitySignals.diffLineInserted","Diff Line Inserted"),sound:T.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"})}static{this.diffLineDeleted=M.register({name:s.kg("accessibilitySignals.diffLineDeleted","Diff Line Deleted"),sound:T.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"})}static{this.diffLineModified=M.register({name:s.kg("accessibilitySignals.diffLineModified","Diff Line Modified"),sound:T.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"})}static{this.chatRequestSent=M.register({name:s.kg("accessibilitySignals.chatRequestSent","Chat Request Sent"),sound:T.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:s.kg("accessibility.signals.chatRequestSent","Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"})}static{this.chatResponseReceived=M.register({name:s.kg("accessibilitySignals.chatResponseReceived","Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[T.chatResponseReceived1,T.chatResponseReceived2,T.chatResponseReceived3,T.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"})}static{this.progress=M.register({name:s.kg("accessibilitySignals.progress","Progress"),sound:T.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.progress",announcementMessage:s.kg("accessibility.signals.progress","Progress"),settingsKey:"accessibility.signals.progress"})}static{this.clear=M.register({name:s.kg("accessibilitySignals.clear","Clear"),sound:T.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:s.kg("accessibility.signals.clear","Clear"),settingsKey:"accessibility.signals.clear"})}static{this.save=M.register({name:s.kg("accessibilitySignals.save","Save"),sound:T.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:s.kg("accessibility.signals.save","Save"),settingsKey:"accessibility.signals.save"})}static{this.format=M.register({name:s.kg("accessibilitySignals.format","Format"),sound:T.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:s.kg("accessibility.signals.format","Format"),settingsKey:"accessibility.signals.format"})}static{this.voiceRecordingStarted=M.register({name:s.kg("accessibilitySignals.voiceRecordingStarted","Voice Recording Started"),sound:T.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"})}static{this.voiceRecordingStopped=M.register({name:s.kg("accessibilitySignals.voiceRecordingStopped","Voice Recording Stopped"),sound:T.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"})}}},8039:(dt,pe,h)=>{function s(T){return T&&typeof T=="object"&&typeof T.original=="string"&&typeof T.value=="string"}function I(T){return!!T&&T.condition!==void 0}h.d(pe,{N:()=>I,f:()=>s})},7482:(dt,pe,h)=>{h.d(pe,{$u:()=>G,Ot:()=>ie,oq:()=>ne,rN:()=>Te,rr:()=>H});var s=h(4333),I=h(7594),T=h(7598),J=h(1277),M=h(7969),v=h(8315),E=h(998),w=h(3339),C=h(9746),d=h(8067),f=h(8039),p=h(1540),_=h(2348),m=h(2399),b=h(6071),x=h(9879),k=h(840),R=h(9044),P=h(8881),z=h(9563),te=h(9359),L=h(559),W=h(5654),B=h(3909),U=function(xe,Be,Ie,he){var Q,re=arguments.length,Je=re<3?Be:he===null?he=Object.getOwnPropertyDescriptor(Be,Ie):he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Je=Reflect.decorate(xe,Be,Ie,he);else for(var Se=xe.length-1;Se>=0;Se--)(Q=xe[Se])&&(Je=(re<3?Q(Je):re>3?Q(Be,Ie,Je):Q(Be,Ie))||Je);return re>3&&Je&&Object.defineProperty(Be,Ie,Je),Je},$=function(xe,Be){return function(Ie,he){Be(Ie,he,xe)}};function G(xe,Be,Ie,he){let Q,re,Je;if(Array.isArray(xe))Je=xe,Q=Be,re=Ie;else{const Pe=Be;Je=xe.getActions(Pe),Q=Ie,re=he}const Se=s.Di.getInstance();ee(Je,Q,Se.keyStatus.altKey||(w.uF||w.j9)&&Se.keyStatus.shiftKey,re?(Pe)=>Pe===re:(Pe)=>Pe==="navigation")}function ie(xe,Be,Ie,he,Q,re){let Je,Se,Pe,Le,Ve;if(Array.isArray(xe))Ve=xe,Je=Be,Se=Ie,Pe=he,Le=Q;else{const g=Be;Ve=xe.getActions(g),Je=Ie,Se=he,Pe=Q,Le=re}ee(Ve,Je,!1,typeof Se=="string"?(g)=>g===Se:Se,Pe,Le)}function ee(xe,Be,Ie,he=(Je)=>Je==="navigation",Q=()=>!1,re=!1){let Je,Se;Array.isArray(Be)?(Je=Be,Se=Be):(Je=Be.primary,Se=Be.secondary);const Pe=new Set;for(let[Le,Ve]of xe){let g;he(Le)?(g=Je,g.length>0&&re&&g.push(new M.wv)):(g=Se,g.length>0&&g.push(new M.wv));for(let ge of Ve){Ie&&(ge=ge instanceof d.Xe&&ge.alt?ge.alt:ge);const We=g.push(ge);ge instanceof M.YH&&Pe.add({group:Le,action:ge,index:We-1})}}for(let{group:Le,action:Ve,index:g}of Pe){const ge=he(Le)?Je:Se,We=Ve.actions;Q(Ve,Le,ge.length)&&ge.splice(g,1,...We)}}let ne=class extends T.Z4{constructor(xe,Be,Ie,he,Q,re,Je,Se){super(void 0,xe,{icon:!(!xe.class&&!xe.item.icon),label:!xe.class&&!xe.item.icon,draggable:Be?.draggable,keybinding:Be?.keybinding,hoverDelegate:Be?.hoverDelegate}),this._options=Be,this._keybindingService=Ie,this._notificationService=he,this._contextKeyService=Q,this._themeService=re,this._contextMenuService=Je,this._accessibilityService=Se,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new E.HE),this._altKey=s.Di.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(xe){xe.preventDefault(),xe.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(Be){this._notificationService.error(Be)}}render(xe){if(super.render(xe),xe.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let Be=!1;const Ie=()=>{const he=!!this._menuItemAction.alt?.enabled&&(!this._accessibilityService.isMotionReduced()||Be)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&Be);he!==this._wantsAltCommand&&(this._wantsAltCommand=he,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(Ie)),this._register(s.ko(xe,"mouseleave",(he)=>{Be=!1,Ie()})),this._register(s.ko(xe,"mouseenter",(he)=>{Be=!0,Ie()})),Ie()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){const xe=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),Be=xe&&xe.getLabel(),Ie=this._commandAction.tooltip||this._commandAction.label;let he=Be?C.kg("titleAndKb","{0} ({1})",Ie,Be):Ie;if(!this._wantsAltCommand&&this._menuItemAction.alt?.enabled){const Q=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,re=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),Je=re&&re.getLabel(),Se=Je?C.kg("titleAndKb","{0} ({1})",Q,Je):Q;he=C.kg("titleAndKbAndAlt","{0}\n[{1}] {2}",he,v.Of.modifierLabels[w.OS].altKey,Se)}return he}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(xe){this._itemClassDispose.value=void 0;const{element:Be,label:Ie}=this;if(!Be||!Ie)return;const he=this._commandAction.checked&&f.N(xe.toggled)&&xe.toggled.icon?xe.toggled.icon:xe.icon;if(he)if(P.L.isThemeIcon(he)){const Q=P.L.asClassNameArray(he);Ie.classList.add(...Q),this._itemClassDispose.value=E.s(()=>{Ie.classList.remove(...Q)})}else Ie.style.backgroundImage=z.HD(this._themeService.getColorTheme().type)?s.Tf(he.dark):s.Tf(he.light),Ie.classList.add("icon"),this._itemClassDispose.value=E.qE(E.s(()=>{Ie.style.backgroundImage="",Ie.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};ne=U([$(2,b.b),$(3,x.Ot),$(4,p.fN),$(5,R.Gy),$(6,_.Z),$(7,B.j)],ne);class H extends ne{render(xe){this.options.label=!0,this.options.icon=!1,super.render(xe),xe.classList.add("text-only"),xe.classList.toggle("use-comma",this._options?.useComma??!1)}updateLabel(){const xe=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!xe)return super.updateLabel();if(this.label){const Be=H._symbolPrintEnter(xe);this._options?.conversational?this.label.textContent=C.kg({key:"content2",comment:['A label with keybindg like "ESC to dismiss"']},"{1} to {0}",this._action.label,Be):this.label.textContent=C.kg({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,Be)}}static _symbolPrintEnter(xe){return xe.getLabel()?.replace(/\benter\b/gi,"\u23CE").replace(/\bEscape\b/gi,"Esc")}}let V=class extends J.d{constructor(xe,Be,Ie,he,Q){const re={...Be,menuAsChild:Be?.menuAsChild??!1,classNames:Be?.classNames??(P.L.isThemeIcon(xe.item.icon)?P.L.asClassName(xe.item.icon):void 0),keybindingProvider:Be?.keybindingProvider??((Je)=>Ie.lookupKeybinding(Je.id))};super(xe,{getActions:()=>xe.actions},he,re),this._keybindingService=Ie,this._contextMenuService=he,this._themeService=Q}render(xe){super.render(xe),te.j(this.element),xe.classList.add("menu-entry");const Be=this._action,{icon:Ie}=Be.item;if(Ie&&!P.L.isThemeIcon(Ie)){this.element.classList.add("icon");const he=()=>{this.element&&(this.element.style.backgroundImage=z.HD(this._themeService.getColorTheme().type)?s.Tf(Ie.dark):s.Tf(Ie.light))};he(),this._register(this._themeService.onDidColorThemeChange(()=>{he()}))}}};V=U([$(2,b.b),$(3,_.Z),$(4,R.Gy)],V);let Y=class extends T.EH{constructor(xe,Be,Ie,he,Q,re,Je,Se){let Pe;super(null,xe),this._keybindingService=Ie,this._notificationService=he,this._contextMenuService=Q,this._menuService=re,this._instaService=Je,this._storageService=Se,this._container=null,this._options=Be,this._storageKey=`${xe.item.submenu.id}_lastActionId`;const Le=Be?.persistLastActionId?Se.get(this._storageKey,1):void 0;Le&&(Pe=xe.actions.find((g)=>Le===g.id)),Pe||(Pe=xe.actions[0]),this._defaultAction=this._instaService.createInstance(ne,Pe,{keybinding:this._getDefaultActionKeybindingLabel(Pe)});const Ve={keybindingProvider:(g)=>this._keybindingService.lookupKeybinding(g.id),...Be,menuAsChild:Be?.menuAsChild??!0,classNames:Be?.classNames??["codicon","codicon-chevron-down"],actionRunner:Be?.actionRunner??new M.LN};this._dropdown=new J.d(xe,xe.actions,this._contextMenuService,Ve),this._register(this._dropdown.actionRunner.onDidRun((g)=>{g.action instanceof d.Xe&&this.update(g.action)}))}update(xe){this._options?.persistLastActionId&&this._storageService.store(this._storageKey,xe.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(ne,xe,{keybinding:this._getDefaultActionKeybindingLabel(xe)}),this._defaultAction.actionRunner=new class extends M.LN{async runAction(Be,Ie){await Be.run(void 0)}},this._container&&this._defaultAction.render(s.Hs(this._container,s.$(".action-container")))}_getDefaultActionKeybindingLabel(xe){let Be;if(this._options?.renderKeybindingWithDefaultActionLabel){const Ie=this._keybindingService.lookupKeybinding(xe.id);Ie&&(Be=`(${Ie.getLabel()})`)}return Be}setActionContext(xe){super.setActionContext(xe),this._defaultAction.setActionContext(xe),this._dropdown.setActionContext(xe)}render(xe){this._container=xe,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const Be=s.$(".action-container");this._defaultAction.render(s.BC(this._container,Be)),this._register(s.ko(Be,s.Bx.KEY_DOWN,(he)=>{const Q=new I.Z(he);Q.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),Q.stopPropagation())}));const Ie=s.$(".dropdown-action-container");this._dropdown.render(s.BC(this._container,Ie)),this._register(s.ko(Ie,s.Bx.KEY_DOWN,(he)=>{const Q=new I.Z(he);Q.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),this._defaultAction.element?.focus(),Q.stopPropagation())}))}focus(xe){xe?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(xe){xe?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};Y=U([$(2,b.b),$(3,x.Ot),$(4,_.Z),$(5,d.ez),$(6,m._Y),$(7,k.CS)],Y);let ve=class extends T.XF{constructor(xe,Be){super(null,xe,xe.actions.map((Ie)=>({text:Ie.id===M.wv.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":Ie.label,isDisabled:!Ie.enabled})),0,Be,W.RE,{ariaLabel:xe.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,xe.actions.findIndex((Ie)=>Ie.checked)))}render(xe){super.render(xe),xe.style.borderColor=L.GuP(L.HcB)}runAction(xe,Be){const Ie=this.action.actions[Be];Ie&&this.actionRunner.run(Ie)}};function Te(xe,Be,Ie){return Be instanceof d.Xe?xe.createInstance(ne,Be,Ie):Be instanceof d.nI?Be.item.isSelection?xe.createInstance(ve,Be):Be.item.rememberDefaultAction?xe.createInstance(Y,Be,{...Ie,persistLastActionId:!0}):xe.createInstance(V,Be,Ie):void 0}ve=U([$(1,_.l)],ve)},583:(dt,pe,h)=>{h.d(pe,{m:()=>ee,p:()=>ie});var s=h(4333),I=h(9715),T=h(7439),J=h(1277),M=h(7969),v=h(5915),E=h(8881),w=h(2106),C=h(998),d=h(9746),f=h(5568);class p extends C.jG{constructor(ne,H,V={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new w._B),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new C.Cm),V.hoverDelegate=V.hoverDelegate??this._register(f.bW()),this.options=V,this.toggleMenuAction=this._register(new _(()=>this.toggleMenuActionViewItem?.show(),V.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",ne.appendChild(this.element),this.actionBar=this._register(new T.E(this.element,{orientation:V.orientation,ariaLabel:V.ariaLabel,actionRunner:V.actionRunner,allowContextMenu:V.allowContextMenu,highlightToggledItems:V.highlightToggledItems,hoverDelegate:V.hoverDelegate,actionViewItemProvider:(Y,ve)=>{if(Y.id===_.ID)return this.toggleMenuActionViewItem=new J.d(Y,Y.menuActions,H,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:E.L.asClassNameArray(V.moreIcon??v.W.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(V.actionViewItemProvider){const Te=V.actionViewItemProvider(Y,ve);if(Te)return Te}if(Y instanceof M.YH){const Te=new J.d(Y,Y.actions,H,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:Y.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return Te.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(Te),this.disposables.add(this._onDidChangeDropdownVisibility.add(Te.onDidChangeVisibility)),Te}}}))}set actionRunner(ne){this.actionBar.actionRunner=ne}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(ne){return this.actionBar.getAction(ne)}setActions(ne,H){this.clear();const V=ne?ne.slice(0):[];this.hasSecondaryActions=!!(H&&H.length>0),this.hasSecondaryActions&&H&&(this.toggleMenuAction.menuActions=H.slice(0),V.push(this.toggleMenuAction)),V.forEach((Y)=>{this.actionBar.push(Y,{icon:this.options.icon??!0,label:this.options.label??!1,keybinding:this.getKeybindingLabel(Y)})})}getKeybindingLabel(ne){return this.options.getKeyBinding?.(ne)?.getLabel()??void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class _ extends M.rc{static{this.ID="toolbar.toggle.more"}constructor(ne,H){H=H||d.kg("moreActions","More Actions..."),super(_.ID,H,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=ne}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(ne){this._menuActions=ne}}var m=h(3338),b=h(8436),x=h(4327),k=h(7954),R=h(7482),P=h(8067),z=h(3810),te=h(2096),L=h(1540),W=h(2348),B=h(6071),U=h(6243),$=function(ne,H,V,Y){var ve,Te=arguments.length,xe=Te<3?H:Y===null?Y=Object.getOwnPropertyDescriptor(H,V):Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xe=Reflect.decorate(ne,H,V,Y);else for(var Be=ne.length-1;Be>=0;Be--)(ve=ne[Be])&&(xe=(Te<3?ve(xe):Te>3?ve(H,V,xe):ve(H,V))||xe);return Te>3&&xe&&Object.defineProperty(H,V,xe),xe},G=function(ne,H){return function(V,Y){H(V,Y,ne)}};let ie=class extends p{constructor(ne,H,V,Y,ve,Te,xe,Be){super(ne,ve,{getKeyBinding:(he)=>Te.lookupKeybinding(he.id)??void 0,...H,allowContextMenu:!0,skipTelemetry:typeof H?.telemetrySource=="string"}),this._options=H,this._menuService=V,this._contextKeyService=Y,this._contextMenuService=ve,this._keybindingService=Te,this._commandService=xe,this._sessionDisposables=this._store.add(new C.Cm);const Ie=H?.telemetrySource;Ie&&this._store.add(this.actionBar.onDidRun((he)=>Be.publicLog2("workbenchActionExecuted",{id:he.action.id,from:Ie})))}setActions(ne,H=[],V){this._sessionDisposables.clear();const Y=ne.slice(),ve=H.slice(),Te=[];let xe=0;const Be=[];let Ie=!1;if(this._options?.hiddenItemStrategy!==-1)for(let he=0;he<Y.length;he++){const Q=Y[he];(Q instanceof P.Xe||Q instanceof P.nI)&&Q.hideActions&&(Te.push(Q.hideActions.toggle),Q.hideActions.toggle.checked&&xe++,Q.hideActions.isHidden&&(Ie=!0,Y[he]=void 0,this._options?.hiddenItemStrategy!==0&&(Be[he]=Q)))}if(this._options?.overflowBehavior!==void 0){const he=b.E(new Set(this._options.overflowBehavior.exempted),k.f.map(Y,(Je)=>Je?.id)),Q=this._options.overflowBehavior.maxItems-he.size;let re=0;for(let Je=0;Je<Y.length;Je++){const Se=Y[Je];Se&&(re++,he.has(Se.id)||re>=Q&&(Y[Je]=void 0,Be[Je]=Se))}}m.SK(Y),m.SK(Be),super.setActions(Y,M.wv.join(Be,ve)),(Te.length>0||Y.length>0)&&this._sessionDisposables.add(s.ko(this.getElement(),"contextmenu",(he)=>{const Q=new I.P(s.zk(this.getElement()),he),re=this.getItemAction(Q.target);if(!re)return;Q.preventDefault(),Q.stopPropagation();const Je=[];if(re instanceof P.Xe&&re.menuKeybinding)Je.push(re.menuKeybinding);else if(!(re instanceof P.nI||re instanceof _)){const Pe=!!this._keybindingService.lookupKeybinding(re.id);Je.push(z.D(this._commandService,this._keybindingService,re.id,void 0,Pe))}if(Te.length>0){let Pe=!1;if(xe===1&&this._options?.hiddenItemStrategy===0){Pe=!0;for(let Le=0;Le<Te.length;Le++)if(Te[Le].checked){Te[Le]=M.ih({id:re.id,label:re.label,checked:!0,enabled:!1,run(){}});break}}if(!Pe&&(re instanceof P.Xe||re instanceof P.nI)){if(!re.hideActions)return;Je.push(re.hideActions.hide)}else Je.push(M.ih({id:"label",label:d.kg("hide","Hide"),enabled:!1,run(){}}))}const Se=M.wv.join(Je,Te);this._options?.resetMenu&&!V&&(V=[this._options.resetMenu]),Ie&&V&&(Se.push(new M.wv),Se.push(M.ih({id:"resetThisMenu",label:d.kg("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(V)}))),Se.length!==0&&this._contextMenuService.showContextMenu({getAnchor:()=>Q,getActions:()=>Se,menuId:this._options?.contextMenu,menuActionOptions:{renderShortTitle:!0,...this._options?.menuOptions},skipTelemetry:typeof this._options?.telemetrySource=="string",contextKeyService:this._contextKeyService})}))}};ie=$([G(2,P.ez),G(3,L.fN),G(4,W.Z),G(5,B.b),G(6,te.d),G(7,U.k)],ie);let ee=class extends ie{constructor(ne,H,V,Y,ve,Te,xe,Be,Ie){super(ne,{resetMenu:H,...V},Y,ve,Te,xe,Be,Ie),this._onDidChangeMenuItems=this._store.add(new w.vl),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const he=this._store.add(Y.createMenu(H,ve,{emitEventsForSubmenuChanges:!0})),Q=()=>{const re=[],Je=[];R.Ot(he,V?.menuOptions,{primary:re,secondary:Je},V?.toolbarOptions?.primaryGroup,V?.toolbarOptions?.shouldInlineSubmenu,V?.toolbarOptions?.useSeparatorsInPrimaryActions),ne.classList.toggle("has-no-actions",re.length===0&&Je.length===0),super.setActions(re,Je)};this._store.add(he.onDidChange(()=>{Q(),this._onDidChangeMenuItems.fire(this)})),Q()}setActions(){throw new x.D7("This toolbar is populated from a menu.")}};ee=$([G(3,P.ez),G(4,L.fN),G(5,W.Z),G(6,B.b),G(7,te.d),G(8,U.k)],ee)},8067:(dt,pe,h)=>{h.d(pe,{D8:()=>m,L:()=>z,Xe:()=>P,ZG:()=>k,ez:()=>b,i1:()=>_,is:()=>p,nI:()=>R,ug:()=>te});var s,I=h(7969),T=h(8881),J=h(2106),M=h(998),v=h(5525),E=h(2096),w=h(1540),C=h(2399),d=h(8421),f=function(L,W){return function(B,U){W(B,U,L)}};function p(L){return L.command!==void 0}function _(L){return L.submenu!==void 0}class m{static{this._instances=new Map}static{this.CommandPalette=new m("CommandPalette")}static{this.DebugBreakpointsContext=new m("DebugBreakpointsContext")}static{this.DebugCallStackContext=new m("DebugCallStackContext")}static{this.DebugConsoleContext=new m("DebugConsoleContext")}static{this.DebugVariablesContext=new m("DebugVariablesContext")}static{this.NotebookVariablesContext=new m("NotebookVariablesContext")}static{this.DebugHoverContext=new m("DebugHoverContext")}static{this.DebugWatchContext=new m("DebugWatchContext")}static{this.DebugToolBar=new m("DebugToolBar")}static{this.DebugToolBarStop=new m("DebugToolBarStop")}static{this.DebugCallStackToolbar=new m("DebugCallStackToolbar")}static{this.DebugCreateConfiguration=new m("DebugCreateConfiguration")}static{this.EditorContext=new m("EditorContext")}static{this.SimpleEditorContext=new m("SimpleEditorContext")}static{this.EditorContent=new m("EditorContent")}static{this.EditorLineNumberContext=new m("EditorLineNumberContext")}static{this.EditorContextCopy=new m("EditorContextCopy")}static{this.EditorContextPeek=new m("EditorContextPeek")}static{this.EditorContextShare=new m("EditorContextShare")}static{this.EditorTitle=new m("EditorTitle")}static{this.EditorTitleRun=new m("EditorTitleRun")}static{this.EditorTitleContext=new m("EditorTitleContext")}static{this.EditorTitleContextShare=new m("EditorTitleContextShare")}static{this.EmptyEditorGroup=new m("EmptyEditorGroup")}static{this.EmptyEditorGroupContext=new m("EmptyEditorGroupContext")}static{this.EditorTabsBarContext=new m("EditorTabsBarContext")}static{this.EditorTabsBarShowTabsSubmenu=new m("EditorTabsBarShowTabsSubmenu")}static{this.EditorTabsBarShowTabsZenModeSubmenu=new m("EditorTabsBarShowTabsZenModeSubmenu")}static{this.EditorActionsPositionSubmenu=new m("EditorActionsPositionSubmenu")}static{this.ExplorerContext=new m("ExplorerContext")}static{this.ExplorerContextShare=new m("ExplorerContextShare")}static{this.ExtensionContext=new m("ExtensionContext")}static{this.GlobalActivity=new m("GlobalActivity")}static{this.CommandCenter=new m("CommandCenter")}static{this.CommandCenterCenter=new m("CommandCenterCenter")}static{this.LayoutControlMenuSubmenu=new m("LayoutControlMenuSubmenu")}static{this.LayoutControlMenu=new m("LayoutControlMenu")}static{this.MenubarMainMenu=new m("MenubarMainMenu")}static{this.MenubarAppearanceMenu=new m("MenubarAppearanceMenu")}static{this.MenubarDebugMenu=new m("MenubarDebugMenu")}static{this.MenubarEditMenu=new m("MenubarEditMenu")}static{this.MenubarCopy=new m("MenubarCopy")}static{this.MenubarFileMenu=new m("MenubarFileMenu")}static{this.MenubarGoMenu=new m("MenubarGoMenu")}static{this.MenubarHelpMenu=new m("MenubarHelpMenu")}static{this.MenubarLayoutMenu=new m("MenubarLayoutMenu")}static{this.MenubarNewBreakpointMenu=new m("MenubarNewBreakpointMenu")}static{this.PanelAlignmentMenu=new m("PanelAlignmentMenu")}static{this.PanelPositionMenu=new m("PanelPositionMenu")}static{this.ActivityBarPositionMenu=new m("ActivityBarPositionMenu")}static{this.MenubarPreferencesMenu=new m("MenubarPreferencesMenu")}static{this.MenubarRecentMenu=new m("MenubarRecentMenu")}static{this.MenubarSelectionMenu=new m("MenubarSelectionMenu")}static{this.MenubarShare=new m("MenubarShare")}static{this.MenubarSwitchEditorMenu=new m("MenubarSwitchEditorMenu")}static{this.MenubarSwitchGroupMenu=new m("MenubarSwitchGroupMenu")}static{this.MenubarTerminalMenu=new m("MenubarTerminalMenu")}static{this.MenubarViewMenu=new m("MenubarViewMenu")}static{this.MenubarHomeMenu=new m("MenubarHomeMenu")}static{this.OpenEditorsContext=new m("OpenEditorsContext")}static{this.OpenEditorsContextShare=new m("OpenEditorsContextShare")}static{this.ProblemsPanelContext=new m("ProblemsPanelContext")}static{this.SCMInputBox=new m("SCMInputBox")}static{this.SCMChangesSeparator=new m("SCMChangesSeparator")}static{this.SCMChangesContext=new m("SCMChangesContext")}static{this.SCMIncomingChanges=new m("SCMIncomingChanges")}static{this.SCMIncomingChangesContext=new m("SCMIncomingChangesContext")}static{this.SCMIncomingChangesSetting=new m("SCMIncomingChangesSetting")}static{this.SCMOutgoingChanges=new m("SCMOutgoingChanges")}static{this.SCMOutgoingChangesContext=new m("SCMOutgoingChangesContext")}static{this.SCMOutgoingChangesSetting=new m("SCMOutgoingChangesSetting")}static{this.SCMIncomingChangesAllChangesContext=new m("SCMIncomingChangesAllChangesContext")}static{this.SCMIncomingChangesHistoryItemContext=new m("SCMIncomingChangesHistoryItemContext")}static{this.SCMOutgoingChangesAllChangesContext=new m("SCMOutgoingChangesAllChangesContext")}static{this.SCMOutgoingChangesHistoryItemContext=new m("SCMOutgoingChangesHistoryItemContext")}static{this.SCMChangeContext=new m("SCMChangeContext")}static{this.SCMResourceContext=new m("SCMResourceContext")}static{this.SCMResourceContextShare=new m("SCMResourceContextShare")}static{this.SCMResourceFolderContext=new m("SCMResourceFolderContext")}static{this.SCMResourceGroupContext=new m("SCMResourceGroupContext")}static{this.SCMSourceControl=new m("SCMSourceControl")}static{this.SCMSourceControlInline=new m("SCMSourceControlInline")}static{this.SCMSourceControlTitle=new m("SCMSourceControlTitle")}static{this.SCMHistoryTitle=new m("SCMHistoryTitle")}static{this.SCMTitle=new m("SCMTitle")}static{this.SearchContext=new m("SearchContext")}static{this.SearchActionMenu=new m("SearchActionContext")}static{this.StatusBarWindowIndicatorMenu=new m("StatusBarWindowIndicatorMenu")}static{this.StatusBarRemoteIndicatorMenu=new m("StatusBarRemoteIndicatorMenu")}static{this.StickyScrollContext=new m("StickyScrollContext")}static{this.TestItem=new m("TestItem")}static{this.TestItemGutter=new m("TestItemGutter")}static{this.TestProfilesContext=new m("TestProfilesContext")}static{this.TestMessageContext=new m("TestMessageContext")}static{this.TestMessageContent=new m("TestMessageContent")}static{this.TestPeekElement=new m("TestPeekElement")}static{this.TestPeekTitle=new m("TestPeekTitle")}static{this.TestCallStack=new m("TestCallStack")}static{this.TouchBarContext=new m("TouchBarContext")}static{this.TitleBarContext=new m("TitleBarContext")}static{this.TitleBarTitleContext=new m("TitleBarTitleContext")}static{this.TunnelContext=new m("TunnelContext")}static{this.TunnelPrivacy=new m("TunnelPrivacy")}static{this.TunnelProtocol=new m("TunnelProtocol")}static{this.TunnelPortInline=new m("TunnelInline")}static{this.TunnelTitle=new m("TunnelTitle")}static{this.TunnelLocalAddressInline=new m("TunnelLocalAddressInline")}static{this.TunnelOriginInline=new m("TunnelOriginInline")}static{this.ViewItemContext=new m("ViewItemContext")}static{this.ViewContainerTitle=new m("ViewContainerTitle")}static{this.ViewContainerTitleContext=new m("ViewContainerTitleContext")}static{this.ViewTitle=new m("ViewTitle")}static{this.ViewTitleContext=new m("ViewTitleContext")}static{this.CommentEditorActions=new m("CommentEditorActions")}static{this.CommentThreadTitle=new m("CommentThreadTitle")}static{this.CommentThreadActions=new m("CommentThreadActions")}static{this.CommentThreadAdditionalActions=new m("CommentThreadAdditionalActions")}static{this.CommentThreadTitleContext=new m("CommentThreadTitleContext")}static{this.CommentThreadCommentContext=new m("CommentThreadCommentContext")}static{this.CommentTitle=new m("CommentTitle")}static{this.CommentActions=new m("CommentActions")}static{this.CommentsViewThreadActions=new m("CommentsViewThreadActions")}static{this.InteractiveToolbar=new m("InteractiveToolbar")}static{this.InteractiveCellTitle=new m("InteractiveCellTitle")}static{this.InteractiveCellDelete=new m("InteractiveCellDelete")}static{this.InteractiveCellExecute=new m("InteractiveCellExecute")}static{this.InteractiveInputExecute=new m("InteractiveInputExecute")}static{this.InteractiveInputConfig=new m("InteractiveInputConfig")}static{this.ReplInputExecute=new m("ReplInputExecute")}static{this.IssueReporter=new m("IssueReporter")}static{this.NotebookToolbar=new m("NotebookToolbar")}static{this.NotebookStickyScrollContext=new m("NotebookStickyScrollContext")}static{this.NotebookCellTitle=new m("NotebookCellTitle")}static{this.NotebookCellDelete=new m("NotebookCellDelete")}static{this.NotebookCellInsert=new m("NotebookCellInsert")}static{this.NotebookCellBetween=new m("NotebookCellBetween")}static{this.NotebookCellListTop=new m("NotebookCellTop")}static{this.NotebookCellExecute=new m("NotebookCellExecute")}static{this.NotebookCellExecuteGoTo=new m("NotebookCellExecuteGoTo")}static{this.NotebookCellExecutePrimary=new m("NotebookCellExecutePrimary")}static{this.NotebookDiffCellInputTitle=new m("NotebookDiffCellInputTitle")}static{this.NotebookDiffCellMetadataTitle=new m("NotebookDiffCellMetadataTitle")}static{this.NotebookDiffCellOutputsTitle=new m("NotebookDiffCellOutputsTitle")}static{this.NotebookOutputToolbar=new m("NotebookOutputToolbar")}static{this.NotebookOutlineFilter=new m("NotebookOutlineFilter")}static{this.NotebookOutlineActionMenu=new m("NotebookOutlineActionMenu")}static{this.NotebookEditorLayoutConfigure=new m("NotebookEditorLayoutConfigure")}static{this.NotebookKernelSource=new m("NotebookKernelSource")}static{this.BulkEditTitle=new m("BulkEditTitle")}static{this.BulkEditContext=new m("BulkEditContext")}static{this.TimelineItemContext=new m("TimelineItemContext")}static{this.TimelineTitle=new m("TimelineTitle")}static{this.TimelineTitleContext=new m("TimelineTitleContext")}static{this.TimelineFilterSubMenu=new m("TimelineFilterSubMenu")}static{this.AccountsContext=new m("AccountsContext")}static{this.SidebarTitle=new m("SidebarTitle")}static{this.PanelTitle=new m("PanelTitle")}static{this.AuxiliaryBarTitle=new m("AuxiliaryBarTitle")}static{this.AuxiliaryBarHeader=new m("AuxiliaryBarHeader")}static{this.TerminalInstanceContext=new m("TerminalInstanceContext")}static{this.TerminalEditorInstanceContext=new m("TerminalEditorInstanceContext")}static{this.TerminalNewDropdownContext=new m("TerminalNewDropdownContext")}static{this.TerminalTabContext=new m("TerminalTabContext")}static{this.TerminalTabEmptyAreaContext=new m("TerminalTabEmptyAreaContext")}static{this.TerminalStickyScrollContext=new m("TerminalStickyScrollContext")}static{this.WebviewContext=new m("WebviewContext")}static{this.InlineCompletionsActions=new m("InlineCompletionsActions")}static{this.InlineEditsActions=new m("InlineEditsActions")}static{this.InlineEditActions=new m("InlineEditActions")}static{this.NewFile=new m("NewFile")}static{this.MergeInput1Toolbar=new m("MergeToolbar1Toolbar")}static{this.MergeInput2Toolbar=new m("MergeToolbar2Toolbar")}static{this.MergeBaseToolbar=new m("MergeBaseToolbar")}static{this.MergeInputResultToolbar=new m("MergeToolbarResultToolbar")}static{this.InlineSuggestionToolbar=new m("InlineSuggestionToolbar")}static{this.InlineEditToolbar=new m("InlineEditToolbar")}static{this.ChatContext=new m("ChatContext")}static{this.ChatCodeBlock=new m("ChatCodeblock")}static{this.ChatCompareBlock=new m("ChatCompareBlock")}static{this.ChatMessageTitle=new m("ChatMessageTitle")}static{this.ChatExecute=new m("ChatExecute")}static{this.ChatExecuteSecondary=new m("ChatExecuteSecondary")}static{this.ChatInputSide=new m("ChatInputSide")}static{this.AccessibleView=new m("AccessibleView")}static{this.MultiDiffEditorFileToolbar=new m("MultiDiffEditorFileToolbar")}static{this.DiffEditorHunkToolbar=new m("DiffEditorHunkToolbar")}static{this.DiffEditorSelectionToolbar=new m("DiffEditorSelectionToolbar")}constructor(L){if(m._instances.has(L))throw new TypeError(`MenuId with identifier '${L}' already exists. Use MenuId.for(ident) or a unique identifier`);m._instances.set(L,this),this.id=L}}const b=C.u1("menuService");class x{static{this._all=new Map}static for(L){let W=this._all.get(L);return W||(W=new x(L),this._all.set(L,W)),W}static merge(L){const W=new Set;for(let B of L)B instanceof x&&W.add(B.id);return W}constructor(L){this.id=L,this.has=(W)=>W===L}}const k=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new J.QT({merge:x.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(L){return this._commands.set(L.id,L),this._onDidChangeMenu.fire(x.for(m.CommandPalette)),M.s(()=>{this._commands.delete(L.id)&&this._onDidChangeMenu.fire(x.for(m.CommandPalette))})}getCommand(L){return this._commands.get(L)}getCommands(){const L=new Map;return this._commands.forEach((W,B)=>L.set(B,W)),L}appendMenuItem(L,W){let B=this._menuItems.get(L);B||(B=new v.w,this._menuItems.set(L,B));const U=B.push(W);return this._onDidChangeMenu.fire(x.for(L)),M.s(()=>{U(),this._onDidChangeMenu.fire(x.for(L))})}appendMenuItems(L){const W=new M.Cm;for(let{id:B,item:U}of L)W.add(this.appendMenuItem(B,U));return W}getMenuItems(L){let W;return W=this._menuItems.has(L)?[...this._menuItems.get(L)]:[],L===m.CommandPalette&&this._appendImplicitItems(W),W}_appendImplicitItems(L){const W=new Set;for(let B of L)p(B)&&(W.add(B.command.id),B.alt&&W.add(B.alt.id));this._commands.forEach((B,U)=>{W.has(U)||L.push({command:B})})}};class R extends I.YH{constructor(L,W,B){super(`submenuitem.${L.submenu.id}`,typeof L.title=="string"?L.title:L.title.value,B,"submenu"),this.item=L,this.hideActions=W}}let P=s=class{static label(L,W){return W?.renderShortTitle&&L.shortTitle?typeof L.shortTitle=="string"?L.shortTitle:L.shortTitle.value:typeof L.title=="string"?L.title:L.title.value}constructor(L,W,B,U,$,G,ie){let ee;if(this.hideActions=U,this.menuKeybinding=$,this._commandService=ie,this.id=L.id,this.label=s.label(L,B),this.tooltip=(typeof L.tooltip=="string"?L.tooltip:L.tooltip?.value)??"",this.enabled=!L.precondition||G.contextMatchesRules(L.precondition),this.checked=void 0,L.toggled){const ne=L.toggled.condition?L.toggled:{condition:L.toggled};this.checked=G.contextMatchesRules(ne.condition),this.checked&&ne.tooltip&&(this.tooltip=typeof ne.tooltip=="string"?ne.tooltip:ne.tooltip.value),this.checked&&T.L.isThemeIcon(ne.icon)&&(ee=ne.icon),this.checked&&ne.title&&(this.label=typeof ne.title=="string"?ne.title:ne.title.value)}ee||(ee=T.L.isThemeIcon(L.icon)?L.icon:void 0),this.item=L,this.alt=W?new s(W,void 0,B,U,void 0,G,ie):void 0,this._options=B,this.class=ee&&T.L.asClassName(ee)}run(...L){let W=[];return this._options?.arg&&(W=[...W,this._options.arg]),this._options?.shouldForwardArgs&&(W=[...W,...L]),this._commandService.executeCommand(this.id,...W)}};P=s=function(L,W,B,U){var $,G=arguments.length,ie=G<3?W:U===null?U=Object.getOwnPropertyDescriptor(W,B):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(L,W,B,U);else for(var ee=L.length-1;ee>=0;ee--)($=L[ee])&&(ie=(G<3?$(ie):G>3?$(W,B,ie):$(W,B))||ie);return G>3&&ie&&Object.defineProperty(W,B,ie),ie}([f(5,w.fN),f(6,E.d)],P);class z{constructor(L){this.desc=L}}function te(L){const W=[],B=new L,{f1:U,menu:$,keybinding:G,...ie}=B.desc;if(E.w.getCommand(ie.id))throw new Error(`Cannot register two commands with the same id: ${ie.id}`);if(W.push(E.w.registerCommand({id:ie.id,handler:(ee,...ne)=>B.run(ee,...ne),metadata:ie.metadata})),Array.isArray($))for(let ee of $)W.push(k.appendMenuItem(ee.id,{command:{...ie,precondition:ee.precondition===null?void 0:ie.precondition},...ee}));else $&&W.push(k.appendMenuItem($.id,{command:{...ie,precondition:$.precondition===null?void 0:ie.precondition},...$}));if(U&&(W.push(k.appendMenuItem(m.CommandPalette,{command:ie,when:ie.precondition})),W.push(k.addCommand(ie))),Array.isArray(G))for(let ee of G)W.push(d.f.registerKeybindingRule({...ee,id:ie.id,when:ie.precondition?w.M$.and(ie.precondition,ee.when):ee.when}));else G&&W.push(d.f.registerKeybindingRule({...G,id:ie.id,when:ie.precondition?w.M$.and(ie.precondition,G.when):G.when}));return{dispose(){M.AS(W)}}}},3810:(dt,pe,h)=>{h.d(pe,{$:()=>x,D:()=>L});var s,I,T=h(5958),J=h(2106),M=h(998),v=h(8067),E=h(2096),w=h(1540),C=h(7969),d=h(840),f=h(3338),p=h(9746),_=h(6071),m=function(W,B,U,$){var G,ie=arguments.length,ee=ie<3?B:$===null?$=Object.getOwnPropertyDescriptor(B,U):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(W,B,U,$);else for(var ne=W.length-1;ne>=0;ne--)(G=W[ne])&&(ee=(ie<3?G(ee):ie>3?G(B,U,ee):G(B,U))||ee);return ie>3&&ee&&Object.defineProperty(B,U,ee),ee},b=function(W,B){return function(U,$){B(U,$,W)}};let x=class{constructor(W,B,U){this._commandService=W,this._keybindingService=B,this._hiddenStates=new k(U)}createMenu(W,B,U){return new z(W,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...U},this._commandService,this._keybindingService,B)}getMenuActions(W,B,U){const $=new z(W,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...U},this._commandService,this._keybindingService,B),G=$.getActions(U);return $.dispose(),G}resetHiddenStates(W){this._hiddenStates.reset(W)}};x=m([b(0,E.d),b(1,_.b),b(2,d.CS)],x);let k=class{static{s=this}static{this._key="menu.hiddenCommands"}constructor(W){this._storageService=W,this._disposables=new M.Cm,this._onDidChange=new J.vl,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const B=W.get(s._key,0,"{}");this._data=JSON.parse(B)}catch(B){this._data=Object.create(null)}this._disposables.add(W.onDidChangeValue(0,s._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const B=W.get(s._key,0,"{}");this._data=JSON.parse(B)}catch(B){console.log("FAILED to read storage after UPDATE",B)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(W,B){return this._hiddenByDefaultCache.get(`${W.id}/${B}`)??!1}setDefaultState(W,B,U){this._hiddenByDefaultCache.set(`${W.id}/${B}`,U)}isHidden(W,B){const U=this._isHiddenByDefault(W,B),$=this._data[W.id]?.includes(B)??!1;return U?!$:$}updateHidden(W,B,U){this._isHiddenByDefault(W,B)&&(U=!U);const $=this._data[W.id];if(U)$?$.indexOf(B)<0&&$.push(B):this._data[W.id]=[B];else if($){const G=$.indexOf(B);G>=0&&f.UH($,G),$.length===0&&delete this._data[W.id]}this._persist()}reset(W){if(W===void 0)this._data=Object.create(null),this._persist();else{for(let{id:B}of W)this._data[B]&&delete this._data[B];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const W=JSON.stringify(this._data);this._storageService.store(s._key,W,0,0)}finally{this._ignoreChangeEvent=!1}}};k=s=m([b(0,d.CS)],k);class R{constructor(W,B){this._id=W,this._collectContextKeysForSubmenus=B,this._menuGroups=[],this._allMenuIds=new Set,this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get allMenuIds(){return this._allMenuIds}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._allMenuIds.clear(),this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const W=this._sort(v.ZG.getMenuItems(this._id));let B;for(let U of W){const $=U.group||"";B&&B[0]===$||(B=[$,[]],this._menuGroups.push(B)),B[1].push(U),this._collectContextKeysAndSubmenuIds(U)}this._allMenuIds.add(this._id)}_sort(W){return W}_collectContextKeysAndSubmenuIds(W){if(R._fillInKbExprKeys(W.when,this._structureContextKeys),v.is(W)){if(W.command.precondition&&R._fillInKbExprKeys(W.command.precondition,this._preconditionContextKeys),W.command.toggled){const B=W.command.toggled.condition||W.command.toggled;R._fillInKbExprKeys(B,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&(v.ZG.getMenuItems(W.submenu).forEach(this._collectContextKeysAndSubmenuIds,this),this._allMenuIds.add(W.submenu))}static _fillInKbExprKeys(W,B){if(W)for(let U of W.keys())B.add(U)}}let P=I=class extends R{constructor(W,B,U,$,G,ie){super(W,U),this._hiddenStates=B,this._commandService=$,this._keybindingService=G,this._contextKeyService=ie,this.refresh()}createActionGroups(W){const B=[];for(let U of this._menuGroups){const[$,G]=U;let ie;for(let ee of G)if(this._contextKeyService.contextMatchesRules(ee.when)){const ne=v.is(ee);ne&&this._hiddenStates.setDefaultState(this._id,ee.command.id,!!ee.isHiddenByDefault);const H=te(this._id,ne?ee.command:ee,this._hiddenStates);if(ne){const V=L(this._commandService,this._keybindingService,ee.command.id,ee.when);(ie??=[]).push(new v.Xe(ee.command,ee.alt,W,H,V,this._contextKeyService,this._commandService))}else{const V=new I(ee.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(W),Y=C.wv.join(...V.map((ve)=>ve[1]));Y.length>0&&(ie??=[]).push(new v.nI(ee,H,Y))}}ie&&ie.length>0&&B.push([$,ie])}return B}_sort(W){return W.sort(I._compareMenuItems)}static _compareMenuItems(W,B){const U=W.group,$=B.group;if(U!==$){if(!U)return 1;if(!$)return-1;if(U==="navigation")return-1;if($==="navigation")return 1;const ee=U.localeCompare($);if(ee!==0)return ee}const G=W.order||0,ie=B.order||0;return G<ie?-1:G>ie?1:I._compareTitles(v.is(W)?W.command.title:W.title,v.is(B)?B.command.title:B.title)}static _compareTitles(W,B){const U=typeof W=="string"?W:W.original,$=typeof B=="string"?B:B.original;return U.localeCompare($)}};P=I=m([b(3,E.d),b(4,_.b),b(5,w.fN)],P);let z=class{constructor(W,B,U,$,G,ie){this._disposables=new M.Cm,this._menuInfo=new P(W,B,U.emitEventsForSubmenuChanges,$,G,ie);const ee=new T.uC(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},U.eventDebounceDelay);this._disposables.add(ee),this._disposables.add(v.ZG.onDidChangeMenu((H)=>{for(let V of this._menuInfo.allMenuIds)if(H.has(V)){ee.schedule();break}}));const ne=this._disposables.add(new M.Cm);this._onDidChange=new J.uI({onWillAddFirstListener:()=>{ne.add(ie.onDidChangeContext((H)=>{const V=H.affectsSome(this._menuInfo.structureContextKeys),Y=H.affectsSome(this._menuInfo.preconditionContextKeys),ve=H.affectsSome(this._menuInfo.toggledContextKeys);(V||Y||ve)&&this._onDidChange.fire({menu:this,isStructuralChange:V,isEnablementChange:Y,isToggleChange:ve})})),ne.add(B.onDidChange((H)=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))},onDidRemoveLastListener:ne.clear.bind(ne),delay:U.eventDebounceDelay,merge:(H)=>{let V=!1,Y=!1,ve=!1;for(let Te of H)if(V=V||Te.isStructuralChange,Y=Y||Te.isEnablementChange,ve=ve||Te.isToggleChange,V&&Y&&ve)break;return{menu:this,isStructuralChange:V,isEnablementChange:Y,isToggleChange:ve}}}),this.onDidChange=this._onDidChange.event}getActions(W){return this._menuInfo.createActionGroups(W)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};function te(W,B,U){const $=v.i1(B)?B.submenu.id:B.id,G=typeof B.title=="string"?B.title:B.title.value,ie=C.ih({id:`hide/${W.id}/${$}`,label:p.kg("hide.label","Hide '{0}'",G),run(){U.updateHidden(W,$,!0)}}),ee=C.ih({id:`toggle/${W.id}/${$}`,label:G,get checked(){return!U.isHidden(W,$)},run(){U.updateHidden(W,$,!!this.checked)}});return{hide:ie,toggle:ee,get isHidden(){return!ee.checked}}}function L(W,B,U,$=void 0,G=!0){return C.ih({id:`configureKeybinding/${U}`,label:p.kg("configure keybinding","Configure Keybinding"),enabled:G,run(){const ie=!B.lookupKeybinding(U)&&$?$.serialize():void 0;W.executeCommand("workbench.action.openGlobalKeybindings",`@command:${U}`+(ie?` +when:${ie}`:""))}})}z=m([b(3,E.d),b(4,_.b),b(5,w.fN)],z)},957:(dt,pe,h)=>{h.d(pe,{h:()=>s});const s=h(2399).u1("clipboardService")},2096:(dt,pe,h)=>{h.d(pe,{d:()=>v,w:()=>E});var s=h(2106),I=h(7954),T=h(998),J=h(5525),M=h(9359);const v=h(2399).u1("commandService"),E=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new s.vl,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(w,C){if(!w)throw new Error("invalid command");if(typeof w=="string"){if(!C)throw new Error("invalid command");return this.registerCommand({id:w,handler:C})}if(w.metadata&&Array.isArray(w.metadata.args)){const m=[];for(let x of w.metadata.args)m.push(x.constraint);const b=w.handler;w.handler=function(x,...k){return M.jx(k,m),b(x,...k)}}const{id:d}=w;let f=this._commands.get(d);f||(f=new J.w,this._commands.set(d,f));const p=f.unshift(w),_=T.s(()=>{p(),this._commands.get(d)?.isEmpty()&&this._commands.delete(d)});return this._onDidRegisterCommand.fire(d),_}registerCommandAlias(w,C){return E.registerCommand(w,(d,...f)=>d.get(v).executeCommand(C,...f))}getCommand(w){const C=this._commands.get(w);if(C&&!C.isEmpty())return I.f.first(C)}getCommands(){const w=new Map;for(let C of this._commands.keys()){const d=this.getCommand(C);d&&w.set(C,d)}return w}};E.registerCommand("noop",()=>{})},5753:(dt,pe,h)=>{h.d(pe,{Mo:()=>E,ad:()=>I,gD:()=>v,iB:()=>J,kW:()=>T,pG:()=>s});const s=h(2399).u1("configurationService");function I(w,C){const d=Object.create(null);for(let f in w)T(d,f,w[f],C);return d}function T(w,C,d,f){const p=C.split("."),_=p.pop();let m=w;for(let b=0;b<p.length;b++){const x=p[b];let k=m[x];switch(typeof k){case"undefined":k=m[x]=Object.create(null);break;case"object":if(k===null)return void f(`Ignoring ${C} as ${p.slice(0,b+1).join(".")} is null`);break;default:return void f(`Ignoring ${C} as ${p.slice(0,b+1).join(".")} is ${JSON.stringify(k)}`)}m=k}if(typeof m=="object"&&m!==null)try{m[_]=d}catch(b){f(`Ignoring ${C} as ${p.join(".")} is ${JSON.stringify(m)}`)}else f(`Ignoring ${C} as ${p.join(".")} is ${JSON.stringify(m)}`)}function J(w,C){M(w,C.split("."))}function M(w,C){const d=C.shift();if(C.length!==0){if(Object.keys(w).indexOf(d)!==-1){const f=w[d];typeof f!="object"||Array.isArray(f)||(M(f,C),Object.keys(f).length===0&&delete w[d])}}else delete w[d]}function v(w,C,d){const f=function(p,_){let m=p;for(let b of _){if(typeof m!="object"||m===null)return;m=m[b]}return m}(w,C.split("."));return f===void 0?d:f}function E(w){return w.replace(/[\[\]]/g,"")}},7142:(dt,pe,h)=>{h.d(pe,{Fd:()=>w,Gv:()=>te,rC:()=>z});var s=h(3338),I=h(2106),T=h(9359),J=h(9746),M=h(5753),v=h(1460),E=h(7167);const w={Configuration:"base.contributions.configuration"},C={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},f={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},_={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},b="vscode://schemas/settings/resourceLanguage",x=E.O.as(v.F.JSONContribution),k="\\[([^\\]]+)\\]",R=new RegExp(k,"g"),P=`^(${k})+\$`,z=new RegExp(P);function te(B){const U=[];if(z.test(B)){let $=R.exec(B);for(;$?.length;){const G=$[1].trim();G&&U.push(G),$=R.exec(B)}}return s.dM(U)}const L=new class{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new I.vl,this._onDidUpdateConfiguration=new I.vl,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:J.kg("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},x.registerSchema(b,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(B,U=!0){this.registerConfigurations([B],U)}registerConfigurations(B,U=!0){const $=new Set;this.doRegisterConfigurations(B,U,$),x.registerSchema(b,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:$})}registerDefaultConfigurations(B){const U=new Set;this.doRegisterDefaultConfigurations(B,U),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:U,defaultsOverrides:!0})}doRegisterDefaultConfigurations(B,U){this.registeredConfigurationDefaults.push(...B);const $=[];for(let{overrides:G,source:ie}of B)for(let ee in G){U.add(ee);const ne=this.configurationDefaultsOverrides.get(ee)??this.configurationDefaultsOverrides.set(ee,{configurationDefaultOverrides:[]}).get(ee),H=G[ee];if(ne.configurationDefaultOverrides.push({value:H,source:ie}),z.test(ee)){const V=this.mergeDefaultConfigurationsForOverrideIdentifier(ee,H,ie,ne.configurationDefaultOverrideValue);if(!V)continue;ne.configurationDefaultOverrideValue=V,this.updateDefaultOverrideProperty(ee,V,ie),$.push(...te(ee))}else{const V=this.mergeDefaultConfigurationsForConfigurationProperty(ee,H,ie,ne.configurationDefaultOverrideValue);if(!V)continue;ne.configurationDefaultOverrideValue=V;const Y=this.configurationProperties[ee];Y&&(this.updatePropertyDefaultValue(ee,Y),this.updateSchema(ee,Y))}}this.doRegisterOverrideIdentifiers($)}updateDefaultOverrideProperty(B,U,$){const G={type:"object",default:U.value,description:J.kg("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",M.Mo(B)),$ref:b,defaultDefaultValue:U.value,source:$,defaultValueSource:$};this.configurationProperties[B]=G,this.defaultLanguageConfigurationOverridesNode.properties[B]=G}mergeDefaultConfigurationsForOverrideIdentifier(B,U,$,G){const ie=G?.value||{},ee=G?.source??new Map;if(ee instanceof Map){for(let ne of Object.keys(U)){const H=U[ne];if(T.Gv(H)&&(T.b0(ie[ne])||T.Gv(ie[ne]))){if(ie[ne]={...ie[ne]??{},...H},$)for(let V in H)ee.set(`${ne}.${V}`,$)}else ie[ne]=H,$?ee.set(ne,$):ee.delete(ne)}return{value:ie,source:ee}}console.error("objectConfigurationSources is not a Map")}mergeDefaultConfigurationsForConfigurationProperty(B,U,$,G){const ie=this.configurationProperties[B],ee=G?.value??ie?.defaultDefaultValue;let ne=$;if(T.Gv(U)&&(ie!==void 0&&ie.type==="object"||ie===void 0&&(T.b0(ee)||T.Gv(ee)))){if(ne=G?.source??new Map,!(ne instanceof Map))return void console.error("defaultValueSource is not a Map");for(let H in U)$&&ne.set(`${B}.${H}`,$);U={...T.Gv(ee)?ee:{},...U}}return{value:U,source:ne}}registerOverrideIdentifiers(B){this.doRegisterOverrideIdentifiers(B),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(B){for(let U of B)this.overrideIdentifiers.add(U);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(B,U,$){B.forEach((G)=>{this.validateAndRegisterProperties(G,U,G.extensionInfo,G.restrictedProperties,void 0,$),this.configurationContributors.push(G),this.registerJSONConfiguration(G)})}validateAndRegisterProperties(B,U=!0,$,G,ie=3,ee){ie=T.z(B.scope)?ie:B.scope;const ne=B.properties;if(ne)for(let V in ne){const Y=ne[V];U&&W(V,Y)?delete ne[V]:(Y.source=$,Y.defaultDefaultValue=ne[V].default,this.updatePropertyDefaultValue(V,Y),z.test(V)?Y.scope=void 0:(Y.scope=T.z(Y.scope)?ie:Y.scope,Y.restricted=T.z(Y.restricted)?!!G?.includes(V):Y.restricted),!ne[V].hasOwnProperty("included")||ne[V].included?(this.configurationProperties[V]=ne[V],ne[V].policy?.name&&this.policyConfigurations.set(ne[V].policy.name,V),!ne[V].deprecationMessage&&ne[V].markdownDeprecationMessage&&(ne[V].deprecationMessage=ne[V].markdownDeprecationMessage),ee.add(V)):(this.excludedConfigurationProperties[V]=ne[V],delete ne[V]))}const H=B.allOf;if(H)for(let V of H)this.validateAndRegisterProperties(V,U,$,G,ie,ee)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(B){const U=($)=>{const G=$.properties;if(G)for(let ee in G)this.updateSchema(ee,G[ee]);$.allOf?.forEach(U)};U(B)}updateSchema(B,U){switch(C.properties[B]=U,U.scope){case 1:d.properties[B]=U;break;case 2:f.properties[B]=U;break;case 6:p.properties[B]=U;break;case 3:_.properties[B]=U;break;case 4:m.properties[B]=U;break;case 5:m.properties[B]=U,this.resourceLanguageSettingsSchema.properties[B]=U}}updateOverridePropertyPatternKey(){for(let B of this.overrideIdentifiers.values()){const U=`[${B}]`,$={type:"object",description:J.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:J.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:b};this.updatePropertyDefaultValue(U,$),C.properties[U]=$,d.properties[U]=$,f.properties[U]=$,p.properties[U]=$,_.properties[U]=$,m.properties[U]=$}}registerOverridePropertyPatternKey(){const B={type:"object",description:J.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:J.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:b};C.patternProperties[P]=B,d.patternProperties[P]=B,f.patternProperties[P]=B,p.patternProperties[P]=B,_.patternProperties[P]=B,m.patternProperties[P]=B,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(B,U){const $=this.configurationDefaultsOverrides.get(B)?.configurationDefaultOverrideValue;let G,ie;!$||U.disallowConfigurationDefault&&$.source||(G=$.value,ie=$.source),T.b0(G)&&(G=U.defaultDefaultValue,ie=void 0),T.b0(G)&&(G=function(ee){switch(Array.isArray(ee)?ee[0]:ee){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(U.type)),U.default=G,U.defaultValueSource=ie}};function W(B,U){return B.trim()?z.test(B)?J.kg("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",B):L.getConfigurationProperties()[B]!==void 0?J.kg("config.property.duplicate","Cannot register '{0}'. This property is already registered.",B):U.policy?.name&&L.getPolicyConfigurations().get(U.policy?.name)!==void 0?J.kg("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",B,U.policy?.name,L.getPolicyConfigurations().get(U.policy?.name)):null:J.kg("config.property.empty","Cannot register an empty property")}E.O.add(w.Configuration,L)},1540:(dt,pe,h)=>{h.d(pe,{f1:()=>ie,M$:()=>L,fN:()=>Pe,N1:()=>Se,jQ:()=>W,M0:()=>g});var s=h(3339),I=h(6844),T=h(4327),J=h(9746);function M(...de){switch(de.length){case 1:return J.kg("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",de[0]);case 2:return J.kg("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",de[0],de[1]);case 3:return J.kg("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",de[0],de[1],de[2]);default:return}}const v=J.kg("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),E=J.kg("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class w{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(de){switch(de.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return de.isTripleEq?"===":"==";case 4:return de.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return de.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw T.iH(`unhandled token type: ${JSON.stringify(de)}; have you forgotten to add a case?`)}}static{this._regexFlags=new Set(["i","g","s","m","y","u"].map((de)=>de.charCodeAt(0)))}static{this._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}reset(de){return this._input=de,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const de=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:de})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const de=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:de})}else this._match(126)?this._addToken(9):this._error(M("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(M("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(M("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(de){return!this._isAtEnd()&&this._input.charCodeAt(this._current)===de&&(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(de){this._tokens.push({type:de,offset:this._start})}_error(de){const be=this._start,ae=this._input.substring(this._start,this._current),O={type:19,offset:this._start,lexeme:ae};this._errors.push({offset:be,lexeme:ae,additionalInfo:de}),this._tokens.push(O)}_string(){this.stringRe.lastIndex=this._start;const de=this.stringRe.exec(this._input);if(de){this._current=this._start+de[0].length;const be=this._input.substring(this._start,this._current),ae=w._keywords.get(be);ae?this._addToken(ae):this._tokens.push({type:17,lexeme:be,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();this._isAtEnd()?this._error(v):(this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1}))}_regex(){let de=this._current,be=!1,ae=!1;for(;;){if(de>=this._input.length)return this._current=de,void this._error(E);const Ue=this._input.charCodeAt(de);if(be)be=!1;else{if(Ue===47&&!ae){de++;break}Ue===91?ae=!0:Ue===92?be=!0:Ue===93&&(ae=!1)}de++}for(;de<this._input.length&&w._regexFlags.has(this._input.charCodeAt(de));)de++;this._current=de;const O=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:O,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}var C=h(2399);const d=new Map;d.set("false",!1),d.set("true",!0),d.set("isMac",s.zx),d.set("isLinux",s.j9),d.set("isWindows",s.uF),d.set("isWeb",s.HZ),d.set("isMacNative",s.zx&&!s.HZ),d.set("isEdge",s.UP),d.set("isFirefox",s.gm),d.set("isChrome",s.H8),d.set("isSafari",s.nr);const f=Object.prototype.hasOwnProperty,p={regexParsingWithErrorRecovery:!0},_=J.kg("contextkey.parser.error.emptyString","Empty context key expression"),m=J.kg("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),b=J.kg("contextkey.parser.error.noInAfterNot","'in' after 'not'."),x=J.kg("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),k=J.kg("contextkey.parser.error.unexpectedToken","Unexpected token"),R=J.kg("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),P=J.kg("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),z=J.kg("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class te{static{this._parseError=new Error}constructor(de=p){this._config=de,this._scanner=new w,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(de){if(de!==""){this._tokens=this._scanner.reset(de).scan(),this._current=0,this._parsingErrors=[];try{const be=this._expr();if(!this._isAtEnd()){const ae=this._peek(),O=ae.type===17?R:void 0;throw this._parsingErrors.push({message:k,offset:ae.offset,lexeme:w.getLexeme(ae),additionalInfo:O}),te._parseError}return be}catch(be){if(be!==te._parseError)throw be;return}}else this._parsingErrors.push({message:_,offset:0,lexeme:"",additionalInfo:m})}_expr(){return this._or()}_or(){const de=[this._and()];for(;this._matchOne(16);){const be=this._and();de.push(be)}return de.length===1?de[0]:L.or(...de)}_and(){const de=[this._term()];for(;this._matchOne(15);){const be=this._term();de.push(be)}return de.length===1?de[0]:L.and(...de)}_term(){if(this._matchOne(2)){const de=this._peek();switch(de.type){case 11:return this._advance(),U.INSTANCE;case 12:return this._advance(),$.INSTANCE;case 0:{this._advance();const be=this._expr();return this._consume(1,x),be?.negate()}case 17:return this._advance(),V.create(de.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",de)}}return this._primary()}_primary(){const de=this._peek();switch(de.type){case 11:return this._advance(),L.true();case 12:return this._advance(),L.false();case 0:{this._advance();const be=this._expr();return this._consume(1,x),be}case 17:{const be=de.lexeme;if(this._advance(),this._matchOne(9)){const ae=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),ae.type!==10)throw this._errExpectedButGot("REGEX",ae);const O=ae.lexeme,Ue=O.lastIndexOf("/"),Ye=Ue===O.length-1?void 0:this._removeFlagsGY(O.substring(Ue+1));let Fe;try{Fe=new RegExp(O.substring(1,Ue),Ye)}catch(oe){throw this._errExpectedButGot("REGEX",ae)}return Ie.create(be,Fe)}switch(ae.type){case 10:case 19:{const O=[ae.lexeme];this._advance();let Ue=this._peek(),Ye=0;for(let ye=0;ye<ae.lexeme.length;ye++)ae.lexeme.charCodeAt(ye)===40?Ye++:ae.lexeme.charCodeAt(ye)===41&&Ye--;for(;!this._isAtEnd()&&Ue.type!==15&&Ue.type!==16;){switch(Ue.type){case 0:Ye++;break;case 1:Ye--;break;case 10:case 18:for(let ye=0;ye<Ue.lexeme.length;ye++)Ue.lexeme.charCodeAt(ye)===40?Ye++:ae.lexeme.charCodeAt(ye)===41&&Ye--}if(Ye<0)break;O.push(w.getLexeme(Ue)),this._advance(),Ue=this._peek()}const Fe=O.join(""),oe=Fe.lastIndexOf("/"),rt=oe===Fe.length-1?void 0:this._removeFlagsGY(Fe.substring(oe+1));let lt;try{lt=new RegExp(Fe.substring(1,oe),rt)}catch(ye){throw this._errExpectedButGot("REGEX",ae)}return L.regex(be,lt)}case 18:{const O=ae.lexeme;this._advance();let Ue=null;if(!I.AV(O)){const Ye=O.indexOf("/"),Fe=O.lastIndexOf("/");if(Ye!==Fe&&Ye>=0){const oe=O.slice(Ye+1,Fe),rt=O[Fe+1]==="i"?"i":"";try{Ue=new RegExp(oe,rt)}catch(lt){throw this._errExpectedButGot("REGEX",ae)}}}if(Ue===null)throw this._errExpectedButGot("REGEX",ae);return Ie.create(be,Ue)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,b);const ae=this._value();return L.notIn(be,ae)}switch(this._peek().type){case 3:{this._advance();const ae=this._value();if(this._previous().type===18)return L.equals(be,ae);switch(ae){case"true":return L.has(be);case"false":return L.not(be);default:return L.equals(be,ae)}}case 4:{this._advance();const ae=this._value();if(this._previous().type===18)return L.notEquals(be,ae);switch(ae){case"true":return L.not(be);case"false":return L.has(be);default:return L.notEquals(be,ae)}}case 5:return this._advance(),xe.create(be,this._value());case 6:return this._advance(),Be.create(be,this._value());case 7:return this._advance(),ve.create(be,this._value());case 8:return this._advance(),Te.create(be,this._value());case 13:return this._advance(),L.in(be,this._value());default:return L.has(be)}}case 20:throw this._parsingErrors.push({message:P,offset:de.offset,lexeme:"",additionalInfo:z}),te._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}}_value(){const de=this._peek();switch(de.type){case 17:case 18:return this._advance(),de.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(de){return de.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(de){return!!this._check(de)&&(this._advance(),!0)}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(de,be){if(this._check(de))return this._advance();throw this._errExpectedButGot(be,this._peek())}_errExpectedButGot(de,be,ae){const O=J.kg("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",de,w.getLexeme(be)),Ue=be.offset,Ye=w.getLexeme(be);return this._parsingErrors.push({message:O,offset:Ue,lexeme:Ye,additionalInfo:ae}),te._parseError}_check(de){return this._peek().type===de}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}class L{static false(){return U.INSTANCE}static true(){return $.INSTANCE}static has(de){return G.create(de)}static equals(de,be){return ie.create(de,be)}static notEquals(de,be){return H.create(de,be)}static regex(de,be){return Ie.create(de,be)}static in(de,be){return ee.create(de,be)}static notIn(de,be){return ne.create(de,be)}static not(de){return V.create(de)}static and(...de){return re.create(de,null,!0)}static or(...de){return Je.create(de,null,!0)}static{this._parser=new te({regexParsingWithErrorRecovery:!1})}static deserialize(de){if(de!=null)return this._parser.parse(de)}}function W(de,be){const ae=de?de.substituteConstants():void 0,O=be?be.substituteConstants():void 0;return!ae&&!O||!(!ae||!O)&&ae.equals(O)}function B(de,be){return de.cmp(be)}class U{static{this.INSTANCE=new U}constructor(){this.type=0}cmp(de){return this.type-de.type}equals(de){return de.type===this.type}substituteConstants(){return this}evaluate(de){return!1}serialize(){return"false"}keys(){return[]}negate(){return $.INSTANCE}}class ${static{this.INSTANCE=new $}constructor(){this.type=1}cmp(de){return this.type-de.type}equals(de){return de.type===this.type}substituteConstants(){return this}evaluate(de){return!0}serialize(){return"true"}keys(){return[]}negate(){return U.INSTANCE}}class G{static create(de,be=null){const ae=d.get(de);return typeof ae=="boolean"?ae?$.INSTANCE:U.INSTANCE:new G(de,be)}constructor(de,be){this.key=de,this.negated=be,this.type=2}cmp(de){return de.type!==this.type?this.type-de.type:Le(this.key,de.key)}equals(de){return de.type===this.type&&this.key===de.key}substituteConstants(){const de=d.get(this.key);return typeof de=="boolean"?de?$.INSTANCE:U.INSTANCE:this}evaluate(de){return!!de.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=V.create(this.key,this)),this.negated}}class ie{static create(de,be,ae=null){if(typeof be=="boolean")return be?G.create(de,ae):V.create(de,ae);const O=d.get(de);return typeof O=="boolean"?be===(O?"true":"false")?$.INSTANCE:U.INSTANCE:new ie(de,be,ae)}constructor(de,be,ae){this.key=de,this.value=be,this.negated=ae,this.type=4}cmp(de){return de.type!==this.type?this.type-de.type:Ve(this.key,this.value,de.key,de.value)}equals(de){return de.type===this.type&&this.key===de.key&&this.value===de.value}substituteConstants(){const de=d.get(this.key);if(typeof de=="boolean"){const be=de?"true":"false";return this.value===be?$.INSTANCE:U.INSTANCE}return this}evaluate(de){return de.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=H.create(this.key,this.value,this)),this.negated}}class ee{static create(de,be){return new ee(de,be)}constructor(de,be){this.key=de,this.valueKey=be,this.type=10,this.negated=null}cmp(de){return de.type!==this.type?this.type-de.type:Ve(this.key,this.valueKey,de.key,de.valueKey)}equals(de){return de.type===this.type&&this.key===de.key&&this.valueKey===de.valueKey}substituteConstants(){return this}evaluate(de){const be=de.getValue(this.valueKey),ae=de.getValue(this.key);return Array.isArray(be)?be.includes(ae):typeof ae=="string"&&typeof be=="object"&&be!==null&&f.call(be,ae)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=ne.create(this.key,this.valueKey)),this.negated}}class ne{static create(de,be){return new ne(de,be)}constructor(de,be){this.key=de,this.valueKey=be,this.type=11,this._negated=ee.create(de,be)}cmp(de){return de.type!==this.type?this.type-de.type:this._negated.cmp(de._negated)}equals(de){return de.type===this.type&&this._negated.equals(de._negated)}substituteConstants(){return this}evaluate(de){return!this._negated.evaluate(de)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class H{static create(de,be,ae=null){if(typeof be=="boolean")return be?V.create(de,ae):G.create(de,ae);const O=d.get(de);return typeof O=="boolean"?be===(O?"true":"false")?U.INSTANCE:$.INSTANCE:new H(de,be,ae)}constructor(de,be,ae){this.key=de,this.value=be,this.negated=ae,this.type=5}cmp(de){return de.type!==this.type?this.type-de.type:Ve(this.key,this.value,de.key,de.value)}equals(de){return de.type===this.type&&this.key===de.key&&this.value===de.value}substituteConstants(){const de=d.get(this.key);if(typeof de=="boolean"){const be=de?"true":"false";return this.value===be?U.INSTANCE:$.INSTANCE}return this}evaluate(de){return de.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ie.create(this.key,this.value,this)),this.negated}}class V{static create(de,be=null){const ae=d.get(de);return typeof ae=="boolean"?ae?U.INSTANCE:$.INSTANCE:new V(de,be)}constructor(de,be){this.key=de,this.negated=be,this.type=3}cmp(de){return de.type!==this.type?this.type-de.type:Le(this.key,de.key)}equals(de){return de.type===this.type&&this.key===de.key}substituteConstants(){const de=d.get(this.key);return typeof de=="boolean"?de?U.INSTANCE:$.INSTANCE:this}evaluate(de){return!de.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=G.create(this.key,this)),this.negated}}function Y(de,be){if(typeof de=="string"){const ae=parseFloat(de);isNaN(ae)||(de=ae)}return typeof de=="string"||typeof de=="number"?be(de):U.INSTANCE}class ve{static create(de,be,ae=null){return Y(be,(O)=>new ve(de,O,ae))}constructor(de,be,ae){this.key=de,this.value=be,this.negated=ae,this.type=12}cmp(de){return de.type!==this.type?this.type-de.type:Ve(this.key,this.value,de.key,de.value)}equals(de){return de.type===this.type&&this.key===de.key&&this.value===de.value}substituteConstants(){return this}evaluate(de){return typeof this.value!="string"&&parseFloat(de.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Be.create(this.key,this.value,this)),this.negated}}class Te{static create(de,be,ae=null){return Y(be,(O)=>new Te(de,O,ae))}constructor(de,be,ae){this.key=de,this.value=be,this.negated=ae,this.type=13}cmp(de){return de.type!==this.type?this.type-de.type:Ve(this.key,this.value,de.key,de.value)}equals(de){return de.type===this.type&&this.key===de.key&&this.value===de.value}substituteConstants(){return this}evaluate(de){return typeof this.value!="string"&&parseFloat(de.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=xe.create(this.key,this.value,this)),this.negated}}class xe{static create(de,be,ae=null){return Y(be,(O)=>new xe(de,O,ae))}constructor(de,be,ae){this.key=de,this.value=be,this.negated=ae,this.type=14}cmp(de){return de.type!==this.type?this.type-de.type:Ve(this.key,this.value,de.key,de.value)}equals(de){return de.type===this.type&&this.key===de.key&&this.value===de.value}substituteConstants(){return this}evaluate(de){return typeof this.value!="string"&&parseFloat(de.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Te.create(this.key,this.value,this)),this.negated}}class Be{static create(de,be,ae=null){return Y(be,(O)=>new Be(de,O,ae))}constructor(de,be,ae){this.key=de,this.value=be,this.negated=ae,this.type=15}cmp(de){return de.type!==this.type?this.type-de.type:Ve(this.key,this.value,de.key,de.value)}equals(de){return de.type===this.type&&this.key===de.key&&this.value===de.value}substituteConstants(){return this}evaluate(de){return typeof this.value!="string"&&parseFloat(de.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ve.create(this.key,this.value,this)),this.negated}}class Ie{static create(de,be){return new Ie(de,be)}constructor(de,be){this.key=de,this.regexp=be,this.type=7,this.negated=null}cmp(de){if(de.type!==this.type)return this.type-de.type;if(this.key<de.key)return-1;if(this.key>de.key)return 1;const be=this.regexp?this.regexp.source:"",ae=de.regexp?de.regexp.source:"";return be<ae?-1:be>ae?1:0}equals(de){if(de.type===this.type){const be=this.regexp?this.regexp.source:"",ae=de.regexp?de.regexp.source:"";return this.key===de.key&&be===ae}return!1}substituteConstants(){return this}evaluate(de){const be=de.getValue(this.key);return!!this.regexp&&this.regexp.test(be)}serialize(){const de=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${de}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=he.create(this)),this.negated}}class he{static create(de){return new he(de)}constructor(de){this._actual=de,this.type=8}cmp(de){return de.type!==this.type?this.type-de.type:this._actual.cmp(de._actual)}equals(de){return de.type===this.type&&this._actual.equals(de._actual)}substituteConstants(){return this}evaluate(de){return!this._actual.evaluate(de)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function Q(de){let be=null;for(let ae=0,O=de.length;ae<O;ae++){const Ue=de[ae].substituteConstants();if(de[ae]!==Ue&&be===null){be=[];for(let Ye=0;Ye<ae;Ye++)be[Ye]=de[Ye]}be!==null&&(be[ae]=Ue)}return be===null?de:be}class re{static create(de,be,ae){return re._normalizeArr(de,be,ae)}constructor(de,be){this.expr=de,this.negated=be,this.type=6}cmp(de){if(de.type!==this.type)return this.type-de.type;if(this.expr.length<de.expr.length)return-1;if(this.expr.length>de.expr.length)return 1;for(let be=0,ae=this.expr.length;be<ae;be++){const O=B(this.expr[be],de.expr[be]);if(O!==0)return O}return 0}equals(de){if(de.type===this.type){if(this.expr.length!==de.expr.length)return!1;for(let be=0,ae=this.expr.length;be<ae;be++)if(!this.expr[be].equals(de.expr[be]))return!1;return!0}return!1}substituteConstants(){const de=Q(this.expr);return de===this.expr?this:re.create(de,this.negated,!1)}evaluate(de){for(let be=0,ae=this.expr.length;be<ae;be++)if(!this.expr[be].evaluate(de))return!1;return!0}static _normalizeArr(de,be,ae){const O=[];let Ue=!1;for(let Ye of de)if(Ye)if(Ye.type!==1){if(Ye.type===0)return U.INSTANCE;Ye.type!==6?O.push(Ye):O.push(...Ye.expr)}else Ue=!0;if(O.length===0&&Ue)return $.INSTANCE;if(O.length!==0){if(O.length===1)return O[0];O.sort(B);for(let Ye=1;Ye<O.length;Ye++)O[Ye-1].equals(O[Ye])&&(O.splice(Ye,1),Ye--);if(O.length===1)return O[0];for(;O.length>1;){const Ye=O[O.length-1];if(Ye.type!==9)break;O.pop();const Fe=O.pop(),oe=O.length===0,rt=Je.create(Ye.expr.map((lt)=>re.create([lt,Fe],null,ae)),null,oe);rt&&(O.push(rt),O.sort(B))}if(O.length===1)return O[0];if(ae){for(let Ye=0;Ye<O.length;Ye++)for(let Fe=Ye+1;Fe<O.length;Fe++)if(O[Ye].negate().equals(O[Fe]))return U.INSTANCE;if(O.length===1)return O[0]}return new re(O,be)}}serialize(){return this.expr.map((de)=>de.serialize()).join(" && ")}keys(){const de=[];for(let be of this.expr)de.push(...be.keys());return de}negate(){if(!this.negated){const de=[];for(let be of this.expr)de.push(be.negate());this.negated=Je.create(de,this,!0)}return this.negated}}class Je{static create(de,be,ae){return Je._normalizeArr(de,be,ae)}constructor(de,be){this.expr=de,this.negated=be,this.type=9}cmp(de){if(de.type!==this.type)return this.type-de.type;if(this.expr.length<de.expr.length)return-1;if(this.expr.length>de.expr.length)return 1;for(let be=0,ae=this.expr.length;be<ae;be++){const O=B(this.expr[be],de.expr[be]);if(O!==0)return O}return 0}equals(de){if(de.type===this.type){if(this.expr.length!==de.expr.length)return!1;for(let be=0,ae=this.expr.length;be<ae;be++)if(!this.expr[be].equals(de.expr[be]))return!1;return!0}return!1}substituteConstants(){const de=Q(this.expr);return de===this.expr?this:Je.create(de,this.negated,!1)}evaluate(de){for(let be=0,ae=this.expr.length;be<ae;be++)if(this.expr[be].evaluate(de))return!0;return!1}static _normalizeArr(de,be,ae){let O=[],Ue=!1;if(de){for(let Ye=0,Fe=de.length;Ye<Fe;Ye++){const oe=de[Ye];if(oe)if(oe.type!==0){if(oe.type===1)return $.INSTANCE;oe.type!==9?O.push(oe):O=O.concat(oe.expr)}else Ue=!0}if(O.length===0&&Ue)return U.INSTANCE;O.sort(B)}if(O.length!==0){if(O.length===1)return O[0];for(let Ye=1;Ye<O.length;Ye++)O[Ye-1].equals(O[Ye])&&(O.splice(Ye,1),Ye--);if(O.length===1)return O[0];if(ae){for(let Ye=0;Ye<O.length;Ye++)for(let Fe=Ye+1;Fe<O.length;Fe++)if(O[Ye].negate().equals(O[Fe]))return $.INSTANCE;if(O.length===1)return O[0]}return new Je(O,be)}}serialize(){return this.expr.map((de)=>de.serialize()).join(" || ")}keys(){const de=[];for(let be of this.expr)de.push(...be.keys());return de}negate(){if(!this.negated){const de=[];for(let be of this.expr)de.push(be.negate());for(;de.length>1;){const be=de.shift(),ae=de.shift(),O=[];for(let Ue of We(be))for(let Ye of We(ae))O.push(re.create([Ue,Ye],null,!1));de.unshift(Je.create(O,null,!1))}this.negated=Je.create(de,this,!0)}return this.negated}}class Se extends G{static{this._info=[]}static all(){return Se._info.values()}constructor(de,be,ae){super(de,null),this._defaultValue=be,typeof ae=="object"?Se._info.push({...ae,key:de}):ae!==!0&&Se._info.push({key:de,description:ae,type:be!=null?typeof be:void 0})}bindTo(de){return de.createKey(this.key,this._defaultValue)}getValue(de){return de.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(de){return ie.create(this.key,de)}}const Pe=C.u1("contextKeyService");function Le(de,be){return de<be?-1:de>be?1:0}function Ve(de,be,ae,O){return de<ae?-1:de>ae?1:be<O?-1:be>O?1:0}function g(de,be){if(de.type===0||be.type===1)return!0;if(de.type===9)return be.type===9&&ge(de.expr,be.expr);if(be.type===9){for(let ae of be.expr)if(g(de,ae))return!0;return!1}if(de.type===6){if(be.type===6)return ge(be.expr,de.expr);for(let ae of de.expr)if(g(ae,be))return!0;return!1}return de.equals(be)}function ge(de,be){let ae=0,O=0;for(;ae<de.length&&O<be.length;){const Ue=de[ae].cmp(be[O]);if(Ue<0)return!1;Ue===0?(ae++,O++):O++}return ae===de.length}function We(de){return de.type===9?de.expr:[de]}},3034:(dt,pe,h)=>{h.d(pe,{J7:()=>E,W0:()=>M,aV:()=>v,nd:()=>J});var s=h(3339),I=h(9746),T=h(1540);new T.N1("isMac",s.zx,I.kg("isMac","Whether the operating system is macOS")),new T.N1("isLinux",s.j9,I.kg("isLinux","Whether the operating system is Linux"));const J=new T.N1("isWindows",s.uF,I.kg("isWindows","Whether the operating system is Windows")),M=new T.N1("isWeb",s.HZ,I.kg("isWeb","Whether the platform is a web browser")),v=(new T.N1("isMacNative",s.zx&&!s.HZ,I.kg("isMacNative","Whether the operating system is macOS on a non-browser platform")),new T.N1("isIOS",s.un,I.kg("isIOS","Whether the operating system is iOS")),new T.N1("isMobile",s.Fr,I.kg("isMobile","Whether the platform is a mobile web browser")),new T.N1("isDevelopment",!1,!0),new T.N1("productQualityType","",I.kg("productQualityType","Quality type of VS Code")),"inputFocus"),E=new T.N1(v,!1,I.kg("inputFocus","Whether keyboard focus is inside an input box"))},2348:(dt,pe,h)=>{h.d(pe,{Z:()=>T,l:()=>I});var s=h(2399);const I=s.u1("contextViewService"),T=s.u1("contextMenuService")},4535:(dt,pe,h)=>{h.d(pe,{X:()=>s});const s=h(2399).u1("dialogService")},8195:(dt,pe,h)=>{h.d(pe,{k:()=>s});const s=h(2399).u1("environmentService")},9971:(dt,pe,h)=>{var s;h.d(pe,{p:()=>s}),function(I){I[I.FILE=0]="FILE",I[I.FOLDER=1]="FOLDER",I[I.ROOT_FOLDER=2]="ROOT_FOLDER"}(s||(s={}))},428:(dt,pe,h)=>{h.d(pe,{TN:()=>v,fO:()=>E});var s=h(2399),I=h(998),T=h(5753),J=h(4333),M=function(w,C){return function(d,f){C(d,f,w)}};const v=s.u1("hoverService");let E=class extends I.jG{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(w,C,d={},f,p){super(),this.placement=w,this.instantHover=C,this.overrideOptions=d,this.configurationService=f,this.hoverService=p,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new I.Cm),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration((_)=>{_.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(w,C){const d=typeof this.overrideOptions=="function"?this.overrideOptions(w,C):this.overrideOptions;this.hoverDisposables.clear();const f=J.sb(w.target)?[w.target]:w.target.targetElements;for(let _ of f)this.hoverDisposables.add(J.b2(_,"keydown",(m)=>{m.equals(9)&&this.hoverService.hideHover()}));const p=J.sb(w.content)?void 0:w.content.toString();return this.hoverService.showHover({...w,...d,persistence:{hideOnKeyDown:!0,...d.persistence},id:p,appearance:{...w.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...d.appearance}},C)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};E=function(w,C,d,f){var p,_=arguments.length,m=_<3?C:f===null?f=Object.getOwnPropertyDescriptor(C,d):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(w,C,d,f);else for(var b=w.length-1;b>=0;b--)(p=w[b])&&(m=(_<3?p(m):_>3?p(C,d,m):p(C,d))||m);return _>3&&m&&Object.defineProperty(C,d,m),m}([M(3,T.pG),M(4,v)],E)},3312:(dt,pe,h)=>{h.d(pe,{d:()=>s});class s{constructor(I,T=[],J=!1){this.ctor=I,this.staticArguments=T,this.supportsDelayedInstantiation=J}}},6726:(dt,pe,h)=>{h.d(pe,{N:()=>J,v:()=>T});var s=h(3312);const I=[];function T(M,v,E){v instanceof s.d||(v=new s.d(v,[],Boolean(E))),I.push([M,v])}function J(){return I}},2399:(dt,pe,h)=>{var s;h.d(pe,{_$:()=>s,_Y:()=>I,u1:()=>T}),function(J){J.serviceIds=new Map,J.DI_TARGET="$di$target",J.DI_DEPENDENCIES="$di$dependencies",J.getServiceDependencies=function(M){return M[J.DI_DEPENDENCIES]||[]}}(s||(s={}));const I=T("instantiationService");function T(J){if(s.serviceIds.has(J))return s.serviceIds.get(J);const M=function(v,E,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(C,d,f){d[s.DI_TARGET]===d?d[s.DI_DEPENDENCIES].push({id:C,index:f}):(d[s.DI_DEPENDENCIES]=[{id:C,index:f}],d[s.DI_TARGET]=d)})(M,v,w)};return M.toString=()=>J,s.serviceIds.set(J,M),M}},657:(dt,pe,h)=>{h.d(pe,{a:()=>s});class s{constructor(...I){this._entries=new Map;for(let[T,J]of I)this.set(T,J)}set(I,T){const J=this._entries.get(I);return this._entries.set(I,T),J}get(I){return this._entries.get(I)}}},1460:(dt,pe,h)=>{h.d(pe,{F:()=>T});var s=h(2106),I=h(7167);const T={JSONContribution:"base.contributions.json"},J=new class{constructor(){this._onDidChangeSchema=new s.vl,this.schemasById={}}registerSchema(M,v){var E;this.schemasById[E=M,E.length>0&&E.charAt(E.length-1)==="#"?E.substring(0,E.length-1):E]=v,this._onDidChangeSchema.fire(M)}notifySchemaChanged(M){this._onDidChangeSchema.fire(M)}};I.O.add(T.JSONContribution,J)},6071:(dt,pe,h)=>{h.d(pe,{b:()=>s});const s=h(2399).u1("keybindingService")},8421:(dt,pe,h)=>{h.d(pe,{f:()=>w});var s=h(9619),I=h(3339),T=h(2096),J=h(7167),M=h(998),v=h(5525);class E{constructor(){this._coreKeybindings=new v.w,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(d){if(I.OS===1){if(d&&d.win)return d.win}else if(I.OS===2){if(d&&d.mac)return d.mac}else if(d&&d.linux)return d.linux;return d}registerKeybindingRule(d){const f=E.bindToCurrentPlatform(d),p=new M.Cm;if(f&&f.primary){const _=s.Zv(f.primary,I.OS);_&&p.add(this._registerDefaultKeybinding(_,d.id,d.args,d.weight,0,d.when))}if(f&&Array.isArray(f.secondary))for(let _=0,m=f.secondary.length;_<m;_++){const b=f.secondary[_],x=s.Zv(b,I.OS);x&&p.add(this._registerDefaultKeybinding(x,d.id,d.args,d.weight,-_-1,d.when))}return p}registerCommandAndKeybindingRule(d){return M.qE(this.registerKeybindingRule(d),T.w.registerCommand(d))}_registerDefaultKeybinding(d,f,p,_,m,b){const x=this._coreKeybindings.push({keybinding:d,command:f,commandArgs:p,when:b,weight1:_,weight2:m,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,M.s(()=>{x(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(C)),this._cachedMergedKeybindings.slice(0)}}const w=new E;function C(d,f){if(d.weight1!==f.weight1)return d.weight1-f.weight1;if(d.command&&f.command){if(d.command<f.command)return-1;if(d.command>f.command)return 1}return d.weight2-f.weight2}J.O.add("platform.keybindingsRegistry",w)},8377:(dt,pe,h)=>{h.d(pe,{L:()=>s});const s=h(2399).u1("labelService")},3532:(dt,pe,h)=>{h.d(pe,{PE:()=>Sn,aG:()=>Mn,er:()=>ji,YD:()=>En,zL:()=>Ai,Nf:()=>xi,cH:()=>Ii});var s=h(4333),I=h(3338),T=h(8903),J=h(2106),M=h(998),v=h(5573);class E{get templateId(){return this.renderer.templateId}constructor(se,Ae){this.renderer=se,this.modelProvider=Ae}renderTemplate(se){return{data:this.renderer.renderTemplate(se),disposable:M.jG.None}}renderElement(se,Ae,He,mt){if(He.disposable?.dispose(),!He.data)return;const At=this.modelProvider();if(At.isResolved(se))return this.renderer.renderElement(At.get(se),se,He.data,mt);const zt=new T.Qi,Pt=At.resolve(se,zt.token);He.disposable={dispose:()=>zt.cancel()},this.renderer.renderPlaceholder(se,He.data),Pt.then((Wt)=>this.renderer.renderElement(Wt,se,He.data,mt))}disposeTemplate(se){se.disposable&&(se.disposable.dispose(),se.disposable=void 0),se.data&&(this.renderer.disposeTemplate(se.data),se.data=void 0)}}class w{constructor(se,Ae){this.modelProvider=se,this.accessibilityProvider=Ae}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(se){const Ae=this.modelProvider();return Ae.isResolved(se)?this.accessibilityProvider.getAriaLabel(Ae.get(se)):null}}class C{constructor(se,Ae,He,mt,At={}){const zt=()=>this.model,Pt=mt.map((Wt)=>new E(Wt,zt));this.list=new v.B8(se,Ae,He,Pt,function(Wt,Nn){return{...Nn,accessibilityProvider:Nn.accessibilityProvider&&new w(Wt,Nn.accessibilityProvider)}}(zt,At))}updateOptions(se){this.list.updateOptions(se)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return J.Jh.map(this.list.onMouseDblClick,({element:se,index:Ae,browserEvent:He})=>({element:se===void 0?void 0:this._model.get(se),index:Ae,browserEvent:He}))}get onPointer(){return J.Jh.map(this.list.onPointer,({element:se,index:Ae,browserEvent:He})=>({element:se===void 0?void 0:this._model.get(se),index:Ae,browserEvent:He}))}get onDidChangeSelection(){return J.Jh.map(this.list.onDidChangeSelection,({elements:se,indexes:Ae,browserEvent:He})=>({elements:se.map((mt)=>this._model.get(mt)),indexes:Ae,browserEvent:He}))}get model(){return this._model}set model(se){this._model=se,this.list.splice(0,this.list.length,I.y1(se.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((se)=>this.model.get(se))}style(se){this.list.style(se)}dispose(){this.list.dispose()}}var d=h(396),f=h(5568),p=h(7003);class _{static{this.TemplateId="row"}constructor(se,Ae,He){this.columns=se,this.getColumnSize=He,this.templateId=_.TemplateId,this.renderedTemplates=new Set;const mt=new Map(Ae.map((At)=>[At.templateId,At]));this.renderers=[];for(let At of se){const zt=mt.get(At.templateId);if(!zt)throw new Error(`Table cell renderer for template id ${At.templateId} not found.`);this.renderers.push(zt)}}renderTemplate(se){const Ae=s.BC(se,s.$(".monaco-table-tr")),He=[],mt=[];for(let zt=0;zt<this.columns.length;zt++){const Pt=this.renderers[zt],Wt=s.BC(Ae,s.$(".monaco-table-td",{"data-col-index":zt}));Wt.style.width=`${this.getColumnSize(zt)}px`,He.push(Wt),mt.push(Pt.renderTemplate(Wt))}const At={container:se,cellContainers:He,cellTemplateData:mt};return this.renderedTemplates.add(At),At}renderElement(se,Ae,He,mt){for(let At=0;At<this.columns.length;At++){const zt=this.columns[At].project(se);this.renderers[At].renderElement(zt,Ae,He.cellTemplateData[At],mt)}}disposeElement(se,Ae,He,mt){for(let At=0;At<this.columns.length;At++){const zt=this.renderers[At];if(zt.disposeElement){const Pt=this.columns[At].project(se);zt.disposeElement(Pt,Ae,He.cellTemplateData[At],mt)}}}disposeTemplate(se){for(let Ae=0;Ae<this.columns.length;Ae++)this.renderers[Ae].disposeTemplate(se.cellTemplateData[Ae]);s.w_(se.container),this.renderedTemplates.delete(se)}layoutColumn(se,Ae){for(let{cellContainers:He}of this.renderedTemplates)He[se].style.width=`${Ae}px`}}class m extends M.jG{get minimumSize(){return this.column.minimumWidth??120}get maximumSize(){return this.column.maximumWidth??Number.POSITIVE_INFINITY}get onDidChange(){return this.column.onDidChangeWidthConstraints??J.Jh.None}constructor(se,Ae){super(),this.column=se,this.index=Ae,this._onDidLayout=new J.vl,this.onDidLayout=this._onDidLayout.event,this.element=s.$(".monaco-table-th",{"data-col-index":Ae},se.label),se.tooltip&&this._register(d.i().setupManagedHover(f.nZ("mouse"),this.element,se.tooltip))}layout(se){this._onDidLayout.fire([this.index,se])}}class b{static{this.InstanceCount=0}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(se){this.list.scrollTop=se}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(se,Ae,He,mt,At,zt){this.virtualDelegate=He,this.columns=mt,this.domId="table_id_"+ ++b.InstanceCount,this.disposables=new M.Cm,this.cachedWidth=0,this.cachedHeight=0,this.domNode=s.BC(Ae,s.$(`.monaco-table.${this.domId}`));const Pt=mt.map((Jn,$e)=>this.disposables.add(new m(Jn,$e))),Wt={size:Pt.reduce((Jn,$e)=>Jn+$e.column.weight,0),views:Pt.map((Jn)=>({size:Jn.column.weight,view:Jn}))};this.splitview=this.disposables.add(new p.U(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Wt})),this.splitview.el.style.height=`${He.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${He.headerRowHeight}px`;const Nn=new _(mt,At,(Jn)=>this.splitview.getViewSize(Jn));var bn;this.list=this.disposables.add(new v.B8(se,this.domNode,(bn=He,{getHeight:(Jn)=>bn.getHeight(Jn),getTemplateId:()=>_.TemplateId}),[Nn],zt)),J.Jh.any(...Pt.map((Jn)=>Jn.onDidLayout))(([Jn,$e])=>Nn.layoutColumn(Jn,$e),null,this.disposables),this.splitview.onDidSashReset((Jn)=>{const $e=mt.reduce((gt,bt)=>gt+bt.weight,0),tt=mt[Jn].weight/$e*this.cachedWidth;this.splitview.resizeView(Jn,tt)},null,this.disposables),this.styleElement=s.li(this.domNode),this.style(v.bG)}updateOptions(se){this.list.updateOptions(se)}splice(se,Ae,He=[]){this.list.splice(se,Ae,He)}getHTMLElement(){return this.domNode}style(se){const Ae=[];Ae.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=Ae.join("\n"),this.list.style(se)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}var x=h(3043),k=h(3022),R=h(1272),P=h(7757),z=h(7954);class te{constructor(se,Ae,He={}){this.user=se,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new R.G6(se,Ae,null,He),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,He.sorter&&(this.sorter={compare:(mt,At)=>He.sorter.compare(mt.element,At.element)}),this.identityProvider=He.identityProvider}setChildren(se,Ae=z.f.empty(),He={}){const mt=this.getElementLocation(se);this._setChildren(mt,this.preserveCollapseState(Ae),He)}_setChildren(se,Ae=z.f.empty(),He){const mt=new Set,At=new Set;this.model.splice([...se,0],Number.MAX_VALUE,Ae,{...He,onDidCreateNode:(zt)=>{if(zt.element===null)return;const Pt=zt;if(mt.add(Pt.element),this.nodes.set(Pt.element,Pt),this.identityProvider){const Wt=this.identityProvider.getId(Pt.element).toString();At.add(Wt),this.nodesByIdentity.set(Wt,Pt)}He.onDidCreateNode?.(Pt)},onDidDeleteNode:(zt)=>{if(zt.element===null)return;const Pt=zt;if(mt.has(Pt.element)||this.nodes.delete(Pt.element),this.identityProvider){const Wt=this.identityProvider.getId(Pt.element).toString();At.has(Wt)||this.nodesByIdentity.delete(Wt)}He.onDidDeleteNode?.(Pt)}})}preserveCollapseState(se=z.f.empty()){return this.sorter&&(se=[...se].sort(this.sorter.compare.bind(this.sorter))),z.f.map(se,(Ae)=>{let He=this.nodes.get(Ae.element);if(!He&&this.identityProvider){const zt=this.identityProvider.getId(Ae.element).toString();He=this.nodesByIdentity.get(zt)}if(!He){let zt;return zt=Ae.collapsed===void 0?void 0:Ae.collapsed===P.Yo.Collapsed||Ae.collapsed===P.Yo.PreserveOrCollapsed||Ae.collapsed!==P.Yo.Expanded&&Ae.collapsed!==P.Yo.PreserveOrExpanded&&Boolean(Ae.collapsed),{...Ae,children:this.preserveCollapseState(Ae.children),collapsed:zt}}const mt=typeof Ae.collapsible=="boolean"?Ae.collapsible:He.collapsible;let At;return At=Ae.collapsed===void 0||Ae.collapsed===P.Yo.PreserveOrCollapsed||Ae.collapsed===P.Yo.PreserveOrExpanded?He.collapsed:Ae.collapsed===P.Yo.Collapsed||Ae.collapsed!==P.Yo.Expanded&&Boolean(Ae.collapsed),{...Ae,collapsible:mt,collapsed:At,children:this.preserveCollapseState(Ae.children)}})}rerender(se){const Ae=this.getElementLocation(se);this.model.rerender(Ae)}getFirstElementChild(se=null){const Ae=this.getElementLocation(se);return this.model.getFirstElementChild(Ae)}has(se){return this.nodes.has(se)}getListIndex(se){const Ae=this.getElementLocation(se);return this.model.getListIndex(Ae)}getListRenderCount(se){const Ae=this.getElementLocation(se);return this.model.getListRenderCount(Ae)}isCollapsible(se){const Ae=this.getElementLocation(se);return this.model.isCollapsible(Ae)}setCollapsible(se,Ae){const He=this.getElementLocation(se);return this.model.setCollapsible(He,Ae)}isCollapsed(se){const Ae=this.getElementLocation(se);return this.model.isCollapsed(Ae)}setCollapsed(se,Ae,He){const mt=this.getElementLocation(se);return this.model.setCollapsed(mt,Ae,He)}expandTo(se){const Ae=this.getElementLocation(se);this.model.expandTo(Ae)}refilter(){this.model.refilter()}getNode(se=null){if(se===null)return this.model.getNode(this.model.rootRef);const Ae=this.nodes.get(se);if(!Ae)throw new P.jh(this.user,`Tree element not found: ${se}`);return Ae}getNodeLocation(se){return se.element}getParentNodeLocation(se){if(se===null)throw new P.jh(this.user,"Invalid getParentNodeLocation call");const Ae=this.nodes.get(se);if(!Ae)throw new P.jh(this.user,`Tree element not found: ${se}`);const He=this.model.getNodeLocation(Ae),mt=this.model.getParentNodeLocation(He);return this.model.getNode(mt).element}getElementLocation(se){if(se===null)return[];const Ae=this.nodes.get(se);if(!Ae)throw new P.jh(this.user,`Tree element not found: ${se}`);return this.model.getNodeLocation(Ae)}}function L(se){return{element:{elements:[se.element],incompressible:se.incompressible||!1},children:z.f.map(z.f.from(se.children),L),collapsible:se.collapsible,collapsed:se.collapsed}}function W(se){const Ae=[se.element],He=se.incompressible||!1;let mt,At;for(;[At,mt]=z.f.consume(z.f.from(se.children),2),At.length===1&&!At[0].incompressible;)se=At[0],Ae.push(se.element);return{element:{elements:Ae,incompressible:He},children:z.f.map(z.f.concat(At,mt),W),collapsible:se.collapsible,collapsed:se.collapsed}}function B(se,Ae=0){let He;return He=Ae<se.element.elements.length-1?[B(se,Ae+1)]:z.f.map(z.f.from(se.children),(mt)=>B(mt,0)),Ae===0&&se.element.incompressible?{element:se.element.elements[Ae],children:He,incompressible:!0,collapsible:se.collapsible,collapsed:se.collapsed}:{element:se.element.elements[Ae],children:He,collapsible:se.collapsible,collapsed:se.collapsed}}function U(se){return B(se,0)}function $(se,Ae,He){return se.element===Ae?{...se,children:He}:{...se,children:z.f.map(z.f.from(se.children),(mt)=>$(mt,Ae,He))}}class G{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(se,Ae,He={}){this.user=se,this.rootRef=null,this.nodes=new Map,this.model=new te(se,Ae,He),this.enabled=He.compressionEnabled===void 0||He.compressionEnabled,this.identityProvider=He.identityProvider}setChildren(se,Ae=z.f.empty(),He){const mt=He.diffIdentityProvider&&(At=He.diffIdentityProvider,{getId:(gt)=>gt.elements.map((bt)=>At.getId(bt).toString()).join("\0")});var At;if(se===null){const gt=z.f.map(Ae,this.enabled?W:L);return void this._setChildren(null,gt,{diffIdentityProvider:mt,diffDepth:1/0})}const zt=this.nodes.get(se);if(!zt)throw new P.jh(this.user,"Unknown compressed tree node");const Pt=this.model.getNode(zt),Wt=this.model.getParentNodeLocation(zt),Nn=this.model.getNode(Wt),bn=$(U(Pt),se,Ae),Jn=(this.enabled?W:L)(bn),$e=He.diffIdentityProvider?(gt,bt)=>He.diffIdentityProvider.getId(gt)===He.diffIdentityProvider.getId(bt):void 0;if(I.aI(Jn.element.elements,Pt.element.elements,$e))return void this._setChildren(zt,Jn.children||z.f.empty(),{diffIdentityProvider:mt,diffDepth:1});const tt=Nn.children.map((gt)=>gt===Pt?Jn:gt);this._setChildren(Nn.element,tt,{diffIdentityProvider:mt,diffDepth:Pt.depth-Nn.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(se){if(se===this.enabled)return;this.enabled=se;const Ae=this.model.getNode().children,He=z.f.map(Ae,U),mt=z.f.map(He,se?W:L);this._setChildren(null,mt,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(se,Ae,He){const mt=new Set;this.model.setChildren(se,Ae,{...He,onDidCreateNode:(At)=>{for(let zt of At.element.elements)mt.add(zt),this.nodes.set(zt,At.element)},onDidDeleteNode:(At)=>{for(let zt of At.element.elements)mt.has(zt)||this.nodes.delete(zt)}})}has(se){return this.nodes.has(se)}getListIndex(se){const Ae=this.getCompressedNode(se);return this.model.getListIndex(Ae)}getListRenderCount(se){const Ae=this.getCompressedNode(se);return this.model.getListRenderCount(Ae)}getNode(se){if(se===void 0)return this.model.getNode();const Ae=this.getCompressedNode(se);return this.model.getNode(Ae)}getNodeLocation(se){const Ae=this.model.getNodeLocation(se);return Ae===null?null:Ae.elements[Ae.elements.length-1]}getParentNodeLocation(se){const Ae=this.getCompressedNode(se),He=this.model.getParentNodeLocation(Ae);return He===null?null:He.elements[He.elements.length-1]}getFirstElementChild(se){const Ae=this.getCompressedNode(se);return this.model.getFirstElementChild(Ae)}isCollapsible(se){const Ae=this.getCompressedNode(se);return this.model.isCollapsible(Ae)}setCollapsible(se,Ae){const He=this.getCompressedNode(se);return this.model.setCollapsible(He,Ae)}isCollapsed(se){const Ae=this.getCompressedNode(se);return this.model.isCollapsed(Ae)}setCollapsed(se,Ae,He){const mt=this.getCompressedNode(se);return this.model.setCollapsed(mt,Ae,He)}expandTo(se){const Ae=this.getCompressedNode(se);this.model.expandTo(Ae)}rerender(se){const Ae=this.getCompressedNode(se);this.model.rerender(Ae)}refilter(){this.model.refilter()}getCompressedNode(se){if(se===null)return null;const Ae=this.nodes.get(se);if(!Ae)throw new P.jh(this.user,`Tree element not found: ${se}`);return Ae}}const ie=(se)=>se[se.length-1];class ee{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((se)=>new ee(this.unwrapper,se))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(se,Ae){this.unwrapper=se,this.node=Ae}}class ne{get onDidSplice(){return J.Jh.map(this.model.onDidSplice,({insertedNodes:se,deletedNodes:Ae})=>({insertedNodes:se.map((He)=>this.nodeMapper.map(He)),deletedNodes:Ae.map((He)=>this.nodeMapper.map(He))}))}get onDidChangeCollapseState(){return J.Jh.map(this.model.onDidChangeCollapseState,({node:se,deep:Ae})=>({node:this.nodeMapper.map(se),deep:Ae}))}get onDidChangeRenderNodeCount(){return J.Jh.map(this.model.onDidChangeRenderNodeCount,(se)=>this.nodeMapper.map(se))}constructor(se,Ae,He={}){this.rootRef=null,this.elementMapper=He.elementMapper||ie;const mt=(At)=>this.elementMapper(At.elements);this.nodeMapper=new P.y2((At)=>new ee(mt,At)),this.model=new G(se,function(At,zt){return{splice(Pt,Wt,Nn){zt.splice(Pt,Wt,Nn.map((bn)=>At.map(bn)))},updateElementHeight(Pt,Wt){zt.updateElementHeight(Pt,Wt)}}}(this.nodeMapper,Ae),function(At,zt){return{...zt,identityProvider:zt.identityProvider&&{getId:(Pt)=>zt.identityProvider.getId(At(Pt))},sorter:zt.sorter&&{compare:(Pt,Wt)=>zt.sorter.compare(Pt.elements[0],Wt.elements[0])},filter:zt.filter&&{filter:(Pt,Wt)=>zt.filter.filter(At(Pt),Wt)}}}(mt,He))}setChildren(se,Ae=z.f.empty(),He={}){this.model.setChildren(se,Ae,He)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(se){this.model.setCompressionEnabled(se)}has(se){return this.model.has(se)}getListIndex(se){return this.model.getListIndex(se)}getListRenderCount(se){return this.model.getListRenderCount(se)}getNode(se){return this.nodeMapper.map(this.model.getNode(se))}getNodeLocation(se){return se.element}getParentNodeLocation(se){return this.model.getParentNodeLocation(se)}getFirstElementChild(se){const Ae=this.model.getFirstElementChild(se);return Ae==null?Ae:this.elementMapper(Ae.elements)}isCollapsible(se){return this.model.isCollapsible(se)}setCollapsible(se,Ae){return this.model.setCollapsible(se,Ae)}isCollapsed(se){return this.model.isCollapsed(se)}setCollapsed(se,Ae,He){return this.model.setCollapsed(se,Ae,He)}expandTo(se){return this.model.expandTo(se)}rerender(se){return this.model.rerender(se)}refilter(){return this.model.refilter()}getCompressedTreeNode(se=null){return this.model.getNode(se)}}var H=h(8846);class V extends x.DO{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(se,Ae,He,mt,At={}){super(se,Ae,He,mt,At),this.user=se}setChildren(se,Ae=z.f.empty(),He){this.model.setChildren(se,Ae,He)}rerender(se){se!==void 0?this.model.rerender(se):this.view.rerender()}hasElement(se){return this.model.has(se)}createModel(se,Ae,He){return new te(se,Ae,He)}}class Y{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(se,Ae,He){this._compressedTreeNodeProvider=se,this.stickyScrollDelegate=Ae,this.renderer=He,this.templateId=He.templateId,He.onDidChangeTwistieState&&(this.onDidChangeTwistieState=He.onDidChangeTwistieState)}renderTemplate(se){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(se)}}renderElement(se,Ae,He,mt){let At=this.stickyScrollDelegate.getCompressedNode(se);At||(At=this.compressedTreeNodeProvider.getCompressedTreeNode(se.element)),At.element.elements.length===1?(He.compressedTreeNode=void 0,this.renderer.renderElement(se,Ae,He.data,mt)):(He.compressedTreeNode=At,this.renderer.renderCompressedElements(At,Ae,He.data,mt))}disposeElement(se,Ae,He,mt){He.compressedTreeNode?this.renderer.disposeCompressedElements?.(He.compressedTreeNode,Ae,He.data,mt):this.renderer.disposeElement?.(se,Ae,He.data,mt)}disposeTemplate(se){this.renderer.disposeTemplate(se.data)}renderTwistie(se,Ae){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(se,Ae)}}(function(se,Ae,He,mt){var At,zt=arguments.length,Pt=zt<3?Ae:mt===null?mt=Object.getOwnPropertyDescriptor(Ae,He):mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Pt=Reflect.decorate(se,Ae,He,mt);else for(var Wt=se.length-1;Wt>=0;Wt--)(At=se[Wt])&&(Pt=(zt<3?At(Pt):zt>3?At(Ae,He,Pt):At(Ae,He))||Pt);zt>3&&Pt&&Object.defineProperty(Ae,He,Pt)})([H.B],Y.prototype,"compressedTreeNodeProvider",null);class ve{constructor(se){this.modelProvider=se,this.compressedStickyNodes=new Map}getCompressedNode(se){return this.compressedStickyNodes.get(se)}constrainStickyScrollNodes(se,Ae,He){if(this.compressedStickyNodes.clear(),se.length===0)return[];for(let mt=0;mt<se.length;mt++){const At=se[mt],zt=At.position+At.height;if(mt+1<se.length&&zt+se[mt+1].height>He||mt>=Ae-1&&Ae<se.length){const Pt=se.slice(0,mt),Wt=se.slice(mt);return[...Pt,this.compressStickyNodes(Wt)]}}return se}compressStickyNodes(se){if(se.length===0)throw new Error("Can't compress empty sticky nodes");const Ae=this.modelProvider();if(!Ae.isCompressionEnabled())return se[0];const He=[];for(let Nn=0;Nn<se.length;Nn++){const bn=se[Nn],Jn=Ae.getCompressedTreeNode(bn.node.element);if(Jn.element){if(Nn!==0&&Jn.element.incompressible)break;He.push(...Jn.element.elements)}}if(He.length<2)return se[0];const mt=se[se.length-1],At={elements:He,incompressible:!1},zt={...mt.node,children:[],element:At},Pt=new Proxy(se[0].node,{}),Wt={node:Pt,startIndex:se[0].startIndex,endIndex:mt.endIndex,position:se[0].position,height:se[0].height};return this.compressedStickyNodes.set(Pt,zt),Wt}}function Te(se,Ae){return Ae&&{...Ae,keyboardNavigationLabelProvider:Ae.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(He){let mt;try{mt=se().getCompressedTreeNode(He)}catch{return Ae.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(He)}return mt.element.elements.length===1?Ae.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(He):Ae.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(mt.element.elements)}}}}class xe extends V{constructor(se,Ae,He,mt,At={}){const zt=()=>this,Pt=new ve(()=>this.model);super(se,Ae,He,mt.map((Wt)=>new Y(zt,Pt,Wt)),{...Te(zt,At),stickyScrollDelegate:Pt})}setChildren(se,Ae=z.f.empty(),He){this.model.setChildren(se,Ae,He)}createModel(se,Ae,He){return new ne(se,Ae,He)}updateOptions(se={}){super.updateOptions(se),se.compressionEnabled!==void 0&&this.model.setCompressionEnabled(se.compressionEnabled)}getCompressedTreeNode(se=null){return this.model.getCompressedTreeNode(se)}}var Be=h(5958),Ie=h(5915),he=h(8881),Q=h(4327),re=h(9359);function Je(se){return{...se,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function Se(se,Ae){return!!Ae.parent&&(Ae.parent===se||Se(se,Ae.parent))}class Pe{get element(){return this.node.element.element}get children(){return this.node.children.map((se)=>new Pe(se))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(se){this.node=se}}class Le{constructor(se,Ae,He){this.renderer=se,this.nodeMapper=Ae,this.onDidChangeTwistieState=He,this.renderedNodes=new Map,this.templateId=se.templateId}renderTemplate(se){return{templateData:this.renderer.renderTemplate(se)}}renderElement(se,Ae,He,mt){this.renderer.renderElement(this.nodeMapper.map(se),Ae,He.templateData,mt)}renderTwistie(se,Ae){return se.slow?(Ae.classList.add(...he.L.asClassNameArray(Ie.W.treeItemLoading)),!0):(Ae.classList.remove(...he.L.asClassNameArray(Ie.W.treeItemLoading)),!1)}disposeElement(se,Ae,He,mt){this.renderer.disposeElement?.(this.nodeMapper.map(se),Ae,He.templateData,mt)}disposeTemplate(se){this.renderer.disposeTemplate(se.templateData)}dispose(){this.renderedNodes.clear()}}function Ve(se){return{browserEvent:se.browserEvent,elements:se.elements.map((Ae)=>Ae.element)}}function g(se){return{browserEvent:se.browserEvent,element:se.element&&se.element.element,target:se.target}}class ge extends k.ur{constructor(se){super(se.elements.map((Ae)=>Ae.element)),this.data=se}}function We(se){return se instanceof k.ur?new ge(se):se}class de{constructor(se){this.dnd=se}getDragURI(se){return this.dnd.getDragURI(se.element)}getDragLabel(se,Ae){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(se.map((He)=>He.element),Ae)}onDragStart(se,Ae){this.dnd.onDragStart?.(We(se),Ae)}onDragOver(se,Ae,He,mt,At,zt=!0){return this.dnd.onDragOver(We(se),Ae&&Ae.element,He,mt,At)}drop(se,Ae,He,mt,At){this.dnd.drop(We(se),Ae&&Ae.element,He,mt,At)}onDragEnd(se){this.dnd.onDragEnd?.(se)}dispose(){this.dnd.dispose()}}function be(se){return se&&{...se,collapseByDefault:!0,identityProvider:se.identityProvider&&{getId:(Ae)=>se.identityProvider.getId(Ae.element)},dnd:se.dnd&&new de(se.dnd),multipleSelectionController:se.multipleSelectionController&&{isSelectionSingleChangeEvent:(Ae)=>se.multipleSelectionController.isSelectionSingleChangeEvent({...Ae,element:Ae.element}),isSelectionRangeChangeEvent:(Ae)=>se.multipleSelectionController.isSelectionRangeChangeEvent({...Ae,element:Ae.element})},accessibilityProvider:se.accessibilityProvider&&{...se.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:se.accessibilityProvider.getRole?(Ae)=>se.accessibilityProvider.getRole(Ae.element):()=>"treeitem",isChecked:se.accessibilityProvider.isChecked?(Ae)=>!!se.accessibilityProvider?.isChecked(Ae.element):void 0,getAriaLabel:(Ae)=>se.accessibilityProvider.getAriaLabel(Ae.element),getWidgetAriaLabel:()=>se.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:se.accessibilityProvider.getWidgetRole?()=>se.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:se.accessibilityProvider.getAriaLevel&&((Ae)=>se.accessibilityProvider.getAriaLevel(Ae.element)),getActiveDescendantId:se.accessibilityProvider.getActiveDescendantId&&((Ae)=>se.accessibilityProvider.getActiveDescendantId(Ae.element))},filter:se.filter&&{filter:(Ae,He)=>se.filter.filter(Ae.element,He)},keyboardNavigationLabelProvider:se.keyboardNavigationLabelProvider&&{...se.keyboardNavigationLabelProvider,getKeyboardNavigationLabel:(Ae)=>se.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ae.element)},sorter:void 0,expandOnlyOnTwistieClick:se.expandOnlyOnTwistieClick===void 0?void 0:typeof se.expandOnlyOnTwistieClick!="function"?se.expandOnlyOnTwistieClick:(Ae)=>se.expandOnlyOnTwistieClick(Ae.element),defaultFindVisibility:(Ae)=>Ae.hasChildren&&Ae.stale?1:typeof se.defaultFindVisibility=="number"?se.defaultFindVisibility:se.defaultFindVisibility===void 0?2:se.defaultFindVisibility(Ae.element)}}function ae(se,Ae){Ae(se),se.children.forEach((He)=>ae(He,Ae))}class O{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return J.Jh.map(this.tree.onDidChangeFocus,Ve)}get onDidChangeSelection(){return J.Jh.map(this.tree.onDidChangeSelection,Ve)}get onMouseDblClick(){return J.Jh.map(this.tree.onMouseDblClick,g)}get onPointer(){return J.Jh.map(this.tree.onPointer,g)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(se,Ae,He,mt,At,zt={}){this.user=se,this.dataSource=At,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new J.vl,this._onDidChangeNodeSlowState=new J.vl,this.nodeMapper=new P.y2((Pt)=>new Pe(Pt)),this.disposables=new M.Cm,this.identityProvider=zt.identityProvider,this.autoExpandSingleChildren=zt.autoExpandSingleChildren!==void 0&&zt.autoExpandSingleChildren,this.sorter=zt.sorter,this.getDefaultCollapseState=(Pt)=>zt.collapseByDefault?zt.collapseByDefault(Pt)?P.Yo.PreserveOrCollapsed:P.Yo.PreserveOrExpanded:void 0,this.tree=this.createTree(se,Ae,He,mt,zt),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=Je({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(se,Ae,He,mt,At){const zt=new x.w0(He),Pt=mt.map((Nn)=>new Le(Nn,this.nodeMapper,this._onDidChangeNodeSlowState.event)),Wt=be(At)||{};return new V(se,Ae,zt,Pt,Wt)}updateOptions(se={}){this.tree.updateOptions(se)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(se){this.tree.scrollTop=se}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(se,Ae){this.tree.layout(se,Ae)}style(se){this.tree.style(se)}getInput(){return this.root.element}async setInput(se,Ae){this.refreshPromises.forEach((mt)=>mt.cancel()),this.refreshPromises.clear(),this.root.element=se;const He=Ae&&{viewState:Ae,focus:[],selection:[]};await this._updateChildren(se,!0,!1,He),He&&(this.tree.setFocus(He.focus),this.tree.setSelection(He.selection)),Ae&&typeof Ae.scrollTop=="number"&&(this.scrollTop=Ae.scrollTop)}async _updateChildren(se=this.root.element,Ae=!0,He=!1,mt,At){if(this.root.element===void 0)throw new P.jh(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await J.Jh.toPromise(this._onDidRender.event));const zt=this.getDataNode(se);if(await this.refreshAndRenderNode(zt,Ae,mt,At),He)try{this.tree.rerender(zt)}catch{}}rerender(se){if(se===void 0||se===this.root.element)return void this.tree.rerender();const Ae=this.getDataNode(se);this.tree.rerender(Ae)}getNode(se=this.root.element){const Ae=this.getDataNode(se),He=this.tree.getNode(Ae===this.root?null:Ae);return this.nodeMapper.map(He)}collapse(se,Ae=!1){const He=this.getDataNode(se);return this.tree.collapse(He===this.root?null:He,Ae)}async expand(se,Ae=!1){if(this.root.element===void 0)throw new P.jh(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await J.Jh.toPromise(this._onDidRender.event));const He=this.getDataNode(se);if(this.tree.hasElement(He)&&!this.tree.isCollapsible(He))return!1;if(He.refreshPromise&&(await this.root.refreshPromise,await J.Jh.toPromise(this._onDidRender.event)),He!==this.root&&!He.refreshPromise&&!this.tree.isCollapsed(He))return!1;const mt=this.tree.expand(He===this.root?null:He,Ae);return He.refreshPromise&&(await this.root.refreshPromise,await J.Jh.toPromise(this._onDidRender.event)),mt}setSelection(se,Ae){const He=se.map((mt)=>this.getDataNode(mt));this.tree.setSelection(He,Ae)}getSelection(){return this.tree.getSelection().map((se)=>se.element)}setFocus(se,Ae){const He=se.map((mt)=>this.getDataNode(mt));this.tree.setFocus(He,Ae)}getFocus(){return this.tree.getFocus().map((se)=>se.element)}reveal(se,Ae){this.tree.reveal(this.getDataNode(se),Ae)}getParentElement(se){const Ae=this.tree.getParentElement(this.getDataNode(se));return Ae&&Ae.element}getFirstElementChild(se=this.root.element){const Ae=this.getDataNode(se),He=this.tree.getFirstElementChild(Ae===this.root?null:Ae);return He&&He.element}getDataNode(se){const Ae=this.nodes.get(se===this.root.element?null:se);if(!Ae)throw new P.jh(this.user,`Data tree node not found: ${se}`);return Ae}async refreshAndRenderNode(se,Ae,He,mt){await this.refreshNode(se,Ae,He),this.disposables.isDisposed||this.render(se,He,mt)}async refreshNode(se,Ae,He){let mt;return this.subTreeRefreshPromises.forEach((At,zt)=>{!mt&&function(Pt,Wt){return Pt===Wt||Se(Pt,Wt)||Se(Wt,Pt)}(zt,se)&&(mt=At.then(()=>this.refreshNode(se,Ae,He)))}),mt||(se!==this.root&&this.tree.getNode(se).collapsed?(se.hasChildren=!!this.dataSource.hasChildren(se.element),se.stale=!0,void this.setChildren(se,[],Ae,He)):this.doRefreshSubTree(se,Ae,He))}async doRefreshSubTree(se,Ae,He){let mt;se.refreshPromise=new Promise((At)=>mt=At),this.subTreeRefreshPromises.set(se,se.refreshPromise),se.refreshPromise.finally(()=>{se.refreshPromise=void 0,this.subTreeRefreshPromises.delete(se)});try{const At=await this.doRefreshNode(se,Ae,He);se.stale=!1,await Be.HC.settled(At.map((zt)=>this.doRefreshSubTree(zt,Ae,He)))}finally{mt()}}async doRefreshNode(se,Ae,He){let mt;if(se.hasChildren=!!this.dataSource.hasChildren(se.element),se.hasChildren){const At=this.doGetChildren(se);if(re.xZ(At))mt=Promise.resolve(At);else{const zt=Be.wR(800);zt.then(()=>{se.slow=!0,this._onDidChangeNodeSlowState.fire(se)},(Pt)=>null),mt=At.finally(()=>zt.cancel())}}else mt=Promise.resolve(z.f.empty());try{const At=await mt;return this.setChildren(se,At,Ae,He)}catch(At){if(se!==this.root&&this.tree.hasElement(se)&&this.tree.collapse(se),Q.MB(At))return[];throw At}finally{se.slow&&(se.slow=!1,this._onDidChangeNodeSlowState.fire(se))}}doGetChildren(se){let Ae=this.refreshPromises.get(se);if(Ae)return Ae;const He=this.dataSource.getChildren(se.element);return re.xZ(He)?this.processChildren(He):(Ae=Be.SS(async()=>this.processChildren(await He)),this.refreshPromises.set(se,Ae),Ae.finally(()=>{this.refreshPromises.delete(se)}))}_onDidChangeCollapseState({node:se,deep:Ae}){se.element!==null&&!se.collapsed&&se.element.stale&&(Ae?this.collapse(se.element.element):this.refreshAndRenderNode(se.element,!1).catch(Q.dz))}setChildren(se,Ae,He,mt){const At=[...Ae];if(se.children.length===0&&At.length===0)return[];const zt=new Map,Pt=new Map;for(let bn of se.children)zt.set(bn.element,bn),this.identityProvider&&Pt.set(bn.id,{node:bn,collapsed:this.tree.hasElement(bn)&&this.tree.isCollapsed(bn)});const Wt=[],Nn=At.map((bn)=>{const Jn=!!this.dataSource.hasChildren(bn);if(!this.identityProvider){const bt=Je({element:bn,parent:se,hasChildren:Jn,defaultCollapseState:this.getDefaultCollapseState(bn)});return Jn&&bt.defaultCollapseState===P.Yo.PreserveOrExpanded&&Wt.push(bt),bt}const $e=this.identityProvider.getId(bn).toString(),tt=Pt.get($e);if(tt){const bt=tt.node;return zt.delete(bt.element),this.nodes.delete(bt.element),this.nodes.set(bn,bt),bt.element=bn,bt.hasChildren=Jn,He?tt.collapsed?(bt.children.forEach((ke)=>ae(ke,(qt)=>this.nodes.delete(qt.element))),bt.children.splice(0,bt.children.length),bt.stale=!0):Wt.push(bt):Jn&&!tt.collapsed&&Wt.push(bt),bt}const gt=Je({element:bn,parent:se,id:$e,hasChildren:Jn,defaultCollapseState:this.getDefaultCollapseState(bn)});return mt&&mt.viewState.focus&&mt.viewState.focus.indexOf($e)>-1&&mt.focus.push(gt),mt&&mt.viewState.selection&&mt.viewState.selection.indexOf($e)>-1&&mt.selection.push(gt),(mt&&mt.viewState.expanded&&mt.viewState.expanded.indexOf($e)>-1||Jn&&gt.defaultCollapseState===P.Yo.PreserveOrExpanded)&&Wt.push(gt),gt});for(let bn of zt.values())ae(bn,(Jn)=>this.nodes.delete(Jn.element));for(let bn of Nn)this.nodes.set(bn.element,bn);return se.children.splice(0,se.children.length,...Nn),se!==this.root&&this.autoExpandSingleChildren&&Nn.length===1&&Wt.length===0&&(Nn[0].forceExpanded=!0,Wt.push(Nn[0])),Wt}render(se,Ae,He){const mt=se.children.map((zt)=>this.asTreeElement(zt,Ae)),At=He&&{...He,diffIdentityProvider:He.diffIdentityProvider&&{getId:(zt)=>He.diffIdentityProvider.getId(zt.element)}};this.tree.setChildren(se===this.root?null:se,mt,At),se!==this.root&&this.tree.setCollapsible(se,se.hasChildren),this._onDidRender.fire()}asTreeElement(se,Ae){if(se.stale)return{element:se,collapsible:se.hasChildren,collapsed:!0};let He;return Ae&&Ae.viewState.expanded&&se.id&&Ae.viewState.expanded.indexOf(se.id)>-1?He=!1:se.forceExpanded?(He=!1,se.forceExpanded=!1):He=se.defaultCollapseState,{element:se,children:se.hasChildren?z.f.map(se.children,(mt)=>this.asTreeElement(mt,Ae)):[],collapsible:se.hasChildren,collapsed:He}}processChildren(se){return this.sorter&&(se=[...se].sort(this.sorter.compare.bind(this.sorter))),se}dispose(){this.disposables.dispose(),this.tree.dispose()}}class Ue{get element(){return{elements:this.node.element.elements.map((se)=>se.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((se)=>new Ue(se))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(se){this.node=se}}class Ye{constructor(se,Ae,He,mt){this.renderer=se,this.nodeMapper=Ae,this.compressibleNodeMapperProvider=He,this.onDidChangeTwistieState=mt,this.renderedNodes=new Map,this.disposables=[],this.templateId=se.templateId}renderTemplate(se){return{templateData:this.renderer.renderTemplate(se)}}renderElement(se,Ae,He,mt){this.renderer.renderElement(this.nodeMapper.map(se),Ae,He.templateData,mt)}renderCompressedElements(se,Ae,He,mt){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(se),Ae,He.templateData,mt)}renderTwistie(se,Ae){return se.slow?(Ae.classList.add(...he.L.asClassNameArray(Ie.W.treeItemLoading)),!0):(Ae.classList.remove(...he.L.asClassNameArray(Ie.W.treeItemLoading)),!1)}disposeElement(se,Ae,He,mt){this.renderer.disposeElement?.(this.nodeMapper.map(se),Ae,He.templateData,mt)}disposeCompressedElements(se,Ae,He,mt){this.renderer.disposeCompressedElements?.(this.compressibleNodeMapperProvider().map(se),Ae,He.templateData,mt)}disposeTemplate(se){this.renderer.disposeTemplate(se.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=M.AS(this.disposables)}}class Fe extends O{constructor(se,Ae,He,mt,At,zt,Pt={}){super(se,Ae,He,At,zt,Pt),this.compressionDelegate=mt,this.compressibleNodeMapper=new P.y2((Wt)=>new Ue(Wt)),this.filter=Pt.filter}createTree(se,Ae,He,mt,At){const zt=new x.w0(He),Pt=mt.map((Nn)=>new Ye(Nn,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),Wt=function(Nn){const bn=Nn&&be(Nn);return bn&&{...bn,keyboardNavigationLabelProvider:bn.keyboardNavigationLabelProvider&&{...bn.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel:(Jn)=>Nn.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Jn.map(($e)=>$e.element))}}}(At)||{};return new xe(se,Ae,zt,Pt,Wt)}asTreeElement(se,Ae){return{incompressible:this.compressionDelegate.isIncompressible(se.element),...super.asTreeElement(se,Ae)}}updateOptions(se={}){this.tree.updateOptions(se)}render(se,Ae,He){if(!this.identityProvider)return super.render(se,Ae);const mt=(tt)=>this.identityProvider.getId(tt).toString(),At=(tt)=>{const gt=new Set;for(let bt of tt){const ke=this.tree.getCompressedTreeNode(bt===this.root?null:bt);if(ke.element)for(let qt of ke.element.elements)gt.add(mt(qt.element))}return gt},zt=At(this.tree.getSelection()),Pt=At(this.tree.getFocus());super.render(se,Ae,He);const Wt=this.getSelection();let Nn=!1;const bn=this.getFocus();let Jn=!1;const $e=(tt)=>{const gt=tt.element;if(gt)for(let bt=0;bt<gt.elements.length;bt++){const ke=mt(gt.elements[bt].element),qt=gt.elements[gt.elements.length-1].element;zt.has(ke)&&Wt.indexOf(qt)===-1&&(Wt.push(qt),Nn=!0),Pt.has(ke)&&bn.indexOf(qt)===-1&&(bn.push(qt),Jn=!0)}tt.children.forEach($e)};$e(this.tree.getCompressedTreeNode(se===this.root?null:se)),Nn&&this.setSelection(Wt),Jn&&this.setFocus(bn)}processChildren(se){return this.filter&&(se=z.f.filter(se,(Ae)=>{const He=typeof(mt=this.filter.filter(Ae,1))=="boolean"?mt?1:0:R.iZ(mt)?R.Mn(mt.visibility):R.Mn(mt);var mt;if(He===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return He===1})),super.processChildren(se)}}class oe extends x.DO{constructor(se,Ae,He,mt,At,zt={}){super(se,Ae,He,mt,zt),this.user=se,this.dataSource=At,this.identityProvider=zt.identityProvider}createModel(se,Ae,He){return new te(se,Ae,He)}}var rt=h(9746),lt=h(5753),ye=h(7142),pt=h(1540),Mt=h(3034),Zt=h(2348),jt=h(2399),xn=h(6071),nn=h(7167),gn=h(5654),pn=function(se,Ae,He,mt){var At,zt=arguments.length,Pt=zt<3?Ae:mt===null?mt=Object.getOwnPropertyDescriptor(Ae,He):mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Pt=Reflect.decorate(se,Ae,He,mt);else for(var Wt=se.length-1;Wt>=0;Wt--)(At=se[Wt])&&(Pt=(zt<3?At(Pt):zt>3?At(Ae,He,Pt):At(Ae,He))||Pt);return zt>3&&Pt&&Object.defineProperty(Ae,He,Pt),Pt},rn=function(se,Ae){return function(He,mt){Ae(He,mt,se)}};const Sn=jt.u1("listService");class Mn{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new M.Cm,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(se){se!==this._lastFocusedWidget&&(this._lastFocusedWidget?.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=se,this._lastFocusedWidget?.getHTMLElement().classList.add("last-focused"))}register(se,Ae){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new v.hb(s.li(),"").style(gn.IN)),this.lists.some((mt)=>mt.widget===se))throw new Error("Cannot register the same widget multiple times");const He={widget:se,extraContextKeys:Ae};return this.lists.push(He),s.X7(se.getHTMLElement())&&this.setLastFocusedList(se),M.qE(se.onDidFocus(()=>this.setLastFocusedList(se)),M.s(()=>this.lists.splice(this.lists.indexOf(He),1)),se.onDidDispose(()=>{this.lists=this.lists.filter((mt)=>mt!==He),this._lastFocusedWidget===se&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const Bn=new pt.N1("listScrollAtBoundary","none"),wi=(pt.M$.or(Bn.isEqualTo("top"),Bn.isEqualTo("both")),pt.M$.or(Bn.isEqualTo("bottom"),Bn.isEqualTo("both")),new pt.N1("listFocus",!0)),Mi=new pt.N1("treestickyScrollFocused",!1),Oi=new pt.N1("listSupportsMultiselect",!0),En=pt.M$.and(wi,pt.M$.not(Mt.aV),Mi.negate()),li=new pt.N1("listHasSelectionOrFocus",!1),si=new pt.N1("listDoubleSelection",!1),ti=new pt.N1("listMultiSelection",!1),Ln=new pt.N1("listSelectionNavigation",!1),Xn=new pt.N1("listSupportsFind",!0),xi=new pt.N1("treeElementCanCollapse",!1),Ni=new pt.N1("treeElementHasParent",!1),Ii=new pt.N1("treeElementCanExpand",!1),er=new pt.N1("treeElementHasChild",!1),Zi=new pt.N1("treeFindOpen",!1),tr="listTypeNavigationMode",rr="listAutomaticKeyboardNavigation";function yi(se,Ae){const He=se.createScoped(Ae.getHTMLElement());return wi.bindTo(He),He}function un(se,Ae){const He=Bn.bindTo(se),mt=()=>{const At=Ae.scrollTop===0,zt=Ae.scrollHeight-Ae.renderHeight-Ae.scrollTop<1;At&&zt?He.set("both"):At?He.set("top"):zt?He.set("bottom"):He.set("none")};return mt(),Ae.onDidScroll(mt)}const ft="workbench.list.multiSelectModifier",Yn="workbench.list.openMode",Nt="workbench.list.horizontalScrolling",Ci="workbench.list.defaultFindMode",Hn="workbench.list.typeNavigationMode",Xt="workbench.list.keyboardNavigation",pi="workbench.list.scrollByPage",Ji="workbench.list.defaultFindMatchType",Gi="workbench.tree.indent",dr="workbench.tree.renderIndentGuides",Ui="workbench.list.smoothScrolling",Xi="workbench.list.mouseWheelScrollSensitivity",Pi="workbench.list.fastScrollSensitivity",ar="workbench.tree.expandMode",Hi="workbench.tree.enableStickyScroll",or="workbench.tree.stickyScrollMaxItemCount";function Yi(se){return se.getValue(ft)==="alt"}class _t extends M.jG{constructor(se){super(),this.configurationService=se,this.useAltAsMultipleSelectionModifier=Yi(se),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((se)=>{se.affectsConfiguration(ft)&&(this.useAltAsMultipleSelectionModifier=Yi(this.configurationService))}))}isSelectionSingleChangeEvent(se){return this.useAltAsMultipleSelectionModifier?se.browserEvent.altKey:v.tX(se)}isSelectionRangeChangeEvent(se){return v.mh(se)}}function Kt(se,Ae){const He=se.get(lt.pG),mt=se.get(xn.b),At=new M.Cm;return[{...Ae,keyboardNavigationDelegate:{mightProducePrintableCharacter:(zt)=>mt.mightProducePrintableCharacter(zt)},smoothScrolling:Boolean(He.getValue(Ui)),mouseWheelScrollSensitivity:He.getValue(Xi),fastScrollSensitivity:He.getValue(Pi),multipleSelectionController:Ae.multipleSelectionController??At.add(new _t(He)),keyboardNavigationEventFilter:oi(mt),scrollByPage:Boolean(He.getValue(pi))},At]}let tn=class extends v.B8{constructor(se,Ae,He,mt,At,zt,Pt,Wt,Nn){const bn=At.horizontalScrolling!==void 0?At.horizontalScrolling:Boolean(Wt.getValue(Nt)),[Jn,$e]=Nn.invokeFunction(Kt,At);super(se,Ae,He,mt,{keyboardSupport:!1,...Jn,horizontalScrolling:bn}),this.disposables.add($e),this.contextKeyService=yi(zt,this),this.disposables.add(un(this.contextKeyService,this)),this.listSupportsMultiSelect=Oi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(At.multipleSelectionSupport!==!1),Ln.bindTo(this.contextKeyService).set(Boolean(At.selectionNavigation)),this.listHasSelectionOrFocus=li.bindTo(this.contextKeyService),this.listDoubleSelection=si.bindTo(this.contextKeyService),this.listMultiSelection=ti.bindTo(this.contextKeyService),this.horizontalScrolling=At.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Yi(Wt),this.disposables.add(this.contextKeyService),this.disposables.add(Pt.register(this)),this.updateStyles(At.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const tt=this.getSelection(),gt=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(tt.length>0||gt.length>0),this.listMultiSelection.set(tt.length>1),this.listDoubleSelection.set(tt.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const tt=this.getSelection(),gt=this.getFocus();this.listHasSelectionOrFocus.set(tt.length>0||gt.length>0)})),this.disposables.add(Wt.onDidChangeConfiguration((tt)=>{tt.affectsConfiguration(ft)&&(this._useAltAsMultipleSelectionModifier=Yi(Wt));let gt={};if(tt.affectsConfiguration(Nt)&&this.horizontalScrolling===void 0){const bt=Boolean(Wt.getValue(Nt));gt={...gt,horizontalScrolling:bt}}if(tt.affectsConfiguration(pi)){const bt=Boolean(Wt.getValue(pi));gt={...gt,scrollByPage:bt}}if(tt.affectsConfiguration(Ui)){const bt=Boolean(Wt.getValue(Ui));gt={...gt,smoothScrolling:bt}}if(tt.affectsConfiguration(Xi)){const bt=Wt.getValue(Xi);gt={...gt,mouseWheelScrollSensitivity:bt}}if(tt.affectsConfiguration(Pi)){const bt=Wt.getValue(Pi);gt={...gt,fastScrollSensitivity:bt}}Object.keys(gt).length>0&&this.updateOptions(gt)})),this.navigator=new An(this,{configurationService:Wt,...At}),this.disposables.add(this.navigator)}updateOptions(se){super.updateOptions(se),se.overrideStyles!==void 0&&this.updateStyles(se.overrideStyles),se.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!se.multipleSelectionSupport)}updateStyles(se){this.style(se?gn.t8(se):gn.IN)}};tn=pn([rn(5,pt.fN),rn(6,Sn),rn(7,lt.pG),rn(8,jt._Y)],tn);let In=class extends C{constructor(se,Ae,He,mt,At,zt,Pt,Wt,Nn){const bn=At.horizontalScrolling!==void 0?At.horizontalScrolling:Boolean(Wt.getValue(Nt)),[Jn,$e]=Nn.invokeFunction(Kt,At);super(se,Ae,He,mt,{keyboardSupport:!1,...Jn,horizontalScrolling:bn}),this.disposables=new M.Cm,this.disposables.add($e),this.contextKeyService=yi(zt,this),this.disposables.add(un(this.contextKeyService,this.widget)),this.horizontalScrolling=At.horizontalScrolling,this.listSupportsMultiSelect=Oi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(At.multipleSelectionSupport!==!1),Ln.bindTo(this.contextKeyService).set(Boolean(At.selectionNavigation)),this._useAltAsMultipleSelectionModifier=Yi(Wt),this.disposables.add(this.contextKeyService),this.disposables.add(Pt.register(this)),this.updateStyles(At.overrideStyles),this.disposables.add(Wt.onDidChangeConfiguration((tt)=>{tt.affectsConfiguration(ft)&&(this._useAltAsMultipleSelectionModifier=Yi(Wt));let gt={};if(tt.affectsConfiguration(Nt)&&this.horizontalScrolling===void 0){const bt=Boolean(Wt.getValue(Nt));gt={...gt,horizontalScrolling:bt}}if(tt.affectsConfiguration(pi)){const bt=Boolean(Wt.getValue(pi));gt={...gt,scrollByPage:bt}}if(tt.affectsConfiguration(Ui)){const bt=Boolean(Wt.getValue(Ui));gt={...gt,smoothScrolling:bt}}if(tt.affectsConfiguration(Xi)){const bt=Wt.getValue(Xi);gt={...gt,mouseWheelScrollSensitivity:bt}}if(tt.affectsConfiguration(Pi)){const bt=Wt.getValue(Pi);gt={...gt,fastScrollSensitivity:bt}}Object.keys(gt).length>0&&this.updateOptions(gt)})),this.navigator=new An(this,{configurationService:Wt,...At}),this.disposables.add(this.navigator)}updateOptions(se){super.updateOptions(se),se.overrideStyles!==void 0&&this.updateStyles(se.overrideStyles),se.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!se.multipleSelectionSupport)}updateStyles(se){this.style(se?gn.t8(se):gn.IN)}dispose(){this.disposables.dispose(),super.dispose()}};In=pn([rn(5,pt.fN),rn(6,Sn),rn(7,lt.pG),rn(8,jt._Y)],In);let mn=class extends b{constructor(se,Ae,He,mt,At,zt,Pt,Wt,Nn,bn){const Jn=zt.horizontalScrolling!==void 0?zt.horizontalScrolling:Boolean(Nn.getValue(Nt)),[$e,tt]=bn.invokeFunction(Kt,zt);super(se,Ae,He,mt,At,{keyboardSupport:!1,...$e,horizontalScrolling:Jn}),this.disposables.add(tt),this.contextKeyService=yi(Pt,this),this.disposables.add(un(this.contextKeyService,this)),this.listSupportsMultiSelect=Oi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(zt.multipleSelectionSupport!==!1),Ln.bindTo(this.contextKeyService).set(Boolean(zt.selectionNavigation)),this.listHasSelectionOrFocus=li.bindTo(this.contextKeyService),this.listDoubleSelection=si.bindTo(this.contextKeyService),this.listMultiSelection=ti.bindTo(this.contextKeyService),this.horizontalScrolling=zt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Yi(Nn),this.disposables.add(this.contextKeyService),this.disposables.add(Wt.register(this)),this.updateStyles(zt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const gt=this.getSelection(),bt=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(gt.length>0||bt.length>0),this.listMultiSelection.set(gt.length>1),this.listDoubleSelection.set(gt.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const gt=this.getSelection(),bt=this.getFocus();this.listHasSelectionOrFocus.set(gt.length>0||bt.length>0)})),this.disposables.add(Nn.onDidChangeConfiguration((gt)=>{gt.affectsConfiguration(ft)&&(this._useAltAsMultipleSelectionModifier=Yi(Nn));let bt={};if(gt.affectsConfiguration(Nt)&&this.horizontalScrolling===void 0){const ke=Boolean(Nn.getValue(Nt));bt={...bt,horizontalScrolling:ke}}if(gt.affectsConfiguration(pi)){const ke=Boolean(Nn.getValue(pi));bt={...bt,scrollByPage:ke}}if(gt.affectsConfiguration(Ui)){const ke=Boolean(Nn.getValue(Ui));bt={...bt,smoothScrolling:ke}}if(gt.affectsConfiguration(Xi)){const ke=Nn.getValue(Xi);bt={...bt,mouseWheelScrollSensitivity:ke}}if(gt.affectsConfiguration(Pi)){const ke=Nn.getValue(Pi);bt={...bt,fastScrollSensitivity:ke}}Object.keys(bt).length>0&&this.updateOptions(bt)})),this.navigator=new fi(this,{configurationService:Nn,...zt}),this.disposables.add(this.navigator)}updateOptions(se){super.updateOptions(se),se.overrideStyles!==void 0&&this.updateStyles(se.overrideStyles),se.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!se.multipleSelectionSupport)}updateStyles(se){this.style(se?gn.t8(se):gn.IN)}dispose(){this.disposables.dispose(),super.dispose()}};mn=pn([rn(6,pt.fN),rn(7,Sn),rn(8,lt.pG),rn(9,jt._Y)],mn);class wn extends M.jG{constructor(se,Ae){super(),this.widget=se,this._onDidOpen=this._register(new J.vl),this.onDidOpen=this._onDidOpen.event,this._register(J.Jh.filter(this.widget.onDidChangeSelection,(He)=>s.kx(He.browserEvent))((He)=>this.onSelectionFromKeyboard(He))),this._register(this.widget.onPointer((He)=>this.onPointer(He.element,He.browserEvent))),this._register(this.widget.onMouseDblClick((He)=>this.onMouseDblClick(He.element,He.browserEvent))),typeof Ae?.openOnSingleClick!="boolean"&&Ae?.configurationService?(this.openOnSingleClick=Ae?.configurationService.getValue(Yn)!=="doubleClick",this._register(Ae?.configurationService.onDidChangeConfiguration((He)=>{He.affectsConfiguration(Yn)&&(this.openOnSingleClick=Ae?.configurationService.getValue(Yn)!=="doubleClick")}))):this.openOnSingleClick=Ae?.openOnSingleClick??!0}onSelectionFromKeyboard(se){if(se.elements.length!==1)return;const Ae=se.browserEvent,He=typeof Ae.preserveFocus!="boolean"||Ae.preserveFocus,mt=typeof Ae.pinned=="boolean"?Ae.pinned:!He;this._open(this.getSelectedElement(),He,mt,!1,se.browserEvent)}onPointer(se,Ae){if(!this.openOnSingleClick)return;if(Ae.detail===2)return;const He=Ae.button===1,mt=Ae.ctrlKey||Ae.metaKey||Ae.altKey;this._open(se,!0,He,mt,Ae)}onMouseDblClick(se,Ae){if(!Ae)return;const He=Ae.target;if(He.classList.contains("monaco-tl-twistie")||He.classList.contains("monaco-icon-label")&&He.classList.contains("folder-icon")&&Ae.offsetX<16)return;const mt=Ae.ctrlKey||Ae.metaKey||Ae.altKey;this._open(se,!1,!0,mt,Ae)}_open(se,Ae,He,mt,At){se&&this._onDidOpen.fire({editorOptions:{preserveFocus:Ae,pinned:He,revealIfVisible:!0},sideBySide:mt,element:se,browserEvent:At})}}class An extends wn{constructor(se,Ae){super(se,Ae),this.widget=se}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class fi extends wn{constructor(se,Ae){super(se,Ae)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class qn extends wn{constructor(se,Ae){super(se,Ae)}getSelectedElement(){return this.widget.getSelection()[0]??void 0}}function oi(se){let Ae=!1;return(He)=>{if(He.toKeyCodeChord().isModifierKey())return!1;if(Ae)return Ae=!1,!1;const mt=se.softDispatch(He,He.target);return mt.kind===1?(Ae=!0,!1):(Ae=!1,mt.kind===0)}}let Ai=class extends V{constructor(se,Ae,He,mt,At,zt,Pt,Wt,Nn){const{options:bn,getTypeNavigationMode:Jn,disposable:$e}=zt.invokeFunction(ht,At);super(se,Ae,He,mt,bn),this.disposables.add($e),this.internals=new xt(this,At,Jn,At.overrideStyles,Pt,Wt,Nn),this.disposables.add(this.internals)}updateOptions(se){super.updateOptions(se),this.internals.updateOptions(se)}};Ai=pn([rn(5,jt._Y),rn(6,pt.fN),rn(7,Sn),rn(8,lt.pG)],Ai);let nr=class extends xe{constructor(se,Ae,He,mt,At,zt,Pt,Wt,Nn){const{options:bn,getTypeNavigationMode:Jn,disposable:$e}=zt.invokeFunction(ht,At);super(se,Ae,He,mt,bn),this.disposables.add($e),this.internals=new xt(this,At,Jn,At.overrideStyles,Pt,Wt,Nn),this.disposables.add(this.internals)}updateOptions(se={}){super.updateOptions(se),se.overrideStyles&&this.internals.updateStyleOverrides(se.overrideStyles),this.internals.updateOptions(se)}};nr=pn([rn(5,jt._Y),rn(6,pt.fN),rn(7,Sn),rn(8,lt.pG)],nr);let $i=class extends oe{constructor(se,Ae,He,mt,At,zt,Pt,Wt,Nn,bn){const{options:Jn,getTypeNavigationMode:$e,disposable:tt}=Pt.invokeFunction(ht,zt);super(se,Ae,He,mt,At,Jn),this.disposables.add(tt),this.internals=new xt(this,zt,$e,zt.overrideStyles,Wt,Nn,bn),this.disposables.add(this.internals)}updateOptions(se={}){super.updateOptions(se),se.overrideStyles!==void 0&&this.internals.updateStyleOverrides(se.overrideStyles),this.internals.updateOptions(se)}};$i=pn([rn(6,jt._Y),rn(7,pt.fN),rn(8,Sn),rn(9,lt.pG)],$i);let ji=class extends O{get onDidOpen(){return this.internals.onDidOpen}constructor(se,Ae,He,mt,At,zt,Pt,Wt,Nn,bn){const{options:Jn,getTypeNavigationMode:$e,disposable:tt}=Pt.invokeFunction(ht,zt);super(se,Ae,He,mt,At,Jn),this.disposables.add(tt),this.internals=new xt(this,zt,$e,zt.overrideStyles,Wt,Nn,bn),this.disposables.add(this.internals)}updateOptions(se={}){super.updateOptions(se),se.overrideStyles&&this.internals.updateStyleOverrides(se.overrideStyles),this.internals.updateOptions(se)}};ji=pn([rn(6,jt._Y),rn(7,pt.fN),rn(8,Sn),rn(9,lt.pG)],ji);let di=class extends Fe{constructor(se,Ae,He,mt,At,zt,Pt,Wt,Nn,bn,Jn){const{options:$e,getTypeNavigationMode:tt,disposable:gt}=Wt.invokeFunction(ht,Pt);super(se,Ae,He,mt,At,zt,$e),this.disposables.add(gt),this.internals=new xt(this,Pt,tt,Pt.overrideStyles,Nn,bn,Jn),this.disposables.add(this.internals)}updateOptions(se){super.updateOptions(se),this.internals.updateOptions(se)}};function Qi(se){const Ae=se.getValue(Ci);if(Ae==="highlight")return x.vD.Highlight;if(Ae==="filter")return x.vD.Filter;const He=se.getValue(Xt);return He==="simple"||He==="highlight"?x.vD.Highlight:He==="filter"?x.vD.Filter:void 0}function wr(se){const Ae=se.getValue(Ji);return Ae==="fuzzy"?x.RD.Fuzzy:Ae==="contiguous"?x.RD.Contiguous:void 0}function ht(se,Ae){const He=se.get(lt.pG),mt=se.get(Zt.l),At=se.get(pt.fN),zt=se.get(jt._Y),Pt=Ae.horizontalScrolling!==void 0?Ae.horizontalScrolling:Boolean(He.getValue(Nt)),[Wt,Nn]=zt.invokeFunction(Kt,Ae),bn=Ae.paddingBottom,Jn=Ae.renderIndentGuides!==void 0?Ae.renderIndentGuides:He.getValue(dr);return{getTypeNavigationMode:()=>{const $e=At.getContextKeyValue(tr);if($e==="automatic")return v._C.Automatic;if($e==="trigger")return v._C.Trigger;if(At.getContextKeyValue(rr)===!1)return v._C.Trigger;const tt=He.getValue(Hn);return tt==="automatic"?v._C.Automatic:tt==="trigger"?v._C.Trigger:void 0},disposable:Nn,options:{keyboardSupport:!1,...Wt,indent:typeof He.getValue(Gi)=="number"?He.getValue(Gi):void 0,renderIndentGuides:Jn,smoothScrolling:Boolean(He.getValue(Ui)),defaultFindMode:Qi(He),defaultFindMatchType:wr(He),horizontalScrolling:Pt,scrollByPage:Boolean(He.getValue(pi)),paddingBottom:bn,hideTwistiesOfChildlessElements:Ae.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:Ae.expandOnlyOnTwistieClick??He.getValue(ar)==="doubleClick",contextViewProvider:mt,findWidgetStyles:gn.Dk,enableStickyScroll:Boolean(He.getValue(Hi)),stickyScrollMaxItemCount:Number(He.getValue(or))}}}di=pn([rn(7,jt._Y),rn(8,pt.fN),rn(9,Sn),rn(10,lt.pG)],di);let xt=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(se,Ae,He,mt,At,zt,Pt){this.tree=se,this.disposables=[],this.contextKeyService=yi(At,se),this.disposables.push(un(this.contextKeyService,se)),this.listSupportsMultiSelect=Oi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ae.multipleSelectionSupport!==!1),Ln.bindTo(this.contextKeyService).set(Boolean(Ae.selectionNavigation)),this.listSupportFindWidget=Xn.bindTo(this.contextKeyService),this.listSupportFindWidget.set(Ae.findWidgetEnabled??!0),this.hasSelectionOrFocus=li.bindTo(this.contextKeyService),this.hasDoubleSelection=si.bindTo(this.contextKeyService),this.hasMultiSelection=ti.bindTo(this.contextKeyService),this.treeElementCanCollapse=xi.bindTo(this.contextKeyService),this.treeElementHasParent=Ni.bindTo(this.contextKeyService),this.treeElementCanExpand=Ii.bindTo(this.contextKeyService),this.treeElementHasChild=er.bindTo(this.contextKeyService),this.treeFindOpen=Zi.bindTo(this.contextKeyService),this.treeStickyScrollFocused=Mi.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Yi(Pt),this.updateStyleOverrides(mt);const Wt=()=>{const bn=se.getFocus()[0];if(!bn)return;const Jn=se.getNode(bn);this.treeElementCanCollapse.set(Jn.collapsible&&!Jn.collapsed),this.treeElementHasParent.set(!!se.getParentElement(bn)),this.treeElementCanExpand.set(Jn.collapsible&&Jn.collapsed),this.treeElementHasChild.set(!!se.getFirstElementChild(bn))},Nn=new Set;Nn.add(tr),Nn.add(rr),this.disposables.push(this.contextKeyService,zt.register(se),se.onDidChangeSelection(()=>{const bn=se.getSelection(),Jn=se.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(bn.length>0||Jn.length>0),this.hasMultiSelection.set(bn.length>1),this.hasDoubleSelection.set(bn.length===2)})}),se.onDidChangeFocus(()=>{const bn=se.getSelection(),Jn=se.getFocus();this.hasSelectionOrFocus.set(bn.length>0||Jn.length>0),Wt()}),se.onDidChangeCollapseState(Wt),se.onDidChangeModel(Wt),se.onDidChangeFindOpenState((bn)=>this.treeFindOpen.set(bn)),se.onDidChangeStickyScrollFocused((bn)=>this.treeStickyScrollFocused.set(bn)),Pt.onDidChangeConfiguration((bn)=>{let Jn={};if(bn.affectsConfiguration(ft)&&(this._useAltAsMultipleSelectionModifier=Yi(Pt)),bn.affectsConfiguration(Gi)){const $e=Pt.getValue(Gi);Jn={...Jn,indent:$e}}if(bn.affectsConfiguration(dr)&&Ae.renderIndentGuides===void 0){const $e=Pt.getValue(dr);Jn={...Jn,renderIndentGuides:$e}}if(bn.affectsConfiguration(Ui)){const $e=Boolean(Pt.getValue(Ui));Jn={...Jn,smoothScrolling:$e}}if(bn.affectsConfiguration(Ci)||bn.affectsConfiguration(Xt)){const $e=Qi(Pt);Jn={...Jn,defaultFindMode:$e}}if(bn.affectsConfiguration(Hn)||bn.affectsConfiguration(Xt)){const $e=He();Jn={...Jn,typeNavigationMode:$e}}if(bn.affectsConfiguration(Ji)){const $e=wr(Pt);Jn={...Jn,defaultFindMatchType:$e}}if(bn.affectsConfiguration(Nt)&&Ae.horizontalScrolling===void 0){const $e=Boolean(Pt.getValue(Nt));Jn={...Jn,horizontalScrolling:$e}}if(bn.affectsConfiguration(pi)){const $e=Boolean(Pt.getValue(pi));Jn={...Jn,scrollByPage:$e}}if(bn.affectsConfiguration(ar)&&Ae.expandOnlyOnTwistieClick===void 0&&(Jn={...Jn,expandOnlyOnTwistieClick:Pt.getValue(ar)==="doubleClick"}),bn.affectsConfiguration(Hi)){const $e=Pt.getValue(Hi);Jn={...Jn,enableStickyScroll:$e}}if(bn.affectsConfiguration(or)){const $e=Math.max(1,Pt.getValue(or));Jn={...Jn,stickyScrollMaxItemCount:$e}}if(bn.affectsConfiguration(Xi)){const $e=Pt.getValue(Xi);Jn={...Jn,mouseWheelScrollSensitivity:$e}}if(bn.affectsConfiguration(Pi)){const $e=Pt.getValue(Pi);Jn={...Jn,fastScrollSensitivity:$e}}Object.keys(Jn).length>0&&se.updateOptions(Jn)}),this.contextKeyService.onDidChangeContext((bn)=>{bn.affectsSome(Nn)&&se.updateOptions({typeNavigationMode:He()})})),this.navigator=new qn(se,{configurationService:Pt,...Ae}),this.disposables.push(this.navigator)}updateOptions(se){se.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!se.multipleSelectionSupport)}updateStyleOverrides(se){this.tree.style(se?gn.t8(se):gn.IN)}dispose(){this.disposables=M.AS(this.disposables)}};xt=pn([rn(4,pt.fN),rn(5,Sn),rn(6,lt.pG)],xt),nn.O.as(ye.Fd.Configuration).registerConfiguration({id:"workbench",order:7,title:rt.kg("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[ft]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[rt.kg("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),rt.kg("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:rt.kg({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Yn]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:rt.kg({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Nt]:{type:"boolean",default:!1,description:rt.kg("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[pi]:{type:"boolean",default:!1,description:rt.kg("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Gi]:{type:"number",default:8,minimum:4,maximum:40,description:rt.kg("tree indent setting","Controls tree indentation in pixels.")},[dr]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:rt.kg("render tree indent guides","Controls whether the tree should render indent guides.")},[Ui]:{type:"boolean",default:!1,description:rt.kg("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Xi]:{type:"number",default:1,markdownDescription:rt.kg("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Pi]:{type:"number",default:5,markdownDescription:rt.kg("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Ci]:{type:"string",enum:["highlight","filter"],enumDescriptions:[rt.kg("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),rt.kg("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:rt.kg("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Xt]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[rt.kg("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),rt.kg("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),rt.kg("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:rt.kg("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:rt.kg("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.")},[Ji]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[rt.kg("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),rt.kg("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:rt.kg("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[ar]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:rt.kg("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Hi]:{type:"boolean",default:!0,description:rt.kg("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[or]:{type:"number",minimum:1,default:7,markdownDescription:rt.kg("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when {0} is enabled.","`#workbench.tree.enableStickyScroll#`")},[Hn]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:rt.kg("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}})},6441:(dt,pe,h)=>{h.d(pe,{$b:()=>M,Cr:()=>w,Dk:()=>C,rr:()=>J});var s=h(2106),I=h(998),T=h(1540);const J=h(2399).u1("logService");var M;(function(d){d[d.Off=0]="Off",d[d.Trace=1]="Trace",d[d.Debug=2]="Debug",d[d.Info=3]="Info",d[d.Warning=4]="Warning",d[d.Error=5]="Error"})(M||(M={}));const v=M.Info;class E extends I.jG{constructor(){super(...arguments),this.level=v,this._onDidChangeLogLevel=this._register(new s.vl),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(d){this.level!==d&&(this.level=d,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(d){return this.level!==M.Off&&this.level<=d}}class w extends E{constructor(d=v,f=!0){super(),this.useColors=f,this.setLevel(d)}trace(d,...f){this.checkLogLevel(M.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",d,...f):console.log(d,...f))}debug(d,...f){this.checkLogLevel(M.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",d,...f):console.log(d,...f))}info(d,...f){this.checkLogLevel(M.Info)&&(this.useColors?console.log("%c INFO","color: #33f",d,...f):console.log(d,...f))}warn(d,...f){this.checkLogLevel(M.Warning)&&(this.useColors?console.log("%c WARN","color: #993",d,...f):console.log(d,...f))}error(d,...f){this.checkLogLevel(M.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",d,...f):console.error(d,...f))}}class C extends E{constructor(d){super(),this.loggers=d,d.length&&this.setLevel(d[0].getLevel())}setLevel(d){for(let f of this.loggers)f.setLevel(d);super.setLevel(d)}trace(d,...f){for(let p of this.loggers)p.trace(d,...f)}debug(d,...f){for(let p of this.loggers)p.debug(d,...f)}info(d,...f){for(let p of this.loggers)p.info(d,...f)}warn(d,...f){for(let p of this.loggers)p.warn(d,...f)}error(d,...f){for(let p of this.loggers)p.error(d,...f)}dispose(){for(let d of this.loggers)d.dispose();super.dispose()}}new T.N1("logLevel",function(d){switch(d){case M.Trace:return"trace";case M.Debug:return"debug";case M.Info:return"info";case M.Warning:return"warn";case M.Error:return"error";case M.Off:return"off"}}(M.Info))},7619:(dt,pe,h)=>{h.d(pe,{DR:()=>v,cj:()=>s,oc:()=>I});var s,I,T=h(6459),J=h(9746),M=h(2399);(function(E){E[E.Hint=1]="Hint",E[E.Info=2]="Info",E[E.Warning=4]="Warning",E[E.Error=8]="Error"})(s||(s={})),function(E){E.compare=function(C,d){return d-C};const w=Object.create(null);w[E.Error]=J.kg("sev.error","Error"),w[E.Warning]=J.kg("sev.warning","Warning"),w[E.Info]=J.kg("sev.info","Info"),E.toString=function(C){return w[C]||""},E.fromSeverity=function(C){switch(C){case T.A.Error:return E.Error;case T.A.Warning:return E.Warning;case T.A.Info:return E.Info;case T.A.Ignore:return E.Hint}},E.toSeverity=function(C){switch(C){case E.Error:return T.A.Error;case E.Warning:return T.A.Warning;case E.Info:return T.A.Info;case E.Hint:return T.A.Ignore}}}(s||(s={})),function(E){function C(d,f){const p=[""];return d.source?p.push(d.source.replace("\xA6","\\\xA6")):p.push(""),d.code?typeof d.code=="string"?p.push(d.code.replace("\xA6","\\\xA6")):p.push(d.code.value.replace("\xA6","\\\xA6")):p.push(""),d.severity!==void 0&&d.severity!==null?p.push(s.toString(d.severity)):p.push(""),d.message&&f?p.push(d.message.replace("\xA6","\\\xA6")):p.push(""),d.startLineNumber!==void 0&&d.startLineNumber!==null?p.push(d.startLineNumber.toString()):p.push(""),d.startColumn!==void 0&&d.startColumn!==null?p.push(d.startColumn.toString()):p.push(""),d.endLineNumber!==void 0&&d.endLineNumber!==null?p.push(d.endLineNumber.toString()):p.push(""),d.endColumn!==void 0&&d.endColumn!==null?p.push(d.endColumn.toString()):p.push(""),p.push(""),p.join("\xA6")}E.makeKey=function(d){return C(d,!0)},E.makeKeyOptionalMessage=C}(I||(I={}));const v=M.u1("markerService")},9879:(dt,pe,h)=>{h.d(pe,{AI:()=>T,Kz:()=>M,Ot:()=>J});var s=h(6459),I=h(2399),T=s.A;const J=I.u1("notificationService");class M{}},4975:(dt,pe,h)=>{h.d(pe,{V:()=>T,w:()=>J});var s=h(6311),I=h(2146);function T(M,v,E){return I.eP({debugName:()=>`Configuration Key "${M}"`},(w)=>E.onDidChangeConfiguration((C)=>{C.affectsConfiguration(M)&&w(C)}),()=>E.getValue(M)??v)}function J(M,v,E){const w=M.bindTo(v);return s.zL({debugName:()=>`Set Context Key "${M.key}"`},(C)=>{w.set(E(C))})}},4435:(dt,pe,h)=>{h.d(pe,{C:()=>s,e:()=>I});const s=h(2399).u1("openerService");function I(T){let J;const M=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(T.fragment);return M&&(J={startLineNumber:parseInt(M[1]),startColumn:M[2]?parseInt(M[2]):1,endLineNumber:M[4]?parseInt(M[4]):void 0,endColumn:M[4]?M[5]?parseInt(M[5]):1:void 0},T=T.with({fragment:""})),{selection:J,uri:T}}},4023:(dt,pe,h)=>{h.d(pe,{G5:()=>I,N8:()=>J,ke:()=>T});var s=h(2399);const I=s.u1("progressService");Object.freeze({total(){},worked(){},done(){}});class T{static{this.None=Object.freeze({report(){}})}constructor(M){this.callback=M}report(M){this._value=M,this.callback(this._value)}}const J=s.u1("editorProgressService")},9381:(dt,pe,h)=>{h.d(pe,{Fd:()=>M,aJ:()=>s});var s,I=h(3338),T=h(998),J=h(7167);(function(v){v[v.PRESERVE=0]="PRESERVE",v[v.LAST=1]="LAST"})(s||(s={}));const M={Quickaccess:"workbench.contributions.quickaccess"};J.O.add(M.Quickaccess,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(v){return v.prefix.length===0?this.defaultProvider=v:this.providers.push(v),this.providers.sort((E,w)=>w.prefix.length-E.prefix.length),T.s(()=>{this.providers.splice(this.providers.indexOf(v),1),this.defaultProvider===v&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return I.Yc([this.defaultProvider,...this.providers])}getQuickAccessProvider(v){return v&&this.providers.find((E)=>v.startsWith(E.prefix))||this.defaultProvider}})},3027:(dt,pe,h)=>{h.d(pe,{C1:()=>J,Fp:()=>M,GK:()=>E,Ym:()=>I,dH:()=>v,kF:()=>T});var s=h(2399);const I={ctrlCmd:!1,alt:!1};var T,J,M,v;(function(w){w[w.Blur=1]="Blur",w[w.Gesture=2]="Gesture",w[w.Other=3]="Other"})(T||(T={})),function(w){w[w.NONE=0]="NONE",w[w.FIRST=1]="FIRST",w[w.SECOND=2]="SECOND",w[w.LAST=3]="LAST"}(J||(J={})),function(w){w[w.First=1]="First",w[w.Second=2]="Second",w[w.Last=3]="Last",w[w.Next=4]="Next",w[w.Previous=5]="Previous",w[w.NextPage=6]="NextPage",w[w.PreviousPage=7]="PreviousPage",w[w.NextSeparator=8]="NextSeparator",w[w.PreviousSeparator=9]="PreviousSeparator"}(M||(M={})),function(w){w[w.Title=1]="Title",w[w.Inline=2]="Inline"}(v||(v={})),new class{constructor(w){this.options=w}};const E=s.u1("quickInputService")},7167:(dt,pe,h)=>{h.d(pe,{O:()=>T});var s=h(7110),I=h(9359);const T=new class{constructor(){this.data=new Map}add(J,M){s.ok(I.Kg(J)),s.ok(I.Gv(M)),s.ok(!this.data.has(J),"There is already an extension with this id"),this.data.set(J,M)}as(J){return this.data.get(J)||null}}},840:(dt,pe,h)=>{h.d(pe,{CS:()=>p,pc:()=>b,LP:()=>_});var s,I,T=h(2106),J=h(998),M=h(9359),v=h(5958),E=h(180);(function(x){x[x.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",x[x.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(s||(s={})),function(x){x[x.None=0]="None",x[x.Initialized=1]="Initialized",x[x.Closed=2]="Closed"}(I||(I={}));class w extends J.jG{static{this.DEFAULT_FLUSH_DELAY=100}constructor(x,k=Object.create(null)){super(),this.database=x,this.options=k,this._onDidChangeStorage=this._register(new T.fV),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=I.None,this.cache=new Map,this.flushDelayer=this._register(new v.Th(w.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((x)=>this.onDidChangeItemsExternal(x)))}onDidChangeItemsExternal(x){this._onDidChangeStorage.pause();try{x.changed?.forEach((k,R)=>this.acceptExternal(R,k)),x.deleted?.forEach((k)=>this.acceptExternal(k,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(x,k){if(this.state===I.Closed)return;let R=!1;M.z(k)?R=this.cache.delete(x):this.cache.get(x)!==k&&(this.cache.set(x,k),R=!0),R&&this._onDidChangeStorage.fire({key:x,external:!0})}get(x,k){const R=this.cache.get(x);return M.z(R)?k:R}getBoolean(x,k){const R=this.get(x);return M.z(R)?k:R==="true"}getNumber(x,k){const R=this.get(x);return M.z(R)?k:parseInt(R,10)}async set(x,k,R=!1){if(this.state===I.Closed)return;if(M.z(k))return this.delete(x,R);const P=M.Gv(k)||Array.isArray(k)?E.As(k):String(k);return this.cache.get(x)!==P?(this.cache.set(x,P),this.pendingInserts.set(x,P),this.pendingDeletes.delete(x),this._onDidChangeStorage.fire({key:x,external:R}),this.doFlush()):void 0}async delete(x,k=!1){if(this.state!==I.Closed)return this.cache.delete(x)?(this.pendingDeletes.has(x)||this.pendingDeletes.add(x),this.pendingInserts.delete(x),this._onDidChangeStorage.fire({key:x,external:k}),this.doFlush()):void 0}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const x={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(x).finally(()=>{if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)this.whenFlushedCallbacks.pop()?.()})}async doFlush(x){return this.options.hint===s.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),x)}}class C{constructor(){this.onDidChangeItemsExternal=T.Jh.None,this.items=new Map}async updateItems(x){x.insert?.forEach((k,R)=>this.items.set(R,k)),x.delete?.forEach((k)=>this.items.delete(k))}}var d=h(2399);const f="__$__targetStorageMarker",p=d.u1("storageService");var _;(function(x){x[x.NONE=0]="NONE",x[x.SHUTDOWN=1]="SHUTDOWN"})(_||(_={}));class m extends J.jG{static{this.DEFAULT_FLUSH_INTERVAL=60000}constructor(x={flushInterval:m.DEFAULT_FLUSH_INTERVAL}){super(),this.options=x,this._onDidChangeValue=this._register(new T.fV),this._onDidChangeTarget=this._register(new T.fV),this._onWillSaveState=this._register(new T.vl),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(x,k,R){return T.Jh.filter(this._onDidChangeValue.event,(P)=>P.scope===x&&(k===void 0||P.key===k),R)}emitDidChangeValue(x,k){const{key:R,external:P}=k;if(R===f){switch(x){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:x})}else this._onDidChangeValue.fire({scope:x,key:R,target:this.getKeyTargets(x)[R],external:P})}get(x,k,R){return this.getStorage(k)?.get(x,R)}getBoolean(x,k,R){return this.getStorage(k)?.getBoolean(x,R)}getNumber(x,k,R){return this.getStorage(k)?.getNumber(x,R)}store(x,k,R,P,z=!1){M.z(k)?this.remove(x,R,z):this.withPausedEmitters(()=>{this.updateKeyTarget(x,R,P),this.getStorage(R)?.set(x,k,z)})}remove(x,k,R=!1){this.withPausedEmitters(()=>{this.updateKeyTarget(x,k,void 0),this.getStorage(k)?.delete(x,R)})}withPausedEmitters(x){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{x()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(x,k,R,P=!1){const z=this.getKeyTargets(k);typeof R=="number"?z[x]!==R&&(z[x]=R,this.getStorage(k)?.set(f,JSON.stringify(z),P)):typeof z[x]=="number"&&(delete z[x],this.getStorage(k)?.set(f,JSON.stringify(z),P))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(x){switch(x){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(x){const k=this.getStorage(x);return k?function(R){const P=R.get(f);if(P)try{return JSON.parse(P)}catch(z){}return Object.create(null)}(k):Object.create(null)}}class b extends m{constructor(){super(),this.applicationStorage=this._register(new w(new C,{hint:s.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new w(new C,{hint:s.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new w(new C,{hint:s.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage((x)=>this.emitDidChangeValue(1,x))),this._register(this.profileStorage.onDidChangeStorage((x)=>this.emitDidChangeValue(0,x))),this._register(this.applicationStorage.onDidChangeStorage((x)=>this.emitDidChangeValue(-1,x)))}getStorage(x){switch(x){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},6243:(dt,pe,h)=>{h.d(pe,{k:()=>s});const s=h(2399).u1("telemetryService")},5654:(dt,pe,h)=>{h.d(pe,{Dk:()=>w,IN:()=>d,RE:()=>p,XS:()=>_,cv:()=>J,ho:()=>E,ir:()=>T,m$:()=>C,mk:()=>v,oJ:()=>M,t8:()=>f});var s=h(559),I=h(4901);const T={keybindingLabelBackground:s.GuP(s.HDX),keybindingLabelForeground:s.GuP(s.eUu),keybindingLabelBorder:s.GuP(s.zUX),keybindingLabelBottomBorder:s.GuP(s.Qfh),keybindingLabelShadow:s.GuP(s.f9l)},J={buttonForeground:s.GuP(s.G_h),buttonSeparator:s.GuP(s.Q1$),buttonBackground:s.GuP(s.XJc),buttonHoverBackground:s.GuP(s.T9h),buttonSecondaryForeground:s.GuP(s.Inn),buttonSecondaryBackground:s.GuP(s.xOA),buttonSecondaryHoverBackground:s.GuP(s.nZG),buttonBorder:s.GuP(s.raQ)},M={progressBarBackground:s.GuP(s.BTi)},v={inputActiveOptionBorder:s.GuP(s.uNK),inputActiveOptionForeground:s.GuP(s.$$0),inputActiveOptionBackground:s.GuP(s.c1f)},E=(s.GuP(s.jOE),s.GuP(s.Ukx),s.GuP(s.Ips),s.GuP(s.kPT),s.GuP(s.xWN),s.GuP(s.ZBU),s.GuP(s.jr9),s.GuP(s.OcU),s.GuP(s.C5U),s.GuP(s.t0B),s.GuP(s.CgL),s.GuP(s.FiB),s.GuP(s.f9l),s.GuP(s.b1q),s.GuP(s.tYX),s.GuP(s.JPj),s.GuP(s.bNw),s.GuP(s.vwp),{inputBackground:s.GuP(s.L4c),inputForeground:s.GuP(s.cws),inputBorder:s.GuP(s.Zgs),inputValidationInfoBorder:s.GuP(s.YSW),inputValidationInfoBackground:s.GuP(s.I$A),inputValidationInfoForeground:s.GuP(s.L9Z),inputValidationWarningBorder:s.GuP(s.C1n),inputValidationWarningBackground:s.GuP(s.ULt),inputValidationWarningForeground:s.GuP(s.T5N),inputValidationErrorBorder:s.GuP(s.eYZ),inputValidationErrorBackground:s.GuP(s._$n),inputValidationErrorForeground:s.GuP(s.h9z)}),w={listFilterWidgetBackground:s.GuP(s.pnl),listFilterWidgetOutline:s.GuP(s.fiM),listFilterWidgetNoMatchesOutline:s.GuP(s.P9Z),listFilterWidgetShadow:s.GuP(s.H8q),inputBoxStyles:E,toggleStyles:v},C={badgeBackground:s.GuP(s.WMx),badgeForeground:s.GuP(s.zRE),badgeBorder:s.GuP(s.b1q)},d=(s.GuP(s.vV$),s.GuP(s.mc0),s.GuP(s.etE),s.GuP(s.etE),s.GuP(s.sAS),{listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:s.GuP(s.VFX),listFocusForeground:s.GuP(s.efJ),listFocusOutline:s.GuP(s.p7Y),listActiveSelectionBackground:s.GuP(s.Rjz),listActiveSelectionForeground:s.GuP(s.GVV),listActiveSelectionIconForeground:s.GuP(s.fED),listFocusAndSelectionOutline:s.GuP(s.gtq),listFocusAndSelectionBackground:s.GuP(s.Rjz),listFocusAndSelectionForeground:s.GuP(s.GVV),listInactiveSelectionBackground:s.GuP(s.uNx),listInactiveSelectionIconForeground:s.GuP(s.C9U),listInactiveSelectionForeground:s.GuP(s.f4y),listInactiveFocusBackground:s.GuP(s.CQ3),listInactiveFocusOutline:s.GuP(s.ijf),listHoverBackground:s.GuP(s.lO1),listHoverForeground:s.GuP(s.QRv),listDropOverBackground:s.GuP(s.Yoe),listDropBetweenBackground:s.GuP(s.yIp),listSelectionOutline:s.GuP(s.buw),listHoverOutline:s.GuP(s.buw),treeIndentGuidesStroke:s.GuP(s.U4U),treeInactiveIndentGuidesStroke:s.GuP(s.pft),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:s.GuP(s.bXl),tableColumnsBorder:s.GuP(s.k5u),tableOddRowsBackgroundColor:s.GuP(s.sbQ)});function f(m){return function(b,x){const k={...x};for(let R in b){const P=b[R];k[R]=P!==void 0?s.GuP(P):void 0}return k}(m,d)}const p={selectBackground:s.GuP(s.rvE),selectListBackground:s.GuP(s.lWP),selectForeground:s.GuP(s.yqq),decoratorRightForeground:s.GuP(s.NBf),selectBorder:s.GuP(s.HcB),focusBorder:s.GuP(s.tAP),listFocusBackground:s.GuP(s.AlL),listInactiveSelectionIconForeground:s.GuP(s.c7i),listFocusForeground:s.GuP(s.nH),listFocusOutline:s.HP_(s.buw,I.Q1.transparent.toString()),listHoverBackground:s.GuP(s.lO1),listHoverForeground:s.GuP(s.QRv),listHoverOutline:s.GuP(s.buw),selectListBorder:s.GuP(s.sIe),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},_={shadowColor:s.GuP(s.f9l),borderColor:s.GuP(s.g$2),foregroundColor:s.GuP(s.dd_),backgroundColor:s.GuP(s.c6Y),selectionForegroundColor:s.GuP(s.pmr),selectionBackgroundColor:s.GuP(s.Ux$),selectionBorderColor:s.GuP(s.SNb),separatorColor:s.GuP(s.D7X),scrollbarShadow:s.GuP(s.bXl),scrollbarSliderBackground:s.GuP(s.gnV),scrollbarSliderHoverBackground:s.GuP(s.cI_),scrollbarSliderActiveBackground:s.GuP(s.mhZ)}},559:(dt,pe,h)=>{h.d(pe,{FdG:()=>s.Fd,buw:()=>w,GuP:()=>s.Gu,Bbc:()=>s.Bb,HP_:()=>s.HP,WMx:()=>d,zRE:()=>f,sAS:()=>pt,vV$:()=>lt,etE:()=>ye,mc0:()=>rt,XJc:()=>ar,raQ:()=>or,G_h:()=>Xi,T9h:()=>Hi,xOA:()=>_t,Inn:()=>Yi,nZG:()=>Kt,Q1$:()=>Pi,OcU:()=>oi,C5U:()=>nr,t0B:()=>Ai,b1q:()=>E,EY1:()=>We,ZEf:()=>de,Gj6:()=>be,ld8:()=>O,$BZ:()=>Ue,GNm:()=>ae,Ztu:()=>ne,YtV:()=>k,AN$:()=>W,Rbi:()=>L,f3U:()=>Te,Ubg:()=>xe,ECk:()=>Ie,p8Y:()=>Be,S5J:()=>he,By2:()=>R,i61:()=>ee,WfR:()=>Q,oZ8:()=>re,tan:()=>Y,IIb:()=>ie,pOz:()=>G,WL6:()=>Se,P6i:()=>Je,B2L:()=>g,sjA:()=>Ve,_pU:()=>Le,HwT:()=>Pe,seu:()=>H,rm4:()=>V,QwA:()=>ve,whs:()=>B,Stt:()=>$,Hng:()=>U,CgL:()=>P,sIe:()=>te,FiB:()=>z,tAP:()=>v,CU6:()=>J,t4B:()=>M,c1f:()=>tr,uNK:()=>er,$$0:()=>rr,L4c:()=>xi,Zgs:()=>Ii,cws:()=>Ni,_$n:()=>Hn,eYZ:()=>pi,h9z:()=>Xt,I$A:()=>yi,YSW:()=>ft,L9Z:()=>un,ULt:()=>Yn,C1n:()=>Ci,T5N:()=>Nt,HDX:()=>$i,zUX:()=>di,Qfh:()=>Qi,eUu:()=>ji,Rjz:()=>Ae,GVV:()=>He,fED:()=>mt,yIp:()=>tt,Yoe:()=>$e,pnl:()=>ke,P9Z:()=>Ot,fiM:()=>qt,H8q:()=>Vt,gtq:()=>se,VFX:()=>wr,efJ:()=>ht,eMz:()=>bt,p7Y:()=>xt,QI5:()=>gt,lO1:()=>bn,QRv:()=>Jn,CQ3:()=>Wt,ijf:()=>Nn,uNx:()=>At,f4y:()=>zt,C9U:()=>Pt,c6Y:()=>Dn,g$2:()=>on,dd_:()=>ln,Ux$:()=>$n,SNb:()=>Un,pmr:()=>vn,D7X:()=>Fn,ILr:()=>Ln,yLC:()=>ti,AjU:()=>Mi,K1Z:()=>Xn,KoI:()=>li,yr0:()=>En,Xp1:()=>Oi,uMG:()=>si,yLr:()=>s.yL,fAP:()=>rn,z5H:()=>Sn,iwL:()=>j,NBf:()=>Z,tYX:()=>Mn,bNw:()=>wi,JPj:()=>Bn,BTi:()=>x,ELA:()=>fn,HJZ:()=>Qn,AlL:()=>Ke,nH:()=>Ne,c7i:()=>Oe,er1:()=>N,Ukx:()=>In,Ips:()=>mn,jOE:()=>tn,xWN:()=>An,ZBU:()=>fi,kPT:()=>wn,jr9:()=>qn,x1A:()=>s.x1,bXl:()=>p,mhZ:()=>b,gnV:()=>_,cI_:()=>m,rvE:()=>Ji,HcB:()=>Ui,yqq:()=>dr,lWP:()=>Gi,k5u:()=>St,sbQ:()=>Lt,vwp:()=>C,JO0:()=>s.JO,pft:()=>dn,U4U:()=>Cn,DSL:()=>Fe,f9l:()=>Ye});var s=h(7676),I=h(9746),T=h(4901);const J=s.x1("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},I.kg("foreground","Overall foreground color. This color is only used if not overridden by a component.")),M=(s.x1("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},I.kg("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),s.x1("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},I.kg("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),s.x1("descriptionForeground",{light:"#717171",dark:s.JO(J,0.7),hcDark:s.JO(J,0.7),hcLight:s.JO(J,0.7)},I.kg("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),s.x1("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},I.kg("iconForeground","The default color for icons in the workbench."))),v=s.x1("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},I.kg("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),E=s.x1("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},I.kg("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),w=s.x1("contrastActiveBorder",{light:null,dark:null,hcDark:v,hcLight:v},I.kg("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),C=(s.x1("selection.background",null,I.kg("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),s.x1("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},I.kg("textLinkForeground","Foreground color for links in text."))),d=(s.x1("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},I.kg("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),s.x1("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:T.Q1.black,hcLight:"#292929"},I.kg("textSeparatorForeground","Color for text separators.")),s.x1("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},I.kg("textPreformatForeground","Foreground color for preformatted text segments.")),s.x1("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},I.kg("textPreformatBackground","Background color for preformatted text segments.")),s.x1("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},I.kg("textBlockQuoteBackground","Background color for block quotes in text.")),s.x1("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:T.Q1.white,hcLight:"#292929"},I.kg("textBlockQuoteBorder","Border color for block quotes in text.")),s.x1("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:T.Q1.black,hcLight:"#F2F2F2"},I.kg("textCodeBlockBackground","Background color for code blocks in text.")),s.x1("sash.hoverBorder",v,I.kg("sashActiveBorder","Border color of active sashes.")),s.x1("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:T.Q1.black,hcLight:"#0F4A85"},I.kg("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),f=s.x1("badge.foreground",{dark:T.Q1.white,light:"#333",hcDark:T.Q1.white,hcLight:T.Q1.white},I.kg("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),p=s.x1("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},I.kg("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),_=s.x1("scrollbarSlider.background",{dark:T.Q1.fromHex("#797979").transparent(0.4),light:T.Q1.fromHex("#646464").transparent(0.4),hcDark:s.JO(E,0.6),hcLight:s.JO(E,0.4)},I.kg("scrollbarSliderBackground","Scrollbar slider background color.")),m=s.x1("scrollbarSlider.hoverBackground",{dark:T.Q1.fromHex("#646464").transparent(0.7),light:T.Q1.fromHex("#646464").transparent(0.7),hcDark:s.JO(E,0.8),hcLight:s.JO(E,0.8)},I.kg("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),b=s.x1("scrollbarSlider.activeBackground",{dark:T.Q1.fromHex("#BFBFBF").transparent(0.4),light:T.Q1.fromHex("#000000").transparent(0.6),hcDark:E,hcLight:E},I.kg("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),x=s.x1("progressBar.background",{dark:T.Q1.fromHex("#0E70C0"),light:T.Q1.fromHex("#0E70C0"),hcDark:E,hcLight:E},I.kg("progressBarBackground","Background color of the progress bar that can show for long running operations.")),k=s.x1("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:T.Q1.black,hcLight:T.Q1.white},I.kg("editorBackground","Editor background color.")),R=s.x1("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:T.Q1.white,hcLight:J},I.kg("editorForeground","Editor default foreground color.")),P=(s.x1("editorStickyScroll.background",k,I.kg("editorStickyScrollBackground","Background color of sticky scroll in the editor")),s.x1("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:T.Q1.fromHex("#0F4A85").transparent(0.1)},I.kg("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),s.x1("editorStickyScroll.border",{dark:null,light:null,hcDark:E,hcLight:E},I.kg("editorStickyScrollBorder","Border color of sticky scroll in the editor")),s.x1("editorStickyScroll.shadow",p,I.kg("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),s.x1("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:T.Q1.white},I.kg("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),z=s.x1("editorWidget.foreground",J,I.kg("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),te=s.x1("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:E,hcLight:E},I.kg("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),L=(s.x1("editorWidget.resizeBorder",null,I.kg("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),s.x1("editorError.background",null,I.kg("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),s.x1("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},I.kg("editorError.foreground","Foreground color of error squigglies in the editor."))),W=s.x1("editorError.border",{dark:null,light:null,hcDark:T.Q1.fromHex("#E47777").transparent(0.8),hcLight:"#B5200D"},I.kg("errorBorder","If set, color of double underlines for errors in the editor.")),B=s.x1("editorWarning.background",null,I.kg("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),U=s.x1("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},I.kg("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),$=s.x1("editorWarning.border",{dark:null,light:null,hcDark:T.Q1.fromHex("#FFCC00").transparent(0.8),hcLight:T.Q1.fromHex("#FFCC00").transparent(0.8)},I.kg("warningBorder","If set, color of double underlines for warnings in the editor.")),G=(s.x1("editorInfo.background",null,I.kg("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),s.x1("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},I.kg("editorInfo.foreground","Foreground color of info squigglies in the editor."))),ie=s.x1("editorInfo.border",{dark:null,light:null,hcDark:T.Q1.fromHex("#3794FF").transparent(0.8),hcLight:"#292929"},I.kg("infoBorder","If set, color of double underlines for infos in the editor.")),ee=s.x1("editorHint.foreground",{dark:T.Q1.fromHex("#eeeeee").transparent(0.7),light:"#6c6c6c",hcDark:null,hcLight:null},I.kg("editorHint.foreground","Foreground color of hint squigglies in the editor.")),ne=(s.x1("editorHint.border",{dark:null,light:null,hcDark:T.Q1.fromHex("#eeeeee").transparent(0.8),hcLight:"#292929"},I.kg("hintBorder","If set, color of double underlines for hints in the editor.")),s.x1("editorLink.activeForeground",{dark:"#4E94CE",light:T.Q1.blue,hcDark:T.Q1.cyan,hcLight:"#292929"},I.kg("activeLinkForeground","Color of active links."))),H=s.x1("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},I.kg("editorSelectionBackground","Color of the editor selection.")),V=s.x1("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:T.Q1.white},I.kg("editorSelectionForeground","Color of the selected text for high contrast.")),Y=s.x1("editor.inactiveSelectionBackground",{light:s.JO(H,0.5),dark:s.JO(H,0.5),hcDark:s.JO(H,0.7),hcLight:s.JO(H,0.5)},I.kg("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),ve=s.x1("editor.selectionHighlightBackground",{light:s.oG(H,k,0.3,0.6),dark:s.oG(H,k,0.3,0.6),hcDark:null,hcLight:null},I.kg("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Te=(s.x1("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:w,hcLight:w},I.kg("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),s.x1("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},I.kg("editorFindMatch","Color of the current search match.")),s.x1("editor.findMatchForeground",null,I.kg("editorFindMatchForeground","Text color of the current search match."))),xe=s.x1("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},I.kg("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Be=s.x1("editor.findMatchHighlightForeground",null,I.kg("findMatchHighlightForeground","Foreground color of the other search matches."),!0),Ie=(s.x1("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},I.kg("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),s.x1("editor.findMatchBorder",{light:null,dark:null,hcDark:w,hcLight:w},I.kg("editorFindMatchBorder","Border color of the current search match.")),s.x1("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:w,hcLight:w},I.kg("findMatchHighlightBorder","Border color of the other search matches."))),he=s.x1("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:s.JO(w,0.4),hcLight:s.JO(w,0.4)},I.kg("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Q=(s.x1("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},I.kg("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),s.x1("editorHoverWidget.background",P,I.kg("hoverBackground","Background color of the editor hover."))),re=(s.x1("editorHoverWidget.foreground",z,I.kg("hoverForeground","Foreground color of the editor hover.")),s.x1("editorHoverWidget.border",te,I.kg("hoverBorder","Border color of the editor hover."))),Je=(s.x1("editorHoverWidget.statusBarBackground",{dark:s.a(Q,0.2),light:s.e$(Q,0.05),hcDark:P,hcLight:P},I.kg("statusBarBackground","Background color of the editor hover status bar.")),s.x1("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:T.Q1.white,hcLight:T.Q1.black},I.kg("editorInlayHintForeground","Foreground color of inline hints"))),Se=s.x1("editorInlayHint.background",{dark:s.JO(d,0.1),light:s.JO(d,0.1),hcDark:s.JO(T.Q1.white,0.1),hcLight:s.JO(d,0.1)},I.kg("editorInlayHintBackground","Background color of inline hints")),Pe=s.x1("editorInlayHint.typeForeground",Je,I.kg("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Le=s.x1("editorInlayHint.typeBackground",Se,I.kg("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Ve=s.x1("editorInlayHint.parameterForeground",Je,I.kg("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),g=s.x1("editorInlayHint.parameterBackground",Se,I.kg("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),ge=s.x1("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},I.kg("editorLightBulbForeground","The color used for the lightbulb actions icon.")),We=(s.x1("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},I.kg("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),s.x1("editorLightBulbAi.foreground",ge,I.kg("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),s.x1("editor.snippetTabstopHighlightBackground",{dark:new T.Q1(new T.bU(124,124,124,0.3)),light:new T.Q1(new T.bU(10,50,100,0.2)),hcDark:new T.Q1(new T.bU(124,124,124,0.3)),hcLight:new T.Q1(new T.bU(10,50,100,0.2))},I.kg("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),s.x1("editor.snippetTabstopHighlightBorder",null,I.kg("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),s.x1("editor.snippetFinalTabstopHighlightBackground",null,I.kg("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),s.x1("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new T.Q1(new T.bU(10,50,100,0.5)),hcDark:"#525252",hcLight:"#292929"},I.kg("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),new T.Q1(new T.bU(155,185,85,0.2))),de=new T.Q1(new T.bU(255,0,0,0.2)),be=s.x1("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},I.kg("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),ae=s.x1("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},I.kg("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),O=(s.x1("diffEditor.insertedLineBackground",{dark:We,light:We,hcDark:null,hcLight:null},I.kg("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),s.x1("diffEditor.removedLineBackground",{dark:de,light:de,hcDark:null,hcLight:null},I.kg("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),s.x1("diffEditorGutter.insertedLineBackground",null,I.kg("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),s.x1("diffEditorGutter.removedLineBackground",null,I.kg("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),s.x1("diffEditorOverview.insertedForeground",null,I.kg("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content."))),Ue=s.x1("diffEditorOverview.removedForeground",null,I.kg("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Ye=(s.x1("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},I.kg("diffEditorInsertedOutline","Outline color for the text that got inserted.")),s.x1("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},I.kg("diffEditorRemovedOutline","Outline color for text that got removed.")),s.x1("diffEditor.border",{dark:null,light:null,hcDark:E,hcLight:E},I.kg("diffEditorBorder","Border color between the two text editors.")),s.x1("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},I.kg("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),s.x1("diffEditor.unchangedRegionBackground","sideBar.background",I.kg("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),s.x1("diffEditor.unchangedRegionForeground","foreground",I.kg("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),s.x1("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},I.kg("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),s.x1("widget.shadow",{dark:s.JO(T.Q1.black,0.36),light:s.JO(T.Q1.black,0.16),hcDark:null,hcLight:null},I.kg("widgetShadow","Shadow color of widgets such as find/replace inside the editor."))),Fe=s.x1("widget.border",{dark:null,light:null,hcDark:E,hcLight:E},I.kg("widgetBorder","Border color of widgets such as find/replace inside the editor.")),oe=s.x1("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},I.kg("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),rt=(s.x1("toolbar.hoverOutline",{dark:null,light:null,hcDark:w,hcLight:w},I.kg("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),s.x1("toolbar.activeBackground",{dark:s.a(oe,0.1),light:s.e$(oe,0.1),hcDark:null,hcLight:null},I.kg("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),s.x1("breadcrumb.foreground",s.JO(J,0.8),I.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items."))),lt=s.x1("breadcrumb.background",k,I.kg("breadcrumbsBackground","Background color of breadcrumb items.")),ye=s.x1("breadcrumb.focusForeground",{light:s.e$(J,0.2),dark:s.a(J,0.1),hcDark:s.a(J,0.1),hcLight:s.a(J,0.1)},I.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),pt=s.x1("breadcrumb.activeSelectionForeground",{light:s.e$(J,0.2),dark:s.a(J,0.1),hcDark:s.a(J,0.1),hcLight:s.a(J,0.1)},I.kg("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),Mt=(s.x1("breadcrumbPicker.background",P,I.kg("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),T.Q1.fromHex("#40C8AE").transparent(0.5)),Zt=T.Q1.fromHex("#40A6FF").transparent(0.5),jt=T.Q1.fromHex("#606060").transparent(0.4),xn=s.x1("merge.currentHeaderBackground",{dark:Mt,light:Mt,hcDark:null,hcLight:null},I.kg("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),nn=(s.x1("merge.currentContentBackground",s.JO(xn,0.4),I.kg("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),s.x1("merge.incomingHeaderBackground",{dark:Zt,light:Zt,hcDark:null,hcLight:null},I.kg("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),gn=(s.x1("merge.incomingContentBackground",s.JO(nn,0.4),I.kg("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),s.x1("merge.commonHeaderBackground",{dark:jt,light:jt,hcDark:null,hcLight:null},I.kg("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),pn=(s.x1("merge.commonContentBackground",s.JO(gn,0.4),I.kg("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),s.x1("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},I.kg("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),rn=(s.x1("editorOverviewRuler.currentContentForeground",{dark:s.JO(xn,1),light:s.JO(xn,1),hcDark:pn,hcLight:pn},I.kg("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),s.x1("editorOverviewRuler.incomingContentForeground",{dark:s.JO(nn,1),light:s.JO(nn,1),hcDark:pn,hcLight:pn},I.kg("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),s.x1("editorOverviewRuler.commonContentForeground",{dark:s.JO(gn,1),light:s.JO(gn,1),hcDark:pn,hcLight:pn},I.kg("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),s.x1("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},I.kg("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),Sn=s.x1("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",I.kg("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Mn=s.x1("problemsErrorIcon.foreground",L,I.kg("problemsErrorIconForeground","The color used for the problems error icon.")),Bn=s.x1("problemsWarningIcon.foreground",U,I.kg("problemsWarningIconForeground","The color used for the problems warning icon.")),wi=s.x1("problemsInfoIcon.foreground",G,I.kg("problemsInfoIconForeground","The color used for the problems info icon.")),Mi=s.x1("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},I.kg("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Oi=s.x1("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},I.kg("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),En=s.x1("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},I.kg("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),li=s.x1("minimap.infoHighlight",{dark:G,light:G,hcDark:ie,hcLight:ie},I.kg("minimapInfo","Minimap marker color for infos.")),si=s.x1("minimap.warningHighlight",{dark:U,light:U,hcDark:$,hcLight:$},I.kg("overviewRuleWarning","Minimap marker color for warnings.")),ti=s.x1("minimap.errorHighlight",{dark:new T.Q1(new T.bU(255,18,18,0.7)),light:new T.Q1(new T.bU(255,18,18,0.7)),hcDark:new T.Q1(new T.bU(255,50,50,1)),hcLight:"#B5200D"},I.kg("minimapError","Minimap marker color for errors.")),Ln=s.x1("minimap.background",null,I.kg("minimapBackground","Minimap background color.")),Xn=s.x1("minimap.foregroundOpacity",T.Q1.fromHex("#000f"),I.kg("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),xi=(s.x1("minimapSlider.background",s.JO(_,0.5),I.kg("minimapSliderBackground","Minimap slider background color.")),s.x1("minimapSlider.hoverBackground",s.JO(m,0.5),I.kg("minimapSliderHoverBackground","Minimap slider background color when hovering.")),s.x1("minimapSlider.activeBackground",s.JO(b,0.5),I.kg("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),s.x1("charts.foreground",J,I.kg("chartsForeground","The foreground color used in charts.")),s.x1("charts.lines",s.JO(J,0.5),I.kg("chartsLines","The color used for horizontal lines in charts.")),s.x1("charts.red",L,I.kg("chartsRed","The red color used in chart visualizations.")),s.x1("charts.blue",G,I.kg("chartsBlue","The blue color used in chart visualizations.")),s.x1("charts.yellow",U,I.kg("chartsYellow","The yellow color used in chart visualizations.")),s.x1("charts.orange",Mi,I.kg("chartsOrange","The orange color used in chart visualizations.")),s.x1("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},I.kg("chartsGreen","The green color used in chart visualizations.")),s.x1("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},I.kg("chartsPurple","The purple color used in chart visualizations.")),s.x1("input.background",{dark:"#3C3C3C",light:T.Q1.white,hcDark:T.Q1.black,hcLight:T.Q1.white},I.kg("inputBoxBackground","Input box background."))),Ni=s.x1("input.foreground",J,I.kg("inputBoxForeground","Input box foreground.")),Ii=s.x1("input.border",{dark:null,light:null,hcDark:E,hcLight:E},I.kg("inputBoxBorder","Input box border.")),er=s.x1("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:E,hcLight:E},I.kg("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Zi=s.x1("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},I.kg("inputOption.hoverBackground","Background color of activated options in input fields.")),tr=s.x1("inputOption.activeBackground",{dark:s.JO(v,0.4),light:s.JO(v,0.2),hcDark:T.Q1.transparent,hcLight:T.Q1.transparent},I.kg("inputOption.activeBackground","Background hover color of options in input fields.")),rr=s.x1("inputOption.activeForeground",{dark:T.Q1.white,light:T.Q1.black,hcDark:J,hcLight:J},I.kg("inputOption.activeForeground","Foreground color of activated options in input fields.")),yi=(s.x1("input.placeholderForeground",{light:s.JO(J,0.5),dark:s.JO(J,0.5),hcDark:s.JO(J,0.7),hcLight:s.JO(J,0.7)},I.kg("inputPlaceholderForeground","Input box foreground color for placeholder text.")),s.x1("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:T.Q1.black,hcLight:T.Q1.white},I.kg("inputValidationInfoBackground","Input validation background color for information severity."))),un=s.x1("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:J},I.kg("inputValidationInfoForeground","Input validation foreground color for information severity.")),ft=s.x1("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:E,hcLight:E},I.kg("inputValidationInfoBorder","Input validation border color for information severity.")),Yn=s.x1("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:T.Q1.black,hcLight:T.Q1.white},I.kg("inputValidationWarningBackground","Input validation background color for warning severity.")),Nt=s.x1("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:J},I.kg("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Ci=s.x1("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:E,hcLight:E},I.kg("inputValidationWarningBorder","Input validation border color for warning severity.")),Hn=s.x1("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:T.Q1.black,hcLight:T.Q1.white},I.kg("inputValidationErrorBackground","Input validation background color for error severity.")),Xt=s.x1("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:J},I.kg("inputValidationErrorForeground","Input validation foreground color for error severity.")),pi=s.x1("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:E,hcLight:E},I.kg("inputValidationErrorBorder","Input validation border color for error severity.")),Ji=s.x1("dropdown.background",{dark:"#3C3C3C",light:T.Q1.white,hcDark:T.Q1.black,hcLight:T.Q1.white},I.kg("dropdownBackground","Dropdown background.")),Gi=s.x1("dropdown.listBackground",{dark:null,light:null,hcDark:T.Q1.black,hcLight:T.Q1.white},I.kg("dropdownListBackground","Dropdown list background.")),dr=s.x1("dropdown.foreground",{dark:"#F0F0F0",light:J,hcDark:T.Q1.white,hcLight:J},I.kg("dropdownForeground","Dropdown foreground.")),Ui=s.x1("dropdown.border",{dark:Ji,light:"#CECECE",hcDark:E,hcLight:E},I.kg("dropdownBorder","Dropdown border.")),Xi=s.x1("button.foreground",T.Q1.white,I.kg("buttonForeground","Button foreground color.")),Pi=s.x1("button.separator",s.JO(Xi,0.4),I.kg("buttonSeparator","Button separator color.")),ar=s.x1("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},I.kg("buttonBackground","Button background color.")),Hi=s.x1("button.hoverBackground",{dark:s.a(ar,0.2),light:s.e$(ar,0.2),hcDark:ar,hcLight:ar},I.kg("buttonHoverBackground","Button background color when hovering.")),or=s.x1("button.border",E,I.kg("buttonBorder","Button border color.")),Yi=s.x1("button.secondaryForeground",{dark:T.Q1.white,light:T.Q1.white,hcDark:T.Q1.white,hcLight:J},I.kg("buttonSecondaryForeground","Secondary button foreground color.")),_t=s.x1("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:T.Q1.white},I.kg("buttonSecondaryBackground","Secondary button background color.")),Kt=s.x1("button.secondaryHoverBackground",{dark:s.a(_t,0.2),light:s.e$(_t,0.2),hcDark:null,hcLight:null},I.kg("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),tn=s.x1("radio.activeForeground",rr,I.kg("radioActiveForeground","Foreground color of active radio option.")),In=s.x1("radio.activeBackground",tr,I.kg("radioBackground","Background color of active radio option.")),mn=s.x1("radio.activeBorder",er,I.kg("radioActiveBorder","Border color of the active radio option.")),wn=s.x1("radio.inactiveForeground",null,I.kg("radioInactiveForeground","Foreground color of inactive radio option.")),An=s.x1("radio.inactiveBackground",null,I.kg("radioInactiveBackground","Background color of inactive radio option.")),fi=s.x1("radio.inactiveBorder",{light:s.JO(tn,0.2),dark:s.JO(tn,0.2),hcDark:s.JO(tn,0.4),hcLight:s.JO(tn,0.2)},I.kg("radioInactiveBorder","Border color of the inactive radio option.")),qn=s.x1("radio.inactiveHoverBackground",Zi,I.kg("radioHoverBackground","Background color of inactive active radio option when hovering.")),oi=s.x1("checkbox.background",Ji,I.kg("checkbox.background","Background color of checkbox widget.")),Ai=(s.x1("checkbox.selectBackground",P,I.kg("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),s.x1("checkbox.foreground",dr,I.kg("checkbox.foreground","Foreground color of checkbox widget."))),nr=s.x1("checkbox.border",Ui,I.kg("checkbox.border","Border color of checkbox widget.")),$i=(s.x1("checkbox.selectBorder",M,I.kg("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),s.x1("keybindingLabel.background",{dark:new T.Q1(new T.bU(128,128,128,0.17)),light:new T.Q1(new T.bU(221,221,221,0.4)),hcDark:T.Q1.transparent,hcLight:T.Q1.transparent},I.kg("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut."))),ji=s.x1("keybindingLabel.foreground",{dark:T.Q1.fromHex("#CCCCCC"),light:T.Q1.fromHex("#555555"),hcDark:T.Q1.white,hcLight:J},I.kg("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),di=s.x1("keybindingLabel.border",{dark:new T.Q1(new T.bU(51,51,51,0.6)),light:new T.Q1(new T.bU(204,204,204,0.4)),hcDark:new T.Q1(new T.bU(111,195,223)),hcLight:E},I.kg("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Qi=s.x1("keybindingLabel.bottomBorder",{dark:new T.Q1(new T.bU(68,68,68,0.6)),light:new T.Q1(new T.bU(187,187,187,0.4)),hcDark:new T.Q1(new T.bU(111,195,223)),hcLight:J},I.kg("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),wr=s.x1("list.focusBackground",null,I.kg("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ht=s.x1("list.focusForeground",null,I.kg("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),xt=s.x1("list.focusOutline",{dark:v,light:v,hcDark:w,hcLight:w},I.kg("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),se=s.x1("list.focusAndSelectionOutline",null,I.kg("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Ae=s.x1("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:T.Q1.fromHex("#0F4A85").transparent(0.1)},I.kg("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),He=s.x1("list.activeSelectionForeground",{dark:T.Q1.white,light:T.Q1.white,hcDark:null,hcLight:null},I.kg("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),mt=s.x1("list.activeSelectionIconForeground",null,I.kg("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),At=s.x1("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:T.Q1.fromHex("#0F4A85").transparent(0.1)},I.kg("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),zt=s.x1("list.inactiveSelectionForeground",null,I.kg("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Pt=s.x1("list.inactiveSelectionIconForeground",null,I.kg("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Wt=s.x1("list.inactiveFocusBackground",null,I.kg("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Nn=s.x1("list.inactiveFocusOutline",null,I.kg("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),bn=s.x1("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:T.Q1.white.transparent(0.1),hcLight:T.Q1.fromHex("#0F4A85").transparent(0.1)},I.kg("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Jn=s.x1("list.hoverForeground",null,I.kg("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),$e=s.x1("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},I.kg("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),tt=s.x1("list.dropBetweenBackground",{dark:M,light:M,hcDark:null,hcLight:null},I.kg("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),gt=s.x1("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:v,hcLight:v},I.kg("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),bt=s.x1("list.focusHighlightForeground",{dark:gt,light:s.Hz(Ae,gt,"#BBE7FF"),hcDark:gt,hcLight:gt},I.kg("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),ke=(s.x1("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},I.kg("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),s.x1("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},I.kg("listErrorForeground","Foreground color of list items containing errors.")),s.x1("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},I.kg("listWarningForeground","Foreground color of list items containing warnings.")),s.x1("listFilterWidget.background",{light:s.e$(P,0),dark:s.a(P,0),hcDark:P,hcLight:P},I.kg("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),qt=s.x1("listFilterWidget.outline",{dark:T.Q1.transparent,light:T.Q1.transparent,hcDark:"#f38518",hcLight:"#007ACC"},I.kg("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Ot=s.x1("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:E,hcLight:E},I.kg("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Vt=s.x1("listFilterWidget.shadow",Ye,I.kg("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),Cn=(s.x1("list.filterMatchBackground",{dark:xe,light:xe,hcDark:null,hcLight:null},I.kg("listFilterMatchHighlight","Background color of the filtered match.")),s.x1("list.filterMatchBorder",{dark:Ie,light:Ie,hcDark:E,hcLight:w},I.kg("listFilterMatchHighlightBorder","Border color of the filtered match.")),s.x1("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},I.kg("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),s.x1("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},I.kg("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),dn=s.x1("tree.inactiveIndentGuidesStroke",s.JO(Cn,0.4),I.kg("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),St=s.x1("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},I.kg("tableColumnsBorder","Table border color between columns.")),Lt=s.x1("tree.tableOddRowsBackground",{dark:s.JO(J,0.04),light:s.JO(J,0.04),hcDark:null,hcLight:null},I.kg("tableOddRowsBackgroundColor","Background color for odd table rows.")),on=(s.x1("editorActionList.background",P,I.kg("editorActionListBackground","Action List background color.")),s.x1("editorActionList.foreground",z,I.kg("editorActionListForeground","Action List foreground color.")),s.x1("editorActionList.focusForeground",He,I.kg("editorActionListFocusForeground","Action List foreground color for the focused item.")),s.x1("editorActionList.focusBackground",Ae,I.kg("editorActionListFocusBackground","Action List background color for the focused item.")),s.x1("menu.border",{dark:null,light:null,hcDark:E,hcLight:E},I.kg("menuBorder","Border color of menus."))),ln=s.x1("menu.foreground",dr,I.kg("menuForeground","Foreground color of menu items.")),Dn=s.x1("menu.background",Ji,I.kg("menuBackground","Background color of menu items.")),vn=s.x1("menu.selectionForeground",He,I.kg("menuSelectionForeground","Foreground color of the selected menu item in menus.")),$n=s.x1("menu.selectionBackground",Ae,I.kg("menuSelectionBackground","Background color of the selected menu item in menus.")),Un=s.x1("menu.selectionBorder",{dark:null,light:null,hcDark:w,hcLight:w},I.kg("menuSelectionBorder","Border color of the selected menu item in menus.")),Fn=s.x1("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:E,hcLight:E},I.kg("menuSeparatorBackground","Color of a separator menu item in menus.")),fn=s.x1("quickInput.background",P,I.kg("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Qn=s.x1("quickInput.foreground",z,I.kg("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),N=s.x1("quickInputTitle.background",{dark:new T.Q1(new T.bU(255,255,255,0.105)),light:new T.Q1(new T.bU(0,0,0,0.06)),hcDark:"#000000",hcLight:T.Q1.white},I.kg("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Z=s.x1("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:T.Q1.white,hcLight:"#0F4A85"},I.kg("pickerGroupForeground","Quick picker color for grouping labels.")),j=s.x1("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:T.Q1.white,hcLight:"#0F4A85"},I.kg("pickerGroupBorder","Quick picker color for grouping borders.")),_e=s.x1("quickInput.list.focusBackground",null,"",void 0,I.kg("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Ne=s.x1("quickInputList.focusForeground",He,I.kg("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Oe=s.x1("quickInputList.focusIconForeground",mt,I.kg("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Ke=s.x1("quickInputList.focusBackground",{dark:s.yL(_e,Ae),light:s.yL(_e,Ae),hcDark:null,hcLight:null},I.kg("quickInput.listFocusBackground","Quick picker background color for the focused item."));s.x1("search.resultsInfoForeground",{light:J,dark:s.JO(J,0.65),hcDark:J,hcLight:J},I.kg("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),s.x1("searchEditor.findMatchBackground",{light:s.JO(xe,0.66),dark:s.JO(xe,0.66),hcDark:xe,hcLight:xe},I.kg("searchEditor.queryMatch","Color of the Search Editor query matches.")),s.x1("searchEditor.findMatchBorder",{light:s.JO(Ie,0.66),dark:s.JO(Ie,0.66),hcDark:Ie,hcLight:Ie},I.kg("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."))},7676:(dt,pe,h)=>{h.d(pe,{Bb:()=>w,Fd:()=>f,Gu:()=>C,HP:()=>d,Hz:()=>R,JO:()=>x,a:()=>b,e$:()=>m,oG:()=>P,x1:()=>_,yL:()=>k});var s=h(7110),I=h(5958),T=h(4901),J=h(2106),M=h(1460),v=h(7167),E=h(9746);function w(B){return`--vscode-${B.replace(/\./g,"-")}`}function C(B){return`var(${w(B)})`}function d(B,U){return`var(${w(B)}, ${U})`}const f={ColorContribution:"base.contributions.colors"},p=new class{constructor(){this._onDidChangeSchema=new J.vl,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(B,U,$,G=!1,ie){const ee={id:B,description:$,defaults:U,needsTransparency:G,deprecationMessage:ie};this.colorsById[B]=ee;const ne={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return ie&&(ne.deprecationMessage=ie),G&&(ne.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",ne.patternErrorMessage=E.kg("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[B]={description:$,oneOf:[ne,{type:"string",const:"default",description:E.kg("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(B),this.colorReferenceSchema.enumDescriptions.push($),this._onDidChangeSchema.fire(),B}getColors(){return Object.keys(this.colorsById).map((B)=>this.colorsById[B])}resolveDefaultColor(B,U){const $=this.colorsById[B];if($?.defaults)return z((G=$.defaults)!==null&&typeof G=="object"&&"light"in G&&"dark"in G?$.defaults[U.type]:$.defaults,U);var G}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((B,U)=>{const $=B.indexOf(".")===-1?0:1,G=U.indexOf(".")===-1?0:1;return $!==G?$-G:B.localeCompare(U)}).map((B)=>`- \`${B}\`: ${this.colorsById[B].description}`).join("\n")}};function _(B,U,$,G,ie){return p.registerColor(B,U,$,G,ie)}function m(B,U){return{op:0,value:B,factor:U}}function b(B,U){return{op:1,value:B,factor:U}}function x(B,U){return{op:2,value:B,factor:U}}function k(...B){return{op:4,values:B}}function R(B,U,$){return{op:6,if:B,then:U,else:$}}function P(B,U,$,G){return{op:5,value:B,background:U,factor:$,transparency:G}}function z(B,U){if(B!==null)return typeof B=="string"?B[0]==="#"?T.Q1.fromHex(B):U.getColor(B):B instanceof T.Q1?B:typeof B=="object"?function($,G){switch($.op){case 0:return z($.value,G)?.darken($.factor);case 1:return z($.value,G)?.lighten($.factor);case 2:return z($.value,G)?.transparent($.factor);case 3:{const ie=z($.background,G);return ie?z($.value,G)?.makeOpaque(ie):z($.value,G)}case 4:for(let ie of $.values){const ee=z(ie,G);if(ee)return ee}return;case 6:return z(G.defines($.if)?$.then:$.else,G);case 5:{const ie=z($.value,G);if(!ie)return;const ee=z($.background,G);return ee?ie.isDarkerThan(ee)?T.Q1.getLighterColor(ie,ee,$.factor).transparent($.transparency):T.Q1.getDarkerColor(ie,ee,$.factor).transparent($.transparency):ie.transparent($.factor*$.transparency)}default:throw s.xb($)}}(B,U):void 0}v.O.add(f.ColorContribution,p);const te="vscode://schemas/workbench-colors",L=v.O.as(M.F.JSONContribution);L.registerSchema(te,p.getColorSchema());const W=new I.uC(()=>L.notifySchemaChanged(te),200);p.onDidChangeSchema(()=>{W.isScheduled()||W.schedule()})},1210:(dt,pe,h)=>{h.d(pe,{$_:()=>P,HT:()=>b,pU:()=>m});var s,I,T=h(5958),J=h(5915),M=h(9892),v=h(8881),E=h(2106),w=h(9359),C=h(7264),d=h(9746),f=h(1460),p=h(7167);(function(z){z.getDefinition=function(te,L){let W=te.defaults;for(;v.L.isThemeIcon(W);){const B=_.getIcon(W.id);if(!B)return;W=B.defaults}return W}})(s||(s={})),function(z){z.toJSONObject=function(te){return{weight:te.weight,style:te.style,src:te.src.map((L)=>({format:L.format,location:L.location.toString()}))}},z.fromJSONObject=function(te){const L=(W)=>w.Kg(W)?W:void 0;if(te&&Array.isArray(te.src)&&te.src.every((W)=>w.Kg(W.format)&&w.Kg(W.location)))return{weight:L(te.weight),style:L(te.style),src:te.src.map((W)=>({format:W.format,location:C.r.parse(W.location)}))}}}(I||(I={}));const _=new class{constructor(){this._onDidChange=new E.vl,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:d.kg("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:d.kg("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${v.L.iconNameExpression}\$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(z,te,L,W){const B=this.iconsById[z];if(B){if(L&&!B.description){B.description=L,this.iconSchema.properties[z].markdownDescription=`${L} \$(${z})`;const G=this.iconReferenceSchema.enum.indexOf(z);G!==-1&&(this.iconReferenceSchema.enumDescriptions[G]=L),this._onDidChange.fire()}return B}const U={id:z,description:L,defaults:te,deprecationMessage:W};this.iconsById[z]=U;const $={$ref:"#/definitions/icons"};return W&&($.deprecationMessage=W),L&&($.markdownDescription=`${L}: \$(${z})`),this.iconSchema.properties[z]=$,this.iconReferenceSchema.enum.push(z),this.iconReferenceSchema.enumDescriptions.push(L||""),this._onDidChange.fire(),{id:z}}getIcons(){return Object.keys(this.iconsById).map((z)=>this.iconsById[z])}getIcon(z){return this.iconsById[z]}getIconSchema(){return this.iconSchema}toString(){const z=(B,U)=>B.id.localeCompare(U.id),te=(B)=>{for(;v.L.isThemeIcon(B.defaults);)B=this.iconsById[B.defaults.id];return`codicon codicon-${B?B.id:""}`},L=[];L.push("| preview     | identifier                        | default codicon ID                | description"),L.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const W=Object.keys(this.iconsById).map((B)=>this.iconsById[B]);for(let B of W.filter((U)=>!!U.description).sort(z))L.push(`|<i class="${te(B)}"></i>|${B.id}|${v.L.isThemeIcon(B.defaults)?B.defaults.id:B.id}|${B.description||""}|`);L.push("| preview     | identifier                        "),L.push("| ----------- | --------------------------------- |");for(let B of W.filter((U)=>!v.L.isThemeIcon(U.defaults)).sort(z))L.push(`|<i class="${te(B)}"></i>|${B.id}|`);return L.join("\n")}};function m(z,te,L,W){return _.registerIcon(z,te,L,W)}function b(){return _}p.O.add("base.contributions.icons",_),function(){const z=M.J();for(let te in z){const L="\\"+z[te].toString(16);_.registerIcon(te,{fontCharacter:L})}}();const x="vscode://schemas/icons",k=p.O.as(f.F.JSONContribution);k.registerSchema(x,_.getIconSchema());const R=new T.uC(()=>k.notifySchemaChanged(x),200);_.onDidChange(()=>{R.isScheduled()||R.schedule()});const P=m("widget-close",J.W.close,d.kg("widgetClose","Icon for the close action in widgets."));m("goto-previous-location",J.W.arrowUp,d.kg("previousChangeIcon","Icon for goto previous editor location.")),m("goto-next-location",J.W.arrowDown,d.kg("nextChangeIcon","Icon for goto next editor location.")),v.L.modify(J.W.sync,"spin"),v.L.modify(J.W.loading,"spin")},9563:(dt,pe,h)=>{var s;function I(J){return J===s.HIGH_CONTRAST_DARK||J===s.HIGH_CONTRAST_LIGHT}function T(J){return J===s.DARK||J===s.HIGH_CONTRAST_DARK}h.d(pe,{Bb:()=>I,HD:()=>T,zM:()=>s}),function(J){J.DARK="dark",J.LIGHT="light",J.HIGH_CONTRAST_DARK="hcDark",J.HIGH_CONTRAST_LIGHT="hcLight"}(s||(s={}))},9044:(dt,pe,h)=>{h.d(pe,{Fd:()=>C,Gy:()=>v,Pz:()=>w,Yf:()=>E,lR:()=>p,zy:()=>f});var s=h(2106),I=h(998),T=h(2399),J=h(7167),M=h(9563);const v=T.u1("themeService");function E(_){return{id:_}}function w(_){switch(_){case M.zM.DARK:return"vs-dark";case M.zM.HIGH_CONTRAST_DARK:return"hc-black";case M.zM.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const C={ThemingContribution:"base.contributions.theming"},d=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new s.vl}onColorThemeChange(_){return this.themingParticipants.push(_),this.onThemingParticipantAddedEmitter.fire(_),I.s(()=>{const m=this.themingParticipants.indexOf(_);this.themingParticipants.splice(m,1)})}getThemingParticipants(){return this.themingParticipants}};function f(_){return d.onColorThemeChange(_)}J.O.add(C.ThemingContribution,d);class p extends I.jG{constructor(_){super(),this.themeService=_,this.theme=_.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((m)=>this.onThemeChange(m)))}onThemeChange(_){this.theme=_,this.updateStyles()}updateStyles(){}}},8803:(dt,pe,h)=>{h.d(pe,{$D:()=>s,I_:()=>T,To:()=>I,Ym:()=>J});const s=h(2399).u1("undoRedoService");class I{constructor(M,v){this.resource=M,this.elements=v}}class T{static{this._ID=0}constructor(){this.id=T._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}static{this.None=new T}}class J{static{this._ID=0}constructor(){this.id=J._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}static{this.None=new J}}},6851:(dt,pe,h)=>{h.d(pe,{A7:()=>v,Q_:()=>C,VR:()=>J,cn:()=>p,ct:()=>_,jB:()=>M,kF:()=>f,mX:()=>d});var s=h(9746),I=h(8019),T=(h(6525),h(7264));const J=h(2399).u1("contextService");function M(m){const b=m;return typeof b?.id=="string"&&T.r.isUri(b.uri)}function v(m){return typeof m?.id=="string"&&!M(m)&&!function(x){const k=x;return typeof k?.id=="string"&&T.r.isUri(k.configPath)}(m)}const E={id:"ext-dev"},w={id:"empty-window"};function C(m,b){if(typeof m=="string"||m===void 0)return typeof m=="string"?{id:I.P8(m)}:b?E:w;const x=m;return x.configuration?{id:x.id,configPath:x.configuration}:x.folders.length===1?{id:x.id,uri:x.folders[0].uri}:{id:x.id}}class d{constructor(m,b){this.raw=b,this.uri=m.uri,this.index=m.index,this.name=m.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const f="code-workspace",p=(s.kg("codeWorkspace","Code Workspace"),"4064f6ec-cb38-4ad0-af64-ee6467e63c82");function _(m){return m.id===p}},4657:(dt,pe,h)=>{h.d(pe,{L:()=>s});const s=h(2399).u1("workspaceTrustManagementService")}},vr={};function ct(dt){var pe=vr[dt];if(pe!==void 0)return pe.exports;var h=vr[dt]={exports:{}};return Ti[dt](h,h.exports,ct),h.exports}ct.amdO={},ct.d=(dt,pe)=>{for(var h in pe)ct.o(pe,h)&&!ct.o(dt,h)&&Object.defineProperty(dt,h,{enumerable:!0,get:pe[h]})},ct.e=()=>Promise.resolve(),ct.o=(dt,pe)=>Object.prototype.hasOwnProperty.call(dt,pe),ct.r=(dt)=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(dt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(dt,"__esModule",{value:!0})};var ao={};return(()=>{ct.r(ao),ct.d(ao,{CancellationTokenSource:()=>dt.CancellationTokenSource,Emitter:()=>dt.Emitter,KeyCode:()=>dt.KeyCode,KeyMod:()=>dt.KeyMod,MarkerSeverity:()=>dt.MarkerSeverity,MarkerTag:()=>dt.MarkerTag,Position:()=>dt.Position,Range:()=>dt.Range,Selection:()=>dt.Selection,SelectionDirection:()=>dt.SelectionDirection,Token:()=>dt.Token,Uri:()=>dt.Uri,editor:()=>dt.editor,languages:()=>dt.languages});var dt=ct(6236),pe=Object.defineProperty,h=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,I=Object.prototype.hasOwnProperty,T=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of s(t))I.call(e,o)||o===n||pe(e,o,{get:()=>t[o],enumerable:!(r=h(t,o))||r.enumerable});return e},J={};T(J,dt,"default");var M={},v={},E=class e{static getOrCreate(t){return v[t]||(v[t]=new e(t)),v[t]}constructor(t){this._languageId=t,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((n,r)=>{this._lazyLoadPromiseResolve=n,this._lazyLoadPromiseReject=r})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,M[this._languageId].loader().then((t)=>this._lazyLoadPromiseResolve(t),(t)=>this._lazyLoadPromiseReject(t))),this._lazyLoadPromise}};function w(e){const t=e.id;M[t]=e,J.languages.register(e);const n=E.getOrCreate(t);J.languages.registerTokensProviderFactory(t,{create:async()=>(await n.load()).language}),J.languages.onLanguageEncountered(t,async()=>{const r=await n.load();J.languages.setLanguageConfiguration(t,r.conf)})}w({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>Promise.resolve().then(ct.bind(ct,1420))}),w({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>Promise.resolve().then(ct.bind(ct,7048))}),w({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>Promise.resolve().then(ct.bind(ct,3622))}),w({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>Promise.resolve().then(ct.bind(ct,8566))}),w({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>Promise.resolve().then(ct.bind(ct,9510))}),w({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>Promise.resolve().then(ct.bind(ct,4334))}),w({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>Promise.resolve().then(ct.bind(ct,9150))}),w({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>Promise.resolve().then(ct.bind(ct,968))}),w({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>Promise.resolve().then(ct.bind(ct,6018))}),w({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>Promise.resolve().then(ct.bind(ct,6018))}),w({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>Promise.resolve().then(ct.bind(ct,9038))}),w({id:"csp",extensions:[".csp"],aliases:["CSP","csp"],loader:()=>Promise.resolve().then(ct.bind(ct,1446))}),w({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>Promise.resolve().then(ct.bind(ct,4958))}),w({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>Promise.resolve().then(ct.bind(ct,494))}),w({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>Promise.resolve().then(ct.bind(ct,3062))}),w({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>Promise.resolve().then(ct.bind(ct,2692))}),w({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>Promise.resolve().then(ct.bind(ct,2278))}),w({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>Promise.resolve().then(ct.bind(ct,1710))}),w({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>Promise.resolve().then(ct.bind(ct,3726))}),w({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>Promise.resolve().then(ct.bind(ct,2244))}),w({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>Promise.resolve().then(ct.bind(ct,2094)).then((e)=>e.TagAutoInterpolationDollar)}),w({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>Promise.resolve().then(ct.bind(ct,2094)).then((e)=>e.TagAngleInterpolationDollar)}),w({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>Promise.resolve().then(ct.bind(ct,2094)).then((e)=>e.TagBracketInterpolationDollar)}),w({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>Promise.resolve().then(ct.bind(ct,2094)).then((e)=>e.TagAngleInterpolationBracket)}),w({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>Promise.resolve().then(ct.bind(ct,2094)).then((e)=>e.TagBracketInterpolationBracket)}),w({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>Promise.resolve().then(ct.bind(ct,2094)).then((e)=>e.TagAutoInterpolationDollar)}),w({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>Promise.resolve().then(ct.bind(ct,2094)).then((e)=>e.TagAutoInterpolationBracket)}),w({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>Promise.resolve().then(ct.bind(ct,5364))}),w({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>Promise.resolve().then(ct.bind(ct,8902))}),w({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>Promise.resolve().then(ct.bind(ct,7836))}),w({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>Promise.resolve().then(ct.bind(ct,9838))}),w({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>Promise.resolve().then(ct.bind(ct,2658))}),w({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>Promise.resolve().then(ct.bind(ct,8542))}),w({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>Promise.resolve().then(ct.bind(ct,7200))}),w({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.resolve().then(ct.bind(ct,5550))}),w({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>Promise.resolve().then(ct.bind(ct,2962))}),w({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>Promise.resolve().then(ct.bind(ct,6185))}),w({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>Promise.resolve().then(ct.bind(ct,1122))}),w({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>Promise.resolve().then(ct.bind(ct,5130))}),w({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>Promise.resolve().then(ct.bind(ct,4114))}),w({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>Promise.resolve().then(ct.bind(ct,3096))}),w({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>Promise.resolve().then(ct.bind(ct,4120))}),w({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>Promise.resolve().then(ct.bind(ct,9390))}),w({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>Promise.resolve().then(ct.bind(ct,5966))}),w({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>Promise.resolve().then(ct.bind(ct,398))}),w({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>Promise.resolve().then(ct.bind(ct,5786))}),w({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>Promise.resolve().then(ct.bind(ct,7466))}),w({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>Promise.resolve().then(ct.bind(ct,2686))}),w({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>Promise.resolve().then(ct.bind(ct,6940))}),w({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>Promise.resolve().then(ct.bind(ct,8230))}),w({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>Promise.resolve().then(ct.bind(ct,7886))}),w({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>Promise.resolve().then(ct.bind(ct,3182))}),w({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>Promise.resolve().then(ct.bind(ct,6302))}),w({id:"pla",extensions:[".pla"],loader:()=>Promise.resolve().then(ct.bind(ct,8390))}),w({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>Promise.resolve().then(ct.bind(ct,198))}),w({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>Promise.resolve().then(ct.bind(ct,6590))}),w({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>Promise.resolve().then(ct.bind(ct,4698))}),w({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>Promise.resolve().then(ct.bind(ct,1118))}),w({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>Promise.resolve().then(ct.bind(ct,970))}),w({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>Promise.resolve().then(ct.bind(ct,5196))}),w({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>Promise.resolve().then(ct.bind(ct,5618))}),w({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>Promise.resolve().then(ct.bind(ct,2586))}),w({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>Promise.resolve().then(ct.bind(ct,8565))}),w({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>Promise.resolve().then(ct.bind(ct,8990))}),w({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>Promise.resolve().then(ct.bind(ct,558))}),w({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>Promise.resolve().then(ct.bind(ct,7246))}),w({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>Promise.resolve().then(ct.bind(ct,1560))}),w({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>Promise.resolve().then(ct.bind(ct,4680))}),w({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>Promise.resolve().then(ct.bind(ct,4962))}),w({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>Promise.resolve().then(ct.bind(ct,6446))}),w({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>Promise.resolve().then(ct.bind(ct,8494))}),w({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>Promise.resolve().then(ct.bind(ct,1888))}),w({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>Promise.resolve().then(ct.bind(ct,9034))}),w({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>Promise.resolve().then(ct.bind(ct,3042))}),w({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>Promise.resolve().then(ct.bind(ct,8332))}),w({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>Promise.resolve().then(ct.bind(ct,1282))}),w({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>Promise.resolve().then(ct.bind(ct,1914))}),w({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>Promise.resolve().then(ct.bind(ct,8334))}),w({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>Promise.resolve().then(ct.bind(ct,4630))}),w({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>Promise.resolve().then(ct.bind(ct,2398))}),w({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>Promise.resolve().then(ct.bind(ct,2398))}),w({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>Promise.resolve().then(ct.bind(ct,6414))}),w({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>Promise.resolve().then(ct.bind(ct,205))}),w({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>Promise.resolve().then(ct.bind(ct,6830))}),w({id:"typespec",extensions:[".tsp"],aliases:["TypeSpec"],loader:()=>Promise.resolve().then(ct.bind(ct,910))}),w({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>Promise.resolve().then(ct.bind(ct,1740))}),w({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>Promise.resolve().then(ct.bind(ct,6134))}),w({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>Promise.resolve().then(ct.bind(ct,1438))}),w({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>Promise.resolve().then(ct.bind(ct,6990))});var{defineProperty:C,getOwnPropertyDescriptor:d,getOwnPropertyNames:f}=Object,p=Object.prototype.hasOwnProperty,_=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of f(t))p.call(e,o)||o===n||C(e,o,{get:()=>t[o],enumerable:!(r=d(t,o))||r.enumerable});return e},m={};((e,t)=>{_(e,t,"default")})(m,dt);var b=class{constructor(e,t,n){this._onDidChange=new m.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(n)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(e){this.setOptions(e)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},x={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},k={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},R=new b("css",x,k),P=new b("scss",x,k),z=new b("less",x,k);function te(){return Promise.resolve().then(ct.bind(ct,2745))}m.languages.css={cssDefaults:R,lessDefaults:z,scssDefaults:P},m.languages.onLanguage("less",()=>{te().then((e)=>e.setupMode(z))}),m.languages.onLanguage("scss",()=>{te().then((e)=>e.setupMode(P))}),m.languages.onLanguage("css",()=>{te().then((e)=>e.setupMode(R))});var{defineProperty:L,getOwnPropertyDescriptor:W,getOwnPropertyNames:B}=Object,U=Object.prototype.hasOwnProperty,$=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of B(t))U.call(e,o)||o===n||L(e,o,{get:()=>t[o],enumerable:!(r=W(t,o))||r.enumerable});return e},G={};((e,t)=>{$(e,t,"default")})(G,dt);var ie=class{constructor(e,t,n){this._onDidChange=new G.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(n)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},ee={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function ne(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===H,documentFormattingEdits:e===H,documentRangeFormattingEdits:e===H}}var H="html",V="handlebars",Y="razor",ve=Q(H,ee,ne(H)),Te=ve.defaults,xe=Q(V,ee,ne(V)),Be=xe.defaults,Ie=Q(Y,ee,ne(Y)),he=Ie.defaults;function Q(e,t=ee,n=ne(e)){const r=new ie(e,t,n);let o;const u=G.languages.onLanguage(e,async()=>{o=(await Promise.resolve().then(ct.bind(ct,2077))).setupMode(r)});return{defaults:r,dispose(){u.dispose(),o?.dispose(),o=void 0}}}G.languages.html={htmlDefaults:Te,razorDefaults:he,handlebarDefaults:Be,htmlLanguageService:ve,handlebarLanguageService:xe,razorLanguageService:Ie,registerHTMLLanguageService:Q};var{defineProperty:re,getOwnPropertyDescriptor:Je,getOwnPropertyNames:Se}=Object,Pe=Object.prototype.hasOwnProperty,Le=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Se(t))Pe.call(e,o)||o===n||re(e,o,{get:()=>t[o],enumerable:!(r=Je(t,o))||r.enumerable});return e},Ve={};((e,t)=>{Le(e,t,"default")})(Ve,dt);var g=new class{constructor(e,t,n){this._onDidChange=new Ve.Emitter,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(n)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}}("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});function ge(){return Promise.resolve().then(ct.bind(ct,4839))}Ve.languages.json={jsonDefaults:g,getWorker:()=>ge().then((e)=>e.getWorker())},Ve.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),Ve.languages.onLanguage("json",()=>{ge().then((e)=>e.setupMode(g))}),ct(9664);var We=ct(2521),de=ct(9783),be=ct(5915),ae=ct(4333),O=ct(946),Ue=ct(7301),Ye=ct(2603),Fe=ct(5741),oe=ct(9746),rt=ct(8067),lt=ct(5753),ye=ct(1540),pt=ct(6811);class Mt extends rt.L{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:oe.aS("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),icon:be.W.map,toggled:ye.M$.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:ye.M$.has("isInDiffEditor"),menu:{when:ye.M$.has("isInDiffEditor"),id:rt.D8.EditorTitle,order:22,group:"navigation"}})}run(e,...t){const n=e.get(lt.pG),r=!n.getValue("diffEditor.hideUnchangedRegions.enabled");n.updateValue("diffEditor.hideUnchangedRegions.enabled",r)}}class Zt extends rt.L{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:oe.aS("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),precondition:ye.M$.has("isInDiffEditor")})}run(e,...t){const n=e.get(lt.pG),r=!n.getValue("diffEditor.experimental.showMoves");n.updateValue("diffEditor.experimental.showMoves",r)}}class jt extends rt.L{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:oe.aS("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),precondition:ye.M$.has("isInDiffEditor")})}run(e,...t){const n=e.get(lt.pG),r=!n.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");n.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",r)}}const xn=oe.aS("diffEditor","Diff Editor");class nn extends O.qO{constructor(){super({id:"diffEditor.switchSide",title:oe.aS("switchSide","Switch Side"),icon:be.W.arrowSwap,precondition:ye.M$.has("isInDiffEditor"),f1:!0,category:xn})}runEditorCommand(e,t,n){const r=Mi(e);if(r instanceof Ye.T){if(n&&n.dryRun)return{destinationSelection:r.mapToOtherSide().destinationSelection};r.switchSide()}}}class gn extends O.qO{constructor(){super({id:"diffEditor.exitCompareMove",title:oe.aS("exitCompareMove","Exit Compare Move"),icon:be.W.close,precondition:Fe.R.comparingMovedCode,f1:!1,category:xn,keybinding:{weight:1e4,primary:9}})}runEditorCommand(e,t,...n){const r=Mi(e);r instanceof Ye.T&&r.exitCompareMove()}}class pn extends O.qO{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:oe.aS("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),icon:be.W.fold,precondition:ye.M$.has("isInDiffEditor"),f1:!0,category:xn})}runEditorCommand(e,t,...n){const r=Mi(e);r instanceof Ye.T&&r.collapseAllUnchangedRegions()}}class rn extends O.qO{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:oe.aS("showAllUnchangedRegions","Show All Unchanged Regions"),icon:be.W.unfold,precondition:ye.M$.has("isInDiffEditor"),f1:!0,category:xn})}runEditorCommand(e,t,...n){const r=Mi(e);r instanceof Ye.T&&r.showAllUnchangedRegions()}}class Sn extends rt.L{constructor(){super({id:"diffEditor.revert",title:oe.aS("revert","Revert"),f1:!1,category:xn})}run(e,t){const n=function(r,o,u){return r.get(Ue.T).listDiffEditors().find((l)=>{const A=l.getModifiedEditor(),K=l.getOriginalEditor();return A&&A.getModel()?.uri.toString()===u.toString()&&K&&K.getModel()?.uri.toString()===o.toString()})||null}(e,t.originalUri,t.modifiedUri);n instanceof Ye.T&&n.revertRangeMappings(t.mapping.innerChanges??[])}}const Mn=oe.aS("accessibleDiffViewer","Accessible Diff Viewer");class Bn extends rt.L{static{this.id="editor.action.accessibleDiffViewer.next"}constructor(){super({id:Bn.id,title:oe.aS("editor.action.accessibleDiffViewer.next","Go to Next Difference"),category:Mn,precondition:ye.M$.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(e){Mi(e)?.accessibleDiffViewerNext()}}class wi extends rt.L{static{this.id="editor.action.accessibleDiffViewer.prev"}constructor(){super({id:wi.id,title:oe.aS("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),category:Mn,precondition:ye.M$.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(e){Mi(e)?.accessibleDiffViewerPrev()}}function Mi(e){const t=e.get(Ue.T).listDiffEditors(),n=ae.bq();if(n){for(let r of t)if(Oi(r.getContainerDomNode(),n))return r}return null}function Oi(e,t){let n=t;for(;n;){if(n===e)return!0;n=n.parentElement}return!1}var En=ct(2096);rt.ug(Mt),rt.ug(Zt),rt.ug(jt),rt.ZG.appendMenuItem(rt.D8.EditorTitle,{command:{id:new jt().desc.id,title:oe.kg("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:ye.M$.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:ye.M$.has("isInDiffEditor")},order:11,group:"1_diff",when:ye.M$.and(Fe.R.diffEditorRenderSideBySideInlineBreakpointReached,ye.M$.has("isInDiffEditor"))}),rt.ZG.appendMenuItem(rt.D8.EditorTitle,{command:{id:new Zt().desc.id,title:oe.kg("showMoves","Show Moved Code Blocks"),icon:be.W.move,toggled:ye.f1.create("config.diffEditor.experimental.showMoves",!0),precondition:ye.M$.has("isInDiffEditor")},order:10,group:"1_diff",when:ye.M$.has("isInDiffEditor")}),rt.ug(Sn);for(let e of[{icon:be.W.arrowRight,key:Fe.R.diffEditorInlineMode.toNegated()},{icon:be.W.discard,key:Fe.R.diffEditorInlineMode}])rt.ZG.appendMenuItem(rt.D8.DiffEditorHunkToolbar,{command:{id:new Sn().desc.id,title:oe.kg("revertHunk","Revert Block"),icon:e.icon},when:ye.M$.and(Fe.R.diffEditorModifiedWritable,e.key),order:5,group:"primary"}),rt.ZG.appendMenuItem(rt.D8.DiffEditorSelectionToolbar,{command:{id:new Sn().desc.id,title:oe.kg("revertSelection","Revert Selection"),icon:e.icon},when:ye.M$.and(Fe.R.diffEditorModifiedWritable,e.key),order:5,group:"primary"});rt.ug(nn),rt.ug(gn),rt.ug(pn),rt.ug(rn),rt.ZG.appendMenuItem(rt.D8.EditorTitle,{command:{id:Bn.id,title:oe.kg("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:ye.M$.has("isInDiffEditor")},order:10,group:"2_diff",when:ye.M$.and(Fe.R.accessibleDiffViewerVisible.negate(),ye.M$.has("isInDiffEditor"))}),En.w.registerCommandAlias("editor.action.diffReview.next",Bn.id),rt.ug(Bn),En.w.registerCommandAlias("editor.action.diffReview.prev",wi.id),rt.ug(wi);var li,si=ct(9407),ti=ct(28),Ln=ct(8387),Xn=ct(3702);const xi=new ye.N1("selectionAnchorSet",!1);let Ni=class{static{li=this}static{this.ID="editor.contrib.selectionAnchorController"}static get(e){return e.getContribution(li.ID)}constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=xi.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition();this.editor.changeDecorations((t)=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(Xn.L.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:new ti.Bc().appendText(oe.kg("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),si.xE(oe.kg("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(Xn.L.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const e=this.decorationId;this.editor.changeDecorations((t)=>{t.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var Ii,er;Ni=li=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([(Ii=1,er=ye.fN,function(e,t){er(e,t,Ii)})],Ni);class Zi extends O.ks{constructor(){super({id:"editor.action.setSelectionAnchor",label:oe.kg("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2080),weight:100}})}async run(e,t){Ni.get(t)?.setSelectionAnchor()}}class tr extends O.ks{constructor(){super({id:"editor.action.goToSelectionAnchor",label:oe.kg("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:xi})}async run(e,t){Ni.get(t)?.goToSelectionAnchor()}}class rr extends O.ks{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:oe.kg("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:xi,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2089),weight:100}})}async run(e,t){Ni.get(t)?.selectFromAnchorToCursor()}}class yi extends O.ks{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:oe.kg("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:xi,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:9,weight:100}})}async run(e,t){Ni.get(t)?.cancelSelectionAnchor()}}O.HW(Ni.ID,Ni,4),O.Fl(Zi),O.Fl(tr),O.Fl(rr),O.Fl(yi);var un=ct(5958),ft=ct(998),Yn=ct(5365),Nt=ct(8061),Ci=ct(6055),Hn=ct(1907),Xt=ct(559),pi=ct(9044);const Ji=Xt.x1A("editorOverviewRuler.bracketMatchForeground","#A0A0A0",oe.kg("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class Gi extends O.ks{constructor(){super({id:"editor.action.jumpToBracket",label:oe.kg("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:3165,weight:100}})}run(e,t){Pi.get(t)?.jumpToBracket()}}class dr extends O.ks{constructor(){super({id:"editor.action.selectToBracket",label:oe.kg("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:oe.aS("smartSelect.selectToBracketDescription","Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,n){let r=!0;n&&n.selectBrackets===!1&&(r=!1),Pi.get(t)?.selectToBracket(r)}}class Ui extends O.ks{constructor(){super({id:"editor.action.removeBrackets",label:oe.kg("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:2561,weight:100}})}run(e,t){Pi.get(t)?.removeBrackets(this.id)}}class Xi{constructor(e,t,n){this.position=e,this.brackets=t,this.options=n}}class Pi extends ft.jG{static{this.ID="editor.contrib.bracketMatchingController"}static get(e){return e.getContribution(Pi.ID)}constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new un.uC(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition((t)=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent((t)=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel((t)=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration((t)=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration((t)=>{t.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map((n)=>{const r=n.getStartPosition(),o=e.bracketPairs.matchBracket(r);let u=null;if(o)o[0].containsPosition(r)&&!o[1].containsPosition(r)?u=o[1].getStartPosition():o[1].containsPosition(r)&&(u=o[0].getStartPosition());else{const l=e.bracketPairs.findEnclosingBrackets(r);if(l)u=l[1].getStartPosition();else{const A=e.bracketPairs.findNextBracket(r);A&&A.range&&(u=A.range.getStartPosition())}}return u?new Xn.L(u.lineNumber,u.column,u.lineNumber,u.column):new Xn.L(r.lineNumber,r.column,r.lineNumber,r.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=[];this._editor.getSelections().forEach((r)=>{const o=r.getStartPosition();let u=t.bracketPairs.matchBracket(o);if(!u&&(u=t.bracketPairs.findEnclosingBrackets(o),!u)){const K=t.bracketPairs.findNextBracket(o);K&&K.range&&(u=t.bracketPairs.matchBracket(K.range.getStartPosition()))}let l=null,A=null;if(u){u.sort(Nt.Q.compareRangesUsingStarts);const[K,le]=u;if(l=e?K.getStartPosition():K.getEndPosition(),A=e?le.getEndPosition():le.getStartPosition(),le.containsPosition(o)){const ue=l;l=A,A=ue}}l&&A&&n.push(new Xn.L(l.lineNumber,l.column,A.lineNumber,A.column))}),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}removeBrackets(e){if(!this._editor.hasModel())return;const t=this._editor.getModel();this._editor.getSelections().forEach((n)=>{const r=n.getPosition();let o=t.bracketPairs.matchBracket(r);o||(o=t.bracketPairs.findEnclosingBrackets(r)),o&&(this._editor.pushUndoStop(),this._editor.executeEdits(e,[{range:o[0],text:""},{range:o[1],text:""}]),this._editor.pushUndoStop())})}static{this._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Hn.kI.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:pi.Yf(Ji),position:Ci.A5.Center}})}static{this._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Hn.kI.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const e=[];let t=0;for(let n of this._lastBracketsData){const r=n.brackets;r&&(e[t++]={range:r[0],options:n.options},e[t++]={range:r[1],options:n.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),n=t.getVersionId();let r=[];this._lastVersionId===n&&(r=this._lastBracketsData);const o=[];let u=0;for(let ue=0,we=e.length;ue<we;ue++){const Qe=e[ue];Qe.isEmpty()&&(o[u++]=Qe.getStartPosition())}o.length>1&&o.sort(Yn.y.compare);const l=[];let A=0,K=0;const le=r.length;for(let ue=0,we=o.length;ue<we;ue++){const Qe=o[ue];for(;K<le&&r[K].position.isBefore(Qe);)K++;if(K<le&&r[K].position.equals(Qe))l[A++]=r[K];else{let Me=t.bracketPairs.matchBracket(Qe,20),nt=Pi._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;Me||this._matchBrackets!=="always"||(Me=t.bracketPairs.findEnclosingBrackets(Qe,20),nt=Pi._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),l[A++]=new Xi(Qe,Me,nt)}}this._lastBracketsData=l,this._lastVersionId=n}}O.HW(Pi.ID,Pi,1),O.Fl(dr),O.Fl(Gi),O.Fl(Ui),rt.ZG.appendMenuItem(rt.D8.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:oe.kg({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class ar{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,r=this._selection.startColumn,o=this._selection.endColumn;if((!this._isMovingLeft||r!==1)&&(this._isMovingLeft||o!==e.getLineMaxColumn(n)))if(this._isMovingLeft){const u=new Nt.Q(n,r-1,n,r),l=e.getValueInRange(u);t.addEditOperation(u,null),t.addEditOperation(new Nt.Q(n,o,n,o),l)}else{const u=new Nt.Q(n,o,n,o+1),l=e.getValueInRange(u);t.addEditOperation(u,null),t.addEditOperation(new Nt.Q(n,r,n,r),l)}}computeCursorState(e,t){return this._isMovingLeft?new Xn.L(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Xn.L(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class Hi extends O.ks{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const n=[],r=t.getSelections();for(let o of r)n.push(new ar(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}O.Fl(class extends Hi{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:oe.kg("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:Fe.R.writable})}}),O.Fl(class extends Hi{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:oe.kg("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:Fe.R.writable})}});var or=ct(6316),Yi=ct(572);class _t extends O.ks{constructor(){super({id:"editor.action.transposeLetters",label:oe.kg("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;const n=t.getModel(),r=[],o=t.getSelections();for(let u of o){if(!u.isEmpty())continue;const{startLineNumber:l,startColumn:A}=u,K=n.getLineMaxColumn(l);if(l===1&&(A===1||A===2&&K===2))continue;const le=A===K?u.getPosition():Yi.I.rightPosition(n,u.getPosition().lineNumber,u.getPosition().column),ue=Yi.I.leftPosition(n,le),we=Yi.I.leftPosition(n,ue),Qe=n.getValueInRange(Nt.Q.fromPositions(we,ue)),Me=n.getValueInRange(Nt.Q.fromPositions(ue,le)),nt=Nt.Q.fromPositions(we,le);r.push(new or.iu(nt,Me+Qe))}r.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop())}}O.Fl(_t);var Kt=ct(5893),tn=ct(3339),In=ct(3344),mn=ct(3338),wn=ct(8903),An=ct(7954);const fi=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let e;e=typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?crypto.getRandomValues.bind(crypto):function(r){for(let o=0;o<r.length;o++)r[o]=Math.floor(256*Math.random());return r};const t=new Uint8Array(16),n=[];for(let r=0;r<256;r++)n.push(r.toString(16).padStart(2,"0"));return function(){e(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128;let r=0,o="";return o+=n[t[r++]],o+=n[t[r++]],o+=n[t[r++]],o+=n[t[r++]],o+="-",o+=n[t[r++]],o+=n[t[r++]],o+="-",o+=n[t[r++]],o+=n[t[r++]],o+="-",o+=n[t[r++]],o+=n[t[r++]],o+="-",o+=n[t[r++]],o+=n[t[r++]],o+=n[t[r++]],o+=n[t[r++]],o+=n[t[r++]],o+=n[t[r++]],o}}();function qn(e){return{asString:async()=>e,asFile:()=>{},value:typeof e=="string"?e:void 0}}class oi{constructor(){this._entries=new Map}get size(){let e=0;for(let t of this._entries)e++;return e}has(e){return this._entries.has(this.toKey(e))}matches(e){const t=[...this._entries.keys()];return An.f.some(this,([n,r])=>r.asFile())&&t.push("files"),$i(Ai(e),t)}get(e){return this._entries.get(this.toKey(e))?.[0]}append(e,t){const n=this._entries.get(e);n?n.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*[Symbol.iterator](){for(let[e,t]of this._entries)for(let n of t)yield[e,n]}toKey(e){return Ai(e)}}function Ai(e){return e.toLowerCase()}function nr(e,t){return $i(Ai(e),t.map(Ai))}function $i(e,t){if(e==="*/*")return t.length>0;if(t.includes(e))return!0;const n=e.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!n)return!1;const[r,o,u]=n;return u==="*"&&t.some((l)=>l.startsWith(o+"/"))}const ji=Object.freeze({create:(e)=>mn.dM(e.map((t)=>t.toString())).join("\r\n"),split:(e)=>e.split("\r\n"),parse:(e)=>ji.split(e).filter((t)=>!t.startsWith("#"))});class di{static{this.sep="."}static{this.None=new di("@@none@@")}static{this.Empty=new di("")}constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+di.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(...e){return new di((this.value?[this.value,...e]:e).join(di.sep))}}var Qi=ct(3720),wr=ct(9587),ht=ct(7264),xt=ct(7167);xt.O.add("workbench.contributions.dragAndDrop",new class{});class se{static{this.INSTANCE=new se}constructor(){}static getInstance(){return se.INSTANCE}hasData(e){return e&&e===this.proto}getData(e){if(this.hasData(e))return this.data}}function Ae(e){const t=new oi;for(let n of e.items){const r=n.type;if(n.kind==="string"){const o=new Promise((u)=>n.getAsString(u));t.append(r,qn(o))}else if(n.kind==="file"){const o=n.getAsFile();o&&t.append(r,He(o))}}return t}function He(e){const t=e.path?ht.r.parse(e.path):void 0;return function(n,r,o){const u={id:fi(),name:n,uri:r,data:o};return{asString:async()=>"",asFile:()=>u,value:void 0}}(e.name,t,async()=>new Uint8Array(await e.arrayBuffer()))}const mt=Object.freeze(["CodeEditors","CodeFiles",wr.t.RESOURCES,wr.t.INTERNAL_URI_LIST]);function At(e,t=!1){const n=Ae(e),r=n.get(wr.t.INTERNAL_URI_LIST);if(r)n.replace(Qi.K.uriList,r);else if(t||!n.has(Qi.K.uriList)){const o=[];for(let u of e.items){const l=u.getAsFile();if(l){const A=l.path;try{A?o.push(ht.r.file(A).toString()):o.push(ht.r.parse(l.name,!0).toString())}catch{}}}o.length&&n.replace(Qi.K.uriList,qn(ji.create(o)))}for(let o of mt)n.delete(o);return n}var zt=ct(8769),Pt=ct(4364),Wt=ct(2230),Nn=ct(3072),bn=ct(2467),Jn=ct(6851),$e=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},tt=function(e,t){return function(n,r){t(n,r,e)}};class gt{async provideDocumentPasteEdits(e,t,n,r,o){const u=await this.getEdit(n,o);if(u)return{edits:[{insertText:u.insertText,title:u.title,kind:u.kind,handledMimeType:u.handledMimeType,yieldTo:u.yieldTo}],dispose(){}}}async provideDocumentDropEdits(e,t,n,r){const o=await this.getEdit(n,r);if(o)return{edits:[{insertText:o.insertText,title:o.title,kind:o.kind,handledMimeType:o.handledMimeType,yieldTo:o.yieldTo}],dispose(){}}}}class bt extends gt{constructor(){super(...arguments),this.kind=bt.kind,this.dropMimeTypes=[Qi.K.text],this.pasteMimeTypes=[Qi.K.text]}static{this.id="text"}static{this.kind=new di("text.plain")}async getEdit(e,t){const n=e.get(Qi.K.text);if(!n)return;if(e.has(Qi.K.uriList))return;const r=await n.asString();return{handledMimeType:Qi.K.text,title:oe.kg("text.label","Insert Plain Text"),insertText:r,kind:this.kind}}}class ke extends gt{constructor(){super(...arguments),this.kind=new di("uri.absolute"),this.dropMimeTypes=[Qi.K.uriList],this.pasteMimeTypes=[Qi.K.uriList]}async getEdit(e,t){const n=await Vt(e);if(!n.length||t.isCancellationRequested)return;let r=0;const o=n.map(({uri:l,originalText:A})=>l.scheme===Nn.ny.file?l.fsPath:(r++,A)).join(" ");let u;return u=r>0?n.length>1?oe.kg("defaultDropProvider.uriList.uris","Insert Uris"):oe.kg("defaultDropProvider.uriList.uri","Insert Uri"):n.length>1?oe.kg("defaultDropProvider.uriList.paths","Insert Paths"):oe.kg("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:Qi.K.uriList,insertText:o,title:u,kind:this.kind}}}let qt=class extends gt{constructor(e){super(),this._workspaceContextService=e,this.kind=new di("uri.relative"),this.dropMimeTypes=[Qi.K.uriList],this.pasteMimeTypes=[Qi.K.uriList]}async getEdit(e,t){const n=await Vt(e);if(!n.length||t.isCancellationRequested)return;const r=mn.Yc(n.map(({uri:o})=>{const u=this._workspaceContextService.getWorkspaceFolder(o);return u?bn.iZ(u.uri,o):void 0}));return r.length?{handledMimeType:Qi.K.uriList,insertText:r.join(" "),title:n.length>1?oe.kg("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):oe.kg("defaultDropProvider.uriList.relativePath","Insert Relative Path"),kind:this.kind}:void 0}};qt=$e([tt(0,Jn.VR)],qt);class Ot{constructor(){this.kind=new di("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:Qi.K.text}]}async provideDocumentPasteEdits(e,t,n,r,o){if(r.triggerKind!==Pt.FX.PasteAs&&!r.only?.contains(this.kind))return;const u=n.get("text/html"),l=await u?.asString();return l&&!o.isCancellationRequested?{dispose(){},edits:[{insertText:l,yieldTo:this._yieldTo,title:oe.kg("pasteHtmlLabel","Insert HTML"),kind:this.kind}]}:void 0}}async function Vt(e){const t=e.get(Qi.K.uriList);if(!t)return[];const n=await t.asString(),r=[];for(let o of ji.parse(n))try{r.push({uri:ht.r.parse(o),originalText:o})}catch{}return r}let Cn=class extends ft.jG{constructor(e,t){super(),this._register(e.documentDropEditProvider.register("*",new bt)),this._register(e.documentDropEditProvider.register("*",new ke)),this._register(e.documentDropEditProvider.register("*",new qt(t)))}};Cn=$e([tt(0,Wt.ILanguageFeaturesService),tt(1,Jn.VR)],Cn);let dn=class extends ft.jG{constructor(e,t){super(),this._register(e.documentPasteEditProvider.register("*",new bt)),this._register(e.documentPasteEditProvider.register("*",new ke)),this._register(e.documentPasteEditProvider.register("*",new qt(t))),this._register(e.documentPasteEditProvider.register("*",new Ot))}};dn=$e([tt(0,Wt.ILanguageFeaturesService),tt(1,Jn.VR)],dn);class St{constructor(){this.value="",this.pos=0}static{this._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13}}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const e=this.pos;let t,n=0,r=this.value.charCodeAt(e);if(t=St._table[r],typeof t=="number")return this.pos+=1,{type:t,pos:e,len:1};if(St.isDigitCharacter(r)){t=8;do n+=1,r=this.value.charCodeAt(e+n);while(St.isDigitCharacter(r));return this.pos+=n,{type:t,pos:e,len:n}}if(St.isVariableCharacter(r)){t=9;do r=this.value.charCodeAt(e+ ++n);while(St.isVariableCharacter(r)||St.isDigitCharacter(r));return this.pos+=n,{type:t,pos:e,len:n}}t=10;do n+=1,r=this.value.charCodeAt(e+n);while(!isNaN(r)&&St._table[r]===void 0&&!St.isDigitCharacter(r)&&!St.isVariableCharacter(r));return this.pos+=n,{type:t,pos:e,len:n}}}class Lt{constructor(){this._children=[]}appendChild(e){return e instanceof on&&this._children[this._children.length-1]instanceof on?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:n}=e,r=n.children.indexOf(e),o=n.children.slice(0);o.splice(r,1,...t),n._children=o,function u(l,A){for(let K of l)K.parent=A,u(K.children,K)}(t,n)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof Qn)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class on extends Lt{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new on(this.value)}}class ln extends Lt{}class Dn extends ln{static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}constructor(e){super(),this.index=e}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof vn?this._children[0]:void 0}clone(){const e=new Dn(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((t)=>t.clone()),e}}class vn extends Lt{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof on&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const e=new vn;return this.options.forEach(e.appendChild,e),e}}class $n extends Lt{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let n=!1,r=e.replace(this.regexp,function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some((o)=>o instanceof Un&&Boolean(o.elseValue))&&(r=this._replace([])),r}_replace(e){let t="";for(let n of this._children)if(n instanceof Un){let r=e[n.index]||"";r=n.resolve(r),t+=r}else t+=n.toString();return t}toString(){return""}clone(){const e=new $n;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((t)=>t.clone()),e}}class Un extends Lt{constructor(e,t,n,r){super(),this.index=e,this.shorthandName=t,this.ifValue=n,this.elseValue=r}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":Boolean(e)&&typeof this.ifValue=="string"?this.ifValue:Boolean(e)||typeof this.elseValue!="string"?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((n)=>n.charAt(0).toUpperCase()+n.substr(1)).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((n,r)=>r===0?n.charAt(0).toLowerCase()+n.substr(1):n.charAt(0).toUpperCase()+n.substr(1)).join(""):e}clone(){return new Un(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class Fn extends ln{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0&&(this._children=[new on(t)],!0)}clone(){const e=new Fn(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((t)=>t.clone()),e}}function fn(e,t){const n=[...e];for(;n.length>0;){const r=n.shift();if(!t(r))break;n.unshift(...r.children)}}class Qn extends Lt{get placeholderInfo(){if(!this._placeholders){const e=[];let t;this.walk(function(n){return n instanceof Dn&&(e.push(n),t=!t||t.index<n.index?n:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,n=!1;return this.walk((r)=>r===e?(n=!0,!1):(t+=r.len(),!0)),n?t:-1}fullLen(e){let t=0;return fn([e],(n)=>(t+=n.len(),!0)),t}enclosingPlaceholders(e){const t=[];let{parent:n}=e;for(;n;)n instanceof Dn&&t.push(n),n=n.parent;return t}resolveVariables(e){return this.walk((t)=>(t instanceof Fn&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){const e=new Qn;return this._children=this.children.map((t)=>t.clone()),e}walk(e){fn(this.children,e)}}class N{constructor(){this._scanner=new St,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,n){const r=new Qn;return this.parseFragment(e,r),this.ensureFinalTabstop(r,n??!1,t??!1),r}parseFragment(e,t){const n=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););const r=new Map,o=[];t.walk((A)=>(A instanceof Dn&&(A.isFinalTabstop?r.set(0,void 0):!r.has(A.index)&&A.children.length>0?r.set(A.index,A.children):o.push(A)),!0));const u=(A,K)=>{const le=r.get(A.index);if(!le)return;const ue=new Dn(A.index);ue.transform=A.transform;for(let we of le){const Qe=we.clone();ue.appendChild(Qe),Qe instanceof Dn&&r.has(Qe.index)&&!K.has(Qe.index)&&(K.add(Qe.index),u(Qe,K),K.delete(Qe.index))}t.replace(A,[ue])},l=new Set;for(let A of o)u(A,l);return t.children.slice(n)}ensureFinalTabstop(e,t,n){(t||n&&e.placeholders.length>0)&&(e.placeholders.find((r)=>r.index===0)||e.appendChild(new Dn(0)))}_accept(e,t){if(e===void 0||this._token.type===e){const n=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),n}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){const r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new on(t)),!0)}_parseTabstopOrVariableName(e){let t;const n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new Dn(Number(t)):new Fn(t)),!0):this._backTo(n)}_parseComplexPlaceholder(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);const r=new Dn(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new on("${"+t+":")),r.children.forEach(e.appendChild,e),!0}else{if(!(r.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(n);{const o=new vn;for(;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(o),this._accept(4)))return e.appendChild(r),!0}return this._backTo(n),!1}}}}_parseChoiceElement(e){const t=this._token,n=[];for(;this._token.type!==2&&this._token.type!==7;){let r;if(r=(r=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:this._accept(void 0,!0),!r)return this._backTo(t),!1;n.push(r)}return n.length===0?(this._backTo(t),!1):(e.appendChild(new on(n.join(""))),!0)}_parseComplexVariable(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);const r=new Fn(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(n);for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new on("${"+t+":")),r.children.forEach(e.appendChild,e),!0}}_parseTransform(e){const t=new $n;let n="",r="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0))o=this._accept(6,!0)||o,n+=o;else{if(this._token.type===14)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){let o;if(o=this._accept(5,!0))o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new on(o));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(this._token.type===14)return!1;r+=this._accept(void 0,!0)}try{t.regexp=new RegExp(n,r)}catch(o){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);const r=this._accept(8,!0);if(!r)return this._backTo(t),!1;if(!n)return e.appendChild(new Un(Number(r))),!0;if(this._accept(4))return e.appendChild(new Un(Number(r))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){const o=this._accept(9,!0);return o&&this._accept(4)?(e.appendChild(new Un(Number(r),o)),!0):(this._backTo(t),!1)}if(this._accept(11)){const o=this._until(4);if(o)return e.appendChild(new Un(Number(r),void 0,o,void 0)),!0}else if(this._accept(12)){const o=this._until(4);if(o)return e.appendChild(new Un(Number(r),void 0,void 0,o)),!0}else if(this._accept(13)){const o=this._until(1);if(o){const u=this._until(4);if(u)return e.appendChild(new Un(Number(r),void 0,o,u)),!0}}else{const o=this._until(4);if(o)return e.appendChild(new Un(Number(r),void 0,void 0,o)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14&&(e.appendChild(new on(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}function Z(e,t,n){return(typeof n.insertText=="string"?n.insertText==="":n.insertText.snippet==="")?{edits:n.additionalEdit?.edits??[]}:{edits:[...t.map((r)=>new zt.cw(e,{range:r,text:typeof n.insertText=="string"?N.escape(n.insertText)+"$0":n.insertText.snippet,insertAsSnippet:!0})),...n.additionalEdit?.edits??[]]}}function j(e){function t(u,l){return"mimeType"in u?u.mimeType===l.handledMimeType:!!l.kind&&u.kind.contains(l.kind)}const n=new Map;for(let u of e)for(let l of u.yieldTo??[])for(let A of e)if(A!==u&&t(l,A)){let K=n.get(u);K||(K=[],n.set(u,K)),K.push(A)}if(!n.size)return Array.from(e);const r=new Set,o=[];return function u(l){if(!l.length)return[];const A=l[0];if(o.includes(A))return console.warn("Yield to cycle detected",A),l;if(r.has(A))return u(l.slice(1));let K=[];const le=n.get(A);return le&&(o.push(A),K=u(le),o.pop()),r.add(A),[...K,A,...u(l.slice(1))]}(Array.from(e))}var _e=ct(2105),Ne=ct(6844),Oe=ct(8881),Ke=ct(2399);const wt=Hn.kI.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:Ne.S8,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class kt extends ft.jG{static{this.baseId="editor.widget.inlineProgressWidget"}constructor(e,t,n,r,o){super(),this.typeId=e,this.editor=t,this.range=n,this.delegate=o,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(r),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(e){this.domNode=ae.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=e;const t=ae.$("span.icon");this.domNode.append(t),t.classList.add(...Oe.L.asClassNameArray(be.W.loading),"codicon-modifier-spin");const n=()=>{const r=this.editor.getOption(67);this.domNode.style.height=`${r}px`,this.domNode.style.width=`${Math.ceil(0.8*r)}px`};n(),this._register(this.editor.onDidChangeConfiguration((r)=>{(r.hasChanged(52)||r.hasChanged(67))&&n()})),this._register(ae.ko(this.domNode,ae.Bx.CLICK,(r)=>{this.delegate.cancel()}))}getId(){return kt.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}let Et=class extends ft.jG{constructor(e,t,n){super(),this.id=e,this._editor=t,this._instantiationService=n,this._showDelay=500,this._showPromise=this._register(new ft.HE),this._currentWidget=this._register(new ft.HE),this._operationIdPool=0,this._currentDecorations=t.createDecorationsCollection()}dispose(){super.dispose(),this._currentDecorations.clear()}async showWhile(e,t,n,r,o){const u=this._operationIdPool++;this._currentOperation=u,this.clear(),this._showPromise.value=un.EQ(()=>{const l=Nt.Q.fromPositions(e);this._currentDecorations.set([{range:l,options:wt}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(kt,this.id,this._editor,l,t,r))},o??this._showDelay);try{return await n}finally{this._currentOperation===u&&(this.clear(),this._currentOperation=void 0)}}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};Et=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(2,Ke._Y)],Et);var st,Bt=ct(6930),Rt=ct(2106),en=ct(3550),hn=ct(4435),je=function(e,t){return function(n,r){t(n,r,e)}};let ze=class{static{st=this}static{this.ID="editor.contrib.messageController"}static{this.MESSAGE_VISIBLE=new ye.N1("messageVisible",!1,oe.kg("messageVisible","Whether the editor is currently showing an inline message"))}static get(e){return e.getContribution(st.ID)}constructor(e,t,n){this._openerService=n,this._messageWidget=new ft.HE,this._messageListeners=new ft.Cm,this._mouseOverMessage=!1,this._editor=e,this._visible=st.MESSAGE_VISIBLE.bindTo(t)}dispose(){this._message?.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let n;si.xE(ti.VS(e)?e.value:e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=ti.VS(e)?Bt.Gc(e,{actionHandler:{callback:(r)=>{this.closeMessage(),en.i(this._openerService,r,ti.VS(e)?e.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new Ce(this._editor,t,typeof e=="string"?e:this._message.element),this._messageListeners.add(Rt.Jh.debounce(this._editor.onDidBlurEditorText,(r,o)=>o,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&ae.QX(ae.bq(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(ae.ko(this._messageWidget.value.getDomNode(),ae.Bx.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(ae.ko(this._messageWidget.value.getDomNode(),ae.Bx.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0)),this._messageListeners.add(this._editor.onMouseMove((r)=>{r.target.position&&(n?n.containsPosition(r.target.position)||this.closeMessage():n=new Nt.Q(t.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Ce.fadeOut(this._messageWidget.value))}};ze=st=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([je(1,ye.fN),je(2,hn.C)],ze);const De=O.DX.bindToContribution(ze.get);O.E_(new De({id:"leaveEditorMessage",precondition:ze.MESSAGE_VISIBLE,handler:(e)=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class Ce{static fadeOut(e){const t=()=>{e.dispose(),clearTimeout(n),e.getDomNode().removeEventListener("animationend",t)},n=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}constructor(e,{lineNumber:t,column:n},r){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:n},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const u=document.createElement("div");typeof r=="string"?(u.classList.add("message"),u.textContent=r):(r.classList.add("message"),u.appendChild(r)),this._domNode.appendChild(u);const l=document.createElement("div");l.classList.add("anchor","below"),this._domNode.appendChild(l),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(e){this._domNode.classList.toggle("below",e===2)}}O.HW(ze.ID,ze,4);var ut=ct(957),Tt=ct(4023),Ht=ct(3027),sn=ct(1373),Vn=ct(7969),yn=ct(9359);function qi(e,t){return t&&(e.stack||e.stacktrace)?oe.kg("stackTrace.format","{0}: {1}",ur(e),ki(e.stack)||ki(e.stacktrace)):ur(e)}function ki(e){return Array.isArray(e)?e.join("\n"):e}function ur(e){return e.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${e.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof e.code=="string"&&typeof e.errno=="number"&&typeof e.syscall=="string"?oe.kg("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||oe.kg("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function Vr(e=null,t=!1){if(!e)return oe.kg("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){const n=mn.Yc(e),r=Vr(n[0],t);return n.length>1?oe.kg("error.moreErrors","{0} ({1} errors in total)",r,n.length):r}if(yn.Kg(e))return e;if(e.detail){const n=e.detail;if(n.error)return qi(n.error,t);if(n.exception)return qi(n.exception,t)}return e.stack?qi(e,t):e.message?e.message:oe.kg("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var Fo,ii=ct(4327),no=ct(2348),ui=ct(6071),Dr=ct(9879),Js=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},ks=function(e,t){return function(n,r){t(n,r,e)}};let Oo=class extends ft.jG{static{Fo=this}static{this.baseId="editor.widget.postEditWidget"}constructor(e,t,n,r,o,u,l,A,K,le){super(),this.typeId=e,this.editor=t,this.showCommand=r,this.range=o,this.edits=u,this.onSelectNewEdit=l,this._contextMenuService=A,this._keybindingService=le,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=n.bindTo(K),this.visibleContext.set(!0),this._register(ft.s(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register(ft.s(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition((ue)=>{o.containsPosition(ue.position)||this.dispose()})),this._register(Rt.Jh.runAndSubscribe(le.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){const e=this._keybindingService.lookupKeybinding(this.showCommand.id)?.getLabel();this.button.element.title=this.showCommand.label+(e?` (${e})`:"")}create(){this.domNode=ae.$(".post-edit-widget"),this.button=this._register(new sn.$(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(ae.ko(this.domNode,ae.Bx.CLICK,()=>this.showSelector()))}getId(){return Fo.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const e=ae.BK(this.button.element);return{x:e.left+e.width,y:e.top+e.height}},getActions:()=>this.edits.allEdits.map((e,t)=>Vn.ih({id:"",label:e.title,checked:t===this.edits.activeEditIndex,run:()=>{if(t!==this.edits.activeEditIndex)return this.onSelectNewEdit(t)}}))})}};Oo=Fo=Js([ks(7,no.Z),ks(8,ye.fN),ks(9,ui.b)],Oo);let Us=class extends ft.jG{constructor(e,t,n,r,o,u,l){super(),this._id=e,this._editor=t,this._visibleContext=n,this._showCommand=r,this._instantiationService=o,this._bulkEditService=u,this._notificationService=l,this._currentWidget=this._register(new ft.HE),this._register(Rt.Jh.any(t.onDidChangeModel,t.onDidChangeModelContent)(()=>this.clear()))}async applyEditAndShowIfNeeded(e,t,n,r,o){const u=this._editor.getModel();if(!u||!e.length)return;const l=t.allEdits.at(t.activeEditIndex);if(!l)return;const A=async(yt)=>{const It=this._editor.getModel();It&&(await It.undo(),this.applyEditAndShowIfNeeded(e,{activeEditIndex:yt,allEdits:t.allEdits},n,r,o))},K=(yt,It)=>{ii.MB(yt)||(this._notificationService.error(It),n&&this.show(e[0],t,A))};let le;try{le=await r(l,o)}catch(yt){return K(yt,oe.kg("resolveError","Error resolving edit '{0}':\n{1}",l.title,Vr(yt)))}if(o.isCancellationRequested)return;const ue=Z(u.uri,e,le),we=e[0],Qe=u.deltaDecorations([],[{range:we,options:{description:"paste-line-suffix",stickiness:0}}]);let Me,nt;this._editor.focus();try{Me=await this._bulkEditService.apply(ue,{editor:this._editor,token:o}),nt=u.getDecorationRange(Qe[0])}catch(yt){return K(yt,oe.kg("applyError","Error applying edit '{0}':\n{1}",l.title,Vr(yt)))}finally{u.deltaDecorations(Qe,[])}o.isCancellationRequested||n&&Me.isApplied&&t.allEdits.length>1&&this.show(nt??we,t,A)}show(e,t,n){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(Oo,this._id,this._editor,this._visibleContext,this._showCommand,e,t,n))}clear(){this._currentWidget.clear()}tryShowSelector(){this._currentWidget.value?.showSelector()}};Us=Js([ks(4,Ke._Y),ks(5,zt.nu),ks(6,Dr.Ot)],Us);var xo,go=function(e,t){return function(n,r){t(n,r,e)}};const _o="editor.changePasteType",xa=new ye.N1("pasteWidgetVisible",!1,oe.kg("pasteWidgetVisible","Whether the paste widget is showing")),fs="application/vnd.code.copyMetadata";let Qo=class extends ft.jG{static{xo=this}static{this.ID="editor.contrib.copyPasteActionController"}static get(e){return e.getContribution(xo.ID)}constructor(e,t,n,r,o,u,l){super(),this._bulkEditService=n,this._clipboardService=r,this._languageFeaturesService=o,this._quickInputService=u,this._progressService=l,this._editor=e;const A=e.getContainerDomNode();this._register(ae.ko(A,"copy",(K)=>this.handleCopy(K))),this._register(ae.ko(A,"cut",(K)=>this.handleCopy(K))),this._register(ae.ko(A,"paste",(K)=>this.handlePaste(K),!0)),this._pasteProgressManager=this._register(new Et("pasteIntoEditor",e,t)),this._postPasteWidgetManager=this._register(t.createInstance(Us,"pasteIntoEditor",e,xa,{id:_o,label:oe.kg("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(e){this._editor.focus();try{this._pasteAsActionContext={preferred:e},ae.a().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}clearWidgets(){this._postPasteWidgetManager.clear()}isPasteAsEnabled(){return this._editor.getOption(85).enabled}async finishedPaste(){await this._currentPasteOperation}handleCopy(e){if(!this._editor.hasTextFocus())return;if(this._clipboardService.clearInternalState?.(),!e.clipboardData||!this.isPasteAsEnabled())return;const t=this._editor.getModel(),n=this._editor.getSelections();if(!t||!n?.length)return;const r=this._editor.getOption(37);let o=n;const u=n.length===1&&n[0].isEmpty();if(u){if(!r)return;o=[new Nt.Q(o[0].startLineNumber,1,o[0].startLineNumber,1+t.getLineLength(o[0].startLineNumber))]}const l=this._editor._getViewModel()?.getPlainTextToCopy(n,r,tn.uF),A={multicursorText:Array.isArray(l)?l:null,pasteOnNewLine:u,mode:null},K=this._languageFeaturesService.documentPasteEditProvider.ordered(t).filter((Me)=>!!Me.prepareDocumentPaste);if(!K.length)return void this.setCopyMetadata(e.clipboardData,{defaultPastePayload:A});const le=Ae(e.clipboardData),ue=K.flatMap((Me)=>Me.copyMimeTypes??[]),we=fi();this.setCopyMetadata(e.clipboardData,{id:we,providerCopyMimeTypes:ue,defaultPastePayload:A});const Qe=un.SS(async(Me)=>{const nt=mn.Yc(await Promise.all(K.map(async(yt)=>{try{return await yt.prepareDocumentPaste(t,o,le,Me)}catch(It){return void console.error(It)}})));nt.reverse();for(let yt of nt)for(let[It,Dt]of yt)le.replace(It,Dt);return le});xo._currentCopyOperation?.dataTransferPromise.cancel(),xo._currentCopyOperation={handle:we,dataTransferPromise:Qe}}async handlePaste(e){if(!e.clipboardData||!this._editor.hasTextFocus())return;ze.get(this._editor)?.closeMessage(),this._currentPasteOperation?.cancel(),this._currentPasteOperation=void 0;const t=this._editor.getModel(),n=this._editor.getSelections();if(!n?.length||!t)return;if(this._editor.getOption(92)||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;const r=this.fetchCopyMetadata(e),o=At(e.clipboardData);o.delete(fs);const u=[...e.clipboardData.types,...r?.providerCopyMimeTypes??[],Qi.K.uriList],l=this._languageFeaturesService.documentPasteEditProvider.ordered(t).filter((A)=>{const K=this._pasteAsActionContext?.preferred;return!(K&&A.providedPasteEditKinds&&!this.providerMatchesPreference(A,K))&&A.pasteMimeTypes?.some((le)=>nr(le,u))});l.length?(e.preventDefault(),e.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferred,l,n,o,r):this.doPasteInline(l,n,o,r,e)):this._pasteAsActionContext?.preferred&&this.showPasteAsNoEditMessage(n,this._pasteAsActionContext.preferred)}showPasteAsNoEditMessage(e,t){ze.get(this._editor)?.showMessage(oe.kg("pasteAsError","No paste edits for '{0}' found",t instanceof di?t.value:t.providerId),e[0].getStartPosition())}doPasteInline(e,t,n,r,o){const u=this._editor;if(!u.hasModel())return;const l=new _e.gI(u,3,void 0),A=un.SS(async(K)=>{const le=this._editor;if(!le.hasModel())return;const ue=le.getModel(),we=new ft.Cm,Qe=we.add(new wn.Qi(K));we.add(l.token.onCancellationRequested(()=>Qe.cancel()));const Me=Qe.token;try{if(await this.mergeInDataFromCopy(n,r,Me),Me.isCancellationRequested)return;const nt=e.filter((Dt)=>this.isSupportedPasteProvider(Dt,n));if(!nt.length||nt.length===1&&nt[0]instanceof bt)return this.applyDefaultPasteHandler(n,r,Me,o);const yt={triggerKind:Pt.FX.Automatic},It=await this.getPasteEdits(nt,n,ue,t,yt,Me);if(we.add(It),Me.isCancellationRequested)return;if(It.edits.length===1&&It.edits[0].provider instanceof bt)return this.applyDefaultPasteHandler(n,r,Me,o);if(It.edits.length){const Dt=le.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(t,{activeEditIndex:0,allEdits:It.edits},Dt,(cn,Tn)=>new Promise((On,Kn)=>{(async()=>{try{const mi=cn.provider.resolveDocumentPasteEdit?.(cn,Tn),Bi=new un.Zv,Lr=mi&&await this._pasteProgressManager.showWhile(t[0].getEndPosition(),oe.kg("resolveProcess","Resolving paste edit. Click to cancel"),Promise.race([Bi.p,mi]),{cancel:()=>(Bi.cancel(),Kn(new ii.AL))},0);return Lr&&(cn.additionalEdit=Lr.additionalEdit),On(cn)}catch(mi){return Kn(mi)}})()}),Me)}await this.applyDefaultPasteHandler(n,r,Me,o)}finally{we.dispose(),this._currentPasteOperation===A&&(this._currentPasteOperation=void 0)}});this._pasteProgressManager.showWhile(t[0].getEndPosition(),oe.kg("pasteIntoEditorProgress","Running paste handlers. Click to cancel and do basic paste"),A,{cancel:async()=>{try{if(A.cancel(),l.token.isCancellationRequested)return;await this.applyDefaultPasteHandler(n,r,l.token,o)}finally{l.dispose()}}}).then(()=>{l.dispose()}),this._currentPasteOperation=A}showPasteAsPick(e,t,n,r,o){const u=un.SS(async(l)=>{const A=this._editor;if(!A.hasModel())return;const K=A.getModel(),le=new ft.Cm,ue=le.add(new _e.gI(A,3,void 0,l));try{if(await this.mergeInDataFromCopy(r,o,ue.token),ue.token.isCancellationRequested)return;let we=t.filter((It)=>this.isSupportedPasteProvider(It,r,e));e&&(we=we.filter((It)=>this.providerMatchesPreference(It,e)));const Qe={triggerKind:Pt.FX.PasteAs,only:e&&e instanceof di?e:void 0};let Me,nt=le.add(await this.getPasteEdits(we,r,K,n,Qe,ue.token));if(ue.token.isCancellationRequested)return;if(e&&(nt={edits:nt.edits.filter((It)=>e instanceof di?e.contains(It.kind):e.providerId===It.provider.id),dispose:nt.dispose}),!nt.edits.length)return void(Qe.only&&this.showPasteAsNoEditMessage(n,Qe.only));if(e)Me=nt.edits.at(0);else Me=(await this._quickInputService.pick(nt.edits.map((Dt)=>({label:Dt.title,description:Dt.kind?.value,edit:Dt})),{placeHolder:oe.kg("pasteAsPickerPlaceholder","Select Paste Action")}))?.edit;if(!Me)return;const yt=Z(K.uri,n,Me);await this._bulkEditService.apply(yt,{editor:this._editor})}finally{le.dispose(),this._currentPasteOperation===u&&(this._currentPasteOperation=void 0)}});this._progressService.withProgress({location:10,title:oe.kg("pasteAsProgress","Running paste handlers")},()=>u)}setCopyMetadata(e,t){e.setData(fs,JSON.stringify(t))}fetchCopyMetadata(e){if(!e.clipboardData)return;const t=e.clipboardData.getData(fs);if(t)try{return JSON.parse(t)}catch{return}const[n,r]=In.Mz.getTextData(e.clipboardData);return r?{defaultPastePayload:{mode:r.mode,multicursorText:r.multicursorText??null,pasteOnNewLine:!!r.isFromEmptySelection}}:void 0}async mergeInDataFromCopy(e,t,n){if(t?.id&&xo._currentCopyOperation?.handle===t.id){const r=await xo._currentCopyOperation.dataTransferPromise;if(n.isCancellationRequested)return;for(let[o,u]of r)e.replace(o,u)}if(!e.has(Qi.K.uriList)){const r=await this._clipboardService.readResources();if(n.isCancellationRequested)return;r.length&&e.append(Qi.K.uriList,qn(ji.create(r)))}}async getPasteEdits(e,t,n,r,o,u){const l=new ft.Cm,A=await un.PK(Promise.all(e.map(async(K)=>{try{const le=await K.provideDocumentPasteEdits?.(n,r,t,o,u);return le&&l.add(le),le?.edits?.map((ue)=>({...ue,provider:K}))}catch(le){return void(ii.MB(le)||console.error(le))}})),u);return{edits:j(mn.Yc(A??[]).flat().filter((K)=>!o.only||o.only.contains(K.kind))),dispose:()=>l.dispose()}}async applyDefaultPasteHandler(e,t,n,r){const o=e.get(Qi.K.text)??e.get("text"),u=await o?.asString()??"";if(n.isCancellationRequested)return;const l={clipboardEvent:r,text:u,pasteOnNewLine:t?.defaultPastePayload.pasteOnNewLine??!1,multicursorText:t?.defaultPastePayload.multicursorText??null,mode:null};this._editor.trigger("keyboard","paste",l)}isSupportedPasteProvider(e,t,n){return!!e.pasteMimeTypes?.some((r)=>t.matches(r))&&(!n||this.providerMatchesPreference(e,n))}providerMatchesPreference(e,t){return t instanceof di?!e.providedPasteEditKinds||e.providedPasteEditKinds.some((n)=>t.contains(n)):e.id===t.providerId}};Qo=xo=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([go(1,Ke._Y),go(2,zt.nu),go(3,ut.h),go(4,Wt.ILanguageFeaturesService),go(5,Ht.GK),go(6,Tt.G5)],Qo);const Co="9_cutcopypaste",ia=tn.ib||document.queryCommandSupported("cut"),et=tn.ib||document.queryCommandSupported("copy"),Xe=navigator.clipboard!==void 0&&!Kt.gm||document.queryCommandSupported("paste");function Yt(e){return e.register(),e}const Ut=ia?Yt(new O.fE({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:tn.ib?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:rt.D8.MenubarEditMenu,group:"2_ccp",title:oe.kg({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:rt.D8.EditorContext,group:Co,title:oe.kg("actions.clipboard.cutLabel","Cut"),when:Fe.R.writable,order:1},{menuId:rt.D8.CommandPalette,group:"",title:oe.kg("actions.clipboard.cutLabel","Cut"),order:1},{menuId:rt.D8.SimpleEditorContext,group:Co,title:oe.kg("actions.clipboard.cutLabel","Cut"),when:Fe.R.writable,order:1}]})):void 0,zn=et?Yt(new O.fE({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:tn.ib?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:rt.D8.MenubarEditMenu,group:"2_ccp",title:oe.kg({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:rt.D8.EditorContext,group:Co,title:oe.kg("actions.clipboard.copyLabel","Copy"),order:2},{menuId:rt.D8.CommandPalette,group:"",title:oe.kg("actions.clipboard.copyLabel","Copy"),order:1},{menuId:rt.D8.SimpleEditorContext,group:Co,title:oe.kg("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;rt.ZG.appendMenuItem(rt.D8.MenubarEditMenu,{submenu:rt.D8.MenubarCopy,title:oe.aS("copy as","Copy As"),group:"2_ccp",order:3}),rt.ZG.appendMenuItem(rt.D8.EditorContext,{submenu:rt.D8.EditorContextCopy,title:oe.aS("copy as","Copy As"),group:Co,order:3}),rt.ZG.appendMenuItem(rt.D8.EditorContext,{submenu:rt.D8.EditorContextShare,title:oe.aS("share","Share"),group:"11_share",order:-1,when:ye.M$.and(ye.M$.notEquals("resourceScheme","output"),Fe.R.editorTextFocus)}),rt.ZG.appendMenuItem(rt.D8.ExplorerContext,{submenu:rt.D8.ExplorerContextShare,title:oe.aS("share","Share"),group:"11_share",order:-1});const Wn=Xe?Yt(new O.fE({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:tn.ib?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:rt.D8.MenubarEditMenu,group:"2_ccp",title:oe.kg({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:rt.D8.EditorContext,group:Co,title:oe.kg("actions.clipboard.pasteLabel","Paste"),when:Fe.R.writable,order:4},{menuId:rt.D8.CommandPalette,group:"",title:oe.kg("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:rt.D8.SimpleEditorContext,group:Co,title:oe.kg("actions.clipboard.pasteLabel","Paste"),when:Fe.R.writable,order:4}]})):void 0;class ei extends O.ks{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:oe.kg("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:0,weight:100}})}run(e,t){t.hasModel()&&(!t.getOption(37)&&t.getSelection().isEmpty()||(In.Eq.forceCopyWithSyntaxHighlighting=!0,t.focus(),t.getContainerDomNode().ownerDocument.execCommand("copy"),In.Eq.forceCopyWithSyntaxHighlighting=!1))}}function Fi(e,t){e&&(e.addImplementation(1e4,"code-editor",(n,r)=>{const o=n.get(Ue.T).getFocusedCodeEditor();if(o&&o.hasTextFocus()){const u=o.getOption(37),l=o.getSelection();return l&&l.isEmpty()&&!u||o.getContainerDomNode().ownerDocument.execCommand(t),!0}return!1}),e.addImplementation(0,"generic-dom",(n,r)=>(ae.a().execCommand(t),!0)))}Fi(Ut,"cut"),Fi(zn,"copy"),Wn&&(Wn.addImplementation(1e4,"code-editor",(e,t)=>{const n=e.get(Ue.T),r=e.get(ut.h),o=n.getFocusedCodeEditor();return!(!o||!o.hasTextFocus())&&(o.getContainerDomNode().ownerDocument.execCommand("paste")?Qo.get(o)?.finishedPaste()??Promise.resolve():!tn.HZ||(async()=>{const u=await r.readText();if(u!==""){const l=In.bs.INSTANCE.get(u);let A=!1,K=null,le=null;l&&(A=o.getOption(37)&&!!l.isFromEmptySelection,K=l.multicursorText!==void 0?l.multicursorText:null,le=l.mode),o.trigger("keyboard","paste",{text:u,pasteOnNewLine:A,multicursorText:K,mode:le})}})())}),Wn.addImplementation(0,"generic-dom",(e,t)=>(ae.a().execCommand("paste"),!0))),et&&O.Fl(ei);var Ar=ct(5003),Di=ct(4830),xr=ct(6243);const Ri=new class{constructor(){this.QuickFix=new di("quickfix"),this.Refactor=new di("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new di("notebook"),this.Source=new di("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}};var Rr,zr;function Ts(e,t,n){return!(!t.contains(e)||n&&t.contains(n))}(zr=Rr||(Rr={})).Refactor="refactor",zr.RefactorPreview="refactor preview",zr.Lightbulb="lightbulb",zr.Default="other (default)",zr.SourceAction="source action",zr.QuickFix="quick fix action",zr.FixAll="fix all",zr.OrganizeImports="organize imports",zr.AutoFix="auto fix",zr.QuickFixHover="quick fix hover window",zr.OnSave="save participants",zr.ProblemsView="problems view";class lr{static fromUser(e,t){return e&&typeof e=="object"?new lr(lr.getKindFromUser(e,t.kind),lr.getApplyFromUser(e,t.apply),lr.getPreferredUser(e)):new lr(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new di(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"&&e.preferred}constructor(e,t,n){this.kind=e,this.apply=t,this.preferred=n}}class bo{constructor(e,t,n){this.action=e,this.provider=t,this.highlightRange=n}async resolve(e){if(this.provider?.resolveCodeAction&&!this.action.edit){let t;try{t=await this.provider.resolveCodeAction(this.action,e)}catch(n){ii.M_(n)}t&&(this.action.edit=t.edit)}return this}}const Jr="editor.action.codeAction",pr="editor.action.quickFix",Cr="editor.action.autoFix",zo="editor.action.refactor",Pr="editor.action.sourceAction",qr="editor.action.organizeImports",is="editor.action.fixAll";class Ho extends ft.jG{static codeActionsPreferredComparator(e,t){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:0}static codeActionsComparator({action:e},{action:t}){return e.isAI&&!t.isAI?1:!e.isAI&&t.isAI?-1:mn.EI(e.diagnostics)?mn.EI(t.diagnostics)?Ho.codeActionsPreferredComparator(e,t):-1:mn.EI(t.diagnostics)?1:Ho.codeActionsPreferredComparator(e,t)}constructor(e,t,n){super(),this.documentation=t,this._register(n),this.allActions=[...e].sort(Ho.codeActionsComparator),this.validActions=this.allActions.filter(({action:r})=>!r.disabled)}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&Ri.QuickFix.contains(new di(e.kind))&&!!e.isPreferred)}get hasAIFix(){return this.validActions.some(({action:e})=>!!e.isAI)}get allAIFixes(){return this.validActions.every(({action:e})=>!!e.isAI)}}const Zl={actions:[],documentation:void 0};async function Yo(e,t,n,r,o,u){const l=r.filter||{},A={...l,excludes:[...l.excludes||[],Ri.Notebook]},K={only:l.include?.value,trigger:r.type},le=new _e.ER(t,u),ue=r.type===2,we=function(yt,It,Dt){return yt.all(It).filter((cn)=>!cn.providedCodeActionKinds||cn.providedCodeActionKinds.some((Tn)=>function(On,Kn){return!(On.include&&!On.include.intersects(Kn)||On.excludes&&On.excludes.some((mi)=>Ts(Kn,mi,On.include))||!On.includeSourceActions&&Ri.Source.contains(Kn))}(Dt,new di(Tn))))}(e,t,ue?A:l),Qe=new ft.Cm,Me=we.map(async(yt)=>{try{o.report(yt);const It=await yt.provideCodeActions(t,n,K,le.token);if(It&&Qe.add(It),le.token.isCancellationRequested)return Zl;const Dt=(It?.actions||[]).filter((Tn)=>Tn&&function(On,Kn){const mi=Kn.kind?new di(Kn.kind):void 0;return!(!(!On.include||mi&&On.include.contains(mi))||On.excludes&&mi&&On.excludes.some((Bi)=>Ts(mi,Bi,On.include))||!On.includeSourceActions&&mi&&Ri.Source.contains(mi)||On.onlyIncludePreferredActions&&!Kn.isPreferred)}(l,Tn)),cn=function(Tn,On,Kn){if(!Tn.documentation)return;const mi=Tn.documentation.map((Bi)=>({kind:new di(Bi.kind),command:Bi.command}));if(Kn){let Bi;for(let Lr of mi)Lr.kind.contains(Kn)&&(Bi?Bi.kind.contains(Lr.kind)&&(Bi=Lr):Bi=Lr);if(Bi)return Bi?.command}for(let Bi of On)if(Bi.kind){for(let Lr of mi)if(Lr.kind.contains(new di(Bi.kind)))return Lr.command}}(yt,Dt,l.include);return{actions:Dt.map((Tn)=>new bo(Tn,yt)),documentation:cn}}catch(It){if(ii.MB(It))throw It;return ii.M_(It),Zl}}),nt=e.onDidChange(()=>{const yt=e.all(t);mn.aI(yt,we)||le.cancel()});try{const yt=await Promise.all(Me),It=yt.map((cn)=>cn.actions).flat(),Dt=[...mn.Yc(yt.map((cn)=>cn.documentation)),...Jd(e,t,r,It)];return new Ho(It,Dt,Qe)}finally{nt.dispose(),le.dispose()}}function*Jd(e,t,n,r){if(t&&r.length)for(let o of e.all(t))o._getAdditionalMenuItems&&(yield*o._getAdditionalMenuItems?.({trigger:n.type,only:n.filter?.include?.value},r.map((u)=>u.action)))}var jo,ra;async function nl(e,t,n,r,o=wn.XO.None){const u=e.get(zt.nu),l=e.get(En.d),A=e.get(xr.k),K=e.get(Dr.Ot);if(A.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred,reason:n}),await t.resolve(o),!o.isCancellationRequested){if(t.action.edit?.edits.length&&!(await u.apply(t.action.edit,{editor:r?.editor,label:t.action.title,quotableLabel:t.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:n!==jo.OnSave,showPreview:r?.preview})).isApplied)return;if(t.action.command)try{await l.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(le){const ue=function(we){return typeof we=="string"?we:we instanceof Error&&typeof we.message=="string"?we.message:void 0}(le);K.error(typeof ue=="string"?ue:oe.kg("applyCodeActionFailed","An unknown error occurred while applying the code action"))}}}(ra=jo||(jo={})).OnSave="onSave",ra.FromProblemsView="fromProblemsView",ra.FromCodeActions="fromCodeActions",ra.FromAILightbulb="fromAILightbulb",En.w.registerCommand("_executeCodeActionProvider",async function(e,t,n,r,o){if(!(t instanceof ht.r))throw ii.Qg();const{codeActionProvider:u}=e.get(Wt.ILanguageFeaturesService),l=e.get(Di.IModelService).getModel(t);if(!l)throw ii.Qg();const A=Xn.L.isISelection(n)?Xn.L.liftSelection(n):Nt.Q.isIRange(n)?l.validateRange(n):void 0;if(!A)throw ii.Qg();const K=typeof r=="string"?new di(r):void 0,le=await Yo(u,l,A,{type:1,triggerAction:Rr.Default,filter:{includeSourceActions:!0,include:K}},Tt.ke.None,wn.XO.None),ue=[],we=Math.min(le.validActions.length,typeof o=="number"?o:0);for(let Qe=0;Qe<we;Qe++)ue.push(le.validActions[Qe].resolve(wn.XO.None));try{return await Promise.all(ue),le.validActions.map((Qe)=>Qe.action)}finally{setTimeout(()=>le.dispose(),100)}});var il,fr=ct(3946);let rs=class{static{il=this}static{this.codeActionCommands=[zo,Jr,Pr,qr,is]}constructor(e){this.keybindingService=e}getResolver(){const e=new fr.d(()=>this.keybindingService.getKeybindings().filter((t)=>il.codeActionCommands.indexOf(t.command)>=0).filter((t)=>t.resolvedKeybinding).map((t)=>{let n=t.commandArgs;return t.command===qr?n={kind:Ri.SourceOrganizeImports.value}:t.command===is&&(n={kind:Ri.SourceFixAll.value}),{resolvedKeybinding:t.resolvedKeybinding,...lr.fromUser(n,{kind:di.None,apply:"never"})}}));return(t)=>{if(t.kind)return this.bestKeybindingForCodeAction(t,e.value)?.resolvedKeybinding}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const n=new di(e.kind);return t.filter((r)=>r.kind.contains(n)).filter((r)=>!r.preferred||e.isPreferred).reduceRight((r,o)=>r?r.kind.contains(o.kind)?o:r:o,void 0)}};rs=il=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(0,ui.b)],rs),Xt.x1A("symbolIcon.arrayForeground",Xt.CU6,oe.kg("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.booleanForeground",Xt.CU6,oe.kg("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},oe.kg("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.colorForeground",Xt.CU6,oe.kg("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.constantForeground",Xt.CU6,oe.kg("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},oe.kg("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},oe.kg("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},oe.kg("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},oe.kg("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},oe.kg("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.fileForeground",Xt.CU6,oe.kg("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.folderForeground",Xt.CU6,oe.kg("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},oe.kg("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},oe.kg("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.keyForeground",Xt.CU6,oe.kg("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.keywordForeground",Xt.CU6,oe.kg("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},oe.kg("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.moduleForeground",Xt.CU6,oe.kg("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.namespaceForeground",Xt.CU6,oe.kg("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.nullForeground",Xt.CU6,oe.kg("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.numberForeground",Xt.CU6,oe.kg("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.objectForeground",Xt.CU6,oe.kg("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.operatorForeground",Xt.CU6,oe.kg("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.packageForeground",Xt.CU6,oe.kg("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.propertyForeground",Xt.CU6,oe.kg("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.referenceForeground",Xt.CU6,oe.kg("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.snippetForeground",Xt.CU6,oe.kg("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.stringForeground",Xt.CU6,oe.kg("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.structForeground",Xt.CU6,oe.kg("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.textForeground",Xt.CU6,oe.kg("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.typeParameterForeground",Xt.CU6,oe.kg("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.unitForeground",Xt.CU6,oe.kg("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xt.x1A("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},oe.kg("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));const Ca=Object.freeze({kind:di.Empty,title:oe.kg("codeAction.widget.id.more","More Actions...")}),Wo=Object.freeze([{kind:Ri.QuickFix,title:oe.kg("codeAction.widget.id.quickfix","Quick Fix")},{kind:Ri.RefactorExtract,title:oe.kg("codeAction.widget.id.extract","Extract"),icon:be.W.wrench},{kind:Ri.RefactorInline,title:oe.kg("codeAction.widget.id.inline","Inline"),icon:be.W.wrench},{kind:Ri.RefactorRewrite,title:oe.kg("codeAction.widget.id.convert","Rewrite"),icon:be.W.wrench},{kind:Ri.RefactorMove,title:oe.kg("codeAction.widget.id.move","Move"),icon:be.W.wrench},{kind:Ri.SurroundWith,title:oe.kg("codeAction.widget.id.surround","Surround With"),icon:be.W.surroundWith},{kind:Ri.Source,title:oe.kg("codeAction.widget.id.source","Source Action"),icon:be.W.symbolFile},Ca]);var $o,Wr=ct(474),vo=ct(969),_r=ct(1210);const As=_r.pU("gutter-lightbulb",be.W.lightBulb,oe.kg("gutterLightbulbWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor.")),rl=_r.pU("gutter-lightbulb-auto-fix",be.W.lightbulbAutofix,oe.kg("gutterLightbulbAutoFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and a quick fix is available.")),Ea=_r.pU("gutter-lightbulb-sparkle",be.W.lightbulbSparkle,oe.kg("gutterLightbulbAIFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix is available.")),oa=_r.pU("gutter-lightbulb-aifix-auto-fix",be.W.lightbulbSparkleAutofix,oe.kg("gutterLightbulbAIFixAutoFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix and a quick fix is available.")),sa=_r.pU("gutter-lightbulb-sparkle-filled",be.W.sparkleFilled,oe.kg("gutterLightbulbSparkleFilledWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix and a quick fix is available."));var co,ol;(ol=co||(co={})).Hidden={type:0},ol.Showing=class{constructor(e,t,n,r){this.actions=e,this.trigger=t,this.editorPosition=n,this.widgetPosition=r,this.type=1}};let aa=class extends ft.jG{static{$o=this}static{this.GUTTER_DECORATION=Hn.kI.register({description:"codicon-gutter-lightbulb-decoration",glyphMarginClassName:Oe.L.asClassName(be.W.lightBulb),glyphMargin:{position:Ci.ZS.Left},stickiness:1})}static{this.ID="editor.contrib.lightbulbWidget"}static{this._posPref=[0]}constructor(e,t){super(),this._editor=e,this._keybindingService=t,this._onClick=this._register(new Rt.vl),this.onClick=this._onClick.event,this._state=co.Hidden,this._gutterState=co.Hidden,this._iconClasses=[],this.lightbulbClasses=["codicon-"+As.id,"codicon-"+oa.id,"codicon-"+rl.id,"codicon-"+Ea.id,"codicon-"+sa.id],this.gutterDecoration=$o.GUTTER_DECORATION,this._domNode=ae.$("div.lightBulbWidget"),this._domNode.role="listbox",this._register(Wr.q.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent((n)=>{const r=this._editor.getModel();(this.state.type!==1||!r||this.state.editorPosition.lineNumber>=r.getLineCount())&&this.hide(),(this.gutterState.type!==1||!r||this.gutterState.editorPosition.lineNumber>=r.getLineCount())&&this.gutterHide()})),this._register(ae.Xc(this._domNode,(n)=>{if(this.state.type!==1)return;this._editor.focus(),n.preventDefault();const{top:r,height:o}=ae.BK(this._domNode),u=this._editor.getOption(67);let l=Math.floor(u/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(l+=u),this._onClick.fire({x:n.posx,y:r+o+l,actions:this.state.actions,trigger:this.state.trigger})})),this._register(ae.ko(this._domNode,"mouseenter",(n)=>{1&~n.buttons||this.hide()})),this._register(Rt.Jh.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{this._preferredKbLabel=this._keybindingService.lookupKeybinding(Cr)?.getLabel()??void 0,this._quickFixKbLabel=this._keybindingService.lookupKeybinding(pr)?.getLabel()??void 0,this._updateLightBulbTitleAndIcon()})),this._register(this._editor.onMouseDown(async(n)=>{if(!n.target.element||!this.lightbulbClasses.some((A)=>n.target.element&&n.target.element.classList.contains(A)))return;if(this.gutterState.type!==1)return;this._editor.focus();const{top:r,height:o}=ae.BK(n.target.element),u=this._editor.getOption(67);let l=Math.floor(u/3);this.gutterState.widgetPosition.position!==null&&this.gutterState.widgetPosition.position.lineNumber<this.gutterState.editorPosition.lineNumber&&(l+=u),this._onClick.fire({x:n.event.posx,y:r+o+l,actions:this.gutterState.actions,trigger:this.gutterState.trigger})}))}dispose(){super.dispose(),this._editor.removeContentWidget(this),this._gutterDecorationID&&this._removeGutterDecoration(this._gutterDecorationID)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,n){if(e.validActions.length<=0)return this.gutterHide(),this.hide();if(!this._editor.hasTextFocus())return this.gutterHide(),this.hide();if(!this._editor.getOptions().get(65).enabled)return this.gutterHide(),this.hide();const r=this._editor.getModel();if(!r)return this.gutterHide(),this.hide();const{lineNumber:o,column:u}=r.validatePosition(n),l=r.getOptions().tabSize,A=this._editor.getOptions().get(50),K=r.getLineContent(o),le=vo.G(K,l),ue=A.spaceWidth*le>22,we=(Dt)=>Dt>2&&this._editor.getTopForLineNumber(Dt)===this._editor.getTopForLineNumber(Dt-1),Qe=this._editor.getLineDecorations(o);let Me=!1;if(Qe)for(let Dt of Qe){const cn=Dt.options.glyphMarginClassName;if(cn&&!this.lightbulbClasses.some((Tn)=>cn.includes(Tn))){Me=!0;break}}let nt=o,yt=1;if(!ue){const Dt=(cn)=>{const Tn=r.getLineContent(cn);return/^\s*$|^\s+/.test(Tn)||Tn.length<=yt};if(o>1&&!we(o-1)){const cn=o===r.getLineCount(),Tn=o>1&&Dt(o-1),On=!cn&&Dt(o+1),Kn=Dt(o),mi=!On&&!Tn;if(!(On||Tn||Me))return this.gutterState=new co.Showing(e,t,n,{position:{lineNumber:nt,column:yt},preference:$o._posPref}),this.renderGutterLightbub(),this.hide();Tn||cn||Tn&&!Kn?nt-=1:(On||mi&&Kn)&&(nt+=1)}else if(o!==1||o!==r.getLineCount()&&(Dt(o+1)||Dt(o))){if(o<r.getLineCount()&&!we(o+1))nt+=1;else if(u*A.spaceWidth<22)return this.hide()}else{if(this.gutterState=new co.Showing(e,t,n,{position:{lineNumber:nt,column:yt},preference:$o._posPref}),!Me)return this.renderGutterLightbub(),this.hide();this.gutterHide()}yt=/^\S\s*$/.test(r.getLineContent(nt))?2:1}this.state=new co.Showing(e,t,n,{position:{lineNumber:nt,column:yt},preference:$o._posPref}),this._gutterDecorationID&&(this._removeGutterDecoration(this._gutterDecorationID),this.gutterHide());const It=e.validActions;e.validActions[0].action.kind,It.length,this._editor.layoutContentWidget(this)}hide(){this.state!==co.Hidden&&(this.state=co.Hidden,this._editor.layoutContentWidget(this))}gutterHide(){this.gutterState!==co.Hidden&&(this._gutterDecorationID&&this._removeGutterDecoration(this._gutterDecorationID),this.gutterState=co.Hidden)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}get gutterState(){return this._gutterState}set gutterState(e){this._gutterState=e,this._updateGutterLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let e,t=!1;this.state.actions.allAIFixes?(e=be.W.sparkleFilled,this.state.actions.validActions.length===1&&(t=!0)):e=this.state.actions.hasAutoFix?this.state.actions.hasAIFix?be.W.lightbulbSparkleAutofix:be.W.lightbulbAutofix:this.state.actions.hasAIFix?be.W.lightbulbSparkle:be.W.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,t),this._iconClasses=Oe.L.asClassNameArray(e),this._domNode.classList.add(...this._iconClasses)}_updateGutterLightBulbTitleAndIcon(){if(this.gutterState.type!==1)return;let e,t=!1;this.gutterState.actions.allAIFixes?(e=sa,this.gutterState.actions.validActions.length===1&&(t=!0)):e=this.gutterState.actions.hasAutoFix?this.gutterState.actions.hasAIFix?oa:rl:this.gutterState.actions.hasAIFix?Ea:As,this._updateLightbulbTitle(this.gutterState.actions.hasAutoFix,t);const n=Hn.kI.register({description:"codicon-gutter-lightbulb-decoration",glyphMarginClassName:Oe.L.asClassName(e),glyphMargin:{position:Ci.ZS.Left},stickiness:1});this.gutterDecoration=n}renderGutterLightbub(){const e=this._editor.getSelection();e&&(this._gutterDecorationID===void 0?this._addGutterDecoration(e.startLineNumber):this._updateGutterDecoration(this._gutterDecorationID,e.startLineNumber))}_addGutterDecoration(e){this._editor.changeDecorations((t)=>{this._gutterDecorationID=t.addDecoration(new Nt.Q(e,0,e,0),this.gutterDecoration)})}_removeGutterDecoration(e){this._editor.changeDecorations((t)=>{t.removeDecoration(e),this._gutterDecorationID=void 0})}_updateGutterDecoration(e,t){this._editor.changeDecorations((n)=>{n.changeDecoration(e,new Nt.Q(t,0,t,0)),n.changeDecorationOptions(e,this.gutterDecoration)})}_updateLightbulbTitle(e,t){this.state.type===1&&(t?this.title=oe.kg("codeActionAutoRun","Run: {0}",this.state.actions.validActions[0].action.title):e&&this._preferredKbLabel?this.title=oe.kg("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):!e&&this._quickFixKbLabel?this.title=oe.kg("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):e||(this.title=oe.kg("codeAction","Show Code Actions")))}set title(e){this._domNode.title=e}};aa=$o=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(1,ui.b)],aa);var Ns=ct(7439),Yr=ct(5095),Is=ct(5573),ms=ct(5654),uo=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},Bs=function(e,t){return function(n,r){t(n,r,e)}};const sl="acceptSelectedCodeAction",Ja="previewSelectedCodeAction";class ka{get templateId(){return"header"}renderTemplate(e){e.classList.add("group-header");const t=document.createElement("span");return e.append(t),{container:e,text:t}}renderElement(e,t,n){n.text.textContent=e.group?.title??""}disposeTemplate(e){}}let io=class{get templateId(){return"action"}constructor(e,t){this._supportsPreview=e,this._keybindingService=t}renderTemplate(e){e.classList.add(this.templateId);const t=document.createElement("div");t.className="icon",e.append(t);const n=document.createElement("span");return n.className="title",e.append(n),{container:e,icon:t,text:n,keybinding:new Yr.x(e,tn.OS)}}renderElement(e,t,n){if(e.group?.icon?(n.icon.className=Oe.L.asClassName(e.group.icon),e.group.icon.color&&(n.icon.style.color=Xt.GuP(e.group.icon.color.id))):(n.icon.className=Oe.L.asClassName(be.W.lightBulb),n.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!e.item||!e.label)return;n.text.textContent=Vs(e.label),n.keybinding.set(e.keybinding),ae.bo(!!e.keybinding,n.keybinding.element);const r=this._keybindingService.lookupKeybinding(sl)?.getLabel(),o=this._keybindingService.lookupKeybinding(Ja)?.getLabel();n.container.classList.toggle("option-disabled",e.disabled),e.disabled?n.container.title=e.label:r&&o?this._supportsPreview&&e.canPreview?n.container.title=oe.kg({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to Apply, Shift+F2 to Preview"']},"{0} to Apply, {1} to Preview",r,o):n.container.title=oe.kg({key:"label",comment:['placeholder is a keybinding, e.g "F2 to Apply"']},"{0} to Apply",r):n.container.title=""}disposeTemplate(e){e.keybinding.dispose()}};io=uo([Bs(1,ui.b)],io);class Ta extends UIEvent{constructor(){super("acceptSelectedAction")}}class Rs extends UIEvent{constructor(){super("previewSelectedAction")}}function al(e){if(e.kind==="action")return e.label}let ll=class extends ft.jG{constructor(e,t,n,r,o,u){super(),this._delegate=r,this._contextViewService=o,this._keybindingService=u,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new wn.Qi),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const l={getHeight:(A)=>A.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:(A)=>A.kind};this._list=this._register(new Is.B8(e,this.domNode,l,[new io(t,this._keybindingService),new ka],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:al},accessibilityProvider:{getAriaLabel:(A)=>{if(A.kind==="action"){let K=A.label?Vs(A?.label):"";return A.disabled&&(K=oe.kg({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",K,A.disabled)),K}return null},getWidgetAriaLabel:()=>oe.kg({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:(A)=>A.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(ms.IN),this._register(this._list.onMouseClick((A)=>this.onListClick(A))),this._register(this._list.onMouseOver((A)=>this.onListHover(A))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection((A)=>this.onListSelection(A))),this._allMenuItems=n,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(e){return!e.disabled&&e.kind==="action"}hide(e){this._delegate.onHide(e),this.cts.cancel(),this._contextViewService.hideContextView()}layout(e){const t=this._allMenuItems.filter((u)=>u.kind==="header").length,n=this._allMenuItems.length*this._actionLineHeight+t*this._headerLineHeight-t*this._actionLineHeight;this._list.layout(n);let r=e;if(this._allMenuItems.length>=50)r=380;else{const u=this._allMenuItems.map((l,A)=>{const K=this.domNode.ownerDocument.getElementById(this._list.getElementID(A));if(K){K.style.width="auto";const le=K.getBoundingClientRect().width;return K.style.width="",le}return 0});r=Math.max(...u,e)}const o=Math.min(n,0.7*this.domNode.ownerDocument.body.clientHeight);return this._list.layout(o,r),this.domNode.style.height=`${o}px`,this._list.domFocus(),r}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(e){const t=this._list.getFocus();if(t.length===0)return;const n=t[0],r=this._list.element(n);if(!this.focusCondition(r))return;const o=e?new Rs:new Ta;this._list.setSelection([n],o)}onListSelection(e){if(!e.elements.length)return;const t=e.elements[0];t.item&&this.focusCondition(t)?this._delegate.onSelect(t.item,e.browserEvent instanceof Rs):this._list.setSelection([])}onFocus(){const e=this._list.getFocus();if(e.length===0)return;const t=e[0],n=this._list.element(t);this._delegate.onFocus?.(n.item)}async onListHover(e){const t=e.element;if(t&&t.item&&this.focusCondition(t)){if(this._delegate.onHover&&!t.disabled&&t.kind==="action"){const n=await this._delegate.onHover(t.item,this.cts.token);t.canPreview=n?n.canPreview:void 0}e.index&&this._list.splice(e.index,1,[t])}this._list.setFocus(typeof e.index=="number"?[e.index]:[])}onListClick(e){e.element&&this.focusCondition(e.element)&&this._list.setFocus([])}};function Vs(e){return e.replace(/\r\n|\r|\n/g," ")}ll=uo([Bs(4,no.l),Bs(5,ui.b)],ll);var ho=ct(6726),la=function(e,t){return function(n,r){t(n,r,e)}};Xt.x1A("actionBar.toggledBackground",Xt.c1f,oe.kg("actionBar.toggledBackground","Background color for toggled action items in action bar."));const os={Visible:new ye.N1("codeActionMenuVisible",!1,oe.kg("codeActionMenuVisible","Whether the action widget list is visible"))},yo=Ke.u1("actionWidgetService");let gs=class extends ft.jG{get isVisible(){return os.Visible.getValue(this._contextKeyService)||!1}constructor(e,t,n){super(),this._contextViewService=e,this._contextKeyService=t,this._instantiationService=n,this._list=this._register(new ft.HE)}show(e,t,n,r,o,u,l){const A=os.Visible.bindTo(this._contextKeyService),K=this._instantiationService.createInstance(ll,e,t,n,r);this._contextViewService.showContextView({getAnchor:()=>o,render:(le)=>(A.set(!0),this._renderWidget(le,K,l??[])),onHide:(le)=>{A.reset(),this._onWidgetClosed(le)}},u,!1)}acceptSelected(e){this._list.value?.acceptSelected(e)}focusPrevious(){this._list?.value?.focusPrevious()}focusNext(){this._list?.value?.focusNext()}hide(e){this._list.value?.hide(e),this._list.clear()}_renderWidget(e,t,n){const r=document.createElement("div");if(r.classList.add("action-widget"),e.appendChild(r),this._list.value=t,!this._list.value)throw new Error("List has no value");r.appendChild(this._list.value.domNode);const o=new ft.Cm,u=document.createElement("div"),l=e.appendChild(u);l.classList.add("context-view-block"),o.add(ae.ko(l,ae.Bx.MOUSE_DOWN,(Qe)=>Qe.stopPropagation()));const A=document.createElement("div"),K=e.appendChild(A);K.classList.add("context-view-pointerBlock"),o.add(ae.ko(K,ae.Bx.POINTER_MOVE,()=>K.remove())),o.add(ae.ko(K,ae.Bx.MOUSE_DOWN,()=>K.remove()));let le=0;if(n.length){const Qe=this._createActionBar(".action-widget-action-bar",n);Qe&&(r.appendChild(Qe.getContainer().parentElement),o.add(Qe),le=Qe.getContainer().offsetWidth)}const ue=this._list.value?.layout(le);r.style.width=`${ue}px`;const we=o.add(ae.w5(e));return o.add(we.onDidBlur(()=>this.hide(!0))),o}_createActionBar(e,t){if(!t.length)return;const n=ae.$(e),r=new Ns.E(n);return r.push(t,{icon:!1,label:!0}),r}_onWidgetClosed(e){this._list.value?.hide(e)}};gs=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([la(0,no.l),la(1,ye.fN),la(2,Ke._Y)],gs),ho.v(yo,gs,1);const Aa=1100;rt.ug(class extends rt.L{constructor(){super({id:"hideCodeActionWidget",title:oe.aS("hideCodeActionWidget.title","Hide action widget"),precondition:os.Visible,keybinding:{weight:Aa,primary:9,secondary:[1033]}})}run(e){e.get(yo).hide(!0)}}),rt.ug(class extends rt.L{constructor(){super({id:"selectPrevCodeAction",title:oe.aS("selectPrevCodeAction.title","Select previous action"),precondition:os.Visible,keybinding:{weight:Aa,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(e){const t=e.get(yo);t instanceof gs&&t.focusPrevious()}}),rt.ug(class extends rt.L{constructor(){super({id:"selectNextCodeAction",title:oe.aS("selectNextCodeAction.title","Select next action"),precondition:os.Visible,keybinding:{weight:Aa,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(e){const t=e.get(yo);t instanceof gs&&t.focusNext()}}),rt.ug(class extends rt.L{constructor(){super({id:sl,title:oe.aS("acceptSelected.title","Accept selected action"),precondition:os.Visible,keybinding:{weight:Aa,primary:3,secondary:[2137]}})}run(e){const t=e.get(yo);t instanceof gs&&t.acceptSelected()}}),rt.ug(class extends rt.L{constructor(){super({id:Ja,title:oe.aS("previewSelected.title","Preview selected action"),precondition:os.Visible,keybinding:{weight:Aa,primary:2051}})}run(e){const t=e.get(yo);t instanceof gs&&t.acceptSelected(!0)}});var kr=ct(7619),ss=ct(9563),Qr=ct(6476),Kr=ct(3013);const Gs=new ye.N1("supportedCodeAction",""),Ul="_typescript.applyFixAllCodeAction";class cl extends ft.jG{constructor(e,t,n,r=250){super(),this._editor=e,this._markerService=t,this._signalChange=n,this._delay=r,this._autoTriggerTimer=this._register(new un.pc),this._register(this._markerService.onMarkerChanged((o)=>this._onMarkerChanges(o))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);this._signalChange(t?{trigger:e,selection:t}:void 0)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some((n)=>bn.n4(n,t.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:Rr.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getSelection();if(e.type===1)return t;const n=this._editor.getOption(65).enabled;if(n!==Qr.jT.Off){if(n===Qr.jT.On)return t;if(n===Qr.jT.OnCode){if(!t.isEmpty())return t;const r=this._editor.getModel(),{lineNumber:o,column:u}=t.getPosition(),l=r.getLineContent(o);if(l.length===0)return;if(u===1){if(/\s/.test(l[0]))return}else if(u===r.getLineMaxColumn(o)){if(/\s/.test(l[l.length-1]))return}else if(/\s/.test(l[u-2])&&/\s/.test(l[u-1]))return}return t}}}var Ls,dl;(dl=Ls||(Ls={})).Empty={type:0},dl.Triggered=class{constructor(e,t,n){this.trigger=e,this.position=t,this._cancellablePromise=n,this.type=1,this.actions=n.catch((r)=>{if(ii.MB(r))return Na;throw r})}cancel(){this._cancellablePromise.cancel()}};const Na=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class Ds extends ft.jG{constructor(e,t,n,r,o,u,l){super(),this._editor=e,this._registry=t,this._markerService=n,this._progressService=o,this._configurationService=u,this._telemetryService=l,this._codeActionOracle=this._register(new ft.HE),this._state=Ls.Empty,this._onDidChangeState=this._register(new Rt.vl),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=Gs.bindTo(r),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration((A)=>{A.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(Ls.Empty,!0))}_settingEnabledNearbyQuickfixes(){const e=this._editor?.getModel();return!!this._configurationService&&this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:e?.uri})}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(Ls.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(92)){const t=this._registry.all(e).flatMap((n)=>n.providedCodeActionKinds??[]);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new cl(this._editor,this._markerService,(n)=>{if(!n)return void this.setState(Ls.Empty);const r=n.selection.getStartPosition(),o=un.SS(async(A)=>{if(this._settingEnabledNearbyQuickfixes()&&n.trigger.type===1&&(n.trigger.triggerAction===Rr.QuickFix||n.trigger.filter?.include?.contains(Ri.QuickFix))){const K=await Yo(this._registry,e,n.selection,n.trigger,Tt.ke.None,A),le=[...K.allActions];if(A.isCancellationRequested)return Na;const ue=K.validActions?.some((Qe)=>!!Qe.action.kind&&Ri.QuickFix.contains(new di(Qe.action.kind))),we=this._markerService.read({resource:e.uri});if(ue){for(let Qe of K.validActions)Qe.action.command?.arguments?.some((Me)=>typeof Me=="string"&&Me.includes(Ul))&&(Qe.action.diagnostics=[...we.filter((Me)=>Me.relatedInformation)]);return{validActions:K.validActions,allActions:le,documentation:K.documentation,hasAutoFix:K.hasAutoFix,hasAIFix:K.hasAIFix,allAIFixes:K.allAIFixes,dispose:()=>{K.dispose()}}}if(!ue&&we.length>0){const Qe=n.selection.getPosition();let Me=Qe,nt=Number.MAX_VALUE;const yt=[...K.validActions];for(let Dt of we){const{endColumn:cn,endLineNumber:Tn,startLineNumber:On}=Dt;if(Tn===Qe.lineNumber||On===Qe.lineNumber){Me=new Yn.y(Tn,cn);const Kn={type:n.trigger.type,triggerAction:n.trigger.triggerAction,filter:{include:n.trigger.filter?.include?n.trigger.filter?.include:Ri.QuickFix},autoApply:n.trigger.autoApply,context:{notAvailableMessage:n.trigger.context?.notAvailableMessage||"",position:Me}},mi=new Xn.L(Me.lineNumber,Me.column,Me.lineNumber,Me.column),Bi=await Yo(this._registry,e,mi,Kn,Tt.ke.None,A);if(Bi.validActions.length!==0){for(let Lr of Bi.validActions)Lr.action.command?.arguments?.some((so)=>typeof so=="string"&&so.includes(Ul))&&(Lr.action.diagnostics=[...we.filter((so)=>so.relatedInformation)]);K.allActions.length===0&&le.push(...Bi.allActions),Math.abs(Qe.column-cn)<nt?yt.unshift(...Bi.validActions):yt.push(...Bi.validActions)}nt=Math.abs(Qe.column-cn)}}const It=yt.filter((Dt,cn,Tn)=>Tn.findIndex((On)=>On.action.title===Dt.action.title)===cn);return It.sort((Dt,cn)=>Dt.action.isPreferred&&!cn.action.isPreferred?-1:!Dt.action.isPreferred&&cn.action.isPreferred||Dt.action.isAI&&!cn.action.isAI?1:!Dt.action.isAI&&cn.action.isAI?-1:0),{validActions:It,allActions:le,documentation:K.documentation,hasAutoFix:K.hasAutoFix,hasAIFix:K.hasAIFix,allAIFixes:K.allAIFixes,dispose:()=>{K.dispose()}}}}if(n.trigger.type===1){const K=new Kr.W,le=await Yo(this._registry,e,n.selection,n.trigger,Tt.ke.None,A);return this._telemetryService&&this._telemetryService.publicLog2("codeAction.invokedDurations",{codeActions:le.validActions.length,duration:K.elapsed()}),le}return Yo(this._registry,e,n.selection,n.trigger,Tt.ke.None,A)});n.trigger.type===1&&this._progressService?.showWhile(o,250);const u=new Ls.Triggered(n.trigger,r,o);let l=!1;this._state.type===1&&(l=this._state.trigger.type===1&&u.type===1&&u.trigger.type===2&&this._state.position!==u.position),l?setTimeout(()=>{this.setState(u)},500):this.setState(u)},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:Rr.Default})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value?.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,t||this._disposed||this._onDidChangeState.fire(e))}}var _s,lo=function(e,t){return function(n,r){t(n,r,e)}};let qo=class extends ft.jG{static{_s=this}static{this.ID="editor.contrib.codeActionController"}static get(e){return e.getContribution(_s.ID)}constructor(e,t,n,r,o,u,l,A,K,le,ue){super(),this._commandService=l,this._configurationService=A,this._actionWidgetService=K,this._instantiationService=le,this._telemetryService=ue,this._activeCodeActions=this._register(new ft.HE),this._showDisabled=!1,this._disposed=!1,this._editor=e,this._model=this._register(new Ds(this._editor,o.codeActionProvider,t,n,u,A,this._telemetryService)),this._register(this._model.onDidChangeState((we)=>this.update(we))),this._lightBulbWidget=new fr.d(()=>{const we=this._editor.getContribution(aa.ID);return we&&this._register(we.onClick((Qe)=>this.showCodeActionsFromLightbulb(Qe.actions,Qe))),we}),this._resolver=r.createInstance(rs),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}async showCodeActionsFromLightbulb(e,t){if(e.allAIFixes&&e.validActions.length===1){const n=e.validActions[0],r=n.action.command;return r&&r.id==="inlineChat.start"&&r.arguments&&r.arguments.length>=1&&(r.arguments[0]={...r.arguments[0],autoSend:!1}),void await this._applyCodeAction(n,!1,!1,jo.FromAILightbulb)}await this.showCodeActionList(e,t,{includeDisabledActions:!1,fromLightbulb:!0})}showCodeActions(e,t,n){return this.showCodeActionList(t,n,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,n,r){if(!this._editor.hasModel())return;ze.get(this._editor)?.closeMessage();const o=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:n,autoApply:r,context:{notAvailableMessage:e,position:o}})}_trigger(e){return this._model.trigger(e)}async _applyCodeAction(e,t,n,r){try{await this._instantiationService.invokeFunction(nl,e,r,{preview:n,editor:this._editor})}finally{t&&this._trigger({type:2,triggerAction:Rr.QuickFix,filter:{}})}}hideLightBulbWidget(){this._lightBulbWidget.rawValue?.hide(),this._lightBulbWidget.rawValue?.gutterHide()}async update(e){if(e.type!==1)return void this.hideLightBulbWidget();let t;try{t=await e.actions}catch(r){return void ii.dz(r)}if(this._disposed)return;if(this._editor.getSelection()?.startLineNumber===e.position.lineNumber)if(this._lightBulbWidget.value?.update(t,e.trigger,e.position),e.trigger.type===1){if(e.trigger.filter?.include){const o=this.tryGetValidActionToApply(e.trigger,t);if(o){try{this.hideLightBulbWidget(),await this._applyCodeAction(o,!1,!1,jo.FromCodeActions)}finally{t.dispose()}return}if(e.trigger.context){const u=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,t);if(u&&u.action.disabled)return ze.get(this._editor)?.showMessage(u.action.disabled,e.trigger.context.position),void t.dispose()}}const r=!!e.trigger.filter?.include;if(e.trigger.context&&(!t.allActions.length||!r&&!t.validActions.length))return ze.get(this._editor)?.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=t,void t.dispose();this._activeCodeActions.value=t,this.showCodeActionList(t,this.toCoords(e.position),{includeDisabledActions:r,fromLightbulb:!1})}else this._actionWidgetService.isVisible?t.dispose():this._activeCodeActions.value=t}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length)return e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1?t.allActions.find(({action:n})=>n.disabled):void 0}tryGetValidActionToApply(e,t){if(t.validActions.length)return e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1?t.validActions[0]:void 0}static{this.DECORATION=Hn.kI.register({description:"quickfix-highlight",className:"quickfix-edit-highlight"})}async showCodeActionList(e,t,n){const r=this._editor.createDecorationsCollection(),o=this._editor.getDomNode();if(!o)return;const u=n.includeDisabledActions&&(this._showDisabled||e.validActions.length===0)?e.allActions:e.validActions;if(!u.length)return;const l=Yn.y.isIPosition(t)?this.toCoords(t):t,A={onSelect:async(K,le)=>{this._applyCodeAction(K,!0,!!le,n.fromLightbulb?jo.FromAILightbulb:jo.FromCodeActions),this._actionWidgetService.hide(!1),r.clear()},onHide:(K)=>{this._editor?.focus(),r.clear()},onHover:async(K,le)=>{if(le.isCancellationRequested)return;let ue=!1;const we=K.action.kind;if(we){const Qe=new di(we);ue=[Ri.RefactorExtract,Ri.RefactorInline,Ri.RefactorRewrite,Ri.RefactorMove,Ri.Source].some((Me)=>Me.contains(Qe))}return{canPreview:ue||!!K.action.edit?.edits.length}},onFocus:(K)=>{if(K&&K.action){const le=K.action.ranges,ue=K.action.diagnostics;if(r.clear(),le&&le.length>0){const we=ue&&ue?.length>1?ue.map((Qe)=>({range:Qe,options:_s.DECORATION})):le.map((Qe)=>({range:Qe,options:_s.DECORATION}));r.set(we)}else if(ue&&ue.length>0){const we=ue.map((Me)=>({range:Me,options:_s.DECORATION}));r.set(we);const Qe=ue[0];if(Qe.startLineNumber&&Qe.startColumn){const Me=this._editor.getModel()?.getWordAtPosition({lineNumber:Qe.startLineNumber,column:Qe.startColumn})?.word;si.h5(oe.kg("editingNewSelection","Context: {0} at line {1} and column {2}.",Me,Qe.startLineNumber,Qe.startColumn))}}}else r.clear()}};this._actionWidgetService.show("codeActionWidget",!0,function(K,le,ue){if(!le)return K.map((Me)=>({kind:"action",item:Me,group:Ca,disabled:!!Me.action.disabled,label:Me.action.disabled||Me.action.title,canPreview:!!Me.action.edit?.edits.length}));const we=Wo.map((Me)=>({group:Me,actions:[]}));for(let Me of K){const nt=Me.action.kind?new di(Me.action.kind):di.None;for(let yt of we)if(yt.group.kind.contains(nt)){yt.actions.push(Me);break}}const Qe=[];for(let Me of we)if(Me.actions.length){Qe.push({kind:"header",group:Me.group});for(let nt of Me.actions){const yt=Me.group;Qe.push({kind:"action",item:nt,group:nt.action.isAI?{title:yt.title,kind:yt.kind,icon:be.W.sparkle}:yt,label:nt.action.title,disabled:!!nt.action.disabled,keybinding:ue(nt.action)})}}return Qe}(u,this._shouldShowHeaders(),this._resolver.getResolver()),A,l,o,this._getActionBarActions(e,t,n))}toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),n=ae.BK(this._editor.getDomNode());return{x:n.left+t.left,y:n.top+t.top+t.height}}_shouldShowHeaders(){const e=this._editor?.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:e?.uri})}_getActionBarActions(e,t,n){if(n.fromLightbulb)return[];const r=e.documentation.map((o)=>({id:o.id,label:o.title,tooltip:o.tooltip??"",class:void 0,enabled:!0,run:()=>this._commandService.executeCommand(o.id,...o.arguments??[])}));return n.includeDisabledActions&&e.validActions.length>0&&e.allActions.length!==e.validActions.length&&r.push(this._showDisabled?{id:"hideMoreActions",label:oe.kg("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(e,t,n))}:{id:"showMoreActions",label:oe.kg("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(e,t,n))}),r}};function Ko(e){return ye.M$.regex(Gs.keys()[0],new RegExp("(\\s|^)"+Ne.bm(e.value)+"\\b"))}qo=_s=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([lo(1,kr.DR),lo(2,ye.fN),lo(3,Ke._Y),lo(4,Wt.ILanguageFeaturesService),lo(5,Tt.N8),lo(6,En.d),lo(7,lt.pG),lo(8,yo),lo(9,Ke._Y),lo(10,xr.k)],qo),pi.zy((e,t)=>{var n;(n=e.getColor(Xt.Ubg))&&t.addRule(`.monaco-editor .quickfix-edit-highlight { background-color: ${n}; }`);const r=e.getColor(Xt.ECk);r&&t.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${ss.Bb(e.type)?"dotted":"solid"} ${r}; box-sizing: border-box; }`)});const ca={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:oe.kg("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:oe.kg("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[oe.kg("args.schema.apply.first","Always apply the first returned code action."),oe.kg("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),oe.kg("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:oe.kg("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function Ms(e,t,n,r,o=Rr.Default){if(e.hasModel())qo.get(e)?.manualTriggerAtCurrentPosition(t,o,n,r)}class Ia extends O.ks{constructor(){super({id:pr,label:oe.kg("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:ye.M$.and(Fe.R.writable,Fe.R.hasCodeActionsProvider),kbOpts:{kbExpr:Fe.R.textInputFocus,primary:2137,weight:100}})}run(e,t){return Ms(t,oe.kg("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,Rr.QuickFix)}}class da extends O.DX{constructor(){super({id:Jr,precondition:ye.M$.and(Fe.R.writable,Fe.R.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:ca}]}})}runEditorCommand(e,t,n){const r=lr.fromUser(n,{kind:di.Empty,apply:"ifSingle"});return Ms(t,typeof n?.kind=="string"?r.preferred?oe.kg("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):oe.kg("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):r.preferred?oe.kg("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):oe.kg("editor.action.codeAction.noneMessage","No code actions available"),{include:r.kind,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}}class Ra extends O.ks{constructor(){super({id:zo,label:oe.kg("refactor.label","Refactor..."),alias:"Refactor...",precondition:ye.M$.and(Fe.R.writable,Fe.R.hasCodeActionsProvider),kbOpts:{kbExpr:Fe.R.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:ye.M$.and(Fe.R.writable,Ko(Ri.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:ca}]}})}run(e,t,n){const r=lr.fromUser(n,{kind:Ri.Refactor,apply:"never"});return Ms(t,typeof n?.kind=="string"?r.preferred?oe.kg("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",n.kind):oe.kg("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",n.kind):r.preferred?oe.kg("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):oe.kg("editor.action.refactor.noneMessage","No refactorings available"),{include:Ri.Refactor.contains(r.kind)?r.kind:di.None,onlyIncludePreferredActions:r.preferred},r.apply,Rr.Refactor)}}class La extends O.ks{constructor(){super({id:Pr,label:oe.kg("source.label","Source Action..."),alias:"Source Action...",precondition:ye.M$.and(Fe.R.writable,Fe.R.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:ye.M$.and(Fe.R.writable,Ko(Ri.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:ca}]}})}run(e,t,n){const r=lr.fromUser(n,{kind:Ri.Source,apply:"never"});return Ms(t,typeof n?.kind=="string"?r.preferred?oe.kg("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):oe.kg("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):r.preferred?oe.kg("editor.action.source.noneMessage.preferred","No preferred source actions available"):oe.kg("editor.action.source.noneMessage","No source actions available"),{include:Ri.Source.contains(r.kind)?r.kind:di.None,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply,Rr.SourceAction)}}class Da extends O.ks{constructor(){super({id:qr,label:oe.kg("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:ye.M$.and(Fe.R.writable,Ko(Ri.SourceOrganizeImports)),kbOpts:{kbExpr:Fe.R.textInputFocus,primary:1581,weight:100}})}run(e,t){return Ms(t,oe.kg("editor.action.organize.noneMessage","No organize imports action available"),{include:Ri.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",Rr.OrganizeImports)}}class ul extends O.ks{constructor(){super({id:is,label:oe.kg("fixAll.label","Fix All"),alias:"Fix All",precondition:ye.M$.and(Fe.R.writable,Ko(Ri.SourceFixAll))})}run(e,t){return Ms(t,oe.kg("fixAll.noneMessage","No fix all action available"),{include:Ri.SourceFixAll,includeSourceActions:!0},"ifSingle",Rr.FixAll)}}class So extends O.ks{constructor(){super({id:Cr,label:oe.kg("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:ye.M$.and(Fe.R.writable,Ko(Ri.QuickFix)),kbOpts:{kbExpr:Fe.R.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(e,t){return Ms(t,oe.kg("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Ri.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",Rr.AutoFix)}}var Xs=ct(7142);O.HW(qo.ID,qo,3),O.HW(aa.ID,aa,4),O.Fl(Ia),O.Fl(Ra),O.Fl(La),O.Fl(Da),O.Fl(So),O.Fl(ul),O.E_(new da),xt.O.as(Xs.Fd.Configuration).registerConfiguration({...Ar.JJ,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:oe.kg("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}),xt.O.as(Xs.Fd.Configuration).registerConfiguration({...Ar.JJ,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:oe.kg("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}}),xt.O.as(Xs.Fd.Configuration).registerConfiguration({...Ar.JJ,properties:{"editor.codeActions.triggerOnFocusChange":{type:"boolean",scope:5,markdownDescription:oe.kg("triggerOnFocusChange","Enable triggering {0} when {1} is set to {2}. Code Actions must be set to {3} to be triggered for window and focus changes.","`#editor.codeActionsOnSave#`","`#files.autoSave#`","`afterDelay`","`always`"),default:!1}}});var bs=ct(878);class vs{constructor(){this.lenses=[],this._disposables=new ft.Cm}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(let n of e.lenses)this.lenses.push({symbol:n,provider:t})}}async function Ma(e,t,n){const r=e.ordered(t),o=new Map,u=new vs,l=r.map(async(A,K)=>{o.set(A,K);try{const le=await Promise.resolve(A.provideCodeLenses(t,n));le&&u.add(le,A)}catch(le){ii.M_(le)}});return await Promise.all(l),u.lenses=u.lenses.sort((A,K)=>A.symbol.range.startLineNumber<K.symbol.range.startLineNumber?-1:A.symbol.range.startLineNumber>K.symbol.range.startLineNumber?1:o.get(A.provider)<o.get(K.provider)?-1:o.get(A.provider)>o.get(K.provider)?1:A.symbol.range.startColumn<K.symbol.range.startColumn?-1:A.symbol.range.startColumn>K.symbol.range.startColumn?1:0),u}En.w.registerCommand("_executeCodeLensProvider",function(e,...t){let[n,r]=t;yn.j(ht.r.isUri(n)),yn.j(typeof r=="number"||!r);const{codeLensProvider:o}=e.get(Wt.ILanguageFeaturesService),u=e.get(Di.IModelService).getModel(n);if(!u)throw ii.Qg();const l=[],A=new ft.Cm;return Ma(o,u,wn.XO.None).then((K)=>{A.add(K);const le=[];for(let ue of K.lenses)r==null||Boolean(ue.symbol.command)?l.push(ue.symbol):r-- >0&&ue.provider.resolveCodeLens&&le.push(Promise.resolve(ue.provider.resolveCodeLens(u,ue.symbol,wn.XO.None)).then((we)=>l.push(we||ue.symbol)));return Promise.all(le)}).then(()=>l).finally(()=>{setTimeout(()=>A.dispose(),100)})});var ro=ct(7992),Zr=ct(840),es=ct(8877);const Ps=Ke.u1("ICodeLensCache");class hl{constructor(e,t){this.lineCount=e,this.data=t}}let Pa=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new ro.qK(20,0.75),ae.U3(es.G,()=>e.remove("codelens/cache",1));const t="codelens/cache2",n=e.get(t,1,"{}");this._deserialize(n);const r=Rt.Jh.filter(e.onWillSaveState,(o)=>o.reason===Zr.LP.SHUTDOWN);Rt.Jh.once(r)((o)=>{e.store(t,this._serialize(),1,1)})}put(e,t){const n=t.lenses.map((u)=>({range:u.symbol.range,command:u.symbol.command&&{id:"",title:u.symbol.command?.title}})),r=new vs;r.add({lenses:n,dispose:()=>{}},this._fakeProvider);const o=new hl(e.getLineCount(),r);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(let[t,n]of this._cache){const r=new Set;for(let o of n.data.lenses)r.add(o.symbol.range.startLineNumber);e[t]={lineCount:n.lineCount,lines:[...r.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(let n in t){const r=t[n],o=[];for(let l of r.lines)o.push({range:new Nt.Q(l,1,l,11)});const u=new vs;u.add({lenses:o,dispose(){}},this._fakeProvider),this._cache.set(n,new hl(r.lineCount,u))}}catch{}}};Pa=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(0,Zr.CS)],Pa),ho.v(Ps,Pa,1);var ts=ct(1818);class pl{constructor(e,t,n){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class ua{static{this._idPool=0}constructor(e,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+ua._idPool++,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(e,t){this._commands.clear();const n=[];let r=!1;for(let o=0;o<e.length;o++){const u=e[o];if(u&&(r=!0,u.command)){const l=ts.n(u.command.title.trim());if(u.command.id){const A="c"+ua._idPool++;n.push(ae.$("a",{id:A,title:u.command.tooltip,role:"button"},...l)),this._commands.set(A,u.command)}else n.push(ae.$("span",{title:u.command.tooltip},...l));o+1<e.length&&n.push(ae.$("span",void 0,"\xA0|\xA0"))}}r?(ae.Ln(this._domNode,...n),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):ae.Ln(this._domNode,ae.$("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}class Io{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){const t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,r=t.length;n<r;n++)this._addDecorationsCallbacks[n](t[n])}}const Fa=Hn.kI.register({collapseOnReplaceEdit:!0,description:"codelens"});class Bl{constructor(e,t,n,r,o,u){let l;this._isDisposed=!1,this._editor=t,this._data=e,this._decorationIds=[];const A=[];this._data.forEach((K,le)=>{K.symbol.command&&A.push(K.symbol),n.addDecoration({range:K.symbol.range,options:Fa},(ue)=>this._decorationIds[le]=ue),l=l?Nt.Q.plusRange(l,K.symbol.range):Nt.Q.lift(K.symbol.range)}),this._viewZone=new pl(l.startLineNumber-1,o,u),this._viewZoneId=r.addZone(this._viewZone),A.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(A,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new ua(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const n=this._editor.getModel().getDecorationRange(e),r=this._data[t].symbol;return!(!n||Nt.Q.isEmpty(r.range)!==n.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((n,r)=>{t.addDecoration({range:n.symbol.range,options:Fa},(o)=>this._decorationIds[r]=o)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const n=e.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const n=e[t];if(n){const{symbol:r}=this._data[t];r.command=n.command||r.command}}}getCommand(e){return this._contentWidget?.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var Eo=ct(2060),Hs=function(e,t){return function(n,r){t(n,r,e)}};let Nr=class{static{this.ID="css.editor.codeLens"}constructor(e,t,n,r,o,u){this._editor=e,this._languageFeaturesService=t,this._commandService=r,this._notificationService=o,this._codeLensCache=u,this._disposables=new ft.Cm,this._localToDispose=new ft.Cm,this._lenses=[],this._oldCodeLensModels=new ft.Cm,this._provideCodeLensDebounce=n.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=n.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new un.uC(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration((l)=>{(l.hasChanged(50)||l.hasChanged(19)||l.hasChanged(18))&&this._updateLensStyle(),l.hasChanged(17)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),this._currentCodeLensModel?.dispose()}_getLayoutInfo(){const e=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));let t=this._editor.getOption(19);return(!t||t<5)&&(t=0.9*this._editor.getOption(52)|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),n=this._editor.getOption(18),r=this._editor.getOption(50),{style:o}=this._editor.getContainerDomNode();o.setProperty("--vscode-editorCodeLens-lineHeight",`${e}px`),o.setProperty("--vscode-editorCodeLens-fontSize",`${t}px`),o.setProperty("--vscode-editorCodeLens-fontFeatureSettings",r.fontFeatureSettings),n&&(o.setProperty("--vscode-editorCodeLens-fontFamily",n),o.setProperty("--vscode-editorCodeLens-fontFamilyDefault",Qr.jU.fontFamily)),this._editor.changeViewZones((u)=>{for(let l of this._lenses)l.updateHeight(e,u)})}_localDispose(){this._getCodeLensModelPromise?.cancel(),this._getCodeLensModelPromise=void 0,this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),this._currentCodeLensModel?.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e)return;if(!this._editor.getOption(17)||e.isTooLargeForTokenization())return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e))return void(t&&un.EQ(()=>{const r=this._codeLensCache.get(e);t===r&&(this._codeLensCache.delete(e),this._onModelChange())},30000,this._localToDispose));for(let r of this._languageFeaturesService.codeLensProvider.all(e))if(typeof r.onDidChange=="function"){const o=r.onDidChange(()=>n.schedule());this._localToDispose.add(o)}const n=new un.uC(()=>{const r=Date.now();this._getCodeLensModelPromise?.cancel(),this._getCodeLensModelPromise=un.SS((o)=>Ma(this._languageFeaturesService.codeLensProvider,e,o)),this._getCodeLensModelPromise.then((o)=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=o,this._codeLensCache.put(e,o);const u=this._provideCodeLensDebounce.update(e,Date.now()-r);n.delay=u,this._renderCodeLensSymbols(o),this._resolveCodeLensesInViewportSoon()},ii.dz)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(n),this._localToDispose.add(ft.s(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations((r)=>{this._editor.changeViewZones((o)=>{const u=[];let l=-1;this._lenses.forEach((K)=>{K.isValid()&&l!==K.getLineNumber()?(K.update(o),l=K.getLineNumber()):u.push(K)});const A=new Io;u.forEach((K)=>{K.dispose(A,o),this._lenses.splice(this._lenses.indexOf(K),1)}),A.commit(r)})}),n.schedule(),this._resolveCodeLensesScheduler.cancel(),this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorText(()=>{n.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{n.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange((r)=>{r.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(ft.s(()=>{if(this._editor.getModel()){const r=bs.D.capture(this._editor);this._editor.changeDecorations((o)=>{this._editor.changeViewZones((u)=>{this._disposeAllLenses(o,u)})}),r.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown((r)=>{if(r.target.type!==9)return;let o=r.target.element;if(o?.tagName==="SPAN"&&(o=o.parentElement),o?.tagName==="A")for(let u of this._lenses){const l=u.getCommand(o);if(l){this._commandService.executeCommand(l.id,...l.arguments||[]).catch((A)=>this._notificationService.error(A));break}}})),n.schedule()}_disposeAllLenses(e,t){const n=new Io;for(let r of this._lenses)r.dispose(n,t);e&&n.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;const t=this._editor.getModel().getLineCount(),n=[];let r;for(let l of e.lenses){const A=l.symbol.range.startLineNumber;A<1||A>t||(r&&r[r.length-1].symbol.range.startLineNumber===A?r.push(l):(r=[l],n.push(r)))}if(!n.length&&!this._lenses.length)return;const o=bs.D.capture(this._editor),u=this._getLayoutInfo();this._editor.changeDecorations((l)=>{this._editor.changeViewZones((A)=>{const K=new Io;let le=0,ue=0;for(;ue<n.length&&le<this._lenses.length;){const we=n[ue][0].symbol.range.startLineNumber,Qe=this._lenses[le].getLineNumber();Qe<we?(this._lenses[le].dispose(K,A),this._lenses.splice(le,1)):Qe===we?(this._lenses[le].updateCodeLensSymbols(n[ue],K),ue++,le++):(this._lenses.splice(le,0,new Bl(n[ue],this._editor,K,A,u.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),le++,ue++)}for(;le<this._lenses.length;)this._lenses[le].dispose(K,A),this._lenses.splice(le,1);for(;ue<n.length;)this._lenses.push(new Bl(n[ue],this._editor,K,A,u.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ue++;K.commit(l)})}),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0;const e=this._editor.getModel();if(!e)return;const t=[],n=[];if(this._lenses.forEach((u)=>{const l=u.computeIfNecessary(e);l&&(t.push(l),n.push(u))}),t.length===0)return;const r=Date.now(),o=un.SS((u)=>{const l=t.map((A,K)=>{const le=new Array(A.length),ue=A.map((we,Qe)=>we.symbol.command||typeof we.provider.resolveCodeLens!="function"?(le[Qe]=we.symbol,Promise.resolve(void 0)):Promise.resolve(we.provider.resolveCodeLens(e,we.symbol,u)).then((Me)=>{le[Qe]=Me},ii.M_));return Promise.all(ue).then(()=>{u.isCancellationRequested||n[K].isDisposed()||n[K].updateCommands(le)})});return Promise.all(l)});this._resolveCodeLensesPromise=o,this._resolveCodeLensesPromise.then(()=>{const u=this._resolveCodeLensesDebounce.update(e,Date.now()-r);this._resolveCodeLensesScheduler.delay=u,this._currentCodeLensModel&&this._codeLensCache.put(e,this._currentCodeLensModel),this._oldCodeLensModels.clear(),o===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},(u)=>{ii.dz(u),o===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,this._currentCodeLensModel?.isDisposed?void 0:this._currentCodeLensModel}};Nr=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Hs(1,Wt.ILanguageFeaturesService),Hs(2,Eo.ILanguageFeatureDebounceService),Hs(3,En.d),Hs(4,Dr.Ot),Hs(5,Ps)],Nr),O.HW(Nr.ID,Nr,1),O.Fl(class extends O.ks{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:Fe.R.hasCodeLensProvider,label:oe.kg("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}async run(e,t){if(!t.hasModel())return;const n=e.get(Ht.GK),r=e.get(En.d),o=e.get(Dr.Ot),u=t.getSelection().positionLineNumber,l=t.getContribution(Nr.ID);if(!l)return;const A=await l.getModel();if(!A)return;const K=[];for(let we of A.lenses)we.symbol.command&&we.symbol.range.startLineNumber===u&&K.push({label:we.symbol.command.title,command:we.symbol.command});if(K.length===0)return;const le=await n.pick(K,{canPickMany:!1,placeHolder:oe.kg("placeHolder","Select a command")});if(!le)return;let ue=le.command;if(A.isDisposed){const we=await l.getModel(),Qe=we?.lenses.find((Me)=>Me.symbol.range.startLineNumber===u&&Me.symbol.command?.title===ue.title);if(!Qe||!Qe.symbol.command)return;ue=Qe.symbol.command}try{await r.executeCommand(ue.id,...ue.arguments||[])}catch(we){o.error(we)}}});var hi=ct(4901),fl=ct(8574),ys=ct(426),Zo=ct(304),Oa=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},Qa=function(e,t){return function(n,r){t(n,r,e)}};let Uo=class{constructor(e){this._editorWorkerService=e}async provideDocumentColors(e,t){return this._editorWorkerService.computeDefaultDocumentColors(e.uri)}provideColorPresentations(e,t,n){const{range:r,color:o}=t,u=o.alpha,l=new hi.Q1(new hi.bU(Math.round(255*o.red),Math.round(255*o.green),Math.round(255*o.blue),u)),A=u?hi.Q1.Format.CSS.formatRGB(l):hi.Q1.Format.CSS.formatRGBA(l),K=u?hi.Q1.Format.CSS.formatHSL(l):hi.Q1.Format.CSS.formatHSLA(l),le=u?hi.Q1.Format.CSS.formatHex(l):hi.Q1.Format.CSS.formatHexA(l),ue=[];return ue.push({label:A,textEdit:{range:r,text:A}}),ue.push({label:K,textEdit:{range:r,text:K}}),ue.push({label:le,textEdit:{range:r,text:le}}),ue}};Uo=Oa([Qa(0,Zo.IEditorWorkerService)],Uo);let ml=class extends ft.jG{constructor(e,t){super(),this._register(e.colorProvider.register("*",new Uo(t)))}};async function Vl(e,t,n,r=!0){return X(new c,e,t,n,r)}function i(e,t,n,r){return Promise.resolve(n.provideColorPresentations(e,t,r))}ml=Oa([Qa(0,Wt.ILanguageFeaturesService),Qa(1,Zo.IEditorWorkerService)],ml),ys.x(ml);class c{constructor(){}async compute(e,t,n,r){const o=await e.provideDocumentColors(t,n);if(Array.isArray(o))for(let u of o)r.push({colorInfo:u,provider:e});return Array.isArray(o)}}class y{constructor(){}async compute(e,t,n,r){const o=await e.provideDocumentColors(t,n);if(Array.isArray(o))for(let u of o)r.push({range:u.range,color:[u.color.red,u.color.green,u.color.blue,u.color.alpha]});return Array.isArray(o)}}class D{constructor(e){this.colorInfo=e}async compute(e,t,n,r){const o=await e.provideColorPresentations(t,this.colorInfo,wn.XO.None);return Array.isArray(o)&&r.push(...o),Array.isArray(o)}}async function X(e,t,n,r,o){let u,l=!1;const A=[],K=t.ordered(n);for(let le=K.length-1;le>=0;le--){const ue=K[le];if(ue instanceof Uo)u=ue;else try{await e.compute(ue,n,r,A)&&(l=!0)}catch(we){ii.M_(we)}}return l?A:u&&o?(await e.compute(u,n,r,A),A):[]}function ce(e,t){const{colorProvider:n}=e.get(Wt.ILanguageFeaturesService),r=e.get(Di.IModelService).getModel(t);if(!r)throw ii.Qg();return{model:r,colorProviderRegistry:n,isDefaultColorDecoratorsEnabled:e.get(lt.pG).getValue("editor.defaultColorDecorators",{resource:t})}}En.w.registerCommand("_executeDocumentColorProvider",function(e,...t){const[n]=t;if(!(n instanceof ht.r))throw ii.Qg();const{model:r,colorProviderRegistry:o,isDefaultColorDecoratorsEnabled:u}=ce(e,n);return X(new y,o,r,wn.XO.None,u)}),En.w.registerCommand("_executeColorPresentationProvider",function(e,...t){const[n,r]=t,{uri:o,range:u}=r;if(!(o instanceof ht.r&&Array.isArray(n)&&n.length===4&&Nt.Q.isIRange(u)))throw ii.Qg();const{model:l,colorProviderRegistry:A,isDefaultColorDecoratorsEnabled:K}=ce(e,o),[le,ue,we,Qe]=n;return X(new D({range:u,color:{red:le,green:ue,blue:we,alpha:Qe}}),A,l,wn.XO.None,K)});var me,Ze=function(e,t){return function(n,r){t(n,r,e)}};const qe=Object.create({});let it=class extends ft.jG{static{me=this}static{this.ID="editor.contrib.colorDetector"}static{this.RECOMPUTE_TIME=1000}constructor(e,t,n,r){super(),this._editor=e,this._configurationService=t,this._languageFeaturesService=n,this._localToDispose=this._register(new ft.Cm),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new fl.Qn(this._editor),this._decoratorLimitReporter=new at,this._colorDecorationClassRefs=this._register(new ft.Cm),this._debounceInformation=r.for(n.colorProvider,"Document Colors",{min:me.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(e.onDidChangeModelLanguage(()=>this.updateColors())),this._register(n.colorProvider.onDidChange(()=>this.updateColors())),this._register(e.onDidChangeConfiguration((o)=>{const u=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(148);const l=u!==this._isColorDecoratorsEnabled||o.hasChanged(21),A=o.hasChanged(148);(l||A)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(148),this.updateColors()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),n=this._configurationService.getValue(t);if(n&&typeof n=="object"){const r=n.colorDecorators;if(r&&r.enable!==void 0&&!r.enable)return r.enable}return this._editor.getOption(20)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const e=this._editor.getModel();e&&this._languageFeaturesService.colorProvider.has(e)&&(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new un.pc,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}async beginCompute(){this._computePromise=un.SS(async(e)=>{const t=this._editor.getModel();if(!t)return[];const n=new Kr.W(!1),r=await Vl(this._languageFeaturesService.colorProvider,t,e,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(t,n.elapsed()),r});try{const e=await this._computePromise;this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}catch(e){ii.dz(e)}}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map((n)=>({range:{startLineNumber:n.colorInfo.range.startLineNumber,startColumn:n.colorInfo.range.startColumn,endLineNumber:n.colorInfo.range.endLineNumber,endColumn:n.colorInfo.range.endColumn},options:Hn.kI.EMPTY}));this._editor.changeDecorations((n)=>{this._decorationsIds=n.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((r,o)=>this._colorDatas.set(r,e[o]))})}updateColorDecorators(e){this._colorDecorationClassRefs.clear();const t=[],n=this._editor.getOption(21);for(let o=0;o<e.length&&t.length<n;o++){const{red:u,green:l,blue:A,alpha:K}=e[o].colorInfo.color,le=new hi.bU(Math.round(255*u),Math.round(255*l),Math.round(255*A),K),ue=`rgba(${le.r}, ${le.g}, ${le.b}, ${le.a})`,we=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:ue}));t.push({range:{startLineNumber:e[o].colorInfo.range.startLineNumber,startColumn:e[o].colorInfo.range.startColumn,endLineNumber:e[o].colorInfo.range.endLineNumber,endColumn:e[o].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:Ne.S8,inlineClassName:`${we.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:qe}}})}const r=n<e.length&&n;this._decoratorLimitReporter.update(e.length,r),this._colorDecoratorIds.set(t)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const n=t.getDecorationsInRange(Nt.Q.fromPositions(e,e)).filter((r)=>this._colorDatas.has(r.id));return n.length===0?null:this._colorDatas.get(n[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};it=me=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Ze(1,lt.pG),Ze(2,Wt.ILanguageFeaturesService),Ze(3,Eo.ILanguageFeatureDebounceService)],it);class at{constructor(){this._onDidChange=new Rt.vl,this._computed=0,this._limited=!1}update(e,t){e===this._computed&&t===this._limited||(this._computed=e,this._limited=t,this._onDidChange.fire())}}O.HW(it.ID,it,1);class ot{get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(e,t,n){this.presentationIndex=n,this._onColorFlushed=new Rt.vl,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Rt.vl,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Rt.vl,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){let n=-1;for(let r=0;r<this.colorPresentations.length;r++)if(t.toLowerCase()===this.colorPresentations[r].label){n=r;break}if(n===-1){const r=t.split("(")[0].toLowerCase();for(let o=0;o<this.colorPresentations.length;o++)if(this.colorPresentations[o].label.toLowerCase().startsWith(r)){n=o;break}}n!==-1&&n!==this.presentationIndex&&(this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}var Jt=ct(4770),Ft=ct(176),$t=ct(5222);const Gt=ae.$;class _n extends ft.jG{constructor(e,t,n,r=!1){super(),this.model=t,this.showingStandaloneColorPicker=r,this._closeButton=null,this._domNode=Gt(".colorpicker-header"),ae.BC(e,this._domNode),this._pickedColorNode=ae.BC(this._domNode,Gt(".picked-color")),ae.BC(this._pickedColorNode,Gt("span.codicon.codicon-color-mode")),this._pickedColorPresentation=ae.BC(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const o=oe.kg("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",o),this._originalColorNode=ae.BC(this._domNode,Gt(".original-color")),this._originalColorNode.style.backgroundColor=hi.Q1.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=n.getColorTheme().getColor(Xt.WfR)||hi.Q1.white,this._register(n.onDidColorThemeChange((u)=>{this.backgroundColor=u.getColor(Xt.WfR)||hi.Q1.white})),this._register(ae.ko(this._pickedColorNode,ae.Bx.CLICK,()=>this.model.selectNextColorPresentation())),this._register(ae.ko(this._originalColorNode,ae.Bx.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=hi.Q1.Format.CSS.format(t.color)||"",this._pickedColorNode.classList.toggle("light",t.color.rgba.a<0.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new Pn(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(e){this._pickedColorNode.style.backgroundColor=hi.Q1.Format.CSS.format(e)||"",this._pickedColorNode.classList.toggle("light",e.rgba.a<0.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}class Pn extends ft.jG{constructor(e){super(),this._onClicked=this._register(new Rt.vl),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),ae.BC(e,this._button);const t=document.createElement("div");t.classList.add("close-button-inner-div"),ae.BC(this._button,t),ae.BC(t,Gt(".button"+Oe.L.asCSSSelector(_r.pU("color-picker-close",be.W.close,oe.kg("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._register(ae.ko(this._button,ae.Bx.CLICK,()=>{this._onClicked.fire()}))}}class Zn extends ft.jG{constructor(e,t,n,r=!1){super(),this.model=t,this.pixelRatio=n,this._insertButton=null,this._domNode=Gt(".colorpicker-body"),ae.BC(e,this._domNode),this._saturationBox=new ni(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new ri(this._domNode,this.model,r),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new ci(this._domNode,this.model,r),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),r&&(this._insertButton=this._register(new ai(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const n=this.model.color.hsva;this.model.color=new hi.Q1(new hi.$J(n.h,e,t,n.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new hi.Q1(new hi.$J(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,n=360*(1-e);this.model.color=new hi.Q1(new hi.$J(n===360?0:n,t.s,t.v,t.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class ni extends ft.jG{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this._onDidChange=new Rt.vl,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Rt.vl,this.onColorFlushed=this._onColorFlushed.event,this._domNode=Gt(".saturation-wrap"),ae.BC(e,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",ae.BC(this._domNode,this._canvas),this.selection=Gt(".saturation-selection"),ae.BC(this._domNode,this.selection),this.layout(),this._register(ae.ko(this._domNode,ae.Bx.POINTER_DOWN,(r)=>this.onPointerDown(r))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(e){if(!(e.target&&e.target instanceof Element))return;this.monitor=this._register(new Ft._);const t=ae.BK(this._domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,(r)=>this.onDidChangePosition(r.pageX-t.left,r.pageY-t.top),()=>null);const n=ae.ko(e.target.ownerDocument,ae.Bx.POINTER_UP,()=>{this._onColorFlushed.fire(),n.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const n=Math.max(0,Math.min(1,e/this.width)),r=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,r),this._onDidChange.fire({s:n,v:r})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new hi.Q1(new hi.$J(e.h,1,1,1)),n=this._canvas.getContext("2d"),r=n.createLinearGradient(0,0,this._canvas.width,0);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(0.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)");const o=n.createLinearGradient(0,0,0,this._canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this._canvas.width,this._canvas.height),n.fillStyle=hi.Q1.Format.CSS.format(t),n.fill(),n.fillStyle=r,n.fill(),n.fillStyle=o,n.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(e){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const t=e.hsva;this.paintSelection(t.s,t.v)}}class Gn extends ft.jG{constructor(e,t,n=!1){super(),this.model=t,this._onDidChange=new Rt.vl,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Rt.vl,this.onColorFlushed=this._onColorFlushed.event,n?(this.domNode=ae.BC(e,Gt(".standalone-strip")),this.overlay=ae.BC(this.domNode,Gt(".standalone-overlay"))):(this.domNode=ae.BC(e,Gt(".strip")),this.overlay=ae.BC(this.domNode,Gt(".overlay"))),this.slider=ae.BC(this.domNode,Gt(".slider")),this.slider.style.top="0px",this._register(ae.ko(this.domNode,ae.Bx.POINTER_DOWN,(r)=>this.onPointerDown(r))),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onDidChangeColor(e){const t=this.getValue(e);this.updateSliderPosition(t)}onPointerDown(e){if(!(e.target&&e.target instanceof Element))return;const t=this._register(new Ft._),n=ae.BK(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.pointerId,e.buttons,(o)=>this.onDidChangeTop(o.pageY-n.top),()=>null);const r=ae.ko(e.target.ownerDocument,ae.Bx.POINTER_UP,()=>{this._onColorFlushed.fire(),r.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}}class ri extends Gn{constructor(e,t,n=!1){super(e,t,n),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){super.onDidChangeColor(e);const{r:t,g:n,b:r}=e.rgba,o=new hi.Q1(new hi.bU(t,n,r,1)),u=new hi.Q1(new hi.bU(t,n,r,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${u} 100%)`}getValue(e){return e.hsva.a}}class ci extends Gn{constructor(e,t,n=!1){super(e,t,n),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class ai extends ft.jG{constructor(e){super(),this._onClicked=this._register(new Rt.vl),this.onClicked=this._onClicked.event,this._button=ae.BC(e,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(ae.ko(this._button,ae.Bx.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}class vi extends $t.x{constructor(e,t,n,r,o=!1){super(),this.model=t,this.pixelRatio=n,this._register(Jt.c.getInstance(ae.zk(e)).onDidChange(()=>this.layout())),this._domNode=Gt(".colorpicker-widget"),e.appendChild(this._domNode),this.header=this._register(new _n(this._domNode,this.model,r,o)),this.body=this._register(new Zn(this._domNode,this.model,this.pixelRatio,o))}layout(){this.body.layout()}get domNode(){return this._domNode}}class gi{constructor(e,t,n,r){this.priority=e,this.range=t,this.initialMousePosX=n,this.initialMousePosY=r,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}}class sr{constructor(e,t,n,r,o,u){this.priority=e,this.owner=t,this.range=n,this.initialMousePosX=r,this.initialMousePosY=o,this.supportsMarkerHover=u,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}}class Si{constructor(e){this.renderedHoverParts=e}dispose(){for(let e of this.renderedHoverParts)e.dispose()}}const cr=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};var _i=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},Gr=function(e,t){return function(n,r){t(n,r,e)}};class wo{constructor(e,t,n,r){this.owner=e,this.range=t,this.model=n,this.provider=r,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let ir=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=2}computeSync(e,t){return[]}computeAsync(e,t,n){return un.AE.fromPromise(this._computeAsync(e,t,n))}async _computeAsync(e,t,n){if(!this._editor.hasModel())return[];const r=it.get(this._editor);if(!r)return[];for(let o of t){if(!r.isColorDecoration(o))continue;const u=r.getColorData(o.range.getStartPosition());if(u)return[await Mr(this,this._editor.getModel(),u.colorInfo,u.provider)]}return[]}renderHoverParts(e,t){const n=Ur(this,this._editor,this._themeService,t,e);if(!n)return new Si([]);this._colorPicker=n.colorPicker;const r={hoverPart:n.hoverPart,hoverElement:this._colorPicker.domNode,dispose(){n.disposables.dispose()}};return new Si([r])}handleResize(){this._colorPicker?.layout()}isColorPickerVisible(){return!!this._colorPicker}};ir=_i([Gr(1,pi.Gy)],ir);class Ki{constructor(e,t,n,r){this.owner=e,this.range=t,this.model=n,this.provider=r}}let Er=class{constructor(e,t){this._editor=e,this._themeService=t,this._color=null}async createColorHover(e,t,n){if(!this._editor.hasModel())return null;if(!it.get(this._editor))return null;const r=await Vl(n,this._editor.getModel(),wn.XO.None);let o=null,u=null;for(let le of r){const ue=le.colorInfo;Nt.Q.containsRange(ue.range,e.range)&&(o=ue,u=le.provider)}const l=o??e,A=u??t,K=!!o;return{colorHover:await Mr(this,this._editor.getModel(),l,A),foundInEditor:K}}async updateEditorModel(e){if(!this._editor.hasModel())return;const t=e.model;let n=new Nt.Q(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);this._color&&(await as(this._editor.getModel(),t,this._color,n,e),n=Xr(this._editor,n,t))}renderHoverParts(e,t){return Ur(this,this._editor,this._themeService,t,e)}set color(e){this._color=e}get color(){return this._color}};async function Mr(e,t,n,r){const o=t.getValueInRange(n.range),{red:u,green:l,blue:A,alpha:K}=n.color,le=new hi.bU(Math.round(255*u),Math.round(255*l),Math.round(255*A),K),ue=new hi.Q1(le),we=await i(t,n,r,wn.XO.None),Qe=new ot(ue,[],0);return Qe.colorPresentations=we||[],Qe.guessColorPresentation(ue,o),e instanceof ir?new wo(e,Nt.Q.lift(n.range),Qe,r):new Ki(e,Nt.Q.lift(n.range),Qe,r)}function Ur(e,t,n,r,o){if(r.length===0||!t.hasModel())return;if(o.setMinimumDimensions){const Qe=t.getOption(67)+8;o.setMinimumDimensions(new ae.fg(302,Qe))}const u=new ft.Cm,l=r[0],A=t.getModel(),K=l.model,le=u.add(new vi(o.fragment,K,t.getOption(144),n,e instanceof Er));let ue=!1,we=new Nt.Q(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn);if(e instanceof Er){const Qe=l.model.color;e.color=Qe,as(A,K,Qe,we,l),u.add(K.onColorFlushed((Me)=>{e.color=Me}))}else u.add(K.onColorFlushed(async(Qe)=>{await as(A,K,Qe,we,l),ue=!0,we=Xr(t,we,K)}));return u.add(K.onDidChangeColor((Qe)=>{as(A,K,Qe,we,l)})),u.add(t.onDidChangeModelContent((Qe)=>{ue?ue=!1:(o.hide(),t.focus())})),{hoverPart:l,colorPicker:le,disposables:u}}function Xr(e,t,n){const r=[],o=n.presentation.textEdit??{range:t,text:n.presentation.label,forceMoveMarkers:!1};r.push(o),n.presentation.additionalTextEdits&&r.push(...n.presentation.additionalTextEdits);const u=Nt.Q.lift(o.range),l=e.getModel()._setTrackedRange(null,u,3);return e.executeEdits("colorpicker",r),e.pushUndoStop(),e.getModel()._getTrackedRange(l)??u}async function as(e,t,n,r,o){const u=await i(e,{range:r,color:{red:n.rgba.r/255,green:n.rgba.g/255,blue:n.rgba.b/255,alpha:n.rgba.a}},o.provider,wn.XO.None);t.colorPresentations=u||[]}Er=_i([Gr(1,pi.Gy)],Er);const ls="editor.action.showHover",Jo="editor.action.increaseHoverVerbosityLevel",Bo=oe.kg({key:"increaseHoverVerbosityLevel",comment:["Label for action that will increase the hover verbosity level."]},"Increase Hover Verbosity Level"),ha="editor.action.decreaseHoverVerbosityLevel",Jc=oe.kg({key:"decreaseHoverVerbosityLevel",comment:["Label for action that will decrease the hover verbosity level."]},"Decrease Hover Verbosity Level");var kc=ct(7598),Rn=ct(6311),cs=ct(8366);const kd="editor.action.inlineSuggest.commit",$u="editor.action.inlineSuggest.showPrevious",Zu="editor.action.inlineSuggest.showNext";var gl,br=ct(7482),Uu=ct(583),Tc=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},Ro=function(e,t){return function(n,r){t(n,r,e)}};let Gl=class extends ft.jG{constructor(e,t,n){super(),this.editor=e,this.model=t,this.instantiationService=n,this.alwaysShowToolbar=Rn.y0(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=Rn.un(this,(r)=>{const o=this.model.read(r)?.primaryGhostText.read(r);if(!this.alwaysShowToolbar.read(r)||!o||o.parts.length===0)return this.sessionPosition=void 0,null;const u=o.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==o.lineNumber&&(this.sessionPosition=void 0);const l=new Yn.y(o.lineNumber,Math.min(u,this.sessionPosition?.column??Number.MAX_SAFE_INTEGER));return this.sessionPosition=l,l}),this._register(Rn.yC((r,o)=>{const u=this.model.read(r);if(!u||!this.alwaysShowToolbar.read(r))return;const l=cs.rm((K,le)=>{const ue=le.add(this.instantiationService.createInstance(za,this.editor,!0,this.position,u.selectedInlineCompletionIndex,u.inlineCompletionsCount,u.activeCommands));return e.addContentWidget(ue),le.add(ft.s(()=>e.removeContentWidget(ue))),le.add(Rn.fm((we)=>{this.position.read(we)&&u.lastTriggerKind.read(we)!==Pt.qw.Explicit&&u.triggerExplicitly()})),ue}),A=Rn.ZX(this,(K,le)=>!!this.position.read(K)||!!le);o.add(Rn.fm((K)=>{A.read(K)&&l.read(K)}))}))}};Gl=Tc([Ro(2,Ke._Y)],Gl);const Td=_r.pU("inline-suggestion-hints-next",be.W.chevronRight,oe.kg("parameterHintsNextIcon","Icon for show next parameter hint.")),Bu=_r.pU("inline-suggestion-hints-previous",be.W.chevronLeft,oe.kg("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let za=class extends ft.jG{static{gl=this}static{this._dropDownVisible=!1}static get dropDownVisible(){return this._dropDownVisible}static{this.id=0}createCommandAction(e,t,n){const r=new Vn.rc(e,t,n,!0,()=>this._commandService.executeCommand(e)),o=this.keybindingService.lookupKeybinding(e,this._contextKeyService);let u=t;return o&&(u=oe.kg({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",t,o.getLabel())),r.tooltip=u,r}constructor(e,t,n,r,o,u,l,A,K,le,ue){super(),this.editor=e,this.withBorder=t,this._position=n,this._currentSuggestionIdx=r,this._suggestionCount=o,this._extraCommands=u,this._commandService=l,this.keybindingService=K,this._contextKeyService=le,this._menuService=ue,this.id="InlineSuggestionHintsContentWidget"+gl.id++,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=ae.h("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[ae.h("div@toolBar")]),this.previousAction=this.createCommandAction($u,oe.kg("previous","Previous"),Oe.L.asClassName(Bu)),this.availableSuggestionCountAction=new Vn.rc("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(Zu,oe.kg("next","Next"),Oe.L.asClassName(Td)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(rt.D8.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new un.uC(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new un.uC(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.toolBar=this._register(A.createInstance(ko,this.nodes.toolBar,rt.D8.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:(we)=>we.startsWith("primary")},actionViewItemProvider:(we,Qe)=>{if(we instanceof rt.Xe)return A.createInstance(Vu,we,void 0);if(we===this.availableSuggestionCountAction){const Me=new Ad(void 0,we,{label:!0,icon:!1});return Me.setClass("availableSuggestionCount"),Me}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility((we)=>{gl._dropDownVisible=we})),this._register(Rn.fm((we)=>{this._position.read(we),this.editor.layoutContentWidget(this)})),this._register(Rn.fm((we)=>{const Qe=this._suggestionCount.read(we),Me=this._currentSuggestionIdx.read(we);Qe!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${Me+1}/${Qe}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),Qe!==void 0&&Qe>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register(Rn.fm((we)=>{const Qe=this._extraCommands.read(we).map((Me)=>({class:void 0,id:Me.id,enabled:!0,tooltip:Me.tooltip||"",label:Me.title,run:(nt)=>this._commandService.executeCommand(Me.id)}));for(let[Me,nt]of this.inlineCompletionsActionsMenus.getActions())for(let yt of nt)yt instanceof rt.Xe&&Qe.push(yt);Qe.length>0&&Qe.unshift(new Vn.wv),this.toolBar.setAdditionalSecondaryActions(Qe)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};za=gl=Tc([Ro(6,En.d),Ro(7,Ke._Y),Ro(8,ui.b),Ro(9,ye.fN),Ro(10,rt.ez)],za);class Ad extends kc.Z4{constructor(){super(...arguments),this._className=void 0}setClass(e){this._className=e}render(e){super.render(e),this._className&&e.classList.add(this._className)}updateTooltip(){}}class Vu extends br.oq{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const t=ae.h("div.keybinding").root;this._register(new Yr.x(t,tn.OS,{disableTitle:!0,...Yr.l})).set(e),this.label.textContent=this._action.label,this.label.appendChild(t),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}}let ko=class extends Uu.p{constructor(e,t,n,r,o,u,l,A,K){super(e,{resetMenu:t,...n},r,o,u,l,A,K),this.menuId=t,this.options2=n,this.menuService=r,this.contextKeyService=o,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){const e=[],t=[];br.Ot(this.menu,this.options2?.menuOptions,{primary:e,secondary:t},this.options2?.toolbarOptions?.primaryGroup,this.options2?.toolbarOptions?.shouldInlineSubmenu,this.options2?.toolbarOptions?.useSeparatorsInPrimaryActions),t.push(...this.additionalActions),e.unshift(...this.prependedPrimaryActions),this.setActions(e,t)}setPrependedPrimaryActions(e){mn.aI(this.prependedPrimaryActions,e,(t,n)=>t===n)||(this.prependedPrimaryActions=e,this.updateToolbar())}setAdditionalSecondaryActions(e){mn.aI(this.additionalActions,e,(t,n)=>t===n)||(this.additionalActions=e,this.updateToolbar())}};function Ac(e,t,n){const r=ae.BK(e);return!(t<r.left||t>r.left+r.width||n<r.top||n>r.top+r.height)}ko=Tc([Ro(3,rt.ez),Ro(4,ye.fN),Ro(5,no.Z),Ro(6,ui.b),Ro(7,En.d),Ro(8,xr.k)],ko);class Gu{constructor(e,t,n){this.value=e,this.isComplete=t,this.hasLoadingMessage=n}}class _l extends ft.jG{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new Rt.vl),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new un.uC(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new un.uC(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new un.uC(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=un.bI((e)=>this._computer.computeAsync(e)),(async()=>{try{for await(let e of this._asyncIterable)e&&(this._result.push(e),this._fireResult());this._asyncIterableDone=!0,this._state!==3&&this._state!==4||this._setState(0)}catch(e){ii.dz(e)}})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const e=this._state===0,t=this._state===4;this._onResult.fire(new Gu(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var pa=ct(6843);class Xl{constructor(){let e;this._onDidWillResize=new Rt.vl,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new Rt.vl,this.onDidResize=this._onDidResize.event,this._sashListener=new ft.Cm,this._size=new ae.fg(0,0),this._minSize=new ae.fg(0,0),this._maxSize=new ae.fg(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new pa.m(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new pa.m(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new pa.m(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:pa.B.North}),this._southSash=new pa.m(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:pa.B.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t=0,n=0;this._sashListener.add(Rt.Jh.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,n=0)})),this._sashListener.add(Rt.Jh.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,n=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange((r)=>{e&&(n=r.currentX-r.startX,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange((r)=>{e&&(n=-(r.currentX-r.startX),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange((r)=>{e&&(t=-(r.currentY-r.startY),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange((r)=>{e&&(t=r.currentY-r.startY,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(Rt.Jh.any(this._eastSash.onDidReset,this._westSash.onDidReset)((r)=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(Rt.Jh.any(this._northSash.onDidReset,this._southSash.onDidReset)((r)=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,n,r){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=n?3:0,this._westSash.state=r?3:0}layout(e=this.size.height,t=this.size.width){const{height:n,width:r}=this._minSize,{height:o,width:u}=this._maxSize;e=Math.max(n,Math.min(o,e)),t=Math.max(r,Math.min(u,t));const l=new ae.fg(t,e);ae.fg.equals(l,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=l,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}class Nd extends ft.jG{constructor(e,t=new ae.fg(10,10)){super(),this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new Xl),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=ae.fg.lift(t),this._resizableNode.layout(t.height,t.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize((n)=>{this._resize(new ae.fg(n.dimension.width,n.dimension.height)),n.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){return this._contentPosition?.position?Yn.y.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(e){const t=this._editor.getDomNode(),n=this._editor.getScrolledVisiblePosition(e);if(t&&n)return ae.BK(t).top+n.top-30}_availableVerticalSpaceBelow(e){const t=this._editor.getDomNode(),n=this._editor.getScrolledVisiblePosition(e);if(!t||!n)return;const r=ae.BK(t),o=ae.tG(t.ownerDocument.body),u=r.top+n.top+n.height;return o.height-u-24}_findPositionPreference(e,t){const n=Math.min(this._availableVerticalSpaceBelow(t)??1/0,e),r=Math.min(this._availableVerticalSpaceAbove(t)??1/0,e),o=Math.min(Math.max(r,n),e),u=Math.min(e,o);let l;return l=this._editor.getOption(60).above?u<=r?1:2:u<=n?2:1,l===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),l}_resize(e){this._resizableNode.layout(e.height,e.width)}}var Fs,fa=ct(3909),Wa=ct(9179),Hl=function(e,t){return function(n,r){t(n,r,e)}};let bl=class extends Nd{static{Fs=this}static{this.ID="editor.contrib.resizableContentHoverWidget"}static{this._lastDimensions=new ae.fg(0,0)}get isVisibleFromKeyboard(){return this._renderedHover?.source===1}get isVisible(){return this._hoverVisibleKey.get()??!1}get isFocused(){return this._hoverFocusedKey.get()??!1}constructor(e,t,n,r,o){const u=e.getOption(67)+8,l=new ae.fg(150,u);super(e,l),this._configurationService=n,this._accessibilityService=r,this._keybindingService=o,this._hover=this._register(new Wa.N4),this._onDidResize=this._register(new Rt.vl),this.onDidResize=this._onDidResize.event,this._minimumSize=l,this._hoverVisibleKey=Fe.R.hoverVisible.bindTo(t),this._hoverFocusedKey=Fe.R.hoverFocused.bindTo(t),ae.BC(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration((K)=>{K.hasChanged(50)&&this._updateFont()}));const A=this._register(ae.w5(this._resizableNode.domNode));this._register(A.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(A.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setRenderedHover(void 0),this._editor.addContentWidget(this)}dispose(){super.dispose(),this._renderedHover?.dispose(),this._editor.removeContentWidget(this)}getId(){return Fs.ID}static _applyDimensions(e,t,n){const r=typeof t=="number"?`${t}px`:t,o=typeof n=="number"?`${n}px`:n;e.style.width=r,e.style.height=o}_setContentsDomNodeDimensions(e,t){const n=this._hover.contentsDomNode;return Fs._applyDimensions(n,e,t)}_setContainerDomNodeDimensions(e,t){const n=this._hover.containerDomNode;return Fs._applyDimensions(n,e,t)}_setHoverWidgetDimensions(e,t){this._setContentsDomNodeDimensions(e,t),this._setContainerDomNodeDimensions(e,t),this._layoutContentWidget()}static _applyMaxDimensions(e,t,n){const r=typeof t=="number"?`${t}px`:t,o=typeof n=="number"?`${n}px`:n;e.style.maxWidth=r,e.style.maxHeight=o}_setHoverWidgetMaxDimensions(e,t){Fs._applyMaxDimensions(this._hover.contentsDomNode,e,t),Fs._applyMaxDimensions(this._hover.containerDomNode,e,t),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof e=="number"?`${e}px`:e),this._layoutContentWidget()}_setAdjustedHoverWidgetDimensions(e){this._setHoverWidgetMaxDimensions("none","none");const{width:t,height:n}=e;this._setHoverWidgetDimensions(t,n)}_updateResizableNodeMaxDimensions(){const e=this._findMaximumRenderingWidth()??1/0,t=this._findMaximumRenderingHeight()??1/0;this._resizableNode.maxSize=new ae.fg(e,t),this._setHoverWidgetMaxDimensions(e,t)}_resize(e){Fs._lastDimensions=new ae.fg(e.width,e.height),this._setAdjustedHoverWidgetDimensions(e),this._resizableNode.layout(e.height,e.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),this._onDidResize.fire()}_findAvailableSpaceVertically(){const e=this._renderedHover?.showAtPosition;if(e)return this._positionPreference===1?this._availableVerticalSpaceAbove(e):this._availableVerticalSpaceBelow(e)}_findMaximumRenderingHeight(){const e=this._findAvailableSpaceVertically();if(!e)return;let t=6;return Array.from(this._hover.contentsDomNode.children).forEach((n)=>{t+=n.clientHeight}),Math.min(e,t)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const e=Array.from(this._hover.contentsDomNode.children).some((t)=>t.scrollWidth>t.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),e}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const e=this._isHoverTextOverflowing(),t=this._contentWidth===void 0?0:this._contentWidth-2;return e||this._hover.containerDomNode.clientWidth<t?ae.tG(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(e,t){if(!this._renderedHover)return!1;if(this._renderedHover.initialMousePosX===void 0||this._renderedHover.initialMousePosY===void 0)return this._renderedHover.initialMousePosX=e,this._renderedHover.initialMousePosY=t,!1;const n=ae.BK(this.getDomNode());this._renderedHover.closestMouseDistance===void 0&&(this._renderedHover.closestMouseDistance=Id(this._renderedHover.initialMousePosX,this._renderedHover.initialMousePosY,n.left,n.top,n.width,n.height));const r=Id(e,t,n.left,n.top,n.width,n.height);return!(r>this._renderedHover.closestMouseDistance+4||(this._renderedHover.closestMouseDistance=Math.min(this._renderedHover.closestMouseDistance,r),0))}_setRenderedHover(e){this._renderedHover?.dispose(),this._renderedHover=e,this._hoverVisibleKey.set(!!e),this._hover.containerDomNode.classList.toggle("hidden",!e)}_updateFont(){const{fontSize:e,lineHeight:t}=this._editor.getOption(50),n=this._hover.contentsDomNode;n.style.fontSize=`${e}px`,n.style.lineHeight=""+t/e,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((r)=>this._editor.applyFontInfo(r))}_updateContent(e){const t=this._hover.contentsDomNode;t.style.paddingBottom="",t.textContent="",t.appendChild(e)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const e=Math.max(this._editor.getLayoutInfo().height/4,250,Fs._lastDimensions.height),t=Math.max(0.66*this._editor.getLayoutInfo().width,500,Fs._lastDimensions.width);this._setHoverWidgetMaxDimensions(t,e)}_render(e){this._setRenderedHover(e),this._updateFont(),this._updateContent(e.domNode),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){return this._renderedHover?{position:this._renderedHover.showAtPosition,secondaryPosition:this._renderedHover.showAtSecondaryPosition,positionAffinity:this._renderedHover.shouldAppearBeforeContent?3:void 0,preference:[this._positionPreference??1]}:null}show(e){if(!this._editor||!this._editor.hasModel())return;this._render(e);const t=ae.OK(this._hover.containerDomNode),n=e.showAtPosition;this._positionPreference=this._findPositionPreference(t,n)??1,this.onContentsChanged(),e.shouldFocus&&this._hover.containerDomNode.focus(),this._onDidResize.fire();const r=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&Wa.vr(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),this._keybindingService.lookupKeybinding("editor.action.accessibleView")?.getAriaLabel()??"");r&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+r)}hide(){if(!this._renderedHover)return;const e=this._renderedHover.shouldFocus||this._hoverFocusedKey.get();this._setRenderedHover(void 0),this._resizableNode.maxSize=new ae.fg(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),e&&this._editor.focus()}_removeConstraintsRenderNormally(){const e=this._editor.getLayoutInfo();this._resizableNode.layout(e.height,e.width),this._setHoverWidgetDimensions("auto","auto")}setMinimumDimensions(e){this._minimumSize=new ae.fg(Math.max(this._minimumSize.width,e.width),Math.max(this._minimumSize.height,e.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const e=this._contentWidth===void 0?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new ae.fg(e,this._minimumSize.height)}onContentsChanged(){this._removeConstraintsRenderNormally();const e=this._hover.containerDomNode;let t=ae.OK(e),n=ae.Tr(e);if(this._resizableNode.layout(t,n),this._setHoverWidgetDimensions(n,t),t=ae.OK(e),n=ae.Tr(e),this._contentWidth=n,this._updateMinimumWidth(),this._resizableNode.layout(t,n),this._renderedHover?.showAtPosition){const r=ae.OK(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(r,this._renderedHover.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e-t.lineHeight})}scrollDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e+t.lineHeight})}scrollLeft(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e-30})}scrollRight(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e+30})}pageUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e-t})}pageDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e+t})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};function Id(e,t,n,r,o,u){const l=n+o/2,A=r+u/2,K=Math.max(Math.abs(e-l)-o/2,0),le=Math.max(Math.abs(t-A)-u/2,0);return Math.sqrt(K*K+le*le)}bl=Fs=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Hl(1,ye.fN),Hl(2,lt.pG),Hl(3,fa.j),Hl(4,ui.b)],bl);class Yl{get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}get source(){return this._source}set source(e){this._source=e}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(e){this._insistOnKeepingHoverVisible=e}constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(e,t){if(t.type!==1&&!t.supportsMarkerHover)return[];const n=e.getModel(),r=t.range.startLineNumber;if(r>n.getLineCount())return[];const o=n.getLineMaxColumn(r);return e.getLineDecorations(r).filter((u)=>{if(u.options.isWholeLine)return!0;const l=u.range.startLineNumber===r?u.range.startColumn:1,A=u.range.endLineNumber===r?u.range.endColumn:o;if(u.options.showIfCollapsed){if(l>t.range.startColumn+1||t.range.endColumn-1>A)return!1}else if(l>t.range.startColumn||t.range.endColumn>A)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return un.AE.EMPTY;const n=Yl._getLineDecorations(this._editor,t);return un.AE.merge(this._participants.map((r)=>r.computeAsync?r.computeAsync(t,n,e):un.AE.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=Yl._getLineDecorations(this._editor,this._anchor);let t=[];for(let n of this._participants)t=t.concat(n.computeSync(this._anchor,e));return mn.Yc(t)}}class jl{constructor(e,t,n){this.anchor=e,this.hoverParts=t,this.isComplete=n}filter(e){const t=this.hoverParts.filter((n)=>n.isValidForHoverAnchor(e));return t.length===this.hoverParts.length?this:new Rd(this,this.anchor,t,this.isComplete)}}class Rd extends jl{constructor(e,t,n,r){super(t,n,r),this.original=e}filter(e){return this.original.filter(e)}}const Nc=ae.$;let ql=class extends ft.jG{get hasContent(){return this._hasContent}constructor(e){super(),this._keybindingService=e,this.actions=[],this._hasContent=!1,this.hoverElement=Nc("div.hover-row.status-bar"),this.hoverElement.tabIndex=0,this.actionsElement=ae.BC(this.hoverElement,Nc("div.actions"))}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;this._hasContent=!0;const r=this._register(Wa.jQ.render(this.actionsElement,e,n));return this.actions.push(r),r}append(e){const t=ae.BC(this.actionsElement,e);return this._hasContent=!0,t}};ql=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(0,ui.b)],ql);var Ss=ct(7922),Ys=ct(428);class Ld{constructor(e,t,n){this.provider=e,this.hover=t,this.ordinal=n}}function Ic(e,t,n,r,o=!1){const u=e.ordered(t,o).map((l,A)=>async function(K,le,ue,we,Qe){const Me=await Promise.resolve(K.provideHover(ue,we,Qe)).catch(ii.M_);if(Me&&function(nt){const yt=nt.range!==void 0,It=nt.contents!==void 0&&nt.contents&&nt.contents.length>0;return yt&&It}(Me))return new Ld(K,Me,le)}(l,A,t,n,r));return un.AE.fromPromises(u).coalesce()}function Rc(e,t,n,r,o=!1){return Ic(e,t,n,r,o).map((u)=>u.hover).toPromise()}O.ke("_executeHoverProvider",(e,t,n)=>Rc(e.get(Wt.ILanguageFeaturesService).hoverProvider,t,n,wn.XO.None)),O.ke("_executeHoverProvider_recursive",(e,t,n)=>Rc(e.get(Wt.ILanguageFeaturesService).hoverProvider,t,n,wn.XO.None,!0));var $a=function(e,t){return function(n,r){t(n,r,e)}};const ma=ae.$,Xu=_r.pU("hover-increase-verbosity",be.W.add,oe.kg("increaseHoverVerbosity","Icon for increaseing hover verbosity.")),Hu=_r.pU("hover-decrease-verbosity",be.W.remove,oe.kg("decreaseHoverVerbosity","Icon for decreasing hover verbosity."));class Vo{constructor(e,t,n,r,o,u=void 0){this.owner=e,this.range=t,this.contents=n,this.isBeforeContent=r,this.ordinal=o,this.source=u}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}class Za{constructor(e,t,n){this.hover=e,this.hoverProvider=t,this.hoverPosition=n}supportsVerbosityAction(e){switch(e){case Pt.M$.Increase:return this.hover.canIncreaseVerbosity??!1;case Pt.M$.Decrease:return this.hover.canDecreaseVerbosity??!1}}}let vl=class{constructor(e,t,n,r,o,u,l,A){this._editor=e,this._languageService=t,this._openerService=n,this._configurationService=r,this._languageFeaturesService=o,this._keybindingService=u,this._hoverService=l,this._commandService=A,this.hoverOrdinal=3}createLoadingMessage(e){return new Vo(this,e.range,[new ti.Bc().appendText(oe.kg("modesContentHover.loading","Loading..."))],!1,2000)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const n=this._editor.getModel(),r=e.range.startLineNumber,o=n.getLineMaxColumn(r),u=[];let l=1000;const A=n.getLineLength(r),K=n.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),le=this._editor.getOption(118),ue=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:K});let we=!1;le>=0&&A>le&&e.range.startColumn>=le&&(we=!0,u.push(new Vo(this,e.range,[{value:oe.kg("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,l++))),!we&&typeof ue=="number"&&A>=ue&&u.push(new Vo(this,e.range,[{value:oe.kg("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,l++));let Qe=!1;for(let Me of t){const nt=Me.range.startLineNumber===r?Me.range.startColumn:1,yt=Me.range.endLineNumber===r?Me.range.endColumn:o,It=Me.options.hoverMessage;if(!It||ti.it(It))continue;Me.options.beforeContentClassName&&(Qe=!0);const Dt=new Nt.Q(e.range.startLineNumber,nt,e.range.startLineNumber,yt);u.push(new Vo(this,Dt,mn._j(It),Qe,l++))}return u}computeAsync(e,t,n){if(!this._editor.hasModel()||e.type!==1)return un.AE.EMPTY;const r=this._editor.getModel(),o=this._languageFeaturesService.hoverProvider;return o.has(r)?this._getMarkdownHovers(o,r,e,n):un.AE.EMPTY}_getMarkdownHovers(e,t,n,r){const o=n.range.getStartPosition();return Ic(e,t,o,r).filter((u)=>!ti.it(u.hover.contents)).map((u)=>{const l=u.hover.range?Nt.Q.lift(u.hover.range):n.range,A=new Za(u.hover,u.provider,o);return new Vo(this,l,u.hover.contents,!1,u.ordinal,A)})}renderHoverParts(e,t){return this._renderedHoverParts=new Lc(t,e.fragment,this,this._editor,this._languageService,this._openerService,this._commandService,this._keybindingService,this._hoverService,this._configurationService,e.onContentsChanged),this._renderedHoverParts}updateMarkdownHoverVerbosityLevel(e,t,n){return Promise.resolve(this._renderedHoverParts?.updateMarkdownHoverPartVerbosityLevel(e,t,n))}};vl=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([$a(1,Ss.L),$a(2,hn.C),$a(3,lt.pG),$a(4,Wt.ILanguageFeaturesService),$a(5,ui.b),$a(6,Ys.TN),$a(7,En.d)],vl);class yl{constructor(e,t,n){this.hoverPart=e,this.hoverElement=t,this.disposables=n}dispose(){this.disposables.dispose()}}class Lc{constructor(e,t,n,r,o,u,l,A,K,le,ue){this._hoverParticipant=n,this._editor=r,this._languageService=o,this._openerService=u,this._commandService=l,this._keybindingService=A,this._hoverService=K,this._configurationService=le,this._onFinishedRendering=ue,this._ongoingHoverOperations=new Map,this._disposables=new ft.Cm,this.renderedHoverParts=this._renderHoverParts(e,t,this._onFinishedRendering),this._disposables.add(ft.s(()=>{this.renderedHoverParts.forEach((we)=>{we.dispose()}),this._ongoingHoverOperations.forEach((we)=>{we.tokenSource.dispose(!0)})}))}_renderHoverParts(e,t,n){return e.sort(mn.VE((r)=>r.ordinal,mn.U9)),e.map((r)=>{const o=this._renderHoverPart(r,n);return t.appendChild(o.hoverElement),o})}_renderHoverPart(e,t){const n=this._renderMarkdownHover(e,t),r=n.hoverElement,o=e.source,u=new ft.Cm;if(u.add(n),!o)return new yl(e,r,u);const l=o.supportsVerbosityAction(Pt.M$.Increase),A=o.supportsVerbosityAction(Pt.M$.Decrease);if(!l&&!A)return new yl(e,r,u);const K=ma("div.verbosity-actions");return r.prepend(K),u.add(this._renderHoverExpansionAction(K,Pt.M$.Increase,l)),u.add(this._renderHoverExpansionAction(K,Pt.M$.Decrease,A)),new yl(e,r,u)}_renderMarkdownHover(e,t){return Yu(this._editor,e,this._languageService,this._openerService,t)}_renderHoverExpansionAction(e,t,n){const r=new ft.Cm,o=t===Pt.M$.Increase,u=ae.BC(e,ma(Oe.L.asCSSSelector(o?Xu:Hu)));u.tabIndex=0;const l=new Ys.fO("mouse",!1,{target:e,position:{hoverPosition:0}},this._configurationService,this._hoverService);if(r.add(this._hoverService.setupManagedHover(l,u,function(K,le){switch(le){case Pt.M$.Increase:{const ue=K.lookupKeybinding(Jo);return ue?oe.kg("increaseVerbosityWithKb","Increase Hover Verbosity ({0})",ue.getLabel()):oe.kg("increaseVerbosity","Increase Hover Verbosity")}case Pt.M$.Decrease:{const ue=K.lookupKeybinding(ha);return ue?oe.kg("decreaseVerbosityWithKb","Decrease Hover Verbosity ({0})",ue.getLabel()):oe.kg("decreaseVerbosity","Decrease Hover Verbosity")}}}(this._keybindingService,t))),!n)return u.classList.add("disabled"),r;u.classList.add("enabled");const A=()=>this._commandService.executeCommand(t===Pt.M$.Increase?Jo:ha);return r.add(new Wa.vV(u,A)),r.add(new Wa.M4(u,A,[3,10])),r}async updateMarkdownHoverPartVerbosityLevel(e,t,n=!0){const r=this._editor.getModel();if(!r)return;const o=this._getRenderedHoverPartAtIndex(t),u=o?.hoverPart.source;if(!o||!u?.supportsVerbosityAction(e))return;const l=await this._fetchHover(u,r,e);if(!l)return;const A=new Za(l,u.hoverProvider,u.hoverPosition),K=o.hoverPart,le=new Vo(this._hoverParticipant,K.range,l.contents,K.isBeforeContent,K.ordinal,A),ue=this._renderHoverPart(le,this._onFinishedRendering);return this._replaceRenderedHoverPartAtIndex(t,ue,le),n&&this._focusOnHoverPartWithIndex(t),{hoverPart:le,hoverElement:ue.hoverElement}}async _fetchHover(e,t,n){let r=n===Pt.M$.Increase?1:-1;const o=e.hoverProvider,u=this._ongoingHoverOperations.get(o);u&&(u.tokenSource.cancel(),r+=u.verbosityDelta);const l=new wn.Qi;this._ongoingHoverOperations.set(o,{verbosityDelta:r,tokenSource:l});const A={verbosityRequest:{verbosityDelta:r,previousHover:e.hover}};let K;try{K=await Promise.resolve(o.provideHover(t,e.hoverPosition,l.token,A))}catch(le){ii.M_(le)}return l.dispose(),this._ongoingHoverOperations.delete(o),K}_replaceRenderedHoverPartAtIndex(e,t,n){if(e>=this.renderedHoverParts.length||e<0)return;const r=this.renderedHoverParts[e],o=r.hoverElement,u=t.hoverElement,l=Array.from(u.children);o.replaceChildren(...l);const A=new yl(n,o,t.disposables);o.focus(),r.dispose(),this.renderedHoverParts[e]=A}_focusOnHoverPartWithIndex(e){this.renderedHoverParts[e].hoverElement.focus()}_getRenderedHoverPartAtIndex(e){return this.renderedHoverParts[e]}dispose(){this._disposables.dispose()}}function Yu(e,t,n,r,o){const u=new ft.Cm,l=ma("div.hover-row"),A=ma("div.hover-row-contents");l.appendChild(A);const K=t.contents;for(let le of K){if(ti.it(le))continue;const ue=ma("div.markdown-hover"),we=ae.BC(ue,ma("div.hover-contents")),Qe=u.add(new en.T({editor:e},n,r));u.add(Qe.onDidRenderAsync(()=>{we.className="hover-contents code-hover-contents",o()}));const Me=u.add(Qe.render(le));we.appendChild(Me.element),A.appendChild(ue)}return{hoverPart:t,hoverElement:l,dispose(){u.dispose()}}}var $r=ct(7042),Fr=ct(3877);function Dd(e,t){return!!e[t]}class Dc{constructor(e,t){this.target=e.target,this.isLeftClick=e.event.leftButton,this.isMiddleClick=e.event.middleButton,this.isRightClick=e.event.rightButton,this.hasTriggerModifier=Dd(e.event,t.triggerModifier),this.hasSideBySideModifier=Dd(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class Md{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=Dd(e,t.triggerModifier)}}class Kl{constructor(e,t,n,r){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=r}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function ju(e){return e==="altKey"?tn.zx?new Kl(57,"metaKey",6,"altKey"):new Kl(5,"ctrlKey",6,"altKey"):tn.zx?new Kl(6,"altKey",57,"metaKey"):new Kl(6,"altKey",5,"ctrlKey")}class ec extends ft.jG{constructor(e,t){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new Rt.vl),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new Rt.vl),this.onExecute=this._onExecute.event,this._onCancel=this._register(new Rt.vl),this.onCancel=this._onCancel.event,this._editor=e,this._extractLineNumberFromMouseEvent=t?.extractLineNumberFromMouseEvent??((n)=>n.target.position?n.target.position.lineNumber:0),this._opts=ju(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration((n)=>{if(n.hasChanged(78)){const r=ju(this._editor.getOption(78));if(this._opts.equals(r))return;this._opts=r,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove((n)=>this._onEditorMouseMove(new Dc(n,this._opts)))),this._register(this._editor.onMouseDown((n)=>this._onEditorMouseDown(new Dc(n,this._opts)))),this._register(this._editor.onMouseUp((n)=>this._onEditorMouseUp(new Dc(n,this._opts)))),this._register(this._editor.onKeyDown((n)=>this._onEditorKeyDown(new Md(n,this._opts)))),this._register(this._editor.onKeyUp((n)=>this._onEditorKeyUp(new Md(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection((n)=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel((n)=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange((n)=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(e)}_onEditorMouseUp(e){const t=this._extractLineNumberFromMouseEvent(e);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}class Pd{constructor(e,t){this.range=e,this.direction=t}}class Fd{constructor(e,t,n){this.hint=e,this.anchor=t,this.provider=n,this._isResolved=!1}with(e){const t=new Fd(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}async resolve(e){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve){if(await this._currentResolve,e.isCancellationRequested)return;return this.resolve(e)}this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),await this._currentResolve}}async _doResolve(e){try{const t=await Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=t?.tooltip??this.hint.tooltip,this.hint.label=t?.label??this.hint.label,this.hint.textEdits=t?.textEdits??this.hint.textEdits,this._isResolved=!0}catch(t){ii.M_(t),this._isResolved=!1}}}class Sl{static{this._emptyInlayHintList=Object.freeze({dispose(){},hints:[]})}static async create(e,t,n,r){const o=[],u=e.ordered(t).reverse().map((l)=>n.map(async(A)=>{try{const K=await l.provideInlayHints(t,A,r);(K?.hints.length||l.onDidChangeInlayHints)&&o.push([K??Sl._emptyInlayHintList,l])}catch(K){ii.M_(K)}}));if(await Promise.all(u.flat()),r.isCancellationRequested||t.isDisposed())throw new ii.AL;return new Sl(n,o,t)}constructor(e,t,n){this._disposables=new ft.Cm,this.ranges=e,this.provider=new Set;const r=[];for(let[o,u]of t){this._disposables.add(o),this.provider.add(u);for(let l of o.hints){const A=n.validatePosition(l.position);let K="before";const le=Sl._getRangeAtPosition(n,A);let ue;le.getStartPosition().isBefore(A)?(ue=Nt.Q.fromPositions(le.getStartPosition(),A),K="after"):(ue=Nt.Q.fromPositions(A,le.getEndPosition()),K="before"),r.push(new Fd(l,new Pd(ue,K),u))}}this.items=r.sort((o,u)=>Yn.y.compare(o.hint.position,u.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const n=t.lineNumber,r=e.getWordAtPosition(t);if(r)return new Nt.Q(n,r.startColumn,n,r.endColumn);e.tokenization.tokenizeIfCheap(n);const o=e.tokenization.getLineTokens(n),u=t.column-1,l=o.findTokenIndexAtOffset(u);let A=o.getStartOffset(l),K=o.getEndOffset(l);return K-A==1&&(A===u&&l>1?(A=o.getStartOffset(l-1),K=o.getEndOffset(l-1)):K===u&&l<o.getCount()-1&&(A=o.getStartOffset(l+1),K=o.getEndOffset(l+1))),new Nt.Q(n,A+1,n,K+1)}}var wl=ct(6638),Mc=ct(1386),eo=ct(2394),js=function(e,t){return function(n,r){t(n,r,e)}};let ws=class extends de.x{constructor(e,t,n,r,o,u,l,A,K,le,ue,we,Qe){super(e,{...r.getRawOptions(),overflowWidgetsDomNode:r.getOverflowWidgetsDomNode()},n,o,u,l,A,K,le,ue,we,Qe),this._parentEditor=r,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(r.onDidChangeConfiguration((Me)=>this._onParentConfigurationChanged(Me)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){Mc.co(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};ws=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([js(4,Ke._Y),js(5,Ue.T),js(6,En.d),js(7,ye.fN),js(8,pi.Gy),js(9,Dr.Ot),js(10,fa.j),js(11,eo.JZ),js(12,Wt.ILanguageFeaturesService)],ws);var a=ct(4664);const S=new hi.Q1(new hi.bU(0,122,204)),F={showArrow:!0,showFrame:!0,className:"",frameColor:S,arrowColor:S,keepEditorSelection:!1};class q{constructor(e,t,n,r,o,u,l,A){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=r,this.showInHiddenAreas=l,this.ordinal=A,this._onDomNodeTop=o,this._onComputedHeight=u}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class fe{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class Re{static{this._IdGenerator=new a.n(".arrow-decoration-")}constructor(e){this._editor=e,this._ruleName=Re._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),ae.U2(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){ae.U2(this._ruleName),ae.Wt(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:Nt.Q.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}class Ee{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new ft.Cm,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=Mc.Go(t),Mc.co(this.options,F,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((n)=>{const r=this._getWidth(n);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(n)+"px",this._onWidth(r)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((e)=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new Re(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){const e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){const t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}this._resizeSash?.layout()}get position(){const e=this._positionMarkerId.getRange(0);if(e)return e.getStartPosition()}show(e,t){const n=Nt.Q.isIRange(e)?Nt.Q.lift(e):Nt.Q.fromPositions(e);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId.set([{range:n,options:Hn.kI.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones((e)=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow?.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const e=this.editor.getOption(67);let t=0;return this.options.showArrow&&(t+=2*Math.round(e/3)),this.options.showFrame&&(t+=2*Math.round(e/9)),t}_showImpl(e,t){const n=e.getStartPosition(),r=this.editor.getLayoutInfo(),o=this._getWidth(r);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(r)+"px";const u=document.createElement("div");u.style.overflow="hidden";const l=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){const we=Math.max(12,this.editor.getLayoutInfo().height/l*0.8);t=Math.min(t,we)}let A=0,K=0;if(this._arrow&&this.options.showArrow&&(A=Math.round(l/3),this._arrow.height=A,this._arrow.show(n)),this.options.showFrame&&(K=Math.round(l/9)),this.editor.changeViewZones((we)=>{this._viewZone&&we.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new q(u,n.lineNumber,n.column,t,(Qe)=>this._onViewZoneTop(Qe),(Qe)=>this._onViewZoneHeight(Qe),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=we.addZone(this._viewZone),this._overlayWidget=new fe("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const we=this.options.frameWidth?this.options.frameWidth:K;this.container.style.borderTopWidth=we+"px",this.container.style.borderBottomWidth=we+"px"}const le=t*l-this._decoratingElementsHeight();this.container&&(this.container.style.top=A+"px",this.container.style.height=le+"px",this.container.style.overflow="hidden"),this._doLayout(le,o),this.options.keepEditorSelection||this.editor.setSelection(e);const ue=this.editor.getModel();if(ue){const we=ue.validateRange(new Nt.Q(e.startLineNumber,1,e.endLineNumber+1,1));this.revealRange(we,we.startLineNumber===ue.getLineCount())}}revealRange(e,t){t?this.editor.revealLineNearTop(e.endLineNumber,0):this.editor.revealRange(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((t)=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let e;this._resizeSash=this._disposables.add(new pa.m(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((t)=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange((t)=>{if(e){const n=(t.currentY-e.startY)/this.editor.getOption(67),r=n<0?Math.ceil(n):Math.floor(n),o=e.heightInLines+r;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}var Ge=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},vt=function(e,t){return function(n,r){t(n,r,e)}};const Ct=Ke.u1("IPeekViewService");var Qt,an;ho.v(Ct,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,t){const n=this._widgets.get(e);n&&(n.listener.dispose(),n.widget.dispose()),this._widgets.set(e,{widget:t,listener:t.onDidClose(()=>{const r=this._widgets.get(e);r&&r.widget===t&&(r.listener.dispose(),this._widgets.delete(e))})})}},1),(an=Qt||(Qt={})).inPeekEditor=new ye.N1("inReferenceSearchEditor",!0,oe.kg("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),an.notInPeekEditor=an.inPeekEditor.toNegated();let kn=class{static{this.ID="editor.contrib.referenceController"}constructor(e,t){e instanceof ws&&Qt.inPeekEditor.bindTo(t)}dispose(){}};kn=Ge([vt(1,ye.fN)],kn),O.HW(kn.ID,kn,0);const jn={headerBackgroundColor:hi.Q1.white,primaryHeadingColor:hi.Q1.fromHex("#333333"),secondaryHeadingColor:hi.Q1.fromHex("#6c6c6cb3")};let bi=class extends Ee{constructor(e,t,n){super(e,t),this.instantiationService=n,this._onDidClose=new Rt.vl,this.onDidClose=this._onDidClose.event,Mc.co(this.options,jn,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){const t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();const e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=ae.$(".head"),this._bodyElement=ae.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){this._titleElement=ae.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),ae.b2(this._titleElement,"click",(o)=>this._onTitleClick(o))),ae.BC(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=ae.$("span.filename"),this._secondaryHeading=ae.$("span.dirname"),this._metaHeading=ae.$("span.meta"),ae.BC(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const n=ae.$(".peekview-actions");ae.BC(this._headElement,n);const r=this._getActionBarOptions();this._actionbarWidget=new Ns.E(n,r),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new Vn.rc("peekview.close",oe.kg("label.close","Close"),Oe.L.asClassName(be.W.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:br.rN.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:ae.w_(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,ae.WU(this._metaHeading)):ae.jD(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const n=Math.ceil(1.2*this.editor.getOption(67)),r=Math.round(e-(n+2));this._doLayoutHead(n,t),this._doLayoutBody(r,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};bi=Ge([vt(2,Ke._Y)],bi);const gr=Xt.x1A("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:hi.Q1.black,hcLight:hi.Q1.white},oe.kg("peekViewTitleBackground","Background color of the peek view title area.")),Ei=Xt.x1A("peekViewTitleLabel.foreground",{dark:hi.Q1.white,light:hi.Q1.black,hcDark:hi.Q1.white,hcLight:Xt.By2},oe.kg("peekViewTitleForeground","Color of the peek view title.")),yr=Xt.x1A("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},oe.kg("peekViewTitleInfoForeground","Color of the peek view title info.")),hr=Xt.x1A("peekView.border",{dark:Xt.pOz,light:Xt.pOz,hcDark:Xt.b1q,hcLight:Xt.b1q},oe.kg("peekViewBorder","Color of the peek view borders and arrow.")),mr=Xt.x1A("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:hi.Q1.black,hcLight:hi.Q1.white},oe.kg("peekViewResultsBackground","Background color of the peek view result list.")),Sr=(Xt.x1A("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:hi.Q1.white,hcLight:Xt.By2},oe.kg("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),Xt.x1A("peekViewResult.fileForeground",{dark:hi.Q1.white,light:"#1E1E1E",hcDark:hi.Q1.white,hcLight:Xt.By2},oe.kg("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),Xt.x1A("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},oe.kg("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),Xt.x1A("peekViewResult.selectionForeground",{dark:hi.Q1.white,light:"#6C6C6C",hcDark:hi.Q1.white,hcLight:Xt.By2},oe.kg("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),Xt.x1A("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:hi.Q1.black,hcLight:hi.Q1.white},oe.kg("peekViewEditorBackground","Background color of the peek view editor.")));Xt.x1A("peekViewEditorGutter.background",Sr,oe.kg("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Xt.x1A("peekViewEditorStickyScroll.background",Sr,oe.kg("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),Xt.x1A("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},oe.kg("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),Xt.x1A("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},oe.kg("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Xt.x1A("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Xt.buw,hcLight:Xt.buw},oe.kg("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var zi=ct(8421),Or=ct(3532);class Hr{constructor(e,t,n,r){this.isProviderFirst=e,this.parent=t,this.link=n,this._rangeCallback=r,this.id=a.r.nextId()}get uri(){return this.link.uri}get range(){return this._range??this.link.targetSelectionRange??this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){const e=this.parent.getPreview(this)?.preview(this.range);return e?oe.kg({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",e.value,bn.P8(this.uri),this.range.startLineNumber,this.range.startColumn):oe.kg("aria.oneReference","in {0} on line {1} at column {2}",bn.P8(this.uri),this.range.startLineNumber,this.range.startColumn)}}class Tr{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:r,startColumn:o,endLineNumber:u,endColumn:l}=e,A=n.getWordUntilPosition({lineNumber:r,column:o-t}),K=new Nt.Q(r,A.startColumn,r,o),le=new Nt.Q(u,l,u,1073741824),ue=n.getValueInRange(K).replace(/^\s+/,""),we=n.getValueInRange(e);return{value:ue+we+n.getValueInRange(le).replace(/\s+$/,""),highlight:{start:ue.length,end:ue.length+we.length}}}}class oo{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new ro.fT}dispose(){ft.AS(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return e===1?oe.kg("aria.fileReferences.1","1 symbol in {0}, full path {1}",bn.P8(this.uri),this.uri.fsPath):oe.kg("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,bn.P8(this.uri),this.uri.fsPath)}async resolve(e){if(this._previews.size!==0)return this;for(let t of this.children)if(!this._previews.has(t.uri))try{const n=await e.createModelReference(t.uri);this._previews.set(t.uri,new Tr(n))}catch(n){ii.dz(n)}return this}}class Wi{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new Rt.vl,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[n]=e;let r;e.sort(Wi._compareReferences);for(let o of e)if(r&&bn.er.isEqual(r.uri,o.uri,!0)||(r=new oo(this,o.uri),this.groups.push(r)),r.children.length===0||Wi._compareReferences(o,r.children[r.children.length-1])!==0){const u=new Hr(n===o,r,o,(l)=>this._onDidChangeReferenceRange.fire(l));this.references.push(u),r.children.push(u)}}dispose(){ft.AS(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new Wi(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?oe.kg("aria.result.0","No results found"):this.references.length===1?oe.kg("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?oe.kg("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):oe.kg("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){const{parent:n}=e;let r=n.children.indexOf(e);const o=n.children.length,u=n.parent.groups.length;return u===1||t&&r+1<o||!t&&r>0?(r=t?(r+1)%o:(r+o-1)%o,n.children[r]):(r=n.parent.groups.indexOf(n),t?(r=(r+1)%u,n.parent.groups[r].children[0]):(r=(r+u-1)%u,n.parent.groups[r].children[n.parent.groups[r].children.length-1]))}nearestReference(e,t){const n=this.references.map((r,o)=>({idx:o,prefixLen:Ne.Qp(r.uri.toString(),e.toString()),offsetDist:100*Math.abs(r.range.startLineNumber-t.lineNumber)+Math.abs(r.range.startColumn-t.column)})).sort((r,o)=>r.prefixLen>o.prefixLen?-1:r.prefixLen<o.prefixLen?1:r.offsetDist<o.offsetDist?-1:r.offsetDist>o.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(e,t){for(let n of this.references)if(n.uri.toString()===e.toString()&&Nt.Q.containsPosition(n.range,t))return n}firstReference(){for(let e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return bn.er.compare(e.uri,t.uri)||Nt.Q.compareRangesUsingStarts(e.range,t.range)}}var Ir,To=ct(7003),Vi=ct(4957),Lo=ct(9233),Ua=ct(8431),X0=ct(4431),po=ct(5637),Od=ct(8377),qu=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},Ku=function(e,t){return function(n,r){t(n,r,e)}};let Fp=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof Wi||e instanceof oo}getChildren(e){if(e instanceof Wi)return e.groups;if(e instanceof oo)return e.resolve(this._resolverService).then((t)=>t.children);throw new Error("bad tree")}};Fp=qu([Ku(0,$r.ITextModelService)],Fp);class H0{getHeight(){return 23}getTemplateId(e){return e instanceof oo?eh.id:th.id}}let Op=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){if(e instanceof Hr){const t=e.parent.getPreview(e)?.preview(e.range);if(t)return t.value}return bn.P8(e.uri)}};Op=qu([Ku(0,ui.b)],Op);class Y0{getId(e){return e instanceof Hr?e.id:e.uri}}let Qp=class extends ft.jG{constructor(e,t){super(),this._labelService=t;const n=document.createElement("div");n.classList.add("reference-file"),this.file=this._register(new X0.s(n,{supportHighlights:!0})),this.badge=new Lo.x(ae.BC(n,ae.$(".count")),{},ms.m$),e.appendChild(n)}set(e,t){const n=bn.pD(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(n,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});const r=e.children.length;this.badge.setCount(r),r>1?this.badge.setTitleFormat(oe.kg("referencesCount","{0} references",r)):this.badge.setTitleFormat(oe.kg("referenceCount","{0} reference",r))}};Qp=qu([Ku(1,Od.L)],Qp);let eh=class{static{Ir=this}static{this.id="FileReferencesRenderer"}constructor(e){this._instantiationService=e,this.templateId=Ir.id}renderTemplate(e){return this._instantiationService.createInstance(Qp,e)}renderElement(e,t,n){n.set(e.element,po.WJ(e.filterData))}disposeTemplate(e){e.dispose()}};eh=Ir=qu([Ku(0,Ke._Y)],eh);class j0 extends ft.jG{constructor(e){super(),this.label=this._register(new Ua._(e))}set(e,t){const n=e.parent.getPreview(e)?.preview(e.range);if(n&&n.value){const{value:r,highlight:o}=n;t&&!po.ne.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(r,po.WJ(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(r,[o]))}else this.label.set(`${bn.P8(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}}class th{constructor(){this.templateId=th.id}static{this.id="OneReferenceRenderer"}renderTemplate(e){return new j0(e)}renderElement(e,t,n){n.set(e.element,e.filterData)}disposeTemplate(e){e.dispose()}}class q0{getWidgetAriaLabel(){return oe.kg("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var Pc=function(e,t){return function(n,r){t(n,r,e)}};class zp{static{this.DecorationOptions=Hn.kI.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"})}constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new ft.Cm,this._callOnModelChange=new ft.Cm,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e){for(let t of this._model.references)if(t.uri.toString()===e.uri.toString())return void this._addDecorations(t.parent)}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],n=[];for(let r=0,o=e.children.length;r<o;r++){const u=e.children[r];this._decorationIgnoreSet.has(u.id)||u.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:u.range,options:zp.DecorationOptions}),n.push(r))}this._editor.changeDecorations((r)=>{const o=r.deltaDecorations([],t);for(let u=0;u<o.length;u++)this._decorations.set(o[u],e.children[n[u]])})}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(let[n,r]of this._decorations){const o=t.getDecorationRange(n);if(!o)continue;let u=!1;Nt.Q.equalsRange(o,r.range)||((Nt.Q.spansMultipleLines(o)||r.range.endColumn-r.range.startColumn!=o.endColumn-o.startColumn)&&(u=!0),u?(this._decorationIgnoreSet.add(r.id),e.push(n)):r.range=o)}for(let n=0,r=e.length;n<r;n++)this._decorations.delete(e[n]);this._editor.removeDecorations(e)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}class K0{constructor(){this.ratio=0.7,this.heightInLines=18}static fromJSON(e){let t,n;try{const r=JSON.parse(e);t=r.ratio,n=r.heightInLines}catch{}return{ratio:t||0.7,heightInLines:n||18}}}class e1 extends Or.er{}let Wp=class extends bi{constructor(e,t,n,r,o,u,l,A,K){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},u),this._defaultTreeKeyboardSupport=t,this.layoutData=n,this._textModelResolverService=o,this._instantiationService=u,this._peekViewService=l,this._uriLabel=A,this._keybindingService=K,this._disposeOnNewModel=new ft.Cm,this._callOnDispose=new ft.Cm,this._onDidSelectReference=new Rt.vl,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new ae.fg(0,0),this._isClosing=!1,this._applyTheme(r.getColorTheme()),this._callOnDispose.add(r.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}get isClosing(){return this._isClosing}dispose(){this._isClosing=!0,this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),ft.AS(this._preview),ft.AS(this._previewNotAvailableMessage),ft.AS(this._tree),ft.AS(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(hr)||hi.Q1.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(gr)||hi.Q1.transparent,primaryHeadingColor:e.getColor(Ei),secondaryHeadingColor:e.getColor(yr)})}show(e){super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=ae.BC(e,ae.$("div.messages")),ae.jD(this._messageContainer),this._splitView=new To.U(e,{orientation:1}),this._previewContainer=ae.BC(e,ae.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(ws,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},{},this.editor),ae.jD(this._previewContainer),this._previewNotAvailableMessage=this._instantiationService.createInstance(Hn.Bz,oe.kg("missingPreviewMessage","no preview available"),Vi.vH,Hn.Bz.DEFAULT_CREATION_OPTIONS,null),this._treeContainer=ae.BC(e,ae.$("div.ref-tree.inline"));const t={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new q0,keyboardNavigationLabelProvider:this._instantiationService.createInstance(Op),identityProvider:new Y0,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:mr}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(ae.b2(this._treeContainer,"keydown",(r)=>{r.equals(9)&&(this._keybindingService.dispatchEvent(r,r.target),r.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(e1,"ReferencesWidget",this._treeContainer,new H0,[this._instantiationService.createInstance(eh),this._instantiationService.createInstance(th)],this._instantiationService.createInstance(Fp),t),this._splitView.addView({onDidChange:Rt.Jh.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:(r)=>{this._preview.layout({height:this._dim.height,width:r})}},To.X.Distribute),this._splitView.addView({onDidChange:Rt.Jh.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:(r)=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${r}px`,this._tree.layout(this._dim.height,r)}},To.X.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const n=(r,o)=>{r instanceof Hr&&(o==="show"&&this._revealReference(r,!1),this._onDidSelectReference.fire({element:r,kind:o,source:"tree"}))};this._disposables.add(this._tree.onDidOpen((r)=>{r.sideBySide?n(r.element,"side"):r.editorOptions.pinned?n(r.element,"goto"):n(r.element,"show")})),ae.jD(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new ae.fg(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=oe.kg("noResults","No results"),ae.WU(this._messageContainer),Promise.resolve(void 0)):(ae.jD(this._messageContainer),this._decorationsManager=new zp(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((e)=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown((e)=>{const{event:t,target:n}=e;if(t.detail!==2)return;const r=this._getFocusedReference();r&&this._onDidSelectReference.fire({element:{uri:r.uri,range:n.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),ae.WU(this._treeContainer),ae.WU(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();return e instanceof Hr?e:e instanceof oo&&e.children.length>0?e.children[0]:void 0}async revealReference(e){await this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}async _revealReference(e,t){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==Nn.ny.inMemory?this.setTitle(bn.Pi(e.uri),this._uriLabel.getUriLabel(bn.pD(e.uri))):this.setTitle(oe.kg("peekView.alternateTitle","References"));const n=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent||(t&&this._tree.reveal(e.parent),await this._tree.expand(e.parent)),this._tree.reveal(e);const r=await n;if(!this._model)return void r.dispose();ft.AS(this._previewModelReference);const o=r.object;if(o){const u=this._preview.getModel()===o.textEditorModel?0:1,l=Nt.Q.lift(e.range).collapseToStart();this._previewModelReference=r,this._preview.setModel(o.textEditorModel),this._preview.setSelection(l),this._preview.revealRangeInCenter(l,u)}else this._preview.setModel(this._previewNotAvailableMessage),r.dispose()}};Wp=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Pc(3,pi.Gy),Pc(4,$r.ITextModelService),Pc(5,Ke._Y),Pc(6,Ct),Pc(7,Od.L),Pc(8,ui.b)],Wp);var nh,tc=ct(3034),Fc=function(e,t){return function(n,r){t(n,r,e)}};const nc=new ye.N1("referenceSearchVisible",!1,oe.kg("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let ic=class{static{nh=this}static{this.ID="editor.contrib.referencesController"}static get(e){return e.getContribution(nh.ID)}constructor(e,t,n,r,o,u,l,A){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=r,this._notificationService=o,this._instantiationService=u,this._storageService=l,this._configurationService=A,this._disposables=new ft.Cm,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=nc.bindTo(n)}dispose(){this._referenceSearchVisible.reset(),this._disposables.dispose(),this._widget?.dispose(),this._model?.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,n){let r;if(this._widget&&(r=this._widget.position),this.closeWidget(),r&&e.containsPosition(r))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const o="peekViewLayout",u=K0.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(Wp,this._editor,this._defaultTreeKeyboardSupport,u),this._widget.setTitle(oe.kg("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget?(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0,1),this._widget.isClosing||this.closeWidget(),this._widget=void 0):this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference((A)=>{const{element:K,kind:le}=A;if(K)switch(le){case"open":A.source==="editor"&&this._configurationService.getValue("editor.stablePeek")||this.openReference(K,!1,!1);break;case"side":this.openReference(K,!0,!1);break;case"goto":n?this._gotoReference(K,!0):this.openReference(K,!1,!0)}}));const l=++this._requestIdPool;t.then((A)=>{if(l===this._requestIdPool&&this._widget)return this._model?.dispose(),this._model=A,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(oe.kg("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const K=this._editor.getModel().uri,le=new Yn.y(e.startLineNumber,e.startColumn),ue=this._model.nearestReference(K,le);if(ue)return this._widget.setSelection(ue).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}});A.dispose()},(A)=>{this._notificationService.error(A)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}async goToNextOrPreviousReference(e){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const n=this._model.nearestReference(this._editor.getModel().uri,t);if(!n)return;const r=this._model.nextOrPreviousReference(n,e),o=this._editor.hasTextFocus(),u=this._widget.isPreviewEditorFocused();await this._widget.setSelection(r),await this._gotoReference(r,!1),o?this._editor.focus():this._widget&&u&&this._widget.focusOnPreviewEditor()}async revealReference(e){this._editor.hasModel()&&this._model&&this._widget&&await this._widget.revealReference(e)}closeWidget(e=!0){this._widget?.dispose(),this._model?.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e,t){this._widget?.hide(),this._ignoreModelChangeEvent=!0;const n=Nt.Q.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:n,selectionSource:"code.jump",pinned:t}},this._editor).then((r)=>{if(this._ignoreModelChangeEvent=!1,r&&this._widget)if(this._editor===r)this._widget.show(n),this._widget.focusOnReferenceTree();else{const o=nh.get(r),u=this._model.clone();this.closeWidget(),r.focus(),o?.toggleWidget(n,un.SS((l)=>Promise.resolve(u)),this._peekMode??!1)}else this.closeWidget()},(r)=>{this._ignoreModelChangeEvent=!1,ii.dz(r)})}openReference(e,t,n){t||this.closeWidget();const{uri:r,range:o}=e;this._editorService.openCodeEditor({resource:r,options:{selection:o,selectionSource:"code.jump",pinned:n}},this._editor,t)}};function rc(e,t){const n=function(o){const u=o.get(Ue.T).getFocusedCodeEditor();return u instanceof ws?u.getParentEditor():u}(e);if(!n)return;const r=ic.get(n);r&&t(r)}ic=nh=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Fc(2,ye.fN),Fc(3,Ue.T),Fc(4,Dr.Ot),Fc(5,Ke._Y),Fc(6,Zr.CS),Fc(7,lt.pG)],ic),zi.f.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Ln.m5(2089,60),when:ye.M$.or(nc,Qt.inPeekEditor),handler(e){rc(e,(t)=>{t.changeFocusBetweenPreviewAndReferences()})}}),zi.f.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:ye.M$.or(nc,Qt.inPeekEditor),handler(e){rc(e,(t)=>{t.goToNextOrPreviousReference(!0)})}}),zi.f.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:ye.M$.or(nc,Qt.inPeekEditor),handler(e){rc(e,(t)=>{t.goToNextOrPreviousReference(!1)})}}),En.w.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),En.w.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),En.w.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),En.w.registerCommand("closeReferenceSearch",(e)=>rc(e,(t)=>t.closeWidget())),zi.f.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:ye.M$.and(Qt.inPeekEditor,ye.M$.not("config.editor.stablePeek"))}),zi.f.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:ye.M$.and(nc,ye.M$.not("config.editor.stablePeek"),ye.M$.or(Fe.R.editorTextFocus,tc.J7.negate()))}),zi.f.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:ye.M$.and(nc,Or.YD,Or.Nf.negate(),Or.cH.negate()),handler(e){const t=e.get(Or.PE),n=t.lastFocusedList?.getFocus();Array.isArray(n)&&n[0]instanceof Hr&&rc(e,(r)=>r.revealReference(n[0]))}}),zi.f.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:ye.M$.and(nc,Or.YD,Or.Nf.negate(),Or.cH.negate()),handler(e){const t=e.get(Or.PE),n=t.lastFocusedList?.getFocus();Array.isArray(n)&&n[0]instanceof Hr&&rc(e,(r)=>r.openReference(n[0],!0,!0))}}),En.w.registerCommand("openReference",(e)=>{const t=e.get(Or.PE),n=t.lastFocusedList?.getFocus();Array.isArray(n)&&n[0]instanceof Hr&&rc(e,(r)=>r.openReference(n[0],!1,!0))});var t1=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},Qd=function(e,t){return function(n,r){t(n,r,e)}};const $p=new ye.N1("hasSymbols",!1,oe.kg("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),ih=Ke.u1("ISymbolNavigationService");let Zp=class{constructor(e,t,n,r){this._editorService=t,this._notificationService=n,this._keybindingService=r,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=$p.bindTo(e)}reset(){this._ctxHasSymbols.reset(),this._currentState?.dispose(),this._currentMessage?.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)return void this.reset();this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const n=new Up(this._editorService),r=n.onDidChange((o)=>{if(this._ignoreEditorChange)return;const u=this._editorService.getActiveCodeEditor();if(!u)return;const l=u.getModel(),A=u.getPosition();if(!l||!A)return;let K=!1,le=!1;for(let ue of t.references)if(bn.n4(ue.uri,l.uri))K=!0,le=le||Nt.Q.containsPosition(ue.range,A);else if(K)break;K&&le||this.reset()});this._currentState=ft.qE(n,r)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:Nt.Q.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){this._currentMessage?.dispose();const e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=e?oe.kg("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):oe.kg("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)}};Zp=t1([Qd(0,ye.fN),Qd(1,Ue.T),Qd(2,Dr.Ot),Qd(3,ui.b)],Zp),ho.v(ih,Zp,1),O.E_(new class extends O.DX{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:$p,kbOpts:{weight:100,primary:70}})}runEditorCommand(e,t){return e.get(ih).revealNext(t)}}),zi.f.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:$p,primary:9,handler(e){e.get(ih).reset()}});let Up=class{constructor(e){this._listener=new Map,this._disposables=new ft.Cm,this._onDidChange=new Rt.vl,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),ft.AS(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,ft.qE(e.onDidChangeCursorPosition((t)=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent((t)=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){this._listener.get(e)?.dispose(),this._listener.delete(e)}};function Bp(e,t){return t.uri.scheme===e.uri.scheme||!Nn.fV(t.uri,Nn.ny.walkThroughSnippet,Nn.ny.vscodeChatCodeBlock,Nn.ny.vscodeChatCodeCompareBlock)}async function zd(e,t,n,r,o){const u=n.ordered(e,r).map((A)=>Promise.resolve(o(A,e,t)).then(void 0,(K)=>{ii.M_(K)})),l=await Promise.all(u);return mn.Yc(l.flat()).filter((A)=>Bp(e,A))}function Wd(e,t,n,r,o){return zd(t,n,e,r,(u,l,A)=>u.provideDefinition(l,A,o))}function Vp(e,t,n,r,o){return zd(t,n,e,r,(u,l,A)=>u.provideDeclaration(l,A,o))}function Gp(e,t,n,r,o){return zd(t,n,e,r,(u,l,A)=>u.provideImplementation(l,A,o))}function Xp(e,t,n,r,o){return zd(t,n,e,r,(u,l,A)=>u.provideTypeDefinition(l,A,o))}function $d(e,t,n,r,o,u){return zd(t,n,e,o,async(l,A,K)=>{const le=(await l.provideReferences(A,K,{includeDeclaration:!0},u))?.filter((we)=>Bp(A,we));if(!r||!le||le.length!==2)return le;const ue=(await l.provideReferences(A,K,{includeDeclaration:!1},u))?.filter((we)=>Bp(A,we));return ue&&ue.length===1?ue:le})}async function ga(e){const t=await e(),n=new Wi(t,""),r=n.references.map((o)=>o.link);return n.dispose(),r}Up=t1([Qd(0,Ue.T)],Up),O.ke("_executeDefinitionProvider",(e,t,n)=>{const r=Wd(e.get(Wt.ILanguageFeaturesService).definitionProvider,t,n,!1,wn.XO.None);return ga(()=>r)}),O.ke("_executeDefinitionProvider_recursive",(e,t,n)=>{const r=Wd(e.get(Wt.ILanguageFeaturesService).definitionProvider,t,n,!0,wn.XO.None);return ga(()=>r)}),O.ke("_executeTypeDefinitionProvider",(e,t,n)=>{const r=Xp(e.get(Wt.ILanguageFeaturesService).typeDefinitionProvider,t,n,!1,wn.XO.None);return ga(()=>r)}),O.ke("_executeTypeDefinitionProvider_recursive",(e,t,n)=>{const r=Xp(e.get(Wt.ILanguageFeaturesService).typeDefinitionProvider,t,n,!0,wn.XO.None);return ga(()=>r)}),O.ke("_executeDeclarationProvider",(e,t,n)=>{const r=Vp(e.get(Wt.ILanguageFeaturesService).declarationProvider,t,n,!1,wn.XO.None);return ga(()=>r)}),O.ke("_executeDeclarationProvider_recursive",(e,t,n)=>{const r=Vp(e.get(Wt.ILanguageFeaturesService).declarationProvider,t,n,!0,wn.XO.None);return ga(()=>r)}),O.ke("_executeReferenceProvider",(e,t,n)=>{const r=$d(e.get(Wt.ILanguageFeaturesService).referenceProvider,t,n,!1,!1,wn.XO.None);return ga(()=>r)}),O.ke("_executeReferenceProvider_recursive",(e,t,n)=>{const r=$d(e.get(Wt.ILanguageFeaturesService).referenceProvider,t,n,!1,!0,wn.XO.None);return ga(()=>r)}),O.ke("_executeImplementationProvider",(e,t,n)=>{const r=Gp(e.get(Wt.ILanguageFeaturesService).implementationProvider,t,n,!1,wn.XO.None);return ga(()=>r)}),O.ke("_executeImplementationProvider_recursive",(e,t,n)=>{const r=Gp(e.get(Wt.ILanguageFeaturesService).implementationProvider,t,n,!0,wn.XO.None);return ga(()=>r)}),rt.ZG.appendMenuItem(rt.D8.EditorContext,{submenu:rt.D8.EditorContextPeek,title:oe.kg("peek.submenu","Peek"),group:"navigation",order:100});class Oc{static is(e){return!(!e||typeof e!="object")&&(e instanceof Oc||!(!Yn.y.isIPosition(e.position)||!e.model))}constructor(e,t){this.model=e,this.position=t}}class Go extends O.qO{static{this._allSymbolNavigationCommands=new Map}static{this._activeAlternativeCommands=new Set}static all(){return Go._allSymbolNavigationCommands.values()}static _patchConfig(e){const t={...e,f1:!0};if(t.menu)for(let n of An.f.wrap(t.menu))n.id!==rt.D8.EditorContext&&n.id!==rt.D8.EditorContextPeek||(n.when=ye.M$.and(e.precondition,n.when));return t}constructor(e,t){super(Go._patchConfig(t)),this.configuration=e,Go._allSymbolNavigationCommands.set(t.id,this)}runEditorCommand(e,t,n,r){if(!t.hasModel())return Promise.resolve(void 0);const o=e.get(Dr.Ot),u=e.get(Ue.T),l=e.get(Tt.N8),A=e.get(ih),K=e.get(Wt.ILanguageFeaturesService),le=e.get(Ke._Y),ue=t.getModel(),we=t.getPosition(),Qe=Oc.is(n)?n:new Oc(ue,we),Me=new _e.gI(t,5),nt=un.PK(this._getLocationModel(K,Qe.model,Qe.position,Me.token),Me.token).then(async(yt)=>{if(!yt||Me.token.isCancellationRequested)return;let It;if(si.xE(yt.ariaMessage),yt.referenceAt(ue.uri,we)){const cn=this._getAlternativeCommand(t);!Go._activeAlternativeCommands.has(cn)&&Go._allSymbolNavigationCommands.has(cn)&&(It=Go._allSymbolNavigationCommands.get(cn))}const Dt=yt.references.length;if(Dt===0){if(!this.configuration.muteMessage){const cn=ue.getWordAtPosition(we);ze.get(t)?.showMessage(this._getNoResultFoundMessage(cn),we)}}else{if(Dt!==1||!It)return this._onResult(u,A,t,yt,r);Go._activeAlternativeCommands.add(this.desc.id),le.invokeFunction((cn)=>It.runEditorCommand(cn,t,n,r).finally(()=>{Go._activeAlternativeCommands.delete(this.desc.id)}))}},(yt)=>{o.error(yt)}).finally(()=>{Me.dispose()});return l.showWhile(nt,250),nt}async _onResult(e,t,n,r,o){const u=this._getGoToPreference(n);if(n instanceof ws||!(this.configuration.openInPeek||u==="peek"&&r.references.length>1)){const l=r.firstReference(),A=r.references.length>1&&u==="gotoAndPeek",K=await this._openReference(n,e,l,this.configuration.openToSide,!A);A&&K?this._openInPeek(K,r,o):r.dispose(),u==="goto"&&t.put(l)}else this._openInPeek(n,r,o)}async _openReference(e,t,n,r,o){let u;if(Pt.Iu(n)&&(u=n.targetSelectionRange),u||(u=n.range),!u)return;const l=await t.openCodeEditor({resource:n.uri,options:{selection:Nt.Q.collapseToStart(u),selectionRevealType:3,selectionSource:"code.jump"}},e,r);if(l){if(o){const A=l.getModel(),K=l.createDecorationsCollection([{range:u,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{l.getModel()===A&&K.clear()},350)}return l}}_openInPeek(e,t,n){const r=ic.get(e);r&&e.hasModel()?r.toggleWidget(n??e.getSelection(),un.SS((o)=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}}class Qc extends Go{async _getLocationModel(e,t,n,r){return new Wi(await Wd(e.definitionProvider,t,n,!1,r),oe.kg("def.title","Definitions"))}_getNoResultFoundMessage(e){return e&&e.word?oe.kg("noResultWord","No definition found for '{0}'",e.word):oe.kg("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleDefinitions}}rt.ug(class e extends Qc{static{this.id="editor.action.revealDefinition"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,title:{...oe.aS("actions.goToDecl.label","Go to Definition"),mnemonicTitle:oe.kg({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:Fe.R.hasDefinitionProvider,keybinding:[{when:Fe.R.editorTextFocus,primary:70,weight:100},{when:ye.M$.and(Fe.R.editorTextFocus,tc.W0),primary:2118,weight:100}],menu:[{id:rt.D8.EditorContext,group:"navigation",order:1.1},{id:rt.D8.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),En.w.registerCommandAlias("editor.action.goToDeclaration",e.id)}}),rt.ug(class e extends Qc{static{this.id="editor.action.revealDefinitionAside"}constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,title:oe.aS("actions.goToDeclToSide.label","Open Definition to the Side"),precondition:ye.M$.and(Fe.R.hasDefinitionProvider,Fe.R.isInEmbeddedEditor.toNegated()),keybinding:[{when:Fe.R.editorTextFocus,primary:Ln.m5(2089,70),weight:100},{when:ye.M$.and(Fe.R.editorTextFocus,tc.W0),primary:Ln.m5(2089,2118),weight:100}]}),En.w.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id)}}),rt.ug(class e extends Qc{static{this.id="editor.action.peekDefinition"}constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,title:oe.aS("actions.previewDecl.label","Peek Definition"),precondition:ye.M$.and(Fe.R.hasDefinitionProvider,Qt.notInPeekEditor,Fe.R.isInEmbeddedEditor.toNegated()),keybinding:{when:Fe.R.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:rt.D8.EditorContextPeek,group:"peek",order:2}}),En.w.registerCommandAlias("editor.action.previewDeclaration",e.id)}});class Hp extends Go{async _getLocationModel(e,t,n,r){return new Wi(await Vp(e.declarationProvider,t,n,!1,r),oe.kg("decl.title","Declarations"))}_getNoResultFoundMessage(e){return e&&e.word?oe.kg("decl.noResultWord","No declaration found for '{0}'",e.word):oe.kg("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(58).multipleDeclarations}}rt.ug(class e extends Hp{static{this.id="editor.action.revealDeclaration"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,title:{...oe.aS("actions.goToDeclaration.label","Go to Declaration"),mnemonicTitle:oe.kg({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:ye.M$.and(Fe.R.hasDeclarationProvider,Fe.R.isInEmbeddedEditor.toNegated()),menu:[{id:rt.D8.EditorContext,group:"navigation",order:1.3},{id:rt.D8.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(t){return t&&t.word?oe.kg("decl.noResultWord","No declaration found for '{0}'",t.word):oe.kg("decl.generic.noResults","No declaration found")}}),rt.ug(class extends Hp{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:oe.aS("actions.peekDecl.label","Peek Declaration"),precondition:ye.M$.and(Fe.R.hasDeclarationProvider,Qt.notInPeekEditor,Fe.R.isInEmbeddedEditor.toNegated()),menu:{id:rt.D8.EditorContextPeek,group:"peek",order:3}})}});class Yp extends Go{async _getLocationModel(e,t,n,r){return new Wi(await Xp(e.typeDefinitionProvider,t,n,!1,r),oe.kg("typedef.title","Type Definitions"))}_getNoResultFoundMessage(e){return e&&e.word?oe.kg("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):oe.kg("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleTypeDefinitions}}rt.ug(class e extends Yp{static{this.ID="editor.action.goToTypeDefinition"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,title:{...oe.aS("actions.goToTypeDefinition.label","Go to Type Definition"),mnemonicTitle:oe.kg({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:Fe.R.hasTypeDefinitionProvider,keybinding:{when:Fe.R.editorTextFocus,primary:0,weight:100},menu:[{id:rt.D8.EditorContext,group:"navigation",order:1.4},{id:rt.D8.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}}),rt.ug(class e extends Yp{static{this.ID="editor.action.peekTypeDefinition"}constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,title:oe.aS("actions.peekTypeDefinition.label","Peek Type Definition"),precondition:ye.M$.and(Fe.R.hasTypeDefinitionProvider,Qt.notInPeekEditor,Fe.R.isInEmbeddedEditor.toNegated()),menu:{id:rt.D8.EditorContextPeek,group:"peek",order:4}})}});class jp extends Go{async _getLocationModel(e,t,n,r){return new Wi(await Gp(e.implementationProvider,t,n,!1,r),oe.kg("impl.title","Implementations"))}_getNoResultFoundMessage(e){return e&&e.word?oe.kg("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):oe.kg("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(58).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(58).multipleImplementations}}rt.ug(class e extends jp{static{this.ID="editor.action.goToImplementation"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,title:{...oe.aS("actions.goToImplementation.label","Go to Implementations"),mnemonicTitle:oe.kg({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:Fe.R.hasImplementationProvider,keybinding:{when:Fe.R.editorTextFocus,primary:2118,weight:100},menu:[{id:rt.D8.EditorContext,group:"navigation",order:1.45},{id:rt.D8.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}}),rt.ug(class e extends jp{static{this.ID="editor.action.peekImplementation"}constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,title:oe.aS("actions.peekImplementation.label","Peek Implementations"),precondition:ye.M$.and(Fe.R.hasImplementationProvider,Qt.notInPeekEditor,Fe.R.isInEmbeddedEditor.toNegated()),keybinding:{when:Fe.R.editorTextFocus,primary:3142,weight:100},menu:{id:rt.D8.EditorContextPeek,group:"peek",order:5}})}});class qp extends Go{_getNoResultFoundMessage(e){return e?oe.kg("references.no","No references found for '{0}'",e.word):oe.kg("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(58).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(58).multipleReferences}}rt.ug(class extends qp{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{...oe.aS("goToReferences.label","Go to References"),mnemonicTitle:oe.kg({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:ye.M$.and(Fe.R.hasReferenceProvider,Qt.notInPeekEditor,Fe.R.isInEmbeddedEditor.toNegated()),keybinding:{when:Fe.R.editorTextFocus,primary:1094,weight:100},menu:[{id:rt.D8.EditorContext,group:"navigation",order:1.45},{id:rt.D8.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}async _getLocationModel(e,t,n,r){return new Wi(await $d(e.referenceProvider,t,n,!0,!1,r),oe.kg("ref.title","References"))}}),rt.ug(class extends qp{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:oe.aS("references.action.label","Peek References"),precondition:ye.M$.and(Fe.R.hasReferenceProvider,Qt.notInPeekEditor,Fe.R.isInEmbeddedEditor.toNegated()),menu:{id:rt.D8.EditorContextPeek,group:"peek",order:6}})}async _getLocationModel(e,t,n,r){return new Wi(await $d(e.referenceProvider,t,n,!1,!1,r),oe.kg("ref.title","References"))}});class n1 extends Go{constructor(e,t,n){super(e,{id:"editor.action.goToLocation",title:oe.aS("label.generic","Go to Any Symbol"),precondition:ye.M$.and(Qt.notInPeekEditor,Fe.R.isInEmbeddedEditor.toNegated())}),this._references=t,this._gotoMultipleBehaviour=n}async _getLocationModel(e,t,n,r){return new Wi(this._references,oe.kg("generic.title","Locations"))}_getNoResultFoundMessage(e){return e&&oe.kg("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){return this._gotoMultipleBehaviour??e.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}async function w2(e,t,n,r){const o=e.get($r.ITextModelService),u=e.get(no.Z),l=e.get(En.d),A=e.get(Ke._Y),K=e.get(Dr.Ot);if(await r.item.resolve(wn.XO.None),!r.part.location)return;const le=r.part.location,ue=[],we=new Set(rt.ZG.getMenuItems(rt.D8.EditorContext).map((Me)=>rt.is(Me)?Me.command.id:fi()));for(let Me of Go.all())we.has(Me.desc.id)&&ue.push(new Vn.rc(Me.desc.id,rt.Xe.label(Me.desc,{renderShortTitle:!0}),void 0,!0,async()=>{const nt=await o.createModelReference(le.uri);try{const yt=new Oc(nt.object.textEditorModel,Nt.Q.getStartPosition(le.range)),It=r.item.anchor.range;await A.invokeFunction(Me.runEditorCommand.bind(Me),t,yt,It)}finally{nt.dispose()}}));if(r.part.command){const{command:Me}=r.part;ue.push(new Vn.wv),ue.push(new Vn.rc(Me.id,Me.title,void 0,!0,async()=>{try{await l.executeCommand(Me.id,...Me.arguments??[])}catch(nt){K.notify({severity:Dr.AI.Error,source:r.item.provider.displayName,message:nt})}}))}const Qe=t.getOption(128);u.showContextMenu({domForShadowRoot:Qe?t.getDomNode()??void 0:void 0,getAnchor:()=>{const Me=ae.BK(n);return{x:Me.left,y:Me.top+Me.height+8}},getActions:()=>ue,onHide:()=>{t.focus()},autoSelectFirstItem:!0})}async function i1(e,t,n,r){const o=e.get($r.ITextModelService),u=await o.createModelReference(r.uri);await n.invokeWithinContext(async(l)=>{const A=t.hasSideBySideModifier,K=l.get(ye.fN),le=Qt.inPeekEditor.getValue(K),ue=!A&&n.getOption(89)&&!le;return new Qc({openToSide:A,openInPeek:ue,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(l,new Oc(u.object.textEditorModel,Nt.Q.getStartPosition(r.range)),Nt.Q.lift(r.range))}),u.dispose()}En.w.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ht.r},{name:"position",description:"The position at which to start",constraint:Yn.y.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:async(e,t,n,r,o,u,l)=>{yn.j(ht.r.isUri(t)),yn.j(Yn.y.isIPosition(n)),yn.j(Array.isArray(r)),yn.j(o===void 0||typeof o=="string"),yn.j(l===void 0||typeof l=="boolean");const A=e.get(Ue.T),K=await A.openCodeEditor({resource:t},A.getFocusedCodeEditor());if(wl.z9(K))return K.setPosition(n),K.revealPositionInCenterIfOutsideViewport(n,0),K.invokeWithinContext((le)=>{const ue=new class extends n1{_getNoResultFoundMessage(we){return u||super._getNoResultFoundMessage(we)}}({muteMessage:!Boolean(u),openInPeek:Boolean(l),openToSide:!1},r,o);le.get(Ke._Y).invokeFunction(ue.run.bind(ue),K)})}}),En.w.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ht.r},{name:"position",description:"The position at which to start",constraint:Yn.y.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:async(e,t,n,r,o)=>{e.get(En.d).executeCommand("editor.action.goToLocations",t,n,r,o,void 0,!0)}}),En.w.registerCommand({id:"editor.action.findReferences",handler:(e,t,n)=>{yn.j(ht.r.isUri(t)),yn.j(Yn.y.isIPosition(n));const r=e.get(Wt.ILanguageFeaturesService),o=e.get(Ue.T);return o.openCodeEditor({resource:t},o.getFocusedCodeEditor()).then((u)=>{if(!wl.z9(u)||!u.hasModel())return;const l=ic.get(u);if(!l)return;const A=un.SS((le)=>$d(r.referenceProvider,u.getModel(),Yn.y.lift(n),!1,!1,le).then((ue)=>new Wi(ue,oe.kg("ref.title","References")))),K=new Nt.Q(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(l.toggleWidget(K,A,!1))})}}),En.w.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");var zc,Wc=function(e,t){return function(n,r){t(n,r,e)}};class rh{constructor(){this._entries=new ro.qK(50)}get(e){const t=rh._key(e);return this._entries.get(t)}set(e,t){const n=rh._key(e);this._entries.set(n,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const r1=Ke.u1("IInlayHintsCache");ho.v(r1,rh,1);class oh{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}class o1{constructor(e,t){this.part=e,this.hasTriggerModifier=t}}let Zd=class{static{zc=this}static{this.ID="editor.contrib.InlayHints"}static{this._MAX_DECORATORS=1500}static{this._MAX_LABEL_LEN=43}static get(e){return e.getContribution(zc.ID)??void 0}constructor(e,t,n,r,o,u,l){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=r,this._commandService=o,this._notificationService=u,this._instaService=l,this._disposables=new ft.Cm,this._sessionDisposables=new ft.Cm,this._decorationsMetadata=new Map,this._ruleFactory=new fl.Qn(this._editor),this._activeRenderMode=0,this._debounceInfo=n.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration((A)=>{A.hasChanged(142)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const e=this._editor.getOption(142);if(e.enabled==="off")return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;if(e.enabled==="on")this._activeRenderMode=0;else{let l,A;e.enabled==="onUnlessPressed"?(l=0,A=1):(l=1,A=0),this._activeRenderMode=l,this._sessionDisposables.add(ae.Di.getInstance().event((K)=>{if(!this._editor.hasModel())return;const le=K.altKey&&K.ctrlKey&&!K.shiftKey&&!K.metaKey?A:l;if(le!==this._activeRenderMode){this._activeRenderMode=le;const ue=this._editor.getModel(),we=this._copyInlayHintsWithCurrentAnchor(ue);this._updateHintsDecorators([ue.getFullModelRange()],we),u.schedule(0)}}))}const n=this._inlayHintsCache.get(t);let r;n&&this._updateHintsDecorators([t.getFullModelRange()],n),this._sessionDisposables.add(ft.s(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));const o=new Set,u=new un.uC(async()=>{const l=Date.now();r?.dispose(!0),r=new wn.Qi;const A=t.onWillDispose(()=>r?.cancel());try{const K=r.token,le=await Sl.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),K);if(u.delay=this._debounceInfo.update(t,Date.now()-l),K.isCancellationRequested)return void le.dispose();for(let ue of le.provider)typeof ue.onDidChangeInlayHints!="function"||o.has(ue)||(o.add(ue),this._sessionDisposables.add(ue.onDidChangeInlayHints(()=>{u.isScheduled()||u.schedule()})));this._sessionDisposables.add(le),this._updateHintsDecorators(le.ranges,le.items),this._cacheHintsForFastRestore(t)}catch(K){ii.dz(K)}finally{r.dispose(),A.dispose()}},this._debounceInfo.get(t));this._sessionDisposables.add(u),this._sessionDisposables.add(ft.s(()=>r?.dispose(!0))),u.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange((l)=>{!l.scrollTopChanged&&u.isScheduled()||u.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent((l)=>{r?.cancel();const A=Math.max(u.delay,1250);u.schedule(A)})),this._sessionDisposables.add(this._installDblClickGesture(()=>u.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const e=new ft.Cm,t=e.add(new ec(this._editor)),n=new ft.Cm;return e.add(n),e.add(t.onMouseMoveOrRelevantKeyDown((r)=>{const[o]=r,u=this._getInlayHintLabelPart(o),l=this._editor.getModel();if(!u||!l)return void n.clear();const A=new wn.Qi;n.add(ft.s(()=>A.dispose(!0))),u.item.resolve(A.token),this._activeInlayHintPart=u.part.command||u.part.location?new o1(u,o.hasTriggerModifier):void 0;const K=l.validatePosition(u.item.hint.position).lineNumber,le=new Nt.Q(K,1,K,l.getLineMaxColumn(K)),ue=this._getInlineHintsForRange(le);this._updateHintsDecorators([le],ue),n.add(ft.s(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([le],ue)}))})),e.add(t.onCancel(()=>n.clear())),e.add(t.onExecute(async(r)=>{const o=this._getInlayHintLabelPart(r);if(o){const u=o.part;u.location?this._instaService.invokeFunction(i1,r,this._editor,u.location):Pt.uB.is(u.command)&&await this._invokeCommand(u.command,o.item)}})),e}_getInlineHintsForRange(e){const t=new Set;for(let n of this._decorationsMetadata.values())e.containsRange(n.item.anchor.range)&&t.add(n.item);return Array.from(t)}_installDblClickGesture(e){return this._editor.onMouseUp(async(t)=>{if(t.event.detail!==2)return;const n=this._getInlayHintLabelPart(t);if(n&&(t.event.preventDefault(),await n.item.resolve(wn.XO.None),mn.EI(n.item.hint.textEdits))){const r=n.item.hint.textEdits.map((o)=>Fr.k.replace(Nt.Q.lift(o.range),o.text));this._editor.executeEdits("inlayHint.default",r),e()}})}_installContextMenu(){return this._editor.onContextMenu(async(e)=>{if(!ae.sb(e.event.target))return;const t=this._getInlayHintLabelPart(e);t&&await this._instaService.invokeFunction(w2,this._editor,e.event.target,t)})}_getInlayHintLabelPart(e){if(e.target.type!==6)return;const t=e.target.detail.injectedText?.options;return t instanceof Hn.Ho&&t?.attachedData instanceof oh?t.attachedData:void 0}async _invokeCommand(e,t){try{await this._commandService.executeCommand(e.id,...e.arguments??[])}catch(n){this._notificationService.notify({severity:Dr.AI.Error,source:t.provider.displayName,message:n})}}_cacheHintsForFastRestore(e){const t=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,t)}_copyInlayHintsWithCurrentAnchor(e){const t=new Map;for(let[n,r]of this._decorationsMetadata){if(t.has(r.item))continue;const o=e.getDecorationRange(n);if(o){const u=new Pd(o,r.item.anchor.direction),l=r.item.with({anchor:u});t.set(r.item,l)}}return Array.from(t.values())}_getHintsRanges(){const e=this._editor.getModel(),t=this._editor.getVisibleRangesPlusViewportAboveBelow(),n=[];for(let r of t.sort(Nt.Q.compareRangesUsingStarts)){const o=e.validateRange(new Nt.Q(r.startLineNumber-30,r.startColumn,r.endLineNumber+30,r.endColumn));n.length!==0&&Nt.Q.areIntersectingOrTouching(n[n.length-1],o)?n[n.length-1]=Nt.Q.plusRange(n[n.length-1],o):n.push(o)}return n}_updateHintsDecorators(e,t){const n=[],r=(Me,nt,yt,It,Dt)=>{const cn={content:yt,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:nt.className,cursorStops:It,attachedData:Dt};n.push({item:Me,classNameRef:nt,decoration:{range:Me.anchor.range,options:{description:"InlayHint",showIfCollapsed:Me.anchor.range.isEmpty(),collapseOnReplaceEdit:!Me.anchor.range.isEmpty(),stickiness:0,[Me.anchor.direction]:this._activeRenderMode===0?cn:void 0}}})},o=(Me,nt)=>{const yt=this._ruleFactory.createClassNameRef({width:(u/3|0)+"px",display:"inline-block"});r(Me,yt,"\u200A",nt?Ci.VW.Right:Ci.VW.None)},{fontSize:u,fontFamily:l,padding:A,isUniform:K}=this._getLayoutInfo();this._editor.getContainerDomNode().style.setProperty("--code-editorInlayHintsFontFamily",l);let ue={line:0,totalLen:0};for(let Me of t){if(ue.line!==Me.anchor.range.startLineNumber&&(ue={line:Me.anchor.range.startLineNumber,totalLen:0}),ue.totalLen>zc._MAX_LABEL_LEN)continue;Me.hint.paddingLeft&&o(Me,!1);const nt=typeof Me.hint.label=="string"?[{label:Me.hint.label}]:Me.hint.label;for(let yt=0;yt<nt.length;yt++){const It=nt[yt],Dt=yt===0,cn=yt===nt.length-1,Tn={fontSize:`${u}px`,fontFamily:`var(--code-editorInlayHintsFontFamily), ${Qr.jU.fontFamily}`,verticalAlign:K?"baseline":"middle",unicodeBidi:"isolate"};mn.EI(Me.hint.textEdits)&&(Tn.cursor="default"),this._fillInColors(Tn,Me.hint),(It.command||It.location)&&this._activeInlayHintPart?.part.item===Me&&this._activeInlayHintPart.part.index===yt&&(Tn.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Tn.color=pi.Yf(Xt.Ztu),Tn.cursor="pointer")),A&&(Dt&&cn?(Tn.padding=`1px ${0|Math.max(1,u/4)}px`,Tn.borderRadius=(u/4|0)+"px"):Dt?(Tn.padding=`1px 0 1px ${0|Math.max(1,u/4)}px`,Tn.borderRadius=`${u/4|0}px 0 0 ${u/4|0}px`):cn?(Tn.padding=`1px ${0|Math.max(1,u/4)}px 1px 0`,Tn.borderRadius=`0 ${u/4|0}px ${u/4|0}px 0`):Tn.padding="1px 0 1px 0");let On=It.label;ue.totalLen+=On.length;let Kn=!1;const mi=ue.totalLen-zc._MAX_LABEL_LEN;if(mi>0&&(On=On.slice(0,-mi)+"\u2026",Kn=!0),r(Me,this._ruleFactory.createClassNameRef(Tn),On.replace(/[ \t]/g,"\xA0"),cn&&!Me.hint.paddingRight?Ci.VW.Right:Ci.VW.None,new oh(Me,yt)),Kn)break}if(Me.hint.paddingRight&&o(Me,!0),n.length>zc._MAX_DECORATORS)break}const we=[];for(let[Me,nt]of this._decorationsMetadata){const yt=this._editor.getModel()?.getDecorationRange(Me);yt&&e.some((It)=>It.containsRange(yt))&&(we.push(Me),nt.classNameRef.dispose(),this._decorationsMetadata.delete(Me))}const Qe=bs.D.capture(this._editor);this._editor.changeDecorations((Me)=>{const nt=Me.deltaDecorations(we,n.map((yt)=>yt.decoration));for(let yt=0;yt<nt.length;yt++){const It=n[yt];this._decorationsMetadata.set(nt[yt],It)}}),Qe.restore(this._editor)}_fillInColors(e,t){t.kind===Pt.r4.Parameter?(e.backgroundColor=pi.Yf(Xt.B2L),e.color=pi.Yf(Xt.sjA)):t.kind===Pt.r4.Type?(e.backgroundColor=pi.Yf(Xt._pU),e.color=pi.Yf(Xt.HwT)):(e.backgroundColor=pi.Yf(Xt.WL6),e.color=pi.Yf(Xt.P6i))}_getLayoutInfo(){const e=this._editor.getOption(142),t=e.padding,n=this._editor.getOption(52),r=this._editor.getOption(49);let o=e.fontSize;(!o||o<5||o>n)&&(o=n);const u=e.fontFamily||r;return{fontSize:o,fontFamily:u,padding:t,isUniform:!t&&u===r&&o===n}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(let e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};Zd=zc=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Wc(1,Wt.ILanguageFeaturesService),Wc(2,Eo.ILanguageFeatureDebounceService),Wc(3,r1),Wc(4,En.d),Wc(5,Dr.Ot),Wc(6,Ke._Y)],Zd),En.w.registerCommand("_executeInlayHintProvider",async(e,...t)=>{const[n,r]=t;yn.j(ht.r.isUri(n)),yn.j(Nt.Q.isIRange(r));const{inlayHintsProvider:o}=e.get(Wt.ILanguageFeaturesService),u=await e.get($r.ITextModelService).createModelReference(n);try{const l=await Sl.create(o,u.object.textEditorModel,[Nt.Q.lift(r)],wn.XO.None),A=l.items.map((K)=>K.hint);return setTimeout(()=>l.dispose(),0),A}finally{u.dispose()}});var xl=function(e,t){return function(n,r){t(n,r,e)}};class Kp extends sr{constructor(e,t,n,r){super(10,t,e.item.anchor.range,n,r,!0),this.part=e}}let sh=class extends vl{constructor(e,t,n,r,o,u,l,A,K){super(e,t,n,u,A,r,o,K),this._resolverService=l,this.hoverOrdinal=6}suggestHoverAnchor(e){if(!Zd.get(this._editor))return null;if(e.target.type!==6)return null;const t=e.target.detail.injectedText?.options;return t instanceof Hn.Ho&&t.attachedData instanceof oh?new Kp(t.attachedData,this,e.event.posx,e.event.posy):null}computeSync(){return[]}computeAsync(e,t,n){return e instanceof Kp?new un.AE(async(r)=>{const{part:o}=e;if(await o.item.resolve(n),n.isCancellationRequested)return;let u,l;if(typeof o.item.hint.tooltip=="string"?u=new ti.Bc().appendText(o.item.hint.tooltip):o.item.hint.tooltip&&(u=o.item.hint.tooltip),u&&r.emitOne(new Vo(this,e.range,[u],!1,0)),mn.EI(o.item.hint.textEdits)&&r.emitOne(new Vo(this,e.range,[new ti.Bc().appendText(oe.kg("hint.dbl","Double-click to insert"))],!1,10001)),typeof o.part.tooltip=="string"?l=new ti.Bc().appendText(o.part.tooltip):o.part.tooltip&&(l=o.part.tooltip),l&&r.emitOne(new Vo(this,e.range,[l],!1,1)),o.part.location||o.part.command){let le;const ue=this._editor.getOption(78)==="altKey"?tn.zx?oe.kg("links.navigate.kb.meta.mac","cmd + click"):oe.kg("links.navigate.kb.meta","ctrl + click"):tn.zx?oe.kg("links.navigate.kb.alt.mac","option + click"):oe.kg("links.navigate.kb.alt","alt + click");o.part.location&&o.part.command?le=new ti.Bc().appendText(oe.kg("hint.defAndCommand","Go to Definition ({0}), right click for more",ue)):o.part.location?le=new ti.Bc().appendText(oe.kg("hint.def","Go to Definition ({0})",ue)):o.part.command&&(le=new ti.Bc(`[${oe.kg("hint.cmd","Execute Command")}](${A=o.part.command,ht.r.from({scheme:Nn.ny.command,path:A.id,query:A.arguments&&encodeURIComponent(JSON.stringify(A.arguments))}).toString()} "${o.part.command.title}") (${ue})`,{isTrusted:!0})),le&&r.emitOne(new Vo(this,e.range,[le],!1,1e4))}var A;const K=await this._resolveInlayHintLabelPartHover(o,n);for await(let le of K)r.emitOne(le)}):un.AE.EMPTY}async _resolveInlayHintLabelPartHover(e,t){if(!e.part.location)return un.AE.EMPTY;const{uri:n,range:r}=e.part.location,o=await this._resolverService.createModelReference(n);try{const u=o.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(u)?Ic(this._languageFeaturesService.hoverProvider,u,new Yn.y(r.startLineNumber,r.startColumn),t).filter((l)=>!ti.it(l.hover.contents)).map((l)=>new Vo(this,e.item.anchor.range,l.hover.contents,!1,2+l.ordinal)):un.AE.EMPTY}finally{o.dispose()}}};sh=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([xl(1,Ss.L),xl(2,hn.C),xl(3,ui.b),xl(4,Ys.TN),xl(5,lt.pG),xl(6,$r.ITextModelService),xl(7,Wt.ILanguageFeaturesService),xl(8,En.d)],sh);class ef extends ft.jG{constructor(e,t,n,r,o,u){super();const{anchor:l,hoverParts:A}=t;this._renderedHoverParts=this._register(new tf(e,n,A,u,o));const{showAtPosition:K,showAtSecondaryPosition:le}=ef.computeHoverPositions(e,l.range,A);this.shouldAppearBeforeContent=A.some((ue)=>ue.isBeforeContent),this.showAtPosition=K,this.showAtSecondaryPosition=le,this.initialMousePosX=l.initialMousePosX,this.initialMousePosY=l.initialMousePosY,this.shouldFocus=r.shouldFocus,this.source=r.source}get domNode(){return this._renderedHoverParts.domNode}get domNodeHasChildren(){return this._renderedHoverParts.domNodeHasChildren}get focusedHoverPartIndex(){return this._renderedHoverParts.focusedHoverPartIndex}async updateHoverVerbosityLevel(e,t,n){this._renderedHoverParts.updateHoverVerbosityLevel(e,t,n)}isColorPickerVisible(){return this._renderedHoverParts.isColorPickerVisible()}static computeHoverPositions(e,t,n){let r=1;if(e.hasModel()){const le=e._getViewModel(),ue=le.coordinatesConverter,we=ue.convertModelRangeToViewRange(t),Qe=le.getLineMinColumn(we.startLineNumber),Me=new Yn.y(we.startLineNumber,Qe);r=ue.convertViewPositionToModelPosition(Me).column}const o=t.startLineNumber;let u,l,A,K=t.startColumn;for(let le of n){const ue=le.range,we=ue.startLineNumber===o,Qe=ue.endLineNumber===o;if(we&&Qe){const Me=ue.startColumn,nt=Math.min(K,Me);K=Math.max(nt,r)}le.forceShowAtRange&&(u=ue)}if(u){const le=u.getStartPosition();l=le,A=le}else l=t.getStartPosition(),A=new Yn.y(o,K);return{showAtPosition:l,showAtSecondaryPosition:A}}}class s1{constructor(e,t){this._statusBar=t,e.appendChild(this._statusBar.hoverElement)}get hoverElement(){return this._statusBar.hoverElement}get actions(){return this._statusBar.actions}dispose(){this._statusBar.dispose()}}class tf extends ft.jG{static{this._DECORATION_OPTIONS=Hn.kI.register({description:"content-hover-highlight",className:"hoverHighlight"})}constructor(e,t,n,r,o){super(),this._renderedParts=[],this._focusedHoverPartIndex=-1,this._context=o,this._fragment=document.createDocumentFragment(),this._register(this._renderParts(t,n,o,r)),this._register(this._registerListenersOnRenderedParts()),this._register(this._createEditorDecorations(e,n)),this._updateMarkdownAndColorParticipantInfo(t)}_createEditorDecorations(e,t){if(t.length===0)return ft.jG.None;let n=t[0].range;for(let o of t){const u=o.range;n=Nt.Q.plusRange(n,u)}const r=e.createDecorationsCollection();return r.set([{range:n,options:tf._DECORATION_OPTIONS}]),ft.s(()=>{r.clear()})}_renderParts(e,t,n,r){const o=new ql(r),u={fragment:this._fragment,statusBar:o,...n},l=new ft.Cm;for(let K of e){const le=this._renderHoverPartsForParticipant(t,K,u);l.add(le);for(let ue of le.renderedHoverParts)this._renderedParts.push({type:"hoverPart",participant:K,hoverPart:ue.hoverPart,hoverElement:ue.hoverElement})}const A=this._renderStatusBar(this._fragment,o);return A&&(l.add(A),this._renderedParts.push({type:"statusBar",hoverElement:A.hoverElement,actions:A.actions})),ft.s(()=>{l.dispose()})}_renderHoverPartsForParticipant(e,t,n){const r=e.filter((o)=>o.owner===t);return r.length>0?t.renderHoverParts(n,r):new Si([])}_renderStatusBar(e,t){if(t.hasContent)return new s1(e,t)}_registerListenersOnRenderedParts(){const e=new ft.Cm;return this._renderedParts.forEach((t,n)=>{const r=t.hoverElement;r.tabIndex=0,e.add(ae.ko(r,ae.Bx.FOCUS_IN,(o)=>{o.stopPropagation(),this._focusedHoverPartIndex=n})),e.add(ae.ko(r,ae.Bx.FOCUS_OUT,(o)=>{o.stopPropagation(),this._focusedHoverPartIndex=-1}))}),e}_updateMarkdownAndColorParticipantInfo(e){const t=e.find((n)=>n instanceof vl&&!(n instanceof sh));t&&(this._markdownHoverParticipant=t),this._colorHoverParticipant=e.find((n)=>n instanceof ir)}async updateHoverVerbosityLevel(e,t,n){if(!this._markdownHoverParticipant)return;const r=this._normalizedIndexToMarkdownHoverIndexRange(this._markdownHoverParticipant,t);if(r===void 0)return;const o=await this._markdownHoverParticipant.updateMarkdownHoverVerbosityLevel(e,r,n);o&&(this._renderedParts[t]={type:"hoverPart",participant:this._markdownHoverParticipant,hoverPart:o.hoverPart,hoverElement:o.hoverElement},this._context.onContentsChanged())}isColorPickerVisible(){return this._colorHoverParticipant?.isColorPickerVisible()??!1}_normalizedIndexToMarkdownHoverIndexRange(e,t){const n=this._renderedParts[t];if(!n||n.type!=="hoverPart")return;if(n.participant!==e)return;const r=this._renderedParts.findIndex((o)=>o.type==="hoverPart"&&o.participant===e);if(r===-1)throw new ii.D7;return t-r}get domNode(){return this._fragment}get domNodeHasChildren(){return this._fragment.hasChildNodes()}get focusedHoverPartIndex(){return this._focusedHoverPartIndex}}var a1=function(e,t){return function(n,r){t(n,r,e)}};let nf=class extends ft.jG{constructor(e,t,n){super(),this._editor=e,this._instantiationService=t,this._keybindingService=n,this._currentResult=null,this._onContentsChanged=this._register(new Rt.vl),this.onContentsChanged=this._onContentsChanged.event,this._contentHoverWidget=this._register(this._instantiationService.createInstance(bl,this._editor)),this._participants=this._initializeHoverParticipants(),this._computer=new Yl(this._editor,this._participants),this._hoverOperation=this._register(new _l(this._editor,this._computer)),this._registerListeners()}_initializeHoverParticipants(){const e=[];for(let t of cr.getAll()){const n=this._instantiationService.createInstance(t,this._editor);e.push(n)}return e.sort((t,n)=>t.hoverOrdinal-n.hoverOrdinal),this._register(this._contentHoverWidget.onDidResize(()=>{this._participants.forEach((t)=>t.handleResize?.())})),e}_registerListeners(){this._register(this._hoverOperation.onResult((t)=>{if(!this._computer.anchor)return;const n=t.hasLoadingMessage?this._addLoadingMessage(t.value):t.value;this._withResult(new jl(this._computer.anchor,n,t.isComplete))}));const e=this._contentHoverWidget.getDomNode();this._register(ae.b2(e,"keydown",(t)=>{t.equals(9)&&this.hide()})),this._register(ae.b2(e,"mouseleave",(t)=>{this._onMouseLeave(t)})),this._register(Pt.dG.onDidChange(()=>{this._contentHoverWidget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(e,t,n,r,o){if(!this._contentHoverWidget.position||!this._currentResult)return!!e&&(this._startHoverOperationIfNecessary(e,t,n,r,!1),!0);const u=this._editor.getOption(60).sticky,l=o&&this._contentHoverWidget.isMouseGettingCloser(o.event.posx,o.event.posy);return u&&l?(e&&this._startHoverOperationIfNecessary(e,t,n,r,!0),!0):e?!!this._currentResult.anchor.equals(e)||(e.canAdoptVisibleHover(this._currentResult.anchor,this._contentHoverWidget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,n,r,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,n,r,!1),!0)):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(e,t,n,r,o){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=r,this._computer.source=n,this._computer.insistOnKeepingHoverVisible=o,this._hoverOperation.start(t))}_setCurrentResult(e){let t=e;this._currentResult!==t&&(t&&t.hoverParts.length===0&&(t=null),this._currentResult=t,this._currentResult?this._showHover(this._currentResult):this._hideHover())}_addLoadingMessage(e){if(!this._computer.anchor)return e;for(let t of this._participants){if(!t.createLoadingMessage)continue;const n=t.createLoadingMessage(this._computer.anchor);if(n)return e.slice(0).concat([n])}return e}_withResult(e){if(this._contentHoverWidget.position&&this._currentResult&&this._currentResult.isComplete||this._setCurrentResult(e),!e.isComplete)return;const t=e.hoverParts.length===0,n=this._computer.insistOnKeepingHoverVisible;t&&n||this._setCurrentResult(e)}_showHover(e){const t=this._getHoverContext();this._renderedContentHover=new ef(this._editor,e,this._participants,this._computer,t,this._keybindingService),this._renderedContentHover.domNodeHasChildren?this._contentHoverWidget.show(this._renderedContentHover):this._renderedContentHover.dispose()}_hideHover(){this._contentHoverWidget.hide()}_getHoverContext(){return{hide:()=>{this.hide()},onContentsChanged:()=>{this._onContentsChanged.fire(),this._contentHoverWidget.onContentsChanged()},setMinimumDimensions:(e)=>{this._contentHoverWidget.setMinimumDimensions(e)}}}showsOrWillShow(e){if(this._contentHoverWidget.isResizing)return!0;const t=this._findHoverAnchorCandidates(e);if(!(t.length>0))return this._startShowingOrUpdateHover(null,0,0,!1,e);const n=t[0];return this._startShowingOrUpdateHover(n,0,0,!1,e)}_findHoverAnchorCandidates(e){const t=[];for(let r of this._participants){if(!r.suggestHoverAnchor)continue;const o=r.suggestHoverAnchor(e);o&&t.push(o)}const n=e.target;switch(n.type){case 6:t.push(new gi(0,n.range,e.event.posx,e.event.posy));break;case 7:{const r=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;if(n.detail.isAfterLines||typeof n.detail.horizontalDistanceToText!="number"||!(n.detail.horizontalDistanceToText<r))break;t.push(new gi(0,n.range,e.event.posx,e.event.posy));break}}return t.sort((r,o)=>o.priority-r.priority),t}_onMouseLeave(e){const t=this._editor.getDomNode();(!t||!Ac(t,e.x,e.y))&&this.hide()}startShowingAtRange(e,t,n,r){this._startShowingOrUpdateHover(new gi(0,e,void 0,void 0),t,n,r,null)}async updateHoverVerbosityLevel(e,t,n){this._renderedContentHover?.updateHoverVerbosityLevel(e,t,n)}focusedHoverPartIndex(){return this._renderedContentHover?.focusedHoverPartIndex??-1}containsNode(e){return!!e&&this._contentHoverWidget.getDomNode().contains(e)}focus(){this._contentHoverWidget.focus()}scrollUp(){this._contentHoverWidget.scrollUp()}scrollDown(){this._contentHoverWidget.scrollDown()}scrollLeft(){this._contentHoverWidget.scrollLeft()}scrollRight(){this._contentHoverWidget.scrollRight()}pageUp(){this._contentHoverWidget.pageUp()}pageDown(){this._contentHoverWidget.pageDown()}goToTop(){this._contentHoverWidget.goToTop()}goToBottom(){this._contentHoverWidget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}getDomNode(){return this._contentHoverWidget.getDomNode()}get isColorPickerVisible(){return this._renderedContentHover?.isColorPickerVisible()??!1}get isVisibleFromKeyboard(){return this._contentHoverWidget.isVisibleFromKeyboard}get isVisible(){return this._contentHoverWidget.isVisible}get isFocused(){return this._contentHoverWidget.isFocused}get isResizing(){return this._contentHoverWidget.isResizing}get widget(){return this._contentHoverWidget}};nf=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([a1(1,Ke._Y),a1(2,ui.b)],nf);var rf,l1=function(e,t){return function(n,r){t(n,r,e)}};let Ao=class extends ft.jG{static{rf=this}static{this.ID="editor.contrib.contentHover"}constructor(e,t,n){super(),this._editor=e,this._instantiationService=t,this._keybindingService=n,this._onHoverContentsChanged=this._register(new Rt.vl),this.shouldKeepOpenOnEditorMouseMoveOrLeave=!1,this._listenersStore=new ft.Cm,this._hoverState={mouseDown:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new un.uC(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration((r)=>{r.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(e){return e.getContribution(rf.ID)}_hookListeners(){const e=this._editor.getOption(60);this._hoverSettings={enabled:e.enabled,sticky:e.sticky,hidingDelay:e.hidingDelay},e.enabled?(this._listenersStore.add(this._editor.onMouseDown((t)=>this._onEditorMouseDown(t))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove((t)=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown((t)=>this._onKeyDown(t)))):(this._listenersStore.add(this._editor.onMouseMove((t)=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown((t)=>this._onKeyDown(t)))),this._listenersStore.add(this._editor.onMouseLeave((t)=>this._onEditorMouseLeave(t))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange((t)=>this._onEditorScrollChanged(t)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._hoverState.mouseDown=!0,this._shouldNotHideCurrentHoverWidget(e)||this._hideWidgets()}_shouldNotHideCurrentHoverWidget(e){return this._isMouseOnContentHoverWidget(e)||this._isContentWidgetResizing()}_isMouseOnContentHoverWidget(e){const t=this._contentWidget?.getDomNode();return!!t&&Ac(t,e.event.posx,e.event.posy)}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(e){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._cancelScheduler(),this._shouldNotHideCurrentHoverWidget(e)||this._hideWidgets())}_shouldNotRecomputeCurrentHoverWidget(e){const t=this._hoverSettings.sticky;return((n,r)=>{const o=this._isMouseOnContentHoverWidget(n);return r&&o})(e,t)||((n)=>{const r=this._isMouseOnContentHoverWidget(n),o=this._contentWidget?.isColorPickerVisible??!1;return r&&o})(e)||((n,r)=>(r&&this._contentWidget?.containsNode(n.event.browserEvent.view?.document.activeElement)&&!n.event.browserEvent.view?.getSelection()?.isCollapsed)??!1)(e,t)}_onEditorMouseMove(e){if(this.shouldKeepOpenOnEditorMouseMoveOrLeave)return;if(this._mouseMoveEvent=e,this._contentWidget?.isFocused||this._contentWidget?.isResizing)return;const t=this._hoverSettings.sticky;if(t&&this._contentWidget?.isVisibleFromKeyboard)return;if(this._shouldNotRecomputeCurrentHoverWidget(e))return void this._reactToEditorMouseMoveRunner.cancel();const n=this._hoverSettings.hidingDelay;this._contentWidget?.isVisible&&t&&n>0?this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(n):this._reactToEditorMouseMove(e)}_reactToEditorMouseMove(e){if(!e)return;const t=e.target,n=t.element?.classList.contains("colorpicker-color-decoration"),r=this._editor.getOption(149),o=this._hoverSettings.enabled,u=this._hoverState.activatedByDecoratorClick;n&&(r==="click"&&!u||r==="hover"&&!o||r==="clickAndHover"&&!o&&!u)||!(n||o||u)?this._hideWidgets():this._tryShowHoverWidget(e)||this._hideWidgets()}_tryShowHoverWidget(e){return this._getOrCreateContentWidget().showsOrWillShow(e)}_onKeyDown(e){if(!this._editor.hasModel())return;const t=this._keybindingService.softDispatch(e,this._editor.getDomNode()),n=t.kind===1||t.kind===2&&(t.commandId===ls||t.commandId===Jo||t.commandId===ha)&&this._contentWidget?.isVisible;e.keyCode===5||e.keyCode===6||e.keyCode===57||e.keyCode===4||n||this._hideWidgets()}_hideWidgets(){this._hoverState.mouseDown&&this._contentWidget?.isColorPickerVisible||za.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,this._contentWidget?.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(nf,this._editor),this._listenersStore.add(this._contentWidget.onContentsChanged(()=>this._onHoverContentsChanged.fire()))),this._contentWidget}showContentHover(e,t,n,r,o=!1){this._hoverState.activatedByDecoratorClick=o,this._getOrCreateContentWidget().startShowingAtRange(e,t,n,r)}_isContentWidgetResizing(){return this._contentWidget?.widget.isResizing||!1}focusedHoverPartIndex(){return this._getOrCreateContentWidget().focusedHoverPartIndex()}updateHoverVerbosityLevel(e,t,n){this._getOrCreateContentWidget().updateHoverVerbosityLevel(e,t,n)}focus(){this._contentWidget?.focus()}scrollUp(){this._contentWidget?.scrollUp()}scrollDown(){this._contentWidget?.scrollDown()}scrollLeft(){this._contentWidget?.scrollLeft()}scrollRight(){this._contentWidget?.scrollRight()}pageUp(){this._contentWidget?.pageUp()}pageDown(){this._contentWidget?.pageDown()}goToTop(){this._contentWidget?.goToTop()}goToBottom(){this._contentWidget?.goToBottom()}get isColorPickerVisible(){return this._contentWidget?.isColorPickerVisible}get isHoverVisible(){return this._contentWidget?.isVisible}dispose(){super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),this._contentWidget?.dispose()}};Ao=rf=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([l1(1,Ke._Y),l1(2,ui.b)],Ao);class of extends ft.jG{static{this.ID="editor.contrib.colorContribution"}constructor(e){super(),this._editor=e,this._register(e.onMouseDown((t)=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){const t=this._editor.getOption(149);if(t!=="click"&&t!=="clickAndHover")return;const n=e.target;if(n.type!==6)return;if(!n.detail.injectedText)return;if(n.detail.injectedText.options.attachedData!==qe)return;if(!n.range)return;const r=this._editor.getContribution(Ao.ID);if(r&&!r.isColorPickerVisible){const o=new Nt.Q(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);r.showContentHover(o,1,0,!1,!0)}}}O.HW(of.ID,of,2),cr.register(ir);var sf,af,c1=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},$c=function(e,t){return function(n,r){t(n,r,e)}};let oc=class extends ft.jG{static{sf=this}static{this.ID="editor.contrib.standaloneColorPickerController"}constructor(e,t,n){super(),this._editor=e,this._instantiationService=n,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=Fe.R.standaloneColorPickerVisible.bindTo(t),this._standaloneColorPickerFocused=Fe.R.standaloneColorPickerFocused.bindTo(t)}showOrFocus(){this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||this._standaloneColorPickerWidget?.focus():this._standaloneColorPickerWidget=this._instantiationService.createInstance(lf,this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused))}hide(){this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerWidget?.hide(),this._editor.focus()}insertColor(){this._standaloneColorPickerWidget?.updateEditor(),this.hide()}static get(e){return e.getContribution(sf.ID)}};oc=sf=c1([$c(1,ye.fN),$c(2,Ke._Y)],oc),O.HW(oc.ID,oc,1);let lf=class extends ft.jG{static{af=this}static{this.ID="editor.contrib.standaloneColorPickerWidget"}constructor(e,t,n,r,o,u,l){super(),this._editor=e,this._standaloneColorPickerVisible=t,this._standaloneColorPickerFocused=n,this._keybindingService=o,this._languageFeaturesService=u,this._editorWorkerService=l,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new Rt.vl),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=r.createInstance(Er,this._editor),this._position=this._editor._getViewModel()?.getPrimaryCursorState().modelState.position;const A=this._editor.getSelection(),K=A?{startLineNumber:A.startLineNumber,startColumn:A.startColumn,endLineNumber:A.endLineNumber,endColumn:A.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},le=this._register(ae.w5(this._body));this._register(le.onDidBlur((ue)=>{this.hide()})),this._register(le.onDidFocus((ue)=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove((ue)=>{const we=ue.target.element?.classList;we&&we.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult((ue)=>{this._render(ue.value,ue.foundInEditor)})),this._start(K),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return af.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const e=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:e?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(e){const t=await this._computeAsync(e);t&&this._onResult.fire(new d1(t.result,t.foundInEditor))}async _computeAsync(e){if(!this._editor.hasModel())return null;const t={range:e,color:{red:0,green:0,blue:0,alpha:1}},n=await this._standaloneColorPickerParticipant.createColorHover(t,new Uo(this._editorWorkerService),this._languageFeaturesService.colorProvider);return n?{result:n.colorHover,foundInEditor:n.foundInEditor}:null}_render(e,t){const n=document.createDocumentFragment(),r={fragment:n,statusBar:this._register(new ql(this._keybindingService)),onContentsChanged:()=>{},hide:()=>this.hide()};this._colorHover=e;const o=this._standaloneColorPickerParticipant.renderHoverParts(r,[e]);if(!o)return;this._register(o.disposables);const u=o.colorPicker;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(0.66*this._editor.getLayoutInfo().width,500)+"px",this._body.tabIndex=0,this._body.appendChild(n),u.layout();const l=u.body,A=l.saturationBox.domNode.clientWidth,K=l.domNode.clientWidth-A-22-8,le=u.body.enterButton;le?.onClicked(()=>{this.updateEditor(),this.hide()});const ue=u.header;ue.pickedColorNode.style.width=A+8+"px",ue.originalColorNode.style.width=K+"px",u.header.closeButton?.onClicked(()=>{this.hide()}),t&&(le&&(le.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(e.range)),this._editor.layoutContentWidget(this)}};lf=af=c1([$c(3,Ke._Y),$c(4,ui.b),$c(5,Wt.ILanguageFeaturesService),$c(6,Zo.IEditorWorkerService)],lf);class d1{constructor(e,t){this.value=e,this.foundInEditor=t}}class u1 extends O.qO{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...oe.aS("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:oe.kg({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker")},precondition:void 0,menu:[{id:rt.D8.CommandPalette}],metadata:{description:oe.aS("showOrFocusStandaloneColorPickerDescription","Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.")}})}runEditorCommand(e,t){oc.get(t)?.showOrFocus()}}class h1 extends O.ks{constructor(){super({id:"editor.action.hideColorPicker",label:oe.kg({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:Fe.R.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100},metadata:{description:oe.aS("hideColorPickerDescription","Hide the standalone color picker.")}})}run(e,t){oc.get(t)?.hide()}}class p1 extends O.ks{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:oe.kg({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:Fe.R.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100},metadata:{description:oe.aS("insertColorWithStandaloneColorPickerDescription","Insert hex/rgb/hsl colors with the focused standalone color picker.")}})}run(e,t){oc.get(t)?.insertColor()}}O.Fl(h1),O.Fl(p1),rt.ug(u1);class Cl{constructor(e,t,n){this.languageConfigurationService=n,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,n){if(n<0)return!1;const r=t.length;if(n+r>e.length)return!1;for(let o=0;o<r;o++){const u=e.charCodeAt(n+o),l=t.charCodeAt(o);if(u!==l&&!(u>=65&&u<=90&&u+32===l||l>=65&&l<=90&&l+32===u))return!1}return!0}_createOperationsForBlockComment(e,t,n,r,o,u){const{startLineNumber:l,startColumn:A,endLineNumber:K,endColumn:le}=e,ue=o.getLineContent(l),we=o.getLineContent(K);let Qe,Me=ue.lastIndexOf(t,A-1+t.length),nt=we.indexOf(n,le-1-n.length);if(Me!==-1&&nt!==-1)if(l===K)ue.substring(Me+t.length,nt).indexOf(n)>=0&&(Me=-1,nt=-1);else{const yt=ue.substring(Me+t.length),It=we.substring(0,nt);(yt.indexOf(n)>=0||It.indexOf(n)>=0)&&(Me=-1,nt=-1)}Me!==-1&&nt!==-1?(r&&Me+t.length<ue.length&&ue.charCodeAt(Me+t.length)===32&&(t+=" "),r&&nt>0&&we.charCodeAt(nt-1)===32&&(n=" "+n,nt-=1),Qe=Cl._createRemoveBlockCommentOperations(new Nt.Q(l,Me+t.length+1,K,nt+1),t,n)):(Qe=Cl._createAddBlockCommentOperations(e,t,n,this._insertSpace),this._usedEndToken=Qe.length===1?n:null);for(let yt of Qe)u.addTrackedEditOperation(yt.range,yt.text)}static _createRemoveBlockCommentOperations(e,t,n){const r=[];return Nt.Q.isEmpty(e)?r.push(Fr.k.delete(new Nt.Q(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(r.push(Fr.k.delete(new Nt.Q(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),r.push(Fr.k.delete(new Nt.Q(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),r}static _createAddBlockCommentOperations(e,t,n,r){const o=[];return Nt.Q.isEmpty(e)?o.push(Fr.k.replace(new Nt.Q(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(o.push(Fr.k.insert(new Yn.y(e.startLineNumber,e.startColumn),t+(r?" ":""))),o.push(Fr.k.insert(new Yn.y(e.endLineNumber,e.endColumn),(r?" ":"")+n))),o}getEditOperations(e,t){const n=this._selection.startLineNumber,r=this._selection.startColumn;e.tokenization.tokenizeIfCheap(n);const o=e.getLanguageIdAtPosition(n,r),u=this.languageConfigurationService.getLanguageConfiguration(o).comments;u&&u.blockCommentStartToken&&u.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,u.blockCommentStartToken,u.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const n=t.getInverseEditOperations();if(n.length===2){const r=n[0],o=n[1];return new Xn.L(r.range.endLineNumber,r.range.endColumn,o.range.startLineNumber,o.range.startColumn)}{const r=n[0].range,o=this._usedEndToken?-this._usedEndToken.length-1:0;return new Xn.L(r.endLineNumber,r.endColumn+o,r.endLineNumber,r.endColumn+o)}}}class Ba{constructor(e,t,n,r,o,u,l){this.languageConfigurationService=e,this._selection=t,this._indentSize=n,this._type=r,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=u,this._ignoreFirstLine=l||!1}static _gatherPreflightCommentStrings(e,t,n,r){e.tokenization.tokenizeIfCheap(t);const o=e.getLanguageIdAtPosition(t,1),u=r.getLanguageConfiguration(o).comments,l=u?u.lineCommentToken:null;if(!l)return null;const A=[];for(let K=0,le=n-t+1;K<le;K++)A[K]={ignore:!1,commentStr:l,commentStrOffset:0,commentStrLength:l.length};return A}static _analyzeLines(e,t,n,r,o,u,l,A){let K,le=!0;K=e===0||e!==1;for(let ue=0,we=r.length;ue<we;ue++){const Qe=r[ue],Me=o+ue;if(Me===o&&l){Qe.ignore=!0;continue}const nt=n.getLineContent(Me),yt=Ne.HG(nt);if(yt!==-1){if(le=!1,Qe.ignore=!1,Qe.commentStrOffset=yt,K&&!Cl._haystackHasNeedleAtOffset(nt,Qe.commentStr,yt)&&(e===0?K=!1:e===1||(Qe.ignore=!0)),K&&t){const It=yt+Qe.commentStrLength;It<nt.length&&nt.charCodeAt(It)===32&&(Qe.commentStrLength+=1)}}else Qe.ignore=u,Qe.commentStrOffset=nt.length}if(e===0&&le){K=!1;for(let ue=0,we=r.length;ue<we;ue++)r[ue].ignore=!1}return{supported:!0,shouldRemoveComments:K,lines:r}}static _gatherPreflightData(e,t,n,r,o,u,l,A){const K=Ba._gatherPreflightCommentStrings(n,r,o,A);return K===null?{supported:!1}:Ba._analyzeLines(e,t,n,K,r,u,l,A)}_executeLineComments(e,t,n,r){let o;n.shouldRemoveComments?o=Ba._createRemoveLineCommentsOperations(n.lines,r.startLineNumber):(Ba._normalizeInsertionPoint(e,n.lines,r.startLineNumber,this._indentSize),o=this._createAddLineCommentsOperations(n.lines,r.startLineNumber));const u=new Yn.y(r.positionLineNumber,r.positionColumn);for(let l=0,A=o.length;l<A;l++)t.addEditOperation(o[l].range,o[l].text),Nt.Q.isEmpty(o[l].range)&&Nt.Q.getStartPosition(o[l].range).equals(u)&&e.getLineContent(u.lineNumber).length+1===u.column&&(this._deltaColumn=(o[l].text||"").length);this._selectionId=t.trackSelection(r)}_attemptRemoveBlockComment(e,t,n,r){let{startLineNumber:o,endLineNumber:u}=t;const l=r.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let A=e.getLineContent(o).lastIndexOf(n,l-1),K=e.getLineContent(u).indexOf(r,t.endColumn-1-n.length);return A!==-1&&K===-1&&(K=e.getLineContent(o).indexOf(r,A+n.length),u=o),A===-1&&K!==-1&&(A=e.getLineContent(u).lastIndexOf(n,K),o=u),!t.isEmpty()||A!==-1&&K!==-1||(A=e.getLineContent(o).indexOf(n),A!==-1&&(K=e.getLineContent(o).indexOf(r,A+n.length))),A!==-1&&e.getLineContent(o).charCodeAt(A+n.length)===32&&(n+=" "),K!==-1&&e.getLineContent(u).charCodeAt(K-1)===32&&(r=" "+r,K-=1),A!==-1&&K!==-1?Cl._createRemoveBlockCommentOperations(new Nt.Q(o,A+n.length+1,u,K+1),n,r):null}_executeBlockComment(e,t,n){e.tokenization.tokenizeIfCheap(n.startLineNumber);const r=e.getLanguageIdAtPosition(n.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(r).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const{blockCommentStartToken:u,blockCommentEndToken:l}=o;let A=this._attemptRemoveBlockComment(e,n,u,l);if(!A){if(n.isEmpty()){const K=e.getLineContent(n.startLineNumber);let le=Ne.HG(K);le===-1&&(le=K.length),A=Cl._createAddBlockCommentOperations(new Nt.Q(n.startLineNumber,le+1,n.startLineNumber,K.length+1),u,l,this._insertSpace)}else A=Cl._createAddBlockCommentOperations(new Nt.Q(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),u,l,this._insertSpace);A.length===1&&(this._deltaColumn=u.length+1)}this._selectionId=t.trackSelection(n);for(let K of A)t.addEditOperation(K.range,K.text)}getEditOperations(e,t){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new Nt.Q(n.startLineNumber,e.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(n));n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const r=Ba._gatherPreflightData(this._type,this._insertSpace,e,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return r.supported?this._executeLineComments(e,t,r,n):this._executeBlockComment(e,t,n)}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new Xn.L(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){const n=[];for(let r=0,o=e.length;r<o;r++){const u=e[r];u.ignore||n.push(Fr.k.delete(new Nt.Q(t+r,u.commentStrOffset+1,t+r,u.commentStrOffset+u.commentStrLength+1)))}return n}_createAddLineCommentsOperations(e,t){const n=[],r=this._insertSpace?" ":"";for(let o=0,u=e.length;o<u;o++){const l=e[o];l.ignore||n.push(Fr.k.insert(new Yn.y(t+o,l.commentStrOffset+1),l.commentStr+r))}return n}static nextVisibleColumn(e,t,n,r){return n?e+(t-e%t):e+r}static _normalizeInsertionPoint(e,t,n,r){let o,u,l=1073741824;for(let A=0,K=t.length;A<K;A++){if(t[A].ignore)continue;const le=e.getLineContent(n+A);let ue=0;for(let we=0,Qe=t[A].commentStrOffset;ue<l&&we<Qe;we++)ue=Ba.nextVisibleColumn(ue,r,le.charCodeAt(we)===9,1);ue<l&&(l=ue)}l=Math.floor(l/r)*r;for(let A=0,K=t.length;A<K;A++){if(t[A].ignore)continue;const le=e.getLineContent(n+A);let ue=0;for(o=0,u=t[A].commentStrOffset;ue<l&&o<u;o++)ue=Ba.nextVisibleColumn(ue,r,le.charCodeAt(o)===9,1);t[A].commentStrOffset=ue>l?o-1:o}}}class ah extends O.ks{constructor(e,t){super(t),this._type=e}run(e,t){const n=e.get(eo.JZ);if(!t.hasModel())return;const r=[],o=t.getModel().getOptions(),u=t.getOption(23),l=t.getSelections().map((K,le)=>({selection:K,index:le,ignoreFirstLine:!1}));l.sort((K,le)=>Nt.Q.compareRangesUsingStarts(K.selection,le.selection));let A=l[0];for(let K=1;K<l.length;K++){const le=l[K];A.selection.endLineNumber===le.selection.startLineNumber&&(A.index<le.index?le.ignoreFirstLine=!0:(A.ignoreFirstLine=!0,A=le))}for(let K of l)r.push(new Ba(n,K.selection,o.indentSize,this._type,u.insertSpace,u.ignoreEmptyLines,K.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class f1 extends O.ks{constructor(){super({id:"editor.action.blockComment",label:oe.kg("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:rt.D8.MenubarEditMenu,group:"5_insert",title:oe.kg({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const n=e.get(eo.JZ);if(!t.hasModel())return;const r=t.getOption(23),o=[],u=t.getSelections();for(let l of u)o.push(new Cl(l,r.insertSpace,n));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}O.Fl(class extends ah{constructor(){super(0,{id:"editor.action.commentLine",label:oe.kg("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:rt.D8.MenubarEditMenu,group:"5_insert",title:oe.kg({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),O.Fl(class extends ah{constructor(){super(1,{id:"editor.action.addCommentLine",label:oe.kg("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2081),weight:100}})}}),O.Fl(class extends ah{constructor(){super(2,{id:"editor.action.removeCommentLine",label:oe.kg("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2099),weight:100}})}}),O.Fl(f1);var cf,sc=function(e,t){return function(n,r){t(n,r,e)}};let Zc=class{static{cf=this}static{this.ID="editor.contrib.contextmenu"}static get(e){return e.getContribution(cf.ID)}constructor(e,t,n,r,o,u,l,A){this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=r,this._keybindingService=o,this._menuService=u,this._configurationService=l,this._workspaceContextService=A,this._toDispose=new ft.Cm,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu((K)=>this._onContextMenu(K))),this._toDispose.add(this._editor.onMouseWheel((K)=>{if(this._contextMenuIsBeingShownCount>0){const le=this._contextViewService.getContextViewElement(),ue=K.srcElement;ue.shadowRoot&&ae.jG(le)===ue.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown((K)=>{this._editor.getOption(24)&&K.keyCode===58&&(K.preventDefault(),K.stopPropagation(),this.showContextMenu())}))}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(24))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(e.target.type===12)return;if(e.target.type===6&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu(e.event);if(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)return;if(this._editor.focus(),e.target.position){let n=!1;for(let r of this._editor.getSelections())if(r.containsPosition(e.target.position)){n=!0;break}n||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t=e.event),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(24))return;if(!this._editor.hasModel())return;const t=this._getMenuActions(this._editor.getModel(),this._editor.contextMenuId);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const n=[],r=this._menuService.getMenuActions(t,this._contextKeyService,{arg:e.uri});for(let o of r){const[,u]=o;let l=0;for(let A of u)if(A instanceof rt.nI){const K=this._getMenuActions(e,A.item.submenu);K.length>0&&(n.push(new Vn.YH(A.id,A.label,K)),l++)}else n.push(A),l++;l&&n.push(new Vn.wv)}return n.length&&n.pop(),n}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const n=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let r=t;if(!r){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const u=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),l=ae.BK(this._editor.getDomNode()),A=l.left+u.left,K=l.top+u.top+u.height;r={x:A,y:K}}const o=this._editor.getOption(128)&&!tn.un;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getOverflowWidgetsDomNode()??this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>e,getActionViewItem:(u)=>{const l=this._keybindingFor(u);if(l)return new kc.Z4(u,u,{label:!0,keybinding:l.getLabel(),isMenu:!0});const A=u;return typeof A.getActionViewItem=="function"?A.getActionViewItem():new kc.Z4(u,u,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:(u)=>this._keybindingFor(u),onHide:(u)=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:n})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel())return;if(Jn.ct(this._workspaceContextService.getWorkspace()))return;const t=this._editor.getOption(73);let n=0;const r=(A)=>({id:"menu-action-"+ ++n,label:A.label,tooltip:"",class:void 0,enabled:A.enabled===void 0||A.enabled,checked:A.checked,run:A.run}),o=(A,K,le,ue,we)=>{if(!K)return r({label:A,enabled:K,run:()=>{}});const Qe=(nt)=>()=>{this._configurationService.updateValue(le,nt)},Me=[];for(let nt of we)Me.push(r({label:nt.label,checked:ue===nt.value,run:Qe(nt.value)}));return((nt,yt)=>new Vn.YH("menu-action-"+ ++n,nt,yt,void 0))(A,Me)},u=[];u.push(r({label:oe.kg("context.minimap.minimap","Minimap"),checked:t.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),u.push(new Vn.wv),u.push(r({label:oe.kg("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),u.push(o(oe.kg("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:oe.kg("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:oe.kg("context.minimap.size.fill","Fill"),value:"fill"},{label:oe.kg("context.minimap.size.fit","Fit"),value:"fit"}])),u.push(o(oe.kg("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:oe.kg("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:oe.kg("context.minimap.slider.always","Always"),value:"always"}]));const l=this._editor.getOption(128)&&!tn.un;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>u,onHide:(A)=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};Zc=cf=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([sc(1,no.Z),sc(2,no.l),sc(3,ye.fN),sc(4,ui.b),sc(5,rt.ez),sc(6,lt.pG),sc(7,Jn.VR)],Zc);class m1 extends O.ks{constructor(){super({id:"editor.action.showContextMenu",label:oe.kg("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:1092,weight:100}})}run(e,t){Zc.get(t)?.showContextMenu()}}O.HW(Zc.ID,Zc,2),O.Fl(m1);class lh{constructor(e){this.selections=e}equals(e){const t=this.selections.length;if(t!==e.selections.length)return!1;for(let n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}}class ch{constructor(e,t,n){this.cursorState=e,this.scrollTop=t,this.scrollLeft=n}}class Uc extends ft.jG{static{this.ID="editor.contrib.cursorUndoRedoController"}static get(e){return e.getContribution(Uc.ID)}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel((t)=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent((t)=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection((t)=>{if(this._isCursorUndoRedo)return;if(!t.oldSelections)return;if(t.oldModelVersionId!==t.modelVersionId)return;const n=new lh(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(n)||(this._undoStack.push(new ch(n,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){this._editor.hasModel()&&this._undoStack.length!==0&&(this._redoStack.push(new ch(new lh(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&this._redoStack.length!==0&&(this._undoStack.push(new ch(new lh(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}class g1 extends O.ks{constructor(){super({id:"cursorUndo",label:oe.kg("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:2099,weight:100}})}run(e,t,n){Uc.get(t)?.cursorUndo()}}class _1 extends O.ks{constructor(){super({id:"cursorRedo",label:oe.kg("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,n){Uc.get(t)?.cursorRedo()}}O.HW(Uc.ID,Uc,0),O.Fl(g1),O.Fl(_1);class b1{constructor(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n,this.targetSelection=null}getEditOperations(e,t){const n=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new Nt.Q(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new Xn.L(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new Xn.L(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new Xn.L(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Xn.L(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Xn.L(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(e,t){return this.targetSelection}}function Bc(e){return tn.zx?e.altKey:e.ctrlKey}class Vc extends ft.jG{static{this.ID="editor.contrib.dragAndDrop"}static{this.TRIGGER_KEY_VALUE=tn.zx?6:5}constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown((t)=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp((t)=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag((t)=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop((t)=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown((t)=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp((t)=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){this._editor.getOption(35)&&!this._editor.getOption(22)&&(Bc(e)&&(this._modifierPressed=!0),this._mouseDown&&Bc(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){this._editor.getOption(35)&&!this._editor.getOption(22)&&(Bc(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===Vc.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){const t=e.target;if(this._dragSelection===null){const n=(this._editor.getSelections()||[]).filter((r)=>t.position&&r.containsPosition(t.position));if(n.length!==1)return;this._dragSelection=n[0]}Bc(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){const t=new Yn.y(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let n=null;if(e.event.shiftKey){const r=this._editor.getSelection();if(r){const{selectionStartLineNumber:o,selectionStartColumn:u}=r;n=[new Xn.L(o,u,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map((r)=>r.containsPosition(t)?new Xn.L(t.lineNumber,t.column,t.lineNumber,t.column):r);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(Bc(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Vc.ID,new b1(this._dragSelection,t,Bc(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}static{this._DECORATION_OPTIONS=Hn.kI.register({description:"dnd-target",className:"dnd-target"})}showAt(e){this._dndDecorationIds.set([{range:new Nt.Q(e.lineNumber,e.column,e.lineNumber,e.column),options:Vc._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}O.HW(Vc.ID,Vc,2),O.HW(Qo.ID,Qo,0),ys.x(dn),O.E_(new class extends O.DX{constructor(){super({id:_o,precondition:xa,kbOpts:{weight:100,primary:2137}})}runEditorCommand(e,t){return Qo.get(t)?.changePasteType()}}),O.E_(new class extends O.DX{constructor(){super({id:"editor.hidePasteWidget",precondition:xa,kbOpts:{weight:100,primary:9}})}runEditorCommand(e,t){Qo.get(t)?.clearWidgets()}}),O.Fl(class e extends O.ks{static{this.argsSchema={type:"object",properties:{kind:{type:"string",description:oe.kg("pasteAs.kind","The kind of the paste edit to try applying. If not provided or there are multiple edits for this kind, the editor will show a picker.")}}}}constructor(){super({id:"editor.action.pasteAs",label:oe.kg("pasteAs","Paste As..."),alias:"Paste As...",precondition:Fe.R.writable,metadata:{description:"Paste as",args:[{name:"args",schema:e.argsSchema}]}})}run(t,n,r){let o=typeof r?.kind=="string"?r.kind:void 0;return!o&&r&&(o=typeof r.id=="string"?r.id:void 0),Qo.get(n)?.pasteAs(o?new di(o):void 0)}}),O.Fl(class extends O.ks{constructor(){super({id:"editor.action.pasteAsText",label:oe.kg("pasteAsText","Paste as Text"),alias:"Paste as Text",precondition:Fe.R.writable})}run(e,t){return Qo.get(t)?.pasteAs({providerId:bt.id})}});var df,v1=ct(4984),x2=ct(6756),dh=function(e,t){return function(n,r){t(n,r,e)}};const y1="editor.experimental.dropIntoEditor.defaultProvider",S1="editor.changeDropType",uf=new ye.N1("dropWidgetVisible",!1,oe.kg("dropWidgetVisible","Whether the drop widget is showing"));let Gc=class extends ft.jG{static{df=this}static{this.ID="editor.contrib.dropIntoEditorController"}static get(e){return e.getContribution(df.ID)}constructor(e,t,n,r,o){super(),this._configService=n,this._languageFeaturesService=r,this._treeViewsDragAndDropService=o,this.treeItemsTransfer=se.getInstance(),this._dropProgressManager=this._register(t.createInstance(Et,"dropIntoEditor",e)),this._postDropWidgetManager=this._register(t.createInstance(Us,"dropIntoEditor",e,uf,{id:S1,label:oe.kg("postDropWidgetTitle","Show drop options...")})),this._register(e.onDropIntoEditor((u)=>this.onDropIntoEditor(e,u.position,u.event)))}clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}async onDropIntoEditor(e,t,n){if(!n.dataTransfer||!e.hasModel())return;this._currentOperation?.cancel(),e.focus(),e.setPosition(t);const r=un.SS(async(o)=>{const u=new ft.Cm,l=u.add(new _e.gI(e,1,void 0,o));try{const A=await this.extractDataTransferData(n);if(A.size===0||l.token.isCancellationRequested)return;const K=e.getModel();if(!K)return;const le=this._languageFeaturesService.documentDropEditProvider.ordered(K).filter((we)=>!we.dropMimeTypes||we.dropMimeTypes.some((Qe)=>A.matches(Qe))),ue=u.add(await this.getDropEdits(le,K,t,A,l));if(l.token.isCancellationRequested)return;if(ue.edits.length){const we=this.getInitialActiveEditIndex(K,ue.edits),Qe=e.getOption(36).showDropSelector==="afterDrop";await this._postDropWidgetManager.applyEditAndShowIfNeeded([Nt.Q.fromPositions(t)],{activeEditIndex:we,allEdits:ue.edits},Qe,async(Me)=>Me,o)}}finally{u.dispose(),this._currentOperation===r&&(this._currentOperation=void 0)}});this._dropProgressManager.showWhile(t,oe.kg("dropIntoEditorProgress","Running drop handlers. Click to cancel"),r,{cancel:()=>r.cancel()}),this._currentOperation=r}async getDropEdits(e,t,n,r,o){const u=new ft.Cm,l=await un.PK(Promise.all(e.map(async(A)=>{try{const K=await A.provideDocumentDropEdits(t,n,r,o.token);return K&&u.add(K),K?.edits.map((le)=>({...le,providerId:A.id}))}catch(K){console.error(K)}})),o.token);return{edits:j(mn.Yc(l??[]).flat()),dispose:()=>u.dispose()}}getInitialActiveEditIndex(e,t){const n=this._configService.getValue(y1,{resource:e.uri});for(let[r,o]of Object.entries(n)){const u=new di(o),l=t.findIndex((A)=>u.value===A.providerId&&A.handledMimeType&&nr(r,[A.handledMimeType]));if(l>=0)return l}return 0}async extractDataTransferData(e){if(!e.dataTransfer)return new oi;const t=At(e.dataTransfer);if(this.treeItemsTransfer.hasData(v1.DraggedTreeItemsIdentifier.prototype)){const n=this.treeItemsTransfer.getData(v1.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(n))for(let r of n){const o=await this._treeViewsDragAndDropService.removeDragOperationTransfer(r.identifier);if(o)for(let[u,l]of o)t.replace(u,l)}}return t}};Gc=df=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([dh(1,Ke._Y),dh(2,lt.pG),dh(3,Wt.ILanguageFeaturesService),dh(4,x2.ITreeViewsDnDService)],Gc),O.HW(Gc.ID,Gc,2),ys.x(Cn),O.E_(new class extends O.DX{constructor(){super({id:S1,precondition:uf,kbOpts:{weight:100,primary:2137}})}runEditorCommand(e,t,n){Gc.get(t)?.changeDropType()}}),O.E_(new class extends O.DX{constructor(){super({id:"editor.hideDropWidget",precondition:uf,kbOpts:{weight:100,primary:9}})}runEditorCommand(e,t,n){Gc.get(t)?.clearWidgets()}}),xt.O.as(Xs.Fd.Configuration).registerConfiguration({...Ar.JJ,properties:{[y1]:{type:"object",scope:5,description:oe.kg("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}});var hf=ct(8295),Ud=ct(7393),C2=ct(104);class Os{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map((t)=>this._editor.getModel().getDecorationRange(t)).filter((t)=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getDecorationRangeAt(e){const t=e<this._decorations.length?this._decorations[e]:null;return t?this._editor.getModel().getDecorationRange(t):null}getCurrentMatchesPosition(e){const t=this._editor.getModel().getDecorationsInRange(e);for(let n of t){const r=n.options;if(r===Os._FIND_MATCH_DECORATION||r===Os._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 0}setCurrentFindMatch(e){let t=null,n=0;if(e)for(let r=0,o=this._decorations.length;r<o;r++){const u=this._editor.getModel().getDecorationRange(this._decorations[r]);if(e.equalsRange(u)){t=this._decorations[r],n=r+1;break}}return this._highlightedDecorationId===null&&t===null||this._editor.changeDecorations((r)=>{if(this._highlightedDecorationId!==null&&(r.changeDecorationOptions(this._highlightedDecorationId,Os._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,r.changeDecorationOptions(this._highlightedDecorationId,Os._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(r.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let o=this._editor.getModel().getDecorationRange(t);if(o.startLineNumber!==o.endLineNumber&&o.endColumn===1){const u=o.endLineNumber-1,l=this._editor.getModel().getLineMaxColumn(u);o=new Nt.Q(o.startLineNumber,o.startColumn,u,l)}this._rangeHighlightDecorationId=r.addDecoration(o,Os._RANGE_HIGHLIGHT_DECORATION)}}),n}set(e,t){this._editor.changeDecorations((n)=>{let r=Os._FIND_MATCH_DECORATION;const o=[];if(e.length>1000){r=Os._FIND_MATCH_NO_OVERVIEW_DECORATION;const l=this._editor.getModel().getLineCount(),A=this._editor.getLayoutInfo().height/l,K=Math.max(2,Math.ceil(3/A));let le=e[0].range.startLineNumber,ue=e[0].range.endLineNumber;for(let we=1,Qe=e.length;we<Qe;we++){const Me=e[we].range;ue+K>=Me.startLineNumber?Me.endLineNumber>ue&&(ue=Me.endLineNumber):(o.push({range:new Nt.Q(le,1,ue,1),options:Os._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),le=Me.startLineNumber,ue=Me.endLineNumber)}o.push({range:new Nt.Q(le,1,ue,1),options:Os._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const u=new Array(e.length);for(let l=0,A=e.length;l<A;l++)u[l]={range:e[l].range,options:r};this._decorations=n.deltaDecorations(this._decorations,u),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach((l)=>n.removeDecoration(l)),this._findScopeDecorationIds=[]),t?.length&&(this._findScopeDecorationIds=t.map((l)=>n.addDecoration(l,Os._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){const n=this._decorations[t],r=this._editor.getModel().getDecorationRange(n);if(r&&!(r.endLineNumber>e.lineNumber)){if(r.endLineNumber<e.lineNumber)return r;if(!(r.endColumn>e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,n=this._decorations.length;t<n;t++){const r=this._decorations[t],o=this._editor.getModel().getDecorationRange(r);if(o&&!(o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}static{this._CURRENT_FIND_MATCH_DECORATION=Hn.kI.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",inlineClassName:"currentFindMatchInline",showIfCollapsed:!0,overviewRuler:{color:pi.Yf(Xt.fAP),position:Ci.A5.Center},minimap:{color:pi.Yf(Xt.AjU),position:1}})}static{this._FIND_MATCH_DECORATION=Hn.kI.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",inlineClassName:"findMatchInline",showIfCollapsed:!0,overviewRuler:{color:pi.Yf(Xt.fAP),position:Ci.A5.Center},minimap:{color:pi.Yf(Xt.AjU),position:1}})}static{this._FIND_MATCH_NO_OVERVIEW_DECORATION=Hn.kI.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0})}static{this._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Hn.kI.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:pi.Yf(Xt.fAP),position:Ci.A5.Center}})}static{this._RANGE_HIGHLIGHT_DECORATION=Hn.kI.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0})}static{this._FIND_SCOPE_DECORATION=Hn.kI.register({description:"find-scope",className:"findScope",isWholeLine:!0})}}class w1{constructor(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){const n=[];for(let u=0;u<this._ranges.length;u++)n.push({range:this._ranges[u],text:this._replaceStrings[u]});n.sort((u,l)=>Nt.Q.compareRangesUsingStarts(u.range,l.range));const r=[];let o=n[0];for(let u=1;u<n.length;u++)o.range.endLineNumber===n[u].range.startLineNumber&&o.range.endColumn===n[u].range.startColumn?(o.range=o.range.plusRange(n[u].range),o.text=o.text+n[u].text):(r.push(o),o=n[u]);r.push(o);for(let u of r)t.addEditOperation(u.range,u.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function x1(e,t){if(e&&e[0]!==""){const n=C1(e,t,"-"),r=C1(e,t,"_");return n&&!r?E1(e,t,"-"):!n&&r?E1(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():Ne.zY(e[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):e[0][0].toUpperCase()!==e[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}return t}function C1(e,t,n){return e[0].indexOf(n)!==-1&&t.indexOf(n)!==-1&&e[0].split(n).length===t.split(n).length}function E1(e,t,n){const r=t.split(n),o=e[0].split(n);let u="";return r.forEach((l,A)=>{u+=x1([o[A]],l)+n}),u.slice(0,-1)}class pf{constructor(e){this.staticValue=e,this.kind=0}}class J1{constructor(e){this.pieces=e,this.kind=1}}class Xc{static fromStaticValue(e){return new Xc([ac.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(e){e&&e.length!==0?e.length===1&&e[0].staticValue!==null?this._state=new pf(e[0].staticValue):this._state=new J1(e):this._state=new pf("")}buildReplaceString(e,t){if(this._state.kind===0)return t?x1(e,this._state.staticValue):this._state.staticValue;let n="";for(let r=0,o=this._state.pieces.length;r<o;r++){const u=this._state.pieces[r];if(u.staticValue!==null){n+=u.staticValue;continue}let l=Xc._substitute(u.matchIndex,e);if(u.caseOps!==null&&u.caseOps.length>0){const A=[],K=u.caseOps.length;let le=0;for(let ue=0,we=l.length;ue<we;ue++){if(le>=K){A.push(l.slice(ue));break}switch(u.caseOps[le]){case"U":A.push(l[ue].toUpperCase());break;case"u":A.push(l[ue].toUpperCase()),le++;break;case"L":A.push(l[ue].toLowerCase());break;case"l":A.push(l[ue].toLowerCase()),le++;break;default:A.push(l[ue])}}l=A.join("")}n+=l}return n}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let n="";for(;e>0;){if(e<t.length)return(t[e]||"")+n;n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n}}class ac{static staticValue(e){return new ac(e,-1,null)}static caseOps(e,t){return new ac(null,e,t)}constructor(e,t,n){this.staticValue=e,this.matchIndex=t,n&&n.length!==0?this.caseOps=n.slice(0):this.caseOps=null}}class k1{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,n){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=ac.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=ac.caseOps(e,n),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=ac.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Xc(this._result)}}const Va=new ye.N1("findWidgetVisible",!1),uh=(Va.toNegated(),new ye.N1("findInputFocussed",!1)),ff=new ye.N1("replaceInputFocussed",!1),hh={primary:545,mac:{primary:2593}},ph={primary:565,mac:{primary:2613}},fh={primary:560,mac:{primary:2608}},mh={primary:554,mac:{primary:2602}},gh={primary:558,mac:{primary:2606}},mf="editor.action.nextMatchFindAction",gf="editor.action.previousMatchFindAction",T1="closeFindWidget",_f="toggleFindCaseSensitive",bf="toggleFindWholeWord",vf="toggleFindRegex",A1="toggleFindInSelection",N1="togglePreserveCase",yf="editor.action.replaceOne",Sf="editor.action.replaceAll",El=19999;class Bd{constructor(e,t){this._toDispose=new ft.Cm,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new un.pc,this._decorations=new Os(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new un.uC(()=>{if(this._editor.hasModel())return this.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((n)=>{n.reason!==3&&n.reason!==5&&n.reason!==6||this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((n)=>{this._ignoreModelContentChanged||(n.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange((n)=>this._onStateChanged(n))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,ft.AS(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let n=null;t!==void 0?t!==null&&(n=Array.isArray(t)?t:[t]):n=this._decorations.getFindScopes(),n!==null&&(n=n.map((l)=>{if(l.startLineNumber!==l.endLineNumber){let A=l.endLineNumber;return l.endColumn===1&&(A-=1),new Nt.Q(l.startLineNumber,1,A,this._editor.getModel().getLineMaxColumn(A))}return l}));const r=this._findMatches(n,!1,El);this._decorations.set(r,n);const o=this._editor.getSelection();let u=this._decorations.getCurrentMatchesPosition(o);if(u===0&&r.length>0){const l=Ud.hw(r.map((A)=>A.range),(A)=>Nt.Q.compareRangesUsingStarts(A,o)>=0);u=l>0?l-1+1:u}this._state.changeMatchInfo(u,this._decorations.getCount(),void 0),e&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){const t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:n,column:r}=e;const o=this._editor.getModel();return t||r===1?(n===1?n=o.getLineCount():n--,r=o.getLineMaxColumn(n)):r--,new Yn.y(n,r)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const le=this._decorations.matchAfterPosition(e);return void(le&&this._setCurrentFindMatch(le))}if(this._decorations.getCount()<El){let le=this._decorations.matchBeforePosition(e);return le&&le.isEmpty()&&le.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),le=this._decorations.matchBeforePosition(e)),void(le&&this._setCurrentFindMatch(le))}if(this._cannotFind())return;const n=this._decorations.getFindScope(),r=Bd._getSearchRange(this._editor.getModel(),n);r.getEndPosition().isBefore(e)&&(e=r.getEndPosition()),e.isBefore(r.getStartPosition())&&(e=r.getEndPosition());const{lineNumber:o,column:u}=e,l=this._editor.getModel();let A=new Yn.y(o,u),K=l.findPreviousMatch(this._state.searchString,A,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,!1);return K&&K.range.isEmpty()&&K.range.getStartPosition().equals(A)&&(A=this._prevSearchPosition(A),K=l.findPreviousMatch(this._state.searchString,A,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,!1)),K?t||r.containsRange(K.range)?void this._setCurrentFindMatch(K.range):this._moveToPrevMatch(K.range.getStartPosition(),!0):void 0}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:n,column:r}=e;const o=this._editor.getModel();return t||r===o.getLineMaxColumn(n)?(n===o.getLineCount()?n=1:n++,r=1):r++,new Yn.y(n,r)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const n=this._decorations.matchBeforePosition(e);return void(n&&this._setCurrentFindMatch(n))}if(this._decorations.getCount()<El){let n=this._decorations.matchAfterPosition(e);return n&&n.isEmpty()&&n.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),n=this._decorations.matchAfterPosition(e)),void(n&&this._setCurrentFindMatch(n))}const t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,n,r=!1){if(this._cannotFind())return null;const o=this._decorations.getFindScope(),u=Bd._getSearchRange(this._editor.getModel(),o);u.getEndPosition().isBefore(e)&&(e=u.getStartPosition()),e.isBefore(u.getStartPosition())&&(e=u.getStartPosition());const{lineNumber:l,column:A}=e,K=this._editor.getModel();let le=new Yn.y(l,A),ue=K.findNextMatch(this._state.searchString,le,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,t);return n&&ue&&ue.range.isEmpty()&&ue.range.getStartPosition().equals(le)&&(le=this._nextSearchPosition(le),ue=K.findNextMatch(this._state.searchString,le,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,t)),ue?r||u.containsRange(ue.range)?ue:this._getNextMatch(ue.range.getEndPosition(),t,n,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(e){const t=this._decorations.getDecorationRangeAt(e);t&&this._setCurrentFindMatch(t)}moveToMatch(e){this._moveToMatch(e)}_getReplacePattern(){return this._state.isRegex?function(e){if(!e||e.length===0)return new Xc(null);const t=[],n=new k1(e);for(let r=0,o=e.length;r<o;r++){const u=e.charCodeAt(r);if(u!==92){if(u===36){if(r++,r>=o)break;const l=e.charCodeAt(r);if(l===36){n.emitUnchanged(r-1),n.emitStatic("$",r+1);continue}if(l===48||l===38){n.emitUnchanged(r-1),n.emitMatchIndex(0,r+1,t),t.length=0;continue}if(49<=l&&l<=57){let A=l-48;if(r+1<o){const K=e.charCodeAt(r+1);if(48<=K&&K<=57){r++,A=10*A+(K-48),n.emitUnchanged(r-2),n.emitMatchIndex(A,r+1,t),t.length=0;continue}}n.emitUnchanged(r-1),n.emitMatchIndex(A,r+1,t),t.length=0;continue}}}else{if(r++,r>=o)break;const l=e.charCodeAt(r);switch(l){case 92:n.emitUnchanged(r-1),n.emitStatic("\\",r+1);break;case 110:n.emitUnchanged(r-1),n.emitStatic("\n",r+1);break;case 116:n.emitUnchanged(r-1),n.emitStatic("\t",r+1);break;case 117:case 85:case 108:case 76:n.emitUnchanged(r-1),n.emitStatic("",r+1),t.push(String.fromCharCode(l))}}}return n.finalize()}(this._state.replaceString):Xc.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){const r=e.buildReplaceString(n.matches,this._state.preserveCase),o=new or.iu(t,r);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new Yn.y(t.startLineNumber,t.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}_findMatches(e,t,n){const r=(e||[null]).map((o)=>Bd._getSearchRange(this._editor.getModel(),o));return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,t,n)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=El?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const e=new C2.lt(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null).parseSearchRequest();if(!e)return;let t=e.regex;if(!t.multiline){let le="mu";t.ignoreCase&&(le+="i"),t.global&&(le+="g"),t=new RegExp(t.source,le)}const n=this._editor.getModel(),r=n.getValue(1),o=n.getFullModelRange(),u=this._getReplacePattern();let l;const A=this._state.preserveCase;l=u.hasReplacementPatterns||A?r.replace(t,function(){return u.buildReplaceString(arguments,A)}):r.replace(t,u.buildReplaceString(null,A));const K=new or.ui(o,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",K)}_regularReplaceAll(e){const t=this._getReplacePattern(),n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[];for(let u=0,l=n.length;u<l;u++)r[u]=t.buildReplaceString(n[u].matches,this._state.preserveCase);const o=new w1(this._editor.getSelection(),n.map((u)=>u.range),r);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();let t=this._findMatches(e,!1,1073741824).map((r)=>new Xn.L(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn));const n=this._editor.getSelection();for(let r=0,o=t.length;r<o;r++)if(t[r].equalsRange(n)){t=[n].concat(t.slice(0,r)).concat(t.slice(r+1));break}this._editor.setSelections(t)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var wf=ct(5906),lc=ct(5568);class xf extends $t.x{static{this.ID="editor.contrib.findOptionsWidget"}constructor(e,t,n){super(),this._hideSoon=this._register(new un.uC(()=>this._hide(),2000)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=n,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const r={inputActiveOptionBorder:Xt.GuP(Xt.uNK),inputActiveOptionForeground:Xt.GuP(Xt.$$0),inputActiveOptionBackground:Xt.GuP(Xt.c1f)},o=this._register(lc.bW());this.caseSensitive=this._register(new wf.bc({appendTitle:this._keybindingLabelFor(_f),isChecked:this._state.matchCase,hoverDelegate:o,...r})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new wf.nV({appendTitle:this._keybindingLabelFor(bf),isChecked:this._state.wholeWord,hoverDelegate:o,...r})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new wf.Ix({appendTitle:this._keybindingLabelFor(vf),isChecked:this._state.isRegex,hoverDelegate:o,...r})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange((u)=>{let l=!1;u.isRegex&&(this.regex.checked=this._state.isRegex,l=!0),u.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,l=!0),u.matchCase&&(this.caseSensitive.checked=this._state.matchCase,l=!0),!this._state.isRevealed&&l&&this._revealTemporarily()})),this._register(ae.ko(this._domNode,ae.Bx.MOUSE_LEAVE,(u)=>this._onMouseLeave())),this._register(ae.ko(this._domNode,"mouseover",(u)=>this._onMouseOver()))}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return xf.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}function _h(e,t){return e===1||e!==2&&t}class I1 extends ft.jG{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return _h(this._isRegexOverride,this._isRegex)}get wholeWord(){return _h(this._wholeWordOverride,this._wholeWord)}get matchCase(){return _h(this._matchCaseOverride,this._matchCase)}get preserveCase(){return _h(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new Rt.vl),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(e,t,n){const r={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,r.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,r.matchesCount=!0,o=!0),n!==void 0&&(Nt.Q.equalsRange(this._currentMatch,n)||(this._currentMatch=n,r.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(r)}change(e,t,n=!0){const r={moveCursor:t,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;const u=this.isRegex,l=this.wholeWord,A=this.matchCase,K=this.preserveCase;e.searchString!==void 0&&this._searchString!==e.searchString&&(this._searchString=e.searchString,r.searchString=!0,o=!0),e.replaceString!==void 0&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,r.replaceString=!0,o=!0),e.isRevealed!==void 0&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,r.isRevealed=!0,o=!0),e.isReplaceRevealed!==void 0&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,r.isReplaceRevealed=!0,o=!0),e.isRegex!==void 0&&(this._isRegex=e.isRegex),e.wholeWord!==void 0&&(this._wholeWord=e.wholeWord),e.matchCase!==void 0&&(this._matchCase=e.matchCase),e.preserveCase!==void 0&&(this._preserveCase=e.preserveCase),e.searchScope!==void 0&&(e.searchScope?.every((le)=>this._searchScope?.some((ue)=>!Nt.Q.equalsRange(ue,le)))||(this._searchScope=e.searchScope,r.searchScope=!0,o=!0)),e.loop!==void 0&&this._loop!==e.loop&&(this._loop=e.loop,r.loop=!0,o=!0),e.isSearching!==void 0&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,r.isSearching=!0,o=!0),e.filters!==void 0&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,r.filters=!0,o=!0),this._isRegexOverride=e.isRegexOverride!==void 0?e.isRegexOverride:0,this._wholeWordOverride=e.wholeWordOverride!==void 0?e.wholeWordOverride:0,this._matchCaseOverride=e.matchCaseOverride!==void 0?e.matchCaseOverride:0,this._preserveCaseOverride=e.preserveCaseOverride!==void 0?e.preserveCaseOverride:0,u!==this.isRegex&&(o=!0,r.isRegex=!0),l!==this.wholeWord&&(o=!0,r.wholeWord=!0),A!==this.matchCase&&(o=!0,r.matchCase=!0),K!==this.preserveCase&&(o=!0,r.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(r)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=El}}var R1=ct(585),E2=ct(6595),J2=ct(9004);const k2=oe.kg("defaultLabel","input"),T2=oe.kg("label.preserveCaseToggle","Preserve Case");class L1 extends R1.l{constructor(e){super({icon:be.W.preserveCase,title:T2+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??lc.nZ("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class D1 extends $t.x{constructor(e,t,n,r){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new Rt.vl),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Rt.vl),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Rt.vl),this._onInput=this._register(new Rt.vl),this._onKeyUp=this._register(new Rt.vl),this._onPreserveCaseKeyDown=this._register(new Rt.vl),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||k2;const o=r.appendPreserveCaseLabel||"",u=r.history||[],l=!!r.flexibleHeight,A=!!r.flexibleWidth,K=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new J2.mJ(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:u,showHistoryHint:r.showHistoryHint,flexibleHeight:l,flexibleWidth:A,flexibleMaxHeight:K,inputBoxStyles:r.inputBoxStyles})),this.preserveCase=this._register(new L1({appendTitle:o,isChecked:!1,...r.toggleStyles})),this._register(this.preserveCase.onChange((we)=>{this._onDidOptionChange.fire(we),!we&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown((we)=>{this._onPreserveCaseKeyDown.fire(we)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const le=[this.preserveCase.domNode];this.onkeydown(this.domNode,(we)=>{if(we.equals(15)||we.equals(17)||we.equals(9)){const Qe=le.indexOf(this.domNode.ownerDocument.activeElement);if(Qe>=0){let Me=-1;we.equals(17)?Me=(Qe+1)%le.length:we.equals(15)&&(Me=Qe===0?le.length-1:Qe-1),we.equals(9)?(le[Qe].blur(),this.inputBox.focus()):Me>=0&&le[Me].focus(),ae.fs.stop(we,!0)}}});const ue=document.createElement("div");ue.className="controls",ue.style.display=this._showOptionButtons?"block":"none",ue.appendChild(this.preserveCase.domNode),this.domNode.appendChild(ue),e?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(we)=>this._onKeyDown.fire(we)),this.onkeyup(this.inputBox.inputElement,(we)=>this._onKeyUp.fire(we)),this.oninput(this.inputBox.inputElement,(we)=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,(we)=>this._onMouseDown.fire(we))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox?.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var M1=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},P1=function(e,t){return function(n,r){t(n,r,e)}};const Cf=new ye.N1("suggestWidgetVisible",!1,oe.kg("suggestWidgetVisible","Whether suggestion are visible")),Ef="historyNavigationWidgetFocus",F1="historyNavigationForwardsEnabled",O1="historyNavigationBackwardsEnabled";let Vd;const bh=[];function Q1(e,t){if(bh.includes(t))throw new Error("Cannot register the same widget multiple times");bh.push(t);const n=new ft.Cm,r=new ye.N1(Ef,!1).bindTo(e),o=new ye.N1(F1,!0).bindTo(e),u=new ye.N1(O1,!0).bindTo(e),l=()=>{r.set(!0),Vd=t},A=()=>{r.set(!1),Vd===t&&(Vd=void 0)};return ae.X7(t.element)&&l(),n.add(t.onDidFocus(()=>l())),n.add(t.onDidBlur(()=>A())),n.add(ft.s(()=>{bh.splice(bh.indexOf(t),1),A()})),{historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:u,dispose(){n.dispose()}}}let Jf=class extends E2.c{constructor(e,t,n,r){super(e,t,n);const o=this._register(r.createScoped(this.inputBox.element));this._register(Q1(o,this.inputBox))}};Jf=M1([P1(3,ye.fN)],Jf);let kf=class extends D1{constructor(e,t,n,r,o=!1){super(e,t,o,n);const u=this._register(r.createScoped(this.inputBox.element));this._register(Q1(u,this.inputBox))}};function z1(e){return e.lookupKeybinding("history.showPrevious")?.getElectronAccelerator()==="Up"&&e.lookupKeybinding("history.showNext")?.getElectronAccelerator()==="Down"}kf=M1([P1(3,ye.fN)],kf),zi.f.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:ye.M$.and(ye.M$.has(Ef),ye.M$.equals(O1,!0),ye.M$.not("isComposing"),Cf.isEqualTo(!1)),primary:16,secondary:[528],handler:(e)=>{Vd?.showPreviousValue()}}),zi.f.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:ye.M$.and(ye.M$.has(Ef),ye.M$.equals(F1,!0),ye.M$.not("isComposing"),Cf.isEqualTo(!1)),primary:18,secondary:[530],handler:(e)=>{Vd?.showNextValue()}});const W1=_r.pU("find-collapsed",be.W.chevronRight,oe.kg("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),$1=_r.pU("find-expanded",be.W.chevronDown,oe.kg("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),A2=_r.pU("find-selection",be.W.selection,oe.kg("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),N2=_r.pU("find-replace",be.W.replace,oe.kg("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),I2=_r.pU("find-replace-all",be.W.replaceAll,oe.kg("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),R2=_r.pU("find-previous-match",be.W.arrowUp,oe.kg("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),L2=_r.pU("find-next-match",be.W.arrowDown,oe.kg("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),D2=oe.kg("label.findDialog","Find / Replace"),M2=oe.kg("label.find","Find"),P2=oe.kg("placeholder.find","Find"),F2=oe.kg("label.previousMatchButton","Previous Match"),O2=oe.kg("label.nextMatchButton","Next Match"),Q2=oe.kg("label.toggleSelectionFind","Find in Selection"),z2=oe.kg("label.closeButton","Close"),W2=oe.kg("label.replace","Replace"),$2=oe.kg("placeholder.replace","Replace"),Z2=oe.kg("label.replaceButton","Replace"),U2=oe.kg("label.replaceAllButton","Replace All"),B2=oe.kg("label.toggleReplaceButton","Toggle Replace"),V2=oe.kg("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",El),G2=oe.kg("label.matchesLocation","{0} of {1}"),Z1=oe.kg("label.noResults","No results"),Hc=419;let Gd=69;const U1="ctrlEnterReplaceAll.windows.donotask",B1=tn.zx?256:2048;class vh{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function V1(e,t,n){const r=!!t.match(/\n/);n&&r&&n.selectionStart>0&&e.stopPropagation()}function G1(e,t,n){const r=!!t.match(/\n/);n&&r&&n.selectionEnd<n.value.length&&e.stopPropagation()}class Tf extends $t.x{static{this.ID="editor.contrib.findWidget"}constructor(e,t,n,r,o,u,l,A,K,le){super(),this._hoverService=le,this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=n,this._contextViewProvider=r,this._keybindingService=o,this._contextKeyService=u,this._storageService=A,this._notificationService=K,this._ctrlEnterReplaceAllWarningPrompted=!!A.getBoolean(U1,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new un.ve(500),this._register(ft.s(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange((ue)=>this._onStateChanged(ue))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration((ue)=>{if(ue.hasChanged(92)&&(this._codeEditor.getOption(92)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),ue.hasChanged(146)&&this._tryUpdateWidgetWidth(),ue.hasChanged(2)&&this.updateAccessibilitySupport(),ue.hasChanged(41)){const we=this._codeEditor.getOption(41).loop;this._state.change({loop:we},!1);const Qe=this._codeEditor.getOption(41).addExtraSpaceOnTop;Qe&&!this._viewZone&&(this._viewZone=new vh(0),this._showViewZone()),!Qe&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){const ue=await this._controller.getGlobalBufferTerm();ue&&ue!==this._state.searchString&&(this._state.change({searchString:ue},!1),this._findInput.select())}})),this._findInputFocused=uh.bindTo(u),this._findFocusTracker=this._register(ae.w5(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=ff.bindTo(u),this._replaceFocusTracker=this._register(ae.w5(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new vh(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange((ue)=>{ue.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Tf.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(92)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=ae.Tr(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){const t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ii.dz)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=Gd+"px",this._state.matchesCount>=El?this._matchesCount.title=V2:this._matchesCount.title="",this._matchesCount.firstChild?.remove(),this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=El&&(t+="+");let n=String(this._state.matchesPosition);n==="0"&&(n="?"),e=Ne.GP(G2,n,t)}else e=Z1;this._matchesCount.appendChild(document.createTextNode(e)),si.xE(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Gd=Math.max(Gd,this._matchesCount.clientWidth)}_getAriaLabel(e,t,n){if(e===Z1)return n===""?oe.kg("ariaSearchNoResultEmpty","{0} found",e):oe.kg("ariaSearchNoResult","{0} found for '{1}'",e,n);if(t){const r=oe.kg("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,n,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1?`${o.getLineContent(t.startLineNumber)}, ${r}`:r}return oe.kg("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,n)}_updateToggleSelectionFindButton(){const e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),n=this._toggleSelectionFind.checked;this._isVisible&&(n||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const n=!this._codeEditor.getOption(92);this._toggleReplaceBtn.setEnabled(this._isVisible&&n)}_reveal(){if(this._revealTimeouts.forEach((e)=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const n=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=n;break}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&e){const n=this._codeEditor.getDomNode();if(n){const r=ae.BK(n),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),u=r.left+(o?o.left:0),l=o?o.top:0;if(this._viewZone&&l<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const A=ae.cL(this._domNode).left;u>A&&(t=!1);const K=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());r.left+(K?K.left:0)>A&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach((t)=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const t=this._viewZone;this._viewZoneId===void 0&&t&&this._codeEditor.changeViewZones((n)=>{t.heightInPx=this._getHeight(),this._viewZoneId=n.addZone(t),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+t.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible)return;if(!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new vh(0));const t=this._viewZone;this._codeEditor.changeViewZones((n)=>{if(this._viewZoneId!==void 0){const r=this._getHeight();if(r===t.heightInPx)return;const o=r-t.heightInPx;return t.heightInPx=r,n.layoutZone(this._viewZoneId),void(e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o))}{let r=this._getHeight();if(r-=this._codeEditor.getOption(84).top,r<=0)return;t.heightInPx=r,this._viewZoneId=n.addZone(t),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+r)}})}_removeViewZone(){this._codeEditor.changeViewZones((e)=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible)return;if(!this._domNode.isConnected)return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const t=e.width,n=e.minimap.minimapWidth;let r=!1,o=!1,u=!1;if(this._resized&&ae.Tr(this._domNode)>Hc)return this._domNode.style.maxWidth=t-28-n-15+"px",void(this._replaceInput.width=ae.Tr(this._findInput.domNode));if(447+n>=t&&(o=!0),447+n-Gd>=t&&(u=!0),447+n-Gd>=t+50&&(r=!0),this._domNode.classList.toggle("collapsed-find-widget",r),this._domNode.classList.toggle("narrow-find-widget",u),this._domNode.classList.toggle("reduced-find-widget",o),u||r||(this._domNode.style.maxWidth=t-28-n-15+"px"),this._findInput.layout({collapsedFindWidget:r,narrowFindWidget:u,reducedFindWidget:o}),this._resized){const l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=ae.Tr(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return(this._cachedHeight===null||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const e=this._codeEditor.getSelections();e.map((t)=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const n=this._state.currentMatch;return t.startLineNumber===t.endLineNumber||Nt.Q.equalsRange(t,n)?null:t}).filter((t)=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|B1)?(this._keybindingService.dispatchEvent(e,e.target)||this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?V1(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?G1(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|B1)?(this._keybindingService.dispatchEvent(e,e.target)||(tn.uF&&tn.ib&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(oe.kg("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(U1,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?V1(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?G1(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Jf(null,this._contextViewProvider,{width:221,label:M2,placeholder:P2,appendCaseSensitiveLabel:this._keybindingLabelFor(_f),appendWholeWordsLabel:this._keybindingLabelFor(bf),appendRegexLabel:this._keybindingLabelFor(vf),validation:(le)=>{if(le.length===0||!this._findInput.getRegex())return null;try{return new RegExp(le,"gu"),null}catch(ue){return{content:ue.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>z1(this._keybindingService),inputBoxStyles:ms.ho,toggleStyles:ms.mk},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((le)=>this._onFindInputKeyDown(le))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown((le)=>{le.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),le.preventDefault())})),this._register(this._findInput.onRegexKeyDown((le)=>{le.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),le.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange((le)=>{this._tryUpdateHeight()&&this._showViewZone()})),tn.j9&&this._register(this._findInput.onMouseDown((le)=>this._onFindInputMouseDown(le))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();const n=this._register(lc.bW());this._prevBtn=this._register(new cc({label:F2+this._keybindingLabelFor(gf),icon:R2,hoverDelegate:n,onTrigger:()=>{yn.eU(this._codeEditor.getAction(gf)).run().then(void 0,ii.dz)}},this._hoverService)),this._nextBtn=this._register(new cc({label:O2+this._keybindingLabelFor(mf),icon:L2,hoverDelegate:n,onTrigger:()=>{yn.eU(this._codeEditor.getAction(mf)).run().then(void 0,ii.dz)}},this._hoverService));const r=document.createElement("div");r.className="find-part",r.appendChild(this._findInput.domNode);const o=document.createElement("div");o.className="find-actions",r.appendChild(o),o.appendChild(this._matchesCount),o.appendChild(this._prevBtn.domNode),o.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new R1.l({icon:A2,title:Q2+this._keybindingLabelFor(A1),isChecked:!1,hoverDelegate:n,inputActiveOptionBackground:Xt.GuP(Xt.c1f),inputActiveOptionBorder:Xt.GuP(Xt.uNK),inputActiveOptionForeground:Xt.GuP(Xt.$$0)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let le=this._codeEditor.getSelections();le=le.map((ue)=>(ue.endColumn===1&&ue.endLineNumber>ue.startLineNumber&&(ue=ue.setEndPosition(ue.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ue.endLineNumber-1))),ue.isEmpty()?null:ue)).filter((ue)=>!!ue),le.length&&this._state.change({searchScope:le},!0)}}else this._state.change({searchScope:null},!0)})),o.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new cc({label:z2+this._keybindingLabelFor(T1),icon:_r.$_,hoverDelegate:n,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:(le)=>{le.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),le.preventDefault())}},this._hoverService)),this._replaceInput=this._register(new kf(null,void 0,{label:W2,placeholder:$2,appendPreserveCaseLabel:this._keybindingLabelFor(N1),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>z1(this._keybindingService),inputBoxStyles:ms.ho,toggleStyles:ms.mk},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((le)=>this._onReplaceInputKeyDown(le))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange((le)=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown((le)=>{le.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),le.preventDefault())}));const u=this._register(lc.bW());this._replaceBtn=this._register(new cc({label:Z2+this._keybindingLabelFor(yf),icon:N2,hoverDelegate:u,onTrigger:()=>{this._controller.replace()},onKeyDown:(le)=>{le.equals(1026)&&(this._closeBtn.focus(),le.preventDefault())}},this._hoverService)),this._replaceAllBtn=this._register(new cc({label:U2+this._keybindingLabelFor(Sf),icon:I2,hoverDelegate:u,onTrigger:()=>{this._controller.replaceAll()}},this._hoverService));const l=document.createElement("div");l.className="replace-part",l.appendChild(this._replaceInput.domNode);const A=document.createElement("div");A.className="replace-actions",l.appendChild(A),A.appendChild(this._replaceBtn.domNode),A.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new cc({label:B2,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=ae.Tr(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}},this._hoverService)),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=D2,this._domNode.role="dialog",this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(r),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(l),this._resizeSash=this._register(new pa.m(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let K=Hc;this._register(this._resizeSash.onDidStart(()=>{K=ae.Tr(this._domNode)})),this._register(this._resizeSash.onDidChange((le)=>{this._resized=!0;const ue=K+le.startX-le.currentX;ue<Hc||ue>(parseFloat(ae.L9(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${ue}px`,this._isReplaceVisible&&(this._replaceInput.width=ae.Tr(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const le=ae.Tr(this._domNode);if(le<Hc)return;let ue=Hc;if(!this._resized||le===Hc){const we=this._codeEditor.getLayoutInfo();ue=we.width-28-we.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${ue}px`,this._isReplaceVisible&&(this._replaceInput.width=ae.Tr(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}class cc extends $t.x{constructor(e,t){super(),this._opts=e;let n="button";this._opts.className&&(n=n+" "+this._opts.className),this._opts.icon&&(n=n+" "+Oe.L.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=n,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register(t.setupManagedHover(e.hoverDelegate??lc.nZ("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,(r)=>{this._opts.onTrigger(),r.preventDefault()}),this.onkeydown(this._domNode,(r)=>{if(r.equals(10)||r.equals(3))return this._opts.onTrigger(),void r.preventDefault();this._opts.onKeyDown?.(r)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Oe.L.asClassNameArray(W1)),this._domNode.classList.add(...Oe.L.asClassNameArray($1))):(this._domNode.classList.remove(...Oe.L.asClassNameArray($1)),this._domNode.classList.add(...Oe.L.asClassNameArray(W1)))}}pi.zy((e,t)=>{const n=e.getColor(Xt.ECk);n&&t.addRule(`.monaco-editor .findMatch { border: 1px ${ss.Bb(e.type)?"dotted":"solid"} ${n}; box-sizing: border-box; }`);const r=e.getColor(Xt.S5J);r&&t.addRule(`.monaco-editor .findScope { border: 1px ${ss.Bb(e.type)?"dashed":"solid"} ${r}; }`);const o=e.getColor(Xt.b1q);o&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${o}; }`);const u=e.getColor(Xt.f3U);u&&t.addRule(`.monaco-editor .findMatchInline { color: ${u}; }`);const l=e.getColor(Xt.p8Y);l&&t.addRule(`.monaco-editor .currentFindMatchInline { color: ${l}; }`)});var Af,X1=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},xs=function(e,t){return function(n,r){t(n,r,e)}};function Nf(e,t="single",n=!1){if(!e.hasModel())return null;const r=e.getSelection();if(t==="single"&&r.startLineNumber===r.endLineNumber||t==="multiple"){if(r.isEmpty()){const o=e.getConfiguredWordAtPosition(r.getStartPosition());if(o&&n===!1)return o.word}else if(e.getModel().getValueLengthInRange(r)<524288)return e.getModel().getValueInRange(r)}return null}let Xo=class extends ft.jG{static{Af=this}static{this.ID="editor.contrib.findController"}get editor(){return this._editor}static get(e){return e.getContribution(Af.ID)}constructor(e,t,n,r,o,u){super(),this._editor=e,this._findWidgetVisible=Va.bindTo(t),this._contextKeyService=t,this._storageService=n,this._clipboardService=r,this._notificationService=o,this._hoverService=u,this._updateHistoryDelayer=new un.ve(500),this._state=this._register(new I1),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange((l)=>this._onStateChanged(l))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const l=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),l&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!uh.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e=e.map((t)=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter((t)=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=Ne.bm(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}async _start(e,t){if(this.disposeModel(),!this._editor.hasModel())return;const n={...t,isRevealed:!0};if(e.seedSearchStringFromSelection==="single"){const r=Nf(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);r&&(this._state.isRegex?n.searchString=Ne.bm(r):n.searchString=r)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){const r=Nf(this._editor,e.seedSearchStringFromSelection);r&&(n.searchString=r)}if(!n.searchString&&e.seedSearchStringFromGlobalClipboard){const r=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;r&&(n.searchString=r)}if(e.forceRevealReplace||n.isReplaceRevealed?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),e.updateSearchScope){const r=this._editor.getSelections();r.some((o)=>!o.isEmpty())&&(n.searchScope=r)}n.loop=e.loop,this._state.change(n,!1),this._model||(this._model=new Bd(this._editor,this._state))}start(e,t){return this._start(e,t)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}goToMatch(e){return!!this._model&&(this._model.moveToMatch(e),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._editor.getModel()?.isTooLargeForHeapOperation()?(this._notificationService.warn(oe.kg("too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0))}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}async getGlobalBufferTerm(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(e){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Xo=Af=X1([xs(1,ye.fN),xs(2,Zr.CS),xs(3,ut.h),xs(4,Dr.Ot),xs(5,Ys.TN)],Xo);let If=class extends Xo{constructor(e,t,n,r,o,u,l,A,K){super(e,n,l,A,u,K),this._contextViewService=t,this._keybindingService=r,this._themeService=o,this._widget=null,this._findOptionsWidget=null}async _start(e,t){this._widget||this._createFindWidget();const n=this._editor.getSelection();let r=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":r=!0;break;case"never":r=!1;break;case"multiline":r=!!n&&n.startLineNumber!==n.endLineNumber}e.updateSearchScope=e.updateSearchScope||r,await super._start(e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Tf(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._hoverService)),this._findOptionsWidget=this._register(new xf(this._editor,this._state,this._keybindingService))}};If=X1([xs(1,no.l),xs(2,ye.fN),xs(3,ui.b),xs(4,pi.Gy),xs(5,Dr.Ot),xs(6,Zr.CS),xs(7,ut.h),xs(8,Ys.TN)],If),O.gW(new O.PF({id:"actions.find",label:oe.kg("startFindAction","Find"),alias:"Find",precondition:ye.M$.or(Fe.R.focus,ye.M$.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:rt.D8.MenubarEditMenu,group:"3_find",title:oe.kg({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(e,t,n)=>{const r=Xo.get(t);return!!r&&r.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:t.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop})});const X2={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class H1 extends O.ks{constructor(){super({id:"editor.actions.findWithArgs",label:oe.kg("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:X2})}async run(e,t,n){const r=Xo.get(t);if(r){const o=n?{searchString:n.searchString,replaceString:n.replaceString,isReplaceRevealed:n.replaceString!==void 0,isRegex:n.isRegex,wholeWord:n.matchWholeWord,matchCase:n.isCaseSensitive,preserveCase:n.preserveCase}:{};await r.start({forceRevealReplace:!1,seedSearchStringFromSelection:r.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:n?.findInSelection||!1,loop:t.getOption(41).loop},o),r.setGlobalBufferTerm(r.getState().searchString)}}}class Y1 extends O.ks{constructor(){super({id:"actions.findWithSelection",label:oe.kg("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}async run(e,t){const n=Xo.get(t);n&&(await n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),n.setGlobalBufferTerm(n.getState().searchString))}}class Rf extends O.ks{async run(e,t){const n=Xo.get(t);n&&!this._run(n)&&(await n.start({forceRevealReplace:!1,seedSearchStringFromSelection:n.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(n))}}class j1 extends O.ks{constructor(){super({id:"editor.action.goToMatchFindAction",label:oe.kg("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:Va}),this._highlightDecorations=[]}run(e,t,n){const r=Xo.get(t);if(!r)return;const o=r.getState().matchesCount;if(o<1)return void e.get(Dr.Ot).notify({severity:Dr.AI.Warning,message:oe.kg("findMatchAction.noResults","No matches. Try searching for something else.")});const u=e.get(Ht.GK),l=new ft.Cm,A=l.add(u.createInputBox());A.placeholder=oe.kg("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",o);const K=(ue)=>{const we=parseInt(ue);if(isNaN(we))return;const Qe=r.getState().matchesCount;return we>0&&we<=Qe?we-1:we<0&&we>=-Qe?Qe+we:void 0},le=(ue)=>{const we=K(ue);if(typeof we=="number"){A.validationMessage=void 0,r.goToMatch(we);const Qe=r.getState().currentMatch;Qe&&this.addDecorations(t,Qe)}else A.validationMessage=oe.kg("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",r.getState().matchesCount),this.clearDecorations(t)};l.add(A.onDidChangeValue((ue)=>{le(ue)})),l.add(A.onDidAccept(()=>{const ue=K(A.value);typeof ue=="number"?(r.goToMatch(ue),A.hide()):A.validationMessage=oe.kg("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",r.getState().matchesCount)})),l.add(A.onDidHide(()=>{this.clearDecorations(t),l.dispose()})),A.show()}clearDecorations(e){e.changeDecorations((t)=>{this._highlightDecorations=t.deltaDecorations(this._highlightDecorations,[])})}addDecorations(e,t){e.changeDecorations((n)=>{this._highlightDecorations=n.deltaDecorations(this._highlightDecorations,[{range:t,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:pi.Yf(hf.vp),position:Ci.A5.Full}}}])})}}class Lf extends O.ks{async run(e,t){const n=Xo.get(t);if(!n)return;const r=Nf(t,"single",!1);r&&n.setSearchString(r),this._run(n)||(await n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(n))}}O.gW(new O.PF({id:"editor.action.startFindReplaceAction",label:oe.kg("startReplace","Replace"),alias:"Replace",precondition:ye.M$.or(Fe.R.focus,ye.M$.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:rt.D8.MenubarEditMenu,group:"3_find",title:oe.kg({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(e,t,n)=>{if(!t.hasModel()||t.getOption(92))return!1;const r=Xo.get(t);if(!r)return!1;const o=t.getSelection(),u=r.isFindInputFocused(),l=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&t.getOption(41).seedSearchStringFromSelection!=="never"&&!u,A=u||l?2:1;return r.start({forceRevealReplace:!0,seedSearchStringFromSelection:l?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:t.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:A,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop})}),O.HW(Xo.ID,If,0),O.Fl(H1),O.Fl(Y1),O.Fl(class extends Rf{constructor(){super({id:mf,label:oe.kg("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:Fe.R.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:ye.M$.and(Fe.R.focus,uh),primary:3,weight:100}]})}_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}),O.Fl(class extends Rf{constructor(){super({id:gf,label:oe.kg("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:Fe.R.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:ye.M$.and(Fe.R.focus,uh),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}),O.Fl(j1),O.Fl(class extends Lf{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:oe.kg("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:Fe.R.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}),O.Fl(class extends Lf{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:oe.kg("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:Fe.R.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}});const qs=O.DX.bindToContribution(Xo.get);O.E_(new qs({id:T1,precondition:Va,handler:(e)=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:ye.M$.and(Fe.R.focus,ye.M$.not("isComposing")),primary:9,secondary:[1033]}})),O.E_(new qs({id:_f,precondition:void 0,handler:(e)=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:Fe.R.focus,primary:hh.primary,mac:hh.mac,win:hh.win,linux:hh.linux}})),O.E_(new qs({id:bf,precondition:void 0,handler:(e)=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:Fe.R.focus,primary:ph.primary,mac:ph.mac,win:ph.win,linux:ph.linux}})),O.E_(new qs({id:vf,precondition:void 0,handler:(e)=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:Fe.R.focus,primary:fh.primary,mac:fh.mac,win:fh.win,linux:fh.linux}})),O.E_(new qs({id:A1,precondition:void 0,handler:(e)=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:Fe.R.focus,primary:mh.primary,mac:mh.mac,win:mh.win,linux:mh.linux}})),O.E_(new qs({id:N1,precondition:void 0,handler:(e)=>e.togglePreserveCase(),kbOpts:{weight:105,kbExpr:Fe.R.focus,primary:gh.primary,mac:gh.mac,win:gh.win,linux:gh.linux}})),O.E_(new qs({id:yf,precondition:Va,handler:(e)=>e.replace(),kbOpts:{weight:105,kbExpr:Fe.R.focus,primary:3094}})),O.E_(new qs({id:yf,precondition:Va,handler:(e)=>e.replace(),kbOpts:{weight:105,kbExpr:ye.M$.and(Fe.R.focus,ff),primary:3}})),O.E_(new qs({id:Sf,precondition:Va,handler:(e)=>e.replaceAll(),kbOpts:{weight:105,kbExpr:Fe.R.focus,primary:2563}})),O.E_(new qs({id:Sf,precondition:Va,handler:(e)=>e.replaceAll(),kbOpts:{weight:105,kbExpr:ye.M$.and(Fe.R.focus,ff),primary:void 0,mac:{primary:2051}}})),O.E_(new qs({id:"editor.action.selectAllMatches",precondition:Va,handler:(e)=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:Fe.R.focus,primary:515}}));const H2={0:" ",1:"u",2:"r"},Ks=16777215,q1=4278190080;class yh{constructor(e){const t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){const t=e/32|0,n=e%32;return!!(this._states[t]&1<<n)}set(e,t){const n=e/32|0,r=e%32,o=this._states[n];this._states[n]=t?o|1<<r:o&~(1<<r)}}class ds{constructor(e,t,n){if(e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new yh(e.length),this._userDefinedStates=new yh(e.length),this._recoveredStates=new yh(e.length),this._types=n,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const e=[],t=(n,r)=>{const o=e[e.length-1];return this.getStartLineNumber(o)<=n&&this.getEndLineNumber(o)>=r};for(let n=0,r=this._startIndexes.length;n<r;n++){const o=this._startIndexes[n],u=this._endIndexes[n];if(o>Ks||u>Ks)throw new Error("startLineNumber or endLineNumber must not exceed "+Ks);for(;e.length>0&&!t(o,u);)e.pop();const l=e.length>0?e[e.length-1]:-1;e.push(n),this._startIndexes[n]=o+((255&l)<<24),this._endIndexes[n]=u+((65280&l)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&Ks}getEndLineNumber(e){return this._endIndexes[e]&Ks}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){t===1?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):t===2?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let n=!1;if(this._types)for(let r=0;r<this._types.length;r++)this._types[r]===e&&(this.setCollapsed(r,t),n=!0);return n}toRegion(e){return new K1(this,e)}getParentIndex(e){this.ensureParentIndices();const t=((this._startIndexes[e]&q1)>>>24)+((this._endIndexes[e]&q1)>>>16);return t===65535?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,n=this._startIndexes.length;if(n===0)return-1;for(;t<n;){const r=Math.floor((t+n)/2);e<this.getStartLineNumber(r)?n=r:t=r+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){const e=[];for(let t=0;t<this.length;t++)e[t]=`[${H2[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&Ks,endLineNumber:this._endIndexes[e]&Ks,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){const t=e.length,n=new Uint32Array(t),r=new Uint32Array(t);let o=[],u=!1;for(let A=0;A<t;A++){const K=e[A];n[A]=K.startLineNumber,r[A]=K.endLineNumber,o.push(K.type),K.type&&(u=!0)}u||(o=void 0);const l=new ds(n,r,o);for(let A=0;A<t;A++)e[A].isCollapsed&&l.setCollapsed(A,!0),l.setSource(A,e[A].source);return l}static sanitizeAndMerge(e,t,n,r){n=n??Number.MAX_VALUE;const o=(yt,It)=>Array.isArray(yt)?(Dt)=>Dt<It?yt[Dt]:void 0:(Dt)=>Dt<It?yt.toFoldRange(Dt):void 0,u=o(e,e.length),l=o(t,t.length);let A=0,K=0,le=u(0),ue=l(0);const we=[];let Qe,Me=0;const nt=[];for(;le||ue;){let yt;if(ue&&(!le||le.startLineNumber>=ue.startLineNumber))le&&le.startLineNumber===ue.startLineNumber?(ue.source===1?yt=ue:(yt=le,yt.isCollapsed=ue.isCollapsed&&(le.endLineNumber===ue.endLineNumber||!r?.startsInside(le.startLineNumber+1,le.endLineNumber+1)),yt.source=0),le=u(++A)):(yt=ue,ue.isCollapsed&&ue.source===0&&(yt.source=2)),ue=l(++K);else{let It=K,Dt=ue;for(;;){if(!Dt||Dt.startLineNumber>le.endLineNumber){yt=le;break}if(Dt.source===1&&Dt.endLineNumber>le.endLineNumber)break;Dt=l(++It)}le=u(++A)}if(yt){for(;Qe&&Qe.endLineNumber<yt.startLineNumber;)Qe=we.pop();yt.endLineNumber>yt.startLineNumber&&yt.startLineNumber>Me&&yt.endLineNumber<=n&&(!Qe||Qe.endLineNumber>=yt.endLineNumber)&&(nt.push(yt),Me=yt.startLineNumber,Qe&&we.push(Qe),Qe=yt)}}return nt}}class K1{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}var e_=ct(2344);class t_{get regions(){return this._regions}get textModel(){return this._textModel}constructor(e,t){this._updateEventEmitter=new Rt.vl,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new ds(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(e){if(!e.length)return;e=e.sort((n,r)=>n.regionIndex-r.regionIndex);const t={};this._decorationProvider.changeDecorations((n)=>{let r=0,o=-1,u=-1;const l=(A)=>{for(;r<A;){const K=this._regions.getEndLineNumber(r),le=this._regions.isCollapsed(r);if(K<=o){const ue=this.regions.getSource(r)!==0;n.changeDecorationOptions(this._editorDecorationIds[r],this._decorationProvider.getDecorationOption(le,K<=u,ue))}le&&K>u&&(u=K),r++}};for(let A of e){const K=A.regionIndex,le=this._editorDecorationIds[K];if(le&&!t[le]){t[le]=!0,l(K);const ue=!this._regions.isCollapsed(K);this._regions.setCollapsed(K,ue),o=Math.max(o,this._regions.getEndLineNumber(K))}}l(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){const t=new Array,n=(r)=>{for(let o of e)if(!(o.startLineNumber>r.endLineNumber||r.startLineNumber>o.endLineNumber))return!0;return!1};for(let r=0;r<this._regions.length;r++){const o=this._regions.toFoldRange(r);o.source!==0&&n(o)||t.push(o)}this.updatePost(ds.fromFoldRanges(t))}update(e,t){const n=this._currentFoldedOrManualRanges(t),r=ds.sanitizeAndMerge(e,n,this._textModel.getLineCount(),t);this.updatePost(ds.fromFoldRanges(r))}updatePost(e){const t=[];let n=-1;for(let r=0,o=e.length;r<o;r++){const u=e.getStartLineNumber(r),l=e.getEndLineNumber(r),A=e.isCollapsed(r),K=e.getSource(r)!==0,le={startLineNumber:u,startColumn:this._textModel.getLineMaxColumn(u),endLineNumber:l,endColumn:this._textModel.getLineMaxColumn(l)+1};t.push({range:le,options:this._decorationProvider.getDecorationOption(A,l<=n,K)}),A&&l>n&&(n=l)}this._decorationProvider.changeDecorations((r)=>this._editorDecorationIds=r.deltaDecorations(this._editorDecorationIds,t)),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e){const t=[];for(let n=0,r=this._regions.length;n<r;n++){let o=this.regions.isCollapsed(n);const u=this.regions.getSource(n);if(o||u!==0){const l=this._regions.toFoldRange(n),A=this._textModel.getDecorationRange(this._editorDecorationIds[n]);A&&(o&&e?.startsInside(A.startLineNumber+1,A.endLineNumber)&&(o=!1),t.push({startLineNumber:A.startLineNumber,endLineNumber:A.endLineNumber,type:l.type,isCollapsed:o,source:u}))}}return t}getMemento(){const e=this._currentFoldedOrManualRanges(),t=[],n=this._textModel.getLineCount();for(let r=0,o=e.length;r<o;r++){const u=e[r];if(u.startLineNumber>=u.endLineNumber||u.startLineNumber<1||u.endLineNumber>n)continue;const l=this._getLinesChecksum(u.startLineNumber+1,u.endLineNumber);t.push({startLineNumber:u.startLineNumber,endLineNumber:u.endLineNumber,isCollapsed:u.isCollapsed,source:u.source,checksum:l})}return t.length>0?t:void 0}applyMemento(e){if(!Array.isArray(e))return;const t=[],n=this._textModel.getLineCount();for(let o of e){if(o.startLineNumber>=o.endLineNumber||o.startLineNumber<1||o.endLineNumber>n)continue;const u=this._getLinesChecksum(o.startLineNumber+1,o.endLineNumber);o.checksum&&u!==o.checksum||t.push({startLineNumber:o.startLineNumber,endLineNumber:o.endLineNumber,type:void 0,isCollapsed:o.isCollapsed??!0,source:o.source??0})}const r=ds.sanitizeAndMerge(this._regions,t,n);this.updatePost(ds.fromFoldRanges(r))}_getLinesChecksum(e,t){return e_.tW(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){const n=[];if(this._regions){let r=this._regions.findRange(e),o=1;for(;r>=0;){const u=this._regions.toRegion(r);t&&!t(u,o)||n.push(u),o++,r=u.parentIndex}}return n}getRegionAtLine(e){if(this._regions){const t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){const n=[],r=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){const u=[];for(let l=r,A=this._regions.length;l<A;l++){const K=this._regions.toRegion(l);if(!(this._regions.getStartLineNumber(l)<o))break;for(;u.length>0&&!K.containedBy(u[u.length-1]);)u.pop();u.push(K),t(K,u.length)&&n.push(K)}}else for(let u=r,l=this._regions.length;u<l;u++){const A=this._regions.toRegion(u);if(!(this._regions.getStartLineNumber(u)<o))break;t&&!t(A)||n.push(A)}return n}}function Df(e,t,n){const r=[];for(let o of n){const u=e.getRegionAtLine(o);if(u){const l=!u.isCollapsed;if(r.push(u),t>1){const A=e.getRegionsInside(u,(K,le)=>K.isCollapsed!==l&&le<t);r.push(...A)}}}e.toggleCollapseState(r)}function Yc(e,t,n=Number.MAX_VALUE,r){const o=[];if(r&&r.length>0)for(let u of r){const l=e.getRegionAtLine(u);if(l&&(l.isCollapsed!==t&&o.push(l),n>1)){const A=e.getRegionsInside(l,(K,le)=>K.isCollapsed!==t&&le<n);o.push(...A)}}else{const u=e.getRegionsInside(null,(l,A)=>l.isCollapsed!==t&&A<n);o.push(...u)}e.toggleCollapseState(o)}function n_(e,t,n,r){const o=[];for(let u of r){const l=e.getAllRegionsAtLine(u,(A,K)=>A.isCollapsed!==t&&K<=n);o.push(...l)}e.toggleCollapseState(o)}function i_(e,t,n){const r=[];for(let u of n){const l=e.getAllRegionsAtLine(u,void 0);l.length>0&&r.push(l[0])}const o=e.getRegionsInside(null,(u)=>r.every((l)=>!l.containedBy(u)&&!u.containedBy(l))&&u.isCollapsed!==t);e.toggleCollapseState(o)}function Mf(e,t,n){const{textModel:r,regions:o}=e,u=[];for(let l=o.length-1;l>=0;l--)if(n!==o.isCollapsed(l)){const A=o.getStartLineNumber(l);t.test(r.getLineContent(A))&&u.push(o.toRegion(l))}e.toggleCollapseState(u)}function Pf(e,t,n){const r=e.regions,o=[];for(let u=r.length-1;u>=0;u--)n!==r.isCollapsed(u)&&t===r.getType(u)&&o.push(r.toRegion(u));e.toggleCollapseState(o)}var Y2=ct(3902);class r_{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(e){this._updateEventEmitter=new Rt.vl,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange((t)=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some((t)=>t.range.endLineNumber!==t.range.startLineNumber||Y2.W(t.text)[0]!==0))}updateHiddenRanges(){let e=!1;const t=[];let n=0,r=0,o=Number.MAX_VALUE,u=-1;const l=this._foldingModel.regions;for(;n<l.length;n++){if(!l.isCollapsed(n))continue;const A=l.getStartLineNumber(n)+1,K=l.getEndLineNumber(n);o<=A&&K<=u||(!e&&r<this._hiddenRanges.length&&this._hiddenRanges[r].startLineNumber===A&&this._hiddenRanges[r].endLineNumber===K?(t.push(this._hiddenRanges[r]),r++):(e=!0,t.push(new Nt.Q(A,1,K,1))),o=A,u=K)}(this._hasLineChanges||e||r<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return o_(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1;const n=this._foldingModel.textModel;let r=null;const o=(u)=>(r&&function(l,A){return l>=A.startLineNumber&&l<=A.endLineNumber}(u,r)||(r=o_(this._hiddenRanges,u)),r?r.startLineNumber-1:null);for(let u=0,l=e.length;u<l;u++){let A=e[u];const K=o(A.startLineNumber);K&&(A=A.setStartPosition(K,n.getLineMaxColumn(K)),t=!0);const le=o(A.endLineNumber);le&&(A=A.setEndPosition(le,n.getLineMaxColumn(le)),t=!0),e[u]=A}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function o_(e,t){const n=Ud.hw(e,(r)=>t<r.startLineNumber)-1;return n>=0&&e[n].endLineNumber>=t?e[n]:null}class Sh{constructor(e,t,n){this.editorModel=e,this.languageConfigurationService=t,this.foldingRangesLimit=n,this.id="indent"}dispose(){}compute(e){const t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,n=t&&!!t.offSide,r=t&&t.markers;return Promise.resolve(function(o,u,l,A=j2){const K=o.getOptions().tabSize,le=new s_(A);let ue;l&&(ue=new RegExp(`(${l.start.source})|(?:${l.end.source})`));const we=[],Qe=o.getLineCount()+1;we.push({indent:-1,endAbove:Qe,line:Qe});for(let Me=o.getLineCount();Me>0;Me--){const nt=o.getLineContent(Me),yt=vo.G(nt,K);let It,Dt=we[we.length-1];if(yt!==-1){if(ue&&(It=nt.match(ue))){if(!It[1]){we.push({indent:-2,endAbove:Me,line:Me});continue}{let cn=we.length-1;for(;cn>0&&we[cn].indent!==-2;)cn--;if(cn>0){we.length=cn+1,Dt=we[cn],le.insertFirst(Me,Dt.line,yt),Dt.line=Me,Dt.indent=yt,Dt.endAbove=Me;continue}}}if(Dt.indent>yt){do we.pop(),Dt=we[we.length-1];while(Dt.indent>yt);const cn=Dt.endAbove-1;cn-Me>=1&&le.insertFirst(Me,cn,yt)}Dt.indent===yt?Dt.endAbove=Me:we.push({indent:yt,endAbove:Me,line:Me})}else u&&(Dt.endAbove=Me)}return le.toIndentRanges(o)}(this.editorModel,n,r,this.foldingRangesLimit))}}class s_{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,n){if(e>Ks||t>Ks)return;const r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=t,this._length++,n<1000&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(e){const t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);const n=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let o=this._length-1,u=0;o>=0;o--,u++)n[u]=this._startIndexes[o],r[u]=this._endIndexes[o];return new ds(n,r)}{this._foldingRangesLimit.update(this._length,t);let n=0,r=this._indentOccurrences.length;for(let A=0;A<this._indentOccurrences.length;A++){const K=this._indentOccurrences[A];if(K){if(K+n>t){r=A;break}n+=K}}const o=e.getOptions().tabSize,u=new Uint32Array(t),l=new Uint32Array(t);for(let A=this._length-1,K=0;A>=0;A--){const le=this._startIndexes[A],ue=e.getLineContent(le),we=vo.G(ue,o);(we<r||we===r&&n++<t)&&(u[K]=le,l[K]=this._endIndexes[A],K++)}return new ds(u,l)}}}const j2={limit:5000,update:()=>{}},q2=Xt.x1A("editor.foldBackground",{light:Xt.JO0(Xt.seu,0.3),dark:Xt.JO0(Xt.seu,0.3),hcDark:null,hcLight:null},oe.kg("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);Xt.x1A("editor.foldPlaceholderForeground",{light:"#808080",dark:"#808080",hcDark:null,hcLight:null},oe.kg("collapsedTextColor","Color of the collapsed text after the first line of a folded range.")),Xt.x1A("editorGutter.foldingControlForeground",Xt.t4B,oe.kg("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const wh=_r.pU("folding-expanded",be.W.chevronDown,oe.kg("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),xh=_r.pU("folding-collapsed",be.W.chevronRight,oe.kg("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),a_=_r.pU("folding-manual-collapsed",xh,oe.kg("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),l_=_r.pU("folding-manual-expanded",wh,oe.kg("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),Ff={color:pi.Yf(q2),position:1},jc=oe.kg("linesCollapsed","Click to expand the range."),Ch=oe.kg("linesExpanded","Click to collapse the range.");class us{static{this.COLLAPSED_VISUAL_DECORATION=Hn.kI.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:jc,firstLineDecorationClassName:Oe.L.asClassName(xh)})}static{this.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Hn.kI.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Ff,isWholeLine:!0,linesDecorationsTooltip:jc,firstLineDecorationClassName:Oe.L.asClassName(xh)})}static{this.MANUALLY_COLLAPSED_VISUAL_DECORATION=Hn.kI.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:jc,firstLineDecorationClassName:Oe.L.asClassName(a_)})}static{this.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Hn.kI.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Ff,isWholeLine:!0,linesDecorationsTooltip:jc,firstLineDecorationClassName:Oe.L.asClassName(a_)})}static{this.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=Hn.kI.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:jc})}static{this.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=Hn.kI.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:Ff,isWholeLine:!0,linesDecorationsTooltip:jc})}static{this.EXPANDED_VISUAL_DECORATION=Hn.kI.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Oe.L.asClassName(wh),linesDecorationsTooltip:Ch})}static{this.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Hn.kI.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Oe.L.asClassName(wh),linesDecorationsTooltip:Ch})}static{this.MANUALLY_EXPANDED_VISUAL_DECORATION=Hn.kI.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Oe.L.asClassName(l_),linesDecorationsTooltip:Ch})}static{this.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Hn.kI.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Oe.L.asClassName(l_),linesDecorationsTooltip:Ch})}static{this.NO_CONTROLS_EXPANDED_RANGE_DECORATION=Hn.kI.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0})}static{this.HIDDEN_RANGE_DECORATION=Hn.kI.register({description:"folding-hidden-range-decoration",stickiness:1})}constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,n){return t?us.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?e?this.showFoldingHighlights?us.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:us.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:us.NO_CONTROLS_EXPANDED_RANGE_DECORATION:e?n?this.showFoldingHighlights?us.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:us.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?us.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:us.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?n?us.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:us.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:n?us.MANUALLY_EXPANDED_VISUAL_DECORATION:us.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}}const K2={};class Eh{constructor(e,t,n,r,o){this.editorModel=e,this.providers=t,this.handleFoldingRangesChange=n,this.foldingRangesLimit=r,this.fallbackRangeProvider=o,this.id="syntax",this.disposables=new ft.Cm,o&&this.disposables.add(o);for(let u of t)typeof u.onDidChange=="function"&&this.disposables.add(u.onDidChange(n))}compute(e){return function(t,n,r){let o=null;const u=t.map((l,A)=>Promise.resolve(l.provideFoldingRanges(n,K2,r)).then((K)=>{if(!r.isCancellationRequested&&Array.isArray(K)){Array.isArray(o)||(o=[]);const le=n.getLineCount();for(let ue of K)ue.start>0&&ue.end>ue.start&&ue.end<=le&&o.push({start:ue.start,end:ue.end,rank:A,kind:ue.kind})}},ii.M_));return Promise.all(u).then((l)=>o)}(this.providers,this.editorModel,e).then((t)=>t?function(n,r){const o=n.sort((K,le)=>{let ue=K.start-le.start;return ue===0&&(ue=K.rank-le.rank),ue}),u=new c_(r);let l;const A=[];for(let K of o)if(l){if(K.start>l.start)if(K.end<=l.end)A.push(l),l=K,u.add(K.start,K.end,K.kind&&K.kind.value,A.length);else{if(K.start>l.end){do l=A.pop();while(l&&K.start>l.end);l&&A.push(l),l=K}u.add(K.start,K.end,K.kind&&K.kind.value,A.length)}}else l=K,u.add(K.start,K.end,K.kind&&K.kind.value,A.length);return u.toIndentRanges()}(t,this.foldingRangesLimit):this.fallbackRangeProvider?.compute(e)??null)}dispose(){this.disposables.dispose()}}class c_{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,n,r){if(e>Ks||t>Ks)return;const o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=r,this._types[o]=n,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){const e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);const t=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let r=0;r<this._length;r++)t[r]=this._startIndexes[r],n[r]=this._endIndexes[r];return new ds(t,n,this._types)}{this._foldingRangesLimit.update(this._length,e);let t=0,n=this._nestingLevelCounts.length;for(let l=0;l<this._nestingLevelCounts.length;l++){const A=this._nestingLevelCounts[l];if(A){if(A+t>e){n=l;break}t+=A}}const r=new Uint32Array(e),o=new Uint32Array(e),u=[];for(let l=0,A=0;l<this._length;l++){const K=this._nestingLevels[l];(K<n||K===n&&t++<e)&&(r[A]=this._startIndexes[l],o[A]=this._endIndexes[l],u[A]=this._types[l],A++)}return new ds(r,o,u)}}}var Xd,Hd=function(e,t){return function(n,r){t(n,r,e)}};const fo=new ye.N1("foldingEnabled",!1);let Jl=class extends ft.jG{static{Xd=this}static{this.ID="editor.contrib.folding"}static get(e){return e.getContribution(Xd.ID)}static getFoldingRangeProviders(e,t){const n=e.foldingRangeProvider.ordered(t);return Xd._foldingRangeSelector?.(n,t)??n}constructor(e,t,n,r,o,u){super(),this.contextKeyService=t,this.languageConfigurationService=n,this.languageFeaturesService=u,this.localToDispose=this._register(new ft.Cm),this.editor=e,this._foldingLimitReporter=new Of(e);const l=this.editor.getOptions();this._isEnabled=l.get(43),this._useFoldingProviders=l.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=l.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=l.get(46),this.updateDebounceInfo=o.for(u.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new us(e),this.foldingDecorationProvider.showFoldingControls=l.get(111),this.foldingDecorationProvider.showFoldingHighlights=l.get(45),this.foldingEnabled=fo.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration((A)=>{if(A.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),A.hasChanged(47)&&this.onModelChanged(),A.hasChanged(111)||A.hasChanged(45)){const K=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=K.get(111),this.foldingDecorationProvider.showFoldingHighlights=K.get(45),this.triggerFoldingModelChanged()}A.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),A.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),A.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){const t=this.foldingModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){const t=this.editor.getModel();if(t&&this._isEnabled&&!t.isTooLargeForTokenization()&&this.hiddenRangeModel&&e&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const e=this.editor.getModel();this._isEnabled&&e&&!e.isTooLargeForTokenization()&&(this._currentModelHasFoldedImports=!1,this.foldingModel=new t_(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new r_(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((t)=>this.onHiddenRangesChanges(t))),this.updateScheduler=new un.ve(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new un.uC(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent((t)=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown((t)=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp((t)=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler?.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider?.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider?.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;const t=new Sh(e,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=t,this._useFoldingProviders&&this.foldingModel){const n=Xd.getFoldingRangeProviders(this.languageFeaturesService,e);n.length>0&&(this.rangeProvider=new Eh(e,n,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,t))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){this.hiddenRangeModel?.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new Kr.W,n=this.getRangeProvider(e.textModel),r=this.foldingRegionPromise=un.SS((o)=>n.compute(o));return r.then((o)=>{if(o&&r===this.foldingRegionPromise){let u;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const K=o.setCollapsedAllOfType(Pt.lO.Imports.value,!0);K&&(u=bs.D.capture(this.editor),this._currentModelHasFoldedImports=K)}const l=this.editor.getSelections();e.update(o,function(K){return K&&K.length!==0?{startsInside(le,ue){for(let we of K){const Qe=we.startLineNumber;if(Qe>=le&&Qe<=ue)return!0}return!1}}:{startsInside:()=>!1}}(l)),u?.restore(this.editor);const A=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=A)}return e})}).then(void 0,(e)=>(ii.dz(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){const t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then((t)=>{if(t){const n=this.editor.getSelections();if(n&&n.length>0){const r=[];for(let o of n){const u=o.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(u)&&r.push(...t.getAllRegionsAtLine(u,(l)=>l.isCollapsed&&u>l.startLineNumber))}r.length&&(t.toggleCollapseState(r),this.reveal(n[0].getPosition()))}}}).then(void 0,ii.dz)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range)return;if(!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let n=!1;switch(e.target.type){case 4:{const r=e.target.detail,o=e.target.element.offsetLeft;if(r.offsetX-o<4)return;n=!0;break}case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){const r=this.editor.getModel();if(r&&t.startColumn===r.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}onEditorMouseUp(e){const t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;const n=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked,o=e.target.range;if(!o||o.startLineNumber!==n)return;if(r){if(e.target.type!==4)return}else{const l=this.editor.getModel();if(!l||o.startColumn!==l.getLineMaxColumn(n))return}const u=t.getRegionAtLine(n);if(u&&u.startLineNumber===n){const l=u.isCollapsed;if(r||l){let A=[];if(e.event.altKey){const K=(ue)=>!ue.containedBy(u)&&!u.containedBy(ue),le=t.getRegionsInside(null,K);for(let ue of le)ue.isCollapsed&&A.push(ue);A.length===0&&(A=le)}else{const K=e.event.middleButton||e.event.shiftKey;if(K)for(let le of t.getRegionsInside(u))le.isCollapsed===l&&A.push(le);!l&&K&&A.length!==0||A.push(u)}t.toggleCollapseState(A),this.reveal({lineNumber:n,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};Jl=Xd=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Hd(1,ye.fN),Hd(2,eo.JZ),Hd(3,Dr.Ot),Hd(4,Eo.ILanguageFeatureDebounceService),Hd(5,Wt.ILanguageFeaturesService)],Jl);class Of{constructor(e){this.editor=e,this._onDidChange=new Rt.vl,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(e,t){e===this._computed&&t===this._limited||(this._computed=e,this._limited=t,this._onDidChange.fire())}}class mo extends O.ks{runEditorCommand(e,t,n){const r=e.get(eo.JZ),o=Jl.get(t);if(!o)return;const u=o.getFoldingModel();return u?(this.reportTelemetry(e,t),u.then((l)=>{if(l){this.invoke(o,l,t,n,r);const A=t.getSelection();A&&o.reveal(A.getStartPosition())}})):void 0}getSelectedLines(e){const t=e.getSelections();return t?t.map((n)=>n.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map((n)=>n+1):this.getSelectedLines(t)}run(e,t){}}function d_(e){if(!yn.b0(e)){if(!yn.Gv(e))return!1;const t=e;if(!yn.b0(t.levels)&&!yn.Et(t.levels))return!1;if(!yn.b0(t.direction)&&!yn.Kg(t.direction))return!1;if(!(yn.b0(t.selectionLines)||Array.isArray(t.selectionLines)&&t.selectionLines.every(yn.Et)))return!1}return!0}class Yd extends mo{static{this.ID_PREFIX="editor.foldLevel"}static{this.ID=(e)=>Yd.ID_PREFIX+e}getFoldingLevel(){return parseInt(this.id.substr(Yd.ID_PREFIX.length))}invoke(e,t,n){(function(r,o,u,l){const A=r.getRegionsInside(null,(K,le)=>le===o&&K.isCollapsed!==!0&&!l.some((ue)=>K.containsLine(ue)));r.toggleCollapseState(A)})(t,this.getFoldingLevel(),0,this.getSelectedLines(n))}}O.HW(Jl.ID,Jl,0),O.Fl(class extends mo{constructor(){super({id:"editor.unfold",label:oe.kg("unfoldAction.label","Unfold"),alias:"Unfold",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:d_,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,r){const o=r&&r.levels||1,u=this.getLineNumbers(r,n);r&&r.direction==="up"?n_(t,!1,o,u):Yc(t,!1,o,u)}}),O.Fl(class extends mo{constructor(){super({id:"editor.unfoldRecursively",label:oe.kg("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2142),weight:100}})}invoke(e,t,n,r){Yc(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))}}),O.Fl(class extends mo{constructor(){super({id:"editor.fold",label:oe.kg("foldAction.label","Fold"),alias:"Fold",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:d_,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,r){const o=this.getLineNumbers(r,n),u=r&&r.levels,l=r&&r.direction;typeof u!="number"&&typeof l!="string"?function(A,K,le){const ue=[];for(let we of le){const Qe=A.getAllRegionsAtLine(we,(Me)=>Me.isCollapsed!==!0);Qe.length>0&&ue.push(Qe[0])}A.toggleCollapseState(ue)}(t,0,o):l==="up"?n_(t,!0,u||1,o):Yc(t,!0,u||1,o)}}),O.Fl(class extends mo{constructor(){super({id:"editor.foldRecursively",label:oe.kg("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2140),weight:100}})}invoke(e,t,n){const r=this.getSelectedLines(n);Yc(t,!0,Number.MAX_VALUE,r)}}),O.Fl(class extends mo{constructor(){super({id:"editor.toggleFoldRecursively",label:oe.kg("toggleFoldRecursivelyAction.label","Toggle Fold Recursively"),alias:"Toggle Fold Recursively",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,3114),weight:100}})}invoke(e,t,n){const r=this.getSelectedLines(n);Df(t,Number.MAX_VALUE,r)}}),O.Fl(class extends mo{constructor(){super({id:"editor.foldAll",label:oe.kg("foldAllAction.label","Fold All"),alias:"Fold All",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2069),weight:100}})}invoke(e,t,n){Yc(t,!0)}}),O.Fl(class extends mo{constructor(){super({id:"editor.unfoldAll",label:oe.kg("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2088),weight:100}})}invoke(e,t,n){Yc(t,!1)}}),O.Fl(class extends mo{constructor(){super({id:"editor.foldAllBlockComments",label:oe.kg("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2138),weight:100}})}invoke(e,t,n,r,o){if(t.regions.hasTypes())Pf(t,Pt.lO.Comment.value,!0);else{const u=n.getModel();if(!u)return;const l=o.getLanguageConfiguration(u.getLanguageId()).comments;l&&l.blockCommentStartToken&&Mf(t,new RegExp("^\\s*"+Ne.bm(l.blockCommentStartToken)),!0)}}}),O.Fl(class extends mo{constructor(){super({id:"editor.foldAllMarkerRegions",label:oe.kg("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2077),weight:100}})}invoke(e,t,n,r,o){if(t.regions.hasTypes())Pf(t,Pt.lO.Region.value,!0);else{const u=n.getModel();if(!u)return;const l=o.getLanguageConfiguration(u.getLanguageId()).foldingRules;l&&l.markers&&l.markers.start&&Mf(t,new RegExp(l.markers.start),!0)}}}),O.Fl(class extends mo{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:oe.kg("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2078),weight:100}})}invoke(e,t,n,r,o){if(t.regions.hasTypes())Pf(t,Pt.lO.Region.value,!1);else{const u=n.getModel();if(!u)return;const l=o.getLanguageConfiguration(u.getLanguageId()).foldingRules;l&&l.markers&&l.markers.start&&Mf(t,new RegExp(l.markers.start),!1)}}}),O.Fl(class extends mo{constructor(){super({id:"editor.foldAllExcept",label:oe.kg("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2136),weight:100}})}invoke(e,t,n){i_(t,!0,this.getSelectedLines(n))}}),O.Fl(class extends mo{constructor(){super({id:"editor.unfoldAllExcept",label:oe.kg("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2134),weight:100}})}invoke(e,t,n){i_(t,!1,this.getSelectedLines(n))}}),O.Fl(class extends mo{constructor(){super({id:"editor.toggleFold",label:oe.kg("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2090),weight:100}})}invoke(e,t,n){Df(t,1,this.getSelectedLines(n))}}),O.Fl(class extends mo{constructor(){super({id:"editor.gotoParentFold",label:oe.kg("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,weight:100}})}invoke(e,t,n){const r=this.getSelectedLines(n);if(r.length>0){const o=function(u,l){let A=null;const K=l.getRegionAtLine(u);if(K!==null&&(A=K.startLineNumber,u===A)){const le=K.parentIndex;A=le!==-1?l.regions.getStartLineNumber(le):null}return A}(r[0],t);o!==null&&n.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}),O.Fl(class extends mo{constructor(){super({id:"editor.gotoPreviousFold",label:oe.kg("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,weight:100}})}invoke(e,t,n){const r=this.getSelectedLines(n);if(r.length>0){const o=function(u,l){let A=l.getRegionAtLine(u);if(A!==null&&A.startLineNumber===u){if(u!==A.startLineNumber)return A.startLineNumber;{const K=A.parentIndex;let le=0;for(K!==-1&&(le=l.regions.getStartLineNumber(A.parentIndex));A!==null;){if(!(A.regionIndex>0))return null;if(A=l.regions.toRegion(A.regionIndex-1),A.startLineNumber<=le)return null;if(A.parentIndex===K)return A.startLineNumber}}}else if(l.regions.length>0)for(A=l.regions.toRegion(l.regions.length-1);A!==null;){if(A.startLineNumber<u)return A.startLineNumber;A=A.regionIndex>0?l.regions.toRegion(A.regionIndex-1):null}return null}(r[0],t);o!==null&&n.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}),O.Fl(class extends mo{constructor(){super({id:"editor.gotoNextFold",label:oe.kg("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,weight:100}})}invoke(e,t,n){const r=this.getSelectedLines(n);if(r.length>0){const o=function(u,l){let A=l.getRegionAtLine(u);if(A!==null&&A.startLineNumber===u){const K=A.parentIndex;let le=0;if(K!==-1)le=l.regions.getEndLineNumber(A.parentIndex);else{if(l.regions.length===0)return null;le=l.regions.getEndLineNumber(l.regions.length-1)}for(;A!==null;){if(!(A.regionIndex<l.regions.length))return null;if(A=l.regions.toRegion(A.regionIndex+1),A.startLineNumber>=le)return null;if(A.parentIndex===K)return A.startLineNumber}}else if(l.regions.length>0)for(A=l.regions.toRegion(0);A!==null;){if(A.startLineNumber>u)return A.startLineNumber;A=A.regionIndex<l.regions.length?l.regions.toRegion(A.regionIndex+1):null}return null}(r[0],t);o!==null&&n.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}),O.Fl(class extends mo{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:oe.kg("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2135),weight:100}})}invoke(e,t,n){const r=[],o=n.getSelections();if(o){for(let u of o){let l=u.endLineNumber;u.endColumn===1&&--l,l>u.startLineNumber&&(r.push({startLineNumber:u.startLineNumber,endLineNumber:l,type:void 0,isCollapsed:!0,source:1}),n.setSelection({startLineNumber:u.startLineNumber,startColumn:1,endLineNumber:u.startLineNumber,endColumn:1}))}if(r.length>0){r.sort((l,A)=>l.startLineNumber-A.startLineNumber);const u=ds.sanitizeAndMerge(t.regions,r,n.getModel()?.getLineCount());t.updatePost(ds.fromFoldRanges(u))}}}}),O.Fl(class extends mo{constructor(){super({id:"editor.removeManualFoldingRanges",label:oe.kg("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2137),weight:100}})}invoke(e,t,n){const r=n.getSelections();if(r){const o=[];for(let u of r){const{startLineNumber:l,endLineNumber:A}=u;o.push(A>=l?{startLineNumber:l,endLineNumber:A}:{endLineNumber:A,startLineNumber:l})}t.removeManualRanges(o),e.triggerFoldingModelChanged()}}});for(let e=1;e<=7;e++)O.xX(new Yd({id:Yd.ID(e),label:oe.kg("foldLevelAction.label","Fold Level {0}",e),alias:`Fold Level ${e}`,precondition:fo,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2048|21+e),weight:100}}));En.w.registerCommand("_executeFoldingRangeProvider",async function(e,...t){const[n]=t;if(!(n instanceof ht.r))throw ii.Qg();const r=e.get(Wt.ILanguageFeaturesService),o=e.get(Di.IModelService).getModel(n);if(!o)throw ii.Qg();const u=e.get(lt.pG);if(!u.getValue("editor.folding",{resource:n}))return[];const l=e.get(eo.JZ),A=u.getValue("editor.foldingStrategy",{resource:n}),K={get limit(){return u.getValue("editor.foldingMaximumRegions",{resource:n})},update:(Me,nt)=>{}},le=new Sh(o,l,K);let ue=le;if(A!=="indentation"){const Me=Jl.getFoldingRangeProviders(r,o);Me.length&&(ue=new Eh(o,Me,()=>{},K,le))}const we=await ue.compute(wn.XO.None),Qe=[];try{if(we)for(let Me=0;Me<we.length;Me++){const nt=we.getType(Me);Qe.push({start:we.getStartLineNumber(Me),end:we.getEndLineNumber(Me),kind:nt?Pt.lO.fromValue(nt):void 0})}return Qe}finally{ue.dispose()}});var jd=ct(4587);class u_ extends O.ks{constructor(){super({id:"editor.action.fontZoomIn",label:oe.kg("EditorFontZoomIn.label","Increase Editor Font Size"),alias:"Increase Editor Font Size",precondition:void 0})}run(e,t){jd.D.setZoomLevel(jd.D.getZoomLevel()+1)}}class h_ extends O.ks{constructor(){super({id:"editor.action.fontZoomOut",label:oe.kg("EditorFontZoomOut.label","Decrease Editor Font Size"),alias:"Decrease Editor Font Size",precondition:void 0})}run(e,t){jd.D.setZoomLevel(jd.D.getZoomLevel()-1)}}class p_ extends O.ks{constructor(){super({id:"editor.action.fontZoomReset",label:oe.kg("EditorFontZoomReset.label","Reset Editor Font Size"),alias:"Reset Editor Font Size",precondition:void 0})}run(e,t){jd.D.setZoomLevel(0)}}O.Fl(u_),O.Fl(h_),O.Fl(p_);var Jh=ct(7454),kh=ct(8801),eS=ct(5406),Th=ct(1285),f_=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},qd=function(e,t){return function(n,r){t(n,r,e)}};let Ah=class{static{this.ID="editor.contrib.autoFormat"}constructor(e,t,n,r){this._editor=e,this._languageFeaturesService=t,this._workerService=n,this._accessibilitySignalService=r,this._disposables=new ft.Cm,this._sessionDisposables=new ft.Cm,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration((o)=>{o.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const n=new Jh.y;for(let r of t.autoFormatTriggerCharacters)n.add(r.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType((r)=>{const o=r.charCodeAt(r.length-1);n.has(o)&&this._trigger(String.fromCharCode(o))}))}_trigger(e){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),n=this._editor.getPosition(),r=new wn.Qi,o=this._editor.onDidChangeModelContent((u)=>{if(u.isFlush)return r.cancel(),void o.dispose();for(let l=0,A=u.changes.length;l<A;l++)if(u.changes[l].range.endLineNumber<=n.lineNumber)return r.cancel(),void o.dispose()});kh._V(this._workerService,this._languageFeaturesService,t,n,e,t.getFormattingOptions(),r.token).then((u)=>{r.token.isCancellationRequested||mn.EI(u)&&(this._accessibilitySignalService.playSignal(Th.Rh.format,{userGesture:!1}),eS.c.execute(this._editor,u,!0))}).finally(()=>{o.dispose()})}};Ah=f_([qd(1,Wt.ILanguageFeaturesService),qd(2,Zo.IEditorWorkerService),qd(3,Th.Nt)],Ah);let Nh=class{static{this.ID="editor.contrib.formatOnPaste"}constructor(e,t,n){this.editor=e,this._languageFeaturesService=t,this._instantiationService=n,this._callOnDispose=new ft.Cm,this._callOnModel=new ft.Cm,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e)))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(kh.jX,this.editor,e,2,Tt.ke.None,wn.XO.None,!1).catch(ii.dz))}};Nh=f_([qd(1,Wt.ILanguageFeaturesService),qd(2,Ke._Y)],Nh);class m_ extends O.ks{constructor(){super({id:"editor.action.formatDocument",label:oe.kg("formatDocument.label","Format Document"),alias:"Format Document",precondition:ye.M$.and(Fe.R.notInCompositeEditor,Fe.R.writable,Fe.R.hasDocumentFormattingProvider),kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(e,t){if(t.hasModel()){const n=e.get(Ke._Y);await e.get(Tt.N8).showWhile(n.invokeFunction(kh.vg,t,1,Tt.ke.None,wn.XO.None,!0),250)}}}class g_ extends O.ks{constructor(){super({id:"editor.action.formatSelection",label:oe.kg("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:ye.M$.and(Fe.R.writable,Fe.R.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2084),weight:100},contextMenuOpts:{when:Fe.R.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(e,t){if(!t.hasModel())return;const n=e.get(Ke._Y),r=t.getModel(),o=t.getSelections().map((l)=>l.isEmpty()?new Nt.Q(l.startLineNumber,1,l.startLineNumber,r.getLineMaxColumn(l.startLineNumber)):l);await e.get(Tt.N8).showWhile(n.invokeFunction(kh.jX,t,o,1,Tt.ke.None,wn.XO.None,!0),250)}}O.HW(Ah.ID,Ah,2),O.HW(Nh.ID,Nh,2),O.Fl(m_),O.Fl(g_),En.w.registerCommand("editor.action.format",async(e)=>{const t=e.get(Ue.T).getFocusedCodeEditor();if(!t||!t.hasModel())return;const n=e.get(En.d);t.getSelection().isEmpty()?await n.executeCommand("editor.action.formatDocument"):await n.executeCommand("editor.action.formatSelection")});var Qf=function(e,t){return function(n,r){t(n,r,e)}};class dc{remove(){this.parent?.children.delete(this.id)}static findId(e,t){let n;typeof e=="string"?n=`${t.id}/${e}`:(n=`${t.id}/${e.name}`,t.children.get(n)!==void 0&&(n=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let r=n;for(let o=0;t.children.get(r)!==void 0;o++)r=`${n}_${o}`;return r}static empty(e){return e.children.size===0}}class Ih extends dc{constructor(e,t,n){super(),this.id=e,this.parent=t,this.symbol=n,this.children=new Map}}class zf extends dc{constructor(e,t,n,r){super(),this.id=e,this.parent=t,this.label=n,this.order=r,this.children=new Map}}class Ga extends dc{static create(e,t,n){const r=new wn.Qi(n),o=new Ga(t.uri),u=e.ordered(t),l=u.map((K,le)=>{const ue=dc.findId(`provider_${le}`,o),we=new zf(ue,o,K.displayName??"Unknown Outline Provider",le);return Promise.resolve(K.provideDocumentSymbols(t,r.token)).then((Qe)=>{for(let Me of Qe||[])Ga._makeOutlineElement(Me,we);return we},(Qe)=>(ii.M_(Qe),we)).then((Qe)=>{dc.empty(Qe)?Qe.remove():o._groups.set(ue,Qe)})}),A=e.onDidChange(()=>{const K=e.ordered(t);mn.aI(K,u)||r.cancel()});return Promise.all(l).then(()=>r.token.isCancellationRequested&&!n.isCancellationRequested?Ga.create(e,t,n):o._compact()).finally(()=>{r.dispose(),A.dispose(),r.dispose()})}static _makeOutlineElement(e,t){const n=dc.findId(e,t),r=new Ih(n,t,e);if(e.children)for(let o of e.children)Ga._makeOutlineElement(o,r);t.children.set(r.id,r)}constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let e=0;for(let[t,n]of this._groups)n.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{const t=An.f.first(this._groups.values());for(let[,n]of t.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const e=[];for(let t of this.children.values())t instanceof Ih?e.push(t.symbol):e.push(...An.f.map(t.children.values(),(n)=>n.symbol));return e.sort((t,n)=>Nt.Q.compareRangesUsingStarts(t.range,n.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return Ga._flattenDocumentSymbols(t,e,""),t.sort((n,r)=>Yn.y.compare(Nt.Q.getStartPosition(n.range),Nt.Q.getStartPosition(r.range))||Yn.y.compare(Nt.Q.getEndPosition(r.range),Nt.Q.getEndPosition(n.range)))}static _flattenDocumentSymbols(e,t,n){for(let r of t)e.push({kind:r.kind,tags:r.tags,name:r.name,detail:r.detail,containerName:r.containerName||n,range:r.range,selectionRange:r.selectionRange,children:void 0}),r.children&&Ga._flattenDocumentSymbols(e,r.children,r.name)}}const Kd=Ke.u1("IOutlineModelService");let Wf=class{constructor(e,t,n){this._languageFeaturesService=e,this._disposables=new ft.Cm,this._cache=new ro.qK(10,0.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(n.onModelRemoved((r)=>{this._cache.delete(r.id)}))}dispose(){this._disposables.dispose()}async getOrCreate(e,t){const n=this._languageFeaturesService.documentSymbolProvider,r=n.ordered(e);let o=this._cache.get(e.id);if(!o||o.versionId!==e.getVersionId()||!mn.aI(o.provider,r)){const l=new wn.Qi;o={versionId:e.getVersionId(),provider:r,promiseCnt:0,source:l,promise:Ga.create(n,e,l.token),model:void 0},this._cache.set(e.id,o);const A=Date.now();o.promise.then((K)=>{o.model=K,this._debounceInformation.update(e,Date.now()-A)}).catch((K)=>{this._cache.delete(e.id)})}if(o.model)return o.model;o.promiseCnt+=1;const u=t.onCancellationRequested(()=>{--o.promiseCnt==0&&(o.source.cancel(),this._cache.delete(e.id))});try{return await o.promise}finally{u.dispose()}}};Wf=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Qf(0,Wt.ILanguageFeaturesService),Qf(1,Eo.ILanguageFeatureDebounceService),Qf(2,Di.IModelService)],Wf),ho.v(Kd,Wf,1),En.w.registerCommand("_executeDocumentSymbolProvider",async function(e,...t){const[n]=t;yn.j(ht.r.isUri(n));const r=e.get(Kd),o=e.get($r.ITextModelService),u=await o.createModelReference(n);try{return(await r.getOrCreate(u.object.textEditorModel,wn.XO.None)).getTopLevelSymbols()}finally{u.dispose()}});var __=ct(4442),tS=ct(2549);class No extends ft.jG{static{this.inlineSuggestionVisible=new ye.N1("inlineSuggestionVisible",!1,oe.kg("inlineSuggestionVisible","Whether an inline suggestion is visible"))}static{this.inlineSuggestionHasIndentation=new ye.N1("inlineSuggestionHasIndentation",!1,oe.kg("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"))}static{this.inlineSuggestionHasIndentationLessThanTabSize=new ye.N1("inlineSuggestionHasIndentationLessThanTabSize",!0,oe.kg("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"))}static{this.suppressSuggestions=new ye.N1("inlineSuggestionSuppressSuggestions",void 0,oe.kg("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"))}constructor(e,t){super(),this.contextKeyService=e,this.model=t,this.inlineCompletionVisible=No.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=No.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=No.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=No.suppressSuggestions.bindTo(this.contextKeyService),this._register(Rn.fm((n)=>{const r=this.model.read(n),o=r?.state.read(n),u=!!o?.inlineCompletion&&o?.primaryGhostText!==void 0&&!o?.primaryGhostText.isEmpty();this.inlineCompletionVisible.set(u),o?.primaryGhostText&&o?.inlineCompletion&&this.suppressSuggestions.set(o.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register(Rn.fm((n)=>{const r=this.model.read(n);let o=!1,u=!0;const l=r?.primaryGhostText.read(n);if(r?.selectedSuggestItem&&l&&l.parts.length>0){const{column:A,lines:K}=l.parts[0],le=K[0];if(A<=r.textModel.getLineIndentColumn(l.lineNumber)){let ue=Ne.HG(le);ue===-1&&(ue=le.length-1),o=ue>0;const we=r.textModel.getOptions().tabSize;u=tS.A.visibleColumnFromColumn(le,ue+1,we)<we}}this.inlineCompletionSuggestsIndentation.set(o),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(u)}))}}var b_=ct(2146),Cs=ct(1988),v_=ct(3021),y_=ct(5837),S_=ct(4324),w_=ct(7445),eu=ct(5561),Rh=ct(9723),ea=ct(5787);class qc{constructor(e,t){this.lineNumber=e,this.parts=t}equals(e){return this.lineNumber===e.lineNumber&&this.parts.length===e.parts.length&&this.parts.every((t,n)=>t.equals(e.parts[n]))}renderForScreenReader(e){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],n=e.substr(0,t.column-1);return new ea.mF([...this.parts.map((r)=>new ea.WR(Nt.Q.fromPositions(new Yn.y(1,r.column)),r.lines.join("\n")))]).applyToString(n).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every((e)=>e.lines.length===0)}get lineCount(){return 1+this.parts.reduce((e,t)=>e+t.lines.length-1,0)}}class tu{constructor(e,t,n){this.column=e,this.text=t,this.preview=n,this.lines=Ne.uz(this.text)}equals(e){return this.column===e.column&&this.lines.length===e.lines.length&&this.lines.every((t,n)=>t===e.lines[n])}}class Lh{constructor(e,t,n,r=0){this.lineNumber=e,this.columnRange=t,this.text=n,this.additionalReservedLineCount=r,this.parts=[new tu(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=Ne.uz(this.text)}renderForScreenReader(e){return this.newLines.join("\n")}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every((e)=>e.lines.length===0)}equals(e){return this.lineNumber===e.lineNumber&&this.columnRange.equals(e.columnRange)&&this.newLines.length===e.newLines.length&&this.newLines.every((t,n)=>t===e.newLines[n])&&this.additionalReservedLineCount===e.additionalReservedLineCount}}function x_(e,t){return mn.aI(e,t,C_)}function C_(e,t){return e===t||!(!e||!t)&&(e instanceof qc&&t instanceof qc||e instanceof Lh&&t instanceof Lh)&&e.equals(t)}const nS=[];class $f{constructor(e,t){if(this.startColumn=e,this.endColumnExclusive=t,e>t)throw new ii.D7(`startColumn ${e} cannot be after endColumnExclusive ${t}`)}toRange(e){return new Nt.Q(e,this.startColumn,e,this.endColumnExclusive)}equals(e){return this.startColumn===e.startColumn&&this.endColumnExclusive===e.endColumnExclusive}}function E_(e,t){const n=new ft.Cm,r=e.createDecorationsCollection();return n.add(Rn.zL({debugName:()=>`Apply decorations from ${t.debugName}`},(o)=>{const u=t.read(o);r.set(u)})),n.add({dispose:()=>{r.clear()}}),n}function J_(e,t){return new Yn.y(e.lineNumber-t.lineNumber+1,e.lineNumber-t.lineNumber==0?e.column-t.column+1:e.column)}const k_="ghost-text";let Zf=class extends ft.jG{constructor(e,t,n){super(),this.editor=e,this.model=t,this.languageService=n,this.isDisposed=Rn.FY(this,!1),this.currentTextModel=Rn.y0(this,this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=Rn.un(this,(r)=>{if(this.isDisposed.read(r))return;const o=this.currentTextModel.read(r);if(o!==this.model.targetTextModel.read(r))return;const u=this.model.ghostText.read(r);if(!u)return;const l=u instanceof Lh?u.columnRange:void 0,A=[],K=[];function le(nt,yt){if(K.length>0){const It=K[K.length-1];yt&&It.decorations.push(new eu.d(It.content.length+1,It.content.length+1+nt[0].length,yt,0)),It.content+=nt[0],nt=nt.slice(1)}for(let It of nt)K.push({content:It,decorations:yt?[new eu.d(1,It.length+1,yt,0)]:[]})}const ue=o.getLineContent(u.lineNumber);let we,Qe=0;for(let nt of u.parts){let yt=nt.lines;we===void 0?(A.push({column:nt.column,text:yt[0],preview:nt.preview}),yt=yt.slice(1)):le([ue.substring(Qe,nt.column-1)],void 0),yt.length>0&&(le(yt,k_),we===void 0&&nt.column<=ue.length&&(we=nt.column)),Qe=nt.column-1}we!==void 0&&le([ue.substring(Qe)],void 0);const Me=we!==void 0?new $f(we,ue.length+1):void 0;return{replacedRange:l,inlineTexts:A,additionalLines:K,hiddenRange:Me,lineNumber:u.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(r),targetTextModel:o}}),this.decorations=Rn.un(this,(r)=>{const o=this.uiState.read(r);if(!o)return[];const u=[];o.replacedRange&&u.push({range:o.replacedRange.toRange(o.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),o.hiddenRange&&u.push({range:o.hiddenRange.toRange(o.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(let l of o.inlineTexts)u.push({range:Nt.Q.fromPositions(new Yn.y(o.lineNumber,l.column)),options:{description:k_,after:{content:l.text,inlineClassName:l.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:Ci.VW.Left},showIfCollapsed:!0}});return u}),this.additionalLinesWidget=this._register(new T_(this.editor,this.languageService.languageIdCodec,Rn.un((r)=>{const o=this.uiState.read(r);return o?{lineNumber:o.lineNumber,additionalLines:o.additionalLines,minReservedLineCount:o.additionalReservedLineCount,targetTextModel:o.targetTextModel}:void 0}))),this._register(ft.s(()=>{this.isDisposed.set(!0,void 0)})),this._register(E_(this.editor,this.decorations))}ownsViewZone(e){return this.additionalLinesWidget.viewZoneId===e}};Zf=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(2,Ss.L)],Zf);class T_ extends ft.jG{get viewZoneId(){return this._viewZoneId}constructor(e,t,n){super(),this.editor=e,this.languageIdCodec=t,this.lines=n,this._viewZoneId=void 0,this.editorOptionsChanged=Rn.yQ("editorOptionChanged",Rt.Jh.filter(this.editor.onDidChangeConfiguration,(r)=>r.hasChanged(33)||r.hasChanged(118)||r.hasChanged(100)||r.hasChanged(95)||r.hasChanged(51)||r.hasChanged(50)||r.hasChanged(67))),this._register(Rn.fm((r)=>{const o=this.lines.read(r);this.editorOptionsChanged.read(r),o?this.updateLines(o.lineNumber,o.additionalLines,o.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones((e)=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,n){const r=this.editor.getModel();if(!r)return;const{tabSize:o}=r.getOptions();this.editor.changeViewZones((u)=>{this._viewZoneId&&(u.removeZone(this._viewZoneId),this._viewZoneId=void 0);const l=Math.max(t.length,n);if(l>0){const A=document.createElement("div");(function(K,le,ue,we,Qe){const Me=we.get(33),nt=we.get(118),yt=we.get(95),It=we.get(51),Dt=we.get(50),cn=we.get(67),Tn=new S_.fe(1e4);Tn.appendString('<div class="suggest-preview-text">');for(let mi=0,Bi=ue.length;mi<Bi;mi++){const Lr=ue[mi],so=Lr.content;Tn.appendString('<div class="view-line'),Tn.appendString('" style="top:'),Tn.appendString(String(mi*cn)),Tn.appendString('px;width:1000000px;">');const wa=Ne.aC(so),cw=Ne.E_(so),dw=w_.f.createEmpty(so,Qe);Rh.UW(new Rh.zL(Dt.isMonospace&&!Me,Dt.canUseHalfwidthRightwardsArrow,so,!1,wa,cw,0,dw,Lr.decorations,le,0,Dt.spaceWidth,Dt.middotWidth,Dt.wsmiddotWidth,nt,"none",yt,It!==Qr.Bc.OFF,null),Tn),Tn.appendString("</div>")}Tn.appendString("</div>"),y_.M(K,Dt);const On=Tn.build(),Kn=A_?A_.createHTML(On):On;K.innerHTML=Kn})(A,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=u.addZone({afterLineNumber:e,heightInLines:l,domNode:A,afterColumnAffinity:1})}})}}const A_=v_.H("editorGhostText",{createHTML:(e)=>e});var uc=ct(8897),Dh=ct(8357),iS=ct(7110),rS=ct(5702),kl=ct(4883),oS=ct(8302),sS=ct(756),aS=ct(3206);class N_{constructor(e){this.lines=e,this.tokenization={getLineTokens:(t)=>this.lines[t-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}}async function I_(e,t,n,r,o=wn.XO.None,u){const l=t instanceof Yn.y?function(Dt,cn){const Tn=cn.getWordAtPosition(Dt),On=cn.getLineMaxColumn(Dt.lineNumber);return Tn?new Nt.Q(Dt.lineNumber,Tn.startColumn,Dt.lineNumber,On):Nt.Q.fromPositions(Dt,Dt.with(void 0,On))}(t,n):t,A=e.all(n),K=new ro.db;for(let Dt of A)Dt.groupId&&K.add(Dt.groupId,Dt);function le(Dt){if(!Dt.yieldsToGroupIds)return[];const cn=[];for(let Tn of Dt.yieldsToGroupIds||[]){const On=K.get(Tn);for(let Kn of On)cn.push(Kn)}return cn}const ue=new Map,we=new Set;function Qe(Dt,cn){if(cn=[...cn,Dt],we.has(Dt))return cn;we.add(Dt);try{const Tn=le(Dt);for(let On of Tn){const Kn=Qe(On,cn);if(Kn)return Kn}}finally{we.delete(Dt)}}function Me(Dt){const cn=ue.get(Dt);if(cn)return cn;const Tn=Qe(Dt,[]);Tn&&ii.M_(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${Tn.map((Kn)=>Kn.toString?Kn.toString():""+Kn).join(" -> ")}`));const On=new un.Zv;return ue.set(Dt,On.p),(async()=>{if(!Tn){const Kn=le(Dt);for(let mi of Kn){const Bi=await Me(mi);if(Bi&&Bi.items.length>0)return}}try{return t instanceof Yn.y?await Dt.provideInlineCompletions(n,t,r,o):await Dt.provideInlineEdits?.(n,t,r,o)}catch(Kn){return void ii.M_(Kn)}})().then((Kn)=>On.complete(Kn),(Kn)=>On.error(Kn)),On.p}const nt=await Promise.all(A.map(async(Dt)=>({provider:Dt,completions:await Me(Dt)}))),yt=new Map,It=[];for(let Dt of nt){const cn=Dt.completions;if(!cn)continue;const Tn=new L_(cn,Dt.provider);It.push(Tn);for(let On of cn.items){const Kn=Mh.from(On,Tn,l,n,u);yt.set(Kn.hash(),Kn)}}return new R_(Array.from(yt.values()),new Set(yt.keys()),It)}class R_{constructor(e,t,n){this.completions=e,this.hashs=t,this.providerResults=n}has(e){return this.hashs.has(e.hash())}dispose(){for(let e of this.providerResults)e.removeRef()}}class L_{constructor(e,t){this.inlineCompletions=e,this.provider=t,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class Mh{static from(e,t,n,r,o){let u,l,A=e.range?Nt.Q.lift(e.range):n;if(typeof e.insertText=="string"){if(u=e.insertText,o&&e.completeBracketPairs){u=D_(u,A.getStartPosition(),r,o);const K=u.length-e.insertText.length;K!==0&&(A=new Nt.Q(A.startLineNumber,A.startColumn,A.endLineNumber,A.endColumn+K))}l=void 0}else if("snippet"in e.insertText){const K=e.insertText.snippet.length;if(o&&e.completeBracketPairs){e.insertText.snippet=D_(e.insertText.snippet,A.getStartPosition(),r,o);const ue=e.insertText.snippet.length-K;ue!==0&&(A=new Nt.Q(A.startLineNumber,A.startColumn,A.endLineNumber,A.endColumn+ue))}const le=new N().parse(e.insertText.snippet);le.children.length===1&&le.children[0]instanceof on?(u=le.children[0].value,l=void 0):(u=le.toString(),l={snippet:e.insertText.snippet,range:A})}else iS.xb(e.insertText);return new Mh(u,e.command,A,u,l,e.additionalTextEdits||nS,e,t)}constructor(e,t,n,r,o,u,l,A){this.filterText=e,this.command=t,this.range=n,this.insertText=r,this.snippetInfo=o,this.additionalTextEdits=u,this.sourceInlineCompletion=l,this.source=A,r=(e=e.replace(/\r\n|\r/g,"\n")).replace(/\r\n|\r/g,"\n")}withRange(e){return new Mh(this.filterText,this.command,e,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}toSingleTextEdit(){return new ea.WR(this.range,this.insertText)}}function D_(e,t,n,r){const o=n.getLineContent(t.lineNumber).substring(0,t.column-1)+e,u=n.tokenization.tokenizeLineWithEdit(t,o.length-(t.column-1),e),l=u?.sliceAndInflate(t.column-1,o.length,0);if(!l)return e;return function(K,le){const ue=new sS.Mg,we=new rS.Z(ue,(It)=>le.getLanguageConfiguration(It)),Qe=new aS.tk(new N_([K]),we),Me=oS.T(Qe,[],void 0,!0);let nt="";const yt=K.getLineContent();return function It(Dt,cn){if(Dt.kind===2)if(It(Dt.openingBracket,cn),cn=kl.QB(cn,Dt.openingBracket.length),Dt.child&&(It(Dt.child,cn),cn=kl.QB(cn,Dt.child.length)),Dt.closingBracket)It(Dt.closingBracket,cn),cn=kl.QB(cn,Dt.closingBracket.length);else{const Tn=we.getSingleLanguageBracketTokens(Dt.openingBracket.languageId).findClosingTokenText(Dt.openingBracket.bracketIds);nt+=Tn}else if(Dt.kind===3);else if(Dt.kind===0||Dt.kind===1)nt+=yt.substring(kl.sS(cn),kl.sS(kl.QB(cn,Dt.length)));else if(Dt.kind===4)for(let Tn of Dt.children)It(Tn,cn),cn=kl.QB(cn,Tn.length)}(Me,kl.Vp),nt}(l,r)}var lS=ct(2111);function hc(e,t,n){const r=n?e.range.intersectRanges(n):e.range;if(!r)return e;const o=t.getValueInRange(r,1),u=Ne.Qp(o,e.text),l=Dh.W.ofText(o.substring(0,u)).addToPosition(e.range.getStartPosition()),A=e.text.substring(u),K=Nt.Q.fromPositions(l,e.range.getEndPosition());return new ea.WR(K,A)}function M_(e,t){return e.text.startsWith(t.text)&&(n=e.range,(r=t.range).getStartPosition().equals(n.getStartPosition())&&r.getEndPosition().isBeforeOrEqual(n.getEndPosition()));var n,r}function P_(e,t,n,r,o=0){let u=hc(e,t);if(u.range.endLineNumber!==u.range.startLineNumber)return;const l=t.getLineContent(u.range.startLineNumber),A=Ne.UU(l).length;if(u.range.startColumn-1<=A){const Me=Ne.UU(u.text).length,nt=l.substring(u.range.startColumn-1,A),[yt,It]=[u.range.getStartPosition(),u.range.getEndPosition()],Dt=yt.column+nt.length<=It.column?yt.delta(0,nt.length):It,cn=Nt.Q.fromPositions(Dt,It),Tn=u.text.startsWith(nt)?u.text.substring(nt.length):u.text.substring(Me);u=new ea.WR(cn,Tn)}const K=t.getValueInRange(u.range),le=function(Me,nt){if(Ph?.originalValue===Me&&Ph?.newValue===nt)return Ph?.changes;{let yt=O_(Me,nt,!0);if(yt){const It=F_(yt);if(It>0){const Dt=O_(Me,nt,!1);Dt&&F_(Dt)<It&&(yt=Dt)}}return Ph={originalValue:Me,newValue:nt,changes:yt},yt}}(K,u.text);if(!le)return;const ue=u.range.startLineNumber,we=new Array;if(n==="prefix"){const Me=le.filter((nt)=>nt.originalLength===0);if(Me.length>1||Me.length===1&&Me[0].originalStart!==K.length)return}const Qe=u.text.length-o;for(let Me of le){const nt=u.range.startColumn+Me.originalStart+Me.originalLength;if(n==="subwordSmart"&&r&&r.lineNumber===u.range.startLineNumber&&nt<r.column)return;if(Me.originalLength>0)return;if(Me.modifiedLength===0)continue;const yt=Me.modifiedStart+Me.modifiedLength,It=Math.max(Me.modifiedStart,Math.min(yt,Qe)),Dt=u.text.substring(Me.modifiedStart,It),cn=u.text.substring(It,Math.max(Me.modifiedStart,yt));Dt.length>0&&we.push(new tu(nt,Dt,!1)),cn.length>0&&we.push(new tu(nt,cn,!0))}return new qc(ue,we)}let Ph;function F_(e){let t=0;for(let n of e)t+=n.originalLength;return t}function O_(e,t,n){if(e.length>5000||t.length>5000)return;function r(le){let ue=0;for(let we=0,Qe=le.length;we<Qe;we++){const Me=le.charCodeAt(we);Me>ue&&(ue=Me)}return ue}const o=Math.max(r(e),r(t));function u(le){if(le<0)throw new Error("unexpected");return o+le+1}function l(le){let ue=0,we=0;const Qe=new Int32Array(le.length);for(let Me=0,nt=le.length;Me<nt;Me++)if(n&&le[Me]==="("){const yt=100*we+ue;Qe[Me]=u(2*yt),ue++}else if(n&&le[Me]===")"){ue=Math.max(ue-1,0);const yt=100*we+ue;Qe[Me]=u(2*yt+1),ue===0&&we++}else Qe[Me]=le.charCodeAt(Me);return Qe}const A=l(e),K=l(t);return new lS.uP({getElements:()=>A},{getElements:()=>K}).ComputeDiff(!1).changes}var Q_=function(e,t){return function(n,r){t(n,r,e)}};let Uf=class extends ft.jG{constructor(e,t,n,r,o){super(),this.textModel=e,this.versionId=t,this._debounceValue=n,this.languageFeaturesService=r,this.languageConfigurationService=o,this._updateOperation=this._register(new ft.HE),this.inlineCompletions=Rn.X2("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=Rn.X2("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(e,t,n){const r=new z_(e,t,this.textModel.getVersionId()),o=t.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(this._updateOperation.value?.request.satisfies(r))return this._updateOperation.value.promise;if(o.get()?.request.satisfies(r))return Promise.resolve(!0);const u=!!this._updateOperation.value;this._updateOperation.clear();const l=new wn.Qi,A=(async()=>{var le,ue;if((u||t.triggerKind===Pt.qw.Automatic)&&await(le=this._debounceValue.get(this.textModel),ue=l.token,new Promise((yt)=>{let It;const Dt=setTimeout(()=>{It&&It.dispose(),yt()},le);ue&&(It=ue.onCancellationRequested(()=>{clearTimeout(Dt),It&&It.dispose(),yt()}))})),l.token.isCancellationRequested||this._store.isDisposed||this.textModel.getVersionId()!==r.versionId)return!1;const we=new Date,Qe=await I_(this.languageFeaturesService.inlineCompletionsProvider,e,this.textModel,t,l.token,this.languageConfigurationService);if(l.token.isCancellationRequested||this._store.isDisposed||this.textModel.getVersionId()!==r.versionId)return!1;const Me=new Date;this._debounceValue.update(this.textModel,Me.getTime()-we.getTime());const nt=new $_(Qe,r,this.textModel,this.versionId);if(n){const yt=n.toInlineCompletion(void 0);n.canBeReused(this.textModel,e)&&!Qe.has(yt)&&nt.prepend(n.inlineCompletion,yt.range,!0)}return this._updateOperation.clear(),Rn.Rn((yt)=>{o.set(nt,yt)}),!0})(),K=new W_(r,l,A);return this._updateOperation.value=K,A}clear(e){this._updateOperation.clear(),this.inlineCompletions.set(void 0,e),this.suggestWidgetInlineCompletions.set(void 0,e)}clearSuggestWidgetInlineCompletions(e){this._updateOperation.value?.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,e)}cancelUpdate(){this._updateOperation.clear()}};Uf=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Q_(3,Wt.ILanguageFeaturesService),Q_(4,eo.JZ)],Uf);class z_{constructor(e,t,n){this.position=e,this.context=t,this.versionId=n}satisfies(e){return this.position.equals(e.position)&&uc.KC(this.context.selectedSuggestionInfo,e.context.selectedSuggestionInfo,uc.r())&&(e.context.triggerKind===Pt.qw.Automatic||this.context.triggerKind===Pt.qw.Explicit)&&this.versionId===e.versionId}}class W_{constructor(e,t,n){this.request=e,this.cancellationTokenSource=t,this.promise=n}dispose(){this.cancellationTokenSource.cancel()}}class $_{get inlineCompletions(){return this._inlineCompletions}constructor(e,t,n,r){this.inlineCompletionProviderResult=e,this.request=t,this._textModel=n,this._versionId=r,this._refCount=1,this._prependedInlineCompletionItems=[];const o=n.deltaDecorations([],e.completions.map((u)=>({range:u.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=e.completions.map((u,l)=>new Bf(u,o[l],this._textModel,this._versionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this._textModel.isDisposed()||this._textModel.deltaDecorations(this._inlineCompletions.map((e)=>e.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(let e of this._prependedInlineCompletionItems)e.source.removeRef()}}prepend(e,t,n){n&&e.source.addRef();const r=this._textModel.deltaDecorations([],[{range:t,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new Bf(e,r,this._textModel,this._versionId)),this._prependedInlineCompletionItems.push(e)}}class Bf{get forwardStable(){return this.inlineCompletion.source.inlineCompletions.enableForwardStability??!1}constructor(e,t,n,r){this.inlineCompletion=e,this.decorationId=t,this._textModel=n,this._modelVersion=r,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._updatedRange=Rn.C({owner:this,equalsFn:Nt.Q.equalsRange},(o)=>(this._modelVersion.read(o),this._textModel.getDecorationRange(this.decorationId)))}toInlineCompletion(e){return this.inlineCompletion.withRange(this._updatedRange.read(e)??Vf)}toSingleTextEdit(e){return new ea.WR(this._updatedRange.read(e)??Vf,this.inlineCompletion.insertText)}isVisible(e,t,n){const r=hc(this._toFilterTextReplacement(n),e),o=this._updatedRange.read(n);if(!o||!this.inlineCompletion.range.getStartPosition().equals(o.getStartPosition())||t.lineNumber!==r.range.startLineNumber)return!1;const u=e.getValueInRange(r.range,1),l=r.text,A=Math.max(0,t.column-r.range.startColumn);let K=l.substring(0,A),le=l.substring(A),ue=u.substring(0,A),we=u.substring(A);const Qe=e.getLineIndentColumn(r.range.startLineNumber);return r.range.startColumn<=Qe&&(ue=ue.trimStart(),ue.length===0&&(we=we.trimStart()),K=K.trimStart(),K.length===0&&(le=le.trimStart())),K.startsWith(ue)&&!!po.dE(we,le)}canBeReused(e,t){const n=this._updatedRange.read(void 0);return!!n&&n.containsPosition(t)&&this.isVisible(e,t,void 0)&&Dh.W.ofRange(n).isGreaterThanOrEqualTo(Dh.W.ofRange(this.inlineCompletion.range))}_toFilterTextReplacement(e){return new ea.WR(this._updatedRange.read(e)??Vf,this.inlineCompletion.filterText)}}const Vf=new Nt.Q(1,1,1,1),Li={Visible:Cf,HasFocusedSuggestion:new ye.N1("suggestWidgetHasFocusedSuggestion",!1,oe.kg("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new ye.N1("suggestWidgetDetailsVisible",!1,oe.kg("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new ye.N1("suggestWidgetMultipleSuggestions",!1,oe.kg("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new ye.N1("suggestionMakesTextEdit",!0,oe.kg("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new ye.N1("acceptSuggestionOnEnter",!0,oe.kg("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new ye.N1("suggestionHasInsertAndReplaceRange",!1,oe.kg("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new ye.N1("suggestionInsertMode",void 0,{type:"string",description:oe.kg("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new ye.N1("suggestionCanResolve",!1,oe.kg("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},Tl=new rt.D8("suggestWidgetStatusBar");class Z_{constructor(e,t,n,r){this.position=e,this.completion=t,this.container=n,this.provider=r,this.isInvalid=!1,this.score=po.ne.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:t.label?.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),this.extensionId=t.extensionId,Nt.Q.isIRange(t.range)?(this.editStart=new Yn.y(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new Yn.y(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new Yn.y(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||Nt.Q.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new Yn.y(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new Yn.y(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new Yn.y(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||Nt.Q.spansMultipleLines(t.range.insert)||Nt.Q.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof r.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(e){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),n=new Kr.W(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then((r)=>{Object.assign(this.completion,r),this._resolveDuration=n.elapsed()},(r)=>{ii.MB(r)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{t.dispose()})}return this._resolveCache}}class nu{static{this.default=new nu}constructor(e=2,t=new Set,n=new Set,r=new Map,o=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=n,this.providerItemsToReuse=r,this.showDeprecated=o}}class U_{constructor(e,t,n,r){this.items=e,this.needsClipboard=t,this.durations=n,this.disposable=r}}async function Gf(e,t,n,r=nu.default,o={triggerKind:0},u=wn.XO.None){const l=new Kr.W;n=n.clone();const A=t.getWordAtPosition(n),K=A?new Nt.Q(n.lineNumber,A.startColumn,n.lineNumber,A.endColumn):Nt.Q.fromPositions(n),le={replace:K,insert:K.setEndPosition(n.lineNumber,n.column)},ue=[],we=new ft.Cm,Qe=[];let Me=!1;const nt=(Dt,cn,Tn)=>{let On=!1;if(!cn)return On;for(let Kn of cn.suggestions)if(!r.kindFilter.has(Kn.kind)){if(!r.showDeprecated&&Kn?.tags?.includes(1))continue;Kn.range||(Kn.range=le),Kn.sortText||(Kn.sortText=typeof Kn.label=="string"?Kn.label:Kn.label.label),!Me&&Kn.insertTextRules&&4&Kn.insertTextRules&&(Me=N.guessNeedsClipboard(Kn.insertText)),ue.push(new Z_(n,Kn,cn,Dt)),On=!0}return ft.Xm(cn)&&we.add(cn),Qe.push({providerName:Dt._debugDisplayName??"unknown_provider",elapsedProvider:cn.duration??-1,elapsedOverall:Tn.elapsed()}),On},yt=(async()=>{})();for(let Dt of e.orderedGroups(t)){let cn=!1;if(await Promise.all(Dt.map(async(Tn)=>{if(r.providerItemsToReuse.has(Tn)){const On=r.providerItemsToReuse.get(Tn);return On.forEach((Kn)=>ue.push(Kn)),void(cn=cn||On.length>0)}if(!(r.providerFilter.size>0)||r.providerFilter.has(Tn))try{const On=new Kr.W,Kn=await Tn.provideCompletionItems(t,n,o,u);cn=nt(Tn,Kn,On)||cn}catch(On){ii.M_(On)}})),cn||u.isCancellationRequested)break}return await yt,u.isCancellationRequested?(we.dispose(),Promise.reject(new ii.AL)):new U_(ue.sort((It=r.snippetSortOrder,Fh.get(It))),Me,{entries:Qe,elapsed:l.elapsed()},we);var It}function Xf(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.textLabel<t.textLabel?-1:e.textLabel>t.textLabel?1:e.completion.kind-t.completion.kind}const Fh=new Map;Fh.set(0,function(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return Xf(e,t)}),Fh.set(2,function(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return Xf(e,t)}),Fh.set(1,Xf),En.w.registerCommand("_executeCompletionItemProvider",async(e,...t)=>{const[n,r,o,u]=t;yn.j(ht.r.isUri(n)),yn.j(Yn.y.isIPosition(r)),yn.j(typeof o=="string"||!o),yn.j(typeof u=="number"||!u);const{completionProvider:l}=e.get(Wt.ILanguageFeaturesService),A=await e.get($r.ITextModelService).createModelReference(n);try{const K={incomplete:!1,suggestions:[]},le=[],ue=A.object.textEditorModel.validatePosition(r),we=await Gf(l,A.object.textEditorModel,ue,void 0,{triggerCharacter:o??void 0,triggerKind:o?1:0});for(let Qe of we.items)le.length<(u??0)&&le.push(Qe.resolve(wn.XO.None)),K.incomplete=K.incomplete||Qe.container.incomplete,K.suggestions.push(Qe.completion);try{return await Promise.all(le),K}finally{setTimeout(()=>we.disposable.dispose(),100)}}finally{A.dispose()}});class pc{static isAllOff(e){return e.other==="off"&&e.comments==="off"&&e.strings==="off"}static isAllOn(e){return e.other==="on"&&e.comments==="on"&&e.strings==="on"}static valueFor(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}var fc=ct(6441),cS=ct(8518);function B_(e,t=tn.uF){return cS.No(e,t)?e.charAt(0).toUpperCase()+e.slice(1):e}Object.create(null);var Xa=ct(8019);Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class Hf{constructor(e){this._delegates=e}resolve(e){for(let t of this._delegates){const n=t.resolve(e);if(n!==void 0)return n}}}class Yf{constructor(e,t,n,r){this._model=e,this._selection=t,this._selectionIdx=n,this._overtypingCapturer=r}resolve(e){const{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let n=this._model.getValueInRange(this._selection)||void 0,r=this._selection.startLineNumber!==this._selection.endLineNumber;if(!n&&this._overtypingCapturer){const o=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);o&&(n=o.value,r=o.multiline)}if(n&&r&&e.snippet){const o=this._model.getLineContent(this._selection.startLineNumber),u=Ne.UU(o,0,this._selection.startColumn-1);let l=u;e.snippet.walk((K)=>K!==e&&(K instanceof on&&(l=Ne.UU(Ne.uz(K.value).pop())),!0));const A=Ne.Qp(l,u);n=n.replace(/(\r\n|\r|\n)(.*)/g,(K,le,ue)=>`${le}${l.substr(A)}${ue}`)}return n}if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){const n=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return n&&n.word||void 0}return t==="TM_LINE_INDEX"?String(this._selection.positionLineNumber-1):t==="TM_LINE_NUMBER"?String(this._selection.positionLineNumber):t==="CURSOR_INDEX"?String(this._selectionIdx):t==="CURSOR_NUMBER"?String(this._selectionIdx+1):void 0}}class jf{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if(t==="TM_FILENAME")return Xa.P8(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){const n=Xa.P8(this._model.uri.fsPath),r=n.lastIndexOf(".");return r<=0?n:n.slice(0,r)}return t==="TM_DIRECTORY"?Xa.pD(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(bn.pD(this._model.uri)):t==="TM_FILEPATH"?this._labelService.getUriLabel(this._model.uri):t==="RELATIVE_FILEPATH"?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class qf{constructor(e,t,n,r){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=n,this._spread=r}resolve(e){if(e.name!=="CLIPBOARD")return;const t=this._readClipboardText();if(t){if(this._spread){const n=t.split(/\r\n|\n|\r/).filter((r)=>!Ne.AV(r));if(n.length===this._selectionCount)return n[this._selectionIdx]}return t}}}let Oh=class{constructor(e,t,n){this._model=e,this._selection=t,this._languageConfigurationService=n}resolve(e){const{name:t}=e,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),r=this._languageConfigurationService.getLanguageConfiguration(n).comments;if(r)return t==="LINE_COMMENT"?r.lineCommentToken||void 0:t==="BLOCK_COMMENT_START"?r.blockCommentStartToken||void 0:t==="BLOCK_COMMENT_END"&&r.blockCommentEndToken||void 0}};Oh=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(2,eo.JZ)],Oh);class mc{constructor(){this._date=new Date}static{this.dayNames=[oe.kg("Sunday","Sunday"),oe.kg("Monday","Monday"),oe.kg("Tuesday","Tuesday"),oe.kg("Wednesday","Wednesday"),oe.kg("Thursday","Thursday"),oe.kg("Friday","Friday"),oe.kg("Saturday","Saturday")]}static{this.dayNamesShort=[oe.kg("SundayShort","Sun"),oe.kg("MondayShort","Mon"),oe.kg("TuesdayShort","Tue"),oe.kg("WednesdayShort","Wed"),oe.kg("ThursdayShort","Thu"),oe.kg("FridayShort","Fri"),oe.kg("SaturdayShort","Sat")]}static{this.monthNames=[oe.kg("January","January"),oe.kg("February","February"),oe.kg("March","March"),oe.kg("April","April"),oe.kg("May","May"),oe.kg("June","June"),oe.kg("July","July"),oe.kg("August","August"),oe.kg("September","September"),oe.kg("October","October"),oe.kg("November","November"),oe.kg("December","December")]}static{this.monthNamesShort=[oe.kg("JanuaryShort","Jan"),oe.kg("FebruaryShort","Feb"),oe.kg("MarchShort","Mar"),oe.kg("AprilShort","Apr"),oe.kg("MayShort","May"),oe.kg("JuneShort","Jun"),oe.kg("JulyShort","Jul"),oe.kg("AugustShort","Aug"),oe.kg("SeptemberShort","Sep"),oe.kg("OctoberShort","Oct"),oe.kg("NovemberShort","Nov"),oe.kg("DecemberShort","Dec")]}resolve(e){const{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return mc.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return mc.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return mc.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return mc.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1000));if(t==="CURRENT_TIMEZONE_OFFSET"){const n=this._date.getTimezoneOffset(),r=n>0?"-":"+",o=Math.trunc(Math.abs(n/60)),u=o<10?"0"+o:o,l=Math.abs(n)-60*o;return r+u+":"+(l<10?"0"+l:l)}}}class Kf{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=Jn.Q_(this._workspaceService.getWorkspace());return Jn.A7(t)?void 0:e.name==="WORKSPACE_NAME"?this._resolveWorkspaceName(t):e.name==="WORKSPACE_FOLDER"?this._resoveWorkspacePath(t):void 0}_resolveWorkspaceName(e){if(Jn.jB(e))return Xa.P8(e.uri.path);let t=Xa.P8(e.configPath.path);return t.endsWith(Jn.kF)&&(t=t.substr(0,t.length-Jn.kF.length-1)),t}_resoveWorkspacePath(e){if(Jn.jB(e))return B_(e.uri.fsPath);const t=Xa.P8(e.configPath.path);let n=e.configPath.fsPath;return n.endsWith(t)&&(n=n.substr(0,n.length-t.length-1)),n?B_(n):"/"}}class em{resolve(e){const{name:t}=e;return t==="RANDOM"?Math.random().toString().slice(-6):t==="RANDOM_HEX"?Math.random().toString(16).slice(-6):t==="UUID"?fi():void 0}}var ta;class Qs{static{this._decor={active:Hn.kI.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Hn.kI.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Hn.kI.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Hn.kI.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})}}constructor(e,t,n){this._editor=e,this._snippet=t,this._snippetLineLeadingWhitespace=n,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=mn.$z(t.placeholders,Dn.compareByIndex),this._placeholderGroupsIdx=-1}initialize(e){this._offset=e.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations((t)=>{for(let n of this._snippet.placeholders){const r=this._snippet.offset(n),o=this._snippet.fullLen(n),u=Nt.Q.fromPositions(e.getPositionAt(this._offset+r),e.getPositionAt(this._offset+r+o)),l=n.isFinalTabstop?Qs._decor.inactiveFinal:Qs._decor.inactive,A=t.addDecoration(u,l);this._placeholderDecorations.set(n,A)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const r=[];for(let o of this._placeholderGroups[this._placeholderGroupsIdx])if(o.transform){const u=this._placeholderDecorations.get(o),l=this._editor.getModel().getDecorationRange(u),A=this._editor.getModel().getValueInRange(l),K=o.transform.resolve(A).split(/\r\n|\r|\n/);for(let le=1;le<K.length;le++)K[le]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+K[le]);r.push(Fr.k.replace(l,K.join(this._editor.getModel().getEOL())))}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const n=this._editor.getModel().changeDecorations((r)=>{const o=new Set,u=[];for(let l of this._placeholderGroups[this._placeholderGroupsIdx]){const A=this._placeholderDecorations.get(l),K=this._editor.getModel().getDecorationRange(A);u.push(new Xn.L(K.startLineNumber,K.startColumn,K.endLineNumber,K.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(l),r.changeDecorationOptions(A,l.isFinalTabstop?Qs._decor.activeFinal:Qs._decor.active),o.add(l);for(let le of this._snippet.enclosingPlaceholders(l)){const ue=this._placeholderDecorations.get(le);r.changeDecorationOptions(ue,le.isFinalTabstop?Qs._decor.activeFinal:Qs._decor.active),o.add(le)}}for(let[l,A]of this._placeholderDecorations)o.has(l)||r.changeDecorationOptions(A,l.isFinalTabstop?Qs._decor.inactiveFinal:Qs._decor.inactive);return u});return t?this.move(e):n??[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof Dn){const n=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[e]=this._snippet.placeholders;if(e.isFinalTabstop&&this._snippet.rightMostDescendant===e)return!0}return!1}computePossibleSelections(){const e=new Map;for(let t of this._placeholderGroups){let n;for(let r of t){if(r.isFinalTabstop)break;n||(n=[],e.set(r.index,n));const o=this._placeholderDecorations.get(r),u=this._editor.getModel().getDecorationRange(o);if(!u){e.delete(r.index);break}n.push(u)}}return e}get activeChoice(){if(!this._placeholderDecorations)return;const e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!e?.choice)return;const t=this._placeholderDecorations.get(e);if(!t)return;const n=this._editor.getModel().getDecorationRange(t);return n?{range:n,choice:e.choice}:void 0}get hasChoice(){let e=!1;return this._snippet.walk((t)=>(e=t instanceof vn,!e)),e}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((n)=>{for(let r of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(o._offset!==-1),console.assert(!o._placeholderDecorations);const u=o._snippet.placeholderInfo.last.index;for(let A of o._snippet.placeholderInfo.all)A.isFinalTabstop?A.index=r.index+(u+1)/this._nestingLevel:A.index=r.index+A.index/this._nestingLevel;this._snippet.replace(r,o._snippet.children);const l=this._placeholderDecorations.get(r);n.removeDecoration(l),this._placeholderDecorations.delete(r);for(let A of o._snippet.placeholders){const K=o._snippet.offset(A),le=o._snippet.fullLen(A),ue=Nt.Q.fromPositions(t.getPositionAt(o._offset+K),t.getPositionAt(o._offset+K+le)),we=n.addDecoration(ue,Qs._decor.inactive);this._placeholderDecorations.set(A,we)}}this._placeholderGroups=mn.$z(this._snippet.placeholders,Dn.compareByIndex)})}}const V_={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Qh=ta=class{static adjustWhitespace(e,t,n,r,o){const u=e.getLineContent(t.lineNumber),l=Ne.UU(u,0,t.column-1);let A;return r.walk((K)=>{if(!(K instanceof on)||K.parent instanceof vn)return!0;if(o&&!o.has(K))return!0;const le=K.value.split(/\r\n|\r|\n/);if(n){const we=r.offset(K);if(we===0)le[0]=e.normalizeIndentation(le[0]);else{A=A??r.toString();const Qe=A.charCodeAt(we-1);Qe!==10&&Qe!==13||(le[0]=e.normalizeIndentation(l+le[0]))}for(let Qe=1;Qe<le.length;Qe++)le[Qe]=e.normalizeIndentation(l+le[Qe])}const ue=le.join(e.getEOL());return ue!==K.value&&(K.parent.replace(K,[new on(ue)]),A=void 0),!0}),l}static adjustSelection(e,t,n,r){if(n!==0||r!==0){const{positionLineNumber:o,positionColumn:u}=t,l=u-n,A=u+r,K=e.validateRange({startLineNumber:o,startColumn:l,endLineNumber:o,endColumn:A});t=Xn.L.createWithDirection(K.startLineNumber,K.startColumn,K.endLineNumber,K.endColumn,t.getDirection())}return t}static createEditsAndSnippetsFromSelections(e,t,n,r,o,u,l,A,K){const le=[],ue=[];if(!e.hasModel())return{edits:le,snippets:ue};const we=e.getModel(),Qe=e.invokeWithinContext((Tn)=>Tn.get(Jn.VR)),Me=e.invokeWithinContext((Tn)=>new jf(Tn.get(Od.L),we)),nt=()=>l,yt=we.getValueInRange(ta.adjustSelection(we,e.getSelection(),n,0)),It=we.getValueInRange(ta.adjustSelection(we,e.getSelection(),0,r)),Dt=we.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),cn=e.getSelections().map((Tn,On)=>({selection:Tn,idx:On})).sort((Tn,On)=>Nt.Q.compareRangesUsingStarts(Tn.selection,On.selection));for(let{selection:Tn,idx:On}of cn){let Kn=ta.adjustSelection(we,Tn,n,0),mi=ta.adjustSelection(we,Tn,0,r);yt!==we.getValueInRange(Kn)&&(Kn=Tn),It!==we.getValueInRange(mi)&&(mi=Tn);const Bi=Tn.setStartPosition(Kn.startLineNumber,Kn.startColumn).setEndPosition(mi.endLineNumber,mi.endColumn),Lr=new N().parse(t,!0,o),so=Bi.getStartPosition(),wa=ta.adjustWhitespace(we,so,u||On>0&&Dt!==we.getLineFirstNonWhitespaceColumn(Tn.positionLineNumber),Lr);Lr.resolveVariables(new Hf([Me,new qf(nt,On,cn.length,e.getOption(79)==="spread"),new Yf(we,Tn,On,A),new Oh(we,Tn,K),new mc,new Kf(Qe),new em])),le[On]=Fr.k.replace(Bi,Lr.toString()),le[On].identifier={major:On,minor:0},le[On]._isTracked=!0,ue[On]=new Qs(e,Lr,wa)}return{edits:le,snippets:ue}}static createEditsAndSnippetsFromEdits(e,t,n,r,o,u,l){if(!e.hasModel()||t.length===0)return{edits:[],snippets:[]};const A=[],K=e.getModel(),le=new N,ue=new Qn,we=new Hf([e.invokeWithinContext((Me)=>new jf(Me.get(Od.L),K)),new qf(()=>o,0,e.getSelections().length,e.getOption(79)==="spread"),new Yf(K,e.getSelection(),0,u),new Oh(K,e.getSelection(),l),new mc,new Kf(e.invokeWithinContext((Me)=>Me.get(Jn.VR))),new em]);t=t.sort((Me,nt)=>Nt.Q.compareRangesUsingStarts(Me.range,nt.range));let Qe=0;for(let Me=0;Me<t.length;Me++){const{range:nt,template:yt}=t[Me];if(Me>0){const On=t[Me-1].range,Kn=Nt.Q.fromPositions(On.getEndPosition(),nt.getStartPosition()),mi=new on(K.getValueInRange(Kn));ue.appendChild(mi),Qe+=mi.value.length}const It=le.parseFragment(yt,ue);ta.adjustWhitespace(K,nt.getStartPosition(),!0,ue,new Set(It)),ue.resolveVariables(we);const Dt=ue.toString(),cn=Dt.slice(Qe);Qe=Dt.length;const Tn=Fr.k.replace(nt,cn);Tn.identifier={major:Me,minor:0},Tn._isTracked=!0,A.push(Tn)}return le.ensureFinalTabstop(ue,n,!0),{edits:A,snippets:[new Qs(e,ue,"")]}}constructor(e,t,n=V_,r){this._editor=e,this._template=t,this._options=n,this._languageConfigurationService=r,this._templateMerges=[],this._snippets=[]}dispose(){ft.AS(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=typeof this._template=="string"?ta.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):ta.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=t,this._editor.executeEdits("snippet",e,(n)=>{const r=n.filter((o)=>!!o.identifier);for(let o=0;o<t.length;o++)t[o].initialize(r[o].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):r.map((o)=>Xn.L.fromPositions(o.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=V_){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:n,snippets:r}=ta.createEditsAndSnippetsFromSelections(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",n,(o)=>{const u=o.filter((A)=>!!A.identifier);for(let A=0;A<r.length;A++)r[A].initialize(u[A].textChange);const l=r[0].isTrivialSnippet;if(!l){for(let A of this._snippets)A.merge(r);console.assert(r.length===0)}return this._snippets[0].hasPlaceholder&&!l?this._move(void 0):u.map((A)=>Xn.L.fromPositions(A.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(let n of this._snippets){const r=n.move(e);t.push(...r)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;const t=new Map;for(let n of this._snippets){const r=n.computePossibleSelections();if(t.size===0)for(let[o,u]of r){u.sort(Nt.Q.compareRangesUsingStarts);for(let l of e)if(u[0].containsRange(l)){t.set(o,[]);break}}if(t.size===0)return!1;t.forEach((o,u)=>{o.push(...r.get(u))})}e.sort(Nt.Q.compareRangesUsingStarts);for(let[n,r]of t)if(r.length===e.length){r.sort(Nt.Q.compareRangesUsingStarts);for(let o=0;o<r.length;o++)r[o].containsRange(e[o])||t.delete(n)}else t.delete(n);return t.size>0}};Qh=ta=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(3,eo.JZ)],Qh);var Kc,zh=function(e,t){return function(n,r){t(n,r,e)}};const G_={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Do=class{static{Kc=this}static{this.ID="snippetController2"}static get(e){return e.getContribution(Kc.ID)}static{this.InSnippetMode=new ye.N1("inSnippetMode",!1,oe.kg("inSnippetMode","Whether the editor in current in snippet mode"))}static{this.HasNextTabstop=new ye.N1("hasNextTabstop",!1,oe.kg("hasNextTabstop","Whether there is a next tab stop when in snippet mode"))}static{this.HasPrevTabstop=new ye.N1("hasPrevTabstop",!1,oe.kg("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"))}constructor(e,t,n,r,o){this._editor=e,this._logService=t,this._languageFeaturesService=n,this._languageConfigurationService=o,this._snippetListener=new ft.Cm,this._modelVersionId=-1,this._inSnippet=Kc.InSnippetMode.bindTo(r),this._hasNextTabstop=Kc.HasNextTabstop.bindTo(r),this._hasPrevTabstop=Kc.HasPrevTabstop.bindTo(r)}dispose(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._session?.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,t===void 0?G_:{...G_,...t})}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){if(this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof e!="string"&&this.cancel(),this._session?(yn.j(typeof e=="string"),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new Qh(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._session?.hasChoice){const n={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(K,le)=>{if(!this._session||K!==this._editor.getModel()||!Yn.y.equals(this._editor.getPosition(),le))return;const{activeChoice:ue}=this._session;if(!ue||ue.choice.options.length===0)return;const we=K.getValueInRange(ue.range),Qe=Boolean(ue.choice.options.find((nt)=>nt.value===we)),Me=[];for(let nt=0;nt<ue.choice.options.length;nt++){const yt=ue.choice.options[nt];Me.push({kind:13,label:yt.value,insertText:yt.value,sortText:"a".repeat(nt+1),range:ue.range,filterText:Qe?`${we}_${yt.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:oe.kg("next","Go to next placeholder...")}})}return{suggestions:Me}}},r=this._editor.getModel();let o,u=!1;const l=()=>{o?.dispose(),u=!1},A=()=>{u||(o=this._languageFeaturesService.completionProvider.register({language:r.getLanguageId(),pattern:r.uri.fsPath,scheme:r.uri.scheme,exclusive:!0},n),this._snippetListener.add(o),u=!0)};this._choiceCompletions={provider:n,enable:A,disable:l}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((n)=>n.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{activeChoice:e}=this._session;if(!e||!this._choiceCompletions)return this._choiceCompletions?.disable(),void(this._currentChoice=void 0);this._currentChoice!==e.choice&&(this._currentChoice=e.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{var t,n;t=this._editor,n=this._choiceCompletions.provider,t.getContribution("editor.contrib.suggestController")?.triggerSuggest(new Set().add(n),void 0,!0)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,this._session?.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session?.prev(),this._updateState()}next(){this._session?.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};Do=Kc=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([zh(1,fc.rr),zh(2,Wt.ILanguageFeaturesService),zh(3,ye.fN),zh(4,eo.JZ)],Do),O.HW(Do.ID,Do,4);const Wh=O.DX.bindToContribution(Do.get);O.E_(new Wh({id:"jumpToNextSnippetPlaceholder",precondition:ye.M$.and(Do.InSnippetMode,Do.HasNextTabstop),handler:(e)=>e.next(),kbOpts:{weight:130,kbExpr:Fe.R.textInputFocus,primary:2}})),O.E_(new Wh({id:"jumpToPrevSnippetPlaceholder",precondition:ye.M$.and(Do.InSnippetMode,Do.HasPrevTabstop),handler:(e)=>e.prev(),kbOpts:{weight:130,kbExpr:Fe.R.textInputFocus,primary:1026}})),O.E_(new Wh({id:"leaveSnippet",precondition:Do.InSnippetMode,handler:(e)=>e.cancel(!0),kbOpts:{weight:130,kbExpr:Fe.R.textInputFocus,primary:9,secondary:[1033]}})),O.E_(new Wh({id:"acceptSnippet",precondition:Do.InSnippetMode,handler:(e)=>e.finish()}));var tm=function(e,t){return function(n,r){t(n,r,e)}};let nm=class extends ft.jG{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(e,t,n,r,o,u,l,A,K,le,ue,we){let Qe;super(),this.textModel=e,this.selectedSuggestItem=t,this._textModelVersionId=n,this._positions=r,this._debounceValue=o,this._suggestPreviewEnabled=u,this._suggestPreviewMode=l,this._inlineSuggestMode=A,this._enabled=K,this._instantiationService=le,this._commandService=ue,this._languageConfigurationService=we,this._source=this._register(this._instantiationService.createInstance(Uf,this.textModel,this._textModelVersionId,this._debounceValue)),this._isActive=Rn.FY(this,!1),this._forceUpdateExplicitlySignal=Rn.Yd(this),this._selectedInlineCompletionId=Rn.FY(this,void 0),this._primaryPosition=Rn.un(this,(Me)=>this._positions.read(Me)[0]??new Yn.y(1,1)),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([Ha.Redo,Ha.Undo,Ha.AcceptWord]),this._fetchInlineCompletionsPromise=Rn.nb({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:Pt.qw.Automatic}),handleChange:(Me,nt)=>(Me.didChange(this._textModelVersionId)&&this._preserveCurrentCompletionReasons.has(this._getReason(Me.change))?nt.preserveCurrentCompletion=!0:Me.didChange(this._forceUpdateExplicitlySignal)&&(nt.inlineCompletionTriggerKind=Pt.qw.Explicit),!0)},(Me,nt)=>{if(this._forceUpdateExplicitlySignal.read(Me),!(this._enabled.read(Me)&&this.selectedSuggestItem.read(Me)||this._isActive.read(Me)))return void this._source.cancelUpdate();this._textModelVersionId.read(Me);const yt=this._source.suggestWidgetInlineCompletions.get(),It=this.selectedSuggestItem.read(Me);if(yt&&!It){const Kn=this._source.inlineCompletions.get();Rn.Rn((mi)=>{(!Kn||yt.request.versionId>Kn.request.versionId)&&this._source.inlineCompletions.set(yt.clone(),mi),this._source.clearSuggestWidgetInlineCompletions(mi)})}const Dt=this._primaryPosition.read(Me),cn={triggerKind:nt.inlineCompletionTriggerKind,selectedSuggestionInfo:It?.toSelectedSuggestionInfo()},Tn=this.selectedInlineCompletion.get(),On=nt.preserveCurrentCompletion||Tn?.forwardStable?Tn:void 0;return this._source.fetch(Dt,cn,On)}),this._filteredInlineCompletionItems=Rn.C({owner:this,equalsFn:uc.S3()},(Me)=>{const nt=this._source.inlineCompletions.read(Me);if(!nt)return[];const yt=this._primaryPosition.read(Me);return nt.inlineCompletions.filter((Dt)=>Dt.isVisible(this.textModel,yt,Me))}),this.selectedInlineCompletionIndex=Rn.un(this,(Me)=>{const nt=this._selectedInlineCompletionId.read(Me),yt=this._filteredInlineCompletionItems.read(Me),It=this._selectedInlineCompletionId===void 0?-1:yt.findIndex((Dt)=>Dt.semanticId===nt);return It===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):It}),this.selectedInlineCompletion=Rn.un(this,(Me)=>this._filteredInlineCompletionItems.read(Me)[this.selectedInlineCompletionIndex.read(Me)]),this.activeCommands=Rn.C({owner:this,equalsFn:uc.S3()},(Me)=>this.selectedInlineCompletion.read(Me)?.inlineCompletion.source.inlineCompletions.commands??[]),this.lastTriggerKind=this._source.inlineCompletions.map(this,(Me)=>Me?.request.context.triggerKind),this.inlineCompletionsCount=Rn.un(this,(Me)=>this.lastTriggerKind.read(Me)===Pt.qw.Explicit?this._filteredInlineCompletionItems.read(Me).length:void 0),this.state=Rn.C({owner:this,equalsFn:(Me,nt)=>Me&&nt?x_(Me.ghostTexts,nt.ghostTexts)&&Me.inlineCompletion===nt.inlineCompletion&&Me.suggestItem===nt.suggestItem:Me===nt},(Me)=>{const nt=this.textModel,yt=this.selectedSuggestItem.read(Me);if(yt){const It=hc(yt.toSingleTextEdit(),nt),Dt=this._computeAugmentation(It,Me);if(!this._suggestPreviewEnabled.read(Me)&&!Dt)return;const cn=Dt?.edit??It,Tn=Dt?Dt.edit.text.length-It.text.length:0,On=this._suggestPreviewMode.read(Me),Kn=this._positions.read(Me),mi=[cn,...im(this.textModel,Kn,cn)],Bi=mi.map((Lr,so)=>P_(Lr,nt,On,Kn[so],Tn)).filter(yn.O9);return{edits:mi,primaryGhostText:Bi[0]??new qc(cn.range.endLineNumber,[]),ghostTexts:Bi,inlineCompletion:Dt?.completion,suggestItem:yt}}{if(!this._isActive.read(Me))return;const It=this.selectedInlineCompletion.read(Me);if(!It)return;const Dt=It.toSingleTextEdit(Me),cn=this._inlineSuggestMode.read(Me),Tn=this._positions.read(Me),On=[Dt,...im(this.textModel,Tn,Dt)],Kn=On.map((mi,Bi)=>P_(mi,nt,cn,Tn[Bi],0)).filter(yn.O9);if(!Kn[0])return;return{edits:On,primaryGhostText:Kn[0],ghostTexts:Kn,inlineCompletion:It,suggestItem:void 0}}}),this.ghostTexts=Rn.C({owner:this,equalsFn:x_},(Me)=>{const nt=this.state.read(Me);if(nt)return nt.ghostTexts}),this.primaryGhostText=Rn.C({owner:this,equalsFn:C_},(Me)=>{const nt=this.state.read(Me);if(nt)return nt?.primaryGhostText}),this._register(Rn.OI(this._fetchInlineCompletionsPromise)),this._register(Rn.fm((Me)=>{const nt=this.state.read(Me),yt=nt?.inlineCompletion;if(yt?.semanticId!==Qe?.semanticId&&(Qe=yt,yt)){const It=yt.inlineCompletion,Dt=It.source;Dt.provider.handleItemDidShow?.(Dt.inlineCompletions,It.sourceInlineCompletion,It.insertText)}}))}_getReason(e){return e?.isUndoing?Ha.Undo:e?.isRedoing?Ha.Redo:this.isAcceptingPartially?Ha.AcceptWord:Ha.Other}async trigger(e){this._isActive.set(!0,e),await this._fetchInlineCompletionsPromise.get()}async triggerExplicitly(e){Rn.PO(e,(t)=>{this._isActive.set(!0,t),this._forceUpdateExplicitlySignal.trigger(t)}),await this._fetchInlineCompletionsPromise.get()}stop(e){Rn.PO(e,(t)=>{this._isActive.set(!1,t),this._source.clear(t)})}_computeAugmentation(e,t){const n=this.textModel,r=this._source.suggestWidgetInlineCompletions.read(t),o=r?r.inlineCompletions:[this.selectedInlineCompletion.read(t)].filter(yn.O9);return Ud.oH(o,(u)=>{let l=u.toSingleTextEdit(t);return l=hc(l,n,Nt.Q.fromPositions(l.range.getStartPosition(),e.range.getEndPosition())),M_(l,e)?{completion:u,edit:l}:void 0})}async _deltaSelectedInlineCompletionIndex(e){await this.triggerExplicitly();const t=this._filteredInlineCompletionItems.get()||[];if(t.length>0){const n=(this.selectedInlineCompletionIndex.get()+e+t.length)%t.length;this._selectedInlineCompletionId.set(t[n].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(e){if(e.getModel()!==this.textModel)throw new ii.D7;const t=this.state.get();if(!t||t.primaryGhostText.isEmpty()||!t.inlineCompletion)return;const n=t.inlineCompletion.toInlineCompletion(void 0);if(n.command&&n.source.addRef(),e.pushUndoStop(),n.snippetInfo)e.executeEdits("inlineSuggestion.accept",[Fr.k.replace(n.range,""),...n.additionalTextEdits]),e.setPosition(n.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),Do.get(e)?.insert(n.snippetInfo.snippet,{undoStopBefore:!1});else{const r=t.edits,o=X_(r).map((u)=>Xn.L.fromPositions(u));e.executeEdits("inlineSuggestion.accept",[...r.map((u)=>Fr.k.replace(u.range,u.text)),...n.additionalTextEdits]),e.setSelections(o,"inlineCompletionAccept")}this.stop(),n.command&&(await this._commandService.executeCommand(n.command.id,...n.command.arguments||[]).then(void 0,ii.M_),n.source.removeRef())}async acceptNextWord(e){await this._acceptNext(e,(t,n)=>{const r=this.textModel.getLanguageIdAtPosition(t.lineNumber,t.column),o=this._languageConfigurationService.getLanguageConfiguration(r),u=new RegExp(o.wordDefinition.source,o.wordDefinition.flags.replace("g","")),l=n.match(u);let A=0;A=l&&l.index!==void 0?l.index===0?l[0].length:l.index:n.length;const K=/\s+/g.exec(n);return K&&K.index!==void 0&&K.index+K[0].length<A&&(A=K.index+K[0].length),A},0)}async acceptNextLine(e){await this._acceptNext(e,(t,n)=>{const r=n.match(/\n/);return r&&r.index!==void 0?r.index+1:n.length},1)}async _acceptNext(e,t,n){if(e.getModel()!==this.textModel)throw new ii.D7;const r=this.state.get();if(!r||r.primaryGhostText.isEmpty()||!r.inlineCompletion)return;const o=r.primaryGhostText,u=r.inlineCompletion.toInlineCompletion(void 0);if(u.snippetInfo||u.filterText!==u.insertText)return void await this.accept(e);const l=o.parts[0],A=new Yn.y(o.lineNumber,l.column),K=l.text,le=t(A,K);if(le===K.length&&o.parts.length===1)return void this.accept(e);const ue=K.substring(0,le),we=this._positions.get(),Qe=we[0];u.source.addRef();try{this._isAcceptingPartially=!0;try{e.pushUndoStop();const Me=Nt.Q.fromPositions(Qe,A),nt=e.getModel().getValueInRange(Me)+ue,yt=new ea.WR(Me,nt),It=[yt,...im(this.textModel,we,yt)],Dt=X_(It).map((cn)=>Xn.L.fromPositions(cn));e.executeEdits("inlineSuggestion.accept",It.map((cn)=>Fr.k.replace(cn.range,cn.text))),e.setSelections(Dt,"inlineCompletionPartialAccept"),e.revealPositionInCenterIfOutsideViewport(e.getPosition(),1)}finally{this._isAcceptingPartially=!1}if(u.source.provider.handlePartialAccept){const Me=Nt.Q.fromPositions(u.range.getStartPosition(),Dh.W.ofText(ue).addToPosition(A)),nt=e.getModel().getValueInRange(Me,1);u.source.provider.handlePartialAccept(u.source.inlineCompletions,u.sourceInlineCompletion,nt.length,{kind:n})}}finally{u.source.removeRef()}}handleSuggestAccepted(e){const t=hc(e.toSingleTextEdit(),this.textModel),n=this._computeAugmentation(t,void 0);if(!n)return;const r=n.completion.inlineCompletion;r.source.provider.handlePartialAccept?.(r.source.inlineCompletions,r.sourceInlineCompletion,t.text.length,{kind:2})}};var Ha,Al;function im(e,t,n){if(t.length===1)return[];const r=t[0],o=t.slice(1),u=n.range.getStartPosition(),l=n.range.getEndPosition(),A=e.getValueInRange(Nt.Q.fromPositions(r,l)),K=J_(r,u);if(K.lineNumber<1)return ii.dz(new ii.D7(`positionWithinTextEdit line number should be bigger than 0.\n\t\t\tInvalid subtraction between ${r.toString()} and ${u.toString()}`)),[];const le=function(ue,we){let Qe="";const Me=Ne.en(ue);for(let nt=we.lineNumber-1;nt<Me.length;nt++)Qe+=Me[nt].substring(nt===we.lineNumber-1?we.column-1:0);return Qe}(n.text,K);return o.map((ue)=>{const we=(Qe=J_(ue,u),Me=l,new Yn.y(Qe.lineNumber+Me.lineNumber-1,Me.lineNumber===1?Qe.column+Me.column-1:Me.column));var Qe,Me;const nt=e.getValueInRange(Nt.Q.fromPositions(ue,we)),yt=Ne.Qp(A,nt),It=Nt.Q.fromPositions(ue,ue.delta(0,yt));return new ea.WR(It,le)})}function X_(e){const t=mn.t9.createSortPermutation(e,mn.VE((r)=>r.range,Nt.Q.compareRangesUsingStarts)),n=new ea.mF(t.apply(e)).getNewRanges();return t.inverse().apply(n).map((r)=>r.getEndPosition())}nm=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([tm(9,Ke._Y),tm(10,En.d),tm(11,eo.JZ)],nm),(Al=Ha||(Ha={}))[Al.Undo=0]="Undo",Al[Al.Redo=1]="Redo",Al[Al.AcceptWord=2]="AcceptWord",Al[Al.Other=3]="Other";var iu,H_=ct(9619),dS=ct(6525),Y_=function(e,t){return function(n,r){t(n,r,e)}};class $h{constructor(e){this.name=e}select(e,t,n){if(n.length===0)return 0;const r=n[0].score[0];for(let o=0;o<n.length;o++){const{score:u,completion:l}=n[o];if(u[0]!==r)break;if(l.preselect)return o}return 0}}class rm extends $h{constructor(){super("first")}memorize(e,t,n){}toJSON(){}fromJSON(){}}class j_ extends $h{constructor(){super("recentlyUsed"),this._cache=new ro.qK(300,0.66),this._seq=0}memorize(e,t,n){const r=`${e.getLanguageId()}/${n.textLabel}`;this._cache.set(r,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}select(e,t,n){if(n.length===0)return 0;const r=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(r))return super.select(e,t,n);const o=n[0].score[0];let u=-1,l=-1;for(let A=0;A<n.length&&n[A].score[0]===o;A++){const K=`${e.getLanguageId()}/${n[A].textLabel}`,le=this._cache.peek(K);if(le&&le.touch>l&&le.type===n[A].completion.kind&&le.insertText===n[A].completion.insertText&&(l=le.touch,u=A),n[A].completion.preselect)return A}return u!==-1?u:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();for(let[t,n]of e)n.touch=0,n.type=typeof n.type=="number"?n.type:Pt.HC.fromString(n.type),this._cache.set(t,n);this._seq=this._cache.size}}class q_ extends $h{constructor(){super("recentlyUsedByPrefix"),this._trie=dS.cB.forStrings(),this._seq=0}memorize(e,t,n){const{word:r}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${r}`;this._trie.set(o,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}select(e,t,n){const{word:r}=e.getWordUntilPosition(t);if(!r)return super.select(e,t,n);const o=`${e.getLanguageId()}/${r}`;let u=this._trie.get(o);if(u||(u=this._trie.findSubstr(o)),u)for(let l=0;l<n.length;l++){const{kind:A,insertText:K}=n[l].completion;if(A===u.type&&K===u.insertText)return l}return super.select(e,t,n)}toJSON(){const e=[];return this._trie.forEach((t,n)=>e.push([n,t])),e.sort((t,n)=>-(t[1].touch-n[1].touch)).forEach((t,n)=>t[1].touch=n),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(let[t,n]of e)n.type=typeof n.type=="number"?n.type:Pt.HC.fromString(n.type),this._trie.set(t,n)}}}let om=class{static{iu=this}static{this._strategyCtors=new Map([["recentlyUsedByPrefix",q_],["recentlyUsed",j_],["first",rm]])}static{this._storagePrefix="suggest/memories"}constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new ft.Cm,this._persistSoon=new un.uC(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState((n)=>{n.reason===Zr.LP.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,n){this._withStrategy(e,t).memorize(e,t,n),this._persistSoon.schedule()}select(e,t,n){return this._withStrategy(e,t).select(e,t,n)}_withStrategy(e,t){const n=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(this._strategy?.name!==n){this._saveState();const r=iu._strategyCtors.get(n)||rm;this._strategy=new r;try{const o=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,u=this._storageService.get(`${iu._storagePrefix}/${n}`,o);u&&this._strategy.fromJSON(JSON.parse(u))}catch(o){}}return this._strategy}_saveState(){if(this._strategy){const e=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,t=JSON.stringify(this._strategy);this._storageService.store(`${iu._storagePrefix}/${this._strategy.name}`,t,e,1)}}};om=iu=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Y_(0,Zr.CS),Y_(1,lt.pG)],om);const Zh=Ke.u1("ISuggestMemories");ho.v(Zh,om,1);var sm;let Uh=class{static{sm=this}static{this.AtEnd=new ye.N1("atEndOfWord",!1)}constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=sm.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration((n)=>n.hasChanged(124)&&this._update()),this._update()}dispose(){this._configListener.dispose(),this._selectionListener?.dispose(),this._ckAtEnd.reset()}_update(){const e=this._editor.getOption(124)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const n=this._editor.getModel(),r=this._editor.getSelection(),o=n.getWordAtPosition(r.getStartPosition());o?this._ckAtEnd.set(o.endColumn===r.getStartPosition().column):this._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};Uh=sm=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(1,ye.fN)],Uh);var ru;let ed=class{static{ru=this}static{this.OtherSuggestions=new ye.N1("hasOtherSuggestions",!1)}constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=ru.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){this._ckOtherSuggestions.reset(),this._listener?.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},n){e.items.length!==0&&ru._moveIndex(!0,e,t)!==t?(this._acceptNext=n,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(e,t,n){let r=n;for(let o=t.items.length;o>0&&(r=(r+t.items.length+(e?1:-1))%t.items.length,r!==n)&&t.items[r].completion.additionalTextEdits;o--);return r}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(this._model)try{this._ignore=!0,this._index=ru._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};ed=ru=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(1,ye.fN)],ed);class K_{constructor(e,t,n,r){this._disposables=new ft.Cm,this._disposables.add(n.onDidSuggest((o)=>{o.completionModel.items.length===0&&this.reset()})),this._disposables.add(n.onDidCancel((o)=>{this.reset()})),this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType((o)=>{if(this._active&&!t.isFrozen()&&n.state!==0){const u=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(u)&&e.getOption(0)&&r(this._active.item)}}))}_onItem(e){if(!e||!mn.EI(e.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===e.item)return;const t=new Jh.y;for(let n of e.item.completion.commitCharacters)n.length>0&&t.add(n.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var eb=ct(5525);class zs{async provideSelectionRanges(e,t){const n=[];for(let r of t){const o=[];n.push(o);const u=new Map;await new Promise((l)=>zs._bracketsRightYield(l,0,e,r,u)),await new Promise((l)=>zs._bracketsLeftYield(l,0,e,r,u,o))}return n}static{this._maxDuration=30}static{this._maxRounds=2}static _bracketsRightYield(e,t,n,r,o){const u=new Map,l=Date.now();for(;;){if(t>=zs._maxRounds){e();break}if(!r){e();break}const A=n.bracketPairs.findNextBracket(r);if(!A){e();break}if(Date.now()-l>zs._maxDuration){setTimeout(()=>zs._bracketsRightYield(e,t+1,n,r,o));break}if(A.bracketInfo.isOpeningBracket){const K=A.bracketInfo.bracketText,le=u.has(K)?u.get(K):0;u.set(K,le+1)}else{const K=A.bracketInfo.getOpeningBrackets()[0].bracketText;let le=u.has(K)?u.get(K):0;if(le-=1,u.set(K,Math.max(0,le)),le<0){let ue=o.get(K);ue||(ue=new eb.w,o.set(K,ue)),ue.push(A.range)}}r=A.range.getEndPosition()}}static _bracketsLeftYield(e,t,n,r,o,u){const l=new Map,A=Date.now();for(;;){if(t>=zs._maxRounds&&o.size===0){e();break}if(!r){e();break}const K=n.bracketPairs.findPrevBracket(r);if(!K){e();break}if(Date.now()-A>zs._maxDuration){setTimeout(()=>zs._bracketsLeftYield(e,t+1,n,r,o,u));break}if(K.bracketInfo.isOpeningBracket){const le=K.bracketInfo.bracketText;let ue=l.has(le)?l.get(le):0;if(ue-=1,l.set(le,Math.max(0,ue)),ue<0){const we=o.get(le);if(we){const Qe=we.shift();we.size===0&&o.delete(le);const Me=Nt.Q.fromPositions(K.range.getEndPosition(),Qe.getStartPosition()),nt=Nt.Q.fromPositions(K.range.getStartPosition(),Qe.getEndPosition());u.push({range:Me}),u.push({range:nt}),zs._addBracketLeading(n,nt,u)}}}else{const le=K.bracketInfo.getOpeningBrackets()[0].bracketText,ue=l.has(le)?l.get(le):0;l.set(le,ue+1)}r=K.range.getStartPosition()}}static _addBracketLeading(e,t,n){if(t.startLineNumber===t.endLineNumber)return;const r=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(r);o!==0&&o!==t.startColumn&&(n.push({range:Nt.Q.fromPositions(new Yn.y(r,o),t.getEndPosition())}),n.push({range:Nt.Q.fromPositions(new Yn.y(r,1),t.getEndPosition())}));const u=r-1;if(u>0){const l=e.getLineFirstNonWhitespaceColumn(u);l===t.startColumn&&l!==e.getLineLastNonWhitespaceColumn(u)&&(n.push({range:Nt.Q.fromPositions(new Yn.y(u,l),t.getEndPosition())}),n.push({range:Nt.Q.fromPositions(new Yn.y(u,1),t.getEndPosition())}))}}}class _a{static{this.None=new class extends _a{distance(){return 0}}}static async create(e,t){if(!t.getOption(119).localityBonus)return _a.None;if(!t.hasModel())return _a.None;const n=t.getModel(),r=t.getPosition();if(!e.canComputeWordRanges(n.uri))return _a.None;const[o]=await new zs().provideSelectionRanges(n,[r]);if(o.length===0)return _a.None;const u=await e.computeWordRanges(n.uri,o[0].range);if(!u)return _a.None;const l=n.getWordUntilPosition(r);return delete u[l.word],new class extends _a{distance(A,K){if(!r.equals(t.getPosition()))return 0;if(K.kind===17)return 2097152;const le=typeof K.label=="string"?K.label:K.label.label,ue=u[le];if(mn.Ct(ue))return 2097152;const we=mn.El(ue,Nt.Q.fromPositions(A),Nt.Q.compareRangesUsingStarts),Qe=we>=0?ue[we]:ue[Math.max(0,~we-1)];let Me=o.length;for(let nt of o){if(!Nt.Q.containsRange(nt.range,Qe))break;Me-=1}return Me}}}}class am{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}}class Nl{constructor(e,t,n,r,o,u,l=po.Nd.default,A=void 0){this.clipboardText=A,this._snippetCompareFn=Nl._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=r,this._options=o,this._refilterKind=1,this._lineContext=n,this._fuzzyScoreOptions=l,u==="top"?this._snippetCompareFn=Nl._compareCompletionItemsSnippetsUp:u==="bottom"&&(this._snippetCompareFn=Nl._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const e=new Set;for(let[t,n]of this.getItemsByProvider())n.length>0&&n[0].container.incomplete&&e.add(t);return e}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const e=[],{leadingLineContent:t,characterCountDelta:n}=this._lineContext;let r="",o="";const u=this._refilterKind===1?this._items:this._filteredItems,l=[],A=!this._options.filterGraceful||u.length>2000?po.dt:po.uU;for(let K=0;K<u.length;K++){const le=u[K];if(le.isInvalid)continue;const ue=this._itemsByProvider.get(le.provider);ue?ue.push(le):this._itemsByProvider.set(le.provider,[le]);const we=le.position.column-le.editStart.column,Qe=we+n-(le.position.column-this._column);if(r.length!==Qe&&(r=Qe===0?"":t.slice(-Qe),o=r.toLowerCase()),le.word=r,Qe===0)le.score=po.ne.Default;else{let Me=0;for(;Me<we;){const nt=r.charCodeAt(Me);if(nt!==32&&nt!==9)break;Me+=1}if(Me>=Qe)le.score=po.ne.Default;else if(typeof le.completion.filterText=="string"){const nt=A(r,o,Me,le.completion.filterText,le.filterTextLow,0,this._fuzzyScoreOptions);if(!nt)continue;Ne.W1(le.completion.filterText,le.textLabel)===0?le.score=nt:(le.score=po.Jo(r,o,Me,le.textLabel,le.labelLow,0),le.score[0]=nt[0])}else{const nt=A(r,o,Me,le.textLabel,le.labelLow,0,this._fuzzyScoreOptions);if(!nt)continue;le.score=nt}}le.idx=K,le.distance=this._wordDistance.distance(le.position,le.completion),l.push(le),e.push(le.textLabel.length)}this._filteredItems=l.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?mn.SO(e.length-0.85,e,(K,le)=>K-le):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return Nl._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return Nl._compareCompletionItems(e,t)}}var lm,uS=ct(8195),Il=function(e,t){return function(n,r){t(n,r,e)}};class Rl{static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),n=e.getPosition();t.tokenization.tokenizeIfCheap(n.lineNumber);const r=t.getWordAtPosition(n);return!(!r||r.endColumn!==n.column&&r.startColumn+1!==n.column||!isNaN(Number(r.word)))}constructor(e,t,n){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.triggerOptions=n}}let Bh=lm=class{constructor(e,t,n,r,o,u,l,A,K){this._editor=e,this._editorWorkerService=t,this._clipboardService=n,this._telemetryService=r,this._logService=o,this._contextKeyService=u,this._configurationService=l,this._languageFeaturesService=A,this._envService=K,this._toDispose=new ft.Cm,this._triggerCharacterListener=new ft.Cm,this._triggerQuickSuggest=new un.pc,this._triggerState=void 0,this._completionDisposables=new ft.Cm,this._onDidCancel=new Rt.vl,this._onDidTrigger=new Rt.vl,this._onDidSuggest=new Rt.vl,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Xn.L(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let le=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{le=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{le=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection((ue)=>{le||this._onCursorChange(ue)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{le||this._triggerState===void 0||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){ft.AS(this._triggerCharacterListener),ft.AS([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(92)||!this._editor.hasModel()||!this._editor.getOption(122))return;const e=new Map;for(let n of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(let r of n.triggerCharacters||[]){let o=e.get(r);if(!o){o=new Set;const u=void 0;u&&o.add(u),e.set(r,o)}o.add(n)}const t=(n)=>{if(!function(u,l){if(!Boolean(l.getContextKeyValue("inlineSuggestionVisible")))return!0;const A=l.getContextKeyValue(No.suppressSuggestions.key);return A!==void 0?!A:!u.getOption(62).suppressSuggestions}(this._editor,this._contextKeyService,this._configurationService))return;if(Rl.shouldAutoTrigger(this._editor))return;if(!n){const u=this._editor.getPosition();n=this._editor.getModel().getLineContent(u.lineNumber).substr(0,u.column-1)}let r="";Ne.LJ(n.charCodeAt(n.length-1))?Ne.pc(n.charCodeAt(n.length-2))&&(r=n.substr(n.length-2)):r=n.charAt(n.length-1);const o=e.get(r);if(o){const u=new Map;if(this._completionModel)for(let[l,A]of this._completionModel.getItemsByProvider())o.has(l)||u.set(l,A);this.trigger({auto:!0,triggerKind:1,triggerCharacter:r,retrigger:Boolean(this._completionModel),clipboardText:this._completionModel?.clipboardText,completionOptions:{providerFilter:o,providerItemsToReuse:u}})}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(e=!1){this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),this._requestToken?.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:this._triggerState.auto,retrigger:!0}):this.cancel())}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"?this.cancel():this._triggerState===void 0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){pc.isAllOff(this._editor.getOption(90))||this._editor.getOption(119).snippetsPreventQuickSuggestions&&Do.get(this._editor)?.isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0)return;if(!Rl.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const e=this._editor.getModel(),t=this._editor.getPosition(),n=this._editor.getOption(90);if(!pc.isAllOff(n)){if(!pc.isAllOn(n)){e.tokenization.tokenizeIfCheap(t.lineNumber);const r=e.tokenization.getLineTokens(t.lineNumber),o=r.getStandardTokenType(r.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(pc.valueFor(n,o)!=="on")return}(function(r,o){if(!Boolean(o.getContextKeyValue(No.inlineSuggestionVisible.key)))return!0;const u=o.getContextKeyValue(No.suppressSuggestions.key);return u!==void 0?!u:!r.getOption(62).suppressSuggestions})(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(e)&&this.trigger({auto:!0})}},this._editor.getOption(91)))}_refilterCompletionItems(){yn.j(this._editor.hasModel()),yn.j(this._triggerState!==void 0);const e=this._editor.getModel(),t=this._editor.getPosition(),n=new Rl(e,t,{...this._triggerState,refilter:!0});this._onNewContext(n)}trigger(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=new Rl(t,this._editor.getPosition(),e);this.cancel(e.retrigger),this._triggerState=e,this._onDidTrigger.fire({auto:e.auto,shy:e.shy??!1,position:this._editor.getPosition()}),this._context=n;let r={triggerKind:e.triggerKind??0};e.triggerCharacter&&(r={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new wn.Qi;let o=1;switch(this._editor.getOption(113)){case"top":o=0;break;case"bottom":o=2}const{itemKind:u,showDeprecated:l}=lm.createSuggestFilter(this._editor),A=new nu(o,e.completionOptions?.kindFilter??u,e.completionOptions?.providerFilter,e.completionOptions?.providerItemsToReuse,l),K=_a.create(this._editorWorkerService,this._editor),le=Gf(this._languageFeaturesService.completionProvider,t,this._editor.getPosition(),A,r,this._requestToken.token);Promise.all([le,K]).then(async([ue,we])=>{if(this._requestToken?.dispose(),!this._editor.hasModel())return;let Qe=e?.clipboardText;if(!Qe&&ue.needsClipboard&&(Qe=await this._clipboardService.readText()),this._triggerState===void 0)return;const Me=this._editor.getModel(),nt=new Rl(Me,this._editor.getPosition(),e),yt={...po.Nd.default,firstMatchCanBeWeak:!this._editor.getOption(119).matchOnWordStartOnly};if(this._completionModel=new Nl(ue.items,this._context.column,{leadingLineContent:nt.leadingLineContent,characterCountDelta:nt.column-this._context.column},we,this._editor.getOption(119),this._editor.getOption(113),yt,Qe),this._completionDisposables.add(ue.disposable),this._onNewContext(nt),this._reportDurationsTelemetry(ue.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(let It of ue.items)It.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${It.provider._debugDisplayName}`,It.completion)}).catch(ii.dz)}_reportDurationsTelemetry(e){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static createSuggestFilter(e){const t=new Set;e.getOption(113)==="none"&&t.add(27);const n=e.getOption(119);return n.showMethods||t.add(0),n.showFunctions||t.add(1),n.showConstructors||t.add(2),n.showFields||t.add(3),n.showVariables||t.add(4),n.showClasses||t.add(5),n.showStructs||t.add(6),n.showInterfaces||t.add(7),n.showModules||t.add(8),n.showProperties||t.add(9),n.showEvents||t.add(10),n.showOperators||t.add(11),n.showUnits||t.add(12),n.showValues||t.add(13),n.showConstants||t.add(14),n.showEnums||t.add(15),n.showEnumMembers||t.add(16),n.showKeywords||t.add(17),n.showWords||t.add(18),n.showColors||t.add(19),n.showFiles||t.add(20),n.showReferences||t.add(21),n.showColors||t.add(22),n.showFolders||t.add(23),n.showTypeParameters||t.add(24),n.showSnippets||t.add(27),n.showUsers||t.add(25),n.showIssues||t.add(26),{itemKind:t,showDeprecated:n.showDeprecated}}_onNewContext(e){if(this._context)if(e.lineNumber===this._context.lineNumber)if(Ne.UU(e.leadingLineContent)===Ne.UU(this._context.leadingLineContent)){if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();else if(this._completionModel)if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){if(Rl.shouldAutoTrigger(this._editor)&&this._context){const t=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:t}})}}else if(e.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&e.leadingWord.word.length!==0){const t=new Map,n=new Set;for(let[r,o]of this._completionModel.getItemsByProvider())o.length>0&&o[0].container.incomplete?n.add(r):t.set(r,o);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:n,providerItemsToReuse:t}})}else{const t=this._completionModel.lineContext;let n=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){const r=Rl.shouldAutoTrigger(this._editor);if(!this._context)return void this.cancel();if(r&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});if(this._context.triggerOptions.auto)return void this.cancel();if(this._completionModel.lineContext=t,n=this._completionModel.items.length>0,n&&e.leadingWord.word.length===0)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:e.triggerOptions,isFrozen:n})}}else this.cancel();else this.cancel()}};Bh=lm=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Il(1,Zo.IEditorWorkerService),Il(2,ut.h),Il(3,xr.k),Il(4,fc.rr),Il(5,ye.fN),Il(6,lt.pG),Il(7,Wt.ILanguageFeaturesService),Il(8,uS.k)],Bh);class cm{static{this._maxSelectionLength=51200}constructor(e,t){this._disposables=new ft.Cm,this._lastOvertyped=[],this._locked=!1,this._disposables.add(e.onWillType(()=>{if(this._locked||!e.hasModel())return;const n=e.getSelections(),r=n.length;let o=!1;for(let l=0;l<r;l++)if(!n[l].isEmpty()){o=!0;break}if(!o)return void(this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0));this._lastOvertyped=[];const u=e.getModel();for(let l=0;l<r;l++){const A=n[l];if(u.getValueLengthInRange(A)>cm._maxSelectionLength)return;this._lastOvertyped[l]={value:u.getValueInRange(A),multiline:A.startLineNumber!==A.endLineNumber}}})),this._disposables.add(t.onDidTrigger((n)=>{this._locked=!0})),this._disposables.add(t.onDidCancel((n)=>{this._locked=!1}))}getLastOvertypedInfo(e){if(e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}var hS=ct(2992),dm=function(e,t){return function(n,r){t(n,r,e)}};let um=class{constructor(e,t,n,r,o){this._menuId=t,this._menuService=r,this._contextKeyService=o,this._menuDisposables=new ft.Cm,this.element=ae.BC(e,ae.$(".suggest-status-bar"));const u=(l)=>l instanceof rt.Xe?n.createInstance(br.rr,l,{useComma:!0}):void 0;this._leftActions=new Ns.E(this.element,{actionViewItemProvider:u}),this._rightActions=new Ns.E(this.element,{actionViewItemProvider:u}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const n=[],r=[];for(let[o,u]of e.getActions())o==="left"?n.push(...u):r.push(...u);this._leftActions.clear(),this._leftActions.push(n),this._rightActions.clear(),this._rightActions.push(r)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};um=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([dm(2,Ke._Y),dm(3,rt.ez),dm(4,ye.fN)],um);var hm=ct(8354);function pm(e){return!!e&&Boolean(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}let fm=class{constructor(e,t){this._editor=e,this._onDidClose=new Rt.vl,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new Rt.vl,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new ft.Cm,this._renderDisposeable=new ft.Cm,this._borderWidth=1,this._size=new ae.fg(330,0),this.domNode=ae.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(en.T,{editor:e}),this._body=ae.$(".body"),this._scrollbar=new hm.MU(this._body,{alwaysConsumeMouseWheel:!0}),ae.BC(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ae.BC(this._body,ae.$(".header")),this._close=ae.BC(this._header,ae.$("span"+Oe.L.asCSSSelector(be.W.close))),this._close.title=oe.kg("details.close","Close"),this._type=ae.BC(this._header,ae.$("p.type")),this._docs=ae.BC(this._body,ae.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((n)=>{n.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(50),n=t.getMassagedFontFamily(),r=e.get(120)||t.fontSize,o=e.get(121)||t.lineHeight,u=t.fontWeight,l=`${r}px`,A=`${o}px`;this.domNode.style.fontSize=l,this.domNode.style.lineHeight=""+o/r,this.domNode.style.fontWeight=u,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=A,this._close.style.width=A}getLayoutInfo(){const e=this._editor.getOption(121)||this._editor.getOption(50).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=oe.kg("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(e,t){this._renderDisposeable.clear();let{detail:n,documentation:r}=e.completion;if(t){let o="";o+=`score: ${e.score[0]}\n`,o+=`prefix: ${e.word??"(no prefix)"}\n`,o+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}\n`,o+=`distance: ${e.distance} (localityBonus-setting)\n`,o+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}\n`,o+=`commit_chars: ${e.completion.commitCharacters?.join("")}\n`,r=new ti.Bc().appendCodeblock("empty",o),n=`Provider: ${e.provider._debugDisplayName}`}if(t||pm(e)){if(this.domNode.classList.remove("no-docs","no-type"),n){const o=n.length>1e5?`${n.substr(0,1e5)}\u2026`:n;this._type.textContent=o,this._type.title=o,ae.WU(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(o))}else ae.w_(this._type),this._type.title="",ae.jD(this._type),this.domNode.classList.add("no-type");if(ae.w_(this._docs),typeof r=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=r;else if(r){this._docs.classList.add("markdown-docs"),ae.w_(this._docs);const o=this._markdownRenderer.render(r);this._docs.appendChild(o.element),this._renderDisposeable.add(o),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=(o)=>{o.preventDefault(),o.stopPropagation()},this._close.onclick=(o)=>{o.preventDefault(),o.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(e,t){const n=new ae.fg(e,t);ae.fg.equals(n,this._size)||(this._size=n,ae.Ej(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};fm=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(1,Ke._Y)],fm);class tb{constructor(e,t){let n,r;this.widget=e,this._editor=t,this.allowEditorOverflow=!0,this._disposables=new ft.Cm,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Xl,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let o=0,u=0;this._disposables.add(this._resizable.onDidWillResize(()=>{n=this._topLeft,r=this._resizable.size})),this._disposables.add(this._resizable.onDidResize((l)=>{if(n&&r){this.widget.layout(l.dimension.width,l.dimension.height);let A=!1;l.west&&(u=r.width-l.dimension.width,A=!0),l.north&&(o=r.height-l.dimension.height,A=!0),A&&this._applyTopLeft({top:n.top+o,left:n.left+u})}l.done&&(n=void 0,r=void 0,o=0,u=0,this._userSize=l.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{this._anchorBox&&this._placeAtAnchor(this._anchorBox,this._userSize??this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){const n=e.getBoundingClientRect();this._anchorBox=n,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,this._userSize??this.widget.size,t)}_placeAtAnchor(e,t,n){const r=ae.tG(this.getDomNode().ownerDocument.body),o=this.widget.getLayoutInfo(),u=new ae.fg(220,2*o.lineHeight),l=e.top,A=function(){const On=r.width-(e.left+e.width+o.borderWidth+o.horizontalPadding),Kn=-o.borderWidth+e.left+e.width,mi=new ae.fg(On,r.height-e.top-o.borderHeight-o.verticalPadding),Bi=mi.with(void 0,e.top+e.height-o.borderHeight-o.verticalPadding);return{top:l,left:Kn,fit:On-t.width,maxSizeTop:mi,maxSizeBottom:Bi,minSize:u.with(Math.min(On,u.width))}}(),K=function(){const On=e.left-o.borderWidth-o.horizontalPadding,Kn=Math.max(o.horizontalPadding,e.left-t.width-o.borderWidth),mi=new ae.fg(On,r.height-e.top-o.borderHeight-o.verticalPadding),Bi=mi.with(void 0,e.top+e.height-o.borderHeight-o.verticalPadding);return{top:l,left:Kn,fit:On-t.width,maxSizeTop:mi,maxSizeBottom:Bi,minSize:u.with(Math.min(On,u.width))}}(),le=function(){const On=e.left,Kn=-o.borderWidth+e.top+e.height,mi=new ae.fg(e.width-o.borderHeight,r.height-e.top-e.height-o.verticalPadding);return{top:Kn,left:On,fit:mi.height-t.height,maxSizeBottom:mi,maxSizeTop:mi,minSize:u.with(mi.width)}}(),ue=[A,K,le],we=ue.find((On)=>On.fit>=0)??ue.sort((On,Kn)=>Kn.fit-On.fit)[0],Qe=e.top+e.height-o.borderHeight;let Me,nt=t.height;const yt=Math.max(we.maxSizeTop.height,we.maxSizeBottom.height);let It;nt>yt&&(nt=yt),n?nt<=we.maxSizeTop.height?(Me=!0,It=we.maxSizeTop):(Me=!1,It=we.maxSizeBottom):nt<=we.maxSizeBottom.height?(Me=!1,It=we.maxSizeBottom):(Me=!0,It=we.maxSizeTop);let{top:Dt,left:cn}=we;!Me&&nt>e.height&&(Dt=Qe-nt);const Tn=this._editor.getDomNode();if(Tn){const On=Tn.getBoundingClientRect();Dt-=On.top,cn-=On.left}this._applyTopLeft({left:cn,top:Dt}),this._resizable.enableSashes(!Me,we===A,Me,we!==A),this._resizable.minSize=we.minSize,this._resizable.maxSize=It,this._resizable.layout(nt,Math.min(It.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this._editor.layoutOverlayWidget(this)}}var Vh=ct(5767),Gh=ct(9971),mm=function(e,t){return function(n,r){t(n,r,e)}};function nb(e){return`suggest-aria-id:${e}`}const pS=_r.pU("suggest-more-info",be.W.chevronRight,oe.kg("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),fS=new class e{static{this._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/}static{this._regexStrict=new RegExp(`^${e._regexRelaxed.source}\$`,"i")}extract(t,n){if(t.textLabel.match(e._regexStrict))return n[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(e._regexStrict))return n[0]=t.completion.detail,!0;if(t.completion.documentation){const r=typeof t.completion.documentation=="string"?t.completion.documentation:t.completion.documentation.value,o=e._regexRelaxed.exec(r);if(o&&(o.index===0||o.index+o[0].length===r.length))return n[0]=o[0],!0}return!1}};let gm=class{constructor(e,t,n,r){this._editor=e,this._modelService=t,this._languageService=n,this._themeService=r,this._onDidToggleDetails=new Rt.vl,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=new ft.Cm,n=e;n.classList.add("show-file-icons");const r=ae.BC(e,ae.$(".icon")),o=ae.BC(r,ae.$("span.colorspan")),u=ae.BC(e,ae.$(".contents")),l=ae.BC(u,ae.$(".main")),A=ae.BC(l,ae.$(".icon-label.codicon")),K=ae.BC(l,ae.$("span.left")),le=ae.BC(l,ae.$("span.right")),ue=new X0.s(K,{supportHighlights:!0,supportIcons:!0});t.add(ue);const we=ae.BC(K,ae.$("span.signature-label")),Qe=ae.BC(K,ae.$("span.qualifier-label")),Me=ae.BC(le,ae.$("span.details-label")),nt=ae.BC(le,ae.$("span.readMore"+Oe.L.asCSSSelector(pS)));return nt.title=oe.kg("readMore","Read More"),{root:n,left:K,right:le,icon:r,colorspan:o,iconLabel:ue,iconContainer:A,parametersLabel:we,qualifierLabel:Qe,detailsLabel:Me,readMore:nt,disposables:t,configureFont:()=>{const yt=this._editor.getOptions(),It=yt.get(50),Dt=It.getMassagedFontFamily(),cn=It.fontFeatureSettings,Tn=yt.get(120)||It.fontSize,On=yt.get(121)||It.lineHeight,Kn=It.fontWeight,mi=`${Tn}px`,Bi=`${On}px`,Lr=`${It.letterSpacing}px`;n.style.fontSize=mi,n.style.fontWeight=Kn,n.style.letterSpacing=Lr,l.style.fontFamily=Dt,l.style.fontFeatureSettings=cn,l.style.lineHeight=Bi,r.style.height=Bi,r.style.width=Bi,nt.style.height=Bi,nt.style.width=Bi}}}renderElement(e,t,n){n.configureFont();const{completion:r}=e;n.root.id=nb(t),n.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:po.WJ(e.score)},u=[];if(r.kind===19&&fS.extract(e,u))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=u[0];else if(r.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";const l=Vh.getIconClasses(this._modelService,this._languageService,ht.r.from({scheme:"fake",path:e.textLabel}),Gh.p.FILE),A=Vh.getIconClasses(this._modelService,this._languageService,ht.r.from({scheme:"fake",path:r.detail}),Gh.p.FILE);o.extraClasses=l.length>A.length?l:A}else r.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",o.extraClasses=[Vh.getIconClasses(this._modelService,this._languageService,ht.r.from({scheme:"fake",path:e.textLabel}),Gh.p.FOLDER),Vh.getIconClasses(this._modelService,this._languageService,ht.r.from({scheme:"fake",path:r.detail}),Gh.p.FOLDER)].flat()):(n.icon.className="icon hide",n.iconContainer.className="",n.iconContainer.classList.add("suggest-icon",...Oe.L.asClassNameArray(Pt.HC.toIcon(r.kind))));r.tags&&r.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),n.iconLabel.setLabel(e.textLabel,void 0,o),typeof r.label=="string"?(n.parametersLabel.textContent="",n.detailsLabel.textContent=_m(r.detail||""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=_m(r.label.detail||""),n.detailsLabel.textContent=_m(r.label.description||""),n.root.classList.remove("string-label")),this._editor.getOption(119).showInlineDetails?ae.WU(n.detailsLabel):ae.jD(n.detailsLabel),pm(e)?(n.right.classList.add("can-expand-details"),ae.WU(n.readMore),n.readMore.onmousedown=(l)=>{l.stopPropagation(),l.preventDefault()},n.readMore.onclick=(l)=>{l.stopPropagation(),l.preventDefault(),this._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),ae.jD(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};function _m(e){return e.replace(/\r\n|\r|\n/g,"")}gm=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([mm(1,Di.IModelService),mm(2,Ss.L),mm(3,pi.Gy)],gm);var td,Xh=function(e,t){return function(n,r){t(n,r,e)}};Xt.x1A("editorSuggestWidget.background",Xt.CgL,oe.kg("editorSuggestWidgetBackground","Background color of the suggest widget.")),Xt.x1A("editorSuggestWidget.border",Xt.sIe,oe.kg("editorSuggestWidgetBorder","Border color of the suggest widget."));const mS=Xt.x1A("editorSuggestWidget.foreground",Xt.By2,oe.kg("editorSuggestWidgetForeground","Foreground color of the suggest widget."));Xt.x1A("editorSuggestWidget.selectedForeground",Xt.nH,oe.kg("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),Xt.x1A("editorSuggestWidget.selectedIconForeground",Xt.c7i,oe.kg("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const gS=Xt.x1A("editorSuggestWidget.selectedBackground",Xt.AlL,oe.kg("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));Xt.x1A("editorSuggestWidget.highlightForeground",Xt.QI5,oe.kg("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),Xt.x1A("editorSuggestWidget.focusHighlightForeground",Xt.eMz,oe.kg("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),Xt.x1A("editorSuggestWidgetStatus.foreground",Xt.JO0(mS,0.5),oe.kg("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class ib{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof ws}`}restore(){const e=this._service.get(this._key,0)??"";try{const t=JSON.parse(e);if(ae.fg.is(t))return ae.fg.lift(t)}catch{}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let bm=class{static{td=this}static{this.LOADING_MESSAGE=oe.kg("suggestWidget.loading","Loading...")}static{this.NO_SUGGESTIONS_MESSAGE=oe.kg("suggestWidget.noSuggestions","No suggestions.")}constructor(e,t,n,r,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._pendingLayout=new ft.HE,this._pendingShowDetails=new ft.HE,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new un.pc,this._disposables=new ft.Cm,this._onDidSelect=new Rt.fV,this._onDidFocus=new Rt.fV,this._onDidHide=new Rt.vl,this._onDidShow=new Rt.vl,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new Rt.vl,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Xl,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new rb(this,e),this._persistedSize=new ib(t,e);class u{constructor(we,Qe,Me=!1,nt=!1){this.persistedSize=we,this.currentSize=Qe,this.persistHeight=Me,this.persistWidth=nt}}let l;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),l=new u(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize((we)=>{if(this._resize(we.dimension.width,we.dimension.height),l&&(l.persistHeight=l.persistHeight||!!we.north||!!we.south,l.persistWidth=l.persistWidth||!!we.east||!!we.west),we.done){if(l){const{itemHeight:Qe,defaultSize:Me}=this.getLayoutInfo(),nt=Math.round(Qe/2);let{width:yt,height:It}=this.element.size;(!l.persistHeight||Math.abs(l.currentSize.height-It)<=nt)&&(It=l.persistedSize?.height??Me.height),(!l.persistWidth||Math.abs(l.currentSize.width-yt)<=nt)&&(yt=l.persistedSize?.width??Me.width),this._persistedSize.store(new ae.fg(yt,It))}this._contentWidget.unlockPreference(),l=void 0}})),this._messageElement=ae.BC(this.element.domNode,ae.$(".message")),this._listElement=ae.BC(this.element.domNode,ae.$(".tree"));const A=this._disposables.add(o.createInstance(fm,this.editor));A.onDidClose(this.toggleDetails,this,this._disposables),this._details=new tb(A,this.editor);const K=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(119).showIcons);K();const le=o.createInstance(gm,this.editor);this._disposables.add(le),this._disposables.add(le.onDidToggleDetails(()=>this.toggleDetails())),this._list=new Is.B8("SuggestWidget",this._listElement,{getHeight:(we)=>this.getLayoutInfo().itemHeight,getTemplateId:(we)=>"suggestion"},[le],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>oe.kg("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:(we)=>{let Qe=we.textLabel;if(typeof we.completion.label!="string"){const{detail:It,description:Dt}=we.completion.label;It&&Dt?Qe=oe.kg("label.full","{0} {1}, {2}",Qe,It,Dt):It?Qe=oe.kg("label.detail","{0} {1}",Qe,It):Dt&&(Qe=oe.kg("label.desc","{0}, {1}",Qe,Dt))}if(!we.isResolved||!this._isDetailsVisible())return Qe;const{documentation:Me,detail:nt}=we.completion,yt=Ne.GP("{0}{1}",nt||"",Me?typeof Me=="string"?Me:Me.value:"");return oe.kg("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Qe,yt)}}}),this._list.style(ms.t8({listInactiveFocusBackground:gS,listInactiveFocusOutline:Xt.buw})),this._status=o.createInstance(um,this.element.domNode,Tl);const ue=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(119).showStatusBar);ue(),this._disposables.add(r.onDidColorThemeChange((we)=>this._onThemeChange(we))),this._onThemeChange(r.getColorTheme()),this._disposables.add(this._list.onMouseDown((we)=>this._onListMouseDownOrTap(we))),this._disposables.add(this._list.onTap((we)=>this._onListMouseDownOrTap(we))),this._disposables.add(this._list.onDidChangeSelection((we)=>this._onListSelection(we))),this._disposables.add(this._list.onDidChangeFocus((we)=>this._onListFocus(we))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration((we)=>{we.hasChanged(119)&&(ue(),K()),this._completionModel&&(we.hasChanged(50)||we.hasChanged(120)||we.hasChanged(121))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=Li.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=Li.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=Li.MultipleSuggestions.bindTo(n),this._ctxSuggestWidgetHasFocusedSuggestion=Li.HasFocusedSuggestion.bindTo(n),this._disposables.add(ae.b2(this._details.widget.domNode,"keydown",(we)=>{this._onDetailsKeydown.fire(we)})),this._disposables.add(this.editor.onMouseDown((we)=>this._onEditorMouseDown(we)))}dispose(){this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),this._loadingTimeout?.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){e.element!==void 0&&e.index!==void 0&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const n=this._completionModel;n&&(this._onDidSelect.fire({item:e,index:t,model:n}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=ss.Bb(e.type)?2:1}_onListFocus(e){if(this._ignoreFocusEvents)return;if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),void this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const t=e.elements[0],n=e.indexes[0];t!==this._focusedItem&&(this._currentSuggestionDetails?.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=t,this._list.reveal(n),this._currentSuggestionDetails=un.SS(async(r)=>{const o=un.EQ(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),u=r.onCancellationRequested(()=>o.dispose());try{return await t.resolve(r)}finally{o.dispose(),u.dispose()}}),this._currentSuggestionDetails.then(()=>{n>=this._list.length||t!==this._list.element(n)||(this._ignoreFocusEvents=!0,this._list.splice(n,1,[t]),this._list.setFocus([n]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:nb(n)}))}).catch(ii.dz)),this._onDidFocus.fire({item:t,index:n,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:ae.jD(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=td.LOADING_MESSAGE,ae.jD(this._listElement,this._status.element),ae.WU(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,si.h5(td.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=td.NO_SUGGESTIONS_MESSAGE,ae.jD(this._listElement,this._status.element),ae.WU(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,si.h5(td.NO_SUGGESTIONS_MESSAGE);break;case 3:case 4:ae.jD(this._messageElement),ae.WU(this._listElement,this._status.element),this._show();break;case 5:ae.jD(this._messageElement),ae.WU(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=un.EQ(()=>this._setState(1),t)))}showSuggestions(e,t,n,r,o){if(this._contentWidget.setPosition(this.editor.getPosition()),this._loadingTimeout?.dispose(),this._currentSuggestionDetails?.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),n&&this._state!==2&&this._state!==0)return void this._setState(4);const u=this._completionModel.items.length,l=u===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(u>1),l)return this._setState(r?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),this._list.reveal(t,0),this._list.setFocus(o?[]:[t])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=ae.Oq(ae.zk(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!pm(this._list.getFocusedElements()[0])&&!this._explainMode||this._state!==3&&this._state!==5&&this._state!==4||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._pendingShowDetails.value=ae.Oq(ae.zk(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){this._pendingLayout.clear(),this._pendingShowDetails.clear(),this._loadingTimeout?.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const e=this._persistedSize.restore(),t=Math.ceil(4.3*this.getLayoutInfo().itemHeight);e&&e.height<t&&this._persistedSize.store(e.with(void 0,t))}isFrozen(){return this._state===4}_afterRender(e){e!==null?this._state!==2&&this._state!==1&&(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(e){if(!this.editor.hasModel())return;if(!this.editor.getDomNode())return;const t=ae.tG(this.element.domNode.ownerDocument.body),n=this.getLayoutInfo();e||(e=n.defaultSize);let{height:r,width:o}=e;if(this._status.element.style.height=`${n.itemHeight}px`,this._state===2||this._state===1)r=n.itemHeight+n.borderHeight,o=n.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ae.fg(o,r),this._contentWidget.setPreference(2);else{const u=t.width-n.borderHeight-2*n.horizontalPadding;o>u&&(o=u);const l=this._completionModel?this._completionModel.stats.pLabelLen*n.typicalHalfwidthCharacterWidth:o,A=n.statusBarHeight+this._list.contentHeight+n.borderHeight,K=n.itemHeight+n.statusBarHeight,le=ae.BK(this.editor.getDomNode()),ue=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),we=le.top+ue.top+ue.height,Qe=Math.min(t.height-we-n.verticalPadding,A),Me=le.top+ue.top-n.verticalPadding,nt=Math.min(Me,A);let yt=Math.min(Math.max(nt,Qe)+n.borderHeight,A);r===this._cappedHeight?.capped&&(r=this._cappedHeight.wanted),r<K&&(r=K),r>yt&&(r=yt);const It=150;r>Qe||this._forceRenderingAbove&&Me>It?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),yt=nt):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),yt=Qe),this.element.preferredSize=new ae.fg(l,n.defaultSize.height),this.element.maxSize=new ae.fg(u,yt),this.element.minSize=new ae.fg(220,K),this._cappedHeight=r===A?{wanted:this._cappedHeight?.wanted??e.height,capped:r}:void 0}this._resize(o,r)}_resize(e,t){const{width:n,height:r}=this.element.maxSize;e=Math.min(n,e),t=Math.min(r,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=t-o+"px",this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,this._contentWidget.getPosition()?.preference[0]===2)}getLayoutInfo(){const e=this.editor.getOption(50),t=hS.qE(this.editor.getOption(121)||e.lineHeight,8,1000),n=this.editor.getOption(119).showStatusBar&&this._state!==2&&this._state!==1?t:0,r=this._details.widget.borderWidth,o=2*r;return{itemHeight:t,statusBarHeight:n,borderWidth:r,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ae.fg(430,n+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};bm=td=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Xh(1,Zr.CS),Xh(2,ye.fN),Xh(3,pi.Gy),Xh(4,Ke._Y)],bm);class rb{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:n,horizontalPadding:r}=this._widget.getLayoutInfo();return new ae.fg(t+2*n+r,e+2*n)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var vm,nd=function(e,t){return function(n,r){t(n,r,e)}};class ob{constructor(e,t){if(this._model=e,this._position=t,this._decorationOptions=Hn.kI.register({description:"suggest-line-suffix",stickiness:1}),e.getLineMaxColumn(t.lineNumber)!==t.column){const n=e.getOffsetAt(t),r=e.getPositionAt(n+1);e.changeDecorations((o)=>{this._marker&&o.removeDecoration(this._marker),this._marker=o.addDecoration(Nt.Q.fromPositions(t,r),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations((e)=>{e.removeDecoration(this._marker),this._marker=void 0})}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let Ws=class{static{vm=this}static{this.ID="editor.contrib.suggestController"}static get(e){return e.getContribution(vm.ID)}constructor(e,t,n,r,o,u,l){this._memoryService=t,this._commandService=n,this._contextKeyService=r,this._instantiationService=o,this._logService=u,this._telemetryService=l,this._lineSuffix=new ft.HE,this._toDispose=new ft.Cm,this._selectors=new sb((ue)=>ue.priority),this._onWillInsertSuggestItem=new Rt.vl,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=e,this.model=o.createInstance(Bh,this.editor),this._selectors.register({priority:0,select:(ue,we,Qe)=>this._memoryService.select(ue,we,Qe)});const A=Li.InsertMode.bindTo(r);A.set(e.getOption(119).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>A.set(e.getOption(119).insertMode))),this.widget=this._toDispose.add(new ae.Ij(ae.zk(e.getDomNode()),()=>{const ue=this._instantiationService.createInstance(bm,this.editor);this._toDispose.add(ue),this._toDispose.add(ue.onDidSelect((yt)=>this._insertSuggestion(yt,0),this));const we=new K_(this.editor,ue,this.model,(yt)=>this._insertSuggestion(yt,2));this._toDispose.add(we);const Qe=Li.MakesTextEdit.bindTo(this._contextKeyService),Me=Li.HasInsertAndReplaceRange.bindTo(this._contextKeyService),nt=Li.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(ft.s(()=>{Qe.reset(),Me.reset(),nt.reset()})),this._toDispose.add(ue.onDidFocus(({item:yt})=>{const It=this.editor.getPosition(),Dt=yt.editStart.column,cn=It.column;let Tn=!0;this.editor.getOption(1)!=="smart"||this.model.state!==2||yt.completion.additionalTextEdits||4&yt.completion.insertTextRules||cn-Dt!==yt.completion.insertText.length||(Tn=this.editor.getModel().getValueInRange({startLineNumber:It.lineNumber,startColumn:Dt,endLineNumber:It.lineNumber,endColumn:cn})!==yt.completion.insertText),Qe.set(Tn),Me.set(!Yn.y.equals(yt.editInsertEnd,yt.editReplaceEnd)),nt.set(Boolean(yt.provider.resolveCompletionItem)||Boolean(yt.completion.documentation)||yt.completion.detail!==yt.completion.label)})),this._toDispose.add(ue.onDetailsKeyDown((yt)=>{yt.toKeyCodeChord().equals(new H_.dG(!0,!1,!1,!1,33))||tn.zx&&yt.toKeyCodeChord().equals(new H_.dG(!1,!1,!1,!0,33))?yt.stopPropagation():yt.toKeyCodeChord().isModifierKey()||this.editor.focus()})),ue})),this._overtypingCapturer=this._toDispose.add(new ae.Ij(ae.zk(e.getDomNode()),()=>this._toDispose.add(new cm(this.editor,this.model)))),this._alternatives=this._toDispose.add(new ae.Ij(ae.zk(e.getDomNode()),()=>this._toDispose.add(new ed(this.editor,this._contextKeyService)))),this._toDispose.add(o.createInstance(Uh,e)),this._toDispose.add(this.model.onDidTrigger((ue)=>{this.widget.value.showTriggered(ue.auto,ue.shy?250:50),this._lineSuffix.value=new ob(this.editor.getModel(),ue.position)})),this._toDispose.add(this.model.onDidSuggest((ue)=>{if(ue.triggerOptions.shy)return;let we=-1;for(let Me of this._selectors.itemsOrderedByPriorityDesc)if(we=Me.select(this.editor.getModel(),this.editor.getPosition(),ue.completionModel.items),we!==-1)break;if(we===-1&&(we=0),this.model.state===0)return;let Qe=!1;if(ue.triggerOptions.auto){const Me=this.editor.getOption(119);Me.selectionMode==="never"||Me.selectionMode==="always"?Qe=Me.selectionMode==="never":Me.selectionMode==="whenTriggerCharacter"?Qe=ue.triggerOptions.triggerKind!==1:Me.selectionMode==="whenQuickSuggestion"&&(Qe=ue.triggerOptions.triggerKind===1&&!ue.triggerOptions.refilter)}this.widget.value.showSuggestions(ue.completionModel,we,ue.isFrozen,ue.triggerOptions.auto,Qe)})),this._toDispose.add(this.model.onDidCancel((ue)=>{ue.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const K=Li.AcceptSuggestionsOnEnter.bindTo(r),le=()=>{const ue=this.editor.getOption(1);K.set(ue==="on"||ue==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>le())),le()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(e,t){if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const n=Do.get(this.editor);if(!n)return;this._onWillInsertSuggestItem.fire({item:e.item});const r=this.editor.getModel(),o=r.getAlternativeVersionId(),{item:u}=e,l=[],A=new wn.Qi;1&t||this.editor.pushUndoStop();const K=this.getOverwriteInfo(u,Boolean(8&t));this._memoryService.memorize(r,this.editor.getPosition(),u);const le=u.isResolved;let ue=-1,we=-1;if(Array.isArray(u.completion.additionalTextEdits)){this.model.cancel();const Me=bs.D.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",u.completion.additionalTextEdits.map((nt)=>{let yt=Nt.Q.lift(nt.range);if(yt.startLineNumber===u.position.lineNumber&&yt.startColumn>u.position.column){const It=this.editor.getPosition().column-u.position.column,Dt=It,cn=Nt.Q.spansMultipleLines(yt)?0:It;yt=new Nt.Q(yt.startLineNumber,yt.startColumn+Dt,yt.endLineNumber,yt.endColumn+cn)}return Fr.k.replaceMove(yt,nt.text)})),Me.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!le){const Me=new Kr.W;let nt;const yt=r.onDidChangeContent((Tn)=>{if(Tn.isFlush)return A.cancel(),void yt.dispose();for(let On of Tn.changes){const Kn=Nt.Q.getEndPosition(On.range);nt&&!Yn.y.isBefore(Kn,nt)||(nt=Kn)}}),It=t;t|=2;let Dt=!1;const cn=this.editor.onWillType(()=>{cn.dispose(),Dt=!0,2&It||this.editor.pushUndoStop()});l.push(u.resolve(A.token).then(()=>{if(!u.completion.additionalTextEdits||A.token.isCancellationRequested)return;if(nt&&u.completion.additionalTextEdits.some((On)=>Yn.y.isBefore(nt,Nt.Q.getStartPosition(On.range))))return!1;Dt&&this.editor.pushUndoStop();const Tn=bs.D.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",u.completion.additionalTextEdits.map((On)=>Fr.k.replaceMove(Nt.Q.lift(On.range),On.text))),Tn.restoreRelativeVerticalPositionOfCursor(this.editor),!Dt&&2&It||this.editor.pushUndoStop(),!0}).then((Tn)=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Me.elapsed(),Tn),we=Tn===!0?1:Tn===!1?0:-2}).finally(()=>{yt.dispose(),cn.dispose()}))}let{insertText:Qe}=u.completion;if(4&u.completion.insertTextRules||(Qe=N.escape(Qe)),this.model.cancel(),n.insert(Qe,{overwriteBefore:K.overwriteBefore,overwriteAfter:K.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&u.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),u.completion.command)if(u.completion.command.id===Hh.id)this.model.trigger({auto:!0,retrigger:!0});else{const Me=new Kr.W;l.push(this._commandService.executeCommand(u.completion.command.id,...u.completion.command.arguments?[...u.completion.command.arguments]:[]).catch((nt)=>{u.completion.extensionId?ii.M_(nt):ii.dz(nt)}).finally(()=>{ue=Me.elapsed()}))}4&t&&this._alternatives.value.set(e,(Me)=>{for(A.cancel();r.canUndo();){o!==r.getAlternativeVersionId()&&r.undo(),this._insertSuggestion(Me,3|(8&t?8:0));break}}),this._alertCompletionItem(u),Promise.all(l).finally(()=>{this._reportSuggestionAcceptedTelemetry(u,r,le,ue,we,e.index,e.model.items),this.model.clear(),A.dispose()})}_reportSuggestionAcceptedTelemetry(e,t,n,r,o,u,l){if(Math.floor(100*Math.random())===0)return;const A=new Map;for(let ue=0;ue<Math.min(30,l.length);ue++){const we=l[ue].textLabel;A.has(we)?A.get(we).push(ue):A.set(we,[ue])}const K=A.get(e.textLabel),le=K&&K.length>1?K[0]:-1;this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:e.extensionId?.value??"unknown",providerId:e.provider._debugDisplayName??"unknown",kind:e.completion.kind,basenameHash:e_.tW(bn.P8(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:bn.LC(t.uri),resolveInfo:e.provider.resolveCompletionItem?n?1:0:-1,resolveDuration:e.resolveDuration,commandDuration:r,additionalEditsAsync:o,index:u,firstIndex:le})}getOverwriteInfo(e,t){yn.j(this.editor.hasModel());let n=this.editor.getOption(119).insertMode==="replace";t&&(n=!n);const r=e.position.column-e.editStart.column,o=(n?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:r+(this.editor.getPosition().column-e.position.column),overwriteAfter:o+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(e){if(mn.EI(e.completion.additionalTextEdits)){const t=oe.kg("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);si.xE(t)}}triggerSuggest(e,t,n){this.editor.hasModel()&&(this.model.trigger({auto:t??!1,completionOptions:{providerFilter:e,kindFilter:n?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),n=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},r=(o)=>{if(4&o.completion.insertTextRules||o.completion.additionalTextEdits)return!0;const u=this.editor.getPosition(),l=o.editStart.column,A=u.column;return A-l!==o.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:u.lineNumber,startColumn:l,endLineNumber:u.lineNumber,endColumn:A})!==o.completion.insertText};Rt.Jh.once(this.model.onDidTrigger)((o)=>{const u=[];Rt.Jh.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{ft.AS(u),n()},void 0,u),this.model.onDidSuggest(({completionModel:l})=>{if(ft.AS(u),l.items.length===0)return void n();const A=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),l.items),K=l.items[A];r(K)?(this.editor.pushUndoStop(),this._insertSuggestion({index:A,item:K,model:l},7)):n()},void 0,u)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const n=this.widget.value.getFocusedItem();let r=0;e&&(r|=4),t&&(r|=8),this._insertSuggestion(n,r)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};Ws=vm=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([nd(1,Zh),nd(2,En.d),nd(3,ye.fN),nd(4,Ke._Y),nd(5,fc.rr),nd(6,xr.k)],Ws);class sb{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,n)=>this.prioritySelector(n)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Hh extends O.ks{static{this.id="editor.action.triggerSuggest"}constructor(){super({id:Hh.id,label:oe.kg("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:ye.M$.and(Fe.R.writable,Fe.R.hasCompletionItemProvider,Li.Visible.toNegated()),kbOpts:{kbExpr:Fe.R.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,n){const r=Ws.get(t);if(!r)return;let o;n&&typeof n=="object"&&n.auto===!0&&(o=!0),r.triggerSuggest(void 0,o,void 0)}}O.HW(Ws.ID,Ws,2),O.Fl(Hh);const hs=190,Mo=O.DX.bindToContribution(Ws.get);O.E_(new Mo({id:"acceptSelectedSuggestion",precondition:ye.M$.and(Li.Visible,Li.HasFocusedSuggestion),handler(e){e.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:ye.M$.and(Li.Visible,Fe.R.textInputFocus),weight:hs},{primary:3,kbExpr:ye.M$.and(Li.Visible,Fe.R.textInputFocus,Li.AcceptSuggestionsOnEnter,Li.MakesTextEdit),weight:hs}],menuOpts:[{menuId:Tl,title:oe.kg("accept.insert","Insert"),group:"left",order:1,when:Li.HasInsertAndReplaceRange.toNegated()},{menuId:Tl,title:oe.kg("accept.insert","Insert"),group:"left",order:1,when:ye.M$.and(Li.HasInsertAndReplaceRange,Li.InsertMode.isEqualTo("insert"))},{menuId:Tl,title:oe.kg("accept.replace","Replace"),group:"left",order:1,when:ye.M$.and(Li.HasInsertAndReplaceRange,Li.InsertMode.isEqualTo("replace"))}]})),O.E_(new Mo({id:"acceptAlternativeSelectedSuggestion",precondition:ye.M$.and(Li.Visible,Fe.R.textInputFocus,Li.HasFocusedSuggestion),kbOpts:{weight:hs,kbExpr:Fe.R.textInputFocus,primary:1027,secondary:[1026]},handler(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Tl,group:"left",order:2,when:ye.M$.and(Li.HasInsertAndReplaceRange,Li.InsertMode.isEqualTo("insert")),title:oe.kg("accept.replace","Replace")},{menuId:Tl,group:"left",order:2,when:ye.M$.and(Li.HasInsertAndReplaceRange,Li.InsertMode.isEqualTo("replace")),title:oe.kg("accept.insert","Insert")}]})),En.w.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),O.E_(new Mo({id:"hideSuggestWidget",precondition:Li.Visible,handler:(e)=>e.cancelSuggestWidget(),kbOpts:{weight:hs,kbExpr:Fe.R.textInputFocus,primary:9,secondary:[1033]}})),O.E_(new Mo({id:"selectNextSuggestion",precondition:ye.M$.and(Li.Visible,ye.M$.or(Li.MultipleSuggestions,Li.HasFocusedSuggestion.negate())),handler:(e)=>e.selectNextSuggestion(),kbOpts:{weight:hs,kbExpr:Fe.R.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),O.E_(new Mo({id:"selectNextPageSuggestion",precondition:ye.M$.and(Li.Visible,ye.M$.or(Li.MultipleSuggestions,Li.HasFocusedSuggestion.negate())),handler:(e)=>e.selectNextPageSuggestion(),kbOpts:{weight:hs,kbExpr:Fe.R.textInputFocus,primary:12,secondary:[2060]}})),O.E_(new Mo({id:"selectLastSuggestion",precondition:ye.M$.and(Li.Visible,ye.M$.or(Li.MultipleSuggestions,Li.HasFocusedSuggestion.negate())),handler:(e)=>e.selectLastSuggestion()})),O.E_(new Mo({id:"selectPrevSuggestion",precondition:ye.M$.and(Li.Visible,ye.M$.or(Li.MultipleSuggestions,Li.HasFocusedSuggestion.negate())),handler:(e)=>e.selectPrevSuggestion(),kbOpts:{weight:hs,kbExpr:Fe.R.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),O.E_(new Mo({id:"selectPrevPageSuggestion",precondition:ye.M$.and(Li.Visible,ye.M$.or(Li.MultipleSuggestions,Li.HasFocusedSuggestion.negate())),handler:(e)=>e.selectPrevPageSuggestion(),kbOpts:{weight:hs,kbExpr:Fe.R.textInputFocus,primary:11,secondary:[2059]}})),O.E_(new Mo({id:"selectFirstSuggestion",precondition:ye.M$.and(Li.Visible,ye.M$.or(Li.MultipleSuggestions,Li.HasFocusedSuggestion.negate())),handler:(e)=>e.selectFirstSuggestion()})),O.E_(new Mo({id:"focusSuggestion",precondition:ye.M$.and(Li.Visible,Li.HasFocusedSuggestion.negate()),handler:(e)=>e.focusSuggestion(),kbOpts:{weight:hs,kbExpr:Fe.R.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),O.E_(new Mo({id:"focusAndAcceptSuggestion",precondition:ye.M$.and(Li.Visible,Li.HasFocusedSuggestion.negate()),handler:(e)=>{e.focusSuggestion(),e.acceptSelectedSuggestion(!0,!1)}})),O.E_(new Mo({id:"toggleSuggestionDetails",precondition:ye.M$.and(Li.Visible,Li.HasFocusedSuggestion),handler:(e)=>e.toggleSuggestionDetails(),kbOpts:{weight:hs,kbExpr:Fe.R.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Tl,group:"right",order:1,when:ye.M$.and(Li.DetailsVisible,Li.CanResolve),title:oe.kg("detail.more","Show Less")},{menuId:Tl,group:"right",order:1,when:ye.M$.and(Li.DetailsVisible.toNegated(),Li.CanResolve),title:oe.kg("detail.less","Show More")}]})),O.E_(new Mo({id:"toggleExplainMode",precondition:Li.Visible,handler:(e)=>e.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),O.E_(new Mo({id:"toggleSuggestionFocus",precondition:Li.Visible,handler:(e)=>e.toggleSuggestionFocus(),kbOpts:{weight:hs,kbExpr:Fe.R.textInputFocus,primary:2570,mac:{primary:778}}})),O.E_(new Mo({id:"insertBestCompletion",precondition:ye.M$.and(Fe.R.textInputFocus,ye.M$.equals("config.editor.tabCompletion","on"),Uh.AtEnd,Li.Visible.toNegated(),ed.OtherSuggestions.toNegated(),Do.InSnippetMode.toNegated()),handler:(e,t)=>{e.triggerSuggestAndAcceptBest(yn.Gv(t)?{fallback:"tab",...t}:{fallback:"tab"})},kbOpts:{weight:hs,primary:2}})),O.E_(new Mo({id:"insertNextSuggestion",precondition:ye.M$.and(Fe.R.textInputFocus,ye.M$.equals("config.editor.tabCompletion","on"),ed.OtherSuggestions,Li.Visible.toNegated(),Do.InSnippetMode.toNegated()),handler:(e)=>e.acceptNextSuggestion(),kbOpts:{weight:hs,kbExpr:Fe.R.textInputFocus,primary:2}})),O.E_(new Mo({id:"insertPrevSuggestion",precondition:ye.M$.and(Fe.R.textInputFocus,ye.M$.equals("config.editor.tabCompletion","on"),ed.OtherSuggestions,Li.Visible.toNegated(),Do.InSnippetMode.toNegated()),handler:(e)=>e.acceptPrevSuggestion(),kbOpts:{weight:hs,kbExpr:Fe.R.textInputFocus,primary:1026}})),O.Fl(class extends O.ks{constructor(){super({id:"editor.action.resetSuggestSize",label:oe.kg("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(e,t){Ws.get(t)?.resetWidgetSize()}});class ab extends ft.jG{get selectedItem(){return this._currentSuggestItemInfo}constructor(e,t,n){super(),this.editor=e,this.suggestControllerPreselector=t,this.onWillAccept=n,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._onDidSelectedItemChange=this._register(new Rt.vl),this.onDidSelectedItemChange=this._onDidSelectedItemChange.event,this._register(e.onKeyDown((o)=>{o.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp((o)=>{o.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const r=Ws.get(this.editor);if(r){this._register(r.registerSelector({priority:100,select:(l,A,K)=>{const le=this.editor.getModel();if(!le)return-1;const ue=this.suggestControllerPreselector(),we=ue?hc(ue,le):void 0;if(!we)return-1;const Qe=Yn.y.lift(A),Me=K.map((yt,It)=>{const Dt=hc(ou.fromSuggestion(r,le,Qe,yt,this.isShiftKeyPressed).toSingleTextEdit(),le);return{index:It,valid:M_(we,Dt),prefixLength:Dt.text.length,suggestItem:yt}}).filter((yt)=>yt&&yt.valid&&yt.prefixLength>0),nt=Ud.Cn(Me,mn.VE((yt)=>yt.prefixLength,mn.U9));return nt?nt.index:-1}}));let o=!1;const u=()=>{o||(o=!0,this._register(r.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(r.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(r.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(Rt.Jh.once(r.model.onDidTrigger)((l)=>{u()})),this._register(r.onWillInsertSuggestItem((l)=>{const A=this.editor.getPosition(),K=this.editor.getModel();if(!A||!K)return;const le=ou.fromSuggestion(r,K,A,l.item,this.isShiftKeyPressed);this.onWillAccept(le)}))}this.update(this._isActive)}update(e){const t=this.getSuggestItemInfo();var n,r;this._isActive===e&&((n=this._currentSuggestItemInfo)===(r=t)||n&&r&&n.equals(r))||(this._isActive=e,this._currentSuggestItemInfo=t,this._onDidSelectedItemChange.fire())}getSuggestItemInfo(){const e=Ws.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem(),n=this.editor.getPosition(),r=this.editor.getModel();return t&&n&&r?ou.fromSuggestion(e,r,n,t.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){Ws.get(this.editor)?.stopForceRenderingAbove()}forceRenderingAbove(){Ws.get(this.editor)?.forceRenderingAbove()}}class ou{static fromSuggestion(e,t,n,r,o){let{insertText:u}=r.completion,l=!1;if(4&r.completion.insertTextRules){const K=new N().parse(u);K.children.length<100&&Qh.adjustWhitespace(t,n,!0,K),u=K.toString(),l=!0}const A=e.getOverwriteInfo(r,o);return new ou(Nt.Q.fromPositions(n.delta(0,-A.overwriteBefore),n.delta(0,Math.max(A.overwriteAfter,0))),u,r.completion.kind,l)}constructor(e,t,n,r){this.range=e,this.insertText=t,this.completionItemKind=n,this.isSnippetText=r}equals(e){return this.range.equalsRange(e.range)&&this.insertText===e.insertText&&this.completionItemKind===e.completionItemKind&&this.isSnippetText===e.isSnippetText}toSelectedSuggestionInfo(){return new Pt.GE(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new ea.WR(this.range,this.insertText)}}var ym,Ya=function(e,t){return function(n,r){t(n,r,e)}};let Es=class extends ft.jG{static{ym=this}static{this.ID="editor.contrib.inlineCompletionsController"}static get(e){return e.getContribution(ym.ID)}constructor(e,t,n,r,o,u,l,A,K,le){super(),this.editor=e,this._instantiationService=t,this._contextKeyService=n,this._configurationService=r,this._commandService=o,this._debounceService=u,this._languageFeaturesService=l,this._accessibilitySignalService=A,this._keybindingService=K,this._accessibilityService=le,this._editorObs=Cs.Ud(this.editor),this._positions=Rn.un(this,(we)=>this._editorObs.selections.read(we)?.map((Qe)=>Qe.getEndPosition())??[new Yn.y(1,1)]),this._suggestWidgetAdaptor=this._register(new ab(this.editor,()=>(this._editorObs.forceUpdate(),this.model.get()?.selectedInlineCompletion.get()?.toSingleTextEdit(void 0)),(we)=>this._editorObs.forceUpdate((Qe)=>{this.model.get()?.handleSuggestAccepted(we)}))),this._suggestWidgetSelectedItem=Rn.y0(this,(we)=>this._suggestWidgetAdaptor.onDidSelectedItemChange(()=>{this._editorObs.forceUpdate((Qe)=>we(void 0))}),()=>this._suggestWidgetAdaptor.selectedItem),this._enabledInConfig=Rn.y0(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._isScreenReaderEnabled=Rn.y0(this,this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this._editorDictationInProgress=Rn.y0(this,this._contextKeyService.onDidChangeContext,()=>this._contextKeyService.getContext(this.editor.getDomNode()).getValue("editorDictation.inProgress")===!0),this._enabled=Rn.un(this,(we)=>this._enabledInConfig.read(we)&&(!this._isScreenReaderEnabled.read(we)||!this._editorDictationInProgress.read(we))),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this.model=cs.a0(this,(we)=>{if(this._editorObs.isReadonly.read(we))return;const Qe=this._editorObs.model.read(we);return Qe?this._instantiationService.createInstance(nm,Qe,this._suggestWidgetSelectedItem,this._editorObs.versionId,this._positions,this._debounceValue,Rn.y0(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(119).preview),Rn.y0(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(119).previewMode),Rn.y0(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).mode),this._enabled):void 0}).recomputeInitiallyAndOnChange(this._store),this._ghostTexts=Rn.un(this,(we)=>{return this.model.read(we)?.ghostTexts.read(we)??[]}),this._stablizedGhostTexts=function(we,Qe){const Me=Rn.FY("result",[]),nt=[];return Qe.add(Rn.fm((yt)=>{const It=we.read(yt);Rn.Rn((Dt)=>{if(It.length!==nt.length){nt.length=It.length;for(let cn=0;cn<nt.length;cn++)nt[cn]||(nt[cn]=Rn.FY("item",It[cn]));Me.set([...nt],Dt)}nt.forEach((cn,Tn)=>cn.set(It[Tn],Dt))})})),Me}(this._ghostTexts,this._store),this._ghostTextWidgets=b_.Rl(this,this._stablizedGhostTexts,(we,Qe)=>Qe.add(this._instantiationService.createInstance(Zf,this.editor,{ghostText:we,minReservedLineCount:Rn.lk(0),targetTextModel:this.model.map((Me)=>Me?.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._playAccessibilitySignal=Rn.Yd(this),this._fontFamily=Rn.y0(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._register(new No(this._contextKeyService,this.model)),this._register(Cs.jD(this._editorObs.onDidType,(we,Qe)=>{this._enabled.get()&&this.model.get()?.trigger()})),this._register(this._commandService.onDidExecuteCommand((we)=>{new Set([We.Yh.Tab.id,We.Yh.DeleteLeft.id,We.Yh.DeleteRight.id,kd,"acceptSelectedSuggestion"]).has(we.commandId)&&e.hasTextFocus()&&this._enabled.get()&&this._editorObs.forceUpdate((Qe)=>{this.model.get()?.trigger(Qe)})})),this._register(Cs.jD(this._editorObs.selections,(we,Qe)=>{Qe.some((Me)=>Me.reason===3||Me.source==="api")&&this.model.get()?.stop()})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||e.getOption(62).keepOnBlur||za.dropDownVisible||Rn.Rn((we)=>{this.model.get()?.stop(we)})})),this._register(Rn.fm((we)=>{const Qe=this.model.read(we)?.state.read(we);Qe?.suggestItem?Qe.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register(ft.s(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));const ue=b_.ZX(this,(we,Qe)=>{const Me=this.model.read(we),nt=Me?.state.read(we);return this._suggestWidgetSelectedItem.get()?Qe:nt?.inlineCompletion?.semanticId});this._register(Cs.Qg(Rn.un((we)=>(this._playAccessibilitySignal.read(we),ue.read(we),{})),async(we,Qe,Me)=>{const nt=this.model.get(),yt=nt?.state.get();if(!yt||!nt)return;const It=nt.textModel.getLineContent(yt.primaryGhostText.lineNumber);await un.wR(50,wn.bs(Me)),await Rn.oJ(this._suggestWidgetSelectedItem,yn.b0,()=>!1,wn.bs(Me)),await this._accessibilitySignalService.playSignal(Th.Rh.inlineSuggestion),this.editor.getOption(8)&&this._provideScreenReaderUpdate(yt.primaryGhostText.renderForScreenReader(It))})),this._register(new Gl(this.editor,this.model,this._instantiationService)),this._register(function(we){const Qe=new ft.Cm,Me=Qe.add(ae.jh());return Qe.add(Rn.fm((nt)=>{Me.setStyle(we.read(nt))})),Qe}(Rn.un((we)=>{const Qe=this._fontFamily.read(we);return Qe===""||Qe==="default"?"":`\n.monaco-editor .ghost-text-decoration,\n.monaco-editor .ghost-text-decoration-preview,\n.monaco-editor .ghost-text {\n\tfont-family: ${Qe};\n}`}))),this._register(this._configurationService.onDidChangeConfiguration((we)=>{we.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(e){this._playAccessibilitySignal.trigger(e)}_provideScreenReaderUpdate(e){const t=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),n=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let r;!t&&n&&this.editor.getOption(150)&&(r=oe.kg("showAccessibleViewHint","Inspect this in the accessible view ({0})",n.getAriaLabel())),si.xE(r?e+", "+r:e)}shouldShowHoverAt(e){const t=this.model.get()?.primaryGhostText.get();return!!t&&t.parts.some((n)=>e.containsPosition(new Yn.y(t.lineNumber,n.column)))}shouldShowHoverAtViewZone(e){return this._ghostTextWidgets.get()[0]?.ownsViewZone(e)??!1}};Es=ym=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Ya(1,Ke._Y),Ya(2,ye.fN),Ya(3,lt.pG),Ya(4,En.d),Ya(5,Eo.ILanguageFeatureDebounceService),Ya(6,Wt.ILanguageFeaturesService),Ya(7,Th.Nt),Ya(8,ui.b),Ya(9,fa.j)],Es);class Sm extends O.ks{static{this.ID=Zu}constructor(){super({id:Sm.ID,label:oe.kg("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:ye.M$.and(Fe.R.writable,No.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}async run(e,t){Es.get(t)?.model.get()?.next()}}class wm extends O.ks{static{this.ID=$u}constructor(){super({id:wm.ID,label:oe.kg("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:ye.M$.and(Fe.R.writable,No.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}async run(e,t){Es.get(t)?.model.get()?.previous()}}class lb extends O.ks{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:oe.kg("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:Fe.R.writable})}async run(e,t){const n=Es.get(t);await __.fL(async(r)=>{await n?.model.get()?.triggerExplicitly(r),n?.playAccessibilitySignal(r)})}}class cb extends O.ks{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:oe.kg("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:ye.M$.and(Fe.R.writable,No.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:ye.M$.and(Fe.R.writable,No.inlineSuggestionVisible)},menuOpts:[{menuId:rt.D8.InlineSuggestionToolbar,title:oe.kg("acceptWord","Accept Word"),group:"primary",order:2}]})}async run(e,t){const n=Es.get(t);await n?.model.get()?.acceptNextWord(n.editor)}}class db extends O.ks{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:oe.kg("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:ye.M$.and(Fe.R.writable,No.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:rt.D8.InlineSuggestionToolbar,title:oe.kg("acceptLine","Accept Line"),group:"secondary",order:2}]})}async run(e,t){const n=Es.get(t);await n?.model.get()?.acceptNextLine(n.editor)}}class ub extends O.ks{constructor(){super({id:kd,label:oe.kg("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:No.inlineSuggestionVisible,menuOpts:[{menuId:rt.D8.InlineSuggestionToolbar,title:oe.kg("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:ye.M$.and(No.inlineSuggestionVisible,Fe.R.tabMovesFocus.toNegated(),No.inlineSuggestionHasIndentationLessThanTabSize,Li.Visible.toNegated(),Fe.R.hoverFocused.toNegated())}})}async run(e,t){const n=Es.get(t);n&&(n.model.get()?.accept(n.editor),n.editor.focus())}}class xm extends O.ks{static{this.ID="editor.action.inlineSuggest.hide"}constructor(){super({id:xm.ID,label:oe.kg("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:No.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}async run(e,t){const n=Es.get(t);Rn.Rn((r)=>{n?.model.get()?.stop(r)})}}class Cm extends rt.L{static{this.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}constructor(){super({id:Cm.ID,title:oe.kg("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:rt.D8.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:ye.M$.equals("config.editor.inlineSuggest.showToolbar","always")})}async run(e,t){const n=e.get(lt.pG),r=n.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";n.updateValue("editor.inlineSuggest.showToolbar",r)}}var su=function(e,t){return function(n,r){t(n,r,e)}};class hb{constructor(e,t,n){this.owner=e,this.range=t,this.controller=n}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let Em=class{constructor(e,t,n,r,o,u){this._editor=e,this._languageService=t,this._openerService=n,this.accessibilityService=r,this._instantiationService=o,this._telemetryService=u,this.hoverOrdinal=4}suggestHoverAnchor(e){const t=Es.get(this._editor);if(!t)return null;const n=e.target;if(n.type===8){const r=n.detail;if(t.shouldShowHoverAtViewZone(r.viewZoneId))return new sr(1000,this,Nt.Q.fromPositions(this._editor.getModel().validatePosition(r.positionBefore||r.position)),e.event.posx,e.event.posy,!1)}return n.type===7&&t.shouldShowHoverAt(n.range)||n.type===6&&n.detail.mightBeForeignElement&&t.shouldShowHoverAt(n.range)?new sr(1000,this,n.range,e.event.posx,e.event.posy,!1):null}computeSync(e,t){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const n=Es.get(this._editor);return n&&n.shouldShowHoverAt(e.range)?[new hb(this,e.range,n)]:[]}renderHoverParts(e,t){const n=new ft.Cm,r=t[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&n.add(this.renderScreenReaderText(e,r));const o=r.controller.model.get(),u=this._instantiationService.createInstance(za,this._editor,!1,Rn.lk(null),o.selectedInlineCompletionIndex,o.inlineCompletionsCount,o.activeCommands),l=u.getDomNode();return e.fragment.appendChild(l),o.triggerExplicitly(),n.add(u),new Si([{hoverPart:r,hoverElement:l,dispose(){n.dispose()}}])}renderScreenReaderText(e,t){const n=new ft.Cm,r=ae.$,o=r("div.hover-row.markdown-hover"),u=ae.BC(o,r("div.hover-contents",{"aria-live":"assertive"})),l=n.add(new en.T({editor:this._editor},this._languageService,this._openerService));return n.add(Rn.fm((A)=>{const K=t.controller.model.read(A)?.primaryGhostText.read(A);if(K){const le=this._editor.getModel().getLineContent(K.lineNumber);((ue)=>{n.add(l.onDidRenderAsync(()=>{u.className="hover-contents code-hover-contents",e.onContentsChanged()}));const we=oe.kg("inlineSuggestionFollows","Suggestion:"),Qe=n.add(l.render(new ti.Bc().appendText(we).appendCodeblock("text",ue)));u.replaceChildren(Qe.element)})(K.renderForScreenReader(le))}else ae.Ln(u)})),e.fragment.appendChild(o),n}};Em=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([su(1,Ss.L),su(2,hn.C),su(3,fa.j),su(4,Ke._Y),su(5,xr.k)],Em);const Yh=new class{constructor(){this._implementations=[]}register(e){return this._implementations.push(e),{dispose:()=>{const t=this._implementations.indexOf(e);t!==-1&&this._implementations.splice(t,1)}}}getImplementations(){return this._implementations}};O.HW(Es.ID,Es,3),O.Fl(lb),O.Fl(Sm),O.Fl(wm),O.Fl(cb),O.Fl(db),O.Fl(ub),O.Fl(xm),rt.ug(Cm),cr.register(Em),Yh.register(new class{});var au,Jm=function(e,t){return function(n,r){t(n,r,e)}};let lu=class{static{au=this}static{this.ID="editor.contrib.gotodefinitionatposition"}static{this.MAX_SOURCE_PREVIEW_LINES=8}constructor(e,t,n,r){this.textModelResolverService=t,this.languageService=n,this.languageFeaturesService=r,this.toUnhook=new ft.Cm,this.toUnhookForKeyboard=new ft.Cm,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const o=new ec(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown(([u,l])=>{this.startFindDefinitionFromMouse(u,l??void 0)})),this.toUnhook.add(o.onExecute((u)=>{this.isEnabled(u)&&this.gotoDefinition(u.target.position,u.hasSideBySideModifier).catch((l)=>{ii.dz(l)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(o.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(au.ID)}async startFindDefinitionFromCursor(e){await this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown((t)=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();const n=e.target.position;this.startFindDefinition(n)}async startFindDefinition(e){this.toUnhookForKeyboard.clear();const t=e?this.editor.getModel()?.getWordAtPosition(e):null;if(!t)return this.currentWordAtPosition=null,void this.removeLinkDecorations();if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===t.startColumn&&this.currentWordAtPosition.endColumn===t.endColumn&&this.currentWordAtPosition.word===t.word)return;this.currentWordAtPosition=t;const n=new _e.$t(this.editor,15);let r;this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=un.SS((u)=>this.findDefinition(e,u));try{r=await this.previousPromise}catch(u){return void ii.dz(u)}if(!r||!r.length||!n.validate(this.editor))return void this.removeLinkDecorations();const o=r[0].originSelectionRange?Nt.Q.lift(r[0].originSelectionRange):new Nt.Q(e.lineNumber,t.startColumn,e.lineNumber,t.endColumn);if(r.length>1){let u=o;for(let{originSelectionRange:l}of r)l&&(u=Nt.Q.plusRange(u,l));this.addDecoration(u,new ti.Bc().appendText(oe.kg("multipleResults","Click to show {0} definitions.",r.length)))}else{const u=r[0];if(!u.uri)return;this.textModelResolverService.createModelReference(u.uri).then((l)=>{if(!l.object||!l.object.textEditorModel)return void l.dispose();const{object:{textEditorModel:A}}=l,{startLineNumber:K}=u.range;if(K<1||K>A.getLineCount())return void l.dispose();const le=this.getPreviewValue(A,K,u),ue=this.languageService.guessLanguageIdByFilepathOrFirstLine(A.uri);this.addDecoration(o,le?new ti.Bc().appendCodeblock(ue||"",le):void 0),l.dispose()})}}getPreviewValue(e,t,n){let r=n.range;return r.endLineNumber-r.startLineNumber>=au.MAX_SOURCE_PREVIEW_LINES&&(r=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,r)}stripIndentationFromPreviewRange(e,t,n){let r=e.getLineFirstNonWhitespaceColumn(t);for(let o=t+1;o<n.endLineNumber;o++){const u=e.getLineFirstNonWhitespaceColumn(o);r=Math.min(r,u)}return e.getValueInRange(n).replace(new RegExp(`^\\s{${r-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const n=e.getLineFirstNonWhitespaceColumn(t),r=Math.min(e.getLineCount(),t+au.MAX_SOURCE_PREVIEW_LINES);let o=t+1;for(;o<r&&n!==e.getLineFirstNonWhitespaceColumn(o);o++);return new Nt.Q(t,1,o+1,1)}addDecoration(e,t){const n={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([n])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===6&&!(e.target.detail.injectedText?.options instanceof Hn.Ho)&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const n=this.editor.getModel();return n?Wd(this.languageFeaturesService.definitionProvider,n,e,!1,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext((n)=>{const r=!t&&this.editor.getOption(89)&&!this.isInPeekEditor(n);return new Qc({openToSide:t,openInPeek:r,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(n)})}isInPeekEditor(e){const t=e.get(ye.fN);return Qt.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};lu=au=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Jm(1,$r.ITextModelService),Jm(2,Ss.L),Jm(3,Wt.ILanguageFeaturesService)],lu),O.HW(lu.ID,lu,2);var pb=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},jh=function(e,t){return function(n,r){t(n,r,e)}};class km{constructor(e,t,n){this.marker=e,this.index=t,this.total=n}}let Tm=class{constructor(e,t,n){this._markerService=t,this._configService=n,this._onDidChange=new Rt.vl,this.onDidChange=this._onDidChange.event,this._dispoables=new ft.Cm,this._markers=[],this._nextIdx=-1,ht.r.isUri(e)?this._resourceFilter=(l)=>l.toString()===e.toString():e&&(this._resourceFilter=e);const r=this._configService.getValue("problems.sortOrder"),o=(l,A)=>{let K=Ne.UD(l.resource.toString(),A.resource.toString());return K===0&&(K=r==="position"?Nt.Q.compareRangesUsingStarts(l,A)||kr.cj.compare(l.severity,A.severity):kr.cj.compare(l.severity,A.severity)||Nt.Q.compareRangesUsingStarts(l,A)),K},u=()=>{this._markers=this._markerService.read({resource:ht.r.isUri(e)?e:void 0,severities:kr.cj.Error|kr.cj.Warning|kr.cj.Info}),typeof e=="function"&&(this._markers=this._markers.filter((l)=>this._resourceFilter(l.resource))),this._markers.sort(o)};u(),this._dispoables.add(t.onMarkerChanged((l)=>{this._resourceFilter&&!l.some((A)=>this._resourceFilter(A))||(u(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new km(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,n){let r=!1,o=this._markers.findIndex((u)=>u.resource.toString()===e.uri.toString());o<0&&(o=mn.El(this._markers,{resource:e.uri},(u,l)=>Ne.UD(u.resource.toString(),l.resource.toString())),o<0&&(o=~o));for(let u=o;u<this._markers.length;u++){let l=Nt.Q.lift(this._markers[u]);if(l.isEmpty()){const A=e.getWordAtPosition(l.getStartPosition());A&&(l=new Nt.Q(l.startLineNumber,A.startColumn,l.startLineNumber,A.endColumn))}if(t&&(l.containsPosition(t)||t.isBeforeOrEqual(l.getStartPosition()))){this._nextIdx=u,r=!0;break}if(this._markers[u].resource.toString()!==e.uri.toString())break}r||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,n){if(this._markers.length===0)return!1;const r=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,n,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx}find(e,t){let n=this._markers.findIndex((r)=>r.resource.toString()===e.toString());if(!(n<0)){for(;n<this._markers.length;n++)if(Nt.Q.containsPosition(this._markers[n],t))return new km(this._markers[n],n+1,this._markers.length)}}};Tm=pb([jh(1,kr.DR),jh(2,lt.pG)],Tm);const fb=Ke.u1("IMarkerNavigationService");let Am=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new eb.w}getMarkerList(e){for(let t of this._provider){const n=t.getMarkerList(e);if(n)return n}return new Tm(e,this._markerService,this._configService)}};Am=pb([jh(0,kr.DR),jh(1,lt.pG)],Am),ho.v(fb,Am,1);var Nm,qh=ct(6459);(Nm||(Nm={})).className=function(e){switch(e){case qh.A.Ignore:return"severity-ignore "+Oe.L.asClassName(be.W.info);case qh.A.Info:return Oe.L.asClassName(be.W.info);case qh.A.Warning:return Oe.L.asClassName(be.W.warning);case qh.A.Error:return Oe.L.asClassName(be.W.error);default:return""}};var Im,id=function(e,t){return function(n,r){t(n,r,e)}};class mb{constructor(e,t,n,r,o){this._openerService=r,this._labelService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new ft.Cm,this._editor=t;const u=document.createElement("div");u.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),u.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),u.appendChild(this._relatedBlock),this._disposables.add(ae.b2(this._relatedBlock,"click",(l)=>{l.preventDefault();const A=this._relatedDiagnostics.get(l.target);A&&n(A)})),this._scrollable=new hm.Se(u,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((l)=>{u.style.left=`-${l.scrollLeft}px`,u.style.top=`-${l.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){ft.AS(this._disposables)}update(e){const{source:t,message:n,relatedInformation:r,code:o}=e;let u=(t?.length||0)+2;o&&(u+=typeof o=="string"?o.length:o.value.length);const l=Ne.uz(n);this._lines=l.length,this._longestLineLength=0;for(let we of l)this._longestLineLength=Math.max(we.length+u,this._longestLineLength);ae.w_(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let A=this._messageBlock;for(let we of l)A=document.createElement("div"),A.innerText=we,we===""&&(A.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(A);if(t||o){const we=document.createElement("span");if(we.classList.add("details"),A.appendChild(we),t){const Qe=document.createElement("span");Qe.innerText=t,Qe.classList.add("source"),we.appendChild(Qe)}if(o)if(typeof o=="string"){const Qe=document.createElement("span");Qe.innerText=`(${o})`,Qe.classList.add("code"),we.appendChild(Qe)}else this._codeLink=ae.$("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=(Qe)=>{this._openerService.open(o.target,{allowCommands:!0}),Qe.preventDefault(),Qe.stopPropagation()},ae.BC(this._codeLink,ae.$("span")).innerText=o.value,we.appendChild(this._codeLink)}if(ae.w_(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),mn.EI(r)){const we=this._relatedBlock.appendChild(document.createElement("div"));we.style.paddingTop=`${Math.floor(0.66*this._editor.getOption(67))}px`,this._lines+=1;for(let Qe of r){const Me=document.createElement("div"),nt=document.createElement("a");nt.classList.add("filename"),nt.innerText=`${this._labelService.getUriBasenameLabel(Qe.resource)}(${Qe.startLineNumber}, ${Qe.startColumn}): `,nt.title=this._labelService.getUriLabel(Qe.resource),this._relatedDiagnostics.set(nt,Qe);const yt=document.createElement("span");yt.innerText=Qe.message,Me.appendChild(nt),Me.appendChild(yt),this._lines+=1,we.appendChild(Me)}}const K=this._editor.getOption(50),le=Math.ceil(K.typicalFullwidthCharacterWidth*this._longestLineLength*0.75),ue=K.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:le,scrollHeight:ue})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case kr.cj.Error:t=oe.kg("Error","Error");break;case kr.cj.Warning:t=oe.kg("Warning","Warning");break;case kr.cj.Info:t=oe.kg("Info","Info");break;case kr.cj.Hint:t=oe.kg("Hint","Hint")}let n=oe.kg("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const r=this._editor.getModel();return r&&e.startLineNumber<=r.getLineCount()&&e.startLineNumber>=1&&(n=`${r.getLineContent(e.startLineNumber)}, ${n}`),n}}let cu=class extends bi{static{Im=this}static{this.TitleMenu=new rt.D8("gotoErrorTitleMenu")}constructor(e,t,n,r,o,u,l){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},o),this._themeService=t,this._openerService=n,this._menuService=r,this._contextKeyService=u,this._labelService=l,this._callOnDispose=new ft.Cm,this._onDidSelectRelatedInformation=new Rt.vl,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=kr.cj.Warning,this._backgroundColor=hi.Q1.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(yS);let t=Rm,n=_S;this._severity===kr.cj.Warning?(t=Kh,n=bS):this._severity===kr.cj.Info&&(t=Lm,n=vS);const r=e.getColor(t),o=e.getColor(n);this.style({arrowColor:r,frameColor:r,headerBackgroundColor:o,primaryHeadingColor:e.getColor(Ei),secondaryHeadingColor:e.getColor(yr)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun((r)=>this.editor.focus()));const t=[],n=this._menuService.getMenuActions(Im.TitleMenu,this._contextKeyService);br.Ot(n,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0})}_fillTitleIcon(e){this._icon=ae.BC(e,ae.$(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new mb(this._container,this.editor,(t)=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,n){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());const r=Nt.Q.lift(e),o=this.editor.getPosition(),u=o&&r.containsPosition(o)?o:r.getStartPosition();super.show(u,this.computeRequiredHeight());const l=this.editor.getModel();if(l){const A=n>1?oe.kg("problems","{0} of {1} problems",t,n):oe.kg("change","{0} of {1} problem",t,n);this.setTitle(bn.P8(l.uri),A)}this._icon.className=`codicon ${Nm.className(kr.cj.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(u,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};cu=Im=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([id(1,pi.Gy),id(2,hn.C),id(3,rt.ez),id(4,Ke._Y),id(5,ye.fN),id(6,Od.L)],cu);const gb=Xt.yLr(Xt.Rbi,Xt.AN$),_b=Xt.yLr(Xt.Hng,Xt.Stt),bb=Xt.yLr(Xt.pOz,Xt.IIb),Rm=Xt.x1A("editorMarkerNavigationError.background",{dark:gb,light:gb,hcDark:Xt.b1q,hcLight:Xt.b1q},oe.kg("editorMarkerNavigationError","Editor marker navigation widget error color.")),_S=Xt.x1A("editorMarkerNavigationError.headerBackground",{dark:Xt.JO0(Rm,0.1),light:Xt.JO0(Rm,0.1),hcDark:null,hcLight:null},oe.kg("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Kh=Xt.x1A("editorMarkerNavigationWarning.background",{dark:_b,light:_b,hcDark:Xt.b1q,hcLight:Xt.b1q},oe.kg("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),bS=Xt.x1A("editorMarkerNavigationWarning.headerBackground",{dark:Xt.JO0(Kh,0.1),light:Xt.JO0(Kh,0.1),hcDark:"#0C141F",hcLight:Xt.JO0(Kh,0.2)},oe.kg("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Lm=Xt.x1A("editorMarkerNavigationInfo.background",{dark:bb,light:bb,hcDark:Xt.b1q,hcLight:Xt.b1q},oe.kg("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),vS=Xt.x1A("editorMarkerNavigationInfo.headerBackground",{dark:Xt.JO0(Lm,0.1),light:Xt.JO0(Lm,0.1),hcDark:null,hcLight:null},oe.kg("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),yS=Xt.x1A("editorMarkerNavigation.background",Xt.YtV,oe.kg("editorMarkerNavigationBackground","Editor marker navigation widget background."));var du,ep=function(e,t){return function(n,r){t(n,r,e)}};let gc=class{static{du=this}static{this.ID="editor.contrib.markerController"}static get(e){return e.getContribution(du.ID)}constructor(e,t,n,r,o){this._markerNavigationService=t,this._contextKeyService=n,this._editorService=r,this._instantiationService=o,this._sessionDispoables=new ft.Cm,this._editor=e,this._widgetVisible=vb.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(cu,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((n)=>{this._model?.selected&&Nt.Q.containsPosition(this._model?.selected.marker,n.position)||this._model?.resetIndex()})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const n=this._model.find(this._editor.getModel().uri,this._widget.position);n?this._widget.updateMarker(n.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((n)=>{this._editorService.openCodeEditor({resource:n.resource,options:{pinned:!0,revealIfOpened:!0,selection:Nt.Q.lift(n).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new Yn.y(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}async nagivate(e,t){if(this._editor.hasModel()){const n=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(n.move(e,this._editor.getModel(),this._editor.getPosition()),!n.selected)return;if(n.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const r=await this._editorService.openCodeEditor({resource:n.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:n.selected.marker}},this._editor);r&&(du.get(r)?.close(),du.get(r)?.nagivate(e,t))}else this._widget.showAtMarker(n.selected.marker,n.selected.index,n.selected.total)}}};gc=du=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([ep(1,fb),ep(2,ye.fN),ep(3,Ue.T),ep(4,Ke._Y)],gc);class uu extends O.ks{constructor(e,t,n){super(n),this._next=e,this._multiFile=t}async run(e,t){t.hasModel()&&gc.get(t)?.nagivate(this._next,this._multiFile)}}class rd extends uu{static{this.ID="editor.action.marker.next"}static{this.LABEL=oe.kg("markerAction.next.label","Go to Next Problem (Error, Warning, Info)")}constructor(){super(!0,!1,{id:rd.ID,label:rd.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Fe.R.focus,primary:578,weight:100},menuOpts:{menuId:cu.TitleMenu,title:rd.LABEL,icon:_r.pU("marker-navigation-next",be.W.arrowDown,oe.kg("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}class hu extends uu{static{this.ID="editor.action.marker.prev"}static{this.LABEL=oe.kg("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)")}constructor(){super(!1,!1,{id:hu.ID,label:hu.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Fe.R.focus,primary:1602,weight:100},menuOpts:{menuId:cu.TitleMenu,title:hu.LABEL,icon:_r.pU("marker-navigation-previous",be.W.arrowUp,oe.kg("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}O.HW(gc.ID,gc,4),O.Fl(rd),O.Fl(hu),O.Fl(class extends uu{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:oe.kg("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Fe.R.focus,primary:66,weight:100},menuOpts:{menuId:rt.D8.MenubarGoMenu,title:oe.kg({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),O.Fl(class extends uu{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:oe.kg("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Fe.R.focus,primary:1090,weight:100},menuOpts:{menuId:rt.D8.MenubarGoMenu,title:oe.kg({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const vb=new ye.N1("markersNavigationVisible",!1),SS=O.DX.bindToContribution(gc.get);var na,Dm;O.E_(new SS({id:"closeMarkersNavigation",precondition:vb,handler:(e)=>e.close(),kbOpts:{weight:150,kbExpr:Fe.R.focus,primary:9,secondary:[1033]}})),(Dm=na||(na={})).NoAutoFocus="noAutoFocus",Dm.FocusIfVisible="focusIfVisible",Dm.AutoFocusImmediately="autoFocusImmediately";class yb extends O.ks{constructor(){super({id:ls,label:oe.kg({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse."]},"Show or Focus Hover"),metadata:{description:oe.aS("showOrFocusHoverDescription","Show or focus the editor hover which shows documentation, references, and other content for a symbol at the current cursor position."),args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[na.NoAutoFocus,na.FocusIfVisible,na.AutoFocusImmediately],enumDescriptions:[oe.kg("showOrFocusHover.focus.noAutoFocus","The hover will not automatically take focus."),oe.kg("showOrFocusHover.focus.focusIfVisible","The hover will take focus only if it is already visible."),oe.kg("showOrFocusHover.focus.autoFocusImmediately","The hover will automatically take focus when it appears.")],default:na.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2087),weight:100}})}run(e,t,n){if(!t.hasModel())return;const r=Ao.get(t);if(!r)return;const o=n?.focus;let u=na.FocusIfVisible;Object.values(na).includes(o)?u=o:typeof o=="boolean"&&o&&(u=na.AutoFocusImmediately);const l=(K)=>{const le=t.getPosition(),ue=new Nt.Q(le.lineNumber,le.column,le.lineNumber,le.column);r.showContentHover(ue,1,1,K)},A=t.getOption(2)===2;r.isHoverVisible?u!==na.NoAutoFocus?r.focus():l(A):l(A||u===na.AutoFocusImmediately)}}class Sb extends O.ks{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:oe.kg({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0,metadata:{description:oe.aS("showDefinitionPreviewHoverDescription","Show the definition preview hover in the editor.")}})}run(e,t){const n=Ao.get(t);if(!n)return;const r=t.getPosition();if(!r)return;const o=new Nt.Q(r.lineNumber,r.column,r.lineNumber,r.column),u=lu.get(t);u&&u.startFindDefinitionFromCursor(r).then(()=>{n.showContentHover(o,1,1,!0)})}}class wb extends O.ks{constructor(){super({id:"editor.action.scrollUpHover",label:oe.kg({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:Fe.R.hoverFocused,kbOpts:{kbExpr:Fe.R.hoverFocused,primary:16,weight:100},metadata:{description:oe.aS("scrollUpHoverDescription","Scroll up the editor hover.")}})}run(e,t){const n=Ao.get(t);n&&n.scrollUp()}}class xb extends O.ks{constructor(){super({id:"editor.action.scrollDownHover",label:oe.kg({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:Fe.R.hoverFocused,kbOpts:{kbExpr:Fe.R.hoverFocused,primary:18,weight:100},metadata:{description:oe.aS("scrollDownHoverDescription","Scroll down the editor hover.")}})}run(e,t){const n=Ao.get(t);n&&n.scrollDown()}}class Cb extends O.ks{constructor(){super({id:"editor.action.scrollLeftHover",label:oe.kg({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:Fe.R.hoverFocused,kbOpts:{kbExpr:Fe.R.hoverFocused,primary:15,weight:100},metadata:{description:oe.aS("scrollLeftHoverDescription","Scroll left the editor hover.")}})}run(e,t){const n=Ao.get(t);n&&n.scrollLeft()}}class Eb extends O.ks{constructor(){super({id:"editor.action.scrollRightHover",label:oe.kg({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:Fe.R.hoverFocused,kbOpts:{kbExpr:Fe.R.hoverFocused,primary:17,weight:100},metadata:{description:oe.aS("scrollRightHoverDescription","Scroll right the editor hover.")}})}run(e,t){const n=Ao.get(t);n&&n.scrollRight()}}class Jb extends O.ks{constructor(){super({id:"editor.action.pageUpHover",label:oe.kg({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:Fe.R.hoverFocused,kbOpts:{kbExpr:Fe.R.hoverFocused,primary:11,secondary:[528],weight:100},metadata:{description:oe.aS("pageUpHoverDescription","Page up the editor hover.")}})}run(e,t){const n=Ao.get(t);n&&n.pageUp()}}class kb extends O.ks{constructor(){super({id:"editor.action.pageDownHover",label:oe.kg({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:Fe.R.hoverFocused,kbOpts:{kbExpr:Fe.R.hoverFocused,primary:12,secondary:[530],weight:100},metadata:{description:oe.aS("pageDownHoverDescription","Page down the editor hover.")}})}run(e,t){const n=Ao.get(t);n&&n.pageDown()}}class Tb extends O.ks{constructor(){super({id:"editor.action.goToTopHover",label:oe.kg({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:Fe.R.hoverFocused,kbOpts:{kbExpr:Fe.R.hoverFocused,primary:14,secondary:[2064],weight:100},metadata:{description:oe.aS("goToTopHoverDescription","Go to the top of the editor hover.")}})}run(e,t){const n=Ao.get(t);n&&n.goToTop()}}class Ab extends O.ks{constructor(){super({id:"editor.action.goToBottomHover",label:oe.kg({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:Fe.R.hoverFocused,kbOpts:{kbExpr:Fe.R.hoverFocused,primary:13,secondary:[2066],weight:100},metadata:{description:oe.aS("goToBottomHoverDescription","Go to the bottom of the editor hover.")}})}run(e,t){const n=Ao.get(t);n&&n.goToBottom()}}class Nb extends O.ks{constructor(){super({id:Jo,label:Bo,alias:"Increase Hover Verbosity Level",precondition:Fe.R.hoverVisible})}run(e,t,n){const r=Ao.get(t);if(!r)return;const o=n?.index!==void 0?n.index:r.focusedHoverPartIndex();r.updateHoverVerbosityLevel(Pt.M$.Increase,o,n?.focus)}}class Ib extends O.ks{constructor(){super({id:ha,label:Jc,alias:"Decrease Hover Verbosity Level",precondition:Fe.R.hoverVisible})}run(e,t,n){const r=Ao.get(t);if(!r)return;const o=n?.index!==void 0?n.index:r.focusedHoverPartIndex();Ao.get(t)?.updateHoverVerbosityLevel(Pt.M$.Decrease,o,n?.focus)}}var wS=ct(886),Mm=function(e,t){return function(n,r){t(n,r,e)}};const $s=ae.$;class Rb{constructor(e,t,n){this.owner=e,this.range=t,this.marker=n}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const Lb={type:1,filter:{include:Ri.QuickFix},triggerAction:Rr.QuickFixHover};let Pm=class{constructor(e,t,n,r){this._editor=e,this._markerDecorationsService=t,this._openerService=n,this._languageFeaturesService=r,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1&&!e.supportsMarkerHover)return[];const n=this._editor.getModel(),r=e.range.startLineNumber,o=n.getLineMaxColumn(r),u=[];for(let l of t){const A=l.range.startLineNumber===r?l.range.startColumn:1,K=l.range.endLineNumber===r?l.range.endColumn:o,le=this._markerDecorationsService.getMarker(n.uri,l);if(!le)continue;const ue=new Nt.Q(e.range.startLineNumber,A,e.range.startLineNumber,K);u.push(new Rb(this,ue,le))}return u}renderHoverParts(e,t){if(!t.length)return new Si([]);const n=new ft.Cm,r=[];t.forEach((u)=>{const l=this._renderMarkerHover(u);e.fragment.appendChild(l.hoverElement),r.push(l)});const o=t.length===1?t[0]:t.sort((u,l)=>kr.cj.compare(u.marker.severity,l.marker.severity))[0];return this.renderMarkerStatusbar(e,o,n),new Si(r)}_renderMarkerHover(e){const t=new ft.Cm,n=$s("div.hover-row"),r=ae.BC(n,$s("div.marker.hover-contents")),{source:o,message:u,code:l,relatedInformation:A}=e.marker;this._editor.applyFontInfo(r);const K=ae.BC(r,$s("span"));if(K.style.whiteSpace="pre-wrap",K.innerText=u,o||l)if(l&&typeof l!="string"){const le=$s("span");o&&(ae.BC(le,$s("span")).innerText=o);const ue=ae.BC(le,$s("a.code-link"));ue.setAttribute("href",l.target.toString()),t.add(ae.ko(ue,"click",(Qe)=>{this._openerService.open(l.target,{allowCommands:!0}),Qe.preventDefault(),Qe.stopPropagation()})),ae.BC(ue,$s("span")).innerText=l.value;const we=ae.BC(r,le);we.style.opacity="0.6",we.style.paddingLeft="6px"}else{const le=ae.BC(r,$s("span"));le.style.opacity="0.6",le.style.paddingLeft="6px",le.innerText=o&&l?`${o}(${l})`:o||`(${l})`}if(mn.EI(A))for(let{message:le,resource:ue,startLineNumber:we,startColumn:Qe}of A){const Me=ae.BC(r,$s("div"));Me.style.marginTop="8px";const nt=ae.BC(Me,$s("a"));nt.innerText=`${bn.P8(ue)}(${we}, ${Qe}): `,nt.style.cursor="pointer",t.add(ae.ko(nt,"click",(It)=>{if(It.stopPropagation(),It.preventDefault(),this._openerService){const Dt={selection:{startLineNumber:we,startColumn:Qe}};this._openerService.open(ue,{fromUserGesture:!0,editorOptions:Dt}).catch(ii.dz)}}));const yt=ae.BC(Me,$s("span"));yt.innerText=le,this._editor.applyFontInfo(yt)}return{hoverPart:e,hoverElement:n,dispose:()=>t.dispose()}}renderMarkerStatusbar(e,t,n){if(t.marker.severity===kr.cj.Error||t.marker.severity===kr.cj.Warning||t.marker.severity===kr.cj.Info){const r=gc.get(this._editor);r&&e.statusBar.addAction({label:oe.kg("view problem","View Problem"),commandId:rd.ID,run:()=>{e.hide(),r.showAtMarker(t.marker),this._editor.focus()}})}if(!this._editor.getOption(92)){const r=e.statusBar.append($s("div"));this.recentMarkerCodeActionsInfo&&(kr.oc.makeKey(this.recentMarkerCodeActionsInfo.marker)===kr.oc.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(r.textContent=oe.kg("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const o=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?ft.jG.None:un.EQ(()=>r.textContent=oe.kg("checkingForQuickFixes","Checking for quick fixes..."),200,n);r.textContent||(r.textContent=String.fromCharCode(160));const u=this.getCodeActions(t.marker);n.add(ft.s(()=>u.cancel())),u.then((l)=>{if(o.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:l.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return l.dispose(),void(r.textContent=oe.kg("noQuickFixes","No quick fixes available"));r.style.display="none";let A=!1;n.add(ft.s(()=>{A||l.dispose()})),e.statusBar.addAction({label:oe.kg("quick fixes","Quick Fix..."),commandId:pr,run:(K)=>{A=!0;const le=qo.get(this._editor),ue=ae.BK(K);e.hide(),le?.showCodeActions(Lb,l,{x:ue.left,y:ue.top,width:ue.width,height:ue.height})}})},ii.dz)}}getCodeActions(e){return un.SS((t)=>Yo(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new Nt.Q(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),Lb,Tt.ke.None,t))}};Pm=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Mm(1,wS.IMarkerDecorationsService),Mm(2,hn.C),Mm(3,Wt.ILanguageFeaturesService)],Pm);class Db{get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}get lane(){return this._laneOrLine}set lane(e){this._laneOrLine=e}constructor(e){this._editor=e,this._lineNumber=-1,this._laneOrLine=Ci.ZS.Center}computeSync(){const e=(o)=>({value:o}),t=this._editor.getLineDecorations(this._lineNumber),n=[],r=this._laneOrLine==="lineNo";if(!t)return n;for(let o of t){const u=o.options.glyphMargin?.position??Ci.ZS.Center;if(!r&&u!==this._laneOrLine)continue;const l=r?o.options.lineNumberHoverMessage:o.options.glyphMarginHoverMessage;l&&!ti.it(l)&&n.push(...mn._j(l).map(e))}return n}}var Fm,Mb=function(e,t){return function(n,r){t(n,r,e)}};const Pb=ae.$;let Om=class extends ft.jG{static{Fm=this}static{this.ID="editor.contrib.modesGlyphHoverWidget"}constructor(e,t,n){super(),this._renderDisposeables=this._register(new ft.Cm),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new Wa.N4),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new en.T({editor:this._editor},t,n)),this._computer=new Db(this._editor),this._hoverOperation=this._register(new _l(this._editor,this._computer)),this._register(this._hoverOperation.onResult((r)=>{this._withResult(r.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration((r)=>{r.hasChanged(50)&&this._updateFont()})),this._register(ae.b2(this._hover.containerDomNode,"mouseleave",(r)=>{this._onMouseLeave(r)})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Fm.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((e)=>this._editor.applyFontInfo(e))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}showsOrWillShow(e){const t=e.target;return t.type===2&&t.detail.glyphMarginLane?(this._startShowingAt(t.position.lineNumber,t.detail.glyphMarginLane),!0):t.type===3&&(this._startShowingAt(t.position.lineNumber,"lineNo"),!0)}_startShowingAt(e,t){this._computer.lineNumber===e&&this._computer.lane===t||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._computer.lane=t,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const n=document.createDocumentFragment();for(let r of t){const o=Pb("div.hover-row.markdown-hover"),u=ae.BC(o,Pb("div.hover-contents")),l=this._renderDisposeables.add(this._markdownRenderer.render(r.value));u.appendChild(l.element),n.appendChild(o)}this._updateContents(n),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(e),r=this._editor.getScrollTop(),o=this._editor.getOption(67),u=n-r-(this._hover.containerDomNode.clientHeight-o)/2,l=t.glyphMarginLeft+t.glyphMarginWidth+(this._computer.lane==="lineNo"?t.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${l}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(u),0)}px`}_onMouseLeave(e){const t=this._editor.getDomNode();(!t||!Ac(t,e.x,e.y))&&this.hide()}};Om=Fm=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Mb(1,Ss.L),Mb(2,hn.C)],Om);let tp=class extends ft.jG{static{this.ID="editor.contrib.marginHover"}constructor(e,t){super(),this._editor=e,this._instantiationService=t,this.shouldKeepOpenOnEditorMouseMoveOrLeave=!1,this._listenersStore=new ft.Cm,this._hoverState={mouseDown:!1},this._reactToEditorMouseMoveRunner=this._register(new un.uC(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration((n)=>{n.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}_hookListeners(){const e=this._editor.getOption(60);this._hoverSettings={enabled:e.enabled,sticky:e.sticky,hidingDelay:e.hidingDelay},e.enabled?(this._listenersStore.add(this._editor.onMouseDown((t)=>this._onEditorMouseDown(t))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove((t)=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown((t)=>this._onKeyDown(t)))):(this._listenersStore.add(this._editor.onMouseMove((t)=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown((t)=>this._onKeyDown(t)))),this._listenersStore.add(this._editor.onMouseLeave((t)=>this._onEditorMouseLeave(t))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange((t)=>this._onEditorScrollChanged(t)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._hoverState.mouseDown=!0,this._isMouseOnMarginHoverWidget(e)||this._hideWidgets()}_isMouseOnMarginHoverWidget(e){const t=this._glyphWidget?.getDomNode();return!!t&&Ac(t,e.event.posx,e.event.posy)}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(e){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._cancelScheduler(),this._isMouseOnMarginHoverWidget(e)||this._hideWidgets())}_shouldNotRecomputeCurrentHoverWidget(e){const t=this._hoverSettings.sticky,n=this._isMouseOnMarginHoverWidget(e);return t&&n}_onEditorMouseMove(e){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._mouseMoveEvent=e,this._shouldNotRecomputeCurrentHoverWidget(e)?this._reactToEditorMouseMoveRunner.cancel():this._reactToEditorMouseMove(e))}_reactToEditorMouseMove(e){e&&(this._tryShowHoverWidget(e)||this._hideWidgets())}_tryShowHoverWidget(e){return this._getOrCreateGlyphWidget().showsOrWillShow(e)}_onKeyDown(e){this._editor.hasModel()&&e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()}_hideWidgets(){this._glyphWidget?.hide()}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=this._instantiationService.createInstance(Om,this._editor)),this._glyphWidget}dispose(){super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),this._glyphWidget?.dispose()}};tp=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(1,Ke._Y)],tp),O.HW(Ao.ID,Ao,2),O.HW(tp.ID,tp,2),O.Fl(yb),O.Fl(Sb),O.Fl(wb),O.Fl(xb),O.Fl(Cb),O.Fl(Eb),O.Fl(Jb),O.Fl(kb),O.Fl(Tb),O.Fl(Ab),O.Fl(Nb),O.Fl(Ib),cr.register(vl),cr.register(Pm),pi.zy((e,t)=>{const n=e.getColor(Xt.oZ8);n&&(t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${n.transparent(0.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${n.transparent(0.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${n.transparent(0.5)}; }`))}),Yh.register(new class{}),Yh.register(new class{}),Yh.register(new class{});var od=ct(1672);function ns(e,t){let n=0;for(let r=0;r<e.length;r++)e.charAt(r)==="\t"?n+=t:n++;return n}function pu(e,t,n){e=e<0?0:e;let r="";if(!n){const o=Math.floor(e/t);e%=t;for(let u=0;u<o;u++)r+="\t"}for(let o=0;o<e;o++)r+=" ";return r}var _c=ct(645),xS=ct(7999),CS=ct(1032);function Fb(e,t,n,r){if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return[];const o=t.getLanguageConfiguration(e.getLanguageId()).indentRulesSupport;if(!o)return[];const u=new CS.no(e,o,t);for(r=Math.min(r,e.getLineCount());n<=r&&u.shouldIgnore(n);)n++;if(n>r-1)return[];const{tabSize:l,indentSize:A,insertSpaces:K}=e.getOptions(),le=(yt,It)=>(It=It||1,od.Y.shiftIndent(yt,yt.length+It,l,A,K)),ue=(yt,It)=>(It=It||1,od.Y.unshiftIndent(yt,yt.length+It,l,A,K)),we=[],Qe=e.getLineContent(n);let Me=Ne.UU(Qe),nt=Me;u.shouldIncrease(n)?(nt=le(nt),Me=le(Me)):u.shouldIndentNextLine(n)&&(nt=le(nt));for(let yt=++n;yt<=r;yt++){if(ES(e,yt))continue;const It=e.getLineContent(yt),Dt=Ne.UU(It),cn=nt;u.shouldDecrease(yt,cn)&&(nt=ue(nt),Me=ue(Me)),Dt!==nt&&we.push(Fr.k.replaceMove(new Xn.L(yt,1,yt,Dt.length+1),xS.P(nt,A,K))),u.shouldIgnore(yt)||(u.shouldIncrease(yt,cn)?(Me=le(Me),nt=Me):nt=u.shouldIndentNextLine(yt,cn)?le(nt):Me)}return we}function ES(e,t){return!!e.tokenization.isCheapToTokenize(t)&&e.tokenization.getLineTokens(t).getStandardTokenType(0)===2}class Qm extends O.ks{static{this.ID="editor.action.indentationToSpaces"}constructor(){super({id:Qm.ID,label:oe.kg("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:Fe.R.writable,metadata:{description:oe.aS("indentationToSpacesDescription","Convert the tab indentation to spaces.")}})}run(e,t){const n=t.getModel();if(!n)return;const r=n.getOptions(),o=t.getSelection();if(!o)return;const u=new $b(o,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[u]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}class zm extends O.ks{static{this.ID="editor.action.indentationToTabs"}constructor(){super({id:zm.ID,label:oe.kg("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:Fe.R.writable,metadata:{description:oe.aS("indentationToTabsDescription","Convert the spaces indentation to tabs.")}})}run(e,t){const n=t.getModel();if(!n)return;const r=n.getOptions(),o=t.getSelection();if(!o)return;const u=new Zb(o,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[u]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}class np extends O.ks{constructor(e,t,n){super(n),this.insertSpaces=e,this.displaySizeOnly=t}run(e,t){const n=e.get(Ht.GK),r=e.get(Di.IModelService),o=t.getModel();if(!o)return;const u=r.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),l=o.getOptions(),A=[1,2,3,4,5,6,7,8].map((le)=>({id:le.toString(),label:le.toString(),description:le===u.tabSize&&le===l.tabSize?oe.kg("configuredTabSize","Configured Tab Size"):le===u.tabSize?oe.kg("defaultTabSize","Default Tab Size"):le===l.tabSize?oe.kg("currentTabSize","Current Tab Size"):void 0})),K=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{n.pick(A,{placeHolder:oe.kg({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:A[K]}).then((le)=>{if(le&&o&&!o.isDisposed()){const ue=parseInt(le.label,10);this.displaySizeOnly?o.updateOptions({tabSize:ue}):o.updateOptions({tabSize:ue,indentSize:ue,insertSpaces:this.insertSpaces})}})},50)}}class Wm extends np{static{this.ID="editor.action.indentUsingTabs"}constructor(){super(!1,!1,{id:Wm.ID,label:oe.kg("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0,metadata:{description:oe.aS("indentUsingTabsDescription","Use indentation with tabs.")}})}}class $m extends np{static{this.ID="editor.action.indentUsingSpaces"}constructor(){super(!0,!1,{id:$m.ID,label:oe.kg("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0,metadata:{description:oe.aS("indentUsingSpacesDescription","Use indentation with spaces.")}})}}class Zm extends np{static{this.ID="editor.action.changeTabDisplaySize"}constructor(){super(!0,!0,{id:Zm.ID,label:oe.kg("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0,metadata:{description:oe.aS("changeTabDisplaySizeDescription","Change the space size equivalent of the tab.")}})}}class Um extends O.ks{static{this.ID="editor.action.detectIndentation"}constructor(){super({id:Um.ID,label:oe.kg("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0,metadata:{description:oe.aS("detectIndentationDescription","Detect the indentation from content.")}})}run(e,t){const n=e.get(Di.IModelService),r=t.getModel();if(!r)return;const o=n.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget);r.detectIndentation(o.insertSpaces,o.tabSize)}}class Ob extends O.ks{constructor(){super({id:"editor.action.reindentlines",label:oe.kg("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:Fe.R.writable,metadata:{description:oe.aS("editor.reindentlinesDescription","Reindent the lines of the editor.")}})}run(e,t){const n=e.get(eo.JZ),r=t.getModel();if(!r)return;const o=Fb(r,n,1,r.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class Qb extends O.ks{constructor(){super({id:"editor.action.reindentselectedlines",label:oe.kg("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:Fe.R.writable,metadata:{description:oe.aS("editor.reindentselectedlinesDescription","Reindent the selected lines of the editor.")}})}run(e,t){const n=e.get(eo.JZ),r=t.getModel();if(!r)return;const o=t.getSelections();if(o===null)return;const u=[];for(let l of o){let{startLineNumber:A,endLineNumber:K}=l;if(A!==K&&l.endColumn===1&&K--,A===1){if(A===K)continue}else A--;const le=Fb(r,n,A,K);u.push(...le)}u.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,u),t.pushUndoStop())}}class zb{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let n of e)n.range&&typeof n.text=="string"&&this._edits.push(n)}getEditOperations(e,t){for(let r of this._edits)t.addEditOperation(Nt.Q.lift(r.range),r.text);let n=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let ip=class{static{this.ID="editor.contrib.autoIndentOnPaste"}constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new ft.Cm,this.callOnModel=new ft.Cm,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),this.editor.getOption(12)<4||this.editor.getOption(55)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){const t=this.editor.getSelections();if(t===null||t.length>1)return;const n=this.editor.getModel();if(!n)return;if(this.rangeContainsOnlyWhitespaceCharacters(n,e))return;if(function(Qe,Me){const nt=(yt)=>w_.T(Qe,yt)===2;return nt(Me.getStartPosition())||nt(Me.getEndPosition())}(n,e))return;if(!n.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;const r=this.editor.getOption(12),{tabSize:o,indentSize:u,insertSpaces:l}=n.getOptions(),A=[],K={shiftIndent:(Qe)=>od.Y.shiftIndent(Qe,Qe.length+1,o,u,l),unshiftIndent:(Qe)=>od.Y.unshiftIndent(Qe,Qe.length+1,o,u,l)};let le=e.startLineNumber;for(;le<=e.endLineNumber&&this.shouldIgnoreLine(n,le);)le++;if(le>e.endLineNumber)return;let ue=n.getLineContent(le);if(!/\S/.test(ue.substring(0,e.startColumn-1))){const Qe=_c.$f(r,n,n.getLanguageId(),le,K,this._languageConfigurationService);if(Qe!==null){const Me=Ne.UU(ue),nt=ns(Qe,o);if(nt!==ns(Me,o)){const yt=pu(nt,o,l);A.push({range:new Nt.Q(le,1,le,Me.length+1),text:yt}),ue=yt+ue.substring(Me.length)}else{const yt=_c.Yb(n,le,this._languageConfigurationService);if(yt===0||yt===8)return}}}const we=le;for(;le<e.endLineNumber&&!/\S/.test(n.getLineContent(le+1));)le++;if(le!==e.endLineNumber){const Qe={tokenization:{getLineTokens:(nt)=>n.tokenization.getLineTokens(nt),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(nt,yt)=>n.getLanguageIdAtPosition(nt,yt)},getLineContent:(nt)=>nt===we?ue:n.getLineContent(nt)},Me=_c.$f(r,Qe,n.getLanguageId(),le+1,K,this._languageConfigurationService);if(Me!==null){const nt=ns(Me,o),yt=ns(Ne.UU(n.getLineContent(le+1)),o);if(nt!==yt){const It=nt-yt;for(let Dt=le+1;Dt<=e.endLineNumber;Dt++){const cn=n.getLineContent(Dt),Tn=Ne.UU(cn),On=pu(ns(Tn,o)+It,o,l);On!==Tn&&A.push({range:new Nt.Q(Dt,1,Dt,Tn.length+1),text:On})}}}}if(A.length>0){this.editor.pushUndoStop();const Qe=new zb(A,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Qe),this.editor.pushUndoStop()}}rangeContainsOnlyWhitespaceCharacters(e,t){const n=(o)=>o.trim().length===0;let r=!0;if(t.startLineNumber===t.endLineNumber)r=n(e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1));else for(let o=t.startLineNumber;o<=t.endLineNumber;o++){const u=e.getLineContent(o);if(r=o===t.startLineNumber?n(u.substring(t.startColumn-1)):o===t.endLineNumber?n(u.substring(0,t.endColumn-1)):e.getLineFirstNonWhitespaceColumn(o)===0,!r)break}return r}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);const n=e.getLineFirstNonWhitespaceColumn(t);if(n===0)return!0;const r=e.tokenization.getLineTokens(t);if(r.getCount()>0){const o=r.findTokenIndexAtOffset(n);if(o>=0&&r.getStandardTokenType(o)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};function Wb(e,t,n,r){if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return;let o="";for(let l=0;l<n;l++)o+=" ";const u=new RegExp(o,"gi");for(let l=1,A=e.getLineCount();l<=A;l++){let K=e.getLineFirstNonWhitespaceColumn(l);if(K===0&&(K=e.getLineMaxColumn(l)),K===1)continue;const le=new Nt.Q(l,1,l,K),ue=e.getValueInRange(le),we=r?ue.replace(/\t/gi,o):ue.replace(u,"\t");t.addEditOperation(le,we)}}ip=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(1,eo.JZ)],ip);class $b{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Wb(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class Zb{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Wb(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}O.HW(ip.ID,ip,2),O.Fl(Qm),O.Fl(zm),O.Fl(Wm),O.Fl($m),O.Fl(Zm),O.Fl(Um),O.Fl(Ob),O.Fl(Qb),O.HW(Zd.ID,Zd,1),cr.register(sh);class Ub{constructor(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new Xn.L(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new Xn.L(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}var rp;let sd=class{static{rp=this}static{this.ID="editor.contrib.inPlaceReplaceController"}static get(e){return e.getContribution(rp.ID)}static{this.DECORATION=Hn.kI.register({description:"in-place-replace",className:"valueSetReplacement"})}constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(e,t){this.currentRequest?.cancel();const n=this.editor.getSelection(),r=this.editor.getModel();if(!r||!n)return;let o=n;if(o.startLineNumber!==o.endLineNumber)return;const u=new _e.$t(this.editor,5),l=r.uri;return this.editorWorkerService.canNavigateValueSet(l)?(this.currentRequest=un.SS((A)=>this.editorWorkerService.navigateValueSet(l,o,t)),this.currentRequest.then((A)=>{if(!A||!A.range||!A.value)return;if(!u.validate(this.editor))return;const K=Nt.Q.lift(A.range);let le=A.range;const ue=A.value.length-(o.endColumn-o.startColumn);le={startLineNumber:le.startLineNumber,startColumn:le.startColumn,endLineNumber:le.endLineNumber,endColumn:le.startColumn+A.value.length},ue>1&&(o=new Xn.L(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn+ue-1));const we=new Ub(K,o,A.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,we),this.editor.pushUndoStop(),this.decorations.set([{range:le,options:rp.DECORATION}]),this.decorationRemover?.cancel(),this.decorationRemover=un.wR(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(ii.dz)}).catch(ii.dz)):Promise.resolve(void 0)}};sd=rp=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(1,Zo.IEditorWorkerService)],sd);class Bb extends O.ks{constructor(){super({id:"editor.action.inPlaceReplace.up",label:oe.kg("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:3159,weight:100}})}run(e,t){const n=sd.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}class Vb extends O.ks{constructor(){super({id:"editor.action.inPlaceReplace.down",label:oe.kg("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:3161,weight:100}})}run(e,t){const n=sd.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}O.HW(sd.ID,sd,4),O.Fl(Bb),O.Fl(Vb);var Bm=ct(7064);class Gb extends O.ks{constructor(){super({id:"expandLineSelection",label:oe.kg("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:Fe.R.textInputFocus,primary:2090}})}run(e,t,n){if(n=n||{},!t.hasModel())return;const r=t._getViewModel();r.model.pushStackElement(),r.setCursorStates(n.source,3,Bm.c.expandLineSelection(r,r.getCursorStates())),r.revealAllCursors(n.source,!0)}}O.Fl(Gb);class Xb{constructor(e,t,n){this._selection=e,this._cursors=t,this._selectionId=null,this._trimInRegexesAndStrings=n}getEditOperations(e,t){const n=function(r,o,u){o.sort((ue,we)=>ue.lineNumber===we.lineNumber?ue.column-we.column:ue.lineNumber-we.lineNumber);for(let ue=o.length-2;ue>=0;ue--)o[ue].lineNumber===o[ue+1].lineNumber&&o.splice(ue,1);const l=[];let A=0,K=0;const le=o.length;for(let ue=1,we=r.getLineCount();ue<=we;ue++){const Qe=r.getLineContent(ue),Me=Qe.length+1;let nt=0;if(K<le&&o[K].lineNumber===ue&&(nt=o[K].column,K++,nt===Me))continue;if(Qe.length===0)continue;const yt=Ne.lT(Qe);let It=0;if(yt===-1)It=1;else{if(yt===Qe.length-1)continue;It=yt+2}if(!u){if(!r.tokenization.hasAccurateTokensForLine(ue))continue;const Dt=r.tokenization.getLineTokens(ue),cn=Dt.getStandardTokenType(Dt.findTokenIndexAtOffset(It));if(cn===2||cn===3)continue}It=Math.max(nt,It),l[A++]=Fr.k.delete(new Nt.Q(ue,It,ue,Me))}return l}(e,this._cursors,this._trimInRegexesAndStrings);for(let r=0,o=n.length;r<o;r++){const u=n[r];t.addEditOperation(u.range,u.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}var JS=ct(6137),Hb=ct(2885);class Vm{constructor(e,t,n){this._selection=e,this._isCopyingDown=t,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const r=[];for(let u=n.startLineNumber;u<=n.endLineNumber;u++)r.push(e.getLineContent(u));const o=r.join("\n");o===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new Nt.Q(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new Nt.Q(n.startLineNumber,1,n.startLineNumber,1),o+"\n"):t.addEditOperation(new Nt.Q(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let{startLineNumber:r,startColumn:o,endLineNumber:u,endColumn:l}=n;this._startLineNumberDelta!==0&&(r+=this._startLineNumberDelta,o=1),this._endLineNumberDelta!==0&&(u+=this._endLineNumberDelta,l=1),n=Xn.L.createWithDirection(r,o,u,l,this._selectionDirection)}return n}}var op=ct(9550),Gm=ct(794);let Xm=class{constructor(e,t,n,r){this._languageConfigurationService=r,this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){const n=()=>e.getLanguageId(),r=(ue,we)=>e.getLanguageIdAtPosition(ue,we),o=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===o)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&this._selection.startLineNumber===1)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let u=this._selection;u.startLineNumber<u.endLineNumber&&u.endColumn===1&&(this._moveEndPositionDown=!0,u=u.setEndPosition(u.endLineNumber-1,e.getLineMaxColumn(u.endLineNumber-1)));const{tabSize:l,indentSize:A,insertSpaces:K}=e.getOptions(),le=this.buildIndentConverter(l,A,K);if(u.startLineNumber===u.endLineNumber&&e.getLineMaxColumn(u.startLineNumber)===1){const ue=u.startLineNumber,we=this._isMovingDown?ue+1:ue-1;e.getLineMaxColumn(we)===1?t.addEditOperation(new Nt.Q(1,1,1,1),null):(t.addEditOperation(new Nt.Q(ue,1,ue,1),e.getLineContent(we)),t.addEditOperation(new Nt.Q(we,1,we,e.getLineMaxColumn(we)),null)),u=new Xn.L(we,1,we,1)}else{let ue,we;if(this._isMovingDown){ue=u.endLineNumber+1,we=e.getLineContent(ue),t.addEditOperation(new Nt.Q(ue-1,e.getLineMaxColumn(ue-1),ue,e.getLineMaxColumn(ue)),null);let Qe=we;if(this.shouldAutoIndent(e,u)){const Me=this.matchEnterRule(e,le,l,ue,u.startLineNumber-1);if(Me!==null)Qe=pu(Me+ns(Ne.UU(e.getLineContent(ue)),l),l,K)+this.trimStart(we);else{const yt={tokenization:{getLineTokens:(Dt)=>Dt===u.startLineNumber?e.tokenization.getLineTokens(ue):e.tokenization.getLineTokens(Dt),getLanguageId:n,getLanguageIdAtPosition:r},getLineContent:(Dt)=>Dt===u.startLineNumber?e.getLineContent(ue):e.getLineContent(Dt)},It=_c.$f(this._autoIndent,yt,e.getLanguageIdAtPosition(ue,1),u.startLineNumber,le,this._languageConfigurationService);if(It!==null){const Dt=Ne.UU(e.getLineContent(ue)),cn=ns(It,l);if(cn!==ns(Dt,l))Qe=pu(cn,l,K)+this.trimStart(we)}}t.addEditOperation(new Nt.Q(u.startLineNumber,1,u.startLineNumber,1),Qe+"\n");const nt=this.matchEnterRuleMovingDown(e,le,l,u.startLineNumber,ue,Qe);if(nt!==null)nt!==0&&this.getIndentEditsOfMovingBlock(e,t,u,l,K,nt);else{const yt={tokenization:{getLineTokens:(Dt)=>Dt===u.startLineNumber?e.tokenization.getLineTokens(ue):Dt>=u.startLineNumber+1&&Dt<=u.endLineNumber+1?e.tokenization.getLineTokens(Dt-1):e.tokenization.getLineTokens(Dt),getLanguageId:n,getLanguageIdAtPosition:r},getLineContent:(Dt)=>Dt===u.startLineNumber?Qe:Dt>=u.startLineNumber+1&&Dt<=u.endLineNumber+1?e.getLineContent(Dt-1):e.getLineContent(Dt)},It=_c.$f(this._autoIndent,yt,e.getLanguageIdAtPosition(ue,1),u.startLineNumber+1,le,this._languageConfigurationService);if(It!==null){const Dt=Ne.UU(e.getLineContent(u.startLineNumber)),cn=ns(It,l),Tn=ns(Dt,l);if(cn!==Tn){const On=cn-Tn;this.getIndentEditsOfMovingBlock(e,t,u,l,K,On)}}}}else t.addEditOperation(new Nt.Q(u.startLineNumber,1,u.startLineNumber,1),Qe+"\n")}else if(ue=u.startLineNumber-1,we=e.getLineContent(ue),t.addEditOperation(new Nt.Q(ue,1,ue+1,1),null),t.addEditOperation(new Nt.Q(u.endLineNumber,e.getLineMaxColumn(u.endLineNumber),u.endLineNumber,e.getLineMaxColumn(u.endLineNumber)),"\n"+we),this.shouldAutoIndent(e,u)){const Qe={tokenization:{getLineTokens:(nt)=>nt===ue?e.tokenization.getLineTokens(u.startLineNumber):e.tokenization.getLineTokens(nt),getLanguageId:n,getLanguageIdAtPosition:r},getLineContent:(nt)=>nt===ue?e.getLineContent(u.startLineNumber):e.getLineContent(nt)},Me=this.matchEnterRule(e,le,l,u.startLineNumber,u.startLineNumber-2);if(Me!==null)Me!==0&&this.getIndentEditsOfMovingBlock(e,t,u,l,K,Me);else{const nt=_c.$f(this._autoIndent,Qe,e.getLanguageIdAtPosition(u.startLineNumber,1),ue,le,this._languageConfigurationService);if(nt!==null){const yt=Ne.UU(e.getLineContent(u.startLineNumber)),It=ns(nt,l),Dt=ns(yt,l);if(It!==Dt){const cn=It-Dt;this.getIndentEditsOfMovingBlock(e,t,u,l,K,cn)}}}}}this._selectionId=t.trackSelection(u)}buildIndentConverter(e,t,n){return{shiftIndent:(r)=>od.Y.shiftIndent(r,r.length+1,e,t,n),unshiftIndent:(r)=>od.Y.unshiftIndent(r,r.length+1,e,t,n)}}parseEnterResult(e,t,n,r,o){if(o){let u=o.indentation;o.indentAction===op.l.None||o.indentAction===op.l.Indent?u=o.indentation+o.appendText:o.indentAction===op.l.IndentOutdent?u=o.indentation:o.indentAction===op.l.Outdent&&(u=t.unshiftIndent(o.indentation)+o.appendText);const l=e.getLineContent(r);if(this.trimStart(l).indexOf(this.trimStart(u))>=0){const A=Ne.UU(e.getLineContent(r));let K=Ne.UU(u);const le=_c.Yb(e,r,this._languageConfigurationService);return le!==null&&2&le&&(K=t.unshiftIndent(K)),ns(K,n)-ns(A,n)}}return null}matchEnterRuleMovingDown(e,t,n,r,o,u){if(Ne.lT(u)>=0){const l=e.getLineMaxColumn(o),A=Gm.h(this._autoIndent,e,new Nt.Q(o,l,o,l),this._languageConfigurationService);return this.parseEnterResult(e,t,n,r,A)}{let l=r-1;for(;l>=1;){const le=e.getLineContent(l);if(Ne.lT(le)>=0)break;l--}if(l<1||r>e.getLineCount())return null;const A=e.getLineMaxColumn(l),K=Gm.h(this._autoIndent,e,new Nt.Q(l,A,l,A),this._languageConfigurationService);return this.parseEnterResult(e,t,n,r,K)}}matchEnterRule(e,t,n,r,o,u){let l=o;for(;l>=1;){let le;if(le=l===o&&u!==void 0?u:e.getLineContent(l),Ne.lT(le)>=0)break;l--}if(l<1||r>e.getLineCount())return null;const A=e.getLineMaxColumn(l),K=Gm.h(this._autoIndent,e,new Nt.Q(l,A,l,A),this._languageConfigurationService);return this.parseEnterResult(e,t,n,r,K)}trimStart(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const n=e.getLanguageIdAtPosition(t.startLineNumber,1);return n===e.getLanguageIdAtPosition(t.endLineNumber,1)&&this._languageConfigurationService.getLanguageConfiguration(n).indentRulesSupport!==null}getIndentEditsOfMovingBlock(e,t,n,r,o,u){for(let l=n.startLineNumber;l<=n.endLineNumber;l++){const A=e.getLineContent(l),K=Ne.UU(A),le=pu(ns(K,r)+u,r,o);le!==K&&(t.addEditOperation(new Nt.Q(l,1,l,K.length+1),le),l===n.endLineNumber&&n.endColumn<=K.length+1&&le===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}};Xm=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(3,eo.JZ)],Xm);class bc{static{this._COLLATOR=null}static getCollator(){return bc._COLLATOR||(bc._COLLATOR=new Intl.Collator),bc._COLLATOR}constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}getEditOperations(e,t){const n=function(r,o,u){const l=Yb(r,o,u);return l?Fr.k.replace(new Nt.Q(l.startLineNumber,1,l.endLineNumber,r.getLineMaxColumn(l.endLineNumber)),l.after.join("\n")):null}(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,n){if(e===null)return!1;const r=Yb(e,t,n);if(!r)return!1;for(let o=0,u=r.before.length;o<u;o++)if(r.before[o]!==r.after[o])return!0;return!1}}function Yb(e,t,n){const r=t.startLineNumber;let o=t.endLineNumber;if(t.endColumn===1&&o--,r>=o)return null;const u=[];for(let A=r;A<=o;A++)u.push(e.getLineContent(A));let l=u.slice(0);return l.sort(bc.getCollator().compare),n===!0&&(l=l.reverse()),{startLineNumber:r,endLineNumber:o,before:u,after:l}}class Hm extends O.ks{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const n=t.getSelections().map((u,l)=>({selection:u,index:l,ignore:!1}));n.sort((u,l)=>Nt.Q.compareRangesUsingStarts(u.selection,l.selection));let r=n[0];for(let u=1;u<n.length;u++){const l=n[u];r.selection.endLineNumber===l.selection.startLineNumber&&(r.index<l.index?l.ignore=!0:(r.ignore=!0,r=l))}const o=[];for(let u of n)o.push(new Vm(u.selection,this.down,u.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class jb extends O.ks{constructor(){super({id:"editor.action.duplicateSelection",label:oe.kg("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:Fe.R.writable,menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"2_line",title:oe.kg({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,n){if(!t.hasModel())return;const r=[],o=t.getSelections(),u=t.getModel();for(let l of o)if(l.isEmpty())r.push(new Vm(l,!0));else{const A=new Xn.L(l.endLineNumber,l.endColumn,l.endLineNumber,l.endColumn);r.push(new or.tA(A,u.getValueInRange(l)))}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class Ym extends O.ks{constructor(e,t){super(t),this.down=e}run(e,t){const n=e.get(eo.JZ),r=[],o=t.getSelections()||[],u=t.getOption(12);for(let l of o)r.push(new Xm(l,this.down,u,n));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class jm extends O.ks{constructor(e,t){super(t),this.descending=e}run(e,t){if(!t.hasModel())return;const n=t.getModel();let r=t.getSelections();r.length===1&&r[0].isEmpty()&&(r=[new Xn.L(1,1,n.getLineCount(),n.getLineMaxColumn(n.getLineCount()))]);for(let u of r)if(!bc.canRun(t.getModel(),u,this.descending))return;const o=[];for(let u=0,l=r.length;u<l;u++)o[u]=new bc(r[u],this.descending);t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class qb extends O.ks{constructor(){super({id:"editor.action.removeDuplicateLines",label:oe.kg("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:Fe.R.writable})}run(e,t){if(!t.hasModel())return;const n=t.getModel();if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;const r=[],o=[];let u=0,l=!0,A=t.getSelections();A.length===1&&A[0].isEmpty()&&(A=[new Xn.L(1,1,n.getLineCount(),n.getLineMaxColumn(n.getLineCount()))],l=!1);for(let K of A){const le=new Set,ue=[];for(let nt=K.startLineNumber;nt<=K.endLineNumber;nt++){const yt=n.getLineContent(nt);le.has(yt)||(ue.push(yt),le.add(yt))}const we=new Xn.L(K.startLineNumber,1,K.endLineNumber,n.getLineMaxColumn(K.endLineNumber)),Qe=K.startLineNumber-u,Me=new Xn.L(Qe,1,Qe+ue.length-1,ue[ue.length-1].length);r.push(Fr.k.replace(we,ue.join("\n"))),o.push(Me),u+=K.endLineNumber-K.startLineNumber+1-ue.length}t.pushUndoStop(),t.executeEdits(this.id,r,l?o:void 0),t.pushUndoStop()}}class qm extends O.ks{static{this.ID="editor.action.trimTrailingWhitespace"}constructor(){super({id:qm.ID,label:oe.kg("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:Ln.m5(2089,2102),weight:100}})}run(e,t,n){let r=[];n.reason==="auto-save"&&(r=(t.getSelections()||[]).map((le)=>new Yn.y(le.positionLineNumber,le.positionColumn)));const o=t.getSelection();if(o===null)return;const u=e.get(lt.pG),l=t.getModel(),A=u.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:l?.getLanguageId(),resource:l?.uri}),K=new Xb(o,r,A);t.pushUndoStop(),t.executeCommands(this.id,[K]),t.pushUndoStop()}}class Kb extends O.ks{constructor(){super({id:"editor.action.deleteLines",label:oe.kg("lines.delete","Delete Line"),alias:"Delete Line",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;const n=this._getLinesToRemove(t),r=t.getModel();if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return;let o=0;const u=[],l=[];for(let A=0,K=n.length;A<K;A++){const le=n[A];let{startLineNumber:ue,endLineNumber:we}=le,Qe=1,Me=r.getLineMaxColumn(we);we<r.getLineCount()?(we+=1,Me=1):ue>1&&(ue-=1,Qe=r.getLineMaxColumn(ue)),u.push(Fr.k.replace(new Xn.L(ue,Qe,we,Me),"")),l.push(new Xn.L(ue-o,le.positionColumn,ue-o,le.positionColumn)),o+=le.endLineNumber-le.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,u,l),t.pushUndoStop()}_getLinesToRemove(e){const t=e.getSelections().map((o)=>{let u=o.endLineNumber;return o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(u-=1),{startLineNumber:o.startLineNumber,selectionStartColumn:o.selectionStartColumn,endLineNumber:u,positionColumn:o.positionColumn}});t.sort((o,u)=>o.startLineNumber===u.startLineNumber?o.endLineNumber-u.endLineNumber:o.startLineNumber-u.startLineNumber);const n=[];let r=t[0];for(let o=1;o<t.length;o++)r.endLineNumber+1>=t[o].startLineNumber?r.endLineNumber=t[o].endLineNumber:(n.push(r),r=t[o]);return n.push(r),n}}class ev extends O.ks{constructor(){super({id:"editor.action.indentLines",label:oe.kg("lines.indent","Indent Line"),alias:"Indent Line",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:2142,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,JS.T.indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class tv extends O.ks{constructor(){super({id:"editor.action.outdentLines",label:oe.kg("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:2140,weight:100}})}run(e,t){We.Yh.Outdent.runEditorCommand(e,t,null)}}class nv extends O.ks{constructor(){super({id:"editor.action.insertLineBefore",label:oe.kg("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:3075,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,Hb.AO.lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}}class iv extends O.ks{constructor(){super({id:"editor.action.insertLineAfter",label:oe.kg("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:2051,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,Hb.AO.lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}}class Km extends O.ks{run(e,t){if(!t.hasModel())return;const n=t.getSelection(),r=this._getRangesToDelete(t),o=[];for(let A=0,K=r.length-1;A<K;A++){const le=r[A],ue=r[A+1];Nt.Q.intersectRanges(le,ue)===null?o.push(le):r[A+1]=Nt.Q.plusRange(le,ue)}o.push(r[r.length-1]);const u=this._getEndCursorState(n,o),l=o.map((A)=>Fr.k.replace(A,""));t.pushUndoStop(),t.executeEdits(this.id,l,u),t.pushUndoStop()}}class rv extends O.ks{constructor(){super({id:"editor.action.joinLines",label:oe.kg("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){const n=t.getSelections();if(n===null)return;let r=t.getSelection();if(r===null)return;n.sort(Nt.Q.compareRangesUsingStarts);const o=[],u=n.reduce((we,Qe)=>we.isEmpty()?we.endLineNumber===Qe.startLineNumber?(r.equalsSelection(we)&&(r=Qe),Qe):Qe.startLineNumber>we.endLineNumber+1?(o.push(we),Qe):new Xn.L(we.startLineNumber,we.startColumn,Qe.endLineNumber,Qe.endColumn):Qe.startLineNumber>we.endLineNumber?(o.push(we),Qe):new Xn.L(we.startLineNumber,we.startColumn,Qe.endLineNumber,Qe.endColumn));o.push(u);const l=t.getModel();if(l===null)return;const A=[],K=[];let le=r,ue=0;for(let we=0,Qe=o.length;we<Qe;we++){const Me=o[we],nt=Me.startLineNumber;let It,Dt,cn=0;const Tn=l.getLineLength(Me.endLineNumber)-Me.endColumn;if(Me.isEmpty()||Me.startLineNumber===Me.endLineNumber){const mi=Me.getStartPosition();mi.lineNumber<l.getLineCount()?(It=nt+1,Dt=l.getLineMaxColumn(It)):(It=mi.lineNumber,Dt=l.getLineMaxColumn(mi.lineNumber))}else It=Me.endLineNumber,Dt=l.getLineMaxColumn(It);let On=l.getLineContent(nt);for(let mi=nt+1;mi<=It;mi++){const Bi=l.getLineContent(mi),Lr=l.getLineFirstNonWhitespaceColumn(mi);if(Lr>=1){let so=!0;On===""&&(so=!1),!so||On.charAt(On.length-1)!==" "&&On.charAt(On.length-1)!=="\t"||(so=!1,On=On.replace(/[\s\uFEFF\xA0]+$/g," "));const wa=Bi.substr(Lr-1);On+=(so?" ":"")+wa,cn=so?wa.length+1:wa.length}else cn=0}const Kn=new Nt.Q(nt,1,It,Dt);if(!Kn.isEmpty()){let mi;Me.isEmpty()?(A.push(Fr.k.replace(Kn,On)),mi=new Xn.L(Kn.startLineNumber-ue,On.length-cn+1,nt-ue,On.length-cn+1)):Me.startLineNumber===Me.endLineNumber?(A.push(Fr.k.replace(Kn,On)),mi=new Xn.L(Me.startLineNumber-ue,Me.startColumn,Me.endLineNumber-ue,Me.endColumn)):(A.push(Fr.k.replace(Kn,On)),mi=new Xn.L(Me.startLineNumber-ue,Me.startColumn,Me.startLineNumber-ue,On.length-Tn)),Nt.Q.intersectRanges(Kn,r)!==null?le=mi:K.push(mi)}ue+=Kn.endLineNumber-Kn.startLineNumber}K.unshift(le),t.pushUndoStop(),t.executeEdits(this.id,A,K),t.pushUndoStop()}}class ov extends O.ks{constructor(){super({id:"editor.action.transpose",label:oe.kg("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:Fe.R.writable})}run(e,t){const n=t.getSelections();if(n===null)return;const r=t.getModel();if(r===null)return;const o=[];for(let u=0,l=n.length;u<l;u++){const A=n[u];if(!A.isEmpty())continue;const K=A.getStartPosition(),le=r.getLineMaxColumn(K.lineNumber);if(K.column>=le){if(K.lineNumber===r.getLineCount())continue;const ue=new Nt.Q(K.lineNumber,Math.max(1,K.column-1),K.lineNumber+1,1),we=r.getValueInRange(ue).split("").reverse().join("");o.push(new or.iu(new Xn.L(K.lineNumber,Math.max(1,K.column-1),K.lineNumber+1,1),we))}else{const ue=new Nt.Q(K.lineNumber,Math.max(1,K.column-1),K.lineNumber,K.column+1),we=r.getValueInRange(ue).split("").reverse().join("");o.push(new or.ui(ue,we,new Xn.L(K.lineNumber,K.column+1,K.lineNumber,K.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class Ll extends O.ks{run(e,t){const n=t.getSelections();if(n===null)return;const r=t.getModel();if(r===null)return;const o=t.getOption(132),u=[];for(let l of n)if(l.isEmpty()){const A=l.getStartPosition(),K=t.getConfiguredWordAtPosition(A);if(!K)continue;const le=new Nt.Q(A.lineNumber,K.startColumn,A.lineNumber,K.endColumn),ue=r.getValueInRange(le);u.push(Fr.k.replace(le,this._modifyText(ue,o)))}else{const A=r.getValueInRange(l);u.push(Fr.k.replace(l,this._modifyText(A,o)))}t.pushUndoStop(),t.executeEdits(this.id,u),t.pushUndoStop()}}class ba{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return this.get()!==null}}class sp extends Ll{static{this.titleBoundary=new ba("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu")}constructor(){super({id:"editor.action.transformToTitlecase",label:oe.kg("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:Fe.R.writable})}_modifyText(e,t){const n=sp.titleBoundary.get();return n?e.toLocaleLowerCase().replace(n,(r)=>r.toLocaleUpperCase()):e}}class ad extends Ll{static{this.caseBoundary=new ba("(\\p{Ll})(\\p{Lu})","gmu")}static{this.singleLetters=new ba("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu")}constructor(){super({id:"editor.action.transformToSnakecase",label:oe.kg("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:Fe.R.writable})}_modifyText(e,t){const n=ad.caseBoundary.get(),r=ad.singleLetters.get();return n&&r?e.replace(n,"$1_$2").replace(r,"$1_$2$3").toLocaleLowerCase():e}}class ap extends Ll{static{this.wordBoundary=new ba("[_\\s-]","gm")}constructor(){super({id:"editor.action.transformToCamelcase",label:oe.kg("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:Fe.R.writable})}_modifyText(e,t){const n=ap.wordBoundary.get();if(!n)return e;const r=e.split(n);return r.shift()+r.map((o)=>o.substring(0,1).toLocaleUpperCase()+o.substring(1)).join("")}}class fu extends Ll{static{this.wordBoundary=new ba("[_\\s-]","gm")}static{this.wordBoundaryToMaintain=new ba("(?<=\\.)","gm")}constructor(){super({id:"editor.action.transformToPascalcase",label:oe.kg("editor.transformToPascalcase","Transform to Pascal Case"),alias:"Transform to Pascal Case",precondition:Fe.R.writable})}_modifyText(e,t){const n=fu.wordBoundary.get(),r=fu.wordBoundaryToMaintain.get();return n&&r?e.split(r).map((o)=>o.split(n)).flat().map((o)=>o.substring(0,1).toLocaleUpperCase()+o.substring(1)).join(""):e}}class ld extends Ll{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every((e)=>e.isSupported())}static{this.caseBoundary=new ba("(\\p{Ll})(\\p{Lu})","gmu")}static{this.singleLetters=new ba("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu")}static{this.underscoreBoundary=new ba("(\\S)(_)(\\S)","gm")}constructor(){super({id:"editor.action.transformToKebabcase",label:oe.kg("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:Fe.R.writable})}_modifyText(e,t){const n=ld.caseBoundary.get(),r=ld.singleLetters.get(),o=ld.underscoreBoundary.get();return n&&r&&o?e.replace(o,"$1-$3").replace(n,"$1-$2").replace(r,"$1-$2").toLocaleLowerCase():e}}O.Fl(class extends Hm{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:oe.kg("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"2_line",title:oe.kg({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),O.Fl(class extends Hm{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:oe.kg("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"2_line",title:oe.kg({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),O.Fl(jb),O.Fl(class extends Ym{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:oe.kg("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"2_line",title:oe.kg({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),O.Fl(class extends Ym{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:oe.kg("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"2_line",title:oe.kg({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),O.Fl(class extends jm{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:oe.kg("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:Fe.R.writable})}}),O.Fl(class extends jm{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:oe.kg("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:Fe.R.writable})}}),O.Fl(qb),O.Fl(qm),O.Fl(Kb),O.Fl(ev),O.Fl(tv),O.Fl(nv),O.Fl(iv),O.Fl(class extends Km{constructor(){super({id:"deleteAllLeft",label:oe.kg("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let n=null;const r=[];let o=0;return t.forEach((u)=>{let l;if(u.endColumn===1&&o>0){const A=u.startLineNumber-o;l=new Xn.L(A,u.startColumn,A,u.startColumn)}else l=new Xn.L(u.startLineNumber,u.startColumn,u.startLineNumber,u.startColumn);o+=u.endLineNumber-u.startLineNumber,u.intersectRanges(e)?n=l:r.push(l)}),n&&r.unshift(n),r}_getRangesToDelete(e){const t=e.getSelections();if(t===null)return[];let n=t;const r=e.getModel();return r===null?[]:(n.sort(Nt.Q.compareRangesUsingStarts),n=n.map((o)=>{if(o.isEmpty()){if(o.startColumn===1){const u=Math.max(1,o.startLineNumber-1),l=o.startLineNumber===1?1:r.getLineLength(u)+1;return new Nt.Q(u,l,o.startLineNumber,1)}return new Nt.Q(o.startLineNumber,1,o.startLineNumber,o.startColumn)}return new Nt.Q(o.startLineNumber,1,o.endLineNumber,o.endColumn)}),n)}}),O.Fl(class extends Km{constructor(){super({id:"deleteAllRight",label:oe.kg("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let n=null;const r=[];for(let o=0,u=t.length,l=0;o<u;o++){const A=t[o],K=new Xn.L(A.startLineNumber-l,A.startColumn,A.startLineNumber-l,A.startColumn);A.intersectRanges(e)?n=K:r.push(K)}return n&&r.unshift(n),r}_getRangesToDelete(e){const t=e.getModel();if(t===null)return[];const n=e.getSelections();if(n===null)return[];const r=n.map((o)=>{if(o.isEmpty()){const u=t.getLineMaxColumn(o.startLineNumber);return o.startColumn===u?new Nt.Q(o.startLineNumber,o.startColumn,o.startLineNumber+1,1):new Nt.Q(o.startLineNumber,o.startColumn,o.startLineNumber,u)}return o});return r.sort(Nt.Q.compareRangesUsingStarts),r}}),O.Fl(rv),O.Fl(ov),O.Fl(class extends Ll{constructor(){super({id:"editor.action.transformToUppercase",label:oe.kg("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:Fe.R.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}),O.Fl(class extends Ll{constructor(){super({id:"editor.action.transformToLowercase",label:oe.kg("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:Fe.R.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}),ad.caseBoundary.isSupported()&&ad.singleLetters.isSupported()&&O.Fl(ad),ap.wordBoundary.isSupported()&&O.Fl(ap),fu.wordBoundary.isSupported()&&O.Fl(fu),sp.titleBoundary.isSupported()&&O.Fl(sp),ld.isSupported()&&O.Fl(ld);var lp,cp=function(e,t){return function(n,r){t(n,r,e)}};const sv=new ye.N1("LinkedEditingInputVisible",!1);let cd=class extends ft.jG{static{lp=this}static{this.ID="editor.contrib.linkedEditing"}static{this.DECORATION=Hn.kI.register({description:"linked-editing",stickiness:0,className:"linked-editing-decoration"})}static get(e){return e.getContribution(lp.ID)}constructor(e,t,n,r,o){super(),this.languageConfigurationService=r,this._syncRangesToken=0,this._localToDispose=this._register(new ft.Cm),this._editor=e,this._providers=n.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=sv.bindTo(t),this._debounceInformation=o.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new ft.Cm),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration((u)=>{(u.hasChanged(70)||u.hasChanged(94))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(e){const t=this._editor.getModel(),n=t!==null&&(this._editor.getOption(70)||this._editor.getOption(94))&&this._providers.has(t);if(n===this._enabled&&!e)return;if(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||t===null)return;this._localToDispose.add(Rt.Jh.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const r=new un.ve(this._debounceInformation.get(t)),o=()=>{this._rangeUpdateTriggerPromise=r.trigger(()=>this.updateRanges(),this._debounceDuration??this._debounceInformation.get(t))},u=new un.ve(0),l=(A)=>{this._rangeSyncTriggerPromise=u.trigger(()=>this._syncRanges(A))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent((A)=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const K=this._currentDecorations.getRange(0);if(K&&A.changes.every((le)=>K.intersectRanges(le.range)))return void l(this._syncRangesToken)}o()})),this._localToDispose.add({dispose:()=>{r.dispose(),u.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||this._currentDecorations.length===0)return;const t=this._editor.getModel(),n=this._currentDecorations.getRange(0);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const r=t.getValueInRange(n);if(this._currentWordPattern){const u=r.match(this._currentWordPattern);if((u?u[0].length:0)!==r.length)return this.clearRanges()}const o=[];for(let u=1,l=this._currentDecorations.length;u<l;u++){const A=this._currentDecorations.getRange(u);if(A)if(A.startLineNumber!==A.endLineNumber)o.push({range:A,text:r});else{let K=t.getValueInRange(A),le=r,ue=A.startColumn,we=A.endColumn;const Qe=Ne.Qp(K,le);ue+=Qe,K=K.substr(Qe),le=le.substr(Qe);const Me=Ne.Vi(K,le);we-=Me,K=K.substr(0,K.length-Me),le=le.substr(0,le.length-Me),ue===we&&le.length===0||o.push({range:new Nt.Q(A.startLineNumber,ue,A.endLineNumber,we),text:le})}}if(o.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const u=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(u)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}async updateRanges(e=!1){if(!this._editor.hasModel())return void this.clearRanges();const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),r=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===r){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const u=this._currentDecorations.getRange(0);if(u&&u.containsPosition(t))return}}this.clearRanges(),this._currentRequestPosition=t,this._currentRequestModelVersion=r;const o=this._currentRequestCts=new wn.Qi;try{const u=new Kr.W(!1),l=await lv(this._providers,n,t,o.token);if(this._debounceInformation.update(n,u.elapsed()),o!==this._currentRequestCts)return;if(this._currentRequestCts=null,r!==n.getVersionId())return;let A=[];l?.ranges&&(A=l.ranges),this._currentWordPattern=l?.wordPattern||this._languageWordPattern;let K=!1;for(let ue=0,we=A.length;ue<we;ue++)if(Nt.Q.containsPosition(A[ue],t)){if(K=!0,ue!==0){const Qe=A[ue];A.splice(ue,1),A.unshift(Qe)}break}if(!K)return void this.clearRanges();const le=A.map((ue)=>({range:ue,options:lp.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(le),this._syncRangesToken++}catch(u){ii.MB(u)||ii.dz(u),this._currentRequestCts!==o&&this._currentRequestCts||this.clearRanges()}}};cd=lp=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([cp(1,ye.fN),cp(2,Wt.ILanguageFeaturesService),cp(3,eo.JZ),cp(4,Eo.ILanguageFeatureDebounceService)],cd);class av extends O.ks{constructor(){super({id:"editor.action.linkedEditing",label:oe.kg("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:ye.M$.and(Fe.R.writable,Fe.R.hasRenameProvider),kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const n=e.get(Ue.T),[r,o]=Array.isArray(t)&&t||[void 0,void 0];return ht.r.isUri(r)&&Yn.y.isIPosition(o)?n.openCodeEditor({resource:r},n.getActiveCodeEditor()).then((u)=>{u&&(u.setPosition(o),u.invokeWithinContext((l)=>(this.reportTelemetry(l,u),this.run(l,u))))},ii.dz):super.runCommand(e,t)}run(e,t){const n=cd.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}const kS=O.DX.bindToContribution(cd.get);function lv(e,t,n,r){const o=e.ordered(t);return un.$1(o.map((u)=>async()=>{try{return await u.provideLinkedEditingRanges(t,n,r)}catch(l){return void ii.M_(l)}}),(u)=>!!u&&mn.EI(u?.ranges))}O.E_(new kS({id:"cancelLinkedEditingInput",precondition:sv,handler:(e)=>e.clearRanges(),kbOpts:{kbExpr:Fe.R.editorTextFocus,weight:199,primary:9,secondary:[1033]}})),Xt.x1A("editor.linkedEditingBackground",{dark:hi.Q1.fromHex("#f00").transparent(0.3),light:hi.Q1.fromHex("#f00").transparent(0.3),hcDark:hi.Q1.fromHex("#f00").transparent(0.3),hcLight:hi.Q1.white},oe.kg("editorLinkedEditingBackground","Background color when the editor auto renames on type.")),O.ke("_executeLinkedEditingProvider",(e,t,n)=>{const{linkedEditingRangeProvider:r}=e.get(Wt.ILanguageFeaturesService);return lv(r,t,n,wn.XO.None)}),O.HW(cd.ID,cd,1),O.Fl(av);class cv{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}async resolve(e){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then((t)=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}}class dp{constructor(e){this._disposables=new ft.Cm;let t=[];for(let[n,r]of e){const o=n.links.map((u)=>new cv(u,r));t=dp._union(t,o),ft.Xm(n)&&this._disposables.add(n)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){const n=[];let r,o,u,l;for(r=0,u=0,o=e.length,l=t.length;r<o&&u<l;){const A=e[r],K=t[u];Nt.Q.areIntersectingOrTouching(A.range,K.range)?r++:Nt.Q.compareRangesUsingStarts(A.range,K.range)<0?(n.push(A),r++):(n.push(K),u++)}for(;r<o;r++)n.push(e[r]);for(;u<l;u++)n.push(t[u]);return n}}function dv(e,t,n){const r=[],o=e.ordered(t).reverse().map((u,l)=>Promise.resolve(u.provideLinks(t,n)).then((A)=>{A&&(r[l]=[A,u])},ii.M_));return Promise.all(o).then(()=>{const u=new dp(mn.Yc(r));return n.isCancellationRequested?(u.dispose(),new dp([])):u})}En.w.registerCommand("_executeLinkProvider",async(e,...t)=>{let[n,r]=t;yn.j(n instanceof ht.r),typeof r!="number"&&(r=0);const{linkProvider:o}=e.get(Wt.ILanguageFeaturesService),u=e.get(Di.IModelService).getModel(n);if(!u)return[];const l=await dv(o,u,wn.XO.None);if(!l)return[];for(let K=0;K<Math.min(r,l.links.length);K++)await l.links[K].resolve(wn.XO.None);const A=l.links.slice(0);return l.dispose(),A});var eg,up=function(e,t){return function(n,r){t(n,r,e)}};let mu=class extends ft.jG{static{eg=this}static{this.ID="editor.linkDetector"}static get(e){return e.getContribution(eg.ID)}constructor(e,t,n,r,o){super(),this.editor=e,this.openerService=t,this.notificationService=n,this.languageFeaturesService=r,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=o.for(this.providers,"Links",{min:1000,max:4000}),this.computeLinks=this._register(new un.uC(()=>this.computeLinksNow(),1000)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const u=this._register(new ec(e));this._register(u.onMouseMoveOrRelevantKeyDown(([l,A])=>{this._onEditorMouseMove(l,A)})),this._register(u.onExecute((l)=>{this.onEditorMouseUp(l)})),this._register(u.onCancel((l)=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration((l)=>{l.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent((l)=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel((l)=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage((l)=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange((l)=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}async computeLinksNow(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;const e=this.editor.getModel();if(!e.isTooLargeForSyncing()&&this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=un.SS((t)=>dv(this.providers,e,t));try{const t=new Kr.W(!1);if(this.activeLinksList=await this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){ii.dz(t)}finally{this.computePromise=null}}}updateDecorations(e){const t=this.editor.getOption(78)==="altKey",n=[],r=Object.keys(this.currentOccurrences);for(let u of r){const l=this.currentOccurrences[u];n.push(l.decorationId)}const o=[];if(e)for(let u of e)o.push(dd.decoration(u,t));this.editor.changeDecorations((u)=>{const l=u.deltaDecorations(n,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let A=0,K=l.length;A<K;A++){const le=new dd(e[A],l[A]);this.currentOccurrences[le.decorationId]=le}})}_onEditorMouseMove(e,t){const n=this.editor.getOption(78)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const r=this.getLinkOccurrence(e.target.position);r&&this.editor.changeDecorations((o)=>{r.activate(o,n),this.activeLinkDecorationId=r.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((n)=>{t.deactivate(n,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,n=!1){if(!this.openerService)return;const{link:r}=e;r.resolve(wn.XO.None).then((o)=>{if(typeof o=="string"&&this.editor.hasModel()){const u=this.editor.getModel().uri;if(u.scheme===Nn.ny.file&&o.startsWith(`${Nn.ny.file}:`)){const l=ht.r.parse(o);if(l.scheme===Nn.ny.file){const A=bn.su(l);let K=null;A.startsWith("/./")||A.startsWith("\\.\\")?K=`.${A.substr(1)}`:(A.startsWith("//./")||A.startsWith("\\\\.\\"))&&(K=`.${A.substr(2)}`),K&&(o=bn.uJ(u,K))}}}return this.openerService.open(o,{openToSide:t,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},(o)=>{const u=o instanceof Error?o.message:o;u==="invalid"?this.notificationService.warn(oe.kg("invalid.url","Failed to open this link because it is not well-formed: {0}",r.url.toString())):u==="missing"?this.notificationService.warn(oe.kg("missing.url","Failed to open this link because its target is missing.")):ii.dz(o)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(let n of t){const r=this.currentOccurrences[n.id];if(r)return r}return null}isEnabled(e,t){return Boolean(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){this.computeLinks.cancel(),this.activeLinksList&&(this.activeLinksList?.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};mu=eg=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([up(1,hn.C),up(2,Dr.Ot),up(3,Wt.ILanguageFeaturesService),up(4,Eo.ILanguageFeatureDebounceService)],mu);const TS=Hn.kI.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),AS=Hn.kI.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"});class dd{static decoration(e,t){return{range:e.range,options:dd._getOptions(e,t,!1)}}static _getOptions(e,t,n){const r={...n?AS:TS};return r.hoverMessage=function(o,u){const l=o.url&&/^command:/i.test(o.url.toString()),A=o.tooltip?o.tooltip:l?oe.kg("links.navigate.executeCmd","Execute command"):oe.kg("links.navigate.follow","Follow link"),K=u?tn.zx?oe.kg("links.navigate.kb.meta.mac","cmd + click"):oe.kg("links.navigate.kb.meta","ctrl + click"):tn.zx?oe.kg("links.navigate.kb.alt.mac","option + click"):oe.kg("links.navigate.kb.alt","alt + click");if(o.url){let le="";if(/^command:/i.test(o.url.toString())){const ue=o.url.toString().match(/^command:([^?#]+)/);if(ue){const we=ue[1];le=oe.kg("tooltip.explanation","Execute command {0}",we)}}return new ti.Bc("",!0).appendLink(o.url.toString(!0).replace(/ /g,"%20"),A,le).appendMarkdown(` (${K})`)}return new ti.Bc().appendText(`${A} (${K})`)}(e,t),r}constructor(e,t){this.link=e,this.decorationId=t}activate(e,t){e.changeDecorationOptions(this.decorationId,dd._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,dd._getOptions(this.link,t,!1))}}class uv extends O.ks{constructor(){super({id:"editor.action.openLink",label:oe.kg("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const n=mu.get(t);if(!n)return;if(!t.hasModel())return;const r=t.getSelections();for(let o of r){const u=n.getLinkOccurrence(o.getEndPosition());u&&n.openLinkOccurrence(u,!1)}}}O.HW(mu.ID,mu,1),O.Fl(uv);class tg extends ft.jG{static{this.ID="editor.contrib.longLinesHelper"}constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown((t)=>{const n=this._editor.getOption(118);n>=0&&t.target.type===6&&t.target.position.column>=n&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}O.HW(tg.ID,tg,2);const NS=Xt.x1A("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},oe.kg("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);Xt.x1A("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},oe.kg("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),Xt.x1A("editor.wordHighlightTextBackground",NS,oe.kg("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const IS=Xt.x1A("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Xt.buw,hcLight:Xt.buw},oe.kg("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));Xt.x1A("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Xt.buw,hcLight:Xt.buw},oe.kg("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),Xt.x1A("editor.wordHighlightTextBorder",IS,oe.kg("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const RS=Xt.x1A("editorOverviewRuler.wordHighlightForeground","#A0A0A0CC",oe.kg("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),LS=Xt.x1A("editorOverviewRuler.wordHighlightStrongForeground","#C0A0C0CC",oe.kg("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),DS=Xt.x1A("editorOverviewRuler.wordHighlightTextForeground",Xt.z5H,oe.kg("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),MS=Hn.kI.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:pi.Yf(LS),position:Ci.A5.Center},minimap:{color:pi.Yf(Xt.Xp1),position:1}}),PS=Hn.kI.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:pi.Yf(DS),position:Ci.A5.Center},minimap:{color:pi.Yf(Xt.Xp1),position:1}}),FS=Hn.kI.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:pi.Yf(Xt.z5H),position:Ci.A5.Center},minimap:{color:pi.Yf(Xt.Xp1),position:1}}),OS=Hn.kI.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),QS=Hn.kI.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:pi.Yf(RS),position:Ci.A5.Center},minimap:{color:pi.Yf(Xt.Xp1),position:1}});function zS(e){return e?OS:FS}pi.zy((e,t)=>{const n=e.getColor(Xt.QwA);n&&t.addRule(`.monaco-editor .selectionHighlight { background-color: ${n.transparent(0.5)}; }`)});var ng;function Dl(e,t){const n=t.filter((r)=>!e.find((o)=>o.equals(r)));if(n.length>=1){const r=n.map((u)=>`line ${u.viewState.position.lineNumber} column ${u.viewState.position.column}`).join(", "),o=n.length===1?oe.kg("cursorAdded","Cursor added: {0}",r):oe.kg("cursorsAdded","Cursors added: {0}",r);si.h5(o)}}class hv extends O.ks{constructor(){super({id:"editor.action.insertCursorAbove",label:oe.kg("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"3_multi",title:oe.kg({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,n){if(!t.hasModel())return;let r=!0;n&&n.logicalLine===!1&&(r=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const u=o.getCursorStates();o.setCursorStates(n.source,3,Bm.c.addCursorUp(o,u,r)),o.revealTopMostCursor(n.source),Dl(u,o.getCursorStates())}}class pv extends O.ks{constructor(){super({id:"editor.action.insertCursorBelow",label:oe.kg("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"3_multi",title:oe.kg({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,n){if(!t.hasModel())return;let r=!0;n&&n.logicalLine===!1&&(r=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const u=o.getCursorStates();o.setCursorStates(n.source,3,Bm.c.addCursorDown(o,u,r)),o.revealBottomMostCursor(n.source),Dl(u,o.getCursorStates())}}class fv extends O.ks{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:oe.kg("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"3_multi",title:oe.kg({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,n){if(!e.isEmpty()){for(let r=e.startLineNumber;r<e.endLineNumber;r++){const o=t.getLineMaxColumn(r);n.push(new Xn.L(r,o,r,o))}e.endColumn>1&&n.push(new Xn.L(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const n=t.getModel(),r=t.getSelections(),o=t._getViewModel(),u=o.getCursorStates(),l=[];r.forEach((A)=>this.getCursorsForSelection(A,n,l)),l.length>0&&t.setSelections(l),Dl(u,o.getCursorStates())}}class mv extends O.ks{constructor(){super({id:"editor.action.addCursorsToBottom",label:oe.kg("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections(),r=t.getModel().getLineCount(),o=[];for(let A=n[0].startLineNumber;A<=r;A++)o.push(new Xn.L(A,n[0].startColumn,A,n[0].endColumn));const u=t._getViewModel(),l=u.getCursorStates();o.length>0&&t.setSelections(o),Dl(l,u.getCursorStates())}}class gv extends O.ks{constructor(){super({id:"editor.action.addCursorsToTop",label:oe.kg("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections(),r=[];for(let l=n[0].startLineNumber;l>=1;l--)r.push(new Xn.L(l,n[0].startColumn,l,n[0].endColumn));const o=t._getViewModel(),u=o.getCursorStates();r.length>0&&t.setSelections(r),Dl(u,o.getCursorStates())}}class gu{constructor(e,t,n){this.selections=e,this.revealRange=t,this.revealScrollType=n}}class _u{static create(e,t){if(!e.hasModel())return null;const n=t.getState();if(!e.hasTextFocus()&&n.isRevealed&&n.searchString.length>0)return new _u(e,t,!1,n.searchString,n.wholeWord,n.matchCase,null);let r,o,u=!1;const l=e.getSelections();l.length===1&&l[0].isEmpty()?(u=!0,r=!0,o=!0):(r=n.wholeWord,o=n.matchCase);const A=e.getSelection();let K,le=null;if(A.isEmpty()){const ue=e.getConfiguredWordAtPosition(A.getStartPosition());if(!ue)return null;K=ue.word,le=new Xn.L(A.startLineNumber,ue.startColumn,A.startLineNumber,ue.endColumn)}else K=e.getModel().getValueInRange(A).replace(/\r\n/g,"\n");return new _u(e,t,u,K,r,o,le)}constructor(e,t,n,r,o,u,l){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=n,this.searchText=r,this.wholeWord=o,this.matchCase=u,this.currentMatch=l}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new gu(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new gu(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1);return n?new Xn.L(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new gu(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new gu(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1);return n?new Xn.L(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1,1073741824)}}class ud extends ft.jG{static{this.ID="editor.contrib.multiCursorController"}static get(e){return e.getContribution(ud.ID)}constructor(e){super(),this._sessionDispose=this._register(new ft.Cm),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=_u.create(this._editor,e);if(!t)return;this._session=t;const n={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(n.wholeWordOverride=1,n.matchCaseOverride=1,n.isRegexOverride=2),e.getState().change(n,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((r)=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange((r)=>{(r.matchCase||r.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const n=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return n?new Xn.L(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const n=e.getState().matchCase;if(!bv(this._editor.getModel(),t,n)){const r=this._editor.getModel(),o=[];for(let u=0,l=t.length;u<l;u++)o[u]=this._expandEmptyToWord(r,t[u]);return void this._editor.setSelections(o)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const n=e.getState();if(n.isRevealed&&n.searchString.length>0&&n.isRegex){const r=this._editor.getModel();t=n.searchScope?r.findMatches(n.searchString,n.searchScope,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(132):null,!1,1073741824):r.findMatches(n.searchString,!0,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(132):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(n.searchScope)}if(t.length>0){const r=this._editor.getSelection();for(let o=0,u=t.length;o<u;o++){const l=t[o];if(l.range.intersectRanges(r)){t[o]=t[0],t[0]=l;break}}this._setSelections(t.map((o)=>new Xn.L(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)))}}}class vc extends O.ks{run(e,t){const n=ud.get(t);if(!n)return;const r=t._getViewModel();if(r){const o=r.getCursorStates(),u=Xo.get(t);if(u)this._run(n,u);else{const l=e.get(Ke._Y).createInstance(Xo,t);this._run(n,l),l.dispose()}Dl(o,r.getCursorStates())}}}class _v{constructor(e,t,n,r,o){this._model=e,this._searchText=t,this._matchCase=n,this._wordSeparators=r,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,o&&this._model===o._model&&this._searchText===o._searchText&&this._matchCase===o._matchCase&&this._wordSeparators===o._wordSeparators&&this._modelVersionId===o._modelVersionId&&(this._cachedFindMatches=o._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map((e)=>e.range),this._cachedFindMatches.sort(Nt.Q.compareRangesUsingStarts)),this._cachedFindMatches}}let hp=class extends ft.jG{static{ng=this}static{this.ID="editor.contrib.selectionHighlighter"}constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(109),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new un.uC(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration((r)=>{this._isEnabled=e.getOption(109)})),this._register(e.onDidChangeCursorSelection((r)=>{this._isEnabled&&(r.selection.isEmpty()?r.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel((r)=>{this._setState(null)})),this._register(e.onDidChangeModelContent((r)=>{this._isEnabled&&this.updateSoon.schedule()}));const n=Xo.get(e);n&&this._register(n.getState().onFindReplaceStateChange((r)=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(ng._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,n){if(!t)return null;if(!n.hasModel())return null;const r=n.getSelection();if(r.startLineNumber!==r.endLineNumber)return null;const o=ud.get(n);if(!o)return null;const u=Xo.get(n);if(!u)return null;let l=o.getSession(u);if(!l){const le=n.getSelections();if(le.length>1){const ue=u.getState().matchCase;if(!bv(n.getModel(),le,ue))return null}l=_u.create(n,u)}if(!l)return null;if(l.currentMatch)return null;if(/^[ \t]+$/.test(l.searchText))return null;if(l.searchText.length>200)return null;const A=u.getState(),K=A.matchCase;if(A.isRevealed){let le=A.searchString;K||(le=le.toLowerCase());let ue=l.searchText;if(K||(ue=ue.toLowerCase()),le===ue&&l.matchCase===A.matchCase&&l.wholeWord===A.wholeWord&&!A.isRegex)return null}return new _v(n.getModel(),l.searchText,l.matchCase,l.wholeWord?n.getOption(132):null,e)}_setState(e){if(this.state=e,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const n=this.state.findMatches(),r=this.editor.getSelections();r.sort(Nt.Q.compareRangesUsingStarts);const o=[];for(let K=0,le=0,ue=n.length,we=r.length;K<ue;){const Qe=n[K];if(le>=we)o.push(Qe),K++;else{const Me=Nt.Q.compareRangesUsingStarts(Qe,r[le]);Me<0?(!r[le].isEmpty()&&Nt.Q.areIntersecting(Qe,r[le])||o.push(Qe),K++):(Me>0||K++,le++)}}const u=this.editor.getOption(81)!=="off",l=this._languageFeaturesService.documentHighlightProvider.has(t)&&u,A=o.map((K)=>({range:K,options:zS(l)}));this._decorations.set(A)}dispose(){this._setState(null),super.dispose()}};function bv(e,t,n){const r=vv(e,t[0],!n);for(let o=1,u=t.length;o<u;o++){const l=t[o];if(l.isEmpty())return!1;if(r!==vv(e,l,!n))return!1}return!0}function vv(e,t,n){const r=e.getValueInRange(t);return n?r.toLowerCase():r}hp=ng=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(1,Wt.ILanguageFeaturesService)],hp);class yv extends O.ks{constructor(){super({id:"editor.action.focusNextCursor",label:oe.kg("mutlicursor.focusNextCursor","Focus Next Cursor"),metadata:{description:oe.kg("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(e,t,n){if(!t.hasModel())return;const r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();const o=Array.from(r.getCursorStates()),u=o.shift();u&&(o.push(u),r.setCursorStates(n.source,3,o),r.revealPrimaryCursor(n.source,!0),Dl(o,r.getCursorStates()))}}class Sv extends O.ks{constructor(){super({id:"editor.action.focusPreviousCursor",label:oe.kg("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),metadata:{description:oe.kg("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(e,t,n){if(!t.hasModel())return;const r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();const o=Array.from(r.getCursorStates()),u=o.pop();u&&(o.unshift(u),r.setCursorStates(n.source,3,o),r.revealPrimaryCursor(n.source,!0),Dl(o,r.getCursorStates()))}}O.HW(ud.ID,ud,4),O.HW(hp.ID,hp,1),O.Fl(hv),O.Fl(pv),O.Fl(fv),O.Fl(class extends vc{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:oe.kg("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Fe.R.focus,primary:2082,weight:100},menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"3_multi",title:oe.kg({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}),O.Fl(class extends vc{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:oe.kg("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"3_multi",title:oe.kg({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}),O.Fl(class extends vc{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:oe.kg("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Fe.R.focus,primary:Ln.m5(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}),O.Fl(class extends vc{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:oe.kg("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}),O.Fl(class extends vc{constructor(){super({id:"editor.action.selectHighlights",label:oe.kg("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:Fe.R.focus,primary:3114,weight:100},menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"3_multi",title:oe.kg({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}),O.Fl(class extends vc{constructor(){super({id:"editor.action.changeAll",label:oe.kg("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:ye.M$.and(Fe.R.writable,Fe.R.editorTextFocus),kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}),O.Fl(mv),O.Fl(gv),O.Fl(yv),O.Fl(Sv);const ig="inline-edit";let rg=class extends ft.jG{constructor(e,t,n){super(),this.editor=e,this.model=t,this.languageService=n,this.isDisposed=Rn.FY(this,!1),this.currentTextModel=Rn.y0(this,this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=Rn.un(this,(r)=>{if(this.isDisposed.read(r))return;const o=this.currentTextModel.read(r);if(o!==this.model.targetTextModel.read(r))return;const u=this.model.ghostText.read(r);if(!u)return;let l=this.model.range?.read(r);l&&l.startLineNumber===l.endLineNumber&&l.startColumn===l.endColumn&&(l=void 0);const A=(!l||l.startLineNumber===l.endLineNumber)&&u.parts.length===1&&u.parts[0].lines.length===1,K=u.parts.length===1&&u.parts[0].lines.every((Dt)=>Dt.length===0),le=[],ue=[];function we(Dt,cn){if(ue.length>0){const Tn=ue[ue.length-1];cn&&Tn.decorations.push(new eu.d(Tn.content.length+1,Tn.content.length+1+Dt[0].length,cn,0)),Tn.content+=Dt[0],Dt=Dt.slice(1)}for(let Tn of Dt)ue.push({content:Tn,decorations:cn?[new eu.d(1,Tn.length+1,cn,0)]:[]})}const Qe=o.getLineContent(u.lineNumber);let Me,nt=0;if(!K&&(A||!l)){for(let Dt of u.parts){let cn=Dt.lines;l&&!A&&(we(cn,ig),cn=[]),Me===void 0?(le.push({column:Dt.column,text:cn[0],preview:Dt.preview}),cn=cn.slice(1)):we([Qe.substring(nt,Dt.column-1)],void 0),cn.length>0&&(we(cn,ig),Me===void 0&&Dt.column<=Qe.length&&(Me=Dt.column)),nt=Dt.column-1}Me!==void 0&&we([Qe.substring(nt)],void 0)}const yt=Me!==void 0?new $f(Me,Qe.length+1):void 0,It=A||!l?u.lineNumber:l.endLineNumber-1;return{inlineTexts:le,additionalLines:ue,hiddenRange:yt,lineNumber:It,additionalReservedLineCount:this.model.minReservedLineCount.read(r),targetTextModel:o,range:l,isSingleLine:A,isPureRemove:K}}),this.decorations=Rn.un(this,(r)=>{const o=this.uiState.read(r);if(!o)return[];const u=[];if(o.hiddenRange&&u.push({range:o.hiddenRange.toRange(o.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),o.range){const l=[];if(o.isSingleLine)l.push(o.range);else if(!o.isPureRemove){const A=o.range.endLineNumber-o.range.startLineNumber;for(let K=0;K<A;K++){const le=o.range.startLineNumber+K,ue=o.targetTextModel.getLineFirstNonWhitespaceColumn(le),we=o.targetTextModel.getLineLastNonWhitespaceColumn(le),Qe=new Nt.Q(le,ue,le,we);l.push(Qe)}}for(let A of l)u.push({range:A,options:pt.Zb})}if(o.range&&!o.isSingleLine&&o.isPureRemove){const l=new Nt.Q(o.range.startLineNumber,1,o.range.endLineNumber-1,1);u.push({range:l,options:pt.Ob})}for(let l of o.inlineTexts)u.push({range:Nt.Q.fromPositions(new Yn.y(o.lineNumber,l.column)),options:{description:ig,after:{content:l.text,inlineClassName:l.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:Ci.VW.Left},showIfCollapsed:!0}});return u}),this._register(ft.s(()=>{this.isDisposed.set(!0,void 0)})),this._register(E_(this.editor,this.decorations))}};rg=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(2,Ss.L)],rg);var pp,og=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},va=function(e,t){return function(n,r){t(n,r,e)}};let sg=class extends ft.jG{constructor(e,t,n){super(),this.editor=e,this.model=t,this.instantiationService=n,this.alwaysShowToolbar=Rn.y0(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=Rn.un(this,(r)=>{const o=this.model.read(r)?.model.ghostText.read(r);if(!this.alwaysShowToolbar.read(r)||!o||o.parts.length===0)return this.sessionPosition=void 0,null;const u=o.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==o.lineNumber&&(this.sessionPosition=void 0);const l=new Yn.y(o.lineNumber,Math.min(u,this.sessionPosition?.column??Number.MAX_SAFE_INTEGER));return this.sessionPosition=l,l}),this._register(Rn.yC((r,o)=>{if(!this.model.read(r)||!this.alwaysShowToolbar.read(r))return;const u=o.add(this.instantiationService.createInstance(ag,this.editor,!0,this.position));e.addContentWidget(u),o.add(ft.s(()=>e.removeContentWidget(u)))}))}};sg=og([va(2,Ke._Y)],sg);let ag=class extends ft.jG{static{pp=this}static{this._dropDownVisible=!1}static{this.id=0}constructor(e,t,n,r,o,u){super(),this.editor=e,this.withBorder=t,this._position=n,this._contextKeyService=o,this._menuService=u,this.id="InlineEditHintsContentWidget"+pp.id++,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=ae.h("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[ae.h("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(rt.D8.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(r.createInstance(lg,this.nodes.toolBar,this.editor,rt.D8.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:(l)=>l.startsWith("primary")},actionViewItemProvider:(l,A)=>{if(l instanceof rt.Xe)return r.createInstance(wv,l,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility((l)=>{pp._dropDownVisible=l})),this._register(Rn.fm((l)=>{this._position.read(l),this.editor.layoutContentWidget(this)})),this._register(Rn.fm((l)=>{const A=[];for(let[K,le]of this.inlineCompletionsActionsMenus.getActions())for(let ue of le)ue instanceof rt.Xe&&A.push(ue);A.length>0&&A.unshift(new Vn.wv),this.toolBar.setAdditionalSecondaryActions(A)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};ag=pp=og([va(3,Ke._Y),va(4,ye.fN),va(5,rt.ez)],ag);class wv extends br.oq{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const t=ae.h("div.keybinding").root;this._register(new Yr.x(t,tn.OS,{disableTitle:!0,...Yr.l})).set(e),this.label.textContent=this._action.label,this.label.appendChild(t),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}}let lg=class extends Uu.p{constructor(e,t,n,r,o,u,l,A,K,le){super(e,{resetMenu:n,...r},o,u,l,A,K,le),this.editor=t,this.menuId=n,this.options2=r,this.menuService=o,this.contextKeyService=u,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){const e=[],t=[];br.Ot(this.menu,this.options2?.menuOptions,{primary:e,secondary:t},this.options2?.toolbarOptions?.primaryGroup,this.options2?.toolbarOptions?.shouldInlineSubmenu,this.options2?.toolbarOptions?.useSeparatorsInPrimaryActions),t.push(...this.additionalActions),e.unshift(...this.prependedPrimaryActions),this.setActions(e,t)}setAdditionalSecondaryActions(e){mn.aI(this.additionalActions,e,(t,n)=>t===n)||(this.additionalActions=e,this.updateToolbar())}};lg=og([va(4,rt.ez),va(5,ye.fN),va(6,no.Z),va(7,ui.b),va(8,En.d),va(9,xr.k)],lg);var bu,cg,dg=ct(1602),xv=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},fp=function(e,t){return function(n,r){t(n,r,e)}};function ug(e){const t=e[0].match(/^\s*/)?.[0]??"",n=t.length;return{text:e.map((r)=>r.replace(new RegExp("^"+t),"")),shift:n}}let hg=class extends ft.jG{static{bu=this}static{this._modelId=0}static _createUniqueUri(){return ht.r.from({scheme:"inline-edit-widget",path:new Date().toString()+String(bu._modelId++)})}constructor(e,t,n,r,o){super(),this._editor=e,this._model=t,this._instantiationService=n,this._diffProviderFactoryService=r,this._modelService=o,this._position=Rn.un(this,(u)=>{const l=this._model.read(u);if(!l||l.text.length===0)return null;if(l.range.startLineNumber===l.range.endLineNumber&&(l.range.startColumn!==l.range.endColumn||l.range.startColumn!==1))return null;const A=this._editor.getModel();if(!A)return null;const K=Array.from(function*(Me,nt,yt=1){nt===void 0&&([nt,Me]=[Me,0]);for(let It=Me;It<nt;It+=yt)yield It}(l.range.startLineNumber,l.range.endLineNumber+1)),le=K.map((Me)=>A.getLineLastNonWhitespaceColumn(Me)),ue=Math.max(...le),we=K[le.indexOf(ue)],Qe=new Yn.y(we,ue);return{top:l.range.startLineNumber,left:Qe}}),this._text=Rn.un(this,(u)=>{const l=this._model.read(u);if(!l)return{text:"",shift:0};const A=ug(l.text.split("\n"));return{text:A.text.join("\n"),shift:A.shift}}),this._originalModel=cs.a0(()=>this._modelService.createModel("",null,bu._createUniqueUri())).keepObserved(this._store),this._modifiedModel=cs.a0(()=>this._modelService.createModel("",null,bu._createUniqueUri())).keepObserved(this._store),this._diff=Rn.un(this,(u)=>this._diffPromise.read(u)?.promiseResult.read(u)?.data),this._diffPromise=Rn.un(this,(u)=>{const l=this._model.read(u);if(!l)return;const A=this._editor.getModel();if(!A)return;const K=ug(A.getValueInRange(l.range).split("\n")).text.join("\n"),le=ug(l.text.split("\n")).text.join("\n");this._originalModel.get().setValue(K),this._modifiedModel.get().setValue(le);const ue=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:"advanced"});return Rn.BK.fromFn(async()=>{const we=await ue.computeDiff(this._originalModel.get(),this._modifiedModel.get(),{computeMoves:!1,ignoreTrimWhitespace:!1,maxComputationTimeMs:1000},wn.XO.None);if(!we.identical)return we.changes})}),this._register(Rn.yC((u,l)=>{if(!this._model.read(u))return;if(this._position.get()===null)return;const A=l.add(this._instantiationService.createInstance(pg,this._editor,this._position,this._text.map((K)=>K.text),this._text.map((K)=>K.shift),this._diff));e.addOverlayWidget(A),l.add(ft.s(()=>e.removeOverlayWidget(A)))}))}};hg=bu=xv([fp(2,Ke._Y),fp(3,dg.Hg),fp(4,Di.IModelService)],hg);let pg=class extends ft.jG{static{cg=this}static{this.id=0}constructor(e,t,n,r,o,u){super(),this._editor=e,this._position=t,this._text=n,this._shift=r,this._diff=o,this._instantiationService=u,this.id="InlineEditSideBySideContentWidget"+cg.id++,this.allowEditorOverflow=!1,this._nodes=ae.$("div.inlineEditSideBySide",void 0),this._scrollChanged=Rn.yQ("editor.onDidScrollChange",this._editor.onDidScrollChange),this._previewEditor=this._register(this._instantiationService.createInstance(ws,this._nodes,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0,scrollbar:{vertical:"hidden",horizontal:"hidden",alwaysConsumeMouseWheel:!1,handleMouseWheel:!1},readOnly:!0,wordWrap:"off",wordWrapOverride1:"off",wordWrapOverride2:"off",wrappingIndent:"none",wrappingStrategy:void 0},{contributions:[],isSimpleWidget:!0},this._editor)),this._previewEditorObs=Cs.Ud(this._previewEditor),this._editorObs=Cs.Ud(this._editor),this._previewTextModel=this._register(this._instantiationService.createInstance(Hn.Bz,"",this._editor.getModel()?.getLanguageId()??Vi.vH,Hn.Bz.DEFAULT_CREATION_OPTIONS,null)),this._setText=Rn.un((l)=>{const A=this._text.read(l);A&&this._previewTextModel.setValue(A)}).recomputeInitiallyAndOnChange(this._store),this._decorations=Rn.un(this,(l)=>{this._setText.read(l);const A=this._position.read(l);if(!A)return{org:[],mod:[]};const K=this._diff.read(l);if(!K)return{org:[],mod:[]};const le=[],ue=[];if(K.length===1&&K[0].innerChanges[0].modifiedRange.equalsRange(this._previewTextModel.getFullModelRange()))return{org:[],mod:[]};const we=this._shift.get(),Qe=(Me)=>new Nt.Q(Me.startLineNumber+A.top-1,Me.startColumn+we,Me.endLineNumber+A.top-1,Me.endColumn+we);for(let Me of K)if(Me.original.isEmpty||le.push({range:Qe(Me.original.toInclusiveRange()),options:pt.Ob}),Me.modified.isEmpty||ue.push({range:Me.modified.toInclusiveRange(),options:pt.Kl}),Me.modified.isEmpty||Me.original.isEmpty)Me.original.isEmpty||le.push({range:Qe(Me.original.toInclusiveRange()),options:pt.KL}),Me.modified.isEmpty||ue.push({range:Me.modified.toInclusiveRange(),options:pt.Ou});else for(let nt of Me.innerChanges||[])Me.original.contains(nt.originalRange.startLineNumber)&&le.push({range:Qe(nt.originalRange),options:nt.originalRange.isEmpty()?pt.wp:pt.Zb}),Me.modified.contains(nt.modifiedRange.startLineNumber)&&ue.push({range:nt.modifiedRange,options:nt.modifiedRange.isEmpty()?pt.GM:pt.bk});return{org:le,mod:ue}}),this._originalDecorations=Rn.un(this,(l)=>this._decorations.read(l).org),this._modifiedDecorations=Rn.un(this,(l)=>this._decorations.read(l).mod),this._previewEditor.setModel(this._previewTextModel),this._register(this._editorObs.setDecorations(this._originalDecorations)),this._register(this._previewEditorObs.setDecorations(this._modifiedDecorations)),this._register(Rn.fm((l)=>{const A=this._previewEditorObs.contentWidth.read(l),K=this._text.read(l).split("\n").length-1,le=this._editor.getOption(67)*K;A<=0||this._previewEditor.layout({height:le,width:A})})),this._register(Rn.fm((l)=>{this._position.read(l),this._editor.layoutOverlayWidget(this)})),this._register(Rn.fm((l)=>{this._scrollChanged.read(l),this._position.read(l)&&this._editor.layoutOverlayWidget(this)}))}getId(){return this.id}getDomNode(){return this._nodes}getPosition(){const e=this._position.get();if(!e)return null;const t=this._editor.getLayoutInfo(),n=this._editor.getScrolledVisiblePosition(new Yn.y(e.top,1));if(!n)return null;const r=n.top-1,o=this._editor.getOffsetForColumn(e.left.lineNumber,e.left.column);return{preference:{left:t.contentLeft+o+10,top:r}}}};pg=cg=xv([fp(5,Ke._Y)],pg);var vu,yc=function(e,t){return function(n,r){t(n,r,e)}};let Po=class extends ft.jG{static{vu=this}static{this.ID="editor.contrib.inlineEditController"}static{this.inlineEditVisibleKey="inlineEditVisible"}static{this.inlineEditVisibleContext=new ye.N1(this.inlineEditVisibleKey,!1)}static{this.cursorAtInlineEditKey="cursorAtInlineEdit"}static{this.cursorAtInlineEditContext=new ye.N1(this.cursorAtInlineEditKey,!1)}static get(e){return e.getContribution(vu.ID)}constructor(e,t,n,r,o,u,l,A){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=n,this.languageFeaturesService=r,this._commandService=o,this._configurationService=u,this._diffProviderFactoryService=l,this._modelService=A,this._isVisibleContext=vu.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=vu.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=Rn.FY(this,void 0),this._currentWidget=cs.a0(this._currentEdit,(Me)=>{const nt=this._currentEdit.read(Me);if(!nt)return;const yt=nt.range.endLineNumber,It=nt.range.endColumn,Dt=!nt.text.endsWith("\n")||nt.range.startLineNumber===nt.range.endLineNumber&&nt.range.startColumn===nt.range.endColumn?nt.text:nt.text.slice(0,-1),cn=new qc(yt,[new tu(It,Dt,!1)]),Tn=nt.range.startLineNumber===nt.range.endLineNumber&&cn.parts.length===1&&cn.parts[0].lines.length===1,On=nt.text==="";return Tn||On?this.instantiationService.createInstance(rg,this.editor,{ghostText:Rn.lk(cn),minReservedLineCount:Rn.lk(0),targetTextModel:Rn.lk(this.editor.getModel()??void 0),range:Rn.lk(nt.range)}):void 0}),this._isAccepting=Rn.FY(this,!1),this._enabled=Rn.y0(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=Rn.y0(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily);const K=Rn.yQ("InlineEditController.modelContentChangedSignal",e.onDidChangeModelContent);this._register(Rn.fm((Me)=>{this._enabled.read(Me)&&(K.read(Me),this._isAccepting.read(Me)||this.getInlineEdit(e,!0))}));const le=Rn.y0(this,e.onDidChangeCursorPosition,()=>e.getPosition());this._register(Rn.fm((Me)=>{if(!this._enabled.read(Me))return;const nt=le.read(Me);nt&&this.checkCursorPosition(nt)})),this._register(Rn.fm((Me)=>{const nt=this._currentEdit.read(Me);if(this._isCursorAtInlineEditContext.set(!1),!nt)return void this._isVisibleContext.set(!1);this._isVisibleContext.set(!0);const yt=e.getPosition();yt&&this.checkCursorPosition(yt)}));const ue=Rn.yQ("InlineEditController.editorBlurSignal",e.onDidBlurEditorWidget);this._register(Rn.fm(async(Me)=>{this._enabled.read(Me)&&(ue.read(Me),this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||e.getOption(63).keepOnBlur||(this._currentRequestCts?.dispose(!0),this._currentRequestCts=void 0,await this.clear(!1)))}));const we=Rn.yQ("InlineEditController.editorFocusSignal",e.onDidFocusEditorText);this._register(Rn.fm((Me)=>{this._enabled.read(Me)&&(we.read(Me),this.getInlineEdit(e,!0))}));const Qe=this._register(ae.jh());this._register(Rn.fm((Me)=>{const nt=this._fontFamily.read(Me);Qe.setStyle(nt===""||nt==="default"?"":`\n.monaco-editor .inline-edit-decoration,\n.monaco-editor .inline-edit-decoration-preview,\n.monaco-editor .inline-edit {\n\tfont-family: ${nt};\n}`)})),this._register(new sg(this.editor,this._currentWidget,this.instantiationService)),this._register(new hg(this.editor,this._currentEdit,this.instantiationService,this._diffProviderFactoryService,this._modelService))}checkCursorPosition(e){if(!this._currentEdit)return void this._isCursorAtInlineEditContext.set(!1);const t=this._currentEdit.get();t?this._isCursorAtInlineEditContext.set(Nt.Q.containsPosition(t.range,e)):this._isCursorAtInlineEditContext.set(!1)}validateInlineEdit(e,t){if(t.text.includes("\n")&&t.range.startLineNumber!==t.range.endLineNumber&&t.range.startColumn!==t.range.endColumn){if(t.range.startColumn!==1)return!1;const n=t.range.endLineNumber;if(t.range.endColumn!==(e.getModel()?.getLineLength(n)??0)+1)return!1}return!0}async fetchInlineEdit(e,t){this._currentRequestCts&&this._currentRequestCts.dispose(!0);const n=e.getModel();if(!n)return;const r=n.getVersionId(),o=this.languageFeaturesService.inlineEditProvider.all(n);if(o.length===0)return;const u=o[0];this._currentRequestCts=new wn.Qi;const l=this._currentRequestCts.token,A=t?Pt.sm.Automatic:Pt.sm.Invoke;var K;if(t&&await(K=l,new Promise((ue)=>{let we;const Qe=setTimeout(()=>{we&&we.dispose(),ue()},50);K&&(we=K.onCancellationRequested(()=>{clearTimeout(Qe),we&&we.dispose(),ue()}))})),l.isCancellationRequested||n.isDisposed()||n.getVersionId()!==r)return;const le=await u.provideInlineEdit(n,{triggerKind:A},l);return le&&!l.isCancellationRequested&&!n.isDisposed()&&n.getVersionId()===r&&this.validateInlineEdit(e,le)?le:void 0}async getInlineEdit(e,t){this._isCursorAtInlineEditContext.set(!1),await this.clear();const n=await this.fetchInlineEdit(e,t);n&&this._currentEdit.set(n,void 0)}async trigger(){await this.getInlineEdit(this.editor,!1)}async jumpBack(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))}async accept(){this._isAccepting.set(!0,void 0);const e=this._currentEdit.get();if(!e)return;let t=e.text;e.text.startsWith("\n")&&(t=e.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[Fr.k.replace(Nt.Q.lift(e.range),t)]),e.accepted&&await this._commandService.executeCommand(e.accepted.id,...e.accepted.arguments||[]).then(void 0,ii.M_),this.freeEdit(e),Rn.Rn((n)=>{this._currentEdit.set(void 0,n),this._isAccepting.set(!1,n)})}jumpToCurrent(){this._jumpBackPosition=this.editor.getSelection()?.getStartPosition();const e=this._currentEdit.get();if(!e)return;const t=Yn.y.lift({lineNumber:e.range.startLineNumber,column:e.range.startColumn});this.editor.setPosition(t),this.editor.revealPositionInCenterIfOutsideViewport(t)}async clear(e=!0){const t=this._currentEdit.get();t&&t?.rejected&&e&&await this._commandService.executeCommand(t.rejected.id,...t.rejected.arguments||[]).then(void 0,ii.M_),t&&this.freeEdit(t),this._currentEdit.set(void 0,void 0)}freeEdit(e){const t=this.editor.getModel();if(!t)return;const n=this.languageFeaturesService.inlineEditProvider.all(t);n.length!==0&&n[0].freeInlineEdit(e)}};Po=vu=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([yc(1,Ke._Y),yc(2,ye.fN),yc(3,Wt.ILanguageFeaturesService),yc(4,En.d),yc(5,lt.pG),yc(6,dg.Hg),yc(7,Di.IModelService)],Po);class Cv extends O.ks{constructor(){super({id:"editor.action.inlineEdit.accept",label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:ye.M$.and(Fe.R.writable,Po.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:ye.M$.and(Fe.R.writable,Po.inlineEditVisibleContext,Po.cursorAtInlineEditContext)}],menuOpts:[{menuId:rt.D8.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}async run(e,t){await Po.get(t)?.accept()}}class Ev extends O.ks{constructor(){const e=ye.M$.and(Fe.R.writable,ye.M$.not(Po.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:e,kbOpts:{weight:101,primary:2646,kbExpr:e}})}async run(e,t){Po.get(t)?.trigger()}}class Jv extends O.ks{constructor(){const e=ye.M$.and(Fe.R.writable,Po.inlineEditVisibleContext,ye.M$.not(Po.cursorAtInlineEditKey));super({id:"editor.action.inlineEdit.jumpTo",label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:e,kbOpts:{weight:101,primary:2646,kbExpr:e},menuOpts:[{menuId:rt.D8.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:e}]})}async run(e,t){Po.get(t)?.jumpToCurrent()}}class kv extends O.ks{constructor(){const e=ye.M$.and(Fe.R.writable,Po.cursorAtInlineEditContext);super({id:"editor.action.inlineEdit.jumpBack",label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:e,kbOpts:{weight:110,primary:2646,kbExpr:e},menuOpts:[{menuId:rt.D8.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:e}]})}async run(e,t){Po.get(t)?.jumpBack()}}class Tv extends O.ks{constructor(){const e=ye.M$.and(Fe.R.writable,Po.inlineEditVisibleContext);super({id:"editor.action.inlineEdit.reject",label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:e,kbOpts:{weight:100,primary:9,kbExpr:e},menuOpts:[{menuId:rt.D8.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}async run(e,t){await Po.get(t)?.clear()}}O.Fl(Cv),O.Fl(Tv),O.Fl(Jv),O.Fl(kv),O.Fl(Ev),O.HW(Po.ID,Po,3);const hd=new ye.N1("inlineEditsVisible",!1,oe.kg("inlineEditsVisible","Whether an inline edit is visible")),WS=new ye.N1("inlineEditsIsPinned",!1,oe.kg("isPinned","Whether an inline edit is visible"));var fg=ct(1807),$S=ct(9955),ZS=ct(9827),mg=ct(2744);class mp extends ft.jG{static{this.ID="editor.contrib.placeholderText"}constructor(e){var t;super(),this._editor=e,this._editorObs=Cs.Ud(this._editor),this._placeholderText=this._editorObs.getOption(88),this._state=Rn.C({owner:this,equalsFn:uc.dB},(n)=>{const r=this._placeholderText.read(n);if(r&&this._editorObs.valueIsEmpty.read(n))return{placeholder:r}}),this._shouldViewBeAlive=(t=(n)=>this._state.read(n)?.placeholder!==void 0,Rn.ZX(this,(n,r)=>r===!0||t(n))),this._view=cs.rm((n,r)=>{if(!this._shouldViewBeAlive.read(n))return;const o=ae.h("div.editorPlaceholder");r.add(Rn.fm((u)=>{const l=this._state.read(u),A=l?.placeholder!==void 0;o.root.style.display=A?"block":"none",o.root.innerText=l?.placeholder??""})),r.add(Rn.fm((u)=>{const l=this._editorObs.layoutInfo.read(u);o.root.style.left=`${l.contentLeft}px`,o.root.style.width=l.contentWidth-l.verticalScrollbarWidth+"px",o.root.style.top=`${this._editor.getTopForLineNumber(0)}px`})),r.add(Rn.fm((u)=>{o.root.style.fontFamily=this._editorObs.getOption(49).read(u),o.root.style.fontSize=this._editorObs.getOption(52).read(u)+"px",o.root.style.lineHeight=this._editorObs.getOption(67).read(u)+"px"})),r.add(this._editorObs.createOverlayWidget({allowEditorOverflow:!1,minContentWidthInPx:Rn.lk(0),position:Rn.lk(null),domNode:o.root}))}),this._view.recomputeInitiallyAndOnChange(this._store)}}class Av{constructor(e,t,n){this.range=e,this.newLines=t,this.changes=n}}let gg=class extends ft.jG{constructor(e,t,n,r){super(),this._editor=e,this._edit=t,this._userPrompt=n,this._instantiationService=r,this._editorObs=Cs.Ud(this._editor),this._elements=ae.h("div.inline-edits-widget",{style:{position:"absolute",overflow:"visible",top:"0px",left:"0px"}},[ae.h("div@editorContainer",{style:{position:"absolute",top:"0px",left:"0px",width:"500px",height:"500px"}},[ae.h("div.toolbar@toolbar",{style:{position:"absolute",top:"-25px",left:"0px"}}),ae.h("div.promptEditor@promptEditor",{style:{position:"absolute",top:"-25px",left:"80px",width:"300px",height:"22px"}}),ae.h("div.preview@editor",{style:{position:"absolute",top:"0px",left:"0px"}})]),ae.Mc("svg",{style:{overflow:"visible",pointerEvents:"none"}},[ae.Mc("defs",[ae.Mc("linearGradient",{id:"Gradient2",x1:"0",y1:"0",x2:"1",y2:"0"},[ae.Mc("stop",{offset:"0%",class:"gradient-stop"}),ae.Mc("stop",{offset:"100%",class:"gradient-stop"})])]),ae.Mc("path@path",{d:"",fill:"url(#Gradient2)"})])]),this._previewTextModel=this._register(this._instantiationService.createInstance(Hn.Bz,"",Vi.vH,Hn.Bz.DEFAULT_CREATION_OPTIONS,null)),this._setText=Rn.un((A)=>{const K=this._edit.read(A);K&&this._previewTextModel.setValue(K.newLines.join("\n"))}).recomputeInitiallyAndOnChange(this._store),this._promptTextModel=this._register(this._instantiationService.createInstance(Hn.Bz,"",Vi.vH,Hn.Bz.DEFAULT_CREATION_OPTIONS,null)),this._promptEditor=this._register(this._instantiationService.createInstance(ws,this._elements.promptEditor,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0,placeholder:"Describe the change you want...",fontFamily:ZS.z},{contributions:O.dS.getSomeEditorContributions([Ws.ID,mp.ID,Zc.ID]),isSimpleWidget:!0},this._editor)),this._previewEditor=this._register(this._instantiationService.createInstance(ws,this._elements.editor,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0},{contributions:[]},this._editor)),this._previewEditorObs=Cs.Ud(this._previewEditor),this._decorations=Rn.un(this,(A)=>{this._setText.read(A);const K=this._edit.read(A)?.changes;if(!K)return[];const le=[],ue=[];if(K.length===1&&K[0].innerChanges[0].modifiedRange.equalsRange(this._previewTextModel.getFullModelRange()))return[];for(let we of K)if(we.original.isEmpty||le.push({range:we.original.toInclusiveRange(),options:pt.Ob}),we.modified.isEmpty||ue.push({range:we.modified.toInclusiveRange(),options:pt.Kl}),we.modified.isEmpty||we.original.isEmpty)we.original.isEmpty||le.push({range:we.original.toInclusiveRange(),options:pt.KL}),we.modified.isEmpty||ue.push({range:we.modified.toInclusiveRange(),options:pt.Ou});else for(let Qe of we.innerChanges||[])we.original.contains(Qe.originalRange.startLineNumber)&&le.push({range:Qe.originalRange,options:Qe.originalRange.isEmpty()?pt.wp:pt.Zb}),we.modified.contains(Qe.modifiedRange.startLineNumber)&&ue.push({range:Qe.modifiedRange,options:Qe.modifiedRange.isEmpty()?pt.GM:pt.bk});return ue}),this._layout1=Rn.un(this,(A)=>{const K=this._editor.getModel(),le=this._edit.read(A);if(!le)return null;const ue=le.range;let we=0;for(let Qe=ue.startLineNumber;Qe<ue.endLineNumberExclusive;Qe++){const Me=K.getLineMaxColumn(Qe),nt=this._editor.getOffsetForColumn(Qe,Me);we=Math.max(we,nt)}return{left:this._editor.getLayoutInfo().contentLeft+we}}),this._layout=Rn.un(this,(A)=>{const K=this._edit.read(A);if(!K)return null;const le=K.range,ue=this._editorObs.scrollLeft.read(A),we=this._layout1.read(A).left+20-ue,Qe=this._editor.getTopForLineNumber(le.startLineNumber)-this._editorObs.scrollTop.read(A),Me=this._editor.getTopForLineNumber(le.endLineNumberExclusive)-this._editorObs.scrollTop.read(A),nt=new pd(we,Qe),yt=new pd(we,Me),It=Me-Qe,Dt=this._editor.getOption(67)*K.newLines.length,cn=It-Dt;return{topCode:nt,bottomCode:yt,codeHeight:It,topEdit:new pd(we+50,Qe+cn/2),bottomEdit:new pd(we+50,Me-cn/2),editHeight:Dt}});const o=Rn.un(this,(A)=>this._edit.read(A)!==void 0||this._userPrompt.read(A)!==void 0);var u,l;this._register(mg.AV(this._elements.root,{display:Rn.un(this,(A)=>o.read(A)?"block":"none")})),this._register(mg.rX(this._editor.getDomNode(),this._elements.root)),this._register(Cs.Ud(e).createOverlayWidget({domNode:this._elements.root,position:Rn.lk(null),allowEditorOverflow:!1,minContentWidthInPx:Rn.un((A)=>{const K=this._layout1.read(A)?.left;return K===void 0?0:K+this._previewEditorObs.contentWidth.read(A)})})),this._previewEditor.setModel(this._previewTextModel),this._register(this._previewEditorObs.setDecorations(this._decorations)),this._register(Rn.fm((A)=>{const K=this._layout.read(A);if(!K)return;const{topCode:le,bottomCode:ue,topEdit:we,bottomEdit:Qe,editHeight:Me}=K,nt=new Nv().moveTo(le).lineTo(le.deltaX(10)).curveTo(le.deltaX(50),we.deltaX(-40),we.deltaX(-0)).lineTo(we).lineTo(Qe).lineTo(Qe.deltaX(-0)).curveTo(Qe.deltaX(-40),ue.deltaX(50),ue.deltaX(10)).lineTo(ue).build();this._elements.path.setAttribute("d",nt),this._elements.editorContainer.style.top=`${we.y}px`,this._elements.editorContainer.style.left=`${we.x}px`,this._elements.editorContainer.style.height=`${Me}px`;const yt=this._previewEditorObs.contentWidth.read(A);this._previewEditor.layout({height:Me,width:yt})})),this._promptEditor.setModel(this._promptTextModel),this._promptEditor.layout(),this._register(function(A,K){const le=new ft.Cm;return le.add(Rn.fm((ue)=>{const we=A.read(ue);K.set(we,void 0)})),le.add(Rn.fm((ue)=>{const we=K.read(ue);A.set(we,void 0)})),le}((u=this._userPrompt,l=(A)=>A??"",cs.dQ(void 0,(A)=>l(u.read(A)),(A,K)=>u.set(A,K))),Cs.Ud(this._promptEditor).value)),this._register(Rn.fm((A)=>{const K=Cs.Ud(this._promptEditor).isFocused.read(A);this._elements.root.classList.toggle("focused",K)}))}};gg=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(3,Ke._Y)],gg);class pd{constructor(e,t){this.x=e,this.y=t}deltaX(e){return new pd(this.x+e,this.y)}}class Nv{constructor(){this._data=""}moveTo(e){return this._data+=`M ${e.x} ${e.y} `,this}lineTo(e){return this._data+=`L ${e.x} ${e.y} `,this}curveTo(e,t,n){return this._data+=`C ${e.x} ${e.y} ${t.x} ${t.y} ${n.x} ${n.y} `,this}build(){return this._data}}var yu,_g=function(e,t){return function(n,r){t(n,r,e)}};let bg=class extends ft.jG{static{yu=this}static{this._modelId=0}static _createUniqueUri(){return ht.r.from({scheme:"inline-edits",path:new Date().toString()+String(yu._modelId++)})}constructor(e,t,n,r,o,u,l){super(),this.textModel=e,this._textModelVersionId=t,this._selection=n,this._debounceValue=r,this.languageFeaturesService=o,this._diffProviderFactoryService=u,this._modelService=l,this._forceUpdateExplicitlySignal=Rn.Yd(this),this._selectedInlineCompletionId=Rn.FY(this,void 0),this._isActive=Rn.FY(this,!1),this._originalModel=cs.a0(()=>this._modelService.createModel("",null,yu._createUniqueUri())).keepObserved(this._store),this._modifiedModel=cs.a0(()=>this._modelService.createModel("",null,yu._createUniqueUri())).keepObserved(this._store),this._pinnedRange=new Rv(this.textModel,this._textModelVersionId),this.isPinned=this._pinnedRange.range.map((A)=>!!A),this.userPrompt=Rn.FY(this,void 0),this.inlineEdit=Rn.un(this,(A)=>this._inlineEdit.read(A)?.promiseResult.read(A)?.data),this._inlineEdit=Rn.un(this,(A)=>{const K=this.selectedInlineEdit.read(A);if(!K)return;const le=K.inlineCompletion.range;if(K.inlineCompletion.insertText.trim()==="")return;let ue=K.inlineCompletion.insertText.split(/\r\n|\r|\n/);function we(nt){const yt=nt[0].match(/^\s*/)?.[0]??"";return nt.map((It)=>It.replace(new RegExp("^"+yt),""))}ue=we(ue);let Qe=this.textModel.getValueInRange(le).split(/\r\n|\r|\n/);Qe=we(Qe),this._originalModel.get().setValue(Qe.join("\n")),this._modifiedModel.get().setValue(ue.join("\n"));const Me=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:"advanced"});return Rn.BK.fromFn(async()=>{const nt=await Me.computeDiff(this._originalModel.get(),this._modifiedModel.get(),{computeMoves:!1,ignoreTrimWhitespace:!1,maxComputationTimeMs:1000},wn.XO.None);if(!nt.identical)return new Av($S.M.fromRangeInclusive(le),we(ue),nt.changes)})}),this._fetchStore=this._register(new ft.Cm),this._inlineEditsFetchResult=Rn.X2(this,void 0),this._inlineEdits=Rn.C({owner:this,equalsFn:uc.dB},(A)=>this._inlineEditsFetchResult.read(A)?.completions.map((K)=>new Iv(K))??[]),this._fetchInlineEditsPromise=Rn.nb({owner:this,createEmptyChangeSummary:()=>({inlineCompletionTriggerKind:Pt.qw.Automatic}),handleChange:(A,K)=>(A.didChange(this._forceUpdateExplicitlySignal)&&(K.inlineCompletionTriggerKind=Pt.qw.Explicit),!0)},async(A,K)=>{this._fetchStore.clear(),this._forceUpdateExplicitlySignal.read(A),this._textModelVersionId.read(A);const le=this._pinnedRange.range.read(A)??(we=this._selection.read(A),(ue=we).isEmpty()?void 0:ue);var ue,we;if(!le)return this._inlineEditsFetchResult.set(void 0,void 0),void this.userPrompt.set(void 0,void 0);const Qe={triggerKind:K.inlineCompletionTriggerKind,selectedSuggestionInfo:void 0,userPrompt:this.userPrompt.read(A)},Me=wn.bs(this._fetchStore);await un.wR(200,Me);const nt=await I_(this.languageFeaturesService.inlineCompletionsProvider,le,this.textModel,Qe,Me);Me.isCancellationRequested||this._inlineEditsFetchResult.set(nt,void 0)}),this._filteredInlineEditItems=Rn.C({owner:this,equalsFn:uc.S3()},(A)=>this._inlineEdits.read(A)),this.selectedInlineCompletionIndex=Rn.un(this,(A)=>{const K=this._selectedInlineCompletionId.read(A),le=this._filteredInlineEditItems.read(A),ue=this._selectedInlineCompletionId===void 0?-1:le.findIndex((we)=>we.semanticId===K);return ue===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):ue}),this.selectedInlineEdit=Rn.un(this,(A)=>this._filteredInlineEditItems.read(A)[this.selectedInlineCompletionIndex.read(A)]),this._register(Rn.OI(this._fetchInlineEditsPromise))}async triggerExplicitly(e){Rn.PO(e,(t)=>{this._isActive.set(!0,t),this._forceUpdateExplicitlySignal.trigger(t)}),await this._fetchInlineEditsPromise.get()}stop(e){Rn.PO(e,(t)=>{this.userPrompt.set(void 0,t),this._isActive.set(!1,t),this._inlineEditsFetchResult.set(void 0,t),this._pinnedRange.setRange(void 0,t)})}async _deltaSelectedInlineCompletionIndex(e){await this.triggerExplicitly();const t=this._filteredInlineEditItems.get()||[];if(t.length>0){const n=(this.selectedInlineCompletionIndex.get()+e+t.length)%t.length;this._selectedInlineCompletionId.set(t[n].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(e){if(e.getModel()!==this.textModel)throw new ii.D7;const t=this.selectedInlineEdit.get();t&&(e.pushUndoStop(),e.executeEdits("inlineSuggestion.accept",[t.inlineCompletion.toSingleTextEdit().toSingleEditOperation()]),this.stop())}};bg=yu=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([_g(4,Wt.ILanguageFeaturesService),_g(5,dg.Hg),_g(6,Di.IModelService)],bg);class Iv{constructor(e){this.inlineCompletion=e,this.semanticId=this.inlineCompletion.hash()}}class Rv extends ft.jG{constructor(e,t){super(),this._textModel=e,this._versionId=t,this._decorations=Rn.FY(this,[]),this.range=Rn.un(this,(n)=>{this._versionId.read(n);const r=this._decorations.read(n)[0];return r?this._textModel.getDecorationRange(r)??null:null}),this._register(ft.s(()=>{this._textModel.deltaDecorations(this._decorations.get(),[])}))}setRange(e,t){this._decorations.set(this._textModel.deltaDecorations(this._decorations.get(),e?[{range:e,options:{description:"trackedRange"}}]:[]),t)}}var vg,yg=ct(4975),Su=function(e,t){return function(n,r){t(n,r,e)}};let ja=class extends ft.jG{static{vg=this}static{this.ID="editor.contrib.inlineEditsController"}static get(e){return e.getContribution(vg.ID)}constructor(e,t,n,r,o,u){super(),this.editor=e,this._instantiationService=t,this._contextKeyService=n,this._debounceService=r,this._languageFeaturesService=o,this._configurationService=u,this._enabled=yg.V("editor.inlineEdits.enabled",!1,this._configurationService),this._editorObs=Cs.Ud(this.editor),this._selection=Rn.un(this,(l)=>this._editorObs.cursorSelection.read(l)??new Xn.L(1,1,1,1)),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineEditsDebounce",{min:50,max:50}),this.model=cs.a0(this,(l)=>{if(!this._enabled.read(l))return;if(this._editorObs.isReadonly.read(l))return;const A=this._editorObs.model.read(l);return A?this._instantiationService.createInstance(fg.b(bg,l),A,this._editorObs.versionId,this._selection,this._debounceValue):void 0}),this._hadInlineEdit=Rn.ZX(this,(l,A)=>A||this.model.read(l)?.inlineEdit.read(l)!==void 0),this._widget=cs.a0(this,(l)=>{var A;if(this._hadInlineEdit.read(l))return this._instantiationService.createInstance(fg.b(gg,l),this.editor,this.model.map((K,le)=>K?.inlineEdit.read(le)),(A=(K)=>this.model.read(K)?.userPrompt??Rn.FY("empty",""),cs.dQ(void 0,(K)=>A(K).read(K),(K,le)=>{A(void 0).set(K,le)})))}),this._register(yg.w(hd,this._contextKeyService,(l)=>!!this.model.read(l)?.inlineEdit.read(l))),this._register(yg.w(WS,this._contextKeyService,(l)=>!!this.model.read(l)?.isPinned.read(l))),this.model.recomputeInitiallyAndOnChange(this._store),this._widget.recomputeInitiallyAndOnChange(this._store)}};function wu(e){return{label:e.value,alias:e.original}}ja=vg=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Su(1,Ke._Y),Su(2,ye.fN),Su(3,Eo.ILanguageFeatureDebounceService),Su(4,Wt.ILanguageFeaturesService),Su(5,lt.pG)],ja);class Sg extends O.ks{static{this.ID="editor.action.inlineEdits.showNext"}constructor(){super({id:Sg.ID,...wu(oe.aS("action.inlineEdits.showNext","Show Next Inline Edit")),precondition:ye.M$.and(Fe.R.writable,hd),kbOpts:{weight:100,primary:606}})}async run(e,t){ja.get(t)?.model.get()?.next()}}class wg extends O.ks{static{this.ID="editor.action.inlineEdits.showPrevious"}constructor(){super({id:wg.ID,...wu(oe.aS("action.inlineEdits.showPrevious","Show Previous Inline Edit")),precondition:ye.M$.and(Fe.R.writable,hd),kbOpts:{weight:100,primary:604}})}async run(e,t){ja.get(t)?.model.get()?.previous()}}class Lv extends O.ks{constructor(){super({id:"editor.action.inlineEdits.trigger",...wu(oe.aS("action.inlineEdits.trigger","Trigger Inline Edit")),precondition:Fe.R.writable})}async run(e,t){const n=ja.get(t);await __.fL(async(r)=>{await n?.model.get()?.triggerExplicitly(r)})}}class Dv extends O.ks{constructor(){super({id:"editor.action.inlineEdits.accept",...wu(oe.aS("action.inlineEdits.accept","Accept Inline Edit")),precondition:hd,menuOpts:{menuId:rt.D8.InlineEditsActions,title:oe.kg("inlineEditsActions","Accept Inline Edit"),group:"primary",order:1,icon:be.W.check},kbOpts:{primary:2058,weight:20000,kbExpr:hd}})}async run(e,t){t instanceof ws&&(t=t.getParentEditor());const n=ja.get(t);n&&(n.model.get()?.accept(n.editor),n.editor.focus())}}class xg extends O.ks{static{this.ID="editor.action.inlineEdits.hide"}constructor(){super({id:xg.ID,...wu(oe.aS("action.inlineEdits.hide","Hide Inline Edit")),precondition:hd,kbOpts:{weight:100,primary:9}})}async run(e,t){const n=ja.get(t);Rn.Rn((r)=>{n?.model.get()?.stop(r)})}}O.HW(ja.ID,ja,3),O.Fl(Lv),O.Fl(Sg),O.Fl(wg),O.Fl(Dv),O.Fl(xg);const Sc={Visible:new ye.N1("parameterHintsVisible",!1),MultipleSignatures:new ye.N1("parameterHintsMultipleSignatures",!1)};async function Mv(e,t,n,r,o){const u=e.ordered(t);for(let l of u)try{const A=await l.provideSignatureHelp(t,n,o,r);if(A)return A}catch(A){ii.M_(A)}}var Ml,Cg;En.w.registerCommand("_executeSignatureHelpProvider",async(e,...t)=>{const[n,r,o]=t;yn.j(ht.r.isUri(n)),yn.j(Yn.y.isIPosition(r)),yn.j(typeof o=="string"||!o);const u=e.get(Wt.ILanguageFeaturesService),l=await e.get($r.ITextModelService).createModelReference(n);try{const A=await Mv(u.signatureHelpProvider,l.object.textEditorModel,Yn.y.lift(r),{triggerKind:Pt.WA.Invoke,isRetrigger:!1,triggerCharacter:o},wn.XO.None);if(!A)return;return setTimeout(()=>A.dispose(),0),A.value}finally{l.dispose()}}),(Cg=Ml||(Ml={})).Default={type:0},Cg.Pending=class{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=2}},Cg.Active=class{constructor(e){this.hints=e,this.type=1}};class Eg extends ft.jG{static{this.DEFAULT_DELAY=120}constructor(e,t,n=Eg.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new Rt.vl),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Ml.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new ft.HE),this.triggerChars=new Jh.y,this.retriggerChars=new Jh.y,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new un.ve(n),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel((r)=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage((r)=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection((r)=>this.onCursorChange(r))),this._register(this.editor.onDidChangeModelContent((r)=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType((r)=>this.onDidType(r))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Ml.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const n=this.editor.getModel();if(!n||!this.providers.has(n))return;const r=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(r),t).catch(ii.dz)}next(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%e==e-1,r=this.editor.getOption(86).cycle;!(e<2||n)||r?this.updateActiveSignature(n&&r?0:t+1):this.cancel()}previous(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t===0,r=this.editor.getOption(86).cycle;!(e<2||n)||r?this.updateActiveSignature(n&&r?e-1:t-1):this.cancel()}updateActiveSignature(e){this.state.type===1&&(this.state=new Ml.Active({...this.state.hints,activeSignature:e}),this._onChangedHints.fire(this.state.hints))}async doTrigger(e){const t=this.state.type===1||this.state.type===2,n=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(US);this._pendingTriggers=[];const o={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:t,activeSignatureHelp:n};if(!this.editor.hasModel())return!1;const u=this.editor.getModel(),l=this.editor.getPosition();this.state=new Ml.Pending(un.SS((A)=>Mv(this.providers,u,l,o,A)),n);try{const A=await this.state.request;return e!==this.triggerId?(A?.dispose(),!1):A&&A.value.signatures&&A.value.signatures.length!==0?(this.state=new Ml.Active(A.value),this._lastSignatureHelpResult.value=A,this._onChangedHints.fire(this.state.hints),!0):(A?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(A){return e===this.triggerId&&(this.state=Ml.Default),ii.dz(A),!1}}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const e=this.editor.getModel();if(e)for(let t of this.providers.ordered(e)){for(let n of t.signatureHelpTriggerCharacters||[])if(n.length){const r=n.charCodeAt(0);this.triggerChars.add(r),this.retriggerChars.add(r)}for(let n of t.signatureHelpRetriggerCharacters||[])n.length&&this.retriggerChars.add(n.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,n=e.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:Pt.WA.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Pt.WA.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Pt.WA.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function US(e,t){switch(t.triggerKind){case Pt.WA.Invoke:return t;case Pt.WA.ContentChange:return e;case Pt.WA.TriggerCharacter:default:return t}}var Jg,gp=function(e,t){return function(n,r){t(n,r,e)}};const ps=ae.$,BS=_r.pU("parameter-hints-next",be.W.chevronDown,oe.kg("parameterHintsNextIcon","Icon for show next parameter hint.")),VS=_r.pU("parameter-hints-previous",be.W.chevronUp,oe.kg("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let kg=class extends ft.jG{static{Jg=this}static{this.ID="editor.widget.parameterHintsWidget"}constructor(e,t,n,r,o,u){super(),this.editor=e,this.model=t,this.telemetryService=u,this.renderDisposeables=this._register(new ft.Cm),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new en.T({editor:e},o,r)),this.keyVisible=Sc.Visible.bindTo(n),this.keyMultipleSignatures=Sc.MultipleSignatures.bindTo(n)}createParameterHintDOMNodes(){const e=ps(".editor-widget.parameter-hints-widget"),t=ae.BC(e,ps(".phwrapper"));t.tabIndex=-1;const n=ae.BC(t,ps(".controls")),r=ae.BC(n,ps(".button"+Oe.L.asCSSSelector(VS))),o=ae.BC(n,ps(".overloads")),u=ae.BC(n,ps(".button"+Oe.L.asCSSSelector(BS)));this._register(ae.ko(r,"click",(we)=>{ae.fs.stop(we),this.previous()})),this._register(ae.ko(u,"click",(we)=>{ae.fs.stop(we),this.next()}));const l=ps(".body"),A=new hm.MU(l,{alwaysConsumeMouseWheel:!0});this._register(A),t.appendChild(A.getDomNode());const K=ae.BC(l,ps(".signature")),le=ae.BC(l,ps(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:K,overloads:o,docs:le,scrollbar:A},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((we)=>{this.visible&&this.editor.layoutContentWidget(this)}));const ue=()=>{if(!this.domNodes)return;const we=this.editor.getOption(50),Qe=this.domNodes.element;Qe.style.fontSize=`${we.fontSize}px`,Qe.style.lineHeight=""+we.lineHeight/we.fontSize,Qe.style.setProperty("--vscode-parameterHintsWidget-editorFontFamily",we.fontFamily),Qe.style.setProperty("--vscode-parameterHintsWidget-editorFontFamilyDefault",Qr.jU.fontFamily)};ue(),this._register(Rt.Jh.chain(this.editor.onDidChangeConfiguration.bind(this.editor),(we)=>we.filter((Qe)=>Qe.hasChanged(50)))(ue)),this._register(this.editor.onDidLayoutChange((we)=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes?.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes?.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){if(this.renderDisposeables.clear(),!this.domNodes)return;const t=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",t),this.keyMultipleSignatures.set(t),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const n=e.signatures[e.activeSignature];if(!n)return;const r=ae.BC(this.domNodes.signature,ps(".code")),o=n.parameters.length>0,u=n.activeParameter??e.activeParameter;o?this.renderParameters(r,n,u):ae.BC(r,ps("span")).textContent=n.label;const l=n.parameters[u];if(l?.documentation){const K=ps("span.documentation");if(typeof l.documentation=="string")K.textContent=l.documentation;else{const le=this.renderMarkdownDocs(l.documentation);K.appendChild(le.element)}ae.BC(this.domNodes.docs,ps("p",{},K))}if(n.documentation===void 0);else if(typeof n.documentation=="string")ae.BC(this.domNodes.docs,ps("p",{},n.documentation));else{const K=this.renderMarkdownDocs(n.documentation);ae.BC(this.domNodes.docs,K.element)}const A=this.hasDocs(n,l);if(this.domNodes.signature.classList.toggle("has-docs",A),this.domNodes.docs.classList.toggle("empty",!A),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,l){let K="";const le=n.parameters[u];K=Array.isArray(le.label)?n.label.substring(le.label[0],le.label[1]):le.label,le.documentation&&(K+=typeof le.documentation=="string"?`, ${le.documentation}`:`, ${le.documentation.value}`),n.documentation&&(K+=typeof n.documentation=="string"?`, ${n.documentation}`:`, ${n.documentation.value}`),this.announcedLabel!==K&&(si.xE(oe.kg("hint","{0}, hint",K)),this.announcedLabel=K)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=new Kr.W,n=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{this.domNodes?.scrollbar.scanDomNode()}}));n.element.classList.add("markdown-docs");const r=t.elapsed();return r>300&&this.telemetryService.publicLog2("parameterHints.parseMarkdown",{renderDuration:r}),n}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&yn.eU(t.documentation).length>0||t&&typeof t.documentation=="object"&&yn.eU(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&yn.eU(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&yn.eU(e.documentation.value).length>0)}renderParameters(e,t,n){const[r,o]=this.getParameterLabelOffsets(t,n),u=document.createElement("span");u.textContent=t.label.substring(0,r);const l=document.createElement("span");l.textContent=t.label.substring(r,o),l.className="parameter active";const A=document.createElement("span");A.textContent=t.label.substring(o),ae.BC(e,u,l,A)}getParameterLabelOffsets(e,t){const n=e.parameters[t];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){const r=new RegExp(`(\\W|^)${Ne.bm(n.label)}(?=\\W|\$)`,"g");r.test(e.label);const o=r.lastIndex-n.label.length;return o>=0?[o,r.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Jg.ID}updateMaxHeight(){if(!this.domNodes)return;const e=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=e;const t=this.domNodes.element.getElementsByClassName("phwrapper");t.length&&(t[0].style.maxHeight=e)}};kg=Jg=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([gp(2,ye.fN),gp(3,hn.C),gp(4,Ss.L),gp(5,xr.k)],kg),Xt.x1A("editorHoverWidget.highlightForeground",Xt.QI5,oe.kg("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var Tg,Pv=function(e,t){return function(n,r){t(n,r,e)}};let fd=class extends ft.jG{static{Tg=this}static{this.ID="editor.controller.parameterHints"}static get(e){return e.getContribution(Tg.ID)}constructor(e,t,n){super(),this.editor=e,this.model=this._register(new Eg(e,n.signatureHelpProvider)),this._register(this.model.onChangedHints((r)=>{r?(this.widget.value.show(),this.widget.value.render(r)):this.widget.rawValue?.hide()})),this.widget=new fr.d(()=>this._register(t.createInstance(kg,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){this.widget.rawValue?.previous()}next(){this.widget.rawValue?.next()}trigger(e){this.model.trigger(e,0)}};fd=Tg=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Pv(1,Ke._Y),Pv(2,Wt.ILanguageFeaturesService)],fd);class Fv extends O.ks{constructor(){super({id:"editor.action.triggerParameterHints",label:oe.kg("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:Fe.R.hasSignatureHelpProvider,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:3082,weight:100}})}run(e,t){fd.get(t)?.trigger({triggerKind:Pt.WA.Invoke})}}O.HW(fd.ID,fd,2),O.Fl(Fv);const Ag=O.DX.bindToContribution(fd.get);O.E_(new Ag({id:"closeParameterHints",precondition:Sc.Visible,handler:(e)=>e.cancel(),kbOpts:{weight:175,kbExpr:Fe.R.focus,primary:9,secondary:[1033]}})),O.E_(new Ag({id:"showPrevParameterHint",precondition:ye.M$.and(Sc.Visible,Sc.MultipleSignatures),handler:(e)=>e.previous(),kbOpts:{weight:175,kbExpr:Fe.R.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),O.E_(new Ag({id:"showNextParameterHint",precondition:ye.M$.and(Sc.Visible,Sc.MultipleSignatures),handler:(e)=>e.next(),kbOpts:{weight:175,kbExpr:Fe.R.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var GS=ct(7676),XS=ct(1940);class Ov{constructor(e){this.instantiationService=e}init(...e){}}let Ng=class extends Ov{constructor(e,t){super(t),this.init(e)}};var Ig;Ng=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(1,Ke._Y)],Ng),O.HW(mp.ID,(Ig=()=>mp,XS.e()?function(e,t){return class extends t{constructor(){super(...arguments),this._autorun=void 0}init(...n){this._autorun=Rn.yC((r,o)=>{const u=fg.b(e(),r);o.add(this.instantiationService.createInstance(u,...n))})}dispose(){this._autorun?.dispose()}}}(Ig,Ng):Ig()),0),GS.x1("editor.placeholder.foreground",hf.Ek,oe.kg("placeholderForeground","Foreground color of the placeholder text in the editor."));var HS=ct(1504),Rg=ct(7594),YS=ct(396),_p=function(e,t){return function(n,r){t(n,r,e)}};const md=new ye.N1("renameInputVisible",!1,oe.kg("renameInputVisible","Whether the rename input widget is visible"));new ye.N1("renameInputFocused",!1,oe.kg("renameInputFocused","Whether the rename input widget is focused"));let Lg=class{constructor(e,t,n,r,o,u){this._editor=e,this._acceptKeybindings=t,this._themeService=n,this._keybindingService=r,this._logService=u,this.allowEditorOverflow=!0,this._disposables=new ft.Cm,this._visibleContextKey=md.bindTo(o),this._isEditingRenameCandidate=!1,this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,this._candidates=new Set,this._beforeFirstInputFieldEditSW=new Kr.W,this._inputWithButton=new Qv,this._disposables.add(this._inputWithButton),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((l)=>{l.hasChanged(50)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputWithButton.domNode),this._renameCandidateListView=this._disposables.add(new Dg(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:(e)=>{this._inputWithButton.input.value=e,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._inputWithButton.onDidInputChange(()=>{this._renameCandidateListView?.focusedCandidate!==void 0&&(this._isEditingRenameCandidate=!0),this._timeBeforeFirstInputFieldEdit??=this._beforeFirstInputFieldEditSW.elapsed(),this._renameCandidateProvidersCts?.token.isCancellationRequested===!1&&this._renameCandidateProvidersCts.cancel(),this._renameCandidateListView?.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(e){if(!this._domNode)return;const t=e.getColor(Xt.f9l),n=e.getColor(Xt.DSL);this._domNode.style.backgroundColor=String(e.getColor(Xt.CgL)??""),this._domNode.style.boxShadow=t?` 0 0 8px 2px ${t}`:"",this._domNode.style.border=n?`1px solid ${n}`:"",this._domNode.style.color=String(e.getColor(Xt.cws)??"");const r=e.getColor(Xt.Zgs);this._inputWithButton.domNode.style.backgroundColor=String(e.getColor(Xt.L4c)??""),this._inputWithButton.input.style.backgroundColor=String(e.getColor(Xt.L4c)??""),this._inputWithButton.domNode.style.borderWidth=r?"1px":"0px",this._inputWithButton.domNode.style.borderStyle=r?"solid":"none",this._inputWithButton.domNode.style.borderColor=r?.toString()??"none"}_updateFont(){if(this._domNode===void 0)return;yn.j(this._label!==void 0,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._inputWithButton.input);const e=this._editor.getOption(50);this._label.style.fontSize=`${this._computeLabelFontSize(e.fontSize)}px`}_computeLabelFontSize(e){return 0.8*e}getPosition(){if(!this._visible)return null;if(!this._editor.hasModel()||!this._editor.getDomNode())return null;const e=ae.tG(this.getDomNode().ownerDocument.body),t=ae.BK(this._editor.getDomNode()),n=this._getTopForPosition();this._nPxAvailableAbove=n+t.top,this._nPxAvailableBelow=e.height-this._nPxAvailableAbove;const r=this._editor.getOption(67),{totalHeight:o}=gd.getLayoutInfo({lineHeight:r}),u=this._nPxAvailableBelow>6*o?[2,1]:[1,2];return{position:this._position,preference:u}}beforeRender(){const[e,t]=this._acceptKeybindings;return this._label.innerText=oe.kg({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",this._keybindingService.lookupKeybinding(e)?.getLabel(),this._keybindingService.lookupKeybinding(t)?.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(e){if(e===null)return void this.cancelInput(!0,"afterRender (because position is null)");if(!this._editor.hasModel()||!this._editor.getDomNode())return;yn.j(this._renameCandidateListView),yn.j(this._nPxAvailableAbove!==void 0),yn.j(this._nPxAvailableBelow!==void 0);const t=ae.OK(this._inputWithButton.domNode),n=ae.OK(this._label);let r;r=e===2?this._nPxAvailableBelow:this._nPxAvailableAbove,this._renameCandidateListView.layout({height:r-n-t,width:ae.Tr(this._inputWithButton.domNode)})}acceptInput(e){this._trace("invoking acceptInput"),this._currentAcceptInput?.(e)}cancelInput(e,t){this._currentCancelInput?.(e)}focusNextRenameSuggestion(){this._renameCandidateListView?.focusNext()||(this._inputWithButton.input.value=this._currentName)}focusPreviousRenameSuggestion(){this._renameCandidateListView?.focusPrevious()||(this._inputWithButton.input.value=this._currentName)}getInput(e,t,n,r,o){const{start:u,end:l}=this._getSelection(e,t);this._renameCts=o;const A=new ft.Cm;this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,r===void 0?this._inputWithButton.button.style.display="none":(this._inputWithButton.button.style.display="flex",this._requestRenameCandidatesOnce=r,this._requestRenameCandidates(t,!1),A.add(ae.ko(this._inputWithButton.button,"click",()=>this._requestRenameCandidates(t,!0))),A.add(ae.ko(this._inputWithButton.button,ae.Bx.KEY_DOWN,(le)=>{const ue=new Rg.Z(le);(ue.equals(3)||ue.equals(10))&&(ue.stopPropagation(),ue.preventDefault(),this._requestRenameCandidates(t,!0))}))),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",n),this._position=new Yn.y(e.startLineNumber,e.startColumn),this._currentName=t,this._inputWithButton.input.value=t,this._inputWithButton.input.setAttribute("selectionStart",u.toString()),this._inputWithButton.input.setAttribute("selectionEnd",l.toString()),this._inputWithButton.input.size=Math.max(1.1*(e.endColumn-e.startColumn),20),this._beforeFirstInputFieldEditSW.reset(),A.add(ft.s(()=>{this._renameCts=void 0,o.dispose(!0)})),A.add(ft.s(()=>{this._renameCandidateProvidersCts!==void 0&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)})),A.add(ft.s(()=>this._candidates.clear()));const K=new un.Zv;return K.p.finally(()=>{A.dispose(),this._hide()}),this._currentCancelInput=(le)=>(this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView?.clearCandidates(),K.complete(le),!0),this._currentAcceptInput=(le)=>{this._trace("invoking _currentAcceptInput"),yn.j(this._renameCandidateListView!==void 0);const ue=this._renameCandidateListView.nCandidates;let we,Qe;const Me=this._renameCandidateListView.focusedCandidate;Me!==void 0?(this._trace("using new name from renameSuggestion"),we=Me,Qe={k:"renameSuggestion"}):(this._trace("using new name from inputField"),we=this._inputWithButton.input.value,Qe=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),we!==t&&we.trim().length!==0?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),K.complete({newName:we,wantsPreview:n&&le,stats:{source:Qe,nRenameSuggestions:ue,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit,nRenameSuggestionsInvocations:this._nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:this._hadAutomaticRenameSuggestionsInvocation}})):this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)")},A.add(o.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),A.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!this._domNode?.ownerDocument.hasFocus(),"editor.onDidBlurEditorWidget"))),this._show(),K.p}_requestRenameCandidates(e,t){if(this._requestRenameCandidatesOnce!==void 0&&(this._renameCandidateProvidersCts!==void 0&&this._renameCandidateProvidersCts.dispose(!0),yn.j(this._renameCts),this._inputWithButton.buttonState!=="stop")){this._renameCandidateProvidersCts=new wn.Qi;const n=t?Pt.YT.Invoke:Pt.YT.Automatic,r=this._requestRenameCandidatesOnce(n,this._renameCandidateProvidersCts.token);if(r.length===0)return void this._inputWithButton.setSparkleButton();t||(this._hadAutomaticRenameSuggestionsInvocation=!0),this._nRenameSuggestionsInvocations+=1,this._inputWithButton.setStopButton(),this._updateRenameCandidates(r,e,this._renameCts.token)}}_getSelection(e,t){yn.j(this._editor.hasModel());const n=this._editor.getSelection();let r=0,o=t.length;return Nt.Q.isEmpty(n)||Nt.Q.spansMultipleLines(n)||!Nt.Q.containsRange(e,n)||(r=Math.max(0,n.startColumn-e.startColumn),o=Math.min(e.endColumn,n.endColumn)-e.startColumn),{start:r,end:o}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._inputWithButton.input.focus(),this._inputWithButton.input.setSelectionRange(parseInt(this._inputWithButton.input.getAttribute("selectionStart")),parseInt(this._inputWithButton.input.getAttribute("selectionEnd")))},100)}async _updateRenameCandidates(e,t,n){const r=(...K)=>this._trace("_updateRenameCandidates",...K);r("start");const o=await un.PK(Promise.allSettled(e),n);if(this._inputWithButton.setSparkleButton(),o===void 0)return void r("returning early - received updateRenameCandidates results - undefined");const u=o.flatMap((K)=>K.status==="fulfilled"&&yn.O9(K.value)?K.value:[]);r(`received updateRenameCandidates results - total (unfiltered) ${u.length} candidates.`);const l=mn.dM(u,(K)=>K.newSymbolName);r(`distinct candidates - ${l.length} candidates.`);const A=l.filter(({newSymbolName:K})=>K.trim().length>0&&K!==this._inputWithButton.input.value&&K!==t&&!this._candidates.has(K));r(`valid distinct candidates - ${u.length} candidates.`),A.forEach((K)=>this._candidates.add(K.newSymbolName)),A.length<1?r("returning early - no valid distinct candidates"):(r("setting candidates"),this._renameCandidateListView.setCandidates(A),r("asking editor to re-layout"),this._editor.layoutContentWidget(this))}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){const e=this._editor.getVisibleRanges();let t;return e.length>0?t=e[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),t=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(t)}_trace(...e){this._logService.trace("RenameWidget",...e)}};Lg=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([_p(2,pi.Gy),_p(3,ui.b),_p(4,ye.fN),_p(5,fc.rr)],Lg);class Dg{constructor(e,t){this._disposables=new ft.Cm,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=t.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=t.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.className="rename-box rename-candidate-list-container",e.appendChild(this._listContainer),this._listWidget=Dg._createListWidget(this._listContainer,this._candidateViewHeight,t.fontInfo),this._listWidget.onDidChangeFocus((n)=>{n.elements.length===1&&t.onFocusChange(n.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection((n)=>{n.elements.length===1&&t.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur((n)=>{this._listWidget.setFocus([])})),this._listWidget.style(ms.t8({listInactiveFocusForeground:Xt.nH,listInactiveFocusBackground:Xt.AlL}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:e,width:t}){this._availableHeight=e,this._minimumWidth=t}setCandidates(e){this._listWidget.splice(0,0,e);const t=this._pickListHeight(this._listWidget.length),n=this._pickListWidth(e);this._listWidget.layout(t,n),this._listContainer.style.height=`${t}px`,this._listContainer.style.width=`${n}px`,si.h5(oe.kg("renameSuggestionsReceivedAria","Received {0} rename suggestions",e.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;const e=this._listWidget.getSelectedElements()[0];if(e!==void 0)return e.newSymbolName;const t=this._listWidget.getFocusedElements()[0];return t!==void 0?t.newSymbolName:void 0}focusNext(){if(this._listWidget.length===0)return!1;const e=this._listWidget.getFocus();if(e.length===0)return this._listWidget.focusFirst(),this._listWidget.reveal(0),!0;if(e[0]===this._listWidget.length-1)return this._listWidget.setFocus([]),this._listWidget.reveal(0),!1;{this._listWidget.focusNext();const t=this._listWidget.getFocus()[0];return this._listWidget.reveal(t),!0}}focusPrevious(){if(this._listWidget.length===0)return!1;const e=this._listWidget.getFocus();if(e.length===0){this._listWidget.focusLast();const t=this._listWidget.getFocus()[0];return this._listWidget.reveal(t),!0}if(e[0]===0)return this._listWidget.setFocus([]),!1;{this._listWidget.focusPrevious();const t=this._listWidget.getFocus()[0];return this._listWidget.reveal(t),!0}}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){const{totalHeight:e}=gd.getLayoutInfo({lineHeight:this._lineHeight});return e}_pickListHeight(e){const t=this._candidateViewHeight*e;return Math.min(t,this._availableHeight,7*this._candidateViewHeight)}_pickListWidth(e){const t=Math.ceil(Math.max(...e.map((n)=>n.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+t+10)}static _createListWidget(e,t,n){const r=new class{getTemplateId(u){return"candidate"}getHeight(u){return t}},o=new class{constructor(){this.templateId="candidate"}renderTemplate(u){return new gd(u,n)}renderElement(u,l,A){A.populate(u)}disposeTemplate(u){u.dispose()}};return new Is.B8("NewSymbolNameCandidates",e,r,[o],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}}class Qv{constructor(){this._onDidInputChange=new Rt.vl,this.onDidInputChange=this._onDidInputChange.event,this._disposables=new ft.Cm}get domNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="rename-input-with-button",this._domNode.style.display="flex",this._domNode.style.flexDirection="row",this._domNode.style.alignItems="center",this._inputNode=document.createElement("input"),this._inputNode.className="rename-input",this._inputNode.type="text",this._inputNode.style.border="none",this._inputNode.setAttribute("aria-label",oe.kg("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._inputNode),this._buttonNode=document.createElement("div"),this._buttonNode.className="rename-suggestions-button",this._buttonNode.setAttribute("tabindex","0"),this._buttonGenHoverText=oe.kg("generateRenameSuggestionsButton","Generate new name suggestions"),this._buttonCancelHoverText=oe.kg("cancelRenameSuggestionsButton","Cancel"),this._buttonHover=YS.i().setupManagedHover(lc.nZ("element"),this._buttonNode,this._buttonGenHoverText),this._disposables.add(this._buttonHover),this._domNode.appendChild(this._buttonNode),this._disposables.add(ae.ko(this.input,ae.Bx.INPUT,()=>this._onDidInputChange.fire())),this._disposables.add(ae.ko(this.input,ae.Bx.KEY_DOWN,(e)=>{const t=new Rg.Z(e);t.keyCode!==15&&t.keyCode!==17||this._onDidInputChange.fire()})),this._disposables.add(ae.ko(this.input,ae.Bx.CLICK,()=>this._onDidInputChange.fire())),this._disposables.add(ae.ko(this.input,ae.Bx.FOCUS,()=>{this.domNode.style.outlineWidth="1px",this.domNode.style.outlineStyle="solid",this.domNode.style.outlineOffset="-1px",this.domNode.style.outlineColor="var(--vscode-focusBorder)"})),this._disposables.add(ae.ko(this.input,ae.Bx.BLUR,()=>{this.domNode.style.outline="none"}))),this._domNode}get input(){return yn.j(this._inputNode),this._inputNode}get button(){return yn.j(this._buttonNode),this._buttonNode}get buttonState(){return this._buttonState}setSparkleButton(){this._buttonState="sparkle",this._sparkleIcon??=ts.s(be.W.sparkle),ae.w_(this.button),this.button.appendChild(this._sparkleIcon),this.button.setAttribute("aria-label","Generating new name suggestions"),this._buttonHover?.update(this._buttonGenHoverText),this.input.focus()}setStopButton(){this._buttonState="stop",this._stopIcon??=ts.s(be.W.primitiveSquare),ae.w_(this.button),this.button.appendChild(this._stopIcon),this.button.setAttribute("aria-label","Cancel generating new name suggestions"),this._buttonHover?.update(this._buttonCancelHoverText),this.input.focus()}dispose(){this._disposables.dispose()}}class gd{static{this._PADDING=2}constructor(e,t){this._domNode=document.createElement("div"),this._domNode.className="rename-box rename-candidate",this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${t.lineHeight}px`,this._domNode.style.padding=`${gd._PADDING}px`;const n=document.createElement("div");n.style.display="flex",n.style.alignItems="center",n.style.width=n.style.height=0.8*t.lineHeight+"px",this._domNode.appendChild(n),this._icon=ts.s(be.W.sparkle),this._icon.style.display="none",n.appendChild(this._icon),this._label=document.createElement("div"),y_.M(this._label,t),this._domNode.appendChild(this._label),e.appendChild(this._domNode)}populate(e){this._updateIcon(e),this._updateLabel(e)}_updateIcon(e){const t=!!e.tags?.includes(Pt.OV.AIGenerated);this._icon.style.display=t?"inherit":"none"}_updateLabel(e){this._label.innerText=e.newSymbolName}static getLayoutInfo({lineHeight:e}){return{totalHeight:e+2*gd._PADDING}}dispose(){}}var Mg,Pl=function(e,t){return function(n,r){t(n,r,e)}};class bp{constructor(e,t,n){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=n.ordered(e)}hasProvider(){return this._providers.length>0}async resolveRenameLocation(e){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const r=this._providers[this._providerRenameIdx];if(!r.resolveRenameLocation)break;const o=await r.resolveRenameLocation(this.model,this.position,e);if(o){if(!o.rejectReason)return o;t.push(o.rejectReason)}}this._providerRenameIdx=0;const n=this.model.getWordAtPosition(this.position);return n?{range:new Nt.Q(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:Nt.Q.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}}async provideRenameEdits(e,t){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}async _provideRenameEdits(e,t,n,r){const o=this._providers[t];if(!o)return{edits:[],rejectReason:n.join("\n")};const u=await o.provideRenameEdits(this.model,this.position,e,r);return u?u.rejectReason?this._provideRenameEdits(e,t+1,n.concat(u.rejectReason),r):u:this._provideRenameEdits(e,t+1,n.concat(oe.kg("no result","No result.")),r)}}let Fl=class{static{Mg=this}static{this.ID="editor.contrib.renameController"}static get(e){return e.getContribution(Mg.ID)}constructor(e,t,n,r,o,u,l,A,K){this.editor=e,this._instaService=t,this._notificationService=n,this._bulkEditService=r,this._progressService=o,this._logService=u,this._configService=l,this._languageFeaturesService=A,this._telemetryService=K,this._disposableStore=new ft.Cm,this._cts=new wn.Qi,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(Lg,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){const e=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new wn.Qi,!this.editor.hasModel())return void e("editor has no model");const t=this.editor.getPosition(),n=new bp(this.editor.getModel(),t,this._languageFeaturesService.renameProvider);if(!n.hasProvider())return void e("skeleton has no provider");const r=new _e.gI(this.editor,5,void 0,this._cts.token);let o;try{e("resolving rename location");const Qe=n.resolveRenameLocation(r.token);this._progressService.showWhile(Qe,250),o=await Qe,e("resolved rename location")}catch(Qe){return void(Qe instanceof ii.AL?e("resolve rename location cancelled",JSON.stringify(Qe,null,"\t")):(e("resolve rename location failed",Qe instanceof Error?Qe:JSON.stringify(Qe,null,"\t")),(typeof Qe=="string"||ti.VS(Qe))&&ze.get(this.editor)?.showMessage(Qe||oe.kg("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),t)))}finally{r.dispose()}if(!o)return void e("returning early - no loc");if(o.rejectReason)return e(`returning early - rejected with reason: ${o.rejectReason}`,o.rejectReason),void ze.get(this.editor)?.showMessage(o.rejectReason,t);if(r.token.isCancellationRequested)return void e("returning early - cts1 cancelled");const u=new _e.gI(this.editor,5,o.range,this._cts.token),l=this.editor.getModel(),A=this._languageFeaturesService.newSymbolNamesProvider.all(l),K=await Promise.all(A.map(async(Qe)=>[Qe,await Qe.supportsAutomaticNewSymbolNamesTriggerKind??!1]));e("creating rename input field and awaiting its result");const le=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),ue=await this._renameWidget.getInput(o.range,o.text,le,A.length>0?(Qe,Me)=>{let nt=K.slice();return Qe===Pt.YT.Automatic&&(nt=nt.filter(([yt,It])=>It)),nt.map(([yt])=>yt.provideNewSymbolNames(l,o.range,Qe,Me))}:void 0,u);if(e("received response from rename input field"),A.length>0&&this._reportTelemetry(A.length,l.getLanguageId(),ue),typeof ue=="boolean")return e(`returning early - rename input field response - ${ue}`),ue&&this.editor.focus(),void u.dispose();this.editor.focus(),e("requesting rename edits");const we=un.PK(n.provideRenameEdits(ue.newName,u.token),u.token).then(async(Qe)=>{if(Qe)if(this.editor.hasModel()){if(Qe.rejectReason)return e(`returning early - rejected with reason: ${Qe.rejectReason}`),void this._notificationService.info(Qe.rejectReason);this.editor.setSelection(Nt.Q.fromPositions(this.editor.getSelection().getPosition())),e("applying edits"),this._bulkEditService.apply(Qe,{editor:this.editor,showPreview:ue.wantsPreview,label:oe.kg("label","Renaming '{0}' to '{1}'",o?.text,ue.newName),code:"undoredo.rename",quotableLabel:oe.kg("quotableLabel","Renaming {0} to {1}",o?.text,ue.newName),respectAutoSaveConfig:!0}).then((Me)=>{e("edits applied"),Me.ariaSummary&&si.xE(oe.kg("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",o.text,ue.newName,Me.ariaSummary))}).catch((Me)=>{e(`error when applying edits ${JSON.stringify(Me,null,"\t")}`),this._notificationService.error(oe.kg("rename.failedApply","Rename failed to apply edits")),this._logService.error(Me)})}else e("returning early - no model after rename edits are provided");else e("returning early - no rename edits result")},(Qe)=>{e("error when providing rename edits",JSON.stringify(Qe,null,"\t")),this._notificationService.error(oe.kg("rename.failed","Rename failed to compute edits")),this._logService.error(Qe)}).finally(()=>{u.dispose()});return e("returning rename operation"),this._progressService.showWhile(we,250),we}acceptRenameInput(e){this._renameWidget.acceptInput(e)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(e,t,n){const r=typeof n=="boolean"?{kind:"cancelled",languageId:t,nRenameSuggestionProviders:e}:{kind:"accepted",languageId:t,nRenameSuggestionProviders:e,source:n.stats.source.k,nRenameSuggestions:n.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:n.stats.timeBeforeFirstInputFieldEdit,wantsPreview:n.wantsPreview,nRenameSuggestionsInvocations:n.stats.nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:n.stats.hadAutomaticRenameSuggestionsInvocation};this._telemetryService.publicLog2("renameInvokedEvent",r)}};Fl=Mg=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Pl(1,Ke._Y),Pl(2,Dr.Ot),Pl(3,zt.nu),Pl(4,Tt.N8),Pl(5,fc.rr),Pl(6,HS.ITextResourceConfigurationService),Pl(7,Wt.ILanguageFeaturesService),Pl(8,xr.k)],Fl);class zv extends O.ks{constructor(){super({id:"editor.action.rename",label:oe.kg("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:ye.M$.and(Fe.R.writable,Fe.R.hasRenameProvider),kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const n=e.get(Ue.T),[r,o]=Array.isArray(t)&&t||[void 0,void 0];return ht.r.isUri(r)&&Yn.y.isIPosition(o)?n.openCodeEditor({resource:r},n.getActiveCodeEditor()).then((u)=>{u&&(u.setPosition(o),u.invokeWithinContext((l)=>(this.reportTelemetry(l,u),this.run(l,u))))},ii.dz):super.runCommand(e,t)}run(e,t){const n=e.get(fc.rr),r=Fl.get(t);return r?(n.trace("[RenameAction] got controller, running..."),r.run()):(n.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}}O.HW(Fl.ID,Fl,4),O.Fl(zv);const Pg=O.DX.bindToContribution(Fl.get);O.E_(new Pg({id:"acceptRenameInput",precondition:md,handler:(e)=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:ye.M$.and(Fe.R.focus,ye.M$.not("isComposing")),primary:3}})),O.E_(new Pg({id:"acceptRenameInputWithPreview",precondition:ye.M$.and(md,ye.M$.has("config.editor.rename.enablePreview")),handler:(e)=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:ye.M$.and(Fe.R.focus,ye.M$.not("isComposing")),primary:2051}})),O.E_(new Pg({id:"cancelRenameInput",precondition:md,handler:(e)=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:Fe.R.focus,primary:9,secondary:[1033]}})),rt.ug(class extends rt.L{constructor(){super({id:"focusNextRenameSuggestion",title:{...oe.aS("focusNextRenameSuggestion","Focus Next Rename Suggestion")},precondition:md,keybinding:[{primary:18,weight:199}]})}run(e){const t=e.get(Ue.T).getFocusedCodeEditor();if(!t)return;const n=Fl.get(t);n&&n.focusNextRenameSuggestion()}}),rt.ug(class extends rt.L{constructor(){super({id:"focusPreviousRenameSuggestion",title:{...oe.aS("focusPreviousRenameSuggestion","Focus Previous Rename Suggestion")},precondition:md,keybinding:[{primary:16,weight:199}]})}run(e){const t=e.get(Ue.T).getFocusedCodeEditor();if(!t)return;const n=Fl.get(t);n&&n.focusPreviousRenameSuggestion()}}),O.ke("_executeDocumentRenameProvider",function(e,t,n,...r){const[o]=r;yn.j(typeof o=="string");const{renameProvider:u}=e.get(Wt.ILanguageFeaturesService);return async function(l,A,K,le){const ue=new bp(A,K,l),we=await ue.resolveRenameLocation(wn.XO.None);return we?.rejectReason?{edits:[],rejectReason:we.rejectReason}:ue.provideRenameEdits(le,wn.XO.None)}(u,t,n,o)}),O.ke("_executePrepareRename",async function(e,t,n){const{renameProvider:r}=e.get(Wt.ILanguageFeaturesService),o=new bp(t,n,r),u=await o.resolveRenameLocation(wn.XO.None);if(u?.rejectReason)throw new Error(u.rejectReason);return u}),xt.O.as(Xs.Fd.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:oe.kg("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var Wv=function(e,t){return function(n,r){t(n,r,e)}};let vp=class extends ft.jG{static{this.ID="editor.sectionHeaderDetector"}constructor(e,t,n){super(),this.editor=e,this.languageConfigurationService=t,this.editorWorkerService=n,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(e.getOption(73)),this.computePromise=null,this.currentOccurrences={},this._register(e.onDidChangeModel((r)=>{this.currentOccurrences={},this.options=this.createOptions(e.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(e.onDidChangeModelLanguage((r)=>{this.currentOccurrences={},this.options=this.createOptions(e.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(t.onDidChange((r)=>{const o=this.editor.getModel()?.getLanguageId();o&&r.affects(o)&&(this.currentOccurrences={},this.options=this.createOptions(e.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(e.onDidChangeConfiguration((r)=>{this.options&&!r.hasChanged(73)||(this.options=this.createOptions(e.getOption(73)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent((r)=>{this.computeSectionHeaders.schedule()})),this._register(e.onDidChangeModelTokens((r)=>{this.computeSectionHeaders.isScheduled()||this.computeSectionHeaders.schedule(1000)})),this.computeSectionHeaders=this._register(new un.uC(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(e){if(!e||!this.editor.hasModel())return;const t=this.editor.getModel().getLanguageId();if(!t)return;const n=this.languageConfigurationService.getLanguageConfiguration(t).comments,r=this.languageConfigurationService.getLanguageConfiguration(t).foldingRules;return n||r?.markers?{foldingRules:r,findMarkSectionHeaders:e.showMarkSectionHeaders,findRegionSectionHeaders:e.showRegionSectionHeaders}:void 0}findSectionHeaders(){if(!this.editor.hasModel()||!this.options?.findMarkSectionHeaders&&!this.options?.findRegionSectionHeaders)return;const e=this.editor.getModel();if(e.isDisposed()||e.isTooLargeForSyncing())return;const t=e.getVersionId();this.editorWorkerService.findSectionHeaders(e.uri,this.options).then((n)=>{e.isDisposed()||e.getVersionId()!==t||this.updateDecorations(n)})}updateDecorations(e){const t=this.editor.getModel();t&&(e=e.filter((o)=>{if(!o.shouldBeInComments)return!0;const u=t.validateRange(o.range),l=t.tokenization.getLineTokens(u.startLineNumber),A=l.findTokenIndexAtOffset(u.startColumn-1),K=l.getStandardTokenType(A);return l.getLanguageId(A)===t.getLanguageId()&&K===1}));const n=Object.values(this.currentOccurrences).map((o)=>o.decorationId),r=e.map((o)=>function(u){return{range:u.range,options:Hn.kI.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:u.hasSeparatorLine?2:1,sectionHeaderText:u.text}})}}(o));this.editor.changeDecorations((o)=>{const u=o.deltaDecorations(n,r);this.currentOccurrences={};for(let l=0,A=u.length;l<A;l++){const K={sectionHeader:e[l],decorationId:u[l]};this.currentOccurrences[K.decorationId]=K}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}};vp=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Wv(1,eo.JZ),Wv(2,Zo.IEditorWorkerService)],vp),O.HW(vp.ID,vp,1);var $v=ct(9520),Zv=ct(9376);function yp(e){return e&&!!e.data}function Uv(e){return e&&Array.isArray(e.edits)}class Bv{constructor(e,t,n){this.provider=e,this.tokens=t,this.error=n}}function Vv(e,t){return e.has(t)}async function Gv(e,t,n,r,o){const u=function(A,K){const le=A.orderedGroups(K);return le.length>0?le[0]:[]}(e,t),l=await Promise.all(u.map(async(A)=>{let K,le=null;try{K=await A.provideDocumentSemanticTokens(t,A===n?r:null,o)}catch(ue){le=ue,K=null}return K&&(yp(K)||Uv(K))||(K=null),new Bv(A,K,le)}));for(let A of l){if(A.error)throw A.error;if(A.tokens)return A}return l.length>0?l[0]:null}class Xv{constructor(e,t){this.provider=e,this.tokens=t}}function Hv(e,t){const n=e.orderedGroups(t);return n.length>0?n[0]:[]}async function Fg(e,t,n,r){const o=Hv(e,t),u=await Promise.all(o.map(async(l)=>{let A;try{A=await l.provideDocumentRangeSemanticTokens(t,n,r)}catch(K){ii.M_(K),A=null}return A&&yp(A)||(A=null),new Xv(l,A)}));for(let l of u)if(l.tokens)return l;return u.length>0?u[0]:null}En.w.registerCommand("_provideDocumentSemanticTokensLegend",async(e,...t)=>{const[n]=t;yn.j(n instanceof ht.r);const r=e.get(Di.IModelService).getModel(n);if(!r)return;const{documentSemanticTokensProvider:o}=e.get(Wt.ILanguageFeaturesService),u=function(l,A){const K=l.orderedGroups(A);return K.length>0?K[0]:null}(o,r);return u?u[0].getLegend():e.get(En.d).executeCommand("_provideDocumentRangeSemanticTokensLegend",n)}),En.w.registerCommand("_provideDocumentSemanticTokens",async(e,...t)=>{const[n]=t;yn.j(n instanceof ht.r);const r=e.get(Di.IModelService).getModel(n);if(!r)return;const{documentSemanticTokensProvider:o}=e.get(Wt.ILanguageFeaturesService);if(!Vv(o,r))return e.get(En.d).executeCommand("_provideDocumentRangeSemanticTokens",n,r.getFullModelRange());const u=await Gv(o,r,null,null,wn.XO.None);if(!u)return;const{provider:l,tokens:A}=u;if(!A||!yp(A))return;const K=Zv.encodeSemanticTokensDto({id:0,type:"full",data:A.data});return A.resultId&&l.releaseDocumentSemanticTokens(A.resultId),K}),En.w.registerCommand("_provideDocumentRangeSemanticTokensLegend",async(e,...t)=>{const[n,r]=t;yn.j(n instanceof ht.r);const o=e.get(Di.IModelService).getModel(n);if(!o)return;const{documentRangeSemanticTokensProvider:u}=e.get(Wt.ILanguageFeaturesService),l=Hv(u,o);if(l.length===0)return;if(l.length===1)return l[0].getLegend();if(!r||!Nt.Q.isIRange(r))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),l[0].getLegend();const A=await Fg(u,o,Nt.Q.lift(r),wn.XO.None);return A?A.provider.getLegend():void 0}),En.w.registerCommand("_provideDocumentRangeSemanticTokens",async(e,...t)=>{const[n,r]=t;yn.j(n instanceof ht.r),yn.j(Nt.Q.isIRange(r));const o=e.get(Di.IModelService).getModel(n);if(!o)return;const{documentRangeSemanticTokensProvider:u}=e.get(Wt.ILanguageFeaturesService),l=await Fg(u,o,Nt.Q.lift(r),wn.XO.None);return l&&l.tokens?Zv.encodeSemanticTokensDto({id:0,type:"full",data:l.tokens.data}):void 0});var Og=ct(2891);const Qg="editor.semanticHighlighting";function Sp(e,t,n){const r=n.getValue(Qg,{overrideIdentifier:e.getLanguageId(),resource:e.uri})?.enabled;return typeof r=="boolean"?r:t.getColorTheme().semanticHighlighting}var Ol,Yv=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},ya=function(e,t){return function(n,r){t(n,r,e)}};let zg=class extends ft.jG{constructor(e,t,n,r,o,u){super(),this._watchers=Object.create(null);const l=(le)=>{this._watchers[le.uri.toString()]=new Wg(le,e,n,o,u)},A=(le,ue)=>{ue.dispose(),delete this._watchers[le.uri.toString()]},K=()=>{for(let le of t.getModels()){const ue=this._watchers[le.uri.toString()];Sp(le,n,r)?ue||l(le):ue&&A(le,ue)}};t.getModels().forEach((le)=>{Sp(le,n,r)&&l(le)}),this._register(t.onModelAdded((le)=>{Sp(le,n,r)&&l(le)})),this._register(t.onModelRemoved((le)=>{const ue=this._watchers[le.uri.toString()];ue&&A(le,ue)})),this._register(r.onDidChangeConfiguration((le)=>{le.affectsConfiguration(Qg)&&K()})),this._register(n.onDidColorThemeChange(K))}dispose(){for(let e of Object.values(this._watchers))e.dispose();super.dispose()}};zg=Yv([ya(0,Og.ISemanticTokensStylingService),ya(1,Di.IModelService),ya(2,pi.Gy),ya(3,lt.pG),ya(4,Eo.ILanguageFeatureDebounceService),ya(5,Wt.ILanguageFeaturesService)],zg);let Wg=class extends ft.jG{static{Ol=this}static{this.REQUEST_MIN_DELAY=300}static{this.REQUEST_MAX_DELAY=2000}constructor(e,t,n,r,o){super(),this._semanticTokensStylingService=t,this._isDisposed=!1,this._model=e,this._provider=o.documentSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentSemanticTokens",{min:Ol.REQUEST_MIN_DELAY,max:Ol.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new un.uC(()=>this._fetchDocumentSemanticTokensNow(),Ol.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const u=()=>{ft.AS(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(let l of this._provider.all(e))typeof l.onDidChange=="function"&&this._documentProvidersChangeListeners.push(l.onDidChange(()=>{this._currentDocumentRequestCancellationTokenSource?this._providersChangedDuringRequest=!0:this._fetchDocumentSemanticTokens.schedule(0)}))};u(),this._register(this._provider.onDidChange(()=>{u(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(n.onDidColorThemeChange((l)=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),ft.AS(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!Vv(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1));if(!this._model.isAttachedToEditor())return;const e=new wn.Qi,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,n=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,r=Gv(this._provider,this._model,t,n,e.token);this._currentDocumentRequestCancellationTokenSource=e,this._providersChangedDuringRequest=!1;const o=[],u=this._model.onDidChangeContent((A)=>{o.push(A)}),l=new Kr.W(!1);r.then((A)=>{if(this._debounceInformation.update(this._model,l.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,u.dispose(),A){const{provider:K,tokens:le}=A,ue=this._semanticTokensStylingService.getStyling(K);this._setDocumentSemanticTokens(K,le||null,ue,o)}else this._setDocumentSemanticTokens(null,null,null,o)},(A)=>{A&&(ii.MB(A)||typeof A.message=="string"&&A.message.indexOf("busy")!==-1)||ii.dz(A),this._currentDocumentRequestCancellationTokenSource=null,u.dispose(),(o.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,t,n,r,o){o=Math.min(o,n.length-r,e.length-t);for(let u=0;u<o;u++)n[r+u]=e[t+u]}_setDocumentSemanticTokens(e,t,n,r){const o=this._currentDocumentResponse,u=()=>{(r.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&n){if(!t)return this._model.tokenization.setSemanticTokens(null,!0),void u();if(Uv(t)){if(!o)return void this._model.tokenization.setSemanticTokens(null,!0);if(t.edits.length===0)t={resultId:t.resultId,data:o.data};else{let l=0;for(let we of t.edits)l+=(we.data?we.data.length:0)-we.deleteCount;const A=o.data,K=new Uint32Array(A.length+l);let le=A.length,ue=K.length;for(let we=t.edits.length-1;we>=0;we--){const Qe=t.edits[we];if(Qe.start>A.length)return n.warnInvalidEditStart(o.resultId,t.resultId,we,Qe.start,A.length),void this._model.tokenization.setSemanticTokens(null,!0);const Me=le-(Qe.start+Qe.deleteCount);Me>0&&(Ol._copy(A,le-Me,K,ue-Me,Me),ue-=Me),Qe.data&&(Ol._copy(Qe.data,0,K,ue-Qe.data.length,Qe.data.length),ue-=Qe.data.length),le=Qe.start}le>0&&Ol._copy(A,0,K,0,le),t={resultId:t.resultId,data:K}}}if(yp(t)){this._currentDocumentResponse=new jv(e,t.resultId,t.data);const l=$v.toMultilineTokens2(t,n,this._model.getLanguageId());if(r.length>0)for(let A of r)for(let K of l)for(let le of A.changes)K.applyEdit(le.range,le.text);this._model.tokenization.setSemanticTokens(l,!0)}else this._model.tokenization.setSemanticTokens(null,!0);u()}else this._model.tokenization.setSemanticTokens(null,!1)}};Wg=Ol=Yv([ya(1,Og.ISemanticTokensStylingService),ya(2,pi.Gy),ya(3,Eo.ILanguageFeatureDebounceService),ya(4,Wt.ILanguageFeaturesService)],Wg);class jv{constructor(e,t,n){this.provider=e,this.resultId=t,this.data=n}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}ys.x(zg);var xu=function(e,t){return function(n,r){t(n,r,e)}};let wp=class extends ft.jG{static{this.ID="editor.contrib.viewportSemanticTokens"}constructor(e,t,n,r,o,u){super(),this._semanticTokensStylingService=t,this._themeService=n,this._configurationService=r,this._editor=e,this._provider=u.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new un.uC(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const l=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{l()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),l()})),this._register(this._editor.onDidChangeModelContent((A)=>{this._cancelAll(),l()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),l()})),this._register(this._configurationService.onDidChangeConfiguration((A)=>{A.affectsConfiguration(Qg)&&(this._cancelAll(),l())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),l()})),l()}_cancelAll(){for(let e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,n=this._outstandingRequests.length;t<n;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!Sp(e,this._themeService,this._configurationService))return void(e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1));if(!function(n,r){return n.has(r)}(this._provider,e))return void(e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1));const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map((n)=>this._requestRange(e,n)))}_requestRange(e,t){const n=e.getVersionId(),r=un.SS((u)=>Promise.resolve(Fg(this._provider,e,t,u))),o=new Kr.W(!1);return r.then((u)=>{if(this._debounceInformation.update(e,o.elapsed()),!u||!u.tokens||e.isDisposed()||e.getVersionId()!==n)return;const{provider:l,tokens:A}=u,K=this._semanticTokensStylingService.getStyling(l);e.tokenization.setPartialSemanticTokens(t,$v.toMultilineTokens2(A,K,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(r),()=>this._removeOutstandingRequest(r)),r}};wp=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([xu(1,Og.ISemanticTokensStylingService),xu(2,pi.Gy),xu(3,lt.pG),xu(4,Eo.ILanguageFeatureDebounceService),xu(5,Wt.ILanguageFeaturesService)],wp),O.HW(wp.ID,wp,1);class qv{constructor(e=!0){this.selectSubwords=e}provideSelectionRanges(e,t){const n=[];for(let r of t){const o=[];n.push(o),this.selectSubwords&&this._addInWordRanges(o,e,r),this._addWordRanges(o,e,r),this._addWhitespaceLine(o,e,r),o.push({range:e.getFullModelRange()})}return n}_addInWordRanges(e,t,n){const r=t.getWordAtPosition(n);if(!r)return;const{word:o,startColumn:u}=r,l=n.column-u;let A=l,K=l,le=0;for(;A>=0;A--){const ue=o.charCodeAt(A);if(A!==l&&(ue===95||ue===45))break;if(Ne.Lv(ue)&&Ne.Wv(le))break;le=ue}for(A+=1;K<o.length;K++){const ue=o.charCodeAt(K);if(Ne.Wv(ue)&&Ne.Lv(le))break;if(ue===95||ue===45)break;le=ue}A<K&&e.push({range:new Nt.Q(n.lineNumber,u+A,n.lineNumber,u+K)})}_addWordRanges(e,t,n){const r=t.getWordAtPosition(n);r&&e.push({range:new Nt.Q(n.lineNumber,r.startColumn,n.lineNumber,r.endColumn)})}_addWhitespaceLine(e,t,n){t.getLineLength(n.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(n.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(n.lineNumber)===0&&e.push({range:new Nt.Q(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})}}var $g;class Zg{constructor(e,t){this.index=e,this.ranges=t}mov(e){const t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const n=new Zg(t,this.ranges);return n.ranges[t].equalsRange(this.ranges[this.index])?n.mov(e):n}}let Cu=class{static{$g=this}static{this.ID="editor.contrib.smartSelectController"}static get(e){return e.getContribution($g.ID)}constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}dispose(){this._selectionListener?.dispose()}async run(e){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),n=this._editor.getModel();if(this._state||await Kv(this._languageFeaturesService.selectionRangeProvider,n,t.map((o)=>o.getPosition()),this._editor.getOption(114),wn.XO.None).then((o)=>{if(mn.EI(o)&&o.length===t.length&&this._editor.hasModel()&&mn.aI(this._editor.getSelections(),t,(u,l)=>u.equalsSelection(l))){for(let u=0;u<o.length;u++)o[u]=o[u].filter((l)=>l.containsPosition(t[u].getStartPosition())&&l.containsPosition(t[u].getEndPosition())),o[u].unshift(t[u]);this._state=o.map((u)=>new Zg(0,u)),this._selectionListener?.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{this._ignoreSelection||(this._selectionListener?.dispose(),this._state=void 0)})}}),!this._state)return;this._state=this._state.map((o)=>o.mov(e));const r=this._state.map((o)=>Xn.L.fromPositions(o.ranges[o.index].getStartPosition(),o.ranges[o.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(r)}finally{this._ignoreSelection=!1}}};Cu=$g=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(1,Wt.ILanguageFeaturesService)],Cu);class Ug extends O.ks{constructor(e,t){super(t),this._forward=e}async run(e,t){const n=Cu.get(t);n&&await n.run(this._forward)}}async function Kv(e,t,n,r,o){const u=e.all(t).concat(new qv(r.selectSubwords));u.length===1&&u.unshift(new zs);const l=[],A=[];for(let K of u)l.push(Promise.resolve(K.provideSelectionRanges(t,n,o)).then((le)=>{if(mn.EI(le)&&le.length===n.length)for(let ue=0;ue<n.length;ue++){A[ue]||(A[ue]=[]);for(let we of le[ue])Nt.Q.isIRange(we.range)&&Nt.Q.containsPosition(we.range,n[ue])&&A[ue].push(Nt.Q.lift(we.range))}},ii.M_));return await Promise.all(l),A.map((K)=>{if(K.length===0)return[];K.sort((Qe,Me)=>Yn.y.isBefore(Qe.getStartPosition(),Me.getStartPosition())?1:Yn.y.isBefore(Me.getStartPosition(),Qe.getStartPosition())||Yn.y.isBefore(Qe.getEndPosition(),Me.getEndPosition())?-1:Yn.y.isBefore(Me.getEndPosition(),Qe.getEndPosition())?1:0);const le=[];let ue;for(let Qe of K)(!ue||Nt.Q.containsRange(Qe,ue)&&!Nt.Q.equalsRange(Qe,ue))&&(le.push(Qe),ue=Qe);if(!r.selectLeadingAndTrailingWhitespace)return le;const we=[le[0]];for(let Qe=1;Qe<le.length;Qe++){const Me=le[Qe-1],nt=le[Qe];if(nt.startLineNumber!==Me.startLineNumber||nt.endLineNumber!==Me.endLineNumber){const yt=new Nt.Q(Me.startLineNumber,t.getLineFirstNonWhitespaceColumn(Me.startLineNumber),Me.endLineNumber,t.getLineLastNonWhitespaceColumn(Me.endLineNumber));yt.containsRange(Me)&&!yt.equalsRange(Me)&&nt.containsRange(yt)&&!nt.equalsRange(yt)&&we.push(yt);const It=new Nt.Q(Me.startLineNumber,1,Me.endLineNumber,t.getLineMaxColumn(Me.endLineNumber));It.containsRange(Me)&&!It.equalsRange(yt)&&nt.containsRange(It)&&!nt.equalsRange(It)&&we.push(It)}we.push(nt)}return we})}En.w.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),O.HW(Cu.ID,Cu,4),O.Fl(class extends Ug{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:oe.kg("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"1_basic",title:oe.kg({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),O.Fl(class extends Ug{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:oe.kg("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:rt.D8.MenubarSelectionMenu,group:"1_basic",title:oe.kg({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),En.w.registerCommand("_executeSelectionRangeProvider",async function(e,...t){const[n,r]=t;yn.j(ht.r.isUri(n));const o=e.get(Wt.ILanguageFeaturesService).selectionRangeProvider,u=await e.get($r.ITextModelService).createModelReference(n);try{return Kv(o,u.object.textEditorModel,r,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},wn.XO.None)}finally{u.dispose()}});const jS=Object.freeze({View:oe.aS("view","View"),Help:oe.aS("help","Help"),Test:oe.aS("test","Test"),File:oe.aS("file","File"),Preferences:oe.aS("preferences","Preferences"),Developer:oe.aS({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});var qS=ct(7345);class Eu{constructor(e,t,n,r=null){this.startLineNumbers=e,this.endLineNumbers=t,this.lastLineRelativePosition=n,this.showEndForLine=r}equals(e){return!!e&&this.lastLineRelativePosition===e.lastLineRelativePosition&&this.showEndForLine===e.showEndForLine&&mn.aI(this.startLineNumbers,e.startLineNumbers)&&mn.aI(this.endLineNumbers,e.endLineNumbers)}static get Empty(){return new Eu([],[],0)}}const ey=v_.H("stickyScrollViewLayer",{createHTML:(e)=>e}),Bg="data-sticky-line-index",ty="data-sticky-is-line",ny="data-sticky-is-folding-icon";class iy extends ft.jG{constructor(e){super(),this._editor=e,this._foldingIconStore=new ft.Cm,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",e instanceof ws),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const t=()=>{this._linesDomNode.style.left=this._editor.getOption(116).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration((n)=>{n.hasChanged(116)&&t(),n.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange((n)=>{n.scrollLeftChanged&&t(),n.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{t(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),t(),this._register(this._editor.onDidLayoutChange((n)=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(e){return this._renderedStickyLines.find((t)=>t.lineNumber===e)}getCurrentLines(){return this._lineNumbers}setState(e,t,n){if(n===void 0&&(!this._previousState&&!e||this._previousState&&this._previousState.equals(e)))return;const r=this._isWidgetHeightZero(e),o=r?void 0:e,u=r?0:this._findLineToRebuildWidgetFrom(e,n);this._renderRootNode(o,t,u),this._previousState=e}_isWidgetHeightZero(e){if(!e)return!0;const t=e.startLineNumbers.length*this._lineHeight+e.lastLineRelativePosition;if(t>0){this._lastLineRelativePosition=e.lastLineRelativePosition;const n=[...e.startLineNumbers];e.showEndForLine!==null&&(n[e.showEndForLine]=e.endLineNumbers[e.showEndForLine]),this._lineNumbers=n}else this._lastLineRelativePosition=0,this._lineNumbers=[];return t===0}_findLineToRebuildWidgetFrom(e,t){if(!e||!this._previousState)return 0;if(t!==void 0)return t;const n=this._previousState,r=e.startLineNumbers.findIndex((o)=>!n.startLineNumbers.includes(o));return r===-1?0:r}_updateWidgetWidth(){const e=this._editor.getLayoutInfo(),t=e.contentLeft;this._lineNumbersDomNode.style.width=`${t}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",this._editor.getScrollWidth()-e.verticalScrollbarWidth+"px"),this._rootDomNode.style.width=e.width-e.verticalScrollbarWidth+"px"}_clearStickyLinesFromLine(e){this._foldingIconStore.clear();for(let t=e;t<this._renderedStickyLines.length;t++){const n=this._renderedStickyLines[t];n.lineNumberDomNode.remove(),n.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,e),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(e){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${e?0.5:0}s`)}_setFoldingIconsVisibility(e){for(let t of this._renderedStickyLines){const n=t.foldingIcon;n&&n.setVisible(!!e||n.isCollapsed)}}async _renderRootNode(e,t,n){if(this._clearStickyLinesFromLine(n),!e)return;for(let l of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(l);const r=this._editor.getLayoutInfo(),o=this._lineNumbers.slice(n);for(let[l,A]of o.entries()){const K=this._renderChildNode(l+n,A,t,r);K&&(this._linesDomNode.appendChild(K.lineDomNode),this._lineNumbersDomNode.appendChild(K.lineNumberDomNode),this._renderedStickyLines.push(K))}t&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const u=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${u}px`,this._linesDomNodeScrollable.style.height=`${u}px`,this._rootDomNode.style.height=`${u}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map((l)=>l.scrollWidth))+r.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){this._editor.getOption(111)==="mouseover"&&(this._foldingIconStore.add(ae.ko(this._lineNumbersDomNode,ae.Bx.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(ae.ko(this._lineNumbersDomNode,ae.Bx.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(e,t,n,r){const o=this._editor._getViewModel();if(!o)return;const u=o.coordinatesConverter.convertModelPositionToViewPosition(new Yn.y(t,1)).lineNumber,l=o.getViewLineRenderingData(u),A=this._editor.getOption(68);let K;try{K=eu.d.filter(l.inlineDecorations,u,l.minColumn,l.maxColumn)}catch(Tn){K=[]}const le=new Rh.zL(!0,!0,l.content,l.continuesWithWrappedLine,l.isBasicASCII,l.containsRTL,0,l.tokens,K,l.tabSize,l.startVisibleColumn,1,1,1,500,"none",!0,!0,null),ue=new S_.fe(2000),we=Rh.UW(le,ue);let Qe;Qe=ey?ey.createHTML(ue.build()):ue.build();const Me=document.createElement("span");Me.setAttribute(Bg,String(e)),Me.setAttribute(ty,""),Me.setAttribute("role","listitem"),Me.tabIndex=0,Me.className="sticky-line-content",Me.classList.add(`stickyLine${t}`),Me.style.lineHeight=`${this._lineHeight}px`,Me.innerHTML=Qe;const nt=document.createElement("span");nt.setAttribute(Bg,String(e)),nt.setAttribute("data-sticky-is-line-number",""),nt.className="sticky-line-number",nt.style.lineHeight=`${this._lineHeight}px`;const yt=r.contentLeft;nt.style.width=`${yt}px`;const It=document.createElement("span");A.renderType===1||A.renderType===3&&t%10==0?It.innerText=t.toString():A.renderType===2&&(It.innerText=Math.abs(t-this._editor.getPosition().lineNumber).toString()),It.className="sticky-line-number-inner",It.style.lineHeight=`${this._lineHeight}px`,It.style.width=`${r.lineNumbersWidth}px`,It.style.paddingLeft=`${r.lineNumbersLeft}px`,nt.appendChild(It);const Dt=this._renderFoldingIconForLine(n,t);Dt&&nt.appendChild(Dt.domNode),this._editor.applyFontInfo(Me),this._editor.applyFontInfo(It),nt.style.lineHeight=`${this._lineHeight}px`,Me.style.lineHeight=`${this._lineHeight}px`,nt.style.height=`${this._lineHeight}px`,Me.style.height=`${this._lineHeight}px`;const cn=new ry(e,t,Me,nt,Dt,we.characterMapping,Me.scrollWidth);return this._updateTopAndZIndexOfStickyLine(cn)}_updateTopAndZIndexOfStickyLine(e){const{index:t,lineDomNode:n,lineNumberDomNode:r}=e,o=t===this._lineNumbers.length-1;n.style.zIndex=o?"0":"1",r.style.zIndex=o?"0":"1";const u=`${t*this._lineHeight+this._lastLineRelativePosition+(e.foldingIcon?.isCollapsed?1:0)}px`,l=t*this._lineHeight+"px";return n.style.top=o?u:l,r.style.top=o?u:l,e}_renderFoldingIconForLine(e,t){const n=this._editor.getOption(111);if(!e||n==="never")return;const r=e.regions,o=r.findRange(t),u=r.getStartLineNumber(o);if(t!==u)return;const l=r.isCollapsed(o),A=new oy(l,u,r.getEndLineNumber(o),this._lineHeight);return A.setVisible(!!this._isOnGlyphMargin||l||n==="always"),A.domNode.setAttribute(ny,""),A}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:2,stackOridinal:10}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(e){0<=e&&e<this._renderedStickyLines.length&&this._renderedStickyLines[e].lineDomNode.focus()}getEditorPositionFromNode(e){if(!e||e.children.length>0)return null;const t=this._getRenderedStickyLineFromChildDomNode(e);if(!t)return null;const n=qS.rk(t.characterMapping,e,0);return new Yn.y(t.lineNumber,n)}getLineNumberFromChildDomNode(e){return this._getRenderedStickyLineFromChildDomNode(e)?.lineNumber??null}_getRenderedStickyLineFromChildDomNode(e){const t=this.getLineIndexFromChildDomNode(e);return t===null||t<0||t>=this._renderedStickyLines.length?null:this._renderedStickyLines[t]}getLineIndexFromChildDomNode(e){const t=this._getAttributeValue(e,Bg);return t?parseInt(t,10):null}isInStickyLine(e){return this._getAttributeValue(e,ty)!==void 0}isInFoldingIconDomNode(e){return this._getAttributeValue(e,ny)!==void 0}_getAttributeValue(e,t){for(;e&&e!==this._rootDomNode;){const n=e.getAttribute(t);if(n!==null)return n;e=e.parentElement}}}class ry{constructor(e,t,n,r,o,u,l){this.index=e,this.lineNumber=t,this.lineDomNode=n,this.lineNumberDomNode=r,this.foldingIcon=o,this.characterMapping=u,this.scrollWidth=l}}class oy{constructor(e,t,n,r){this.isCollapsed=e,this.foldingStartLine=t,this.foldingEndLine=n,this.dimension=r,this.domNode=document.createElement("div"),this.domNode.style.width=`${r}px`,this.domNode.style.height=`${r}px`,this.domNode.className=Oe.L.asClassName(e?xh:wh)}setVisible(e){this.domNode.style.cursor=e?"pointer":"default",this.domNode.style.opacity=e?"1":"0"}}class _d{constructor(e,t){this.startLineNumber=e,this.endLineNumber=t}}class Ju{constructor(e,t,n){this.range=e,this.children=t,this.parent=n}}class Vg{constructor(e,t,n,r){this.uri=e,this.version=t,this.element=n,this.outlineProviderId=r}}var ku,Gg,Ql,bd,xp=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},Tu=function(e,t){return function(n,r){t(n,r,e)}};(Gg=ku||(ku={})).OUTLINE_MODEL="outlineModel",Gg.FOLDING_PROVIDER_MODEL="foldingProviderModel",Gg.INDENTATION_MODEL="indentationModel",(bd=Ql||(Ql={}))[bd.VALID=0]="VALID",bd[bd.INVALID=1]="INVALID",bd[bd.CANCELED=2]="CANCELED";let Xg=class extends ft.jG{constructor(e,t,n,r){switch(super(),this._editor=e,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new un.ve(300)),this._updateOperation=this._register(new ft.Cm),this._editor.getOption(116).defaultModel){case ku.OUTLINE_MODEL:this._modelProviders.push(new Yg(this._editor,r));case ku.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new Kg(this._editor,t,r));case ku.INDENTATION_MODEL:this._modelProviders.push(new qg(this._editor,n))}}dispose(){this._modelProviders.forEach((e)=>e.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(e){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(let t of this._modelProviders){const{statusPromise:n,modelPromise:r}=t.computeStickyModel(e);this._modelPromise=r;const o=await n;if(this._modelPromise!==r)return null;switch(o){case Ql.CANCELED:return this._updateOperation.clear(),null;case Ql.VALID:return t.stickyModel}}return null}).catch((t)=>(ii.dz(t),null))}};Xg=xp([Tu(2,Ke._Y),Tu(3,Wt.ILanguageFeaturesService)],Xg);class Hg extends ft.jG{constructor(e){super(),this._editor=e,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,Ql.INVALID}computeStickyModel(e){if(e.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};const t=un.SS((n)=>this.createModelFromProvider(n));return{statusPromise:t.then((n)=>this.isModelValid(n)?e.isCancellationRequested?Ql.CANCELED:(this._stickyModel=this.createStickyModel(e,n),Ql.VALID):this._invalid()).then(void 0,(n)=>(ii.dz(n),Ql.CANCELED)),modelPromise:t}}isModelValid(e){return!0}isProviderValid(){return!0}}let Yg=class extends Hg{constructor(e,t){super(e),this._languageFeaturesService=t}createModelFromProvider(e){return Ga.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),e)}createStickyModel(e,t){const{stickyOutlineElement:n,providerID:r}=this._stickyModelFromOutlineModel(t,this._stickyModel?.outlineProviderId),o=this._editor.getModel();return new Vg(o.uri,o.getVersionId(),n,r)}isModelValid(e){return e&&e.children.size>0}_stickyModelFromOutlineModel(e,t){let n;if(An.f.first(e.children.values())instanceof zf){const u=An.f.find(e.children.values(),(l)=>l.id===t);if(u)n=u.children;else{let l,A="",K=-1;for(let[le,ue]of e.children.entries()){const we=this._findSumOfRangesOfGroup(ue);we>K&&(l=ue,K=we,A=ue.id)}t=A,n=l.children}}else n=e.children;const r=[],o=Array.from(n.values()).sort((u,l)=>{const A=new _d(u.symbol.range.startLineNumber,u.symbol.range.endLineNumber),K=new _d(l.symbol.range.startLineNumber,l.symbol.range.endLineNumber);return this._comparator(A,K)});for(let u of o)r.push(this._stickyModelFromOutlineElement(u,u.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new Ju(void 0,r,void 0),providerID:t}}_stickyModelFromOutlineElement(e,t){const n=[];for(let o of e.children.values())if(o.symbol.selectionRange.startLineNumber!==o.symbol.range.endLineNumber)if(o.symbol.selectionRange.startLineNumber!==t)n.push(this._stickyModelFromOutlineElement(o,o.symbol.selectionRange.startLineNumber));else for(let u of o.children.values())n.push(this._stickyModelFromOutlineElement(u,o.symbol.selectionRange.startLineNumber));n.sort((o,u)=>this._comparator(o.range,u.range));const r=new _d(e.symbol.selectionRange.startLineNumber,e.symbol.range.endLineNumber);return new Ju(r,n,void 0)}_comparator(e,t){return e.startLineNumber!==t.startLineNumber?e.startLineNumber-t.startLineNumber:t.endLineNumber-e.endLineNumber}_findSumOfRangesOfGroup(e){let t=0;for(let n of e.children.values())t+=this._findSumOfRangesOfGroup(n);return e instanceof Ih?t+e.symbol.range.endLineNumber-e.symbol.selectionRange.startLineNumber:t}};Yg=xp([Tu(1,Wt.ILanguageFeaturesService)],Yg);class jg extends Hg{constructor(e){super(e),this._foldingLimitReporter=new Of(e)}createStickyModel(e,t){const n=this._fromFoldingRegions(t),r=this._editor.getModel();return new Vg(r.uri,r.getVersionId(),n,void 0)}isModelValid(e){return e!==null}_fromFoldingRegions(e){const t=e.length,n=[],r=new Ju(void 0,[],void 0);for(let o=0;o<t;o++){const u=e.getParentIndex(o);let l;l=u!==-1?n[u]:r;const A=new Ju(new _d(e.getStartLineNumber(o),e.getEndLineNumber(o)+1),[],l);l.children.push(A),n.push(A)}return r}}let qg=class extends jg{constructor(e,t){super(e),this._languageConfigurationService=t,this.provider=this._register(new Sh(e.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}async createModelFromProvider(e){return this.provider.compute(e)}};qg=xp([Tu(1,eo.JZ)],qg);let Kg=class extends jg{constructor(e,t,n){super(e),this._languageFeaturesService=n;const r=Jl.getFoldingRangeProviders(this._languageFeaturesService,e.getModel());r.length>0&&(this.provider=this._register(new Eh(e.getModel(),r,t,this._foldingLimitReporter,void 0)))}isProviderValid(){return this.provider!==void 0}async createModelFromProvider(e){return this.provider?.compute(e)??null}};Kg=xp([Tu(2,Wt.ILanguageFeaturesService)],Kg);var sy=function(e,t){return function(n,r){t(n,r,e)}};class ay{constructor(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.nestingDepth=n}}let e0=class extends ft.jG{constructor(e,t,n){super(),this._languageFeaturesService=t,this._languageConfigurationService=n,this._onDidChangeStickyScroll=this._register(new Rt.vl),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=e,this._sessionStore=this._register(new ft.Cm),this._updateSoon=this._register(new un.uC(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration((r)=>{r.hasChanged(116)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(116).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add(ft.s(()=>{this._stickyModelProvider?.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){return this._model?.version}updateStickyModelProvider(){this._stickyModelProvider?.dispose(),this._stickyModelProvider=null;const e=this._editor;e.hasModel()&&(this._stickyModelProvider=new Xg(e,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}async update(){this._cts?.dispose(!0),this._cts=new wn.Qi,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(e){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization())return void(this._model=null);const t=await this._stickyModelProvider.update(e);e.isCancellationRequested||(this._model=t)}updateIndex(e){return e===-1?e=0:e<0&&(e=-e-2),e}getCandidateStickyLinesIntersectingFromStickyModel(e,t,n,r,o){if(t.children.length===0)return;let u=o;const l=[];for(let le=0;le<t.children.length;le++){const ue=t.children[le];ue.range&&l.push(ue.range.startLineNumber)}const A=this.updateIndex(mn.El(l,e.startLineNumber,(le,ue)=>le-ue)),K=this.updateIndex(mn.El(l,e.startLineNumber+r,(le,ue)=>le-ue));for(let le=A;le<=K;le++){const ue=t.children[le];if(!ue)return;if(ue.range){const we=ue.range.startLineNumber,Qe=ue.range.endLineNumber;e.startLineNumber<=Qe+1&&we-1<=e.endLineNumber&&we!==u&&(u=we,n.push(new ay(we,Qe-1,r+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(e,ue,n,r+1,we))}else this.getCandidateStickyLinesIntersectingFromStickyModel(e,ue,n,r,o)}}getCandidateStickyLinesIntersecting(e){if(!this._model?.element)return[];let t=[];this.getCandidateStickyLinesIntersectingFromStickyModel(e,this._model.element,t,0,-1);const n=this._editor._getViewModel()?.getHiddenAreas();if(n)for(let r of n)t=t.filter((o)=>!(o.startLineNumber>=r.startLineNumber&&o.endLineNumber<=r.endLineNumber+1));return t}};e0=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([sy(1,Wt.ILanguageFeaturesService),sy(2,eo.JZ)],e0);var t0,KS=ct(9715),vd=function(e,t){return function(n,r){t(n,r,e)}};let qa=class extends ft.jG{static{t0=this}static{this.ID="store.contrib.stickyScrollController"}constructor(e,t,n,r,o,u,l){super(),this._editor=e,this._contextMenuService=t,this._languageFeaturesService=n,this._instaService=r,this._contextKeyService=l,this._sessionStore=new ft.Cm,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._stickyScrollWidget=new iy(this._editor),this._stickyLineCandidateProvider=new e0(this._editor,n,o),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=Eu.Empty,this._onDidResize(),this._readConfiguration();const A=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration((le)=>{this._readConfigurationChange(le)})),this._register(ae.ko(A,ae.Bx.CONTEXT_MENU,async(le)=>{this._onContextMenu(ae.zk(A),le)})),this._stickyScrollFocusedContextKey=Fe.R.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=Fe.R.stickyScrollVisible.bindTo(this._contextKeyService);const K=this._register(ae.w5(A));this._register(K.onDidBlur((le)=>{this._positionRevealed===!1&&A.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(K.onDidFocus((le)=>{this.focus()})),this._registerMouseListeners(),this._register(ae.ko(A,ae.Bx.MOUSE_DOWN,(le)=>{this._onMouseDown=!0}))}static get(e){return e.getContribution(t0.ID)}_disposeFocusStickyScrollStore(){this._stickyScrollFocusedContextKey.set(!1),this._focusDisposableStore?.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown)return this._onMouseDown=!1,void this._editor.focus();this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new ft.Cm,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(e){this._focusedStickyElementIndex=e?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const e=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:e[this._focusedStickyElementIndex],column:1})}_revealPosition(e){this._reveaInEditor(e,()=>this._editor.revealPosition(e))}_revealLineInCenterIfOutsideViewport(e){this._reveaInEditor(e,()=>this._editor.revealLineInCenterIfOutsideViewport(e.lineNumber,0))}_reveaInEditor(e,t){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,t(),this._editor.setSelection(Nt.Q.fromPositions(e)),this._editor.focus()}_registerMouseListeners(){const e=this._register(new ft.Cm),t=this._register(new ec(this._editor,{extractLineNumberFromMouseEvent:(o)=>{const u=this._stickyScrollWidget.getEditorPositionFromNode(o.target.element);return u?u.lineNumber:0}})),n=(o)=>{if(!this._editor.hasModel())return null;if(o.target.type!==12||o.target.detail!==this._stickyScrollWidget.getId())return null;const u=o.target.element;if(!u||u.innerText!==u.innerHTML)return null;const l=this._stickyScrollWidget.getEditorPositionFromNode(u);return l?{range:new Nt.Q(l.lineNumber,l.column,l.lineNumber,l.column+u.innerText.length),textElement:u}:null},r=this._stickyScrollWidget.getDomNode();this._register(ae.b2(r,ae.Bx.CLICK,(o)=>{if(o.ctrlKey||o.altKey||o.metaKey)return;if(!o.leftButton)return;if(o.shiftKey){const l=this._stickyScrollWidget.getLineIndexFromChildDomNode(o.target);if(l===null)return;const A=new Yn.y(this._endLineNumbers[l],1);return void this._revealLineInCenterIfOutsideViewport(A)}if(this._stickyScrollWidget.isInFoldingIconDomNode(o.target)){const l=this._stickyScrollWidget.getLineNumberFromChildDomNode(o.target);return void this._toggleFoldingRegionForLine(l)}if(!this._stickyScrollWidget.isInStickyLine(o.target))return;let u=this._stickyScrollWidget.getEditorPositionFromNode(o.target);if(!u){const l=this._stickyScrollWidget.getLineNumberFromChildDomNode(o.target);if(l===null)return;u=new Yn.y(l,1)}this._revealPosition(u)})),this._register(ae.b2(r,ae.Bx.MOUSE_MOVE,(o)=>{if(o.shiftKey){const u=this._stickyScrollWidget.getLineIndexFromChildDomNode(o.target);if(u===null||this._showEndForLine!==null&&this._showEndForLine===u)return;return this._showEndForLine=u,void this._renderStickyScroll()}this._showEndForLine!==void 0&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(ae.ko(r,ae.Bx.MOUSE_LEAVE,(o)=>{this._showEndForLine!==void 0&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(t.onMouseMoveOrRelevantKeyDown(([o,u])=>{const l=n(o);if(!l||!o.hasTriggerModifier||!this._editor.hasModel())return void e.clear();const{range:A,textElement:K}=l;if(A.equalsRange(this._stickyRangeProjectedOnEditor)){if(K.style.textDecoration==="underline")return}else this._stickyRangeProjectedOnEditor=A,e.clear();const le=new wn.Qi;let ue;e.add(ft.s(()=>le.dispose(!0))),Wd(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new Yn.y(A.startLineNumber,A.startColumn+1),!1,le.token).then((we)=>{if(!le.token.isCancellationRequested)if(we.length!==0){this._candidateDefinitionsLength=we.length;const Qe=K;ue!==Qe?(e.clear(),ue=Qe,ue.style.textDecoration="underline",e.add(ft.s(()=>{ue.style.textDecoration="none"}))):ue||(ue=Qe,ue.style.textDecoration="underline",e.add(ft.s(()=>{ue.style.textDecoration="none"})))}else e.clear()})})),this._register(t.onCancel(()=>{e.clear()})),this._register(t.onExecute(async(o)=>{if(o.target.type!==12||o.target.detail!==this._stickyScrollWidget.getId())return;const u=this._stickyScrollWidget.getEditorPositionFromNode(o.target.element);u&&this._editor.hasModel()&&this._stickyRangeProjectedOnEditor&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:u.lineNumber,column:1})),this._instaService.invokeFunction(i1,o,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}))}))}_onContextMenu(e,t){const n=new KS.P(e,t);this._contextMenuService.showContextMenu({menuId:rt.D8.StickyScrollContext,getAnchor:()=>n})}_toggleFoldingRegionForLine(e){if(!this._foldingModel||e===null)return;const t=this._stickyScrollWidget.getRenderedStickyLine(e),n=t?.foldingIcon;if(!n)return;Df(this._foldingModel,Number.MAX_VALUE,[e]),n.isCollapsed=!n.isCollapsed;const r=(n.isCollapsed?this._editor.getTopForLineNumber(n.foldingEndLine):this._editor.getTopForLineNumber(n.foldingStartLine))-this._editor.getOption(67)*t.index+1;this._editor.setScrollTop(r),this._renderStickyScroll(e)}_readConfiguration(){const e=this._editor.getOption(116);if(e.enabled===!1)return this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),void(this._enabled=!1);e.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange((t)=>{t.scrollTopChanged&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens((t)=>this._onTokensChange(t))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=void 0,this._renderStickyScroll()})),this._enabled=!0),this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=void 0,this._renderStickyScroll(0)}))}_readConfigurationChange(e){(e.hasChanged(116)||e.hasChanged(73)||e.hasChanged(67)||e.hasChanged(111)||e.hasChanged(68))&&this._readConfiguration(),e.hasChanged(68)&&this._renderStickyScroll(0)}_needsUpdate(e){const t=this._stickyScrollWidget.getCurrentLines();for(let n of t)for(let r of e.ranges)if(n>=r.fromLineNumber&&n<=r.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._renderStickyScroll(0)}_onDidResize(){const e=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(0.25*e)}async _renderStickyScroll(e){const t=this._editor.getModel();if(!t||t.isTooLargeForTokenization())return void this._resetState();const n=this._updateAndGetMinRebuildFromLine(e),r=this._stickyLineCandidateProvider.getVersionId();if(r===void 0||r===t.getVersionId())if(this._focused)if(this._focusedStickyElementIndex===-1)await this._updateState(n),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const o=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];await this._updateState(n),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(o)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}else await this._updateState(n)}_updateAndGetMinRebuildFromLine(e){if(e!==void 0){const t=this._minRebuildFromLine!==void 0?this._minRebuildFromLine:1/0;this._minRebuildFromLine=Math.min(e,t)}return this._minRebuildFromLine}async _updateState(e){this._minRebuildFromLine=void 0,this._foldingModel=await Jl.get(this._editor)?.getFoldingModel()??void 0,this._widgetState=this.findScrollWidgetState();const t=this._widgetState.startLineNumbers.length>0;this._stickyScrollVisibleContextKey.set(t),this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e)}async _resetState(){this._minRebuildFromLine=void 0,this._foldingModel=void 0,this._widgetState=Eu.Empty,this._stickyScrollVisibleContextKey.set(!1),this._stickyScrollWidget.setState(void 0,void 0)}findScrollWidgetState(){const e=this._editor.getOption(67),t=Math.min(this._maxStickyLines,this._editor.getOption(116).maxLineCount),n=this._editor.getScrollTop();let r=0;const o=[],u=[],l=this._editor.getVisibleRanges();if(l.length!==0){const A=new _d(l[0].startLineNumber,l[l.length-1].endLineNumber),K=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(A);for(let le of K){const{startLineNumber:ue,endLineNumber:we,nestingDepth:Qe}=le;if(we-ue>0){const Me=(Qe-1)*e,nt=Qe*e,yt=this._editor.getBottomForLineNumber(ue)-n,It=this._editor.getTopForLineNumber(we)-n,Dt=this._editor.getBottomForLineNumber(we)-n;if(Me>It&&Me<=Dt){o.push(ue),u.push(we+1),r=Dt-nt;break}if(nt>yt&&nt<=Dt&&(o.push(ue),u.push(we+1)),o.length===t)break}}}return this._endLineNumbers=u,new Eu(o,u,r,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};qa=t0=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([vd(1,no.Z),vd(2,Wt.ILanguageFeaturesService),vd(3,Ke._Y),vd(4,eo.JZ),vd(5,Eo.ILanguageFeatureDebounceService),vd(6,ye.fN)],qa);class ly extends rt.L{constructor(){super({id:"editor.action.toggleStickyScroll",title:{...oe.aS("toggleEditorStickyScroll","Toggle Editor Sticky Scroll"),mnemonicTitle:oe.kg({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Editor Sticky Scroll")},metadata:{description:oe.aS("toggleEditorStickyScroll.description","Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport")},category:jS.View,toggled:{condition:ye.M$.equals("config.editor.stickyScroll.enabled",!0),title:oe.kg("stickyScroll","Sticky Scroll"),mnemonicTitle:oe.kg({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:rt.D8.CommandPalette},{id:rt.D8.MenubarAppearanceMenu,group:"4_editor",order:3},{id:rt.D8.StickyScrollContext}]})}async run(e){const t=e.get(lt.pG),n=!t.getValue("editor.stickyScroll.enabled");return t.updateValue("editor.stickyScroll.enabled",n)}}const Cp=100;class cy extends O.qO{constructor(){super({id:"editor.action.focusStickyScroll",title:{...oe.aS("focusStickyScroll","Focus on the editor sticky scroll"),mnemonicTitle:oe.kg({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll")},precondition:ye.M$.and(ye.M$.has("config.editor.stickyScroll.enabled"),Fe.R.stickyScrollVisible),menu:[{id:rt.D8.CommandPalette}]})}runEditorCommand(e,t){qa.get(t)?.focus()}}class dy extends O.qO{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:oe.aS("selectNextStickyScrollLine.title","Select the next editor sticky scroll line"),precondition:Fe.R.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Cp,primary:18}})}runEditorCommand(e,t){qa.get(t)?.focusNext()}}class uy extends O.qO{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:oe.aS("selectPreviousStickyScrollLine.title","Select the previous sticky scroll line"),precondition:Fe.R.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Cp,primary:16}})}runEditorCommand(e,t){qa.get(t)?.focusPrevious()}}class hy extends O.qO{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:oe.aS("goToFocusedStickyScrollLine.title","Go to the focused sticky scroll line"),precondition:Fe.R.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Cp,primary:3}})}runEditorCommand(e,t){qa.get(t)?.goToFocused()}}class py extends O.qO{constructor(){super({id:"editor.action.selectEditor",title:oe.aS("selectEditor.title","Select Editor"),precondition:Fe.R.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:Cp,primary:9}})}runEditorCommand(e,t){qa.get(t)?.selectEditor()}}O.HW(qa.ID,qa,1),rt.ug(ly),rt.ug(cy),rt.ug(uy),rt.ug(dy),rt.ug(hy),rt.ug(py);var fy=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},Au=function(e,t){return function(n,r){t(n,r,e)}};class my{constructor(e,t,n,r,o,u){this.range=e,this.insertText=t,this.filterText=n,this.additionalTextEdits=r,this.command=o,this.completion=u}}let n0=class extends ft.mp{constructor(e,t,n,r,o,u){super(o.disposable),this.model=e,this.line=t,this.word=n,this.completionModel=r,this._suggestMemoryService=u}canBeReused(e,t,n){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===n.startColumn&&this.word.endColumn<n.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){const e=[],{items:t}=this.completionModel,n=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},t),r=An.f.slice(t,n),o=An.f.slice(t,0,n);let u=5;for(let l of An.f.concat(r,o)){if(l.score===po.ne.Default)continue;const A=new Nt.Q(l.editStart.lineNumber,l.editStart.column,l.editInsertEnd.lineNumber,l.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),K=l.completion.insertTextRules&&4&l.completion.insertTextRules?{snippet:l.completion.insertText}:l.completion.insertText;e.push(new my(A,K,l.filterTextLow??l.labelLow,l.completion.additionalTextEdits,l.completion.command,l)),u-->=0&&l.resolve(wn.XO.None)}return e}};n0=fy([Au(5,Zh)],n0);let i0=class extends ft.jG{constructor(e,t,n,r){super(),this._languageFeatureService=e,this._clipboardService=t,this._suggestMemoryService=n,this._editorService=r,this._store.add(e.inlineCompletionsProvider.register("*",this))}async provideInlineCompletions(e,t,n,r){if(n.selectedSuggestionInfo)return;let o;for(let Qe of this._editorService.listCodeEditors())if(Qe.getModel()===e){o=Qe;break}if(!o)return;const u=o.getOption(90);if(pc.isAllOff(u))return;e.tokenization.tokenizeIfCheap(t.lineNumber);const l=e.tokenization.getLineTokens(t.lineNumber),A=l.getStandardTokenType(l.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(pc.valueFor(u,A)!=="inline")return;let K,le,ue=e.getWordAtPosition(t);if(ue?.word||(K=this._getTriggerCharacterInfo(e,t)),!ue?.word&&!K)return;if(ue||(ue=e.getWordUntilPosition(t)),ue.endColumn!==t.column)return;const we=e.getValueInRange(new Nt.Q(t.lineNumber,1,t.lineNumber,t.column));if(!K&&this._lastResult?.canBeReused(e,t.lineNumber,ue)){const Qe=new am(we,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=Qe,this._lastResult.acquire(),le=this._lastResult}else{const Qe=await Gf(this._languageFeatureService.completionProvider,e,t,new nu(void 0,Bh.createSuggestFilter(o).itemKind,K?.providers),K&&{triggerKind:1,triggerCharacter:K.ch},r);let Me;Qe.needsClipboard&&(Me=await this._clipboardService.readText());const nt=new Nl(Qe.items,t.column,new am(we,0),_a.None,o.getOption(119),o.getOption(113),{boostFullMatch:!1,firstMatchCanBeWeak:!1},Me);le=new n0(e,t.lineNumber,ue,nt,Qe,this._suggestMemoryService)}return this._lastResult=le,le}handleItemDidShow(e,t){t.completion.resolve(wn.XO.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){const n=e.getValueInRange(Nt.Q.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),r=new Set;for(let o of this._languageFeatureService.completionProvider.all(e))o.triggerCharacters?.includes(n)&&r.add(o);if(r.size!==0)return{providers:r,ch:n}}};i0=fy([Au(0,Wt.ILanguageFeaturesService),Au(1,ut.h),Au(2,Zh),Au(3,Ue.T)],i0),ys.x(i0);class gy extends O.ks{constructor(){super({id:"editor.action.forceRetokenize",label:oe.kg("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getModel();n.tokenization.resetTokenization();const r=new Kr.W;n.tokenization.forceTokenization(n.getLineCount()),r.stop(),console.log(`tokenization took ${r.elapsed()}`)}}O.Fl(gy);var _y=ct(5155);class r0 extends rt.L{static{this.ID="editor.action.toggleTabFocusMode"}constructor(){super({id:r0.ID,title:oe.aS({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},metadata:{description:oe.aS("tabMovesFocusDescriptions","Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.")},f1:!0})}run(){const e=!_y.M.getTabFocusMode();_y.M.setTabFocusMode(e),e?si.xE(oe.kg("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):si.xE(oe.kg("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}rt.ug(r0);var by=ct(9887),yd=ct(1430),o0=ct(4061),vy=function(e,t){return function(n,r){t(n,r,e)}};let s0=class extends ft.jG{get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}constructor(e,t,n={},r,o){super(),this._link=t,this._hoverService=r,this._enabled=!0,this.el=ae.BC(e,ae.$("a.monaco-link",{tabIndex:t.tabIndex??0,href:t.href},t.label)),this.hoverDelegate=n.hoverDelegate??lc.nZ("mouse"),this.setTooltip(t.title),this.el.setAttribute("role","button");const u=this._register(new o0.f(this.el,"click")),l=this._register(new o0.f(this.el,"keypress")),A=Rt.Jh.chain(l.event,(ue)=>ue.map((we)=>new Rg.Z(we)).filter((we)=>we.keyCode===3)),K=this._register(new o0.f(this.el,Wr.B.Tap)).event;this._register(Wr.q.addTarget(this.el));const le=Rt.Jh.any(u.event,A,K);this._register(le((ue)=>{this.enabled&&(ae.fs.stop(ue,!0),n?.opener?n.opener(this._link.href):o.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(e){this.hoverDelegate.showNativeHover?this.el.title=e??"":!this.hover&&e?this.hover=this._register(this._hoverService.setupManagedHover(this.hoverDelegate,this.el,e)):this.hover&&this.hover.update(e)}};s0=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([vy(3,Ys.TN),vy(4,hn.C)],s0);var yy=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},Sy=function(e,t){return function(n,r){t(n,r,e)}};let a0=class extends ft.jG{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(l0))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show({...e,onClose:()=>{this.hide(),e.onClose?.()}}),this._editor.setBanner(this.banner.element,26)}};a0=yy([Sy(1,Ke._Y)],a0);let l0=class extends ft.jG{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(en.T,{}),this.element=ae.$("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){return e.ariaLabel?e.ariaLabel:typeof e.message=="string"?e.message:void 0}getBannerMessage(e){if(typeof e=="string"){const t=ae.$("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){ae.w_(this.element)}show(e){ae.w_(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const n=ae.BC(this.element,ae.$("div.icon-container"));n.setAttribute("aria-hidden","true"),e.icon&&n.appendChild(ae.$(`div${Oe.L.asCSSSelector(e.icon)}`));const r=ae.BC(this.element,ae.$("div.message-container"));if(r.setAttribute("aria-hidden","true"),r.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=ae.BC(this.element,ae.$("div.message-actions-container")),e.actions)for(let u of e.actions)this._register(this.instantiationService.createInstance(s0,this.messageActionsContainer,{...u,tabIndex:-1},{}));const o=ae.BC(this.element,ae.$("div.action-container"));this.actionBar=this._register(new Ns.E(o)),this.actionBar.push(this._register(new Vn.rc("banner.close","Close Banner",Oe.L.asClassName(_r.$_),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};l0=yy([Sy(0,Ke._Y)],l0);var ew=ct(4657),c0=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},Sd=function(e,t){return function(n,r){t(n,r,e)}};const tw=_r.pU("extensions-warning-message",be.W.warning,oe.kg("warningIcon","Icon shown with a warning message in the extensions editor."));let Nu=class extends ft.jG{static{this.ID="editor.contrib.unicodeHighlighter"}constructor(e,t,n,r){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=n,this._highlighter=null,this._bannerClosed=!1,this._updateState=(o)=>{if(o&&o.hasMore){if(this._bannerClosed)return;const u=Math.max(o.ambiguousCharacterCount,o.nonBasicAsciiCharacterCount,o.invisibleCharacterCount);let l;if(o.nonBasicAsciiCharacterCount>=u)l={message:oe.kg("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new Ru};else if(o.ambiguousCharacterCount>=u)l={message:oe.kg("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new wc};else{if(!(o.invisibleCharacterCount>=u))throw new Error("Unreachable");l={message:oe.kg("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new Iu}}this._bannerController.show({id:"unicodeHighlightBanner",message:l.message,icon:tw,actions:[{label:l.command.shortLabel,href:`command:${l.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(r.createInstance(a0,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(126),this._register(n.onDidChangeTrust((o)=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration((o)=>{o.hasChanged(126)&&(this._options=e.getOption(126),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=function(n,r){return{nonBasicASCII:r.nonBasicASCII===Qr.XR?!n:r.nonBasicASCII,ambiguousCharacters:r.ambiguousCharacters,invisibleCharacters:r.invisibleCharacters,includeComments:r.includeComments===Qr.XR?!n:r.includeComments,includeStrings:r.includeStrings===Qr.XR?!n:r.includeStrings,allowedCharacters:r.allowedCharacters,allowedLocales:r.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every((n)=>n===!1))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map((n)=>n.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map((n)=>n==="_os"?new Intl.NumberFormat().resolvedOptions().locale:n==="_vscode"?tn.BH:n)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new d0(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new wy(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};Nu=c0([Sd(1,Zo.IEditorWorkerService),Sd(2,ew.L),Sd(3,Ke._Y)],Nu);let d0=class extends ft.jG{constructor(e,t,n,r){super(),this._editor=e,this._options=t,this._updateState=n,this._editorWorkerService=r,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new un.uC(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then((t)=>{if(this._model.isDisposed())return;if(this._model.getVersionId()!==e)return;this._updateState(t);const n=[];if(!t.hasMore)for(let r of t.ranges)n.push({range:r,options:Ep.instance.getDecorationFromOptions(this._options)});this._decorations.set(n)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel();return yd.GN(t,e)?{reason:Cy(t.getValueInRange(e.range),this._options),inComment:yd.a6(t,e),inString:yd.wc(t,e)}:null}};d0=c0([Sd(3,Zo.IEditorWorkerService)],d0);class wy extends ft.jG{constructor(e,t,n){super(),this._editor=e,this._options=t,this._updateState=n,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new un.uC(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const e=this._editor.getVisibleRanges(),t=[],n={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(let r of e){const o=by.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,r);for(let u of o.ranges)n.ranges.push(u);n.ambiguousCharacterCount+=n.ambiguousCharacterCount,n.invisibleCharacterCount+=n.invisibleCharacterCount,n.nonBasicAsciiCharacterCount+=n.nonBasicAsciiCharacterCount,n.hasMore=n.hasMore||o.hasMore}if(!n.hasMore)for(let r of n.ranges)t.push({range:r,options:Ep.instance.getDecorationFromOptions(this._options)});this._updateState(n),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel(),n=t.getValueInRange(e.range);return yd.GN(t,e)?{reason:Cy(n,this._options),inComment:yd.a6(t,e),inString:yd.wc(t,e)}:null}}const xy=oe.kg("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options");let u0=class{constructor(e,t,n){this._editor=e,this._languageService=t,this._openerService=n,this.hoverOrdinal=5}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const n=this._editor.getModel(),r=this._editor.getContribution(Nu.ID);if(!r)return[];const o=[],u=new Set;let l=300;for(let A of t){const K=r.getDecorationInfo(A);if(!K)continue;const le=n.getValueInRange(A.range).codePointAt(0),ue=p0(le);let we;switch(K.reason.kind){case 0:we=Ne.aC(K.reason.confusableWith)?oe.kg("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",ue,p0(K.reason.confusableWith.codePointAt(0))):oe.kg("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",ue,p0(K.reason.confusableWith.codePointAt(0)));break;case 1:we=oe.kg("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",ue);break;case 2:we=oe.kg("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",ue)}if(u.has(we))continue;u.add(we);const Qe={codePoint:le,reason:K.reason,inComment:K.inComment,inString:K.inString},Me=oe.kg("unicodeHighlight.adjustSettings","Adjust settings"),nt=`command:${Jp.ID}?${encodeURIComponent(JSON.stringify(Qe))}`,yt=new ti.Bc("",!0).appendMarkdown(we).appendText(" ").appendLink(nt,Me,xy);o.push(new Vo(this,A.range,[yt],!1,l++))}return o}renderHoverParts(e,t){return function(n,r,o,u,l){r.sort(mn.VE((K)=>K.ordinal,mn.U9));const A=[];for(let K of r)A.push(Yu(o,K,u,l,n.onContentsChanged));return new Si(A)}(e,t,this._editor,this._languageService,this._openerService)}};function h0(e){return`U+${e.toString(16).padStart(4,"0")}`}function p0(e){let t=`\`${h0(e)}\``;return Ne.y_.isInvisibleCharacter(e)||(t+=` "${function(n){return n===96?"`` ` ``":"`"+String.fromCodePoint(n)+"`"}(e)}"`),t}function Cy(e,t){return by.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(e,t)}u0=c0([Sd(1,Ss.L),Sd(2,hn.C)],u0);class Ep{constructor(){this.map=new Map}static{this.instance=new Ep}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const n=`${e}${t}`;let r=this.map.get(n);return r||(r=Hn.kI.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(n,r)),r}}class Ey extends O.ks{constructor(){super({id:wc.ID,label:oe.kg("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=oe.kg("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}async run(e,t,n){const r=e?.get(lt.pG);r&&this.runAction(r)}async runAction(e){await e.updateValue(Qr.Of.includeComments,!1,2)}}class Jy extends O.ks{constructor(){super({id:wc.ID,label:oe.kg("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=oe.kg("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}async run(e,t,n){const r=e?.get(lt.pG);r&&this.runAction(r)}async runAction(e){await e.updateValue(Qr.Of.includeStrings,!1,2)}}class wc extends O.ks{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters"}constructor(){super({id:wc.ID,label:oe.kg("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=oe.kg("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}async run(e,t,n){const r=e?.get(lt.pG);r&&this.runAction(r)}async runAction(e){await e.updateValue(Qr.Of.ambiguousCharacters,!1,2)}}class Iu extends O.ks{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters"}constructor(){super({id:Iu.ID,label:oe.kg("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=oe.kg("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}async run(e,t,n){const r=e?.get(lt.pG);r&&this.runAction(r)}async runAction(e){await e.updateValue(Qr.Of.invisibleCharacters,!1,2)}}class Ru extends O.ks{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters"}constructor(){super({id:Ru.ID,label:oe.kg("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=oe.kg("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}async run(e,t,n){const r=e?.get(lt.pG);r&&this.runAction(r)}async runAction(e){await e.updateValue(Qr.Of.nonBasicASCII,!1,2)}}class Jp extends O.ks{static{this.ID="editor.action.unicodeHighlight.showExcludeOptions"}constructor(){super({id:Jp.ID,label:oe.kg("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}async run(e,t,n){const{codePoint:r,reason:o,inString:u,inComment:l}=n,A=String.fromCodePoint(r),K=e.get(Ht.GK),le=e.get(lt.pG),ue=[];if(o.kind===0)for(let Qe of o.notAmbiguousInLocales)ue.push({label:oe.kg("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',Qe),run:async()=>{nw(le,[Qe])}});if(ue.push({label:function(Qe){return Ne.y_.isInvisibleCharacter(Qe)?oe.kg("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",h0(Qe)):oe.kg("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${h0(Qe)} "${A}"`)}(r),run:()=>async function(Qe,Me){const nt=Qe.getValue(Qr.Of.allowedCharacters);let yt;yt=typeof nt=="object"&&nt?nt:{};for(let It of Me)yt[String.fromCodePoint(It)]=!0;await Qe.updateValue(Qr.Of.allowedCharacters,yt,2)}(le,[r])}),l){const Qe=new Ey;ue.push({label:Qe.label,run:async()=>Qe.runAction(le)})}else if(u){const Qe=new Jy;ue.push({label:Qe.label,run:async()=>Qe.runAction(le)})}if(o.kind===0){const Qe=new wc;ue.push({label:Qe.label,run:async()=>Qe.runAction(le)})}else if(o.kind===1){const Qe=new Iu;ue.push({label:Qe.label,run:async()=>Qe.runAction(le)})}else if(o.kind===2){const Qe=new Ru;ue.push({label:Qe.label,run:async()=>Qe.runAction(le)})}else(function(Qe){throw new Error(`Unexpected value: ${Qe}`)})(o);const we=await K.pick(ue,{title:xy});we&&await we.run()}}async function nw(e,t){const n=e.inspect(Qr.Of.allowedLocales).user?.value;let r;r=typeof n=="object"&&n?Object.assign({},n):{};for(let o of t)r[o]=!0;await e.updateValue(Qr.Of.allowedLocales,r,2)}O.Fl(wc),O.Fl(Iu),O.Fl(Ru),O.Fl(Jp),O.HW(Nu.ID,Nu,1),cr.register(u0);var f0=ct(4535),ky=function(e,t){return function(n,r){t(n,r,e)}};const Ty="ignoreUnusualLineTerminators";let kp=class extends ft.jG{static{this.ID="editor.contrib.unusualLineTerminatorsDetector"}constructor(e,t,n){super(),this._editor=e,this._dialogService=t,this._codeEditorService=n,this._isPresentingDialog=!1,this._config=this._editor.getOption(127),this._register(this._editor.onDidChangeConfiguration((r)=>{r.hasChanged(127)&&(this._config=this._editor.getOption(127),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent((r)=>{r.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}async _checkForUnusualLineTerminators(){if(this._config==="off")return;if(!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators())return;if(function(r,o){return r.getModelProperty(o.uri,Ty)}(this._codeEditorService,e)===!0)return;if(this._editor.getOption(92))return;if(this._config==="auto")return void e.removeUnusualLineTerminators(this._editor.getSelections());if(this._isPresentingDialog)return;let n;try{this._isPresentingDialog=!0,n=await this._dialogService.confirm({title:oe.kg("unusualLineTerminators.title","Unusual Line Terminators"),message:oe.kg("unusualLineTerminators.message","Detected unusual line terminators"),detail:oe.kg("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",bn.P8(e.uri)),primaryButton:oe.kg({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:oe.kg("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}n.confirmed?e.removeUnusualLineTerminators(this._editor.getSelections()):function(r,o){r.setModelProperty(o.uri,Ty,!0)}(this._codeEditorService,e)}};kp=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([ky(1,f0.X),ky(2,Ue.T)],kp),O.HW(kp.ID,kp,1);var iw=ct(4403),Ay=ct(8782);class m0{constructor(){this.selector={language:"*"}}provideDocumentHighlights(e,t,n){const r=e.getWordAtPosition({lineNumber:t.lineNumber,column:t.column});return r?e.isDisposed()?void 0:e.findMatches(r.word,!0,!1,!0,Ay.J3,!1).map((o)=>({range:o.range,kind:Pt.Kb.Text})):Promise.resolve([])}provideMultiDocumentHighlights(e,t,n,r){const o=new ro.fT,u=e.getWordAtPosition({lineNumber:t.lineNumber,column:t.column});if(!u)return Promise.resolve(o);for(let l of[e,...n]){if(l.isDisposed())continue;const A=l.findMatches(u.word,!0,!1,!0,Ay.J3,!1).map((K)=>({range:K.range,kind:Pt.Kb.Text}));A&&o.set(l.uri,A)}return o}}let g0=class extends ft.jG{constructor(e){super(),this._register(e.documentHighlightProvider.register("*",new m0)),this._register(e.multiDocumentHighlightProvider.register("*",new m0))}};g0=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(0,Wt.ILanguageFeaturesService)],g0);var Br,_0,Ny=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},Tp=function(e,t){return function(n,r){t(n,r,e)}};const b0=new ye.N1("hasWordHighlights",!1);function Iy(e,t,n,r){const o=e.ordered(t);return un.$1(o.map((u)=>()=>Promise.resolve(u.provideDocumentHighlights(t,n,r)).then(void 0,ii.M_)),(u)=>u!=null).then((u)=>{if(u){const l=new ro.fT;return l.set(t.uri,u),l}return new ro.fT})}class v0{constructor(e,t,n){this._model=e,this._selection=t,this._wordSeparators=n,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=un.SS((e)=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){const n=e.getWordAtPosition(t.getPosition());return n?new Nt.Q(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):null}isValid(e,t,n){const{startLineNumber:r,startColumn:o,endColumn:u}=t,l=this._getCurrentWordRange(e,t);let A=Boolean(this._wordRange&&this._wordRange.equalsRange(l));for(let K=0,le=n.length;!A&&K<le;K++){const ue=n.getRange(K);ue&&ue.startLineNumber===r&&ue.startColumn<=o&&ue.endColumn>=u&&(A=!0)}return A}cancel(){this.result.cancel()}}class Ry extends v0{constructor(e,t,n,r){super(e,t,n),this._providers=r}_compute(e,t,n,r){return Iy(this._providers,e,t.getPosition(),r).then((o)=>o||new ro.fT)}}class Ly extends v0{constructor(e,t,n,r,o){super(e,t,n),this._providers=r,this._otherModels=o}_compute(e,t,n,r){return function(o,u,l,A,K,le){const ue=o.ordered(u);return un.$1(ue.map((we)=>()=>{const Qe=le.filter((Me)=>Ci.vd(Me)).filter((Me)=>iw.f(we.selector,Me.uri,Me.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(we.provideMultiDocumentHighlights(u,l,Qe,K)).then(void 0,ii.M_)}),(we)=>we!=null)}(this._providers,e,t.getPosition(),0,r,this._otherModels).then((o)=>o||new ro.fT)}}O.ke("_executeDocumentHighlights",async(e,t,n)=>{const r=e.get(Wt.ILanguageFeaturesService);return(await Iy(r.documentHighlightProvider,t,n,wn.XO.None))?.get(t.uri)});let y0=class{static{Br=this}static{this.storedDecorationIDs=new ro.fT}static{this.query=null}constructor(e,t,n,r,o){this.toUnhook=new ft.Cm,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new ro.fT,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.runDelayer=this.toUnhook.add(new un.ve(50)),this.editor=e,this.providers=t,this.multiDocumentProviders=n,this.codeEditorService=o,this._hasWordHighlights=b0.bindTo(r),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition((u)=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this.runDelayer.trigger(()=>{this._onPositionChanged(u)})})),this.toUnhook.add(e.onDidFocusEditorText((u)=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this.runDelayer.trigger(()=>{this._run()}))})),this.toUnhook.add(e.onDidChangeModelContent((u)=>{Nn.v$(this.model.uri,"output")||this._stopAll()})),this.toUnhook.add(e.onDidChangeModel((u)=>{!u.newModelUrl&&u.oldModelUrl?this._stopSingular():Br.query&&this._run()})),this.toUnhook.add(e.onDidChangeConfiguration((u)=>{const l=this.editor.getOption(81);if(this.occurrencesHighlight!==l)switch(this.occurrencesHighlight=l,l){case"off":this._stopAll();break;case"singleFile":this._stopAll(Br.query?.modelInfo?.model);break;case"multiFile":Br.query&&this._run(!0);break;default:console.warn("Unknown occurrencesHighlight setting value:",l)}})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,Br.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&(this.runDelayer.cancel(),this._run())}_getSortedHighlights(){return this.decorations.getRanges().sort(Nt.Q.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),t=(e.findIndex((r)=>r.containsPosition(this.editor.getPosition()))+1)%e.length,n=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);const r=this._getWord();if(r){const o=this.editor.getModel().getLineContent(n.startLineNumber);si.xE(`${o}, ${t+1} of ${e.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),t=(e.findIndex((r)=>r.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,n=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);const r=this._getWord();if(r){const o=this.editor.getModel().getLineContent(n.startLineNumber);si.xE(`${o}, ${t+1} of ${e.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const e=Br.storedDecorationIDs.get(this.editor.getModel().uri);e&&(this.editor.removeDecorations(e),Br.storedDecorationIDs.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(e){const t=this.codeEditorService.listCodeEditors(),n=[];for(let r of t){if(!r.hasModel()||bn.n4(r.getModel().uri,e?.uri))continue;const o=Br.storedDecorationIDs.get(r.getModel().uri);if(!o)continue;r.removeDecorations(o),n.push(r.getModel().uri);const u=zl.get(r);u?.wordHighlighter&&u.wordHighlighter.decorations.length>0&&(u.wordHighlighter.decorations.clear(),u.wordHighlighter.workerRequest=null,u.wordHighlighter._hasWordHighlights.set(!1))}for(let r of n)Br.storedDecorationIDs.delete(r)}_stopSingular(){this._removeSingleDecorations(),this.editor.hasTextFocus()&&(this.editor.getModel()?.uri.scheme!==Nn.ny.vscodeNotebookCell&&Br.query?.modelInfo?.model.uri.scheme!==Nn.ny.vscodeNotebookCell?(Br.query=null,this._run()):Br.query?.modelInfo&&(Br.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(e){this._removeAllDecorations(e),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight==="off"||e.reason!==3&&this.editor.getModel()?.uri.scheme!==Nn.ny.vscodeNotebookCell?this._stopAll():this._run()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,n=e.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:t,column:n})}getOtherModelsToHighlight(e){if(!e)return[];if(e.uri.scheme===Nn.ny.vscodeNotebookCell){const r=[],o=this.codeEditorService.listCodeEditors();for(let u of o){const l=u.getModel();l&&l!==e&&l.uri.scheme===Nn.ny.vscodeNotebookCell&&r.push(l)}return r}const t=[],n=this.codeEditorService.listCodeEditors();for(let r of n){if(!wl.Np(r))continue;const o=r.getModel();o&&e===o.modified&&t.push(o.modified)}if(t.length)return t;if(this.occurrencesHighlight==="singleFile")return[];for(let r of n){const o=r.getModel();o&&o!==e&&t.push(o)}return t}_run(e){let t;if(this.editor.hasTextFocus()){const n=this.editor.getSelection();if(!n||n.startLineNumber!==n.endLineNumber)return Br.query=null,void this._stopAll();const{startColumn:r,endColumn:o}=n,u=this._getWord();if(!u||u.startColumn>r||u.endColumn<o)return Br.query=null,void this._stopAll();t=this.workerRequest&&this.workerRequest.isValid(this.model,n,this.decorations),Br.query={modelInfo:{model:this.model,selection:n},word:u}}else if(!Br.query)return void this._stopAll();if(this.lastCursorPositionChangeTime=new Date().getTime(),t)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else if(bn.n4(this.editor.getModel().uri,Br.query.modelInfo?.model.uri)){if(!e){const o=this.decorations.getRanges();for(let u of o)if(u.containsPosition(this.editor.getPosition()))return}this._stopAll(e?this.model:void 0);const n=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const r=this.getOtherModelsToHighlight(this.editor.getModel());if(!Br.query||!Br.query.modelInfo||Br.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(Br.query.modelInfo.model,Br.query.modelInfo.selection,Br.query.word,r),this.workerRequest?.result.then((o)=>{n===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=o||[],this._beginRenderDecorations())},ii.dz)}}computeWithModel(e,t,n,r){return r.length?function(o,u,l,A,K,le){return new Ly(u,l,K,o,le)}(this.multiDocumentProviders,e,t,0,this.editor.getOption(132),r):function(o,u,l,A,K){return new Ry(u,l,K,o)}(this.providers,e,t,0,this.editor.getOption(132))}_beginRenderDecorations(){const e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;const e=this.codeEditorService.listCodeEditors();for(let n of e){const r=zl.get(n);if(!r)continue;const o=[],u=n.getModel()?.uri;if(u&&this.workerRequestValue.has(u)){const l=Br.storedDecorationIDs.get(u),A=this.workerRequestValue.get(u);if(A)for(let le of A)le.range&&o.push({range:le.range,options:(t=le.kind,t===Pt.Kb.Write?MS:t===Pt.Kb.Text?PS:QS)});let K=[];n.changeDecorations((le)=>{K=le.deltaDecorations(l??[],o)}),Br.storedDecorationIDs=Br.storedDecorationIDs.set(u,K),o.length>0&&(r.wordHighlighter?.decorations.set(o),r.wordHighlighter?._hasWordHighlights.set(!0))}}var t}dispose(){this._stopSingular(),this.toUnhook.dispose()}};y0=Br=Ny([Tp(4,Ue.T)],y0);let zl=class extends ft.jG{static{_0=this}static{this.ID="editor.contrib.wordHighlighter"}static get(e){return e.getContribution(_0.ID)}constructor(e,t,n,r){super(),this._wordHighlighter=null;const o=()=>{e.hasModel()&&!e.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new y0(e,n.documentHighlightProvider,n.multiDocumentHighlightProvider,t,r))};this._register(e.onDidChangeModel((u)=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),o()})),o()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!(!this._wordHighlighter||!this._wordHighlighter.hasDecorations())}moveNext(){this._wordHighlighter?.moveNext()}moveBack(){this._wordHighlighter?.moveBack()}restoreViewState(e){this._wordHighlighter&&e&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};zl=_0=Ny([Tp(1,ye.fN),Tp(2,Wt.ILanguageFeaturesService),Tp(3,Ue.T)],zl);class S0 extends O.ks{constructor(e,t){super(t),this._isNext=e}run(e,t){const n=zl.get(t);n&&(this._isNext?n.moveNext():n.moveBack())}}class Dy extends O.ks{constructor(){super({id:"editor.action.wordHighlight.trigger",label:oe.kg("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:void 0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:0,weight:100}})}run(e,t,n){const r=zl.get(t);r&&r.restoreViewState(!0)}}O.HW(zl.ID,zl,0),O.Fl(class extends S0{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:oe.kg("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:b0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:65,weight:100}})}}),O.Fl(class extends S0{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:oe.kg("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:b0,kbOpts:{kbExpr:Fe.R.editorTextFocus,primary:1089,weight:100}})}}),O.Fl(Dy),ys.x(g0);var rw=ct(9895),Ka=ct(9673),xc=ct(2862);class Lu extends O.DX{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){if(!t.hasModel())return;const r=xc.i(t.getOption(132),t.getOption(131)),o=t.getModel(),u=t.getSelections(),l=u.length>1,A=u.map((K)=>{const le=new Yn.y(K.positionLineNumber,K.positionColumn),ue=this._move(r,o,le,this._wordNavigationType,l);return this._moveTo(K,ue,this._inSelectionMode)});if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,A.map((K)=>rw.MF.fromModelSelection(K))),A.length===1){const K=new Yn.y(A[0].positionLineNumber,A[0].positionColumn);t.revealPosition(K,0)}}_moveTo(e,t,n){return n?new Xn.L(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new Xn.L(t.lineNumber,t.column,t.lineNumber,t.column)}}class el extends Lu{_move(e,t,n,r,o){return Ka.z.moveWordLeft(e,t,n,r,o)}}class tl extends Lu{_move(e,t,n,r,o){return Ka.z.moveWordRight(e,t,n,r)}}class Du extends O.DX{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){const r=e.get(eo.JZ);if(!t.hasModel())return;const o=xc.i(t.getOption(132),t.getOption(131)),u=t.getModel(),l=t.getSelections(),A=t.getOption(6),K=t.getOption(11),le=r.getLanguageConfiguration(u.getLanguageId()).getAutoClosingPairs(),ue=t._getViewModel(),we=l.map((Qe)=>{const Me=this._delete({wordSeparators:o,model:u,selection:Qe,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(9),autoClosingBrackets:A,autoClosingQuotes:K,autoClosingPairs:le,autoClosedCharacters:ue.getCursorAutoClosedCharacters()},this._wordNavigationType);return new or.iu(Me,"")});t.pushUndoStop(),t.executeCommands(this.id,we),t.pushUndoStop()}}class Ap extends Du{_delete(e,t){return Ka.z.deleteWordLeft(e,t)||new Nt.Q(1,1,1,1)}}class Np extends Du{_delete(e,t){const n=Ka.z.deleteWordRight(e,t);if(n)return n;const r=e.model.getLineCount(),o=e.model.getLineMaxColumn(r);return new Nt.Q(r,o,r,o)}}class My extends O.ks{constructor(){super({id:"deleteInsideWord",precondition:Fe.R.writable,label:oe.kg("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,n){if(!t.hasModel())return;const r=xc.i(t.getOption(132),t.getOption(131)),o=t.getModel(),u=t.getSelections().map((l)=>{const A=Ka.z.deleteInsideWord(r,o,l);return new or.iu(A,"")});t.pushUndoStop(),t.executeCommands(this.id,u),t.pushUndoStop()}}O.E_(new class extends el{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),O.E_(new class extends el{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),O.E_(new class extends el{constructor(){super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:ye.M$.and(Fe.R.textInputFocus,ye.M$.and(fa.f,tc.nd)?.negate()),primary:2063,mac:{primary:527},weight:100}})}}),O.E_(new class extends el{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),O.E_(new class extends el{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),O.E_(new class extends el{constructor(){super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:ye.M$.and(Fe.R.textInputFocus,ye.M$.and(fa.f,tc.nd)?.negate()),primary:3087,mac:{primary:1551},weight:100}})}}),O.E_(new class extends tl{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),O.E_(new class extends tl{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:ye.M$.and(Fe.R.textInputFocus,ye.M$.and(fa.f,tc.nd)?.negate()),primary:2065,mac:{primary:529},weight:100}})}}),O.E_(new class extends tl{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),O.E_(new class extends tl{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),O.E_(new class extends tl{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:ye.M$.and(Fe.R.textInputFocus,ye.M$.and(fa.f,tc.nd)?.negate()),primary:3089,mac:{primary:1553},weight:100}})}}),O.E_(new class extends tl{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),O.E_(new class extends el{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,n,r,o){return super._move(xc.i(Qr.qB.wordSeparators.defaultValue,e.intlSegmenterLocales),t,n,r,o)}}),O.E_(new class extends el{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,n,r,o){return super._move(xc.i(Qr.qB.wordSeparators.defaultValue,e.intlSegmenterLocales),t,n,r,o)}}),O.E_(new class extends tl{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,n,r,o){return super._move(xc.i(Qr.qB.wordSeparators.defaultValue,e.intlSegmenterLocales),t,n,r,o)}}),O.E_(new class extends tl{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,n,r,o){return super._move(xc.i(Qr.qB.wordSeparators.defaultValue,e.intlSegmenterLocales),t,n,r,o)}}),O.E_(new class extends Ap{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:Fe.R.writable})}}),O.E_(new class extends Ap{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:Fe.R.writable})}}),O.E_(new class extends Ap{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),O.E_(new class extends Np{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:Fe.R.writable})}}),O.E_(new class extends Np{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:Fe.R.writable})}}),O.E_(new class extends Np{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}),O.Fl(My);class w0 extends Lu{_move(e,t,n,r,o){return Ka.c.moveWordPartLeft(e,t,n,o)}}En.w.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft"),En.w.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class x0 extends Lu{_move(e,t,n,r,o){return Ka.c.moveWordPartRight(e,t,n)}}O.E_(new class extends Du{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){return Ka.c.deleteWordPartLeft(e)||new Nt.Q(1,1,1,1)}}),O.E_(new class extends Du{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:Fe.R.writable,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){const n=Ka.c.deleteWordPartRight(e);if(n)return n;const r=e.model.getLineCount(),o=e.model.getLineMaxColumn(r);return new Nt.Q(r,o,r,o)}}),O.E_(new class extends w0{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),O.E_(new class extends w0{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),O.E_(new class extends x0{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),O.E_(new class extends x0{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:Fe.R.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}});class C0 extends ft.jG{static{this.ID="editor.contrib.readOnlyMessageController"}constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const e=ze.get(this.editor);if(e&&this.editor.hasModel()){let t=this.editor.getOptions().get(93);t||(t=this.editor.isSimpleWidget?new ti.Bc(oe.kg("editor.simple.readonly","Cannot edit in read-only input")):new ti.Bc(oe.kg("editor.readonly","Cannot edit in read-only editor"))),e.showMessage(t,this.editor.getPosition())}}}O.HW(C0.ID,C0,2);var ow=ct(7965),Py=function(e,t){return function(n,r){t(n,r,e)}};let E0=class extends ft.jG{constructor(e,t,n){super(),this._textModel=e,this._languageFeaturesService=t,this._outlineModelService=n,this._currentModel=Rn.FY(this,void 0);const r=Rn.yQ("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),o=Rn.yQ("_textModel.onDidChangeContent",Rt.Jh.debounce((u)=>this._textModel.onDidChangeContent(u),()=>{},100));this._register(Rn.yC(async(u,l)=>{r.read(u),o.read(u);const A=l.add(new mg.MZ),K=await this._outlineModelService.getOrCreate(this._textModel,A.token);l.isDisposed||this._currentModel.set(K,void 0)}))}getBreadcrumbItems(e,t){const n=this._currentModel.read(t);if(!n)return[];const r=n.asListOfDocumentSymbols().filter((o)=>e.contains(o.range.startLineNumber)&&!e.contains(o.range.endLineNumber));return r.sort(mn.Hw(mn.VE((o)=>o.range.endLineNumber-o.range.startLineNumber,mn.U9))),r.map((o)=>({name:o.name,kind:o.kind,startLineNumber:o.range.startLineNumber}))}};E0=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Py(1,Wt.ILanguageFeaturesService),Py(2,Kd)],E0),ow.N.setBreadcrumbsSourceFactory((e,t)=>t.createInstance(E0,e));var Sa=ct(5933);class J0 extends ft.jG{static{this.ID="editor.contrib.iPadShowKeyboard"}constructor(e){super(),this.editor=e,this.widget=null,tn.un&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(92);!this.widget&&e?this.widget=new k0(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}class k0 extends ft.jG{static{this.ID="editor.contrib.ShowKeyboardWidget"}constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(ae.ko(this._domNode,"touchstart",(t)=>{this.editor.focus()})),this._register(ae.ko(this._domNode,"focus",(t)=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return k0.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}O.HW(J0.ID,J0,3);var T0,Mu=ct(5910),A0=ct(7036),Fy=ct(3616),Oy=function(e,t){return function(n,r){t(n,r,e)}};let Pu=class extends ft.jG{static{T0=this}static{this.ID="editor.contrib.inspectTokens"}static get(e){return e.getContribution(T0.ID)}constructor(e,t,n){super(),this._editor=e,this._languageService=n,this._widget=null,this._register(this._editor.onDidChangeModel((r)=>this.stop())),this._register(this._editor.onDidChangeModelLanguage((r)=>this.stop())),this._register(Pt.dG.onDidChange((r)=>this.stop())),this._register(this._editor.onKeyUp((r)=>r.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new N0(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Pu=T0=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Oy(1,Fy.L),Oy(2,Ss.L)],Pu);class Qy extends O.ks{constructor(){super({id:"editor.action.inspectTokens",label:Sa.YN.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){Pu.get(t)?.launch()}}class N0 extends ft.jG{static{this._ID="editor.contrib.inspectTokensWidget"}constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function(n,r){const o=Pt.dG.get(r);if(o)return o;const u=n.encodeLanguageId(r);return{getInitialState:()=>A0.r3,tokenize:(l,A,K)=>A0.$H(r,K),tokenizeEncoded:(l,A,K)=>A0.Lh(u,K)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition((n)=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return N0._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let n=0;for(let A=t.tokens1.length-1;A>=0;A--){const K=t.tokens1[A];if(e.column-1>=K.offset){n=A;break}}let r=0;for(let A=t.tokens2.length>>>1;A>=0;A--)if(e.column-1>=t.tokens2[A<<1]){r=A;break}const o=this._model.getLineContent(e.lineNumber);let u="";if(n<t.tokens1.length){const A=t.tokens1[n].offset,K=n+1<t.tokens1.length?t.tokens1[n+1].offset:o.length;u=o.substring(A,K)}ae.Ln(this._domNode,ae.$("h2.tm-token",void 0,function(A){let K="";for(let le=0,ue=A.length;le<ue;le++){const we=A.charCodeAt(le);switch(we){case 9:K+="\u2192";break;case 32:K+="\xB7";break;default:K+=String.fromCharCode(we)}}return K}(u),ae.$("span.tm-token-length",void 0,`${u.length} ${u.length===1?"char":"chars"}`))),ae.BC(this._domNode,ae.$("hr.tokens-inspect-separator",{style:"clear:both"}));const l=1+(r<<1)<t.tokens2.length?this._decodeMetadata(t.tokens2[1+(r<<1)]):null;ae.BC(this._domNode,ae.$("table.tm-metadata-table",void 0,ae.$("tbody",void 0,ae.$("tr",void 0,ae.$("td.tm-metadata-key",void 0,"language"),ae.$("td.tm-metadata-value",void 0,`${l?l.languageId:"-?-"}`)),ae.$("tr",void 0,ae.$("td.tm-metadata-key",void 0,"token type"),ae.$("td.tm-metadata-value",void 0,`${l?this._tokenTypeToString(l.tokenType):"-?-"}`)),ae.$("tr",void 0,ae.$("td.tm-metadata-key",void 0,"font style"),ae.$("td.tm-metadata-value",void 0,`${l?this._fontStyleToString(l.fontStyle):"-?-"}`)),ae.$("tr",void 0,ae.$("td.tm-metadata-key",void 0,"foreground"),ae.$("td.tm-metadata-value",void 0,`${l?hi.Q1.Format.CSS.formatHex(l.foreground):"-?-"}`)),ae.$("tr",void 0,ae.$("td.tm-metadata-key",void 0,"background"),ae.$("td.tm-metadata-value",void 0,`${l?hi.Q1.Format.CSS.formatHex(l.background):"-?-"}`))))),ae.BC(this._domNode,ae.$("hr.tokens-inspect-separator")),n<t.tokens1.length&&ae.BC(this._domNode,ae.$("span.tm-token-type",void 0,t.tokens1[n].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=Pt.dG.getColorMap(),n=Mu.x.getLanguageId(e),r=Mu.x.getTokenType(e),o=Mu.x.getFontStyle(e),u=Mu.x.getForeground(e),l=Mu.x.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(n),tokenType:r,fontStyle:o,foreground:t[u],background:t[l]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),8&e&&(t+="strikethrough "),t.length===0&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),n=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),r=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:n.tokens,tokens2:r.tokens,endState:n.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let n=1;n<e;n++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,t).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}O.HW(Pu.ID,Pu,4),O.Fl(Qy);var Fu,Ou=ct(9381),zy=function(e,t){return function(n,r){t(n,r,e)}};let I0=class{static{Fu=this}static{this.PREFIX="?"}constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=xt.O.as(Ou.Fd.Quickaccess)}provide(e){const t=new ft.Cm;return t.add(e.onDidAccept(()=>{const[n]=e.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue((n)=>{const r=this.registry.getQuickAccessProvider(n.substr(Fu.PREFIX.length));r&&r.prefix&&r.prefix!==Fu.PREFIX&&this.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter((n)=>n.prefix!==Fu.PREFIX),t}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((e,t)=>e.prefix.localeCompare(t.prefix)).flatMap((e)=>this.createPicks(e))}createPicks(e){return e.helpEntries.map((t)=>{const n=t.prefix||e.prefix,r=n||"\u2026";return{prefix:n,label:r,keybinding:t.commandId?this.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:oe.kg("helpPickAriaLabel","{0}, {1}",r,t.description),description:t.description}})}};I0=Fu=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([zy(0,Ht.GK),zy(1,ui.b)],I0),xt.O.as(Ou.Fd.Quickaccess).registerQuickAccessProvider({ctor:I0,prefix:"",helpEntries:[{description:Sa.oq.helpQuickAccessActionLabel}]});var Wy=ct(8289);class R0{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t,n){const r=new ft.Cm;e.canAcceptInBackground=!!this.options?.canAcceptInBackground,e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const o=r.add(new ft.HE);return o.value=this.doProvide(e,t,n),r.add(this.onDidActiveTextEditorControlChange(()=>{o.value=void 0,o.value=this.doProvide(e,t)})),r}doProvide(e,t,n){const r=new ft.Cm,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const u={editor:o},l=wl.jA(o);if(l){let A=o.saveViewState()??void 0;r.add(l.onDidChangeCursorPosition(()=>{A=o.saveViewState()??void 0})),u.restoreViewState=()=>{A&&o===this.activeTextEditorControl&&o.restoreViewState(A)},r.add(Wy.P(t.onCancellationRequested)(()=>u.restoreViewState?.()))}r.add(ft.s(()=>this.clearDecorations(o))),r.add(this.provideWithTextEditor(u,e,t,n))}else r.add(this.provideWithoutTextEditor(e,t));return r}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range,"code.jump"),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus();const n=e.getModel();n&&"getLineContent"in n&&si.h5(`${n.getLineContent(t.range.startLineNumber)}`)}getModel(e){return wl.Np(e)?e.getModel()?.modified:e.getModel()}addDecorations(e,t){e.changeDecorations((n)=>{const r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const o=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:pi.Yf(hf.vp),position:Ci.A5.Full}}}],[u,l]=n.deltaDecorations(r,o);this.rangeHighlightDecorationId={rangeHighlightId:u,overviewRulerDecorationId:l}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations((n)=>{n.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class L0 extends R0{static{this.PREFIX=":"}constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=oe.kg("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,ft.jG.None}provideWithTextEditor(e,t,n){const r=e.editor,o=new ft.Cm;o.add(t.onDidAccept((A)=>{const[K]=t.selectedItems;if(K){if(!this.isValidLineNumber(r,K.lineNumber))return;this.gotoLocation(e,{range:this.toRange(K.lineNumber,K.column),keyMods:t.keyMods,preserveFocus:A.inBackground}),A.inBackground||t.hide()}}));const u=()=>{const A=this.parsePosition(r,t.value.trim().substr(L0.PREFIX.length)),K=this.getPickLabel(r,A.lineNumber,A.column);if(t.items=[{lineNumber:A.lineNumber,column:A.column,label:K}],t.ariaLabel=K,!this.isValidLineNumber(r,A.lineNumber))return void this.clearDecorations(r);const le=this.toRange(A.lineNumber,A.column);r.revealRangeInCenter(le,0),this.addDecorations(r,le)};u(),o.add(t.onDidChangeValue(()=>u()));const l=wl.jA(r);return l&&l.getOptions().get(68).renderType===2&&(l.updateOptions({lineNumbers:"on"}),o.add(ft.s(()=>l.updateOptions({lineNumbers:"relative"})))),o}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const n=t.split(/,|:|#/).map((o)=>parseInt(o,10)).filter((o)=>!isNaN(o)),r=this.lineCount(e)+1;return{lineNumber:n[0]>0?n[0]:r+n[0],column:n[1]}}getPickLabel(e,t,n){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,n)?oe.kg("gotoLineColumnLabel","Go to line {0} and character {1}.",t,n):oe.kg("gotoLineLabel","Go to line {0}.",t);const r=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?oe.kg("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",r.lineNumber,r.column,o):oe.kg("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",r.lineNumber,r.column)}isValidLineNumber(e,t){return!(!t||typeof t!="number")&&t>0&&t<=this.lineCount(e)}isValidColumn(e,t,n){if(!n||typeof n!="number")return!1;const r=this.getModel(e);if(!r)return!1;const o={lineNumber:t,column:n};return r.validatePosition(o).equals(o)}lineCount(e){return this.getModel(e)?.getLineCount()??0}}let Qu=class extends L0{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=Rt.Jh.None}get activeTextEditorControl(){return this.editorService.getFocusedCodeEditor()??void 0}};Qu=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([function(e,t){return function(n,r){t(n,r,e)}}(0,Ue.T)],Qu);class Ip extends O.ks{static{this.ID="editor.action.gotoLine"}constructor(){super({id:Ip.ID,label:Sa.Hw.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:Fe.R.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(Ht.GK).quickAccess.show(Qu.PREFIX)}}O.Fl(Ip),xt.O.as(Ou.Fd.Quickaccess).registerQuickAccessProvider({ctor:Qu,prefix:Qu.PREFIX,helpEntries:[{description:Sa.Hw.gotoLineActionLabel,commandId:Ip.ID}]});const $y=[void 0,[]];function D0(e,t,n=0,r=0){const o=t;return o.values&&o.values.length>1?function(u,l,A,K){let le=0;const ue=[];for(let we of l){const[Qe,Me]=Zy(u,we,A,K);if(typeof Qe!="number")return $y;le+=Qe,ue.push(...Me)}return[le,sw(ue)]}(e,o.values,n,r):Zy(e,t,n,r)}function Zy(e,t,n,r){const o=po.dt(t.original,t.originalLowercase,n,e,e.toLowerCase(),r,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return o?[o[0],po.WJ(o)]:$y}function sw(e){const t=e.sort((l,A)=>l.start-A.start),n=[];let r;for(let l of t)!r||(u=l,(o=r).end<u.start||u.end<o.start)?(r=l,n.push(l)):(r.start=Math.min(r.start,l.start),r.end=Math.max(r.end,l.end));var o,u;return n}function Uy(e){return e.startsWith('"')&&e.endsWith('"')}function M0(e){typeof e!="string"&&(e="");const t=e.toLowerCase(),{pathNormalized:n,normalized:r,normalizedLowercase:o}=By(e),u=n.indexOf(Xa.Vn)>=0,l=Uy(e);let A;const K=e.split(" ");if(K.length>1)for(let le of K){const ue=Uy(le),{pathNormalized:we,normalized:Qe,normalizedLowercase:Me}=By(le);Qe&&(A||(A=[]),A.push({original:le,originalLowercase:le.toLowerCase(),pathNormalized:we,normalized:Qe,normalizedLowercase:Me,expectContiguousMatch:ue}))}return{original:e,originalLowercase:t,pathNormalized:n,normalized:r,normalizedLowercase:o,values:A,containsPathSeparator:u,expectContiguousMatch:l}}function By(e){let t;t=tn.uF?e.replace(/\//g,Xa.Vn):e.replace(/\\/g,Xa.Vn);const n=Ne.wB(t).replace(/\s|"/g,"");return{pathNormalized:t,normalized:n,normalizedLowercase:n.toLowerCase()}}function Vy(e){return Array.isArray(e)?M0(e.map((t)=>t.original).join(" ")):M0(e.original)}Object.freeze({score:0});var Rp,Gy=function(e,t){return function(n,r){t(n,r,e)}};let Cc=class extends R0{static{Rp=this}static{this.PREFIX="@"}static{this.SCOPE_PREFIX=":"}static{this.PREFIX_BY_CATEGORY=`${this.PREFIX}${this.SCOPE_PREFIX}`}constructor(e,t,n=Object.create(null)){super(n),this._languageFeaturesService=e,this._outlineModelService=t,this.options=n,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,oe.kg("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),ft.jG.None}provideWithTextEditor(e,t,n,r){const o=e.editor,u=this.getModel(o);return u?this._languageFeaturesService.documentSymbolProvider.has(u)?this.doProvideWithEditorSymbols(e,u,t,n,r):this.doProvideWithoutEditorSymbols(e,u,t,n):ft.jG.None}doProvideWithoutEditorSymbols(e,t,n,r){const o=new ft.Cm;return this.provideLabelPick(n,oe.kg("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(async()=>{await this.waitForLanguageSymbolRegistry(t,o)&&!r.isCancellationRequested&&o.add(this.doProvideWithEditorSymbols(e,t,n,r))})(),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}async waitForLanguageSymbolRegistry(e,t){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;const n=new un.Zv,r=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(r.dispose(),n.complete(!0))}));return t.add(ft.s(()=>n.complete(!1))),n.p}doProvideWithEditorSymbols(e,t,n,r,o){const u=e.editor,l=new ft.Cm;l.add(n.onDidAccept((ue)=>{const[we]=n.selectedItems;we&&we.range&&(this.gotoLocation(e,{range:we.range.selection,keyMods:n.keyMods,preserveFocus:ue.inBackground}),o?.handleAccept?.(we),ue.inBackground||n.hide())})),l.add(n.onDidTriggerItemButton(({item:ue})=>{ue&&ue.range&&(this.gotoLocation(e,{range:ue.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())}));const A=this.getDocumentSymbols(t,r);let K;const le=async(ue)=>{K?.dispose(!0),n.busy=!1,K=new wn.Qi(r),n.busy=!0;try{const we=M0(n.value.substr(Rp.PREFIX.length).trim()),Qe=await this.doGetSymbolPicks(A,we,void 0,K.token,t);if(r.isCancellationRequested)return;if(Qe.length>0){if(n.items=Qe,ue&&we.original.length===0){const Me=Ud.Uk(Qe,(nt)=>Boolean(nt.type!=="separator"&&nt.range&&Nt.Q.containsPosition(nt.range.decoration,ue)));Me&&(n.activeItems=[Me])}}else we.original.length>0?this.provideLabelPick(n,oe.kg("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(n,oe.kg("noSymbolResults","No editor symbols"))}finally{r.isCancellationRequested||(n.busy=!1)}};return l.add(n.onDidChangeValue(()=>le(void 0))),le(u.getSelection()?.getPosition()),l.add(n.onDidChangeActive(()=>{const[ue]=n.activeItems;ue&&ue.range&&(u.revealRangeInCenter(ue.range.selection,0),this.addDecorations(u,ue.range.decoration))})),l}async doGetSymbolPicks(e,t,n,r,o){const u=await e;if(r.isCancellationRequested)return[];const l=t.original.indexOf(Rp.SCOPE_PREFIX)===0,A=l?1:0;let K,le,ue;t.values&&t.values.length>1?(K=Vy(t.values[0]),le=Vy(t.values.slice(1))):K=t;const we=this.options?.openSideBySideDirection?.();we&&(ue=[{iconClass:we==="right"?Oe.L.asClassName(be.W.splitHorizontal):Oe.L.asClassName(be.W.splitVertical),tooltip:we==="right"?oe.kg("openToSide","Open to the Side"):oe.kg("openToBottom","Open to the Bottom")}]);const Qe=[];for(let yt=0;yt<u.length;yt++){const It=u[yt],Dt=Ne.Bq(It.name),cn=`\$(${Pt.gP.toIcon(It.kind).id}) ${Dt}`,Tn=cn.length-Dt.length;let On,Kn,mi,Bi,Lr=It.containerName;if(n?.extraContainerLabel&&(Lr=Lr?`${n.extraContainerLabel} \u2022 ${Lr}`:n.extraContainerLabel),t.original.length>A){let wa=!1;if(K!==t&&([On,Kn]=D0(cn,{...t,values:void 0},A,Tn),typeof On=="number"&&(wa=!0)),typeof On!="number"&&([On,Kn]=D0(cn,K,A,Tn),typeof On!="number"))continue;if(!wa&&le){if(Lr&&le.original.length>0&&([mi,Bi]=D0(Lr,le)),typeof mi!="number")continue;typeof On=="number"&&(On+=mi)}}const so=It.tags&&It.tags.indexOf(1)>=0;Qe.push({index:yt,kind:It.kind,score:On,label:cn,ariaLabel:Pt.PK(It.name,It.kind),description:Lr,highlights:so?void 0:{label:Kn,description:Bi},range:{selection:Nt.Q.collapseToStart(It.selectionRange),decoration:It.range},uri:o.uri,symbolName:Dt,strikethrough:so,buttons:ue})}const Me=Qe.sort((yt,It)=>l?this.compareByKindAndScore(yt,It):this.compareByScore(yt,It));let nt=[];if(l){let cn=function(){It&&typeof yt=="number"&&Dt>0&&(It.label=Ne.GP(F0[yt]||P0,Dt))},yt,It,Dt=0;for(let Tn of Me)yt!==Tn.kind?(cn(),yt=Tn.kind,Dt=1,It={type:"separator"},nt.push(It)):Dt++,nt.push(Tn);cn()}else Me.length>0&&(nt=[{label:oe.kg("symbols","symbols ({0})",Qe.length),type:"separator"},...Me]);return nt}compareByScore(e,t){if(typeof e.score!="number"&&typeof t.score=="number")return 1;if(typeof e.score=="number"&&typeof t.score!="number")return-1;if(typeof e.score=="number"&&typeof t.score=="number"){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const n=F0[e.kind]||P0,r=F0[t.kind]||P0,o=n.localeCompare(r);return o===0?this.compareByScore(e,t):o}async getDocumentSymbols(e,t){const n=await this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:n.asListOfDocumentSymbols()}};Cc=Rp=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Gy(0,Wt.ILanguageFeaturesService),Gy(1,Kd)],Cc);const P0=oe.kg("property","properties ({0})"),F0={5:oe.kg("method","methods ({0})"),11:oe.kg("function","functions ({0})"),8:oe.kg("_constructor","constructors ({0})"),12:oe.kg("variable","variables ({0})"),4:oe.kg("class","classes ({0})"),22:oe.kg("struct","structs ({0})"),23:oe.kg("event","events ({0})"),24:oe.kg("operator","operators ({0})"),10:oe.kg("interface","interfaces ({0})"),2:oe.kg("namespace","namespaces ({0})"),3:oe.kg("package","packages ({0})"),25:oe.kg("typeParameter","type parameters ({0})"),1:oe.kg("modules","modules ({0})"),6:oe.kg("property","properties ({0})"),9:oe.kg("enum","enumerations ({0})"),21:oe.kg("enumMember","enumeration members ({0})"),14:oe.kg("string","strings ({0})"),0:oe.kg("file","files ({0})"),17:oe.kg("array","arrays ({0})"),15:oe.kg("number","numbers ({0})"),16:oe.kg("boolean","booleans ({0})"),18:oe.kg("object","objects ({0})"),19:oe.kg("key","keys ({0})"),7:oe.kg("field","fields ({0})"),13:oe.kg("constant","constants ({0})")};var O0=function(e,t){return function(n,r){t(n,r,e)}};let Q0=class extends Cc{constructor(e,t,n){super(t,n),this.editorService=e,this.onDidActiveTextEditorControlChange=Rt.Jh.None}get activeTextEditorControl(){return this.editorService.getFocusedCodeEditor()??void 0}};Q0=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([O0(0,Ue.T),O0(1,Wt.ILanguageFeaturesService),O0(2,Kd)],Q0);class Lp extends O.ks{static{this.ID="editor.action.quickOutline"}constructor(){super({id:Lp.ID,label:Sa.n9.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Fe.R.hasDocumentSymbolProvider,kbOpts:{kbExpr:Fe.R.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(Ht.GK).quickAccess.show(Cc.PREFIX,{itemActivation:Ht.C1.NONE})}}O.Fl(Lp),xt.O.as(Ou.Fd.Quickaccess).registerQuickAccessProvider({ctor:Q0,prefix:Cc.PREFIX,helpEntries:[{description:Sa.n9.quickOutlineActionLabel,prefix:Cc.PREFIX,commandId:Lp.ID},{description:Sa.n9.quickOutlineByCategoryActionLabel,prefix:Cc.PREFIX_BY_CATEGORY}]});var wd,Wl,aw=ct(4594),lw=ct(8039);class zu{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(e,t){const n=this.computeEmbedding(e),r=new Map,o=[];for(let[u,l]of this.documents){if(t.isCancellationRequested)return[];for(let A of l.chunks){const K=this.computeSimilarityScore(A,n,r);K>0&&o.push({key:u,score:K})}}return o}static termFrequencies(e){return function(t){const n=new Map;for(let r of t)n.set(r,(n.get(r)??0)+1);return n}(zu.splitTerms(e))}static*splitTerms(e){const t=(n)=>n.toLowerCase();for(let[n]of e.matchAll(/\b\p{Letter}[\p{Letter}\d]{2,}\b/gu)){yield t(n);const r=n.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(r.length>1)for(let o of r)o.length>2&&/\p{Letter}{3,}/gu.test(o)&&(yield t(o))}}updateDocuments(e){for(let{key:t}of e)this.deleteDocument(t);for(let t of e){const n=[];for(let r of t.textChunks){const o=zu.termFrequencies(r);for(let u of o.keys())this.chunkOccurrences.set(u,(this.chunkOccurrences.get(u)??0)+1);n.push({text:r,tf:o})}this.chunkCount+=n.length,this.documents.set(t.key,{chunks:n})}return this}deleteDocument(e){const t=this.documents.get(e);if(t){this.documents.delete(e),this.chunkCount-=t.chunks.length;for(let n of t.chunks)for(let r of n.tf.keys()){const o=this.chunkOccurrences.get(r);if(typeof o=="number"){const u=o-1;u<=0?this.chunkOccurrences.delete(r):this.chunkOccurrences.set(r,u)}}}}computeSimilarityScore(e,t,n){let r=0;for(let[o,u]of Object.entries(t)){const l=e.tf.get(o);if(!l)continue;let A=n.get(o);typeof A!="number"&&(A=this.computeIdf(o),n.set(o,A)),r+=l*A*u}return r}computeEmbedding(e){const t=zu.termFrequencies(e);return this.computeTfidf(t)}computeIdf(e){const t=this.chunkOccurrences.get(e)??0;return t>0?Math.log((this.chunkCount+1)/t):0}computeTfidf(e){const t=Object.create(null);for(let[n,r]of e){const o=this.computeIdf(n);o>0&&(t[n]=r*o)}return t}}function z0(e){const t=e;return Array.isArray(t.items)}function Xy(e){const t=e;return!!t.picks&&t.additionalPicks instanceof Promise}(Wl=wd||(wd={}))[Wl.NO_ACTION=0]="NO_ACTION",Wl[Wl.CLOSE_PICKER=1]="CLOSE_PICKER",Wl[Wl.REFRESH_PICKER=2]="REFRESH_PICKER",Wl[Wl.REMOVE_ITEM=3]="REMOVE_ITEM";class Hy extends ft.jG{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t,n){const r=new ft.Cm;let o;e.canAcceptInBackground=!!this.options?.canAcceptInBackground,e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const u=r.add(new ft.HE),l=async()=>{const K=u.value=new ft.Cm;o?.dispose(!0),e.busy=!1,o=new wn.Qi(t);const le=o.token;let ue=e.value.substring(this.prefix.length);this.options?.shouldSkipTrimPickFilter||(ue=ue.trim());const we=this._getPicks(ue,K,le,n),Qe=(nt,yt)=>{let It,Dt;if(z0(nt)?(It=nt.items,Dt=nt.active):It=nt,It.length===0){if(yt)return!1;(ue.length>0||e.hideInput)&&this.options?.noResultsPick&&(It=yn.Tn(this.options.noResultsPick)?[this.options.noResultsPick(ue)]:[this.options.noResultsPick])}return e.items=It,Dt&&(e.activeItems=[Dt]),!0},Me=async(nt)=>{let yt=!1,It=!1;await Promise.all([(async()=>{typeof nt.mergeDelay=="number"&&(await un.wR(nt.mergeDelay),le.isCancellationRequested)||It||(yt=Qe(nt.picks,!0))})(),(async()=>{e.busy=!0;try{const Dt=await nt.additionalPicks;if(le.isCancellationRequested)return;let cn,Tn,On,Kn;if(z0(nt.picks)?(cn=nt.picks.items,Tn=nt.picks.active):cn=nt.picks,z0(Dt)?(On=Dt.items,Kn=Dt.active):On=Dt,On.length>0||!yt){let mi;if(!Tn&&!Kn){const Bi=e.activeItems[0];Bi&&cn.indexOf(Bi)!==-1&&(mi=Bi)}Qe({items:[...cn,...On],active:Tn||Kn||mi})}}finally{le.isCancellationRequested||(e.busy=!1),It=!0}})()])};if(we===null);else if(Xy(we))await Me(we);else if(we instanceof Promise){e.busy=!0;try{const nt=await we;if(le.isCancellationRequested)return;Xy(nt)?await Me(nt):Qe(nt)}finally{le.isCancellationRequested||(e.busy=!1)}}else Qe(we)};r.add(e.onDidChangeValue(()=>l())),l(),r.add(e.onDidAccept((K)=>{if(n?.handleAccept)return K.inBackground||e.hide(),void n.handleAccept?.(e.activeItems[0]);const[le]=e.selectedItems;typeof le?.accept=="function"&&(K.inBackground||e.hide(),le.accept(e.keyMods,K))}));const A=async(K,le)=>{if(typeof le.trigger!="function")return;const ue=le.buttons?.indexOf(K)??-1;if(ue>=0){const we=le.trigger(ue,e.keyMods),Qe=typeof we=="number"?we:await we;if(t.isCancellationRequested)return;switch(Qe){case wd.NO_ACTION:break;case wd.CLOSE_PICKER:e.hide();break;case wd.REFRESH_PICKER:l();break;case wd.REMOVE_ITEM:{const Me=e.items.indexOf(le);if(Me!==-1){const nt=e.items.slice(),yt=nt.splice(Me,1),It=e.activeItems.filter((cn)=>cn!==yt[0]),Dt=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=nt,It&&(e.activeItems=It),e.keepScrollPosition=Dt}break}}}};return r.add(e.onDidTriggerItemButton(({button:K,item:le})=>A(K,le))),r.add(e.onDidTriggerSeparatorButton(({button:K,separator:le})=>A(K,le))),r}}var Ec,jr,Yy=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l},$l=function(e,t){return function(n,r){t(n,r,e)}};let W0=class extends Hy{static{Ec=this}static{this.PREFIX=">"}static{this.TFIDF_THRESHOLD=0.5}static{this.TFIDF_MAX_RESULTS=5}static{this.WORD_FILTER=po.or(po.WP,po.J1,po.Tt)}constructor(e,t,n,r,o,u){super(Ec.PREFIX,e),this.instantiationService=t,this.keybindingService=n,this.commandService=r,this.telemetryService=o,this.dialogService=u,this.commandsHistory=this._register(this.instantiationService.createInstance($0)),this.options=e}async _getPicks(e,t,n,r){const o=await this.getCommandPicks(n);if(n.isCancellationRequested)return[];const u=Wy.P(()=>{const Qe=new zu;return Qe.updateDocuments(o.map((Me)=>({key:Me.commandId,textChunks:[this.getTfIdfChunk(Me)]}))),function(Me){const nt=Me.slice(0);nt.sort((It,Dt)=>Dt.score-It.score);const yt=nt[0]?.score??0;if(yt>0)for(let It of nt)It.score/=yt;return nt}(Qe.calculateScores(e,n)).filter((Me)=>Me.score>Ec.TFIDF_THRESHOLD).slice(0,Ec.TFIDF_MAX_RESULTS)}),l=[];for(let Qe of o){const Me=Ec.WORD_FILTER(e,Qe.label)??void 0,nt=Qe.commandAlias?Ec.WORD_FILTER(e,Qe.commandAlias)??void 0:void 0;if(Me||nt)Qe.highlights={label:Me,detail:this.options.showAlias?nt:void 0},l.push(Qe);else if(e===Qe.commandId)l.push(Qe);else if(e.length>=3){const yt=u();if(n.isCancellationRequested)return[];const It=yt.find((Dt)=>Dt.key===Qe.commandId);It&&(Qe.tfIdfScore=It.score,l.push(Qe))}}const A=new Map;for(let Qe of l){const Me=A.get(Qe.label);Me?(Qe.description=Qe.commandId,Me.description=Me.commandId):A.set(Qe.label,Qe)}l.sort((Qe,Me)=>{if(Qe.tfIdfScore&&Me.tfIdfScore)return Qe.tfIdfScore===Me.tfIdfScore?Qe.label.localeCompare(Me.label):Me.tfIdfScore-Qe.tfIdfScore;if(Qe.tfIdfScore)return 1;if(Me.tfIdfScore)return-1;const nt=this.commandsHistory.peek(Qe.commandId),yt=this.commandsHistory.peek(Me.commandId);if(nt&&yt)return nt>yt?-1:1;if(nt)return-1;if(yt)return 1;if(this.options.suggestedCommandIds){const It=this.options.suggestedCommandIds.has(Qe.commandId),Dt=this.options.suggestedCommandIds.has(Me.commandId);if(It&&Dt)return 0;if(It)return-1;if(Dt)return 1}return Qe.label.localeCompare(Me.label)});const K=[];let le=!1,ue=!0,we=!!this.options.suggestedCommandIds;for(let Qe=0;Qe<l.length;Qe++){const Me=l[Qe];Qe===0&&this.commandsHistory.peek(Me.commandId)&&(K.push({type:"separator",label:oe.kg("recentlyUsed","recently used")}),le=!0),ue&&Me.tfIdfScore!==void 0&&(K.push({type:"separator",label:oe.kg("suggested","similar commands")}),ue=!1),we&&Me.tfIdfScore===void 0&&!this.commandsHistory.peek(Me.commandId)&&this.options.suggestedCommandIds?.has(Me.commandId)&&(K.push({type:"separator",label:oe.kg("commonlyUsed","commonly used")}),le=!0,we=!1),!le||Me.tfIdfScore!==void 0||this.commandsHistory.peek(Me.commandId)||this.options.suggestedCommandIds?.has(Me.commandId)||(K.push({type:"separator",label:oe.kg("morecCommands","other commands")}),le=!1),K.push(this.toCommandPick(Me,r))}return this.hasAdditionalCommandPicks(e,n)?{picks:K,additionalPicks:(async()=>{const Qe=await this.getAdditionalCommandPicks(o,l,e,n);if(n.isCancellationRequested)return[];const Me=Qe.map((nt)=>this.toCommandPick(nt,r));return ue&&Me[0]?.type!=="separator"&&Me.unshift({type:"separator",label:oe.kg("suggested","similar commands")}),Me})()}:K}toCommandPick(e,t){if(e.type==="separator")return e;const n=this.keybindingService.lookupKeybinding(e.commandId),r=n?oe.kg("commandPickAriaLabelWithKeybinding","{0}, {1}",e.label,n.getAriaLabel()):e.label;return{...e,ariaLabel:r,detail:this.options.showAlias&&e.commandAlias!==e.label?e.commandAlias:void 0,keybinding:n,accept:async()=>{this.commandsHistory.push(e.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.commandId,from:t?.from??"quick open"});try{e.args?.length?await this.commandService.executeCommand(e.commandId,...e.args):await this.commandService.executeCommand(e.commandId)}catch(o){ii.MB(o)||this.dialogService.error(oe.kg("canNotRun","Command '{0}' resulted in an error",e.label),Vr(o))}}}}getTfIdfChunk({label:e,commandAlias:t,commandDescription:n}){let r=e;return t&&t!==e&&(r+=` - ${t}`),n&&n.value!==e&&(r+=` - ${n.value===n.original?n.value:`${n.value} (${n.original})`}`),r}};W0=Ec=Yy([$l(1,Ke._Y),$l(2,ui.b),$l(3,En.d),$l(4,xr.k),$l(5,f0.X)],W0);let $0=class extends ft.jG{static{jr=this}static{this.DEFAULT_COMMANDS_HISTORY_LENGTH=50}static{this.PREF_KEY_CACHE="commandPalette.mru.cache"}static{this.PREF_KEY_COUNTER="commandPalette.mru.counter"}static{this.counter=1}static{this.hasChanges=!1}constructor(e,t,n){super(),this.storageService=e,this.configurationService=t,this.logService=n,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e)=>this.updateConfiguration(e))),this._register(this.storageService.onWillSaveState((e)=>{e.reason===Zr.LP.SHUTDOWN&&this.saveState()}))}updateConfiguration(e){e&&!e.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=jr.getConfiguredCommandHistoryLength(this.configurationService),jr.cache&&jr.cache.limit!==this.configuredCommandsHistoryLength&&(jr.cache.limit=this.configuredCommandsHistoryLength,jr.hasChanges=!0))}load(){const e=this.storageService.get(jr.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch(r){this.logService.error(`[CommandsHistory] invalid data: ${r}`)}const n=jr.cache=new ro.qK(this.configuredCommandsHistoryLength,1);if(t){let r;r=t.usesLRU?t.entries:t.entries.sort((o,u)=>o.value-u.value),r.forEach((o)=>n.set(o.key,o.value))}jr.counter=this.storageService.getNumber(jr.PREF_KEY_COUNTER,0,jr.counter)}push(e){jr.cache&&(jr.cache.set(e,jr.counter++),jr.hasChanges=!0)}peek(e){return jr.cache?.peek(e)}saveState(){if(!jr.cache)return;if(!jr.hasChanges)return;const e={usesLRU:!0,entries:[]};jr.cache.forEach((t,n)=>e.entries.push({key:n,value:t})),this.storageService.store(jr.PREF_KEY_CACHE,JSON.stringify(e),0,0),this.storageService.store(jr.PREF_KEY_COUNTER,jr.counter,0,0),jr.hasChanges=!1}static getConfiguredCommandHistoryLength(e){const t=e.getValue(),n=t.workbench?.commandPalette?.history;return typeof n=="number"?n:jr.DEFAULT_COMMANDS_HISTORY_LENGTH}};$0=jr=Yy([$l(0,Zr.CS),$l(1,lt.pG),$l(2,fc.rr)],$0);class jy extends W0{constructor(e,t,n,r,o,u){super(e,t,n,r,o,u)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(let n of e.getSupportedActions()){let r;n.metadata?.description&&(r=lw.f(n.metadata.description)?n.metadata.description:{original:n.metadata.description,value:n.metadata.description}),t.push({commandId:n.id,commandAlias:n.alias,commandDescription:r,label:aw.pS(n.label)||n.id})}return t}}var xd=function(e,t){return function(n,r){t(n,r,e)}};let Wu=class extends jy{get activeTextEditorControl(){return this.codeEditorService.getFocusedCodeEditor()??void 0}constructor(e,t,n,r,o,u){super({showAlias:!1},e,n,r,o,u),this.codeEditorService=t}async getCommandPicks(){return this.getCodeEditorCommandPicks()}hasAdditionalCommandPicks(){return!1}async getAdditionalCommandPicks(){return[]}};Wu=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([xd(0,Ke._Y),xd(1,Ue.T),xd(2,ui.b),xd(3,En.d),xd(4,xr.k),xd(5,f0.X)],Wu);class Dp extends O.ks{static{this.ID="editor.action.quickCommand"}constructor(){super({id:Dp.ID,label:Sa.gf.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:Fe.R.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(Ht.GK).quickAccess.show(Wu.PREFIX)}}O.Fl(Dp),xt.O.as(Ou.Fd.Quickaccess).registerQuickAccessProvider({ctor:Wu,prefix:Wu.PREFIX,helpEntries:[{description:Sa.gf.quickCommandHelp,commandId:Dp.ID}]});var Cd=function(e,t){return function(n,r){t(n,r,e)}};let Z0=class extends ic{constructor(e,t,n,r,o,u,l){super(!0,e,t,n,r,o,u,l)}};Z0=function(e,t,n,r){var o,u=arguments.length,l=u<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,n,r);else for(var A=e.length-1;A>=0;A--)(o=e[A])&&(l=(u<3?o(l):u>3?o(t,n,l):o(t,n))||l);return u>3&&l&&Object.defineProperty(t,n,l),l}([Cd(1,ye.fN),Cd(2,Ue.T),Cd(3,Dr.Ot),Cd(4,Ke._Y),Cd(5,Zr.CS),Cd(6,lt.pG)],Z0),O.HW(ic.ID,Z0,4);var Mp=ct(3582);class qy extends O.ks{constructor(){super({id:"editor.action.toggleHighContrast",label:Sa.E6.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const n=e.get(Fy.L),r=n.getColorTheme();ss.Bb(r.type)?(n.setTheme(this._originalThemeName||(ss.HD(r.type)?Mp.po:Mp.tj)),this._originalThemeName=null):(n.setTheme(ss.HD(r.type)?Mp.aQ:Mp.nr),this._originalThemeName=r.themeName)}}O.Fl(qy)})(),ao})())});var u2="https://faustlibraries.grame.fr/libs",h2;var p2=e2(()=>{h2={aa:"aanl",an:"analyzers",ba:"basics",co:"compressors",de:"delays",dm:"demos",dx:"dx7",en:"envelopes",fd:"fds",fi:"filters",ho:"hoa",it:"interpolators",ma:"maths",mi:"mi",ef:"misceffects",os:"oscillators",no:"noises",pf:"phaflangers",pm:"physmodels",qu:"quantizers",rm:"reducemaps",re:"reverbs",ro:"routes",si:"signals",so:"soundfiles",sp:"spats",sy:"synths",ve:"vaeffects",vl:"version",wa:"webaudio",wd:"wdmodels"}});var _2={};gw(_2,{theme:()=>Ew,matchDocKey:()=>g2,language:()=>xw,getProviders:()=>Jw,config:()=>Cw});var Ed,xw,Cw,Ew,f2,m2,g2=(Ti,vr,ct)=>{const ao=ct.lineNumber,dt=vr.getLineContent(ao),pe=vr.getWordAtPosition(ct);if(!pe)return null;let h=pe.startColumn-1;const s=pe.word,I=[];while(h-2>=0&&dt[h-1]==="."){h-=2;const J=vr.getWordAtPosition(new Ed.Position(ao,h));I.splice(0,0,J.word),h=J.startColumn-1}const T=[...I,s];while(T.length){const J=T.join("."),M=Ti[J];if(M)return{nameArray:T,name:J,range:new Ed.Range(ao,h+1,ao,pe.endColumn),doc:M};h+=T.splice(0,1)[0].length+1}return null},Jw=async()=>{let Ti={},vr={};try{}catch(h){console.error(h)}const ct=Object.keys(Ti);return{hoverProvider:{provideHover:(h,s)=>{const I=g2({...vr,...Ti},h,s);if(I){const T=I.nameArray.slice(),J=T.pop(),M=I.doc;return{range:I.range,contents:[{value:`\`\`\`\n${T.length?"("+T.join(".")+".)":""}${J}\n\`\`\``},{value:M.doc.replace(/#+/g,"######")},{value:T.length?`[Detail...](${u2}/${h2[T.slice(0,2).join("")]}/#${T.join(".")}${M.name.replace(/[[\]|]/g,"").toLowerCase()})`:"[Detail...](https://faustdoc.grame.fr/manual/syntax/index.html#faust-syntax)"}]}}return null}},tokensProvider:{faustKeywords:f2,faustFunctions:m2,faustLib:ct,defaultToken:"invalid",tokenPostfix:".dsp",faustCompOperators:["~",",",":","<:",":>"],operators:["=","+","-","*","/","%","^","&","|","xor","<<",">>",">","<","==","<=",">=","!=","@","'"],symbols:/[=><!~?:&|+\-*/^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/!|_/,"keyword"],[/[a-z_$]([\w.$]*[\w$])?/,{cases:{"@faustFunctions":"faustFunctions","@faustKeywords":"faustKeywords","@faustLib":"faustLib","@default":"identifier"}}],[/[A-Z][\w$]*/,"type.identifier"],{include:"@whitespace"},[/[{}()[\]]/,"@brackets"],[/~|,|<:|:>|:/,"faustCompOperators"],[/[<>](?!@symbols)/,"@brackets"],[/=|\+|-|\*|\/|%|\^|&|\||xor|<<|>>|>|<|==|<=|>=|!=|@|'/,{cases:{"@operators":"operators","@default":""}}],[/\d*\.\d+([eE][-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;.]/,"delimiter"],[/"/,{token:"string",next:"@string"}]],comment:[[/[^/*]+/,"comment"],[/\/\*/,"comment","@push"],[/\*\//,"comment","@pop"],[/[/*]/,"comment"]],string:[[/[^\\"$]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}},completionItemProvider:{provideCompletionItems:()=>{const h=[];return[...f2,...m2,...ct].forEach((s)=>{h.push({label:s,kind:Ed.languages.CompletionItemKind.Text,insertText:s,range:null})}),{suggestions:h}}},docs:Ti}};var b2=e2(()=>{Ed=Ky(V0(),1);p2();xw={id:"faust",extensions:["dsp","lib"],mimetypes:["application/faust"]},Cw={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"/*",close:"*/",notIn:["string"]}]},Ew={base:"vs-dark",inherit:!0,rules:[{token:"faustFunctions",foreground:"DDDD99"},{token:"faustKeywords",foreground:"4499CC"},{token:"faustLib",foreground:"CCCCBB"},{token:"faustCompOperators",foreground:"FFDDFF"},{token:"identifier",foreground:"77CCFF"}],colors:{}},f2=["import","component","declare","library","environment","int","float","letrec","with","class","process","effect","inputs","outputs"],m2=["mem","prefix","rdtable","rwtable","select2","select3","ffunction","fconstant","fvariable","route","waveform","soundfile","button","checkbox","vslider","hslider","nentry","vgroup","hgroup","tgroup","vbargraph","hbargraph","attach","acos","asin","atan","atan2","cos","sin","tan","exp","log","log10","pow","sqrt","abs","min","max","fmod","remainder","floor","ceil","rint","round","seq","par","sum","prod"]});var s2=Ky(V0(),1);var t2="../bunaco/dist/workers/monaco.json.worker.js";var n2="../bunaco/dist/workers/monaco.css.worker.js";var i2="../bunaco/dist/workers/monaco.html.worker.js";var r2="../bunaco/dist/workers/monaco.ts.worker.js";var o2="../bunaco/dist/workers/monaco.editor.worker.js";self.MonacoEnvironment={getWorkerUrl:(Ti,vr)=>{switch(vr){case"json":return new URL(t2,import.meta.url).href;case"css":case"scss":case"less":return new URL(n2,import.meta.url).href;case"html":case"handlebars":case"razor":return new URL(i2,import.meta.url).href;case"typescript":case"javascript":return new URL(r2,import.meta.url).href}return new URL(o2,import.meta.url).href}};var Zs=s2.default;var a2={keywords:["if","else","while","for","loop","break","continue","return","const","let","var","void","int","int32","int64","float","float32","float64","complex","complex32","complex64","bool","true","false","string","struct","using","external","graph","processor","namespace","node","connection"],endpointKeywords:["input","output"],wrapClampKeywords:["wrap","clamp"],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],operators:["!","=","??","?","||","&&","|","^","&","==","!=","<=",">=","<<","+","-","*","/","%","!","~","++","--","+=","-=","*=","/=","%=","&=","|=","^=","<<=",">>=",">>","=>","::","<-"],symbols:"[\\!\\.:=><~&|+?\\-*/%@#]+",tokenizer:{root:[["@?[a-zA-Z_]\\w*",{cases:{"@wrapClampKeywords":{token:"@rematch",next:"@possibleWrapClampKeyword"},"@endpointKeywords":{token:"keyword.$0",next:"@endpointDefinition"},"@keywords":{token:"keyword.$0",next:"@qualified"},"@default":{token:"identifier",next:"@qualified"}}}],["->","keyword.$0"],["<-","keyword.$0"],{include:"@whitespace"},["[{}()\\[\\]]","@brackets"],["@symbols",{cases:{"@operators":"delimiter","@default":""}}],["\"",{token:"string.quote",next:"@string"}],["[0-9_]*.[0-9_]+([eE][-+]?\\d+)?[fFdD]?","number.float"],["0[xX][0-9a-fA-F_]+","number.hex"],["0[bB][01_]+","number.hex"],["[0-9_]+[fF]","number.float"],["[0-9_]+[lL]?","number"],["[;,]","delimiter"]],endpointDefinition:[["event","keyword.$0",""],["stream","keyword.$0",""],["value","keyword.$0",""],[";","","@pop"],["{","","@endpointDefinition"],["\"",{token:"string.quote",next:"@string"}],["[a-zA-Z_][\\w]*",{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],["[{}()\\[\\]]","@brackets"],[",","delimiter"],["@symbols",{cases:{"@operators":"delimiter","@default":""}}],["[0-9_]+[lL]?","number"]],possibleWrapClampKeyword:[["wrap[ ]*<","@rematch","@wrapClampKeyword"],["wrap","","@pop"],["clamp[ ]*<","@rematch","@wrapClampKeyword"],["clamp","","@pop"],["","","@pop"]],wrapClampKeyword:[["wrap","keyword.$0","@pop"],["clamp","keyword.$0","@pop"]],qualified:[["[a-zA-Z_][\\w]*",{cases:{"@keywords":{token:"keyword.$0"},"@default":"identifier"}}],["\\.","delimiter"],["","","@pop"]],comment:[["[^/*]+","comment"],["\\*/","comment","@pop"],["[/*]","comment"]],string:[["[^\\\"]+","string"],["\"",{token:"string.quote",next:"@pop"}]],whitespace:[["[ \\t\\v\\f\\r\\n]+",""],["/\\*","comment","@comment"],["//.*$","comment"]]}};var l2={comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"/*",close:"*/",notIn:["string"]}]};function c2(Ti,vr){const ct=vr?.indentation?.style??"tabs",ao=vr?.indentation?.size??4,dt=vr?.braces?.newline??!1,pe=ct==="spaces"?" ".repeat(ao):"\t",h=Ti.split("\n");if(dt)for(let T=0;T<h.length-1;T++){const J=h[T],M=h[T+1];if(J.trim().endsWith("{"));}else for(let T=1;T<h.length-1;T++){const J=h[T],M=h[T-1];if(J.trim()==="{"&&!M.includes("//"))h[T-1]=`${M.trim()} {`,h.splice(T,1)}let s=0;return h.map((T)=>T.trim()).map((T)=>{if(T.startsWith("}"))s=Math.max(s-1,0);const J=`${pe.repeat(s)}${T}`;if(T.endsWith("{"))s+=1;return J}).join("\n")}var ww=localStorage.getItem("formattingOptions")?JSON.parse(localStorage.getItem("formattingOptions")):void 0,d2={language:{id:"cmajor",extensions:["cmajor"],mimetypes:["application/cmajor"]},configutation:l2,tokensProvider:a2,documentFormattingEditProvider:{provideDocumentFormattingEdits:async(Ti,vr,ct)=>{return[{range:Ti.getFullModelRange(),text:c2(Ti.getValue(),ww)}]}}};var Pp=await Promise.resolve().then(() => (b2(),_2)),G0=await Pp.getProviders(),v2={language:Pp.language,configutation:Pp.config,themeData:Pp.theme,hoverProvider:G0.hoverProvider,tokensProvider:G0.tokensProvider,completionItemProvider:G0.completionItemProvider};var y2=[d2,v2];var kw=document.getElementById("editor");class S2{Ti;vr;getLanguage=(Ti)=>Zs.languages.getLanguages().find((vr)=>vr.extensions?.includes("."+Ti)||vr.extensions?.includes(Ti))?.id;registerLanguage(Ti){if(Zs.languages.register(Ti.language),Ti.configutation)Zs.languages.setLanguageConfiguration(Ti.language.id,Ti.configutation);if(Ti.themeData)Zs.editor.defineTheme("vs-dark",Ti.themeData);if(Ti.hoverProvider)Zs.languages.registerHoverProvider(Ti.language.id,Ti.hoverProvider);if(Ti.tokensProvider)Zs.languages.setMonarchTokensProvider(Ti.language.id,Ti.tokensProvider);if(Ti.completionItemProvider)Zs.languages.registerCompletionItemProvider(Ti.language.id,Ti.completionItemProvider);if(Ti.documentFormattingEditProvider)Zs.languages.registerDocumentFormattingEditProvider(Ti.language.id,Ti.documentFormattingEditProvider)}monaco;constructor(Ti,vr){this.file=Ti;this.callback=vr;y2.forEach((ao)=>this.registerLanguage(ao)),Zs.languages.getLanguages().find((ao)=>ao.extensions?.includes(".json")).extensions.push(".cmajorpatch"),Zs.editor.defineTheme("vs-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#232627"}}),this.init()}async init(){const Ti=await this.file.content,vr=Ti.length>1e6?void 0:this.getLanguage(this.file.path?.split(".").pop())??"plaintext";this.monaco=Zs.editor.create(kw,{value:Ti,language:vr,theme:"vs-dark",fontSize:10.5,tabSize:4,insertSpaces:!1,useTabStops:!0}),this.monaco.onDidChangeModelContent(()=>this.setEditorContent(this.monaco.getValue())),window.addEventListener("resize",()=>this.checkSize()),window.setContent=(ct)=>this.monaco.setValue(ct)}setEditorContent(Ti){this.callback(Ti)}checkSize(){const Ti=document.body.getBoundingClientRect();this.monaco?.updateOptions({minimap:{enabled:Ti.width>900}}),this.monaco?.layout()}}window.init=(Ti,vr)=>new S2(Ti,vr);

//# debugId=46456FC7C1AB74CF64756E2164756E21
//# sourceMappingURL=monaco.js.map
