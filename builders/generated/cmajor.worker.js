var QZ=Object.defineProperty;var JZ=(R,E)=>{for(var Y in E)QZ(R,Y,{get:E[Y],enumerable:!0,configurable:!0,set:(c)=>E[Y]=()=>c})};var KZ=(R,E)=>()=>(R&&(E=R(R=0)),E);var ZZ=((R)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(R,{get:(E,Y)=>(typeof require!=="undefined"?require:E)[Y]}):R)(function(R){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+R+'" is not supported')});var $Z=(()=>{var R=null;return async function(E={}){var Y=E,c,u;Y.ready=new Promise((Q,$)=>{c=Q,u=$});var i=Object.assign({},Y),jQ=[],n="./this.program",e=(Q,$)=>{throw $},dQ=typeof window=="object",QQ=!0,UQ=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",l="";function i0(Q){if(Y.locateFile)return Y.locateFile(Q,l);return l+Q}var KQ,ZQ,CQ;if(UQ){const{createRequire:Q}=null;var FQ=Q(null),wQ=FQ("fs"),xQ=FQ("path");if(QQ)l=xQ.dirname(l)+"/";else l=FQ("url").fileURLToPath(new URL("./",null));if(KQ=($,J)=>{return $=HQ($)?new URL($):xQ.normalize($),wQ.readFileSync($,J?void 0:"utf8")},CQ=($)=>{var J=KQ($,!0);if(!J.buffer)J=new Uint8Array(J);return J},ZQ=($,J,K,Z=!0)=>{$=HQ($)?new URL($):xQ.normalize($),wQ.readFile($,Z?void 0:"utf8",(G,X)=>{if(G)K(G);else J(Z?X.buffer:X)})},!Y.thisProgram&&process.argv.length>1)n=process.argv[1].replace(/\\/g,"/");jQ=process.argv.slice(2),e=($,J)=>{throw process.exitCode=$,J}}else if(dQ||QQ){if(QQ)l=self.location.href;else if(typeof document!="undefined"&&document.currentScript)l=document.currentScript.src;if(R)l=R;if(l.startsWith("blob:"))l="";else l=l.substr(0,l.replace(/[?#].*/,"").lastIndexOf("/")+1);{if(KQ=(Q)=>{var $=new XMLHttpRequest;return $.open("GET",Q,!1),$.send(null),$.responseText},QQ)CQ=(Q)=>{var $=new XMLHttpRequest;return $.open("GET",Q,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)};ZQ=(Q,$,J)=>{var K=new XMLHttpRequest;K.open("GET",Q,!0),K.responseType="arraybuffer",K.onload=()=>{if(K.status==200||K.status==0&&K.response){$(K.response);return}J()},K.onerror=J,K.send(null)}}}var vQ=Y.print||console.log.bind(console),s=Y.printErr||console.error.bind(console);if(Object.assign(Y,i),i=null,Y.arguments)jQ=Y.arguments;if(Y.thisProgram)n=Y.thisProgram;if(Y.quit)e=Y.quit;var VQ;if(Y.wasmBinary)VQ=Y.wasmBinary;var RQ,TQ=!1,GQ,f,m,$Q,s0,O,b,o0,n0;function iQ(){var Q=RQ.buffer;Y.HEAP8=f=new Int8Array(Q),Y.HEAP16=$Q=new Int16Array(Q),Y.HEAPU8=m=new Uint8Array(Q),Y.HEAPU16=s0=new Uint16Array(Q),Y.HEAP32=O=new Int32Array(Q),Y.HEAPU32=b=new Uint32Array(Q),Y.HEAPF32=o0=new Float32Array(Q),Y.HEAPF64=n0=new Float64Array(Q)}var sQ=[],oQ=[],nQ=[],r0=!1;function t0(){if(Y.preRun){if(typeof Y.preRun=="function")Y.preRun=[Y.preRun];while(Y.preRun.length)Q$(Y.preRun.shift())}gQ(sQ)}function a0(){if(r0=!0,!Y.noFSInit&&!V.init.initialized)V.init();V.ignorePermissions=!1,o.init(),gQ(oQ)}function e0(){if(Y.postRun){if(typeof Y.postRun=="function")Y.postRun=[Y.postRun];while(Y.postRun.length)J$(Y.postRun.shift())}gQ(nQ)}function Q$(Q){sQ.unshift(Q)}function $$(Q){oQ.unshift(Q)}function J$(Q){nQ.unshift(Q)}var r=0,yQ=null,XQ=null;function rQ(Q){return Q}function bQ(Q){r++,Y.monitorRunDependencies?.(r)}function IQ(Q){if(r--,Y.monitorRunDependencies?.(r),r==0){if(yQ!==null)clearInterval(yQ),yQ=null;if(XQ){var $=XQ;XQ=null,$()}}}function qQ(Q){Y.onAbort?.(Q),Q="Aborted("+Q+")",s(Q),TQ=!0,GQ=1,Q+=". Build with -sASSERTIONS for more info.";var $=new WebAssembly.RuntimeError(Q);throw u($),$}var K$="data:application/octet-stream;base64,",tQ=(Q)=>Q.startsWith(K$),HQ=(Q)=>Q.startsWith("file://"),t;if(Y.locateFile){if(t="cmaj-compiler-wasm.wasm",!tQ(t))t=i0(t)}else t="./cmaj-compiler-wasm.wasm";function aQ(Q){if(Q==t&&VQ)return new Uint8Array(VQ);if(CQ)return CQ(Q);throw"both async and sync fetching of the wasm failed"}function Z$(Q){if(!VQ&&(dQ||QQ)){if(typeof fetch=="function"&&!HQ(Q))return fetch(Q,{credentials:"same-origin"}).then(($)=>{if(!$.ok)throw`failed to load wasm binary file at '${Q}'`;return $.arrayBuffer()}).catch(()=>aQ(Q));else if(ZQ)return new Promise(($,J)=>{ZQ(Q,(K)=>$(new Uint8Array(K)),J)})}return Promise.resolve().then(()=>aQ(Q))}function eQ(Q,$,J){return Z$(Q).then((K)=>WebAssembly.instantiate(K,$)).then(J,(K)=>{s(`failed to asynchronously prepare wasm: ${K}`),qQ(K)})}function V$(Q,$,J,K){if(!Q&&typeof WebAssembly.instantiateStreaming=="function"&&!tQ($)&&!HQ($)&&!UQ&&typeof fetch=="function")return fetch($,{credentials:"same-origin"}).then((Z)=>{var G=WebAssembly.instantiateStreaming(Z,J);return G.then(K,function(X){return s(`wasm streaming compile failed: ${X}`),s("falling back to ArrayBuffer instantiation"),eQ($,J,K)})});return eQ($,J,K)}function G$(){var Q={a:AJ};function $(K,Z){return H=K.exports,H=aK(H),RQ=H.jb,iQ(),J0=H.ub,$$(H.kb),IQ("wasm-instantiate"),H}bQ("wasm-instantiate");function J(K){$(K.instance)}if(Y.instantiateWasm)try{return Y.instantiateWasm(Q,$)}catch(K){s(`Module.instantiateWasm callback failed with error: ${K}`),u(K)}return V$(VQ,t,Q,J).catch(u),{}}var I,w;function Q0(Q){this.name="ExitStatus",this.message=`Program terminated with exit(${Q})`,this.status=Q}var gQ=(Q)=>{while(Q.length>0)Q.shift()(Y)},$0=Y.noExitRuntime||!0,YQ=(Q,$)=>$+2097152>>>0<4194305-!!Q?(Q>>>0)+$*4294967296:NaN,zQ=[],J0,A=(Q)=>{var $=zQ[Q];if(!$){if(Q>=zQ.length)zQ.length=Q+1;zQ[Q]=$=J0.get(Q)}return $};function X$(Q,$){return Q>>>=0,A(Q)($)}var MQ=[],SQ=0;function q$(Q){Q>>>=0;var $=new WQ(Q);if(!$.get_caught())$.set_caught(!0),SQ--;return $.set_rethrown(!1),MQ.push($),R0($.excPtr),$.get_exception_ptr()}var p=0,Y$=()=>{U(0,0);var Q=MQ.pop();F0(Q.excPtr),p=0};class WQ{constructor(Q){this.excPtr=Q,this.ptr=Q-24}set_type(Q){b[this.ptr+4>>>2>>>0]=Q}get_type(){return b[this.ptr+4>>>2>>>0]}set_destructor(Q){b[this.ptr+8>>>2>>>0]=Q}get_destructor(){return b[this.ptr+8>>>2>>>0]}set_caught(Q){Q=Q?1:0,f[this.ptr+12>>>0]=Q}get_caught(){return f[this.ptr+12>>>0]!=0}set_rethrown(Q){Q=Q?1:0,f[this.ptr+13>>>0]=Q}get_rethrown(){return f[this.ptr+13>>>0]!=0}init(Q,$){this.set_adjusted_ptr(0),this.set_type(Q),this.set_destructor($)}set_adjusted_ptr(Q){b[this.ptr+16>>>2>>>0]=Q}get_adjusted_ptr(){return b[this.ptr+16>>>2>>>0]}get_exception_ptr(){var Q=I0(this.get_type());if(Q)return b[this.excPtr>>>2>>>0];var $=this.get_adjusted_ptr();if($!==0)return $;return this.excPtr}}function M$(Q){if(Q>>>=0,!p)p=Q;throw p}var _Q=(Q)=>{var $=p;if(!$)return DQ(0),0;var J=new WQ($);J.set_adjusted_ptr($);var K=J.get_type();if(!K)return DQ(0),$;for(var Z in Q){var G=Q[Z];if(G===0||G===K)break;var X=J.ptr+16;if(T0(G,K,X))return DQ(G),$}return DQ(K),$};function W$(){return _Q([])}function B$(Q){return Q>>>=0,_Q([Q])}function L$(Q,$,J){return Q>>>=0,$>>>=0,J>>>=0,_Q([Q,$,J])}var K0=()=>{var Q=MQ.pop();if(!Q)qQ("no exception to throw");var $=Q.excPtr;if(!Q.get_rethrown())MQ.push(Q),Q.set_rethrown(!0),Q.set_caught(!1),SQ++;throw p=$,p};function N$(Q){if(Q>>>=0,!Q)return;var $=new WQ(Q);MQ.push($),$.set_rethrown(!0),K0()}function O$(Q,$,J){Q>>>=0,$>>>=0,J>>>=0;var K=new WQ(Q);throw K.init($,J),p=Q,SQ++,p}var D$=()=>SQ,v={isAbs:(Q)=>Q.charAt(0)==="/",splitPath:(Q)=>{var $=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return $.exec(Q).slice(1)},normalizeArray:(Q,$)=>{var J=0;for(var K=Q.length-1;K>=0;K--){var Z=Q[K];if(Z===".")Q.splice(K,1);else if(Z==="..")Q.splice(K,1),J++;else if(J)Q.splice(K,1),J--}if($)for(;J;J--)Q.unshift("..");return Q},normalize:(Q)=>{var $=v.isAbs(Q),J=Q.substr(-1)==="/";if(Q=v.normalizeArray(Q.split("/").filter((K)=>!!K),!$).join("/"),!Q&&!$)Q=".";if(Q&&J)Q+="/";return($?"/":"")+Q},dirname:(Q)=>{var $=v.splitPath(Q),J=$[0],K=$[1];if(!J&&!K)return".";if(K)K=K.substr(0,K.length-1);return J+K},basename:(Q)=>{if(Q==="/")return"/";Q=v.normalize(Q),Q=Q.replace(/\/$/,"");var $=Q.lastIndexOf("/");if($===-1)return Q;return Q.substr($+1)},join:(...Q)=>v.normalize(Q.join("/")),join2:(Q,$)=>v.normalize(Q+"/"+$)},j$=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return(K)=>crypto.getRandomValues(K);else if(UQ)try{var Q=FQ("crypto"),$=Q.randomFillSync;if($)return(K)=>Q.randomFillSync(K);var J=Q.randomBytes;return(K)=>(K.set(J(K.byteLength)),K)}catch(K){}qQ("initRandomDevice")},cQ=(Q)=>(cQ=j$())(Q),d={resolve:(...Q)=>{var $="",J=!1;for(var K=Q.length-1;K>=-1&&!J;K--){var Z=K>=0?Q[K]:V.cwd();if(typeof Z!="string")throw new TypeError("Arguments to path.resolve must be strings");else if(!Z)return"";$=Z+"/"+$,J=v.isAbs(Z)}return $=v.normalizeArray($.split("/").filter((G)=>!!G),!J).join("/"),(J?"/":"")+$||"."},relative:(Q,$)=>{Q=d.resolve(Q).substr(1),$=d.resolve($).substr(1);function J(W){var N=0;for(;N<W.length;N++)if(W[N]!=="")break;var T=W.length-1;for(;T>=0;T--)if(W[T]!=="")break;if(N>T)return[];return W.slice(N,T-N+1)}var K=J(Q.split("/")),Z=J($.split("/")),G=Math.min(K.length,Z.length),X=G;for(var q=0;q<G;q++)if(K[q]!==Z[q]){X=q;break}var M=[];for(var q=X;q<K.length;q++)M.push("..");return M=M.concat(Z.slice(X)),M.join("/")}},Z0=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0,JQ=(Q,$,J)=>{$>>>=0;var K=$+J,Z=$;while(Q[Z]&&!(Z>=K))++Z;if(Z-$>16&&Q.buffer&&Z0)return Z0.decode(Q.subarray($,Z));var G="";while($<Z){var X=Q[$++];if(!(X&128)){G+=String.fromCharCode(X);continue}var q=Q[$++]&63;if((X&224)==192){G+=String.fromCharCode((X&31)<<6|q);continue}var M=Q[$++]&63;if((X&240)==224)X=(X&15)<<12|q<<6|M;else X=(X&7)<<18|q<<12|M<<6|Q[$++]&63;if(X<65536)G+=String.fromCharCode(X);else{var W=X-65536;G+=String.fromCharCode(55296|W>>10,56320|W&1023)}}return G},hQ=[],EQ=(Q)=>{var $=0;for(var J=0;J<Q.length;++J){var K=Q.charCodeAt(J);if(K<=127)$++;else if(K<=2047)$+=2;else if(K>=55296&&K<=57343)$+=4,++J;else $+=3}return $},fQ=(Q,$,J,K)=>{if(J>>>=0,!(K>0))return 0;var Z=J,G=J+K-1;for(var X=0;X<Q.length;++X){var q=Q.charCodeAt(X);if(q>=55296&&q<=57343){var M=Q.charCodeAt(++X);q=65536+((q&1023)<<10)|M&1023}if(q<=127){if(J>=G)break;$[J++>>>0]=q}else if(q<=2047){if(J+1>=G)break;$[J++>>>0]=192|q>>6,$[J++>>>0]=128|q&63}else if(q<=65535){if(J+2>=G)break;$[J++>>>0]=224|q>>12,$[J++>>>0]=128|q>>6&63,$[J++>>>0]=128|q&63}else{if(J+3>=G)break;$[J++>>>0]=240|q>>18,$[J++>>>0]=128|q>>12&63,$[J++>>>0]=128|q>>6&63,$[J++>>>0]=128|q&63}}return $[J>>>0]=0,J-Z};function BQ(Q,$,J){var K=J>0?J:EQ(Q)+1,Z=new Array(K),G=fQ(Q,Z,0,Z.length);if($)Z.length=G;return Z}var U$=()=>{if(!hQ.length){var Q=null;if(UQ){var $=256,J=Buffer.alloc($),K=0,Z=process.stdin.fd;try{K=wQ.readSync(Z,J)}catch(G){if(G.toString().includes("EOF"))K=0;else throw G}if(K>0)Q=J.slice(0,K).toString("utf-8");else Q=null}else if(typeof window!="undefined"&&typeof window.prompt=="function"){if(Q=window.prompt("Input: "),Q!==null)Q+="\n"}else if(typeof readline=="function"){if(Q=readline(),Q!==null)Q+="\n"}if(!Q)return null;hQ=BQ(Q,!0)}return hQ.shift()},o={ttys:[],init(){},shutdown(){},register(Q,$){o.ttys[Q]={input:[],output:[],ops:$},V.registerDevice(Q,o.stream_ops)},stream_ops:{open(Q){var $=o.ttys[Q.node.rdev];if(!$)throw new V.ErrnoError(43);Q.tty=$,Q.seekable=!1},close(Q){Q.tty.ops.fsync(Q.tty)},fsync(Q){Q.tty.ops.fsync(Q.tty)},read(Q,$,J,K,Z){if(!Q.tty||!Q.tty.ops.get_char)throw new V.ErrnoError(60);var G=0;for(var X=0;X<K;X++){var q;try{q=Q.tty.ops.get_char(Q.tty)}catch(M){throw new V.ErrnoError(29)}if(q===void 0&&G===0)throw new V.ErrnoError(6);if(q===null||q===void 0)break;G++,$[J+X]=q}if(G)Q.node.timestamp=Date.now();return G},write(Q,$,J,K,Z){if(!Q.tty||!Q.tty.ops.put_char)throw new V.ErrnoError(60);try{for(var G=0;G<K;G++)Q.tty.ops.put_char(Q.tty,$[J+G])}catch(X){throw new V.ErrnoError(29)}if(K)Q.node.timestamp=Date.now();return G}},default_tty_ops:{get_char(Q){return U$()},put_char(Q,$){if($===null||$===10)vQ(JQ(Q.output,0)),Q.output=[];else if($!=0)Q.output.push($)},fsync(Q){if(Q.output&&Q.output.length>0)vQ(JQ(Q.output,0)),Q.output=[]},ioctl_tcgets(Q){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(Q,$,J){return 0},ioctl_tiocgwinsz(Q){return[24,80]}},default_tty1_ops:{put_char(Q,$){if($===null||$===10)s(JQ(Q.output,0)),Q.output=[];else if($!=0)Q.output.push($)},fsync(Q){if(Q.output&&Q.output.length>0)s(JQ(Q.output,0)),Q.output=[]}}},C$=(Q,$)=>{return m.fill(0,Q,Q+$),Q},F$=(Q,$)=>Math.ceil(Q/$)*$,V0=(Q)=>{Q=F$(Q,65536);var $=j0(65536,Q);if(!$)return 0;return C$($,Q)},P={ops_table:null,mount(Q){return P.createNode(null,"/",16895,0)},createNode(Q,$,J,K){if(V.isBlkdev(J)||V.isFIFO(J))throw new V.ErrnoError(63);P.ops_table||={dir:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr,lookup:P.node_ops.lookup,mknod:P.node_ops.mknod,rename:P.node_ops.rename,unlink:P.node_ops.unlink,rmdir:P.node_ops.rmdir,readdir:P.node_ops.readdir,symlink:P.node_ops.symlink},stream:{llseek:P.stream_ops.llseek}},file:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr},stream:{llseek:P.stream_ops.llseek,read:P.stream_ops.read,write:P.stream_ops.write,allocate:P.stream_ops.allocate,mmap:P.stream_ops.mmap,msync:P.stream_ops.msync}},link:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr,readlink:P.node_ops.readlink},stream:{}},chrdev:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr},stream:V.chrdev_stream_ops}};var Z=V.createNode(Q,$,J,K);if(V.isDir(Z.mode))Z.node_ops=P.ops_table.dir.node,Z.stream_ops=P.ops_table.dir.stream,Z.contents={};else if(V.isFile(Z.mode))Z.node_ops=P.ops_table.file.node,Z.stream_ops=P.ops_table.file.stream,Z.usedBytes=0,Z.contents=null;else if(V.isLink(Z.mode))Z.node_ops=P.ops_table.link.node,Z.stream_ops=P.ops_table.link.stream;else if(V.isChrdev(Z.mode))Z.node_ops=P.ops_table.chrdev.node,Z.stream_ops=P.ops_table.chrdev.stream;if(Z.timestamp=Date.now(),Q)Q.contents[$]=Z,Q.timestamp=Z.timestamp;return Z},getFileDataAsTypedArray(Q){if(!Q.contents)return new Uint8Array(0);if(Q.contents.subarray)return Q.contents.subarray(0,Q.usedBytes);return new Uint8Array(Q.contents)},expandFileStorage(Q,$){var J=Q.contents?Q.contents.length:0;if(J>=$)return;var K=1048576;if($=Math.max($,J*(J<K?2:1.125)>>>0),J!=0)$=Math.max($,256);var Z=Q.contents;if(Q.contents=new Uint8Array($),Q.usedBytes>0)Q.contents.set(Z.subarray(0,Q.usedBytes),0)},resizeFileStorage(Q,$){if(Q.usedBytes==$)return;if($==0)Q.contents=null,Q.usedBytes=0;else{var J=Q.contents;if(Q.contents=new Uint8Array($),J)Q.contents.set(J.subarray(0,Math.min($,Q.usedBytes)));Q.usedBytes=$}},node_ops:{getattr(Q){var $={};if($.dev=V.isChrdev(Q.mode)?Q.id:1,$.ino=Q.id,$.mode=Q.mode,$.nlink=1,$.uid=0,$.gid=0,$.rdev=Q.rdev,V.isDir(Q.mode))$.size=4096;else if(V.isFile(Q.mode))$.size=Q.usedBytes;else if(V.isLink(Q.mode))$.size=Q.link.length;else $.size=0;return $.atime=new Date(Q.timestamp),$.mtime=new Date(Q.timestamp),$.ctime=new Date(Q.timestamp),$.blksize=4096,$.blocks=Math.ceil($.size/$.blksize),$},setattr(Q,$){if($.mode!==void 0)Q.mode=$.mode;if($.timestamp!==void 0)Q.timestamp=$.timestamp;if($.size!==void 0)P.resizeFileStorage(Q,$.size)},lookup(Q,$){throw V.genericErrors[44]},mknod(Q,$,J,K){return P.createNode(Q,$,J,K)},rename(Q,$,J){if(V.isDir(Q.mode)){var K;try{K=V.lookupNode($,J)}catch(G){}if(K)for(var Z in K.contents)throw new V.ErrnoError(55)}delete Q.parent.contents[Q.name],Q.parent.timestamp=Date.now(),Q.name=J,$.contents[J]=Q,$.timestamp=Q.parent.timestamp,Q.parent=$},unlink(Q,$){delete Q.contents[$],Q.timestamp=Date.now()},rmdir(Q,$){var J=V.lookupNode(Q,$);for(var K in J.contents)throw new V.ErrnoError(55);delete Q.contents[$],Q.timestamp=Date.now()},readdir(Q){var $=[".",".."];for(var J of Object.keys(Q.contents))$.push(J);return $},symlink(Q,$,J){var K=P.createNode(Q,$,41471,0);return K.link=J,K},readlink(Q){if(!V.isLink(Q.mode))throw new V.ErrnoError(28);return Q.link}},stream_ops:{read(Q,$,J,K,Z){var G=Q.node.contents;if(Z>=Q.node.usedBytes)return 0;var X=Math.min(Q.node.usedBytes-Z,K);if(X>8&&G.subarray)$.set(G.subarray(Z,Z+X),J);else for(var q=0;q<X;q++)$[J+q]=G[Z+q];return X},write(Q,$,J,K,Z,G){if($.buffer===f.buffer)G=!1;if(!K)return 0;var X=Q.node;if(X.timestamp=Date.now(),$.subarray&&(!X.contents||X.contents.subarray)){if(G)return X.contents=$.subarray(J,J+K),X.usedBytes=K,K;else if(X.usedBytes===0&&Z===0)return X.contents=$.slice(J,J+K),X.usedBytes=K,K;else if(Z+K<=X.usedBytes)return X.contents.set($.subarray(J,J+K),Z),K}if(P.expandFileStorage(X,Z+K),X.contents.subarray&&$.subarray)X.contents.set($.subarray(J,J+K),Z);else for(var q=0;q<K;q++)X.contents[Z+q]=$[J+q];return X.usedBytes=Math.max(X.usedBytes,Z+K),K},llseek(Q,$,J){var K=$;if(J===1)K+=Q.position;else if(J===2){if(V.isFile(Q.node.mode))K+=Q.node.usedBytes}if(K<0)throw new V.ErrnoError(28);return K},allocate(Q,$,J){P.expandFileStorage(Q.node,$+J),Q.node.usedBytes=Math.max(Q.node.usedBytes,$+J)},mmap(Q,$,J,K,Z){if(!V.isFile(Q.node.mode))throw new V.ErrnoError(43);var G,X,q=Q.node.contents;if(!(Z&2)&&q.buffer===f.buffer)X=!1,G=q.byteOffset;else{if(J>0||J+$<q.length)if(q.subarray)q=q.subarray(J,J+$);else q=Array.prototype.slice.call(q,J,J+$);if(X=!0,G=V0($),!G)throw new V.ErrnoError(48);f.set(q,G>>>0)}return{ptr:G,allocated:X}},msync(Q,$,J,K,Z){return P.stream_ops.write(Q,$,0,K,J,!1),0}}},R$=(Q,$,J,K)=>{var Z=!K?rQ(`al ${Q}`):"";if(ZQ(Q,(G)=>{if($(new Uint8Array(G)),Z)IQ(Z)},(G)=>{if(J)J();else throw`Loading data file "${Q}" failed.`}),Z)bQ(Z)},T$=(Q,$,J,K,Z,G)=>{V.createDataFile(Q,$,J,K,Z,G)},I$=Y.preloadPlugins||[],H$=(Q,$,J,K)=>{if(typeof Browser!="undefined")Browser.init();var Z=!1;return I$.forEach((G)=>{if(Z)return;if(G.canHandle($))G.handle(Q,$,J,K),Z=!0}),Z},z$=(Q,$,J,K,Z,G,X,q,M,W)=>{var N=$?d.resolve(v.join2(Q,$)):Q,T=rQ(`cp ${N}`);function L(D){function z(_){if(W?.(),!q)T$(Q,$,_,K,Z,M);G?.(),IQ(T)}if(H$(D,N,z,()=>{X?.(),IQ(T)}))return;z(D)}if(bQ(T),typeof J=="string")R$(J,L,X);else L(J)},S$=(Q)=>{var $={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},J=$[Q];if(typeof J=="undefined")throw new Error(`Unknown file open mode: ${Q}`);return J},uQ=(Q,$)=>{var J=0;if(Q)J|=365;if($)J|=146;return J},V={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(Q){this.name="ErrnoError",this.errno=Q}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(Q){this.node=Q}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(Q){this.shared.flags=Q}get position(){return this.shared.position}set position(Q){this.shared.position=Q}},FSNode:class{constructor(Q,$,J,K){if(!Q)Q=this;this.parent=Q,this.mount=Q.mount,this.mounted=null,this.id=V.nextInode++,this.name=$,this.mode=J,this.node_ops={},this.stream_ops={},this.rdev=K,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(Q){Q?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(Q){Q?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return V.isDir(this.mode)}get isDevice(){return V.isChrdev(this.mode)}},lookupPath(Q,$={}){if(Q=d.resolve(Q),!Q)return{path:"",node:null};var J={follow_mount:!0,recurse_count:0};if($=Object.assign(J,$),$.recurse_count>8)throw new V.ErrnoError(32);var K=Q.split("/").filter((T)=>!!T),Z=V.root,G="/";for(var X=0;X<K.length;X++){var q=X===K.length-1;if(q&&$.parent)break;if(Z=V.lookupNode(Z,K[X]),G=v.join2(G,K[X]),V.isMountpoint(Z)){if(!q||q&&$.follow_mount)Z=Z.mounted.root}if(!q||$.follow){var M=0;while(V.isLink(Z.mode)){var W=V.readlink(G);G=d.resolve(v.dirname(G),W);var N=V.lookupPath(G,{recurse_count:$.recurse_count+1});if(Z=N.node,M++>40)throw new V.ErrnoError(32)}}}return{path:G,node:Z}},getPath(Q){var $;while(!0){if(V.isRoot(Q)){var J=Q.mount.mountpoint;if(!$)return J;return J[J.length-1]!=="/"?`${J}/${$}`:J+$}$=$?`${Q.name}/${$}`:Q.name,Q=Q.parent}},hashName(Q,$){var J=0;for(var K=0;K<$.length;K++)J=(J<<5)-J+$.charCodeAt(K)|0;return(Q+J>>>0)%V.nameTable.length},hashAddNode(Q){var $=V.hashName(Q.parent.id,Q.name);Q.name_next=V.nameTable[$],V.nameTable[$]=Q},hashRemoveNode(Q){var $=V.hashName(Q.parent.id,Q.name);if(V.nameTable[$]===Q)V.nameTable[$]=Q.name_next;else{var J=V.nameTable[$];while(J){if(J.name_next===Q){J.name_next=Q.name_next;break}J=J.name_next}}},lookupNode(Q,$){var J=V.mayLookup(Q);if(J)throw new V.ErrnoError(J);var K=V.hashName(Q.id,$);for(var Z=V.nameTable[K];Z;Z=Z.name_next){var G=Z.name;if(Z.parent.id===Q.id&&G===$)return Z}return V.lookup(Q,$)},createNode(Q,$,J,K){var Z=new V.FSNode(Q,$,J,K);return V.hashAddNode(Z),Z},destroyNode(Q){V.hashRemoveNode(Q)},isRoot(Q){return Q===Q.parent},isMountpoint(Q){return!!Q.mounted},isFile(Q){return(Q&61440)===32768},isDir(Q){return(Q&61440)===16384},isLink(Q){return(Q&61440)===40960},isChrdev(Q){return(Q&61440)===8192},isBlkdev(Q){return(Q&61440)===24576},isFIFO(Q){return(Q&61440)===4096},isSocket(Q){return(Q&49152)===49152},flagsToPermissionString(Q){var $=["r","w","rw"][Q&3];if(Q&512)$+="w";return $},nodePermissions(Q,$){if(V.ignorePermissions)return 0;if($.includes("r")&&!(Q.mode&292))return 2;else if($.includes("w")&&!(Q.mode&146))return 2;else if($.includes("x")&&!(Q.mode&73))return 2;return 0},mayLookup(Q){if(!V.isDir(Q.mode))return 54;var $=V.nodePermissions(Q,"x");if($)return $;if(!Q.node_ops.lookup)return 2;return 0},mayCreate(Q,$){try{var J=V.lookupNode(Q,$);return 20}catch(K){}return V.nodePermissions(Q,"wx")},mayDelete(Q,$,J){var K;try{K=V.lookupNode(Q,$)}catch(G){return G.errno}var Z=V.nodePermissions(Q,"wx");if(Z)return Z;if(J){if(!V.isDir(K.mode))return 54;if(V.isRoot(K)||V.getPath(K)===V.cwd())return 10}else if(V.isDir(K.mode))return 31;return 0},mayOpen(Q,$){if(!Q)return 44;if(V.isLink(Q.mode))return 32;else if(V.isDir(Q.mode)){if(V.flagsToPermissionString($)!=="r"||$&512)return 31}return V.nodePermissions(Q,V.flagsToPermissionString($))},MAX_OPEN_FDS:4096,nextfd(){for(var Q=0;Q<=V.MAX_OPEN_FDS;Q++)if(!V.streams[Q])return Q;throw new V.ErrnoError(33)},getStreamChecked(Q){var $=V.getStream(Q);if(!$)throw new V.ErrnoError(8);return $},getStream:(Q)=>V.streams[Q],createStream(Q,$=-1){if(Q=Object.assign(new V.FSStream,Q),$==-1)$=V.nextfd();return Q.fd=$,V.streams[$]=Q,Q},closeStream(Q){V.streams[Q]=null},dupStream(Q,$=-1){var J=V.createStream(Q,$);return J.stream_ops?.dup?.(J),J},chrdev_stream_ops:{open(Q){var $=V.getDevice(Q.node.rdev);Q.stream_ops=$.stream_ops,Q.stream_ops.open?.(Q)},llseek(){throw new V.ErrnoError(70)}},major:(Q)=>Q>>8,minor:(Q)=>Q&255,makedev:(Q,$)=>Q<<8|$,registerDevice(Q,$){V.devices[Q]={stream_ops:$}},getDevice:(Q)=>V.devices[Q],getMounts(Q){var $=[],J=[Q];while(J.length){var K=J.pop();$.push(K),J.push(...K.mounts)}return $},syncfs(Q,$){if(typeof Q=="function")$=Q,Q=!1;if(V.syncFSRequests++,V.syncFSRequests>1)s(`warning: ${V.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var J=V.getMounts(V.root.mount),K=0;function Z(X){return V.syncFSRequests--,$(X)}function G(X){if(X){if(!G.errored)return G.errored=!0,Z(X);return}if(++K>=J.length)Z(null)}J.forEach((X)=>{if(!X.type.syncfs)return G(null);X.type.syncfs(X,Q,G)})},mount(Q,$,J){var K=J==="/",Z=!J,G;if(K&&V.root)throw new V.ErrnoError(10);else if(!K&&!Z){var X=V.lookupPath(J,{follow_mount:!1});if(J=X.path,G=X.node,V.isMountpoint(G))throw new V.ErrnoError(10);if(!V.isDir(G.mode))throw new V.ErrnoError(54)}var q={type:Q,opts:$,mountpoint:J,mounts:[]},M=Q.mount(q);if(M.mount=q,q.root=M,K)V.root=M;else if(G){if(G.mounted=q,G.mount)G.mount.mounts.push(q)}return M},unmount(Q){var $=V.lookupPath(Q,{follow_mount:!1});if(!V.isMountpoint($.node))throw new V.ErrnoError(28);var J=$.node,K=J.mounted,Z=V.getMounts(K);Object.keys(V.nameTable).forEach((X)=>{var q=V.nameTable[X];while(q){var M=q.name_next;if(Z.includes(q.mount))V.destroyNode(q);q=M}}),J.mounted=null;var G=J.mount.mounts.indexOf(K);J.mount.mounts.splice(G,1)},lookup(Q,$){return Q.node_ops.lookup(Q,$)},mknod(Q,$,J){var K=V.lookupPath(Q,{parent:!0}),Z=K.node,G=v.basename(Q);if(!G||G==="."||G==="..")throw new V.ErrnoError(28);var X=V.mayCreate(Z,G);if(X)throw new V.ErrnoError(X);if(!Z.node_ops.mknod)throw new V.ErrnoError(63);return Z.node_ops.mknod(Z,G,$,J)},create(Q,$){return $=$!==void 0?$:438,$&=4095,$|=32768,V.mknod(Q,$,0)},mkdir(Q,$){return $=$!==void 0?$:511,$&=1023,$|=16384,V.mknod(Q,$,0)},mkdirTree(Q,$){var J=Q.split("/"),K="";for(var Z=0;Z<J.length;++Z){if(!J[Z])continue;K+="/"+J[Z];try{V.mkdir(K,$)}catch(G){if(G.errno!=20)throw G}}},mkdev(Q,$,J){if(typeof J=="undefined")J=$,$=438;return $|=8192,V.mknod(Q,$,J)},symlink(Q,$){if(!d.resolve(Q))throw new V.ErrnoError(44);var J=V.lookupPath($,{parent:!0}),K=J.node;if(!K)throw new V.ErrnoError(44);var Z=v.basename($),G=V.mayCreate(K,Z);if(G)throw new V.ErrnoError(G);if(!K.node_ops.symlink)throw new V.ErrnoError(63);return K.node_ops.symlink(K,Z,Q)},rename(Q,$){var J=v.dirname(Q),K=v.dirname($),Z=v.basename(Q),G=v.basename($),X,q,M;if(X=V.lookupPath(Q,{parent:!0}),q=X.node,X=V.lookupPath($,{parent:!0}),M=X.node,!q||!M)throw new V.ErrnoError(44);if(q.mount!==M.mount)throw new V.ErrnoError(75);var W=V.lookupNode(q,Z),N=d.relative(Q,K);if(N.charAt(0)!==".")throw new V.ErrnoError(28);if(N=d.relative($,J),N.charAt(0)!==".")throw new V.ErrnoError(55);var T;try{T=V.lookupNode(M,G)}catch(z){}if(W===T)return;var L=V.isDir(W.mode),D=V.mayDelete(q,Z,L);if(D)throw new V.ErrnoError(D);if(D=T?V.mayDelete(M,G,L):V.mayCreate(M,G),D)throw new V.ErrnoError(D);if(!q.node_ops.rename)throw new V.ErrnoError(63);if(V.isMountpoint(W)||T&&V.isMountpoint(T))throw new V.ErrnoError(10);if(M!==q){if(D=V.nodePermissions(q,"w"),D)throw new V.ErrnoError(D)}V.hashRemoveNode(W);try{q.node_ops.rename(W,M,G)}catch(z){throw z}finally{V.hashAddNode(W)}},rmdir(Q){var $=V.lookupPath(Q,{parent:!0}),J=$.node,K=v.basename(Q),Z=V.lookupNode(J,K),G=V.mayDelete(J,K,!0);if(G)throw new V.ErrnoError(G);if(!J.node_ops.rmdir)throw new V.ErrnoError(63);if(V.isMountpoint(Z))throw new V.ErrnoError(10);J.node_ops.rmdir(J,K),V.destroyNode(Z)},readdir(Q){var $=V.lookupPath(Q,{follow:!0}),J=$.node;if(!J.node_ops.readdir)throw new V.ErrnoError(54);return J.node_ops.readdir(J)},unlink(Q){var $=V.lookupPath(Q,{parent:!0}),J=$.node;if(!J)throw new V.ErrnoError(44);var K=v.basename(Q),Z=V.lookupNode(J,K),G=V.mayDelete(J,K,!1);if(G)throw new V.ErrnoError(G);if(!J.node_ops.unlink)throw new V.ErrnoError(63);if(V.isMountpoint(Z))throw new V.ErrnoError(10);J.node_ops.unlink(J,K),V.destroyNode(Z)},readlink(Q){var $=V.lookupPath(Q),J=$.node;if(!J)throw new V.ErrnoError(44);if(!J.node_ops.readlink)throw new V.ErrnoError(28);return d.resolve(V.getPath(J.parent),J.node_ops.readlink(J))},stat(Q,$){var J=V.lookupPath(Q,{follow:!$}),K=J.node;if(!K)throw new V.ErrnoError(44);if(!K.node_ops.getattr)throw new V.ErrnoError(63);return K.node_ops.getattr(K)},lstat(Q){return V.stat(Q,!0)},chmod(Q,$,J){var K;if(typeof Q=="string"){var Z=V.lookupPath(Q,{follow:!J});K=Z.node}else K=Q;if(!K.node_ops.setattr)throw new V.ErrnoError(63);K.node_ops.setattr(K,{mode:$&4095|K.mode&-4096,timestamp:Date.now()})},lchmod(Q,$){V.chmod(Q,$,!0)},fchmod(Q,$){var J=V.getStreamChecked(Q);V.chmod(J.node,$)},chown(Q,$,J,K){var Z;if(typeof Q=="string"){var G=V.lookupPath(Q,{follow:!K});Z=G.node}else Z=Q;if(!Z.node_ops.setattr)throw new V.ErrnoError(63);Z.node_ops.setattr(Z,{timestamp:Date.now()})},lchown(Q,$,J){V.chown(Q,$,J,!0)},fchown(Q,$,J){var K=V.getStreamChecked(Q);V.chown(K.node,$,J)},truncate(Q,$){if($<0)throw new V.ErrnoError(28);var J;if(typeof Q=="string"){var K=V.lookupPath(Q,{follow:!0});J=K.node}else J=Q;if(!J.node_ops.setattr)throw new V.ErrnoError(63);if(V.isDir(J.mode))throw new V.ErrnoError(31);if(!V.isFile(J.mode))throw new V.ErrnoError(28);var Z=V.nodePermissions(J,"w");if(Z)throw new V.ErrnoError(Z);J.node_ops.setattr(J,{size:$,timestamp:Date.now()})},ftruncate(Q,$){var J=V.getStreamChecked(Q);if((J.flags&2097155)===0)throw new V.ErrnoError(28);V.truncate(J.node,$)},utime(Q,$,J){var K=V.lookupPath(Q,{follow:!0}),Z=K.node;Z.node_ops.setattr(Z,{timestamp:Math.max($,J)})},open(Q,$,J){if(Q==="")throw new V.ErrnoError(44);if($=typeof $=="string"?S$($):$,J=typeof J=="undefined"?438:J,$&64)J=J&4095|32768;else J=0;var K;if(typeof Q=="object")K=Q;else{Q=v.normalize(Q);try{var Z=V.lookupPath(Q,{follow:!($&131072)});K=Z.node}catch(M){}}var G=!1;if($&64)if(K){if($&128)throw new V.ErrnoError(20)}else K=V.mknod(Q,J,0),G=!0;if(!K)throw new V.ErrnoError(44);if(V.isChrdev(K.mode))$&=-513;if($&65536&&!V.isDir(K.mode))throw new V.ErrnoError(54);if(!G){var X=V.mayOpen(K,$);if(X)throw new V.ErrnoError(X)}if($&512&&!G)V.truncate(K,0);$&=-131713;var q=V.createStream({node:K,path:V.getPath(K),flags:$,seekable:!0,position:0,stream_ops:K.stream_ops,ungotten:[],error:!1});if(q.stream_ops.open)q.stream_ops.open(q);if(Y.logReadFiles&&!($&1)){if(!V.readFiles)V.readFiles={};if(!(Q in V.readFiles))V.readFiles[Q]=1}return q},close(Q){if(V.isClosed(Q))throw new V.ErrnoError(8);if(Q.getdents)Q.getdents=null;try{if(Q.stream_ops.close)Q.stream_ops.close(Q)}catch($){throw $}finally{V.closeStream(Q.fd)}Q.fd=null},isClosed(Q){return Q.fd===null},llseek(Q,$,J){if(V.isClosed(Q))throw new V.ErrnoError(8);if(!Q.seekable||!Q.stream_ops.llseek)throw new V.ErrnoError(70);if(J!=0&&J!=1&&J!=2)throw new V.ErrnoError(28);return Q.position=Q.stream_ops.llseek(Q,$,J),Q.ungotten=[],Q.position},read(Q,$,J,K,Z){if(K<0||Z<0)throw new V.ErrnoError(28);if(V.isClosed(Q))throw new V.ErrnoError(8);if((Q.flags&2097155)===1)throw new V.ErrnoError(8);if(V.isDir(Q.node.mode))throw new V.ErrnoError(31);if(!Q.stream_ops.read)throw new V.ErrnoError(28);var G=typeof Z!="undefined";if(!G)Z=Q.position;else if(!Q.seekable)throw new V.ErrnoError(70);var X=Q.stream_ops.read(Q,$,J,K,Z);if(!G)Q.position+=X;return X},write(Q,$,J,K,Z,G){if(K<0||Z<0)throw new V.ErrnoError(28);if(V.isClosed(Q))throw new V.ErrnoError(8);if((Q.flags&2097155)===0)throw new V.ErrnoError(8);if(V.isDir(Q.node.mode))throw new V.ErrnoError(31);if(!Q.stream_ops.write)throw new V.ErrnoError(28);if(Q.seekable&&Q.flags&1024)V.llseek(Q,0,2);var X=typeof Z!="undefined";if(!X)Z=Q.position;else if(!Q.seekable)throw new V.ErrnoError(70);var q=Q.stream_ops.write(Q,$,J,K,Z,G);if(!X)Q.position+=q;return q},allocate(Q,$,J){if(V.isClosed(Q))throw new V.ErrnoError(8);if($<0||J<=0)throw new V.ErrnoError(28);if((Q.flags&2097155)===0)throw new V.ErrnoError(8);if(!V.isFile(Q.node.mode)&&!V.isDir(Q.node.mode))throw new V.ErrnoError(43);if(!Q.stream_ops.allocate)throw new V.ErrnoError(138);Q.stream_ops.allocate(Q,$,J)},mmap(Q,$,J,K,Z){if((K&2)!==0&&(Z&2)===0&&(Q.flags&2097155)!==2)throw new V.ErrnoError(2);if((Q.flags&2097155)===1)throw new V.ErrnoError(2);if(!Q.stream_ops.mmap)throw new V.ErrnoError(43);return Q.stream_ops.mmap(Q,$,J,K,Z)},msync(Q,$,J,K,Z){if(!Q.stream_ops.msync)return 0;return Q.stream_ops.msync(Q,$,J,K,Z)},ioctl(Q,$,J){if(!Q.stream_ops.ioctl)throw new V.ErrnoError(59);return Q.stream_ops.ioctl(Q,$,J)},readFile(Q,$={}){if($.flags=$.flags||0,$.encoding=$.encoding||"binary",$.encoding!=="utf8"&&$.encoding!=="binary")throw new Error(`Invalid encoding type "${$.encoding}"`);var J,K=V.open(Q,$.flags),Z=V.stat(Q),G=Z.size,X=new Uint8Array(G);if(V.read(K,X,0,G,0),$.encoding==="utf8")J=JQ(X,0);else if($.encoding==="binary")J=X;return V.close(K),J},writeFile(Q,$,J={}){J.flags=J.flags||577;var K=V.open(Q,J.flags,J.mode);if(typeof $=="string"){var Z=new Uint8Array(EQ($)+1),G=fQ($,Z,0,Z.length);V.write(K,Z,0,G,void 0,J.canOwn)}else if(ArrayBuffer.isView($))V.write(K,$,0,$.byteLength,void 0,J.canOwn);else throw new Error("Unsupported data type");V.close(K)},cwd:()=>V.currentPath,chdir(Q){var $=V.lookupPath(Q,{follow:!0});if($.node===null)throw new V.ErrnoError(44);if(!V.isDir($.node.mode))throw new V.ErrnoError(54);var J=V.nodePermissions($.node,"x");if(J)throw new V.ErrnoError(J);V.currentPath=$.path},createDefaultDirectories(){V.mkdir("/tmp"),V.mkdir("/home"),V.mkdir("/home/web_user")},createDefaultDevices(){V.mkdir("/dev"),V.registerDevice(V.makedev(1,3),{read:()=>0,write:(K,Z,G,X,q)=>X}),V.mkdev("/dev/null",V.makedev(1,3)),o.register(V.makedev(5,0),o.default_tty_ops),o.register(V.makedev(6,0),o.default_tty1_ops),V.mkdev("/dev/tty",V.makedev(5,0)),V.mkdev("/dev/tty1",V.makedev(6,0));var Q=new Uint8Array(1024),$=0,J=()=>{if($===0)$=cQ(Q).byteLength;return Q[--$]};V.createDevice("/dev","random",J),V.createDevice("/dev","urandom",J),V.mkdir("/dev/shm"),V.mkdir("/dev/shm/tmp")},createSpecialDirectories(){V.mkdir("/proc");var Q=V.mkdir("/proc/self");V.mkdir("/proc/self/fd"),V.mount({mount(){var $=V.createNode(Q,"fd",16895,73);return $.node_ops={lookup(J,K){var Z=+K,G=V.getStreamChecked(Z),X={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>G.path}};return X.parent=X,X}},$}},{},"/proc/self/fd")},createStandardStreams(){if(Y.stdin)V.createDevice("/dev","stdin",Y.stdin);else V.symlink("/dev/tty","/dev/stdin");if(Y.stdout)V.createDevice("/dev","stdout",null,Y.stdout);else V.symlink("/dev/tty","/dev/stdout");if(Y.stderr)V.createDevice("/dev","stderr",null,Y.stderr);else V.symlink("/dev/tty1","/dev/stderr");var Q=V.open("/dev/stdin",0),$=V.open("/dev/stdout",1),J=V.open("/dev/stderr",1)},staticInit(){[44].forEach((Q)=>{V.genericErrors[Q]=new V.ErrnoError(Q),V.genericErrors[Q].stack="<generic error, no stack>"}),V.nameTable=new Array(4096),V.mount(P,{},"/"),V.createDefaultDirectories(),V.createDefaultDevices(),V.createSpecialDirectories(),V.filesystems={MEMFS:P}},init(Q,$,J){V.init.initialized=!0,Y.stdin=Q||Y.stdin,Y.stdout=$||Y.stdout,Y.stderr=J||Y.stderr,V.createStandardStreams()},quit(){V.init.initialized=!1;for(var Q=0;Q<V.streams.length;Q++){var $=V.streams[Q];if(!$)continue;V.close($)}},findObject(Q,$){var J=V.analyzePath(Q,$);if(!J.exists)return null;return J.object},analyzePath(Q,$){try{var J=V.lookupPath(Q,{follow:!$});Q=J.path}catch(Z){}var K={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var J=V.lookupPath(Q,{parent:!0});K.parentExists=!0,K.parentPath=J.path,K.parentObject=J.node,K.name=v.basename(Q),J=V.lookupPath(Q,{follow:!$}),K.exists=!0,K.path=J.path,K.object=J.node,K.name=J.node.name,K.isRoot=J.path==="/"}catch(Z){K.error=Z.errno}return K},createPath(Q,$,J,K){Q=typeof Q=="string"?Q:V.getPath(Q);var Z=$.split("/").reverse();while(Z.length){var G=Z.pop();if(!G)continue;var X=v.join2(Q,G);try{V.mkdir(X)}catch(q){}Q=X}return X},createFile(Q,$,J,K,Z){var G=v.join2(typeof Q=="string"?Q:V.getPath(Q),$),X=uQ(K,Z);return V.create(G,X)},createDataFile(Q,$,J,K,Z,G){var X=$;if(Q)Q=typeof Q=="string"?Q:V.getPath(Q),X=$?v.join2(Q,$):Q;var q=uQ(K,Z),M=V.create(X,q);if(J){if(typeof J=="string"){var W=new Array(J.length);for(var N=0,T=J.length;N<T;++N)W[N]=J.charCodeAt(N);J=W}V.chmod(M,q|146);var L=V.open(M,577);V.write(L,J,0,J.length,0,G),V.close(L),V.chmod(M,q)}},createDevice(Q,$,J,K){var Z=v.join2(typeof Q=="string"?Q:V.getPath(Q),$),G=uQ(!!J,!!K);if(!V.createDevice.major)V.createDevice.major=64;var X=V.makedev(V.createDevice.major++,0);return V.registerDevice(X,{open(q){q.seekable=!1},close(q){if(K?.buffer?.length)K(10)},read(q,M,W,N,T){var L=0;for(var D=0;D<N;D++){var z;try{z=J()}catch(_){throw new V.ErrnoError(29)}if(z===void 0&&L===0)throw new V.ErrnoError(6);if(z===null||z===void 0)break;L++,M[W+D]=z}if(L)q.node.timestamp=Date.now();return L},write(q,M,W,N,T){for(var L=0;L<N;L++)try{K(M[W+L])}catch(D){throw new V.ErrnoError(29)}if(N)q.node.timestamp=Date.now();return L}}),V.mkdev(Z,G,X)},forceLoadFile(Q){if(Q.isDevice||Q.isFolder||Q.link||Q.contents)return!0;if(typeof XMLHttpRequest!="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");else if(KQ)try{Q.contents=BQ(KQ(Q.url),!0),Q.usedBytes=Q.contents.length}catch($){throw new V.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(Q,$,J,K,Z){class G{constructor(){this.lengthKnown=!1,this.chunks=[]}get(L){if(L>this.length-1||L<0)return;var D=L%this.chunkSize,z=L/this.chunkSize|0;return this.getter(z)[D]}setDataGetter(L){this.getter=L}cacheLength(){var L=new XMLHttpRequest;if(L.open("HEAD",J,!1),L.send(null),!(L.status>=200&&L.status<300||L.status===304))throw new Error("Couldn't load "+J+". Status: "+L.status);var D=Number(L.getResponseHeader("Content-length")),z,_=(z=L.getResponseHeader("Accept-Ranges"))&&z==="bytes",y=(z=L.getResponseHeader("Content-Encoding"))&&z==="gzip",k=1048576;if(!_)k=D;var B=(x,g)=>{if(x>g)throw new Error("invalid range ("+x+", "+g+") or no bytes requested!");if(g>D-1)throw new Error("only "+D+" bytes available! programmer error!");var h=new XMLHttpRequest;if(h.open("GET",J,!1),D!==k)h.setRequestHeader("Range","bytes="+x+"-"+g);if(h.responseType="arraybuffer",h.overrideMimeType)h.overrideMimeType("text/plain; charset=x-user-defined");if(h.send(null),!(h.status>=200&&h.status<300||h.status===304))throw new Error("Couldn't load "+J+". Status: "+h.status);if(h.response!==void 0)return new Uint8Array(h.response||[]);return BQ(h.responseText||"",!0)},j=this;if(j.setDataGetter((x)=>{var g=x*k,h=(x+1)*k-1;if(h=Math.min(h,D-1),typeof j.chunks[x]=="undefined")j.chunks[x]=B(g,h);if(typeof j.chunks[x]=="undefined")throw new Error("doXHR failed!");return j.chunks[x]}),y||!D)k=D=1,D=this.getter(0).length,k=D,vQ("LazyFiles on gzip forces download of the whole file when length is accessed");this._length=D,this._chunkSize=k,this.lengthKnown=!0}get length(){if(!this.lengthKnown)this.cacheLength();return this._length}get chunkSize(){if(!this.lengthKnown)this.cacheLength();return this._chunkSize}}if(typeof XMLHttpRequest!="undefined"){if(!QQ)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var X=new G,q={isDevice:!1,contents:X}}else var q={isDevice:!1,url:J};var M=V.createFile(Q,$,q,K,Z);if(q.contents)M.contents=q.contents;else if(q.url)M.contents=null,M.url=q.url;Object.defineProperties(M,{usedBytes:{get:function(){return this.contents.length}}});var W={},N=Object.keys(M.stream_ops);N.forEach((L)=>{var D=M.stream_ops[L];W[L]=(...z)=>{return V.forceLoadFile(M),D(...z)}});function T(L,D,z,_,y){var k=L.node.contents;if(y>=k.length)return 0;var B=Math.min(k.length-y,_);if(k.slice)for(var j=0;j<B;j++)D[z+j]=k[y+j];else for(var j=0;j<B;j++)D[z+j]=k.get(y+j);return B}return W.read=(L,D,z,_,y)=>{return V.forceLoadFile(M),T(L,D,z,_,y)},W.mmap=(L,D,z,_,y)=>{V.forceLoadFile(M);var k=V0(D);if(!k)throw new V.ErrnoError(48);return T(L,f,k,D,z),{ptr:k,allocated:!0}},M.stream_ops=W,M}},AQ=(Q,$)=>{return Q>>>=0,Q?JQ(m,Q,$):""},S={DEFAULT_POLLMASK:5,calculateAt(Q,$,J){if(v.isAbs($))return $;var K;if(Q===-100)K=V.cwd();else{var Z=S.getStreamFromFD(Q);K=Z.path}if($.length==0){if(!J)throw new V.ErrnoError(44);return K}return v.join2(K,$)},doStat(Q,$,J){var K=Q($);O[J>>>2>>>0]=K.dev,O[J+4>>>2>>>0]=K.mode,b[J+8>>>2>>>0]=K.nlink,O[J+12>>>2>>>0]=K.uid,O[J+16>>>2>>>0]=K.gid,O[J+20>>>2>>>0]=K.rdev,w=[K.size>>>0,(I=K.size,+Math.abs(I)>=1?I>0?+Math.floor(I/4294967296)>>>0:~~+Math.ceil((I-+(~~I>>>0))/4294967296)>>>0:0)],O[J+24>>>2>>>0]=w[0],O[J+28>>>2>>>0]=w[1],O[J+32>>>2>>>0]=4096,O[J+36>>>2>>>0]=K.blocks;var Z=K.atime.getTime(),G=K.mtime.getTime(),X=K.ctime.getTime();return w=[Math.floor(Z/1000)>>>0,(I=Math.floor(Z/1000),+Math.abs(I)>=1?I>0?+Math.floor(I/4294967296)>>>0:~~+Math.ceil((I-+(~~I>>>0))/4294967296)>>>0:0)],O[J+40>>>2>>>0]=w[0],O[J+44>>>2>>>0]=w[1],b[J+48>>>2>>>0]=Z%1000*1000,w=[Math.floor(G/1000)>>>0,(I=Math.floor(G/1000),+Math.abs(I)>=1?I>0?+Math.floor(I/4294967296)>>>0:~~+Math.ceil((I-+(~~I>>>0))/4294967296)>>>0:0)],O[J+56>>>2>>>0]=w[0],O[J+60>>>2>>>0]=w[1],b[J+64>>>2>>>0]=G%1000*1000,w=[Math.floor(X/1000)>>>0,(I=Math.floor(X/1000),+Math.abs(I)>=1?I>0?+Math.floor(I/4294967296)>>>0:~~+Math.ceil((I-+(~~I>>>0))/4294967296)>>>0:0)],O[J+72>>>2>>>0]=w[0],O[J+76>>>2>>>0]=w[1],b[J+80>>>2>>>0]=X%1000*1000,w=[K.ino>>>0,(I=K.ino,+Math.abs(I)>=1?I>0?+Math.floor(I/4294967296)>>>0:~~+Math.ceil((I-+(~~I>>>0))/4294967296)>>>0:0)],O[J+88>>>2>>>0]=w[0],O[J+92>>>2>>>0]=w[1],0},doMsync(Q,$,J,K,Z){if(!V.isFile($.node.mode))throw new V.ErrnoError(43);if(K&2)return 0;var G=m.slice(Q,Q+J);V.msync($,G,Z,J,K)},varargs:void 0,get(){var Q=O[+S.varargs>>>2>>>0];return S.varargs+=4,Q},getp(){return S.get()},getStr(Q){var $=AQ(Q);return $},getStreamFromFD(Q){var $=V.getStreamChecked(Q);return $}};function E$(Q){Q>>>=0;try{return Q=S.getStr(Q),V.chdir(Q),0}catch($){if(typeof V=="undefined"||$.name!=="ErrnoError")throw $;return-$.errno}}function A$(Q,$,J,K){$>>>=0;try{if($=S.getStr($),$=S.calculateAt(Q,$),J&-8)return-28;var Z=V.lookupPath($,{follow:!0}),G=Z.node;if(!G)return-44;var X="";if(J&4)X+="r";if(J&2)X+="w";if(J&1)X+="x";if(X&&V.nodePermissions(G,X))return-2;return 0}catch(q){if(typeof V=="undefined"||q.name!=="ErrnoError")throw q;return-q.errno}}function P$(Q,$,J){J>>>=0,S.varargs=J;try{var K=S.getStreamFromFD(Q);switch($){case 0:{var Z=S.get();if(Z<0)return-28;while(V.streams[Z])Z++;var G=V.dupStream(K,Z);return G.fd}case 1:case 2:return 0;case 3:return K.flags;case 4:{var Z=S.get();return K.flags|=Z,0}case 12:{var Z=S.getp(),X=0;return $Q[Z+X>>>1>>>0]=2,0}case 13:case 14:return 0}return-28}catch(q){if(typeof V=="undefined"||q.name!=="ErrnoError")throw q;return-q.errno}}function k$(Q,$){$>>>=0;try{var J=S.getStreamFromFD(Q);return S.doStat(V.stat,J.path,$)}catch(K){if(typeof V=="undefined"||K.name!=="ErrnoError")throw K;return-K.errno}}var a=(Q,$,J)=>fQ(Q,m,$,J);function w$(Q,$){Q>>>=0,$>>>=0;try{if($===0)return-28;var J=V.cwd(),K=EQ(J)+1;if($<K)return-68;return a(J,Q,$),K}catch(Z){if(typeof V=="undefined"||Z.name!=="ErrnoError")throw Z;return-Z.errno}}function x$(Q,$,J){$>>>=0,J>>>=0;try{var K=S.getStreamFromFD(Q);K.getdents||=V.readdir(K.path);var Z=280,G=0,X=V.llseek(K,0,1),q=Math.floor(X/Z);while(q<K.getdents.length&&G+Z<=J){var M,W,N=K.getdents[q];if(N===".")M=K.node.id,W=4;else if(N===".."){var T=V.lookupPath(K.path,{parent:!0});M=T.node.id,W=4}else{var L=V.lookupNode(K.node,N);M=L.id,W=V.isChrdev(L.mode)?2:V.isDir(L.mode)?4:V.isLink(L.mode)?10:8}w=[M>>>0,(I=M,+Math.abs(I)>=1?I>0?+Math.floor(I/4294967296)>>>0:~~+Math.ceil((I-+(~~I>>>0))/4294967296)>>>0:0)],O[$+G>>>2>>>0]=w[0],O[$+G+4>>>2>>>0]=w[1],w=[(q+1)*Z>>>0,(I=(q+1)*Z,+Math.abs(I)>=1?I>0?+Math.floor(I/4294967296)>>>0:~~+Math.ceil((I-+(~~I>>>0))/4294967296)>>>0:0)],O[$+G+8>>>2>>>0]=w[0],O[$+G+12>>>2>>>0]=w[1],$Q[$+G+16>>>1>>>0]=280,f[$+G+18>>>0]=W,a(N,$+G+19,256),G+=Z,q+=1}return V.llseek(K,q*Z,0),G}catch(D){if(typeof V=="undefined"||D.name!=="ErrnoError")throw D;return-D.errno}}function v$(Q,$,J){J>>>=0,S.varargs=J;try{var K=S.getStreamFromFD(Q);switch($){case 21509:{if(!K.tty)return-59;return 0}case 21505:{if(!K.tty)return-59;if(K.tty.ops.ioctl_tcgets){var Z=K.tty.ops.ioctl_tcgets(K),G=S.getp();O[G>>>2>>>0]=Z.c_iflag||0,O[G+4>>>2>>>0]=Z.c_oflag||0,O[G+8>>>2>>>0]=Z.c_cflag||0,O[G+12>>>2>>>0]=Z.c_lflag||0;for(var X=0;X<32;X++)f[G+X+17>>>0]=Z.c_cc[X]||0;return 0}return 0}case 21510:case 21511:case 21512:{if(!K.tty)return-59;return 0}case 21506:case 21507:case 21508:{if(!K.tty)return-59;if(K.tty.ops.ioctl_tcsets){var G=S.getp(),q=O[G>>>2>>>0],M=O[G+4>>>2>>>0],W=O[G+8>>>2>>>0],N=O[G+12>>>2>>>0],T=[];for(var X=0;X<32;X++)T.push(f[G+X+17>>>0]);return K.tty.ops.ioctl_tcsets(K.tty,$,{c_iflag:q,c_oflag:M,c_cflag:W,c_lflag:N,c_cc:T})}return 0}case 21519:{if(!K.tty)return-59;var G=S.getp();return O[G>>>2>>>0]=0,0}case 21520:{if(!K.tty)return-59;return-28}case 21531:{var G=S.getp();return V.ioctl(K,$,G)}case 21523:{if(!K.tty)return-59;if(K.tty.ops.ioctl_tiocgwinsz){var L=K.tty.ops.ioctl_tiocgwinsz(K.tty),G=S.getp();$Q[G>>>1>>>0]=L[0],$Q[G+2>>>1>>>0]=L[1]}return 0}case 21524:{if(!K.tty)return-59;return 0}case 21515:{if(!K.tty)return-59;return 0}default:return-28}}catch(D){if(typeof V=="undefined"||D.name!=="ErrnoError")throw D;return-D.errno}}function y$(Q,$){Q>>>=0,$>>>=0;try{return Q=S.getStr(Q),S.doStat(V.lstat,Q,$)}catch(J){if(typeof V=="undefined"||J.name!=="ErrnoError")throw J;return-J.errno}}function b$(Q,$,J,K){$>>>=0,J>>>=0;try{$=S.getStr($);var Z=K&256,G=K&4096;return K=K&-6401,$=S.calculateAt(Q,$,G),S.doStat(Z?V.lstat:V.stat,$,J)}catch(X){if(typeof V=="undefined"||X.name!=="ErrnoError")throw X;return-X.errno}}function g$(Q,$,J,K){$>>>=0,K>>>=0,S.varargs=K;try{$=S.getStr($),$=S.calculateAt(Q,$);var Z=K?S.get():0;return V.open($,J,Z).fd}catch(G){if(typeof V=="undefined"||G.name!=="ErrnoError")throw G;return-G.errno}}function _$(Q,$,J,K){$>>>=0,J>>>=0,K>>>=0;try{if($=S.getStr($),$=S.calculateAt(Q,$),K<=0)return-28;var Z=V.readlink($),G=Math.min(K,EQ(Z)),X=f[J+G>>>0];return a(Z,J,K+1),f[J+G>>>0]=X,G}catch(q){if(typeof V=="undefined"||q.name!=="ErrnoError")throw q;return-q.errno}}function c$(Q){Q>>>=0;try{return Q=S.getStr(Q),V.rmdir(Q),0}catch($){if(typeof V=="undefined"||$.name!=="ErrnoError")throw $;return-$.errno}}function h$(Q,$){Q>>>=0,$>>>=0;try{return Q=S.getStr(Q),S.doStat(V.stat,Q,$)}catch(J){if(typeof V=="undefined"||J.name!=="ErrnoError")throw J;return-J.errno}}function f$(Q,$,J){Q>>>=0,$>>>=0,J>>>=0;try{return Q=S.getStr(Q),O[J+4>>>2>>>0]=4096,O[J+40>>>2>>>0]=4096,O[J+8>>>2>>>0]=1e6,O[J+12>>>2>>>0]=500000,O[J+16>>>2>>>0]=500000,O[J+20>>>2>>>0]=V.nextInode,O[J+24>>>2>>>0]=1e6,O[J+28>>>2>>>0]=42,O[J+44>>>2>>>0]=2,O[J+36>>>2>>>0]=255,0}catch(K){if(typeof V=="undefined"||K.name!=="ErrnoError")throw K;return-K.errno}}function u$(Q,$,J){$>>>=0;try{if($=S.getStr($),$=S.calculateAt(Q,$),J===0)V.unlink($);else if(J===512)V.rmdir($);else qQ("Invalid flags passed to unlinkat");return 0}catch(K){if(typeof V=="undefined"||K.name!=="ErrnoError")throw K;return-K.errno}}var l$=1,m$=()=>l$,p$=()=>{$0=!1,X0=0},LQ=(Q)=>Q%4===0&&(Q%100!==0||Q%400===0),d$=[0,31,60,91,121,152,182,213,244,274,305,335],i$=[0,31,59,90,120,151,181,212,243,273,304,334],s$=(Q)=>{var $=LQ(Q.getFullYear()),J=$?d$:i$,K=J[Q.getMonth()]+Q.getDate()-1;return K};function o$(Q,$,J){var K=YQ(Q,$);J>>>=0;var Z=new Date(K*1000);O[J>>>2>>>0]=Z.getSeconds(),O[J+4>>>2>>>0]=Z.getMinutes(),O[J+8>>>2>>>0]=Z.getHours(),O[J+12>>>2>>>0]=Z.getDate(),O[J+16>>>2>>>0]=Z.getMonth(),O[J+20>>>2>>>0]=Z.getFullYear()-1900,O[J+24>>>2>>>0]=Z.getDay();var G=s$(Z)|0;O[J+28>>>2>>>0]=G,O[J+36>>>2>>>0]=-(Z.getTimezoneOffset()*60);var X=new Date(Z.getFullYear(),0,1),q=new Date(Z.getFullYear(),6,1).getTimezoneOffset(),M=X.getTimezoneOffset(),W=(q!=M&&Z.getTimezoneOffset()==Math.min(M,q))|0;O[J+32>>>2>>>0]=W}function n$(Q,$,J,K,Z,G,X,q){Q>>>=0;var M=YQ(Z,G);X>>>=0,q>>>=0;try{if(isNaN(M))return 61;var W=S.getStreamFromFD(K),N=V.mmap(W,Q,M,$,J),T=N.ptr;return O[X>>>2>>>0]=N.allocated,b[q>>>2>>>0]=T,0}catch(L){if(typeof V=="undefined"||L.name!=="ErrnoError")throw L;return-L.errno}}function r$(Q,$,J,K,Z,G,X){Q>>>=0,$>>>=0;var q=YQ(G,X);try{var M=S.getStreamFromFD(Z);if(J&2)S.doMsync(Q,M,$,K,q)}catch(W){if(typeof V=="undefined"||W.name!=="ErrnoError")throw W;return-W.errno}}var NQ={},G0=(Q)=>{if(Q instanceof Q0||Q=="unwind")return GQ;e(1,Q)},X0=0,q0=()=>$0||X0>0,Y0=(Q)=>{if(GQ=Q,!q0())Y.onExit?.(Q),TQ=!0;e(Q,new Q0(Q))},t$=(Q,$)=>{GQ=Q,Y0(Q)},M0=t$,a$=()=>{if(!q0())try{M0(GQ)}catch(Q){G0(Q)}},e$=(Q)=>{if(TQ)return;try{Q(),a$()}catch($){G0($)}},lQ;lQ=()=>performance.now();var QJ=(Q,$)=>{if(NQ[Q])clearTimeout(NQ[Q].id),delete NQ[Q];if(!$)return 0;var J=setTimeout(()=>{delete NQ[Q],e$(()=>U0(Q,lQ()))},$);return NQ[Q]={id:J,timeout_ms:$},0};function $J(Q,$,J,K){Q>>>=0,$>>>=0,J>>>=0,K>>>=0;var Z=new Date().getFullYear(),G=new Date(Z,0,1),X=new Date(Z,6,1),q=G.getTimezoneOffset(),M=X.getTimezoneOffset(),W=Math.max(q,M);b[Q>>>2>>>0]=W*60,O[$>>>2>>>0]=Number(q!=M);function N(D){var z=D.toTimeString().match(/\(([A-Za-z ]+)\)$/);return z?z[1]:"GMT"}var T=N(G),L=N(X);if(M<q)a(T,J,7),a(L,K,7);else a(T,K,7),a(L,J,7)}var JJ=()=>{qQ("")},KJ=()=>Date.now(),W0=()=>4294901760;function ZJ(){return W0()}function VJ(Q,$,J){return Q>>>=0,$>>>=0,J>>>=0,m.copyWithin(Q>>>0,$>>>0,$+J>>>0)}var GJ=(Q)=>{var $=RQ.buffer,J=(Q-$.byteLength+65535)/65536;try{return RQ.grow(J),iQ(),1}catch(K){}};function XJ(Q){Q>>>=0;var $=m.length,J=W0();if(Q>J)return!1;var K=(M,W)=>M+(W-M%W)%W;for(var Z=1;Z<=4;Z*=2){var G=$*(1+0.2/Z);G=Math.min(G,Q+100663296);var X=Math.min(J,K(Math.max(Q,G),65536)),q=GJ(X);if(q)return!0}return!1}var mQ={},qJ=()=>n||"./this.program",OQ=()=>{if(!OQ.strings){var Q=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",$={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:Q,_:qJ()};for(var J in mQ)if(mQ[J]===void 0)delete $[J];else $[J]=mQ[J];var K=[];for(var J in $)K.push(`${J}=${$[J]}`);OQ.strings=K}return OQ.strings},YJ=(Q,$)=>{for(var J=0;J<Q.length;++J)f[$++>>>0]=Q.charCodeAt(J);f[$>>>0]=0},MJ=function(Q,$){Q>>>=0,$>>>=0;var J=0;return OQ().forEach((K,Z)=>{var G=$+J;b[Q+Z*4>>>2>>>0]=G,YJ(K,G),J+=K.length+1}),0},WJ=function(Q,$){Q>>>=0,$>>>=0;var J=OQ();b[Q>>>2>>>0]=J.length;var K=0;return J.forEach((Z)=>K+=Z.length+1),b[$>>>2>>>0]=K,0};function BJ(Q){try{var $=S.getStreamFromFD(Q);return V.close($),0}catch(J){if(typeof V=="undefined"||J.name!=="ErrnoError")throw J;return J.errno}}function LJ(Q,$){$>>>=0;try{var J=0,K=0,Z=0,G=S.getStreamFromFD(Q),X=G.tty?2:V.isDir(G.mode)?3:V.isLink(G.mode)?7:4;return f[$>>>0]=X,$Q[$+2>>>1>>>0]=Z,w=[J>>>0,(I=J,+Math.abs(I)>=1?I>0?+Math.floor(I/4294967296)>>>0:~~+Math.ceil((I-+(~~I>>>0))/4294967296)>>>0:0)],O[$+8>>>2>>>0]=w[0],O[$+12>>>2>>>0]=w[1],w=[K>>>0,(I=K,+Math.abs(I)>=1?I>0?+Math.floor(I/4294967296)>>>0:~~+Math.ceil((I-+(~~I>>>0))/4294967296)>>>0:0)],O[$+16>>>2>>>0]=w[0],O[$+20>>>2>>>0]=w[1],0}catch(q){if(typeof V=="undefined"||q.name!=="ErrnoError")throw q;return q.errno}}var B0=(Q,$,J,K)=>{var Z=0;for(var G=0;G<J;G++){var X=b[$>>>2>>>0],q=b[$+4>>>2>>>0];$+=8;var M=V.read(Q,f,X,q,K);if(M<0)return-1;if(Z+=M,M<q)break;if(typeof K!=="undefined")K+=M}return Z};function NJ(Q,$,J,K,Z,G){$>>>=0,J>>>=0;var X=YQ(K,Z);G>>>=0;try{if(isNaN(X))return 61;var q=S.getStreamFromFD(Q),M=B0(q,$,J,X);return b[G>>>2>>>0]=M,0}catch(W){if(typeof V=="undefined"||W.name!=="ErrnoError")throw W;return W.errno}}function OJ(Q,$,J,K){$>>>=0,J>>>=0,K>>>=0;try{var Z=S.getStreamFromFD(Q),G=B0(Z,$,J);return b[K>>>2>>>0]=G,0}catch(X){if(typeof V=="undefined"||X.name!=="ErrnoError")throw X;return X.errno}}function DJ(Q,$,J,K,Z){var G=YQ($,J);Z>>>=0;try{if(isNaN(G))return 61;var X=S.getStreamFromFD(Q);if(V.llseek(X,G,K),w=[X.position>>>0,(I=X.position,+Math.abs(I)>=1?I>0?+Math.floor(I/4294967296)>>>0:~~+Math.ceil((I-+(~~I>>>0))/4294967296)>>>0:0)],O[Z>>>2>>>0]=w[0],O[Z+4>>>2>>>0]=w[1],X.getdents&&G===0&&K===0)X.getdents=null;return 0}catch(q){if(typeof V=="undefined"||q.name!=="ErrnoError")throw q;return q.errno}}var jJ=(Q,$,J,K)=>{var Z=0;for(var G=0;G<J;G++){var X=b[$>>>2>>>0],q=b[$+4>>>2>>>0];$+=8;var M=V.write(Q,f,X,q,K);if(M<0)return-1;if(Z+=M,typeof K!=="undefined")K+=M}return Z};function UJ(Q,$,J,K){$>>>=0,J>>>=0,K>>>=0;try{var Z=S.getStreamFromFD(Q),G=jJ(Z,$,J);return b[K>>>2>>>0]=G,0}catch(X){if(typeof V=="undefined"||X.name!=="ErrnoError")throw X;return X.errno}}function CJ(Q,$){return Q>>>=0,$>>>=0,cQ(m.subarray(Q>>>0,Q+$>>>0)),0}function FJ(Q){return Q>>>=0,Q}var RJ=(Q,$)=>{var J=0;for(var K=0;K<=$;J+=Q[K++]);return J},L0=[31,29,31,30,31,30,31,31,30,31,30,31],N0=[31,28,31,30,31,30,31,31,30,31,30,31],TJ=(Q,$)=>{var J=new Date(Q.getTime());while($>0){var K=LQ(J.getFullYear()),Z=J.getMonth(),G=(K?L0:N0)[Z];if($>G-J.getDate())if($-=G-J.getDate()+1,J.setDate(1),Z<11)J.setMonth(Z+1);else J.setMonth(0),J.setFullYear(J.getFullYear()+1);else return J.setDate(J.getDate()+$),J}return J},IJ=(Q,$)=>{f.set(Q,$>>>0)};function O0(Q,$,J,K){Q>>>=0,$>>>=0,J>>>=0,K>>>=0;var Z=b[K+40>>>2>>>0],G={tm_sec:O[K>>>2>>>0],tm_min:O[K+4>>>2>>>0],tm_hour:O[K+8>>>2>>>0],tm_mday:O[K+12>>>2>>>0],tm_mon:O[K+16>>>2>>>0],tm_year:O[K+20>>>2>>>0],tm_wday:O[K+24>>>2>>>0],tm_yday:O[K+28>>>2>>>0],tm_isdst:O[K+32>>>2>>>0],tm_gmtoff:O[K+36>>>2>>>0],tm_zone:Z?AQ(Z):""},X=AQ(J),q={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var M in q)X=X.replace(new RegExp(M,"g"),q[M]);var W=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],N=["January","February","March","April","May","June","July","August","September","October","November","December"];function T(B,j,x){var g=typeof B=="number"?B.toString():B||"";while(g.length<j)g=x[0]+g;return g}function L(B,j){return T(B,j,"0")}function D(B,j){function x(h){return h<0?-1:h>0?1:0}var g;if((g=x(B.getFullYear()-j.getFullYear()))===0){if((g=x(B.getMonth()-j.getMonth()))===0)g=x(B.getDate()-j.getDate())}return g}function z(B){switch(B.getDay()){case 0:return new Date(B.getFullYear()-1,11,29);case 1:return B;case 2:return new Date(B.getFullYear(),0,3);case 3:return new Date(B.getFullYear(),0,2);case 4:return new Date(B.getFullYear(),0,1);case 5:return new Date(B.getFullYear()-1,11,31);case 6:return new Date(B.getFullYear()-1,11,30)}}function _(B){var j=TJ(new Date(B.tm_year+1900,0,1),B.tm_yday),x=new Date(j.getFullYear(),0,4),g=new Date(j.getFullYear()+1,0,4),h=z(x),eK=z(g);if(D(h,j)<=0){if(D(eK,j)<=0)return j.getFullYear()+1;return j.getFullYear()}return j.getFullYear()-1}var y={"%a":(B)=>W[B.tm_wday].substring(0,3),"%A":(B)=>W[B.tm_wday],"%b":(B)=>N[B.tm_mon].substring(0,3),"%B":(B)=>N[B.tm_mon],"%C":(B)=>{var j=B.tm_year+1900;return L(j/100|0,2)},"%d":(B)=>L(B.tm_mday,2),"%e":(B)=>T(B.tm_mday,2," "),"%g":(B)=>_(B).toString().substring(2),"%G":_,"%H":(B)=>L(B.tm_hour,2),"%I":(B)=>{var j=B.tm_hour;if(j==0)j=12;else if(j>12)j-=12;return L(j,2)},"%j":(B)=>L(B.tm_mday+RJ(LQ(B.tm_year+1900)?L0:N0,B.tm_mon-1),3),"%m":(B)=>L(B.tm_mon+1,2),"%M":(B)=>L(B.tm_min,2),"%n":()=>"\n","%p":(B)=>{if(B.tm_hour>=0&&B.tm_hour<12)return"AM";return"PM"},"%S":(B)=>L(B.tm_sec,2),"%t":()=>"\t","%u":(B)=>B.tm_wday||7,"%U":(B)=>{var j=B.tm_yday+7-B.tm_wday;return L(Math.floor(j/7),2)},"%V":(B)=>{var j=Math.floor((B.tm_yday+7-(B.tm_wday+6)%7)/7);if((B.tm_wday+371-B.tm_yday-2)%7<=2)j++;if(!j){j=52;var x=(B.tm_wday+7-B.tm_yday-1)%7;if(x==4||x==5&&LQ(B.tm_year%400-1))j++}else if(j==53){var g=(B.tm_wday+371-B.tm_yday)%7;if(g!=4&&(g!=3||!LQ(B.tm_year)))j=1}return L(j,2)},"%w":(B)=>B.tm_wday,"%W":(B)=>{var j=B.tm_yday+7-(B.tm_wday+6)%7;return L(Math.floor(j/7),2)},"%y":(B)=>(B.tm_year+1900).toString().substring(2),"%Y":(B)=>B.tm_year+1900,"%z":(B)=>{var j=B.tm_gmtoff,x=j>=0;return j=Math.abs(j)/60,j=j/60*100+j%60,(x?"+":"-")+String("0000"+j).slice(-4)},"%Z":(B)=>B.tm_zone,"%%":()=>"%"};X=X.replace(/%%/g,"\0\0");for(var M in y)if(X.includes(M))X=X.replace(new RegExp(M,"g"),y[M](G));X=X.replace(/\0\0/g,"%");var k=BQ(X,!1);if(k.length>$)return 0;return IJ(k,Q),k.length-1}function HJ(Q,$,J,K,Z){return Q>>>=0,$>>>=0,J>>>=0,K>>>=0,Z>>>=0,O0(Q,$,J,K)}var zJ=0,SJ=1,EJ=(Q,$)=>{var J;if($==SJ)J=C0(Q.length);else J=D0(Q.length);if(!Q.subarray&&!Q.slice)Q=new Uint8Array(Q);return m.set(Q,J>>>0),J};V.createPreloadedFile=z$,V.staticInit();var AJ={za:X$,r:q$,s:Y$,a:W$,k:B$,I:L$,W:K0,qa:N$,t:O$,ra:D$,d:M$,Ka:E$,La:A$,y:P$,Ga:k$,Ca:w$,ya:x$,Ha:v$,Da:y$,Ea:b$,P:g$,xa:_$,wa:c$,Fa:h$,va:f$,N:u$,Ia:m$,Aa:p$,_a:o$,Ya:n$,Za:r$,X:QJ,ta:$J,f:JJ,_:KJ,ua:ZJ,Z:lQ,Ja:VJ,sa:XJ,Na:MJ,Oa:WJ,A:M0,D:BJ,Ba:LJ,Xa:NJ,Y:OJ,$a:DJ,O:UJ,na:CJ,$:AK,J:JK,Qa:RK,M:wK,da:VK,V:kK,v:KK,c:mJ,ca:qK,Ta:XK,e:dJ,h:oJ,S:TK,Ra:FK,o:$K,pa:PK,p:rJ,u:aJ,x:jK,T:DK,L:CK,E:UK,Va:rK,gb:lK,la:vK,ab:oK,Wa:nK,eb:pK,ma:xK,Ua:tK,cb:iK,db:dK,n:eJ,i:sJ,F:MK,fa:hK,U:YK,b:pJ,B:iJ,ga:cK,ea:ZK,g:lJ,ja:bK,l:QK,j:tJ,m:nJ,q:GK,z:WK,G:OK,C:zK,R:HK,K:IK,H:NK,Q:SK,Sa:LK,aa:EK,ba:BK,ka:yK,fb:mK,bb:sK,ia:gK,ha:_K,hb:uK,ib:fK,w:FJ,Ma:Y0,Pa:O0,oa:HJ},H=G$(),PJ=()=>(PJ=H.kb)(),kJ=Y._getCmajorVersion=()=>(kJ=Y._getCmajorVersion=H.lb)(),wJ=Y._initialise=(Q)=>(wJ=Y._initialise=H.mb)(Q),xJ=Y._addFile=(Q,$,J)=>(xJ=Y._addFile=H.nb)(Q,$,J),vJ=Y._generate=()=>(vJ=Y._generate=H.ob)(),yJ=Y._getUnresolvedResourceFiles=()=>(yJ=Y._getUnresolvedResourceFiles=H.pb)(),bJ=Y._getMessages=()=>(bJ=Y._getMessages=H.qb)(),gJ=Y._getGeneratedCode=()=>(gJ=Y._getGeneratedCode=H.rb)(),_J=Y._free=(Q)=>(_J=Y._free=H.sb)(Q),cJ=(Q)=>(cJ=H.__cxa_free_exception)(Q),D0=Y._malloc=(Q)=>(D0=Y._malloc=H.tb)(Q),hJ=Y.__ZN4llvm3orc14linkComponentsEv=()=>(hJ=Y.__ZN4llvm3orc14linkComponentsEv=H.vb)(),DQ=(Q)=>(DQ=H.wb)(Q),fJ=(Q)=>(fJ=H.htons)(Q),j0=(Q,$)=>(j0=H.xb)(Q,$),uJ=(Q)=>(uJ=H.ntohs)(Q),U0=(Q,$)=>(U0=H.yb)(Q,$),U=(Q,$)=>(U=H.zb)(Q,$),C=()=>(C=H.Ab)(),F=(Q)=>(F=H.Bb)(Q),C0=(Q)=>(C0=H.Cb)(Q),F0=(Q)=>(F0=H.Db)(Q),R0=(Q)=>(R0=H.Eb)(Q),T0=(Q,$,J)=>(T0=H.Fb)(Q,$,J),I0=(Q)=>(I0=H.Gb)(Q),H0=Y.dynCall_jii=(Q,$,J)=>(H0=Y.dynCall_jii=H.Hb)(Q,$,J),z0=Y.dynCall_iiji=(Q,$,J,K,Z)=>(z0=Y.dynCall_iiji=H.Ib)(Q,$,J,K,Z),S0=Y.dynCall_viiiiiij=(Q,$,J,K,Z,G,X,q,M)=>(S0=Y.dynCall_viiiiiij=H.Jb)(Q,$,J,K,Z,G,X,q,M),E0=Y.dynCall_viiidji=(Q,$,J,K,Z,G,X,q)=>(E0=Y.dynCall_viiidji=H.Kb)(Q,$,J,K,Z,G,X,q),A0=Y.dynCall_viidji=(Q,$,J,K,Z,G,X)=>(A0=Y.dynCall_viidji=H.Lb)(Q,$,J,K,Z,G,X),P0=Y.dynCall_viij=(Q,$,J,K,Z)=>(P0=Y.dynCall_viij=H.Mb)(Q,$,J,K,Z),k0=Y.dynCall_vidj=(Q,$,J,K,Z)=>(k0=Y.dynCall_vidj=H.Nb)(Q,$,J,K,Z),w0=Y.dynCall_viji=(Q,$,J,K,Z)=>(w0=Y.dynCall_viji=H.Ob)(Q,$,J,K,Z),x0=Y.dynCall_vij=(Q,$,J,K)=>(x0=Y.dynCall_vij=H.Pb)(Q,$,J,K),v0=Y.dynCall_iij=(Q,$,J,K)=>(v0=Y.dynCall_iij=H.Qb)(Q,$,J,K),y0=Y.dynCall_viiiiij=(Q,$,J,K,Z,G,X,q)=>(y0=Y.dynCall_viiiiij=H.Rb)(Q,$,J,K,Z,G,X,q),b0=Y.dynCall_ji=(Q,$)=>(b0=Y.dynCall_ji=H.Sb)(Q,$),g0=Y.dynCall_jiijjj=(Q,$,J,K,Z,G,X,q,M)=>(g0=Y.dynCall_jiijjj=H.Tb)(Q,$,J,K,Z,G,X,q,M),_0=Y.dynCall_iijijj=(Q,$,J,K,Z,G,X,q,M)=>(_0=Y.dynCall_iijijj=H.Ub)(Q,$,J,K,Z,G,X,q,M),c0=Y.dynCall_viiij=(Q,$,J,K,Z,G)=>(c0=Y.dynCall_viiij=H.Vb)(Q,$,J,K,Z,G),h0=Y.dynCall_iiiiij=(Q,$,J,K,Z,G,X)=>(h0=Y.dynCall_iiiiij=H.Wb)(Q,$,J,K,Z,G,X),f0=Y.dynCall_viijii=(Q,$,J,K,Z,G,X)=>(f0=Y.dynCall_viijii=H.Xb)(Q,$,J,K,Z,G,X),u0=Y.dynCall_j=(Q)=>(u0=Y.dynCall_j=H.Yb)(Q),l0=Y.dynCall_jiiii=(Q,$,J,K,Z)=>(l0=Y.dynCall_jiiii=H.Zb)(Q,$,J,K,Z),m0=Y.dynCall_jiiij=(Q,$,J,K,Z,G)=>(m0=Y.dynCall_jiiij=H._b)(Q,$,J,K,Z,G);function lJ(Q,$,J,K){var Z=C();try{A(Q)($,J,K)}catch(G){if(F(Z),G!==G+0)throw G;U(1,0)}}function mJ(Q,$){var J=C();try{return A(Q)($)}catch(K){if(F(J),K!==K+0)throw K;U(1,0)}}function pJ(Q,$,J){var K=C();try{A(Q)($,J)}catch(Z){if(F(K),Z!==Z+0)throw Z;U(1,0)}}function dJ(Q,$,J){var K=C();try{return A(Q)($,J)}catch(Z){if(F(K),Z!==Z+0)throw Z;U(1,0)}}function iJ(Q,$,J,K){var Z=C();try{A(Q)($,J,K)}catch(G){if(F(Z),G!==G+0)throw G;U(1,0)}}function sJ(Q,$){var J=C();try{A(Q)($)}catch(K){if(F(J),K!==K+0)throw K;U(1,0)}}function oJ(Q,$,J,K){var Z=C();try{return A(Q)($,J,K)}catch(G){if(F(Z),G!==G+0)throw G;U(1,0)}}function nJ(Q,$,J,K,Z,G,X){var q=C();try{A(Q)($,J,K,Z,G,X)}catch(M){if(F(q),M!==M+0)throw M;U(1,0)}}function rJ(Q,$,J,K,Z,G){var X=C();try{return A(Q)($,J,K,Z,G)}catch(q){if(F(X),q!==q+0)throw q;U(1,0)}}function tJ(Q,$,J,K,Z,G){var X=C();try{A(Q)($,J,K,Z,G)}catch(q){if(F(X),q!==q+0)throw q;U(1,0)}}function aJ(Q,$,J,K,Z,G,X){var q=C();try{return A(Q)($,J,K,Z,G,X)}catch(M){if(F(q),M!==M+0)throw M;U(1,0)}}function eJ(Q){var $=C();try{A(Q)()}catch(J){if(F($),J!==J+0)throw J;U(1,0)}}function QK(Q,$,J,K,Z){var G=C();try{A(Q)($,J,K,Z)}catch(X){if(F(G),X!==X+0)throw X;U(1,0)}}function $K(Q,$,J,K,Z){var G=C();try{return A(Q)($,J,K,Z)}catch(X){if(F(G),X!==X+0)throw X;U(1,0)}}function JK(Q,$,J){var K=C();try{return A(Q)($,J)}catch(Z){if(F(K),Z!==Z+0)throw Z;U(1,0)}}function KK(Q){var $=C();try{return A(Q)()}catch(J){if(F($),J!==J+0)throw J;U(1,0)}}function ZK(Q,$,J,K){var Z=C();try{A(Q)($,J,K)}catch(G){if(F(Z),G!==G+0)throw G;U(1,0)}}function VK(Q,$,J){var K=C();try{return A(Q)($,J)}catch(Z){if(F(K),Z!==Z+0)throw Z;U(1,0)}}function GK(Q,$,J,K,Z,G,X,q){var M=C();try{A(Q)($,J,K,Z,G,X,q)}catch(W){if(F(M),W!==W+0)throw W;U(1,0)}}function XK(Q,$,J){var K=C();try{return A(Q)($,J)}catch(Z){if(F(K),Z!==Z+0)throw Z;U(1,0)}}function qK(Q,$,J){var K=C();try{return A(Q)($,J)}catch(Z){if(F(K),Z!==Z+0)throw Z;U(1,0)}}function YK(Q,$,J){var K=C();try{A(Q)($,J)}catch(Z){if(F(K),Z!==Z+0)throw Z;U(1,0)}}function MK(Q,$,J){var K=C();try{A(Q)($,J)}catch(Z){if(F(K),Z!==Z+0)throw Z;U(1,0)}}function WK(Q,$,J,K,Z,G,X,q,M){var W=C();try{A(Q)($,J,K,Z,G,X,q,M)}catch(N){if(F(W),N!==N+0)throw N;U(1,0)}}function BK(Q,$,J,K,Z,G,X,q,M,W,N,T,L,D,z,_,y,k,B,j){var x=C();try{A(Q)($,J,K,Z,G,X,q,M,W,N,T,L,D,z,_,y,k,B,j)}catch(g){if(F(x),g!==g+0)throw g;U(1,0)}}function LK(Q,$,J,K,Z,G,X,q,M,W,N,T,L,D,z,_,y,k){var B=C();try{A(Q)($,J,K,Z,G,X,q,M,W,N,T,L,D,z,_,y,k)}catch(j){if(F(B),j!==j+0)throw j;U(1,0)}}function NK(Q,$,J,K,Z,G,X,q,M,W,N,T,L,D,z,_){var y=C();try{A(Q)($,J,K,Z,G,X,q,M,W,N,T,L,D,z,_)}catch(k){if(F(y),k!==k+0)throw k;U(1,0)}}function OK(Q,$,J,K,Z,G,X,q,M,W){var N=C();try{A(Q)($,J,K,Z,G,X,q,M,W)}catch(T){if(F(N),T!==T+0)throw T;U(1,0)}}function DK(Q,$,J,K,Z,G,X,q,M){var W=C();try{return A(Q)($,J,K,Z,G,X,q,M)}catch(N){if(F(W),N!==N+0)throw N;U(1,0)}}function jK(Q,$,J,K,Z,G,X,q){var M=C();try{return A(Q)($,J,K,Z,G,X,q)}catch(W){if(F(M),W!==W+0)throw W;U(1,0)}}function UK(Q,$,J,K,Z,G,X,q,M,W,N,T){var L=C();try{return A(Q)($,J,K,Z,G,X,q,M,W,N,T)}catch(D){if(F(L),D!==D+0)throw D;U(1,0)}}function CK(Q,$,J,K,Z,G,X,q,M,W){var N=C();try{return A(Q)($,J,K,Z,G,X,q,M,W)}catch(T){if(F(N),T!==T+0)throw T;U(1,0)}}function FK(Q,$,J,K,Z,G,X){var q=C();try{return A(Q)($,J,K,Z,G,X)}catch(M){if(F(q),M!==M+0)throw M;U(1,0)}}function RK(Q,$,J,K,Z,G){var X=C();try{return A(Q)($,J,K,Z,G)}catch(q){if(F(X),q!==q+0)throw q;U(1,0)}}function TK(Q,$,J,K,Z){var G=C();try{return A(Q)($,J,K,Z)}catch(X){if(F(G),X!==X+0)throw X;U(1,0)}}function IK(Q,$,J,K,Z,G,X,q,M,W,N,T,L,D,z){var _=C();try{A(Q)($,J,K,Z,G,X,q,M,W,N,T,L,D,z)}catch(y){if(F(_),y!==y+0)throw y;U(1,0)}}function HK(Q,$,J,K,Z,G,X,q,M,W,N,T,L){var D=C();try{A(Q)($,J,K,Z,G,X,q,M,W,N,T,L)}catch(z){if(F(D),z!==z+0)throw z;U(1,0)}}function zK(Q,$,J,K,Z,G,X,q,M,W,N){var T=C();try{A(Q)($,J,K,Z,G,X,q,M,W,N)}catch(L){if(F(T),L!==L+0)throw L;U(1,0)}}function SK(Q,$,J,K,Z,G,X,q,M,W,N,T,L,D,z,_,y){var k=C();try{A(Q)($,J,K,Z,G,X,q,M,W,N,T,L,D,z,_,y)}catch(B){if(F(k),B!==B+0)throw B;U(1,0)}}function EK(Q,$,J,K,Z,G,X,q,M,W,N,T,L,D,z,_,y,k,B){var j=C();try{A(Q)($,J,K,Z,G,X,q,M,W,N,T,L,D,z,_,y,k,B)}catch(x){if(F(j),x!==x+0)throw x;U(1,0)}}function AK(Q,$){var J=C();try{return A(Q)($)}catch(K){if(F(J),K!==K+0)throw K;U(1,0)}}function PK(Q,$,J,K,Z,G){var X=C();try{return A(Q)($,J,K,Z,G)}catch(q){if(F(X),q!==q+0)throw q;U(1,0)}}function kK(Q,$,J,K){var Z=C();try{return A(Q)($,J,K)}catch(G){if(F(Z),G!==G+0)throw G;U(1,0)}}function wK(Q,$,J,K){var Z=C();try{return A(Q)($,J,K)}catch(G){if(F(Z),G!==G+0)throw G;U(1,0)}}function xK(Q,$,J){var K=C();try{return H0(Q,$,J)}catch(Z){if(F(K),Z!==Z+0)throw Z;U(1,0)}}function vK(Q,$,J,K,Z){var G=C();try{return z0(Q,$,J,K,Z)}catch(X){if(F(G),X!==X+0)throw X;U(1,0)}}function yK(Q,$,J,K,Z,G,X,q,M){var W=C();try{S0(Q,$,J,K,Z,G,X,q,M)}catch(N){if(F(W),N!==N+0)throw N;U(1,0)}}function bK(Q,$,J,K,Z,G,X,q){var M=C();try{E0(Q,$,J,K,Z,G,X,q)}catch(W){if(F(M),W!==W+0)throw W;U(1,0)}}function gK(Q,$,J,K,Z){var G=C();try{P0(Q,$,J,K,Z)}catch(X){if(F(G),X!==X+0)throw X;U(1,0)}}function _K(Q,$,J,K,Z,G,X){var q=C();try{f0(Q,$,J,K,Z,G,X)}catch(M){if(F(q),M!==M+0)throw M;U(1,0)}}function cK(Q,$,J,K,Z,G,X){var q=C();try{A0(Q,$,J,K,Z,G,X)}catch(M){if(F(q),M!==M+0)throw M;U(1,0)}}function hK(Q,$,J,K,Z){var G=C();try{k0(Q,$,J,K,Z)}catch(X){if(F(G),X!==X+0)throw X;U(1,0)}}function fK(Q,$,J,K,Z){var G=C();try{w0(Q,$,J,K,Z)}catch(X){if(F(G),X!==X+0)throw X;U(1,0)}}function uK(Q,$,J,K){var Z=C();try{x0(Q,$,J,K)}catch(G){if(F(Z),G!==G+0)throw G;U(1,0)}}function lK(Q,$,J,K){var Z=C();try{return v0(Q,$,J,K)}catch(G){if(F(Z),G!==G+0)throw G;U(1,0)}}function mK(Q,$,J,K,Z,G,X,q){var M=C();try{y0(Q,$,J,K,Z,G,X,q)}catch(W){if(F(M),W!==W+0)throw W;U(1,0)}}function pK(Q,$){var J=C();try{return b0(Q,$)}catch(K){if(F(J),K!==K+0)throw K;U(1,0)}}function dK(Q,$,J,K,Z,G,X,q,M){var W=C();try{return g0(Q,$,J,K,Z,G,X,q,M)}catch(N){if(F(W),N!==N+0)throw N;U(1,0)}}function iK(Q,$,J,K,Z,G){var X=C();try{return m0(Q,$,J,K,Z,G)}catch(q){if(F(X),q!==q+0)throw q;U(1,0)}}function sK(Q,$,J,K,Z,G){var X=C();try{c0(Q,$,J,K,Z,G)}catch(q){if(F(X),q!==q+0)throw q;U(1,0)}}function oK(Q,$,J,K,Z,G,X,q,M){var W=C();try{return _0(Q,$,J,K,Z,G,X,q,M)}catch(N){if(F(W),N!==N+0)throw N;U(1,0)}}function nK(Q){var $=C();try{return u0(Q)}catch(J){if(F($),J!==J+0)throw J;U(1,0)}}function rK(Q,$,J,K,Z,G,X){var q=C();try{return h0(Q,$,J,K,Z,G,X)}catch(M){if(F(q),M!==M+0)throw M;U(1,0)}}function tK(Q,$,J,K,Z){var G=C();try{return l0(Q,$,J,K,Z)}catch(X){if(F(G),X!==X+0)throw X;U(1,0)}}function aK(Q){Q=Object.assign({},Q);var $=(Z)=>(G)=>Z(G)>>>0,J=(Z)=>(G,X)=>Z(G,X)>>>0,K=(Z)=>()=>Z()>>>0;return Q.tb=$(Q.tb),Q.xb=J(Q.xb),Q.Ab=K(Q.Ab),Q.Cb=$(Q.Cb),Q}Y.UTF8ToString=AQ,Y.intArrayFromString=BQ,Y.ALLOC_NORMAL=zJ,Y.allocate=EJ;var PQ;XQ=function Q(){if(!PQ)p0();if(!PQ)XQ=Q};function p0(){if(r>0)return;if(t0(),r>0)return;function Q(){if(PQ)return;if(PQ=!0,Y.calledRun=!0,TQ)return;if(a0(),c(Y),Y.onRuntimeInitialized)Y.onRuntimeInitialized();e0()}if(Y.setStatus)Y.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Y.setStatus("")},1),Q()},1);else Q()}if(Y.preInit){if(typeof Y.preInit=="function")Y.preInit=[Y.preInit];while(Y.preInit.length>0)Y.preInit.pop()()}return p0(),E.ready}})(),d0=$Z;class kQ{constructor(){this.CmajorVersion="unknown",this.baseURL="",this.sources=[]}setManifestURL(R,E){if(typeof R!=="URL")R=new URL(R);if(!R.href.endsWith("/"))R=new URL(R.href+"/");this.readPatchFile=async(Y)=>{const c=new URL(Y,R),u=await fetch(c);return new Uint8Array(await u.arrayBuffer())},this.baseURL=R,this.manifestPath=E}addSourceFile(R,E){for(let Y of this.sources)if(Y.path==R){Y.content=E;return}this.sources.push({path:R,content:E})}async createJavascriptCode(){const R=await d0();this.CmajorVersion=R.UTF8ToString(R._getCmajorVersion());for(;;){R._initialise(128);const E=(Y)=>{if(Y instanceof Uint8Array)return Y;if(typeof Y=="string")return new TextEncoder().encode(Y);throw new Error(`The content type of source "${Y}" was not supported`)};await this.addKnownFilesFromManifest();for(let Y of this.sources){const c=R.allocate(R.intArrayFromString(Y.path),R.ALLOC_NORMAL),u=E(Y.content),i=R.allocate(u,R.ALLOC_NORMAL);R._addFile(c,i,u.length),R._free(c),R._free(i)}if(!R._generate()){const Y=R.UTF8ToString(R._getUnresolvedResourceFiles());if(Y?.length>0){const c=JSON.parse(Y);if(c?.length>0){for(let u of c)await this.getSourceFileContent(u);continue}}throw new Error(R.UTF8ToString(R._getMessages()))}return R.UTF8ToString(R._getGeneratedCode())}}async getSourceFileContent(R){for(let Y of this.sources)if(Y.path==R)return Y.content;let E;if(this.readPatchFile)E=await this.readPatchFile(R),this.addSourceFile(R,E);if(!E)throw new Error("Could not read required file "+R);return E}async getSourceFileContentAsString(R){const E=await this.getSourceFileContent(R);if(typeof E==="string")return E;return await new TextDecoder("utf-8").decode(E)}async readManifest(){const R=()=>{if(this.manifestPath)return this.manifestPath;for(let E of this.sources)if(E.path.endsWith(".cmajorpatch"))return E.path;throw new Error("Couldn't find a manifest file")};return JSON.parse(await this.getSourceFileContentAsString(R()))}async addKnownFilesFromManifest(){const R=async(Y)=>{if(Y instanceof Array)for(let c of Y)await R(c.toString());else if(Y){const c=await this.getSourceFileContent(Y.toString());this.addSourceFile(Y.toString(),c)}},E=await this.readManifest();await R(E.source),await R(E.patchworker)}}var pQ=(R)=>R.split("/").map((E)=>E.trim()).filter((E)=>(E||".")!=".").filter((E,Y,c)=>E!=".."&&c[Y+1]!="..").join("/");self.onmessage=async function(R){try{const E=new kQ,Y=R.data.files,c=R.data.manifest,u=R.data.manifestPath,i=pQ(u+"/..");c.source=[c.source??[]].flat().map((n)=>pQ(n)),Y[R.data.manifestPath]=JSON.stringify(c),Object.entries(Y).forEach(([n,e])=>E.addSourceFile(pQ(n.substring(i.length)),e));const jQ=await E.createJavascriptCode();self.postMessage({code:jQ,version:E.CmajorVersion})}catch(E){console.error(E),self.postMessage({error:E})}};

//# debugId=246EAFFF89CF013A64756E2164756E21
//# sourceMappingURL=cmajor.worker.js.map
